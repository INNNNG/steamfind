/* Third-party software licenses can be found at licenses.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+VX6":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return p});var r="{STEAM_CLAN_IMAGE}",i=20,a=/^.*youtube[^v]+v=(.{11}).*/,o=/^.*youtu\.be\/(.{11}).*/,s=/^.*youtube.*\/embed\/(.{11}).*/,c=/^.*[?&]t=([^&]+)(?:&|$)/,l=/^(?:(?:([\d]+)h)?(?:([\d]+)m)?(?:([\d]+)s)?|([\d]+))$/;function u(e){var t=(null==e?void 0:e.length)<i?void 0:a.exec(e)||o.exec(e)||s.exec(e);return null==t?void 0:t[1]}function p(e){var t=u(e);if(t){var n,r,i=(n=e,null==(r=c.exec(n))?void 0:r[1]);return{strVideoID:t,nStartSeconds:i?function(e){var t=l.exec(e);if(null!=t&&t[1]||null!=t&&t[2]||null!=t&&t[3]||null!=t&&t[4]){if(null!=t&&t[4])return parseInt(null==t?void 0:t[4]);var n=0;return null!=t&&t[1]&&(n+=3600*parseInt(t[1])),null!=t&&t[2]&&(n+=60*parseInt(t[2])),null!=t&&t[3]&&(n+=parseInt(t[3])),n}}(i):void 0}}}},"+d9t":function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return b}),n.d(t,"b",function(){return _});var c=n("mrSG"),l=n("q1tI"),r=n("y+6m"),i=n("TLQK"),a=n("X3Ds"),o=n("TtDX"),u=n("lkRc"),s=(n("2vnA"),n("M4wp"),n("exH9"));function p(e,t){var n="currentTarget"in e?e.currentTarget.ownerDocument.defaultView:e;0==t.indexOf("steam://")?n.location.href=t:n.open(t,null,"menubar,location,resizable,scrollbars,status,noopener")}function d(e){var t=e.bDisableContextMenu,n=e.onContextMenu,r=e.bForceExternal,i=e.href,a=e.bUseLinkFilter,o=e.getPIDFromEvent,s=Object(c.f)(e,["bDisableContextMenu","onContextMenu","bForceExternal","href","bUseLinkFilter","getPIDFromEvent"]);return t||n||(n=h),a&&i&&(i=(u.c.IN_CLIENT?"steam://openurl_external/":"")+u.c.COMMUNITY_BASE_URL+"linkfilter/?url="+i),o=o||function(){return 0},l.createElement("a",Object(c.a)({},s,{href:i,onClick:function(e){e.preventDefault(),f(window,i,{bForceExternal:!!r,bUseLinkFilter:!!a,unPID:o(e)})},onContextMenu:n,rel:a?"noopener noreferrer":void 0}),e.children)}function m(e){var t=e.strURL,n=e.unPID;return l.createElement(l.Fragment,null,l.createElement(r.d,{onSelected:function(){a.h(t)}},Object(i.f)("#ContextMenu_CopyLinkURL")),l.createElement(r.d,{onSelected:function(e){f(e,t,{unPID:n})}},Object(i.f)("#ContextMenu_OpenLinkInNewWindow")))}function h(e,t){var n=e.currentTarget;return Object(o.a)(l.createElement(r.c,null,l.createElement(m,{strURL:n.href,unPID:t})),e)}function f(e,t,n){void 0===n&&(n={});var r=n.bForceExternal,i=n.unPID,a=n.bUseLinkFilter,o="currentTarget"in e?e.currentTarget.ownerDocument.defaultView:e;"undefined"!=typeof SteamClient&&void 0!==SteamClient.WebChat?SteamClient.WebChat.OpenURLInClient(t,i||0,!!r):0==t.indexOf("steam://")&&0!=t.indexOf("steam://remoteplay/connect")?o.location.href=t:o.open(t,null,"menubar,location,resizable,scrollbars,status,noopener"+(a?",noreferrer":""))}function b(e){var t=e.component,n=e.fallback,r=Object(c.f)(e,["component","fallback"]),i=l.useState([t,n])[0],a=i[0],o=i[1],s=null!=a?a:o;return l.createElement(s,r)}function _(n){return l.forwardRef(function(e,t){return l.createElement("div",Object(c.a)({},e,{className:Object(s.a)(n,e.className),ref:t}))})}},"+g3F":function(e,t,n){e.exports={LanguageHeader:"curatorfeedbrowse_LanguageHeader_3lQvI",CuratorInfoRow:"curatorfeedbrowse_CuratorInfoRow_3tR2d",CuratorInfoImg:"curatorfeedbrowse_CuratorInfoImg_1BVHF",CuratorInfoName:"curatorfeedbrowse_CuratorInfoName_2X1CS",CuratorInfoTitleCtn:"curatorfeedbrowse_CuratorInfoTitleCtn_3odsm",CuratorInfoActionCtn:"curatorfeedbrowse_CuratorInfoActionCtn_2y3rS",CuratorInfoPreview:"curatorfeedbrowse_CuratorInfoPreview_1Ebwp",CuratorInfoIcon:"curatorfeedbrowse_CuratorInfoIcon_3Y0jF",CuratorInfoFollow:"curatorfeedbrowse_CuratorInfoFollow_1I_eQ",CuratorHoverContainer:"curatorfeedbrowse_CuratorHoverContainer_38fVP",CuratorHoverToolTip:"curatorfeedbrowse_CuratorHoverToolTip_rSTyU"}},"+jbA":function(e,t,n){e.exports={ContextMenuMouseOverlay:"contextmenu_ContextMenuMouseOverlay_3Knd7",ContextMenuFocusContainer:"contextmenu_ContextMenuFocusContainer_1S6CC",contextMenu:"contextmenu_contextMenu_PP7LM",ContextMenuPopup:"contextmenu_ContextMenuPopup_14wqd",contextMenuContents:"contextmenu_contextMenuContents_2EstN",contextMenuItem:"contextmenu_contextMenuItem_1n7Wl",active:"contextmenu_active_18z-3",MenuSectionHeader:"contextmenu_MenuSectionHeader_2Bb4J",StrongerSeparation:"contextmenu_StrongerSeparation_1BNck",NoSeparation:"contextmenu_NoSeparation_3hRb6",UpperCase:"contextmenu_UpperCase_uz1Xm",SubMenu:"contextmenu_SubMenu_2RlEO",Label:"contextmenu_Label_2qdHl",Arrow:"contextmenu_Arrow_114nF",PopoutSubMenu:"contextmenu_PopoutSubMenu_Baq37",PopoutSubMenuItems:"contextmenu_PopoutSubMenuItems_2fZ_e"}},"+nzZ":function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",Container:"appdetailsachievementssection_Container_eXM8B",InnerContainer:"appdetailsachievementssection_InnerContainer_jxCcU",InnerContainerLower:"appdetailsachievementssection_InnerContainerLower_1qtrO",Featured:"appdetailsachievementssection_Featured_1j_gj",RightAchievementSection:"appdetailsachievementssection_RightAchievementSection_14U8e",RemainderContainer:"appdetailsachievementssection_RemainderContainer_lZ2c4",Desc:"appdetailsachievementssection_Desc_2gLHb",AchievementHoverContainer:"appdetailsachievementssection_AchievementHoverContainer_2CK1m",Icon:"appdetailsachievementssection_Icon_zcasg",RareAchievementIconWrapper:"appdetailsachievementssection_RareAchievementIconWrapper_1j20N",Remainder:"appdetailsachievementssection_Remainder_2gISW",TextSection:"appdetailsachievementssection_TextSection_1s_9c",Name:"appdetailsachievementssection_Name_39Y01",Stats:"appdetailsachievementssection_Stats_VKo9p",AdditionalItem:"appdetailsachievementssection_AdditionalItem_2aVnD",Additional:"appdetailsachievementssection_Additional_3eVRE",RemainderText:"appdetailsachievementssection_RemainderText_1-H7t",HiddenLabel:"appdetailsachievementssection_HiddenLabel_2AYFr",TopSection:"appdetailsachievementssection_TopSection_1LRR7",IconGlow:"appdetailsachievementssection_IconGlow_2V3rF",RareAchievementIconGlowContainerRoot:"appdetailsachievementssection_RareAchievementIconGlowContainerRoot_3OWVm",RareAchievementIconGlowContainer:"appdetailsachievementssection_RareAchievementIconGlowContainer_14U52",rotate:"appdetailsachievementssection_rotate_2-nYM",RareAchievementNoAnimation:"appdetailsachievementssection_RareAchievementNoAnimation_D1o1W",RareAchievementIconGlow:"appdetailsachievementssection_RareAchievementIconGlow_UVakv",NotAchieved:"appdetailsachievementssection_NotAchieved_3llpb",Hover:"appdetailsachievementssection_Hover_37Lk8",Unlocked:"appdetailsachievementssection_Unlocked_2KA0p",RareLabel:"appdetailsachievementssection_RareLabel_3aoiM",HighlightDiv:"appdetailsachievementssection_HighlightDiv_2xTb6",AllAchieved:"appdetailsachievementssection_AllAchieved_2YS0E",UnlockedLabel:"appdetailsachievementssection_UnlockedLabel_3jC8o",UnlockedLabelPercent:"appdetailsachievementssection_UnlockedLabelPercent_14kZV",GlobalStatLabel:"appdetailsachievementssection_GlobalStatLabel_1LNAL",SingleAchievementProgressContainer:"appdetailsachievementssection_SingleAchievementProgressContainer_3dGOJ",ProgressLabel:"appdetailsachievementssection_ProgressLabel_zpBMR",SingleAchievementProgressBar:"appdetailsachievementssection_SingleAchievementProgressBar_1OIat",AchievementProgress:"appdetailsachievementssection_AchievementProgress_3Rm36",AchievementProgressContainer:"appdetailsachievementssection_AchievementProgressContainer_3ns91",UnachievedSection:"appdetailsachievementssection_UnachievedSection_3ca11",ShowDivider:"appdetailsachievementssection_ShowDivider_3i6Pc",Label:"appdetailsachievementssection_Label_uoFNF"}},"/0IZ":function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",AutoRowColumnWidth:"256px",AutoRowRowGap:"32px",AutoRowColumnGap:"24px",InnerContainer:"appdetailscommunityfeed_InnerContainer_3Uy7t",HasBlanks:"appdetailscommunityfeed_HasBlanks_2hEnQ",BlankItemLoop:"appdetailscommunityfeed_BlankItemLoop_2yovz",CommunityContentContainer:"appdetailscommunityfeed_CommunityContentContainer_A6G1l",HeaderStyles:"appdetailscommunityfeed_HeaderStyles_2lNdD",AppOverviewRow:"appdetailscommunityfeed_AppOverviewRow_1I55h",AnyTwo:"appdetailscommunityfeed_AnyTwo_3ZqNx",VideoTwoAcross:"appdetailscommunityfeed_VideoTwoAcross_3M_Ms",AnyThree:"appdetailscommunityfeed_AnyThree_22fcF",TallAndTwoWide:"appdetailscommunityfeed_TallAndTwoWide_3sn8P",Tall:"appdetailscommunityfeed_Tall_1vyaN",TwoWideAndTall:"appdetailscommunityfeed_TwoWideAndTall_1_jWI",TwoTallAndTwoWide:"appdetailscommunityfeed_TwoTallAndTwoWide_3hdNY",AutoRow:"appdetailscommunityfeed_AutoRow_290KS",Small:"appdetailscommunityfeed_Small_1dUfy",Medium:"appdetailscommunityfeed_Medium_1KWg1",Large:"appdetailscommunityfeed_Large_9U5OL",VideoAspect:"appdetailscommunityfeed_VideoAspect_2oSH-",Panoramic:"appdetailscommunityfeed_Panoramic_zKFdD",Singles:"appdetailscommunityfeed_Singles_1NRN7",OneTall:"appdetailscommunityfeed_OneTall_3Q3kE",CommunityItem:"appdetailscommunityfeed_CommunityItem_3QS6O",Blank:"appdetailscommunityfeed_Blank_1HAb-",ChildItem:"appdetailscommunityfeed_ChildItem_2EOPV",PreviewContainer:"appdetailscommunityfeed_PreviewContainer_3XZzf",Preview:"appdetailscommunityfeed_Preview_AxZMH",Reported:"appdetailscommunityfeed_Reported_2Fwj9",InappropriateSex:"appdetailscommunityfeed_InappropriateSex_3P_R2",InappropriateViolence:"appdetailscommunityfeed_InappropriateViolence_2rN6L",VideoPreview:"appdetailscommunityfeed_VideoPreview_jjN9C",Guide:"appdetailscommunityfeed_Guide_-85o5",Body:"appdetailscommunityfeed_Body_28zG9",InappropriateOverlay:"appdetailscommunityfeed_InappropriateOverlay_aX5_K",InappropriateLinks:"appdetailscommunityfeed_InappropriateLinks_2YHrw",PlayLogo:"appdetailscommunityfeed_PlayLogo_2co0e",VideoPlaying:"appdetailscommunityfeed_VideoPlaying_3ckRE",ArtItem:"appdetailscommunityfeed_ArtItem_1aP1b",BottomSection:"appdetailscommunityfeed_BottomSection_3uabi",DescriptionRow:"appdetailscommunityfeed_DescriptionRow_Uhvgn",TopSection:"appdetailscommunityfeed_TopSection_33Cd4",GuideTitle:"appdetailscommunityfeed_GuideTitle_23Pup",TopSectionInner:"appdetailscommunityfeed_TopSectionInner_1dJuv",Header:"appdetailscommunityfeed_Header_l0pbv",Title:"appdetailscommunityfeed_Title_2xEgU",Description:"appdetailscommunityfeed_Description_xsBpz",AuthorSection:"appdetailscommunityfeed_AuthorSection_1ul9Z",Avatar:"appdetailscommunityfeed_Avatar_dKX6Y",AuthorName:"appdetailscommunityfeed_AuthorName_rMbCq",Controls:"appdetailscommunityfeed_Controls_3lh8a",Icon16:"appdetailscommunityfeed_Icon16_3AoQ6",HasClickEvent:"appdetailscommunityfeed_HasClickEvent_2BQAi",Comments:"appdetailscommunityfeed_Comments_CXcKD",ThumbsUp:"appdetailscommunityfeed_ThumbsUp_1gbP5",Selected:"appdetailscommunityfeed_Selected_3CH2x",ThumbsDown:"appdetailscommunityfeed_ThumbsDown_3BEgJ",Reactions:"appdetailscommunityfeed_Reactions_1TNqq",Control:"appdetailscommunityfeed_Control_1GfHt",Count:"appdetailscommunityfeed_Count_NlL1t",Button:"appdetailscommunityfeed_Button_Mj5Hq",MenuButton:"appdetailscommunityfeed_MenuButton_CwZqp",LoadContentButton:"appdetailscommunityfeed_LoadContentButton_2RSxE",ThrobberBox:"appdetailscommunityfeed_ThrobberBox_1ixSD",SpoilerOverlay:"appdetailscommunityfeed_SpoilerOverlay_2uP7d",NoContent:"appdetailscommunityfeed_NoContent_13Hxu"}},"/4Qd":function(e,t,n){},"/PpB":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("q1tI"),i=n("Jqb/"),a=n("TLQK"),o=n("lkRc"),s=function(e){var t=o.c.HELP_BASE_URL+"wizard/HelpWithLimitedAccount";return r.createElement(i.c,{strTitle:Object(a.f)("#Informational_Message"),onCancel:e.closeModal,onOK:e.closeModal,bAlertDialog:!0},r.createElement("div",null,Object(a.o)(e.strTokenOverride||"#User_LimitedAccount",r.createElement("a",{href:t,target:o.c.IN_CLIENT?void 0:"_blank"},Object(a.f)("#User_LimitedAccount_UrlInfo")))))}},"02Wr":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r=n("mrSG"),c=n("q1tI"),i=n("bxiW"),l=n("oazx"),u=n("TLQK"),a=function(n){function e(e){var t=n.call(this,e)||this;return t.state={index:0},t}return Object(r.d)(e,n),e.prototype.componentDidUpdate=function(e){e.srcs.length!=this.props.srcs.length&&this.setState({index:0})},e.prototype.OnError=function(){this.props.onImageError&&this.props.onImageError(this.props.srcs[this.state.index]),this.state.index+1<this.props.srcs.length&&this.setState({index:this.state.index+1})},e.prototype.render=function(){var e=this.props,t=e.className,n=e.srcs,r=e.lazyLoad,i=e.width,a=e.height,o=e.alt,s=e.crossOrigin;return c.createElement("img",{className:t,src:n[this.state.index],crossOrigin:s,onError:this.OnError,loading:r?"lazy":void 0,width:i,height:a,alt:o})},Object(r.c)([i.a],e.prototype,"OnError",null),e}(c.Component),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={error:!1},e}return Object(r.d)(e,t),e.prototype.OnError=function(){this.setState({error:!0})},e.prototype.render=function(){var e=this.props,t=e.className,n=e.src,r=e.lazyLoad,i=e.width,a=e.height,o=e.alt,s=e.crossOrigin;return this.state.error?c.createElement("div",{className:l.ErrorDiv},c.createElement("p",null,Object(u.f)("#Image_ErrorTitle",this.props.src)),c.createElement("ul",null,c.createElement("li",null,Object(u.f)("#Image_Error_msg1")),c.createElement("li",null,Object(u.f)("#Image_Error_msg2")),c.createElement("li",null,Object(u.f)("#Image_Error_msg3"))),c.createElement("p",null,Object(u.f)("#Image_Error_suggestion"))):c.createElement("img",{className:t,src:n,onError:this.OnError,crossOrigin:s,loading:r?"lazy":void 0,width:i,height:a,alt:o})},Object(r.c)([i.a],e.prototype,"OnError",null),e}(c.Component)},"0QoN":function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),s=n.n(i),a=n("TyAF"),o=n("bxiW"),c=n("TtDX"),l=n("Gorr"),u=n("6Y59"),p=n("TLQK"),d=n("exH9"),m=n("Z9dU"),h=n.n(m),f=1576780700,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.OnEmoticonClick=function(e){var t,n=this,r=this.props,i=(r.emoticonStore,r.SetUIDisplayPref),a=r.contextOptions,o=r.bShowChatAddons?s.a.createElement(l.a,{emoticonStore:this.props.emoticonStore,emoticonHoverStore:this.props.emoticonHoverStore,strFlairGroupID:this.props.strFlairGroupID,onEmoticonSelected:function(e){return n.props.OnEmoticonSelected(e,!1)},roomEffectSettings:this.props.roomEffectSettings,onRoomEffectSelected:this.props.onRoomEffectSelected,onStickerSelected:this.props.onStickerSelected}):s.a.createElement(l.c,{emoticonStore:this.props.emoticonStore,emoticonHoverStore:this.props.emoticonHoverStore,strFlairGroupID:this.props.strFlairGroupID,OnSelected:this.props.OnEmoticonSelected});Object(c.a)(o,e,a||{bOverlapHorizontal:!0,bPreferPopLeft:!0,bPreferPopTop:!0}),this.BHaveUnseenEmoticons()&&i&&((!(t=this.GetNewestIndicatorTime())||t<f)&&(t=f),i("rtLastAckedNewEmoticons",t))},t.prototype.GetNewestIndicatorTime=function(){var e=this.props.emoticonStore,t=Number.MIN_SAFE_INTEGER,n=e.GetTimeReceivedNewestEmoticon();n&&(t=n);var r=e.GetTimeReceivedForStickerOrEffect();return(t=Math.max(r,t))>Number.MIN_SAFE_INTEGER?t:void 0},t.prototype.BHaveUnseenEmoticons=function(){var e=this.props.rtLastAckedNewEmoticons,t=this.GetNewestIndicatorTime();return!e||e<f||t&&(!e||e<t)},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.className,r=e.ttip,i=e.useImg,a=[n],o=!1;return t?a.push("disabled"):this.BHaveUnseenEmoticons()&&(o=!0),r&&a.push("ttip"),i?s.a.createElement("span",{onClick:this.OnEmoticonClick},s.a.createElement("img",{src:this.props.useImg,className:d.a.apply(void 0,a),title:this.props.title||Object(p.f)("#ChatEntryButton_Emoticon"),"data-tooltip-text":r})):(a.push(h.a.chatSubmitButton,h.a.EmoticonPickerButton),s.a.createElement("button",{className:d.a.apply(void 0,a),type:"button",onClick:this.OnEmoticonClick,title:this.props.title||Object(p.f)("#ChatEntryButton_Emoticon"),disabled:t,"data-tooltip-text":r},this.props.buttonIcon||s.a.createElement(u.A,null),o&&s.a.createElement(l.d,null)))},Object(r.c)([o.a],t.prototype,"OnEmoticonClick",null),Object(r.c)([a.observer],t)}(s.a.Component);t.a=b},"0jpR":function(e,t,n){e.exports={Container:"appdetailsfeatureicon_Container_1SIa8",Icon:"appdetailsfeatureicon_Icon_2RwHE",Label:"appdetailsfeatureicon_Label_1VoVz"}},"0oQF":function(e,t,n){e.exports={SteamAwardContainer:"nominationandvote_SteamAwardContainer_3n6v2",InLibraryView:"nominationandvote_InLibraryView_pqLcz",SVGIcon_DialogCheck:"nominationandvote_SVGIcon_DialogCheck_3ccBy",SteamAwardHeader:"nominationandvote_SteamAwardHeader_2jgrT",SteamAwardHeaderImage:"nominationandvote_SteamAwardHeaderImage__lRFQ",SteamAwardMainCtn:"nominationandvote_SteamAwardMainCtn_1uGju",SteamAwardMainTitle:"nominationandvote_SteamAwardMainTitle_161Yb",SteamAwardSubTitle:"nominationandvote_SteamAwardSubTitle_Sxxel",SteamAwardLearnMore:"nominationandvote_SteamAwardLearnMore_VQlY6",BottomRight:"nominationandvote_BottomRight_zr64Q",SteamAwardHeaderText:"nominationandvote_SteamAwardHeaderText_2mrzK",LinkText:"nominationandvote_LinkText_2x4pg",SteamAwardVoteWidget:"nominationandvote_SteamAwardVoteWidget_khWz0",SteamAwardVotePrompt:"nominationandvote_SteamAwardVotePrompt_H5jrP",SteamAwardCategoryTitle:"nominationandvote_SteamAwardCategoryTitle_JVE9O",SteamAwardCategoryDesc:"nominationandvote_SteamAwardCategoryDesc_1V-8W",SteamAwardVoteButtonArea:"nominationandvote_SteamAwardVoteButtonArea_1v9LH",SteamAwardVoteButton:"nominationandvote_SteamAwardVoteButton_cTcgI",SteamAwardVoteButtonText:"nominationandvote_SteamAwardVoteButtonText_247y3",SteamAwardVoteButtonSubmitted:"nominationandvote_SteamAwardVoteButtonSubmitted_1ouD4",SteamAwardNominateButton:"nominationandvote_SteamAwardNominateButton_1uxCj",SteamAwardLinkToNominationPage:"nominationandvote_SteamAwardLinkToNominationPage_3p83s",SteamAwardModalGameTitle:"nominationandvote_SteamAwardModalGameTitle_15lc0",ExpiredEventHeader:"nominationandvote_ExpiredEventHeader_3O3Xs",AwardCategoriesCtn:"nominationandvote_AwardCategoriesCtn_2u4z7"}},"0tYJ":function(e,t,n){"use strict";n.d(t,"b",function(){return w}),n.d(t,"a",function(){return C});var l=n("mrSG"),r=n("vDqi"),o=n.n(r),u=n("bxBv"),s=n("WBba"),i=n("hRO2"),a=n("OS8t"),c=i.Message;var p,d,m,h=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.video_id||a.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(l.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{video_id:{n:1,br:a.d.readUint64String,bw:a.h.writeUint64String},video_url:{n:2,br:a.d.readString,bw:a.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=a.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return a.g(r.M(),e,t)},r.fromObject=function(e){return a.c(r.M(),e)},r.deserializeBinary=function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return a.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){a.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CVideo_ClientGetVideoURL_Response"},r}(c),f=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.encryption_key||a.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(l.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{encryption_key:{n:1,br:a.d.readBytes,bw:a.h.writeBytes}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=a.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return a.g(r.M(),e,t)},r.fromObject=function(e){return a.c(r.M(),e)},r.deserializeBinary=function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return a.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){a.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CVideo_UnlockedH264_Notification"},r}(c),b=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.app_id||a.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(l.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{app_id:{n:1,br:a.d.readUint32,bw:a.h.writeUint32},opf_settings:{n:2,br:a.d.readString,bw:a.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=a.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return a.g(r.M(),e,t)},r.fromObject=function(e){return a.c(r.M(),e)},r.deserializeBinary=function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return a.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){a.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CFovasVideo_ClientGetOPFSettings_Response"},r}(c),_=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.app_id||a.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(l.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{app_id:{n:1,br:a.d.readUint32,bw:a.h.writeUint32},playback_position_in_seconds:{n:2,br:a.d.readUint32,bw:a.h.writeUint32},video_track_id:{n:3,br:a.d.readUint64String,bw:a.h.writeUint64String},audio_track_id:{n:4,br:a.d.readUint64String,bw:a.h.writeUint64String},timedtext_track_id:{n:5,br:a.d.readUint64String,bw:a.h.writeUint64String},last_modified:{n:6,br:a.d.readUint32,bw:a.h.writeUint32},hide_from_watch_history:{n:7,d:!1,br:a.d.readBool,bw:a.h.writeBool},hide_from_library:{n:8,d:!1,br:a.d.readBool,bw:a.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=a.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return a.g(r.M(),e,t)},r.fromObject=function(e){return a.c(r.M(),e)},r.deserializeBinary=function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return a.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){a.f(r.M(),e,t)},r.prototype.getClassName=function(){return"VideoBookmark"},r}(c),v=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.bookmarks||a.a(r.M()),c.initialize(t,e,0,-1,[1],null),t}return Object(l.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{bookmarks:{n:1,c:_,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=a.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return a.g(r.M(),e,t)},r.fromObject=function(e){return a.c(r.M(),e)},r.deserializeBinary=function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return a.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){a.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CVideo_SetVideoBookmark_Notification"},r}(c),g=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.bookmarks||a.a(r.M()),c.initialize(t,e,0,-1,[1],null),t}return Object(l.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{bookmarks:{n:1,c:_,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=a.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return a.g(r.M(),e,t)},r.fromObject=function(e){return a.c(r.M(),e)},r.deserializeBinary=function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return a.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){a.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CVideo_GetVideoBookmarks_Response"},r}(c);(d=p=p||{}).ClientGetVideoURL=function(e,t){return e.SendMsg("Video.ClientGetVideoURL#1",t,h,{ePrivilege:1})},d.SetVideoBookmark=function(e,t){return e.SendNotification("Video.SetVideoBookmark#1",t,{ePrivilege:1})},d.GetVideoBookmarks=function(e,t){return e.SendMsg("Video.GetVideoBookmarks#1",t,g,{ePrivilege:1})},(m||{}).ClientGetOPFSettings=function(e,t){return e.SendMsg("FovasVideo.ClientGetOPFSettings#1",t,b,{ePrivilege:1})};var y=n("bDQf"),S=n("lkRc"),w=function(){function e(){this.m_LoadingOAuth=null,this.m_mapBookmarks=new Map}return e.prototype.SetBookmarkForApp=function(e,t){this.ValidateBookmarkData(t)?this.m_mapBookmarks.set(e,_.fromObject(t)):this.InitializeBookmarkForApp(e)},e.prototype.ValidateBookmarkData=function(e){var t=e;return"object"==typeof t&&(Number.isInteger(t.playback_position_in_seconds)&&Number.isInteger(t.app_id))},e.prototype.InitializeBookmarkForApp=function(e){var t;this.m_mapBookmarks.has(e)||(t={app_id:e,playback_position_in_seconds:0,video_track_id:"0",audio_track_id:"0",timedtext_track_id:"0",hide_from_watch_history:!1,hide_from_library:!1},this.m_mapBookmarks.set(e,new _(t)))},e.prototype.GetBookmarkPlayTimeInSeconds=function(e){if(this.m_mapBookmarks.has(e)){var t=this.m_mapBookmarks.get(e).playback_position_in_seconds();if(Number.isInteger(t))return t}return 0},e.prototype.SendBookMarkedTimeToServer=function(i,a,o,s,c){return Object(l.b)(this,void 0,void 0,function(){var t,n,r;return Object(l.e)(this,function(e){switch(e.label){case 0:return S.h.logged_in?this.m_transport?[3,2]:[4,this.m_LoadingOAuth]:[2];case 1:if(e.sent(),!this.m_transport)return console.warn("CVideoBookmarkStore:SetBookMark no auth token / transport"),[2];e.label=2;case 2:return t=u.b.Init(v),this.m_mapBookmarks.has(i)&&(n=this.m_mapBookmarks.get(i),r=!1,n.app_id()!=i&&(r=!0,n.set_app_id(i)),n.playback_position_in_seconds()!=a&&(r=!0,n.set_playback_position_in_seconds(a)),o=o||"0",n.video_track_id()!=o&&(n.set_video_track_id(o),r=!0),s=s||"0",n.audio_track_id()!=s&&(n.set_audio_track_id(s),r=!0),(c=c||"0")!=n.timedtext_track_id()&&(n.set_timedtext_track_id(c),r=!0),r&&(t.Body().add_bookmarks(n),p.SetVideoBookmark(this.m_transport,t))),[2]}})})},e.Get=function(){return e.s_VODStore||(e.s_VODStore=new e).Init(),e.s_VODStore},e.prototype.Init=function(){S.h.logged_in&&this.LoadWatchVideoOAuthToken()},e.prototype.LoadWatchVideoOAuthToken=function(){return Object(l.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(l.e)(this,function(e){switch(e.label){case 0:t="community"==Object(S.f)()?S.c.COMMUNITY_BASE_URL+"actions/ajaxgetwatchvodtoken":S.c.STORE_BASE_URL+"actions/ajaxgetwatchvodtoken",n={},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,o.a.get(t,{params:n,withCredentials:!0})];case 2:return(r=e.sent())&&200==r.status&&r.data&&1==r.data.success&&r.data.webapi_token?(this.m_transport=new s.a(S.c.WEBAPI_BASE_URL,r.data.webapi_token).GetServiceTransport(),[2,this.m_transport]):[3,4];case 3:return i=e.sent(),a=Object(y.a)(i),console.error("CVideoBookmarkStore:LoadWatchVideoOAuthToken: Failed "+a.strErrorMsg,a),[3,4];case 4:return[2,null]}})})},e}(),C=function(){function e(e){this.m_appid=e}return e.prototype.SetBookmark=function(t,n,r,i){return Object(l.b)(this,void 0,void 0,function(){return Object(l.e)(this,function(e){return S.h.logged_in&&w.Get().SendBookMarkedTimeToServer(this.m_appid,Math.floor(t),n,r,i),[2]})})},e.prototype.GetBeginPlaytime=function(){return S.h.logged_in?w.Get().GetBookmarkPlayTimeInSeconds(this.m_appid):0},e}()},"1BdX":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var b=n("mrSG"),r=n("2vnA"),_=n("kLLr"),v=n("5izx"),g=n("6oCP"),i=function(){function l(){this.m_mapBroadcasterSteamIDToEvents=new Map,this.m_mapBroadcasterSteamIDData=new Map}return l.GetBBCodeParam=function(e,t,n){void 0===n&&(n="");var r=new RegExp("\\W"+t+'\\W*=\\W*\\"(.*?)\\"',"gmi").exec(e);return r?r[1]:n},l.ParseCalendarEventPresentersFromText=function(e){for(var t=/\[\W*speaker(\W[\s\S]*?)\]([\s\S]*?)\[\W*\/speaker\W*\]/gi,n=new Array;;){var r=t.exec(e);if(null===r)break;var i=r[1],a=r[2],o=l.GetBBCodeParam(i,"steamid"),s={steamID:o?new _.a(o):void 0,name:l.GetBBCodeParam(i,"name"),title:l.GetBBCodeParam(i,"title"),company:l.GetBBCodeParam(i,"company"),photo:l.GetBBCodeParam(i,"photo"),bio:a};n.push(s)}return n},l.ParseEventModelPresenters=function(e,t){var n=e.GetDescriptionWithFallback(t);return l.ParseCalendarEventPresentersFromText(n)},l.ParseEventAppReferencesFromText=function(e){for(var t=/\/\/store\.steampowered\.com\/app\/(\d+)/gi,n=new Set;;){var r=t.exec(e);if(null===r)break;var i=r[1];n.add(Number(i))}return n},l.ParseEventModelAppReferences=function(e,t){var n,r=e.GetDescriptionWithFallback(t),i=l.ParseEventAppReferencesFromText(r);if(null!==(n=e.jsondata)&&void 0!==n&&n.referenced_appids)for(var a=0,o=e.jsondata.referenced_appids;a<o.length;a++){var s=o[a];i.add(s)}return i},l.prototype.BuildBroadcasterSteamIDToActiveEventMap=function(f){return Object(b.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,p,d,m,h;return Object(b.e)(this,function(e){switch(e.label){case 0:for(t=v.a.GetTimeNowWithOverride(),n=f.GetCalendarItemsInTimeRange(t-3600,t),r=0,i=n.rgCalendarItems;r<i.length;r++)a=i[r],g.c.QueueLoadPartnerEvent(a.clanid,a.unique_id);return o=n.rgCalendarItems.map(function(e){return g.c.LoadPartnerEventFromClanEventGIDAndClanSteamID(_.a.InitFromClanID(e.clanid),e.unique_id,0)}),[4,Promise.all(o)];case 1:for(s=e.sent(),c=new Map,l=0,u=s;l<u.length;l++)if((p=u[l])&&!(p.endTime&&p.endTime<t))for(d=0,m=p.GetBroadcastWhitelistAsSteamIDs();d<m.length;d++)h=m[d],c.has(h)?c.get(h).push(p):c.set(h,[p]);return[2,c]}})})},l.prototype.IsBroadcasterAlreadyBound=function(e,t){var n=this.m_mapBroadcasterSteamIDToEvents.get(e),r=n?n.length:0;if((t?t.length:0)!=r)return!1;for(var i=0;i<r;i++)if(n[i]!=t[i].GID)return!1;return!0},l.BuildSteamIDToPresenterMapFromEventList=function(e,t){for(var n=new Map,r=0,i=e;r<i.length;r++){var a=i[r];if(a)for(var o=0,s=l.ParseEventModelPresenters(a,t);o<s.length;o++){var c=s[o];c.steamID&&n.set(c.steamID.ConvertTo64BitString(),c)}}return n},l.prototype.RemoveCachedDataIfNotInMap=function(n){var t=this,r=new Array;this.m_mapBroadcasterSteamIDToEvents.forEach(function(e,t){n.has(t)||r.push(t)}),r.forEach(function(e){t.m_mapBroadcasterSteamIDData.delete(e),t.m_mapBroadcasterSteamIDToEvents.delete(e)})},l.BuildAppIDRefsForEventList=function(e,t){for(var n=new Set,r=0,i=e;r<i.length;r++){var a=i[r];l.ParseEventModelAppReferences(a,t).forEach(function(e){return n.add(e)})}return Array.from(n)},l.prototype.UpdateCachedDataFromEvents=function(e,r){var i=this;e.forEach(function(e,t){var n;i.IsBroadcasterAlreadyBound(t,e)||(n={m_mapPresenters:l.BuildSteamIDToPresenterMapFromEventList(e,r),m_rgAppIDs:l.BuildAppIDRefsForEventList(e,r)},i.m_mapBroadcasterSteamIDData.set(t,n),i.m_mapBroadcasterSteamIDToEvents.set(t,e.map(function(e){return e.GID})))})},l.prototype.SynchronizeEventsWithBroadcasts=function(n,r){return Object(b.b)(this,void 0,void 0,function(){var t;return Object(b.e)(this,function(e){switch(e.label){case 0:return[4,this.BuildBroadcasterSteamIDToActiveEventMap(n)];case 1:return t=e.sent(),this.RemoveCachedDataIfNotInMap(t),this.UpdateCachedDataFromEvents(t,r),[2]}})})},l.prototype.GetPresenterMapForBroadcasterSteamID=function(e){var t;return null===(t=this.m_mapBroadcasterSteamIDData.get(e))||void 0===t?void 0:t.m_mapPresenters},l.prototype.GetAppIDListForBroadcasterSteamID=function(e){var t;return null===(t=this.m_mapBroadcasterSteamIDData.get(e))||void 0===t?void 0:t.m_rgAppIDs},Object(b.c)([r.observable],l.prototype,"m_mapBroadcasterSteamIDData",void 0),l}(),a=new i},"1gQr":function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",Container:"appdetailsplaysection_Container_3Yf8b",PlayBar:"appdetailsplaysection_PlayBar_3fLo1",StickyHeader:"appdetailsplaysection_StickyHeader_39Rhe",InnerContainer:"appdetailsplaysection_InnerContainer_3Y87Y",Row:"appdetailsplaysection_Row_9EHg9",ActionSection:"appdetailsplaysection_ActionSection_2zxzS",InPage:"appdetailsplaysection_InPage_1U7LK",StatusAndStats:"appdetailsplaysection_StatusAndStats_1YbtI",PermanentlyUnavailable:"appdetailsplaysection_PermanentlyUnavailable_3CYvy",PlayBarLabel:"appdetailsplaysection_PlayBarLabel_34lrt",GameStatsSection:"appdetailsplaysection_GameStatsSection_1mDAV",DetailsSection:"appdetailsplaysection_DetailsSection_1dg8h",StatusNameContainer:"appdetailsplaysection_StatusNameContainer_zjtAI",PlayBarIconAndGame:"appdetailsplaysection_PlayBarIconAndGame_2MBVR",PlayBarGameName:"appdetailsplaysection_PlayBarGameName_3rpUk",PlayBarGameIcon:"appdetailsplaysection_PlayBarGameIcon_1iNIp",RightControls:"appdetailsplaysection_RightControls_1EAxK",AppButtonsContainer:"appdetailsplaysection_AppButtonsContainer_lO1IF",GameInfoButton:"appdetailsplaysection_GameInfoButton_2v1XD",Arrow:"appdetailsplaysection_Arrow_2bjCB",MenuButton:"appdetailsplaysection_MenuButton_3qDWQ",MenuActive:"appdetailsplaysection_MenuActive_fyJia",FavoriteButton:"appdetailsplaysection_FavoriteButton_21hXW",Favorited:"appdetailsplaysection_Favorited_2WaHZ",DotDotDot:"appdetailsplaysection_DotDotDot_zvLq1",Downloading:"appdetailsplaysection_Downloading_2F4Pc",DetailsSectionStatus:"appdetailsplaysection_DetailsSectionStatus_1sKdg",OfflineMode:"appdetailsplaysection_OfflineMode_36lN_",ComingSoon:"appdetailsplaysection_ComingSoon_1YqJb",Presale:"appdetailsplaysection_Presale_1mWWA",DetailsSectionExtra:"appdetailsplaysection_DetailsSectionExtra_2pGX3",DetailsProgressContainer:"appdetailsplaysection_DetailsProgressContainer_25YVD",DownloadPaused:"appdetailsplaysection_DownloadPaused_16orP",DetailsProgressBar:"appdetailsplaysection_DetailsProgressBar_1FnTq",PortraitBar:"appdetailsplaysection_PortraitBar_YWYPg",InvalidPlatform:"appdetailsplaysection_InvalidPlatform_3Ads1",Icons:"appdetailsplaysection_Icons_3ldEI",Icon:"appdetailsplaysection_Icon_69Wad",GameStat:"appdetailsplaysection_GameStat_1kiZK",GameStatIcon:"appdetailsplaysection_GameStatIcon_1tIg-",GameStatRight:"appdetailsplaysection_GameStatRight_3m_zj",MiniAchievements:"appdetailsplaysection_MiniAchievements_UAhWi",AchievementProgressRow:"appdetailsplaysection_AchievementProgressRow_16quG",AchievementCountLabel:"appdetailsplaysection_AchievementCountLabel_2muiK",PlayBarDetailLabel:"appdetailsplaysection_PlayBarDetailLabel_2TYVG",Playtime:"appdetailsplaysection_Playtime_1aKeg",PlaytimeIcon:"appdetailsplaysection_PlaytimeIcon_1GZdo",LastPlayed:"appdetailsplaysection_LastPlayed_3pS8k",LastPlayedInfo:"appdetailsplaysection_LastPlayedInfo_1nfJN",RecentlyUpdated:"appdetailsplaysection_RecentlyUpdated_EBONu",RecentlyUpdatedIcon:"appdetailsplaysection_RecentlyUpdatedIcon_11vNW",RecentlyUpdatedText:"appdetailsplaysection_RecentlyUpdatedText_1hzV4",RecentlyUpdatedLink:"appdetailsplaysection_RecentlyUpdatedLink_-UDX6",SharedLibrary:"appdetailsplaysection_SharedLibrary_z8GYw",Label:"appdetailsplaysection_Label_1j9LN",AvatarAndPersona:"appdetailsplaysection_AvatarAndPersona_2JDxK",Glassy:"appdetailsplaysection_Glassy_3DeO9",StickyHeaderShadow:"appdetailsplaysection_StickyHeaderShadow_2_86Q",Visible:"appdetailsplaysection_Visible_2sKVn",favorited:"appdetailsplaysection_favorited_2gV1J"}},"1mkr":function(e,t,n){e.exports={AppDetailsButton:"appdetailsbutton_AppDetailsButton_3Cdin",Center:"appdetailsbutton_Center_2bJqZ",BottomRight:"appdetailsbutton_BottomRight_3nJyY",Left:"appdetailsbutton_Left_Q7tUL",MoreVisible:"appdetailsbutton_MoreVisible_SLpyh"}},"26EA":function(e,t,n){e.exports={WhitelistNumber:"reorderablelist_WhitelistNumber_IY3dF",WhitelistCtn:"reorderablelist_WhitelistCtn_1Uhmx",WhitelistRow:"reorderablelist_WhitelistRow_28TC1",Grabbable:"reorderablelist_Grabbable_riuel",Grabbing:"reorderablelist_Grabbing_1vSZ5",DisabledGrab:"reorderablelist_DisabledGrab_2K0C_",WhitelistAvatar:"reorderablelist_WhitelistAvatar_3DGjm",ButtonCtn:"reorderablelist_ButtonCtn_1hSql"}},"2ErG":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"g",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"b",function(){return b});var i=n("mrSG"),a=n("hRO2"),o=n("OS8t"),s=a.Message,r=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.bincremental||o.a(r.M()),s.initialize(t,e,0,-1,[2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{bincremental:{n:1,br:o.d.readBool,bw:o.h.writeBool},friends:{n:2,c:c,r:!0,q:!0},max_friend_count:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},active_friend_count:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},friends_limit_hit:{n:5,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientFriendsList"},r}(s),c=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.ulfriendid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{ulfriendid:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},efriendrelationship:{n:2,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientFriendsList_Friend"},r}(s),l=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.persona_state_requested||o.a(r.M()),s.initialize(t,e,0,-1,[2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{persona_state_requested:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},friends:{n:2,r:!0,q:!0,br:o.d.readFixed64String,bw:o.h.writeRepeatedFixed64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientRequestFriendData"},r}(s),u=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.persona_state||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{persona_state:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},player_name:{n:2,br:o.d.readString,bw:o.h.writeString},is_auto_generated_name:{n:3,br:o.d.readBool,bw:o.h.writeBool},high_priority:{n:4,br:o.d.readBool,bw:o.h.writeBool},persona_set_by_user:{n:5,br:o.d.readBool,bw:o.h.writeBool},persona_state_flags:{n:6,d:0,br:o.d.readUint32,bw:o.h.writeUint32},need_persona_response:{n:7,br:o.d.readBool,bw:o.h.writeBool},is_client_idle:{n:8,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientChangeStatus"},r}(s),p=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.status_flags||o.a(r.M()),s.initialize(t,e,0,-1,[2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{status_flags:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},friends:{n:2,c:d,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientPersonaState"},r}(s),d=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.friendid||o.a(r.M()),s.initialize(t,e,0,-1,[71],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{friendid:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},persona_state:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},game_played_app_id:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},game_server_ip:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},game_server_port:{n:5,br:o.d.readUint32,bw:o.h.writeUint32},persona_state_flags:{n:6,br:o.d.readUint32,bw:o.h.writeUint32},online_session_instances:{n:7,br:o.d.readUint32,bw:o.h.writeUint32},persona_set_by_user:{n:10,br:o.d.readBool,bw:o.h.writeBool},player_name:{n:15,br:o.d.readString,bw:o.h.writeString},query_port:{n:20,br:o.d.readUint32,bw:o.h.writeUint32},steamid_source:{n:25,br:o.d.readFixed64String,bw:o.h.writeFixed64String},avatar_hash:{n:31,br:o.d.readBytes,bw:o.h.writeBytes},last_logoff:{n:45,br:o.d.readUint32,bw:o.h.writeUint32},last_logon:{n:46,br:o.d.readUint32,bw:o.h.writeUint32},last_seen_online:{n:47,br:o.d.readUint32,bw:o.h.writeUint32},clan_rank:{n:50,br:o.d.readUint32,bw:o.h.writeUint32},game_name:{n:55,br:o.d.readString,bw:o.h.writeString},gameid:{n:56,br:o.d.readFixed64String,bw:o.h.writeFixed64String},game_data_blob:{n:60,br:o.d.readBytes,bw:o.h.writeBytes},clan_data:{n:64,c:m},clan_tag:{n:65,br:o.d.readString,bw:o.h.writeString},rich_presence:{n:71,c:h,r:!0,q:!0},broadcast_id:{n:72,br:o.d.readFixed64String,bw:o.h.writeFixed64String},game_lobby_id:{n:73,br:o.d.readFixed64String,bw:o.h.writeFixed64String},watching_broadcast_accountid:{n:74,br:o.d.readUint32,bw:o.h.writeUint32},watching_broadcast_appid:{n:75,br:o.d.readUint32,bw:o.h.writeUint32},watching_broadcast_viewers:{n:76,br:o.d.readUint32,bw:o.h.writeUint32},watching_broadcast_title:{n:77,br:o.d.readString,bw:o.h.writeString},is_community_banned:{n:78,br:o.d.readBool,bw:o.h.writeBool},player_name_pending_review:{n:79,br:o.d.readBool,bw:o.h.writeBool},avatar_pending_review:{n:80,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientPersonaState_Friend"},r}(s),m=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.ogg_app_id||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{ogg_app_id:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},chat_group_id:{n:2,br:o.d.readUint64String,bw:o.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientPersonaState_Friend_ClanData"},r}(s),h=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.key||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{key:{n:1,br:o.d.readString,bw:o.h.writeString},value:{n:2,br:o.d.readString,bw:o.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientPersonaState_Friend_KV"},r}(s),f=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CMsgClientGetEmoticonList"},r}(s),b=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.emoticons||o.a(r.M()),s.initialize(t,e,0,-1,[1,2,3],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{emoticons:{n:1,c:_,r:!0,q:!0},stickers:{n:2,c:v,r:!0,q:!0},effects:{n:3,c:g,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientEmoticonList"},r}(s),_=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.name||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{name:{n:1,br:o.d.readString,bw:o.h.writeString},count:{n:2,br:o.d.readInt32,bw:o.h.writeInt32},time_last_used:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},use_count:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},time_received:{n:5,br:o.d.readUint32,bw:o.h.writeUint32},appid:{n:6,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientEmoticonList_Emoticon"},r}(s),v=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.name||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{name:{n:1,br:o.d.readString,bw:o.h.writeString},count:{n:2,br:o.d.readInt32,bw:o.h.writeInt32},time_received:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},appid:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},time_last_used:{n:5,br:o.d.readUint32,bw:o.h.writeUint32},use_count:{n:6,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientEmoticonList_Sticker"},r}(s),g=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.name||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{name:{n:1,br:o.d.readString,bw:o.h.writeString},count:{n:2,br:o.d.readInt32,bw:o.h.writeInt32},time_received:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},infinite_use:{n:4,br:o.d.readBool,bw:o.h.writeBool},appid:{n:5,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientEmoticonList_Effect"},r}(s)},"2aEQ":function(e,t,n){"use strict";n.d(t,"c",function(){return I}),n.d(t,"b",function(){return D}),n.d(t,"a",function(){return R});var i=n("mrSG"),r=n("TyAF"),l=n("q1tI"),u=n("kLLr"),p=n("uIWk"),d=n("ee7K"),a=n("WF3T"),o=n("KEpR"),s=n("5izx"),c=n("9w6b"),m=n("exH9"),h=n("TLQK"),f=n("bDQf"),b=n("lkRc"),_=n("Jqb/"),v=n("ka0M"),g=n("0OaU"),y=n("Lql7"),S=n("/PpB"),w=n("fpVW"),C=n("BFsE"),O=Object(r.observer)(function(e){var t=e.closeModal;return l.createElement(_.c,{strTitle:Object(h.f)("#EventCalendar_GameSource_UnhideCuratorsDialog_Title"),strDescription:Object(h.f)("#EventCalendar_GameSource_UnhideCuratorsDialog_Description"),strOKButtonText:Object(h.f)("#EventCalendar_GameSource_UnhideCuratorsDialog_OKButton"),strCancelButtonText:Object(h.f)("#EventCalendar_GameSource_UnhideCuratorsDialog_CancelButton"),onOK:function(){Object(a.b)().m_visibilityStore.SetGameSourceAllowed(o.c.k_ECurator,!0),t()},onCancel:function(){Object(a.b)().m_visibilityStore.SetCuratorUnhideOnFollowDialogDismissed(!0),t()}})});function E(e){e||Object(a.a)()&&(Object(a.b)().m_visibilityStore.BCuratorUnhideOnFollowDialogDismissed()||Object(a.b)().m_visibilityStore.BIsGameSourceAllowed(o.c.k_ECurator)||Object(v.d)(l.createElement(O,null),window))}function B(){if(c.a.Get().BIsUserLoggedIn())return 1;Object(v.d)(l.createElement(_.c,{strTitle:Object(h.f)("#EventDisplay_Share_NotLoggedIn"),strDescription:Object(h.f)("#EventDisplay_Share_NotLoggedIn_Description"),strOKButtonText:Object(h.f)("#MobileLogin_SignIn"),onOK:function(){return Object(C.a)()}}),window)}function A(e){var t=u.a.InitFromClanID(e),n=c.a.Get().GetPartnerEventPermissions(t);if(!n||!n.limited_user)return 1;Object(v.d)(l.createElement(S.a,null),window)}function I(r){return Object(i.b)(this,void 0,void 0,function(){var t,n;return Object(i.e)(this,function(e){switch(e.label){case 0:return B()&&A(r)?(t=u.a.InitFromClanID(r),n=d.a.BIsFollowingCurator(t),[4,d.a.UpdateFollowOrIgnoreCurator(t,!0,!n)]):[3,2];case 1:e.sent(),E(n),e.label=2;case 2:return[2]}})})}function j(e){var t=e.className,n=e.bIgnored,r=e.bApplyingFollowing,i=e.bFollowing,a=e.onFollowClick;return s.a.bIsFollowingEnabled?l.createElement("div",{className:Object(m.a)(w.Button,y.FollowButton,t,i?"Followed":""),onClick:a},r&&l.createElement(g.a,{size:"small"}),!r&&(i||n)&&l.createElement("img",{style:{height:"16px"},src:b.c.STORE_CDN_URL+"public/images/v6/ico/ico_selected.png"}),l.createElement("div",{className:y.FollowBtnText},!r&&(i?Object(h.f)("#Button_Followed"):n?Object(h.f)("#Button_Ignored"):Object(h.f)("#Button_Follow")))):null}var D=function(o){var e=l.useState(!1),t=e[0],s=e[1],n=o.clanAccountID,r=o.className,i=u.a.InitFromClanID(n),a=d.a.BIsFollowingCurator(i),c=!a&&d.a.BIsIgnoringCurator(i);return l.createElement(j,{className:r,bIgnored:c,bFollowing:a,bApplyingFollowing:t,onFollowClick:function(){var e,n,t,r,i,a=o.clanAccountID;B()&&A(a)&&(s(!0),e=o.clanAccountID,n=o.creatorID,t=u.a.InitFromClanID(e),r=d.a.BIsFollowingCurator(t),i=!r&&d.a.BIsIgnoringCurator(t),d.a.UpdateFollowOrIgnoreCurator(t,!i,!(i||r)).then(function(e){var t;n&&(t=p.a.GetCreatorHomeByID(n),i||t.AdjustFollower(r?-1:1)),s(!1)}).then(function(){E(r)}).catch(function(e){s(!1);var t=Object(f.a)(e);console.error("CuratorFollowButton hit error: "+t.strErrorMsg,t)}))}})},R=function(r){var e=l.useState(!1),t=e[0],i=e[1],n=r.appid,a=r.className,o=d.a.BFollowsApp(n),s=!o&&d.a.BIsGameIgnored(n);return l.createElement(j,{className:a,bIgnored:s,bFollowing:o,bApplyingFollowing:t,onFollowClick:function(){var e,t,n;B()&&(i(!0),e=r.appid,t=d.a.BFollowsApp(e),n=!t&&d.a.BIsGameIgnored(e),d.a.UpdateFollowingApp(e,!(n||t)).then(function(){i(!1)}).catch(function(e){i(!1);var t=Object(f.a)(e);console.error("AppFollowButton hit error: "+t.strErrorMsg,t)}))}})}},"2rGr":function(e,t,n){e.exports={LanguageFeedNoteBucket:"languagefeedrow_LanguageFeedNoteBucket_r8580",LanguageFeedNoteCtn:"languagefeedrow_LanguageFeedNoteCtn_3jTgs",BodyFlow:"languagefeedrow_BodyFlow_1JI7C",LeftColumn:"languagefeedrow_LeftColumn_3l03T",RightColumn:"languagefeedrow_RightColumn_XKuYh",Title:"languagefeedrow_Title_Tzlhg",LanguageList:"languagefeedrow_LanguageList_1VBz-",Text:"languagefeedrow_Text_1SGbC",DismissButton:"languagefeedrow_DismissButton_3zHKD"}},"3+zv":function(e,t,n){"use strict";n.d(t,"r",function(){return C}),n.d(t,"q",function(){return O}),n.d(t,"g",function(){return S}),n.d(t,"c",function(){return B}),n.d(t,"s",function(){return A}),n.d(t,"n",function(){return I}),n.d(t,"p",function(){return M}),n.d(t,"i",function(){return j}),n.d(t,"h",function(){return R}),n.d(t,"l",function(){return N}),n.d(t,"m",function(){return L}),n.d(t,"k",function(){return k}),n.d(t,"f",function(){return F}),n.d(t,"e",function(){return P}),n.d(t,"t",function(){return G}),n.d(t,"a",function(){return U}),n.d(t,"b",function(){return x}),n.d(t,"d",function(){return z}),n.d(t,"j",function(){return H}),n.d(t,"o",function(){return W});var r=n("mrSG"),i=n("2vnA"),a=n("ZeAL"),s=n("kyHq"),c=n("+VX6"),o={bBroadcastEnabled:!1,broadcastChatSetting:"hide",default_broadcast_title:"#Broadcast_default_title_dev",localized_broadcast_title:new Array(30),localized_broadcast_left_image:new Array(30),localized_broadcast_right_image:new Array(30),broadcast_whitelist:[]},l=n("kLLr"),d=n("ir+G"),m=n("U+Q5"),h=n("TQGK"),u=n("uIWk"),p=n("5izx"),f=n("r64O"),b=n("TLQK"),_=n("YyVH"),v=n("N0Ye"),g=(n("vDqi"),n("q1tI"),n("bDQf"),n("lkRc")),y=n("bS9Q");n("bxiW");new Set([9,11,20,21,22,23,24,25,26,27,31,35]);var S,w,C=593110,O=[C,766,221410];(w=S=S||{})[w.k_EEventStateUnpublished=0]="k_EEventStateUnpublished",w[w.k_EEventStateStaged=1]="k_EEventStateStaged",w[w.k_EEventStateVisible=2]="k_EEventStateVisible";var E=["topwishlisted","trendingwishlisted","popularcomingsoon","mostplayeddemo","dailyactiveuserdemo","playednowdemo","recentlyreleased","popularpurchased","popularpurchaseddiscounted","discounted","price"];function B(e){return 0<=E.indexOf(e)}var A=[{label:"#Sale_BrowserSortOption_NewAndTrending",flavor:"newandtrending",tooltip:"#Sale_BrowserSortOption_NewAndTrending_ttip"},{label:"#Sale_BrowserSortOption_TopWishlisted",flavor:"topwishlisted",tooltip:"#Sale_BrowserSortOption_TopWishlisted_ttip"},{label:"#Sale_BrowserSortOption_TrendingWishlisted",flavor:"trendingwishlisted",tooltip:"#Sale_BrowserSortOption_TrendingWishlisted_ttip"},{label:"#Sale_BrowserSortOption_PopularUpcoming",flavor:"popularcomingsoon",tooltip:"#Sale_BrowserSortOption_PopularUpcoming_ttip"},{label:"#Sale_BrowserSortOption_MostPlayedDemo",flavor:"mostplayeddemo",tooltip:"#Sale_BrowserSortOption_MostPlayedDemo_ttip"},{label:"#Sale_BrowserSortOption_DailyActiveUserDemo",flavor:"dailyactiveuserdemo",tooltip:"#Sale_BrowserSortOption_DailyActiveUserDemo_ttip"},{label:"#Sale_BrowserSortOption_PlayedNowDemo",flavor:"playednowdemo",tooltip:"#Sale_BrowserSortOption_PlayedNowDemo_ttip"},{label:"#Sale_BrowserSortOption_RecentlyReleased",flavor:"recentlyreleased",tooltip:"#Sale_BrowserSortOption_RecentlyReleased_ttip"},{label:"#Sale_BrowserSortOption_PopularPurchased",flavor:"popularpurchased",tooltip:"#Sale_BrowserSortOption_PopularPurchased_ttip"},{label:"#Sale_BrowserSortOption_PopularPurchasedDiscounted",flavor:"popularpurchaseddiscounted",tooltip:"#Sale_BrowserSortOption_PopularPurchasedDiscounted_ttip"},{label:"#Sale_BrowserSortOption_Discounted",flavor:"discounted",tooltip:"#Sale_BrowserSortOption_Discounted_ttip"},{label:"#Sale_BrowserSortOption_Price",flavor:"price",tooltip:"#Sale_BrowserSortOption_Price_ttip"}];function I(e){switch(e){case"links":return{nMaxItemsPerRow:5,nItemMinimumWidth:200};default:return{nMaxItemsPerRow:4,nItemMinimumWidth:300}}}var j,D,R,T,M="bordered";function N(e){return e.carousel_rows||1}function L(e){return e.cap_item_count||0}function k(e){return e.cap_section_content?e.cap_section_row_count&&0<e.cap_section_row_count?e.cap_section_row_count:4:0}(D=j=j||{})[D.k_EStoreFilterClauseTypeOr=0]="k_EStoreFilterClauseTypeOr",D[D.k_EStoreFilterClauseTypeAnd=1]="k_EStoreFilterClauseTypeAnd",D[D.k_EStoreFilterClauseTypeStoreTag=2]="k_EStoreFilterClauseTypeStoreTag",D[D.k_EStoreFilterClauseTypeFeatureTag=3]="k_EStoreFilterClauseTypeFeatureTag",(T=R=R||{})[T.k_ESortFacetsByName=0]="k_ESortFacetsByName",T[T.k_ESortFacetsByMatchCount=1]="k_ESortFacetsByMatchCount",T[T.k_ESortFacetsManually=2]="k_ESortFacetsManually";var F={capsules:[],events:[],links:[],localized_label:new Array(30),localized_label_image:new Array(30),default_label:"#Sale_default_label",section_type:"items"};var P=Object(r.a)(Object(r.a)({localized_subtitle:new Array(30),localized_summary:new Array(30),localized_title_image:new Array(30),localized_capsule_image:new Array(30),localized_spotlight_image:new Array(30),bSaleEnabled:!1,sale_show_creator:!1,sale_sections:[],sale_browsemore_text:"",sale_browsemore_url:"",sale_browsemore_color:"",sale_browsemore_bgcolor:"",localized_sale_header:new Array(30),localized_sale_overlay:new Array(30),localized_sale_product_banner:new Array(30),localized_sale_product_mobile_banner:new Array(30),sale_font:"",sale_background_color:"",sale_header_offset:150,referenced_appids:[]},o),{bScheduleEnabled:!1,scheduleEntries:[]}),G="old_announce_",U={capsule:{width:800,height:450},spotlight:{width:2108,height:460},background:{width:1920,height:622},hero:{width:0,height:0},email_full:{width:800,height:300},email_centered:{width:644,height:300},broadcast_left:{width:155,height:337},broadcast_right:{width:155,height:337},sale_header:{width:0,height:0,bDisableEnforceDimensions:!0},sale_overlay:{width:0,height:0,bDisableEnforceDimensions:!0},localized_image_group:{width:0,height:0,bDisableEnforceDimensions:!0},sale_section_background:{width:0,height:0,bDisableEnforceDimensions:!0},sale_section_title:{width:0,height:0,bDisableEnforceDimensions:!0},link_capsule:{width:0,height:0,bDisableEnforceDimensions:!0},product_banner:{width:1100,height:160},product_mobile_banner:{width:500,height:160},product_banner_override:{width:1100,height:160},product_mobile_banner_override:{width:500,height:160},schedule_track_art:{width:196,height:92}};function x(e,t,n){var r=U[n];return!!r&&(!r.bDisableEnforceDimensions&&(e===r.width&&t===r.height))}function z(e,t,n){var r=U[n];return!!r&&(!!r.bDisableEnforceDimensions||!(e<r.width||t<r.height))}var H=function(){function o(){this.type=1,this.appid=0,this.name=new Map,this.description=new Map,this.timestamp_loc_updated=new Map,this.visibility_state=S.k_EEventStateUnpublished,this.jsondata=P,this.nCommentCount=0,this.nVotesUp=0,this.nVotesDown=0,this.bOldAnnouncement=!1,this.announcementClanSteamID=void 0,this.loadedAllLanguages=!1,this.bLoaded=!1,this.deleteInProgress=!1,this.vecTags=new Array}return o.prototype.BIsPartnerEvent=function(){return!this.bOldAnnouncement&&Boolean(this.GID)},o.FromJSON=function(e){var t=new o,n=JSON.parse(e);return Object.assign(t,n),t.name=new Map(n.name),t.description=new Map(n.description),t.vecTags=new Array(n.vecTags),t.clanSteamID=new l.a(n.clanSteamID),Object(f.a)(t.clanSteamID&&t.clanSteamID.BIsValid(),"Invalid Clan SteamID: "+t.clanSteamID.ConvertTo64BitString()),n.broadcaster&&(t.broadcaster=new l.a(n.broadcaster),Object(f.a)(t.broadcaster&&t.broadcaster.BIsValid(),"Invalid Broadcast SteamID: "+t.broadcaster.ConvertTo64BitString())),t},o.prototype.toJSON=function(e){var t=new Object;return Object.assign(t,this),t.name=Array.from(this.name),t.description=Array.from(this.description),t.tags=Array.from(this.vecTags),t.clanSteamID=this.clanSteamID.ConvertTo64BitString(),this.broadcaster&&(t.broadcaster=this.broadcaster.ConvertTo64BitString()),t},o.prototype.clone=function(){var n=new o;return n.GID=this.GID,n.AnnouncementGID=this.AnnouncementGID,n.clanSteamID=this.clanSteamID,n.bOldAnnouncement=this.bOldAnnouncement,n.nCommentCount=this.nCommentCount,n.nVotesUp=this.nVotesUp,n.nVotesDown=this.nVotesDown,n.forumTopicGID=this.forumTopicGID,n.comment_type=this.comment_type,n.gidfeature=this.gidfeature,n.gidfeature2=this.gidfeature2,n.featured_app_tagid=this.featured_app_tagid,n.last_update_steamid=this.last_update_steamid,n.rtime32_last_modified=this.rtime32_last_modified,n.rtime32_last_solr_search_col_updated=this.rtime32_last_solr_search_col_updated,n.rtime32_moderator_reviewed=this.rtime32_moderator_reviewed,n.type=this.type,n.appid=this.appid,n.name=new Map,this.name.forEach(function(e,t){n.name.set(t,e)}),n.description=new Map,this.description.forEach(function(e,t){n.description.set(t,e)}),n.timestamp_loc_updated=new Map,this.timestamp_loc_updated.forEach(function(e,t){n.timestamp_loc_updated.set(t,e)}),n.startTime=this.startTime,n.endTime=this.endTime,n.visibilityStartTime=this.visibilityStartTime,n.visibilityEndTime=this.visibilityEndTime,n.postTime=this.postTime,n.visibility_state=this.visibility_state,n.loadedAllLanguages=this.loadedAllLanguages,n.bLoaded=this.bLoaded,n.broadcaster=this.broadcaster?new l.a(this.broadcaster.ConvertTo64BitString()):null,n.jsondata=JSON.parse(JSON.stringify(this.jsondata)),n.vecTags=new Array,this.vecTags.forEach(function(e){return n.vecTags.push(e)}),n},o.prototype.GetLastReferencedSaleDayFromCapsules=function(e,t){for(var n=t,r=0,i=e;r<i.length;r++){var a=i[r];void 0!==a.visibility_index&&(n=void 0===n?a.visibility_index:Math.max(n,a.visibility_index))}return n},o.prototype.GetLastReferencedSaleDay=function(){for(var e=void 0,t=0,n=this.GetSaleSections();t<n.length;t++){var r=n[t];if("tabs"===r.section_type)for(var i=0,a=r.tabs;i<a.length;i++)var o=a[i],e=this.GetLastReferencedSaleDayFromCapsules(o.capsules,e);else e=this.GetLastReferencedSaleDayFromCapsules(r.capsules,e)}return e},o.prototype.GetDayIndexFromEventStart=function(){var e=0,t=p.a.GetTimeNowWithOverride();void 0!==this.startTime&&t>=this.startTime&&(e=Math.floor((t-this.startTime)/86400)),void 0!==this.m_overrideCurrentDay&&0<=this.m_overrideCurrentDay&&(e=this.m_overrideCurrentDay);var n=this.GetLastReferencedSaleDay()||0;return Math.min(e,n)},o.prototype.GetNameWithFallback=function(e){var t=b.b.GetELanguageFallback(e);return this.name.get(e)||this.name.get(t)},o.prototype.GetGameTitle=function(e){return d.a.GetStoreCapsuleInfo(this.appid).GetAppStoreData().title},o.prototype.BInRealmGlobal=function(){return!this.BHasTag("disable_steam_global")},o.prototype.BInRealmChina=function(){return this.BHasTag("enable_steam_china")},o.prototype.BIsLanguageValidForRealms=function(e){return!(!this.BInRealmGlobal()||!b.b.IsELanguageValidInRealm(e,s.p.k_ESteamRealmGlobal))||!(!this.BInRealmChina()||!b.b.IsELanguageValidInRealm(e,s.p.k_ESteamRealmChina))},o.prototype.GetImgArray=function(e){var t,n=[];return"background"===e&&(n=this.jsondata.localized_title_image),"capsule"===e?n=this.jsondata.localized_capsule_image:"spotlight"===e?n=this.jsondata.localized_spotlight_image:"email_full"===e||"email_centered"===e?n=this.jsondata.email_setting?this.jsondata.email_setting.sections[0].localized_image:[]:"broadcast_left"===e?n=this.jsondata.localized_broadcast_left_image:"broadcast_right"===e?n=this.jsondata.localized_broadcast_right_image:"sale_header"===e?n=void 0!==this.jsondata.sale_num_headers?(t=Math.min(this.jsondata.sale_num_headers,this.GetDayIndexFromEventStart()),this.jsondata.localized_per_day_sales_header[t]):this.jsondata.localized_sale_header:"sale_overlay"===e?n=this.jsondata.localized_sale_overlay:"localized_image_group"===e||"link_capsule"===e||"product_banner_override"===e||"product_mobile_banner_override"===e||"sale_section_title"===e||"schedule_track_art"===e?n=m.d.GetLocalizedImageGroupForEditAsImgArray(this.clanSteamID):"product_banner"===e?n=this.jsondata.localized_sale_product_banner:"product_mobile_banner"===e&&(n=this.jsondata.localized_sale_product_mobile_banner),n},o.prototype.GetImageURL=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=m.c.full);var r=this.GetImgArray(e);return r&&r.length>t&&null!=r[t]?m.a.GenerateArtworkURLFromHashAndExtensions(this.clanSteamID,r[t],n):void 0},o.prototype.GetImageHash=function(e,t){void 0===t&&(t=0);var n=this.GetImgArray(e);return n&&n.length>t&&null!=n[t]?n[t].substr(0,n[t].length-4):null},o.prototype.BHasSomeImage=function(e){var t=this.GetImgArray(e);return t&&t.some(function(e){return null!=e&&0<e.length})},o.prototype.BHasImage=function(e,t){var n=this.GetImgArray(e);return n&&n.length>t&&null!=n[t]},o.prototype.BHasAnnouncementGID=function(){return null!==this.AnnouncementGID&&void 0!==this.AnnouncementGID&&1<this.AnnouncementGID.length},o.prototype.GetAnnouncementGID=function(){return this.AnnouncementGID},o.prototype.BHasForumTopicGID=function(){return null!==this.forumTopicGID&&void 0!==this.forumTopicGID&&1<this.forumTopicGID.length},o.prototype.GetForumTopicURL=function(){if(!this.BHasForumTopicGID())return"";if(this.appid)return g.c.COMMUNITY_BASE_URL+"app/"+this.appid+"/eventcomments/"+this.forumTopicGID;var e=h.a.GetClanInfoByClanAccountID(this.clanSteamID.GetAccountID());return e&&e.vanity_url?g.c.COMMUNITY_BASE_URL+"groups/"+e.vanity_url+"/eventcomments/"+this.forumTopicGID:g.c.COMMUNITY_BASE_URL+"gid/"+this.clanSteamID.ConvertTo64BitString()+"/eventcomments/"+this.forumTopicGID},o.prototype.BIsEventInFuture=function(){return p.a.GetTimeNowWithOverride()<this.startTime},o.prototype.BHasEventEnded=function(){return this.endTime<p.a.GetTimeNowWithOverride()},o.prototype.UpdateVoteCount=function(e,t){"up"==e?this.nVotesUp=Object(_.a)(this.nVotesUp+t,0,Number.MAX_SAFE_INTEGER):"down"==e&&(this.nVotesDown=Object(_.a)(this.nVotesDown+t,0,Number.MAX_SAFE_INTEGER))},o.prototype.GetImageFromBeginningOfDescription=function(e,t){var n=this.GetDescriptionWithFallback(e);if(n){var r=n.indexOf("[img]");if(-1!==r&&r<t){r+=5;var i=n.indexOf("[/img]",r);if(-1!=i){var a=n.substr(r,i-r).trim();if(0!=a.length)return(a=a.replace(c.b,"https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/clans/")).replace("http://","https://")}}}return null},o.prototype.GetImageURLWithFallback=function(e,t,n){var r,i;void 0===n&&(n=m.c.full);var a=this.GetImageURL(e,t,n);if(a&&0<a.trim().length)return a;var o=b.b.GetELanguageFallback(t);if(t!=o){var s=this.GetImageURL(e,o,n);if(s&&0<s.trim().length)return s}var c=h.a.GetClanInfoByClanAccountID(this.clanSteamID.GetAccountID());if("capsule"!=e)return"background"==e&&c&&(c.is_creator_home||c.is_curator)?c.creator_page_bg_url:this.GetFallbackArtworkScreenshot();var l=this.GetImageFromBeginningOfDescription(t,Number.MAX_VALUE);if(l)return l;var u=this.appid;if(c&&(c.is_creator_home||c.is_curator)){if(null===(i=null===(r=this.jsondata)||void 0===r?void 0:r.referenced_appids)||void 0===i||!i.length)return c.avatar_full_url;u=this.jsondata.referenced_appids[0]}var p=d.a.GetStoreCapsuleInfo(u);return p.BIsLoaded()?p.GetAppStoreData().capsule:"https://media.st.dl.pinyuncloud.com/steam/apps/"+u+"/header.jpg"},o.prototype.GetFallbackArtworkScreenshot=function(){if(this.appid){d.a.EnsureStoreCapsuleInfoLoaded(this.appid);var e=d.a.GetStoreCapsuleInfo(this.appid).GetAppStoreData();if(e.screenshot_list&&1<e.screenshot_list.length){var t=Number(this.bOldAnnouncement?this.AnnouncementGID:null==this.GID?0:this.GID);return t%=e.screenshot_list.length,e.screenshot_list[t]}return e.screenshot}if(this.clanSteamID){var n=h.a.GetClanInfoByClanAccountID(this.clanSteamID.GetAccountID());if(n&&(n.is_creator_home||n.is_curator))return n.avatar_full_url}return null},o.prototype.BImageNeedScreenshotFallback=function(e,t){var n,r=this.GetImageURL(e,t);return r&&0!=r.length||t!=(n=b.b.GetELanguageFallback(t))&&(r=this.GetImageURL(e,n)),!r||0==r.length},o.prototype.GetImageForSizeAsArrayWithFallback=function(e,t,n,r){var i=new Array;this.BImageNeedScreenshotFallback(e,t)||(i.push(this.GetImageURLWithFallback(e,t,n)),n!=m.c.full&&i.push(this.GetImageURLWithFallback(e,t,m.c.full)));var a=this.GetFallbackArtworkScreenshot();return a&&!r&&i.push(a),i},o.prototype.GetDescriptionWithFallback=function(e){var t=b.b.GetELanguageFallback(e);return this.description.get(e)||this.description.get(t)},o.prototype.BIsImageSafeForAllAges=function(e,t){var n=h.a.GetClanInfoByClanAccountID(this.clanSteamID.GetAccountID()),r=b.b.GetELanguageFallback(t);return null!=this.GetImageURL(e,t)||t!=r&&null!=this.GetImageURL(e,r)||this.appid&&d.a.GetStoreCapsuleInfo(this.appid).GetAppStoreData().age_safe_screenshot||!this.appid&&n&&(n.is_creator_home||n.is_curator)},o.prototype.BIsVisibleEvent=function(){var e=Math.floor(p.a.GetTimeNowWithOverride());return this.visibility_state==S.k_EEventStateVisible&&e>this.visibilityStartTime&&(this.visibilityEndTime<10||e<this.visibilityEndTime)},o.prototype.BIsStagedEvent=function(){return this.visibility_state==S.k_EEventStateStaged},o.prototype.GetStartTimeAndDateUnixSeconds=function(){return this.startTime},o.prototype.GetEndTimeAndDateUnixSeconds=function(){return this.endTime},o.prototype.GetPostTimeAndDateUnixSeconds=function(){return this.postTime},o.prototype.GetVisibilityStartTimeAndDateUnixSeconds=function(){return this.visibilityStartTime},o.prototype.BIsEventActionEnabled=function(){return!!this.jsondata.action_end_time&&(this.jsondata.action_end_time>p.a.GetTimeNowWithOverride()||1575396e3==this.jsondata.action_end_time&&p.a.GetTimeNowWithOverride()<1606845600)},o.prototype.BHasSubTitle=function(e){if(!this.jsondata||!this.jsondata.localized_subtitle||e>=this.jsondata.localized_subtitle.length)return!1;var t=this.jsondata.localized_subtitle[e];return null!=t&&""!=t},o.prototype.GetSubTitle=function(e){if(!this.jsondata||!this.jsondata.localized_subtitle||e>=this.jsondata.localized_subtitle.length)return"";var t=this.jsondata.localized_subtitle[e];return t||""},o.prototype.GetSubTitleWithLanguageFallback=function(e){return this.jsondata?b.a.GetWithFallback(this.jsondata.localized_subtitle,e):""},o.prototype.GetSubTitleWithSummaryFallback=function(e){var t;return b.a.GetWithFallback(null===(t=this.jsondata)||void 0===t?void 0:t.localized_subtitle,e)||o.GenerateSummaryFromText(this.GetDescriptionWithFallback(e))},o.prototype.GetSummaryWithFallback=function(e){var t;return b.a.GetWithFallback(null===(t=this.jsondata)||void 0===t?void 0:t.localized_summary,e)||o.GenerateSummaryFromText(this.GetDescriptionWithFallback(e))},o.prototype.GetSummary=function(e){var t;return b.a.Get(null===(t=this.jsondata)||void 0===t?void 0:t.localized_summary,e)},o.prototype.BHasSummary=function(e){return Boolean(this.GetSummary(e))},o.GenerateSummaryFromText=function(e){return e&&0!=e.trim().length?(e=Object(a.b)(e,["img","h1","h2","h3","spoiler","table","previewyoutube","looping_media","roomeffect","sticker"]),e=Object(a.c)(e),e=Object(y.c)(e),Object(y.d)(e,180)):""},o.prototype.BHasTag=function(e){return-1!=this.vecTags.indexOf(e)},o.prototype.BIsOGGEvent=function(){return 0!==this.appid},o.prototype.BShowLibrarySpotlight=function(){return Boolean(this.jsondata.library_spotlight)},o.prototype.BShowLibrarySpotlightText=function(){return Boolean(this.jsondata.library_spotlight_text)},o.prototype.BHasBroadcastEnabled=function(){return this.jsondata.bBroadcastEnabled},o.prototype.BEventCanShowBroadcastWidget=function(e){if(this.jsondata.bSaleEnabled)return this.BHasBroadcastEnabled();var t=p.a.GetTimeNowWithOverride(),n=this.endTime?this.endTime:t+3600;return this.BHasBroadcastEnabled()&&this.jsondata.broadcast_whitelist&&0<this.jsondata.broadcast_whitelist.length&&(e||this.startTime-600<=t&&t<n)},o.prototype.BHasBroadcastForceBanner=function(){return this.jsondata.broadcast_force_banner},o.prototype.BSaleShowBroadcastAtTopOfPage=function(){return!(this.jsondata.sale_sections&&this.jsondata.sale_sections.some(function(e){return"broadcast"==e.section_type}))},o.prototype.BSaleShowCuratorRecommendationAtBottomOfPage=function(){return!(this.jsondata.sale_sections&&this.jsondata.sale_sections.some(function(e){return"curator_recommendation"==e.section_type}))},o.prototype.GetBroadcastChatVisibility=function(){return this.jsondata.broadcastChatSetting},o.prototype.GetBroadcastTitle=function(e){return b.a.GetWithFallback(this.jsondata.localized_broadcast_title,e)||Object(b.f)(this.jsondata.default_broadcast_title)},o.prototype.GetBroadcastWhitelist=function(){return this.jsondata.broadcast_whitelist},o.prototype.GetBroadcastWhitelistAsSteamIDs=function(){return this.jsondata.broadcast_whitelist.map(function(e){return l.a.InitFromAccountID(e).ConvertTo64BitString()})},o.prototype.GetBroadcastWhitelistPriority=function(e,t){var n=this.jsondata.broadcast_whitelist.indexOf(e);return n<0?null:this.jsondata.broadcast_priority&&!(n>=this.jsondata.broadcast_priority.length)&&this.jsondata.broadcast_priority[n]||t},o.prototype.BHasSaleEnabled=function(){return this.jsondata.bSaleEnabled},o.prototype.BHasSaleVanity=function(){return this.jsondata.bSaleEnabled&&Boolean(this.jsondata.sale_vanity_id)},o.prototype.GetSaleVanity=function(){return this.jsondata.sale_vanity_id},o.prototype.GetSaleURL=function(){return Boolean(this.jsondata.sale_vanity_id)?this.jsondata.sale_vanity_id_valve_approved_for_sale_subpath?g.c.STORE_BASE_URL+"sale/"+this.jsondata.sale_vanity_id:u.a.BHasCreatorHomeLoaded(this.clanSteamID)?u.a.GetCreatorHome(this.clanSteamID).GetCreatorHomeURL("developer")+"sale/"+this.jsondata.sale_vanity_id:g.c.STORE_BASE_URL+"curator/"+this.clanSteamID.GetAccountID()+"/sale/"+this.jsondata.sale_vanity_id:g.c.STORE_BASE_URL+"newshub/"+(this.appid?"app/"+this.appid:"group/"+this.clanSteamID.GetAccountID())+"/view/"+this.GID},o.prototype.BHasEmailEnabled=function(){return this.jsondata.email_setting&&this.jsondata.email_setting.bEnable},o.prototype.GetSaleSections=function(){return this.jsondata.sale_sections},o.prototype.GetSaleSectionCount=function(){return this.jsondata.sale_sections.length},o.AccumulateCapsuleListIDs=function(e,t,n){e&&e.forEach(function(e){e&&t.has(e.type)&&n.add(e.id)})},o.prototype.GetSaleItemOfType=function(e){if(!this.jsondata.sale_sections)return new Set;var i=new Set(e),a=new Set;return this.jsondata.sale_sections.forEach(function(e){if("items"===e.section_type)o.AccumulateCapsuleListIDs(e.capsules,i,a);else if("tabs"===e.section_type&&e.tabs)for(var t=0,n=e.tabs;t<n.length;t++){var r=n[t];o.AccumulateCapsuleListIDs(r.capsules,i,a)}}),a},o.prototype.GetSaleItemCountOfType=function(e){return this.GetSaleItemOfType(e).size},o.prototype.GetSaleFeaturedAppsCount=function(){return this.GetSaleItemCountOfType(["game","application","software","dlc","music"])},o.prototype.GetSaleFeaturedBundlesCount=function(){return this.GetSaleItemCountOfType(["bundle"])},o.prototype.GetSaleFeaturedPackagesCount=function(){return this.GetSaleItemCountOfType(["sub"])},o.prototype.GetSaleFeaturedApps=function(){return this.GetSaleItemOfType(["game","application","software","dlc","music"])},o.prototype.GetSaleFeaturedBundles=function(){return this.GetSaleItemOfType(["bundle"])},o.prototype.GetSaleFeaturedPackages=function(){return this.GetSaleItemOfType(["sub"])},o.prototype.GetTaggedItems=function(){return this.jsondata.tagged_items||[]},o.prototype.BHasScheduleEnabled=function(){return this.jsondata.bScheduleEnabled},o.prototype.GetEventType=function(){return this.type},o.prototype.GetEventTypeAsString=function(){return Object(v.b)(this.type)},o.prototype.GetCategoryAsString=function(){return this.BHasTag("steam_award_nomination_request")?Object(b.f)("#PartnerEvent_SteamAwardNominations"):this.BHasTag("steam_award_vote_request")?Object(b.f)("#PartnerEvent_SteamAwardVoteRequest"):this.BHasTag("steam_game_festival_artist_statement")?Object(b.f)("#PartnerEvent_SteamGameFestival_ArtistState"):this.BHasTag("steam_game_festival_office_hour")?Object(b.f)("#PartnerEvent_SteamGameFestival_OfficeHour"):this.BHasTag("steam_game_festival_broadcast")?Object(b.f)("#PartnerEvent_SteamGameFestival_Broadcast"):this.GetEventTypeAsString()},o.prototype.GetAllTags=function(){return this.vecTags},o.prototype.BHasSteamStoreSpotlight=function(){return Boolean(this.jsondata.store_spotlight)},o.prototype.BHasLibaryHomeSpotlight=function(){return Boolean(this.jsondata.library_home_spotlight)},o.prototype.BHasSaleProductBanners=function(){return this.jsondata.bSaleEnabled&&(this.BHasSomeImage("product_banner")||this.BHasSomeImage("product_banner_override"))},o.prototype.GetSteamAwardCategory=function(){return this.jsondata.steam_award_category_suggestion},o.prototype.GetSteamAwardNomineeCategories=function(){return this.jsondata.steam_award_category_voteids},o.prototype.BIsLockedToAppOwners=function(){var e;return Boolean(null===(e=this.jsondata.ownership_requirement_info)||void 0===e?void 0:e.bLockedToAppOwners)},o.prototype.GetRequiredAppIDs=function(){return this.jsondata.ownership_requirement_info?this.jsondata.ownership_requirement_info.rgRequiredAppIDs:[]},o.prototype.GetOwnershipRequirements=function(){return this.jsondata.ownership_requirement_info},o.prototype.BIsLockedToPartnerAppRights=function(){var e;return Boolean(null===(e=this.jsondata.app_right_requirement_info)||void 0===e?void 0:e.bLockedToPartnerAppRights)},o.prototype.GetRequiredPartnerAppRights=function(){return this.jsondata.app_right_requirement_info},o.prototype.GetValveAccessLog=function(){return this.jsondata.valve_access_log},Object(r.c)([i.observable],o.prototype,"GID",void 0),Object(r.c)([i.observable],o.prototype,"AnnouncementGID",void 0),Object(r.c)([i.observable],o.prototype,"forumTopicGID",void 0),Object(r.c)([i.observable],o.prototype,"type",void 0),Object(r.c)([i.observable],o.prototype,"appid",void 0),Object(r.c)([i.observable],o.prototype,"name",void 0),Object(r.c)([i.observable],o.prototype,"description",void 0),Object(r.c)([i.observable],o.prototype,"timestamp_loc_updated",void 0),Object(r.c)([i.observable],o.prototype,"startTime",void 0),Object(r.c)([i.observable],o.prototype,"endTime",void 0),Object(r.c)([i.observable],o.prototype,"visibilityStartTime",void 0),Object(r.c)([i.observable],o.prototype,"visibilityEndTime",void 0),Object(r.c)([i.observable],o.prototype,"postTime",void 0),Object(r.c)([i.observable],o.prototype,"visibility_state",void 0),Object(r.c)([i.observable],o.prototype,"broadcaster",void 0),Object(r.c)([i.observable],o.prototype,"jsondata",void 0),Object(r.c)([i.observable],o.prototype,"nCommentCount",void 0),Object(r.c)([i.observable],o.prototype,"nVotesUp",void 0),Object(r.c)([i.observable],o.prototype,"nVotesDown",void 0),Object(r.c)([i.observable],o.prototype,"bOldAnnouncement",void 0),Object(r.c)([i.observable],o.prototype,"announcementClanSteamID",void 0),Object(r.c)([i.observable],o.prototype,"loadedAllLanguages",void 0),Object(r.c)([i.observable],o.prototype,"bLoaded",void 0),Object(r.c)([i.observable],o.prototype,"deleteInProgress",void 0),Object(r.c)([i.observable],o.prototype,"vecTags",void 0),Object(r.c)([i.observable],o.prototype,"last_update_steamid",void 0),Object(r.c)([i.observable],o.prototype,"rtime32_last_modified",void 0),Object(r.c)([i.observable],o.prototype,"rtime32_last_solr_search_col_updated",void 0),Object(r.c)([i.observable],o.prototype,"rtime32_last_local_modification",void 0),Object(r.c)([i.observable],o.prototype,"rtime32_moderator_reviewed",void 0),Object(r.c)([i.observable],o.prototype,"video_preview_type",void 0),Object(r.c)([i.observable],o.prototype,"video_preview_id",void 0),Object(r.c)([i.observable],o.prototype,"m_overrideCurrentDay",void 0),o}();function W(e){return e.replace("(","\\(").replace(")","\\)")}},"31dG":function(e,t,n){e.exports={MainBlock:"salesectionsubscription_MainBlock_2tDhP",SelectAPlan:"salesectionsubscription_SelectAPlan_3H7r9",SubscriptionListBlock:"salesectionsubscription_SubscriptionListBlock_1YbMr",SubscriptionBlock:"salesectionsubscription_SubscriptionBlock_C-J1C",LogoImg:"salesectionsubscription_LogoImg_26_9r",PriceBlock:"salesectionsubscription_PriceBlock_8VH3Y",PriceDisplay:"salesectionsubscription_PriceDisplay_3wwah",LimitedDiscount:"salesectionsubscription_LimitedDiscount_3ShJm",SavingsDisplay:"salesectionsubscription_SavingsDisplay_1VC82",BodyTextBlock:"salesectionsubscription_BodyTextBlock_2VWP1",ExpirationTextBlock:"salesectionsubscription_ExpirationTextBlock_cw1hB",PurchaseButton:"salesectionsubscription_PurchaseButton_kpf95",AlreadyOwnedPackage:"salesectionsubscription_AlreadyOwnedPackage_2ymWR",AlreadyOwnedApp:"salesectionsubscription_AlreadyOwnedApp_3dYX7",UnOwned:"salesectionsubscription_UnOwned_1-zl0",DiscountPriceBlock:"salesectionsubscription_DiscountPriceBlock_z8OZz"}},"3FWY":function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",Container:"appdetailsgameinfopanel_Container_2jPMy",InnerContainer:"appdetailsgameinfopanel_InnerContainer_37mmO",SectionContainer:"appdetailsgameinfopanel_SectionContainer_1uS70",FeaturesList:"appdetailsgameinfopanel_FeaturesList_nkIX4",Description:"appdetailsgameinfopanel_Description_2AMl0",GameDescription:"appdetailsgameinfopanel_GameDescription_3GkV1",Stats:"appdetailsgameinfopanel_Stats_3cntz",AssociationList:"appdetailsgameinfopanel_AssociationList_2ZcNQ",Release:"appdetailsgameinfopanel_Release_1OWQ9",Label:"appdetailsgameinfopanel_Label_1vYL2",Date:"appdetailsgameinfopanel_Date_izVv8",LastUpdated:"appdetailsgameinfopanel_LastUpdated_1snWl",Recent:"appdetailsgameinfopanel_Recent_1thSK",Association:"appdetailsgameinfopanel_Association_-9icu",Name:"appdetailsgameinfopanel_Name_2j8Xh",Separator:"appdetailsgameinfopanel_Separator_9VAxV",SocialMedia:"appdetailsgameinfopanel_SocialMedia_2SfB1",Account:"appdetailsgameinfopanel_Account_2thiM",Icon:"appdetailsgameinfopanel_Icon_2jSAw",Link:"appdetailsgameinfopanel_Link_3ITmi",Shortcut:"appdetailsgameinfopanel_Shortcut_2K2bY",Portrait:"appdetailsgameinfopanel_Portrait_1Id6Z",ZoomInButton:"appdetailsgameinfopanel_ZoomInButton_2mMT5",Expanded:"appdetailsgameinfopanel_Expanded_YR4JA",BoxArt:"appdetailsgameinfopanel_BoxArt_3JzkH",TooltipBoxArt:"appdetailsgameinfopanel_TooltipBoxArt_3xcQg",CompatToolContainer:"appdetailsgameinfopanel_CompatToolContainer_2UN73",Left:"appdetailsgameinfopanel_Left_3mH9V",Right:"appdetailsgameinfopanel_Right_PX7-N",MappingToolName:"appdetailsgameinfopanel_MappingToolName_3AuY_",URL:"appdetailsgameinfopanel_URL_Bnzdq"}},"3TYK":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAgCAYAAABdP1tmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRERUQ1MjQ5NjAxMzExRTY5NTkyRjY4RDcwMzI0QjQ1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRERUQ1MjRBNjAxMzExRTY5NTkyRjY4RDcwMzI0QjQ1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RERFRDUyNDc2MDEzMTFFNjk1OTJGNjhENzAzMjRCNDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RERFRDUyNDg2MDEzMTFFNjk1OTJGNjhENzAzMjRCNDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6coHCaAAABjklEQVR42mL8//8/w3ACjKMeGsEeUgbiZCC2B2JpkF1A/A6IzwLxEiA+QBNbQR6iATYD4pf/8YMSWthNixjiAOJTQKxLKCyB2AiIL1DTciYaRLoJEZ5hgCbBYGpbTgsPadNI7YB5iJcEtdxYYm3QeYikMokAf1B46CkJal8MhSRnRYJadSDmGuwe0iDRQ2yD3UNHSFB7HYg/DnYPHSRB7SlqFAS0bsuxAPECII4moO4GEDsA8cvBHkN/gPgoEequUdsztKyHLhKh5iwSm5kalSotuw+gZLcOiH1xyF8FYlcgfo7UQqCOQ2jUfQBhazxdh3xa2UvLpg++JMRKK0tp6SF9EuVYqZGPqJmH+IBYBdolABXHYUDMg6dRCioJtwLxOWgF+3iwFAqgjB8LxJZALEOmGZ+A+AQQzwTijUD8dyAKBXYgnv+fuuA3EK8FYtGBGFOYC8RJNMp/Z6GjRV/pFUMO/2kPyugZQ8uBOILGvdlb0O4FXQqF00CsRGMPgZKb3GBp+gwYGPXQYAcAAQYATEEIKTrcDEcAAAAASUVORK5CYII="},"4+kh":function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",Container:"appdetailstradingcardssection_Container_3iIro",InnerContainerLower:"appdetailstradingcardssection_InnerContainerLower_BvZsP",BadgeSection:"appdetailstradingcardssection_BadgeSection_3g3jm",Badge:"appdetailstradingcardssection_Badge_RPcyJ",EmptyCircle:"appdetailstradingcardssection_EmptyCircle_2feGA",BadgeInfo:"appdetailstradingcardssection_BadgeInfo_3QrX3",BadgeName:"appdetailstradingcardssection_BadgeName_3ca2d",BadgeLevel:"appdetailstradingcardssection_BadgeLevel_2PMlM",CardsSection:"appdetailstradingcardssection_CardsSection_21DlI",CardsLeft:"appdetailstradingcardssection_CardsLeft_2H1Mi",CanLevelUp:"appdetailstradingcardssection_CanLevelUp_3B2sO",BadgeMaxed:"appdetailstradingcardssection_BadgeMaxed_2JMEE",Card:"appdetailstradingcardssection_Card_1WsOn",animateZ:"appdetailstradingcardssection_animateZ_3VKsZ",AspectRatioBox:"appdetailstradingcardssection_AspectRatioBox_1PA6A",SlightlyLargerThanNarrow:"appdetailstradingcardssection_SlightlyLargerThanNarrow_2413F",BetweenNarrowAndMedium:"appdetailstradingcardssection_BetweenNarrowAndMedium_2ecKE",CardContainer:"appdetailstradingcardssection_CardContainer_2DUDv",Title:"appdetailstradingcardssection_Title_AVDXB",CardShineContainer_N:"appdetailstradingcardssection_CardShineContainer_N_1GkFp",CardShineContainer_S:"appdetailstradingcardssection_CardShineContainer_S_tWMy7",CardShineContainer_E:"appdetailstradingcardssection_CardShineContainer_E_1hzo3",CardShineContainer_W:"appdetailstradingcardssection_CardShineContainer_W_27rHN",CardShine:"appdetailstradingcardssection_CardShine_3onKX",Clickable:"appdetailstradingcardssection_Clickable_2gXzF",Unowned:"appdetailstradingcardssection_Unowned_1A6NC",Loading:"appdetailstradingcardssection_Loading_2ZOgN",Loaded:"appdetailstradingcardssection_Loaded_3rqAf",CardImage:"appdetailstradingcardssection_CardImage_1DgYm",AnimateHover:"appdetailstradingcardssection_AnimateHover_QljE8",none:"appdetailstradingcardssection_none_3P1Cx",Owned:"appdetailstradingcardssection_Owned_2uDS7"}},"45m9":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("mrSG"),i=n("TyAF"),a=n("q1tI"),o=n("qD+2"),s=n("sVXC"),c=n.n(s),l=n("TOXn"),u=n("lkRc"),p=n("TLQK"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(){if(0==this.props.event.jsondata.referenced_appids.length)return null;var e=this.props.event.jsondata.referenced_appids.filter(function(e){return o.a.GetAppInfo(e)&&o.a.GetAppInfo(e).name}).map(function(e){return'[url="'+u.c.STORE_BASE_URL+"app/"+e+"]"+o.a.GetAppInfo(e).name+"[/url]"}).join(Object(p.f)("#EventDisplay_ReferencedApps_Joiner")),t=Object(p.m)("#EventDisplay_ReferencedApps",this.props.event.jsondata.referenced_appids.length,e);return a.createElement("div",{className:c.a.ReferencedApps},a.createElement(l.b,{text:t}))},Object(r.c)([i.observer],t)}(a.Component)},"4P4B":function(e,t,n){"use strict";n.d(t,"b",function(){return me}),n.d(t,"a",function(){return he});function E(e){var n=e.clanSteamID,t=e.fnImageSelectCallBack,r=Object(R.useRef)(null),i=Object(R.useState)(!L.d.BHasLoadedClanImages(n)),a=i[0],o=i[1],s=Object(R.useState)(""),c=s[0],l=s[1];function u(){return e.closeModal&&e.closeModal()}function p(e){t(e),u()}Object(R.useEffect)(function(){return L.d.BHasLoadedClanImages(n)||(r.current&&r.current(),o(!0),Object(j.b)(void 0,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=D.a.CancelToken.source(),r.current=t.cancel,[4,L.d.LoadClanImages(n,!1,t)];case 1:return e.sent(),t.token.reason||o(!1),[2]}})})),function(){r.current&&r.current("ClanImageChooseDialog: unmounting")}},[n]);var d=L.d.GetFilteredClanImages(n,c);return m.a.createElement(ie.a,null,m.a.createElement(G.g,{onEscKeypress:u},m.a.createElement(P.f,null,m.a.createElement(P.l,null,Object(F.f)("#ClanImageChooser_Title")),m.a.createElement(P.b,null,m.a.createElement(P.c,null,m.a.createElement("p",null,Object(F.f)("#ClanImageChooser_Desc")),m.a.createElement(P.m,{placeholder:Object(F.f)("#ClanImageChooser_Search"),value:c,onChange:function(e){return l(e.currentTarget.value)}}),m.a.createElement("div",{className:ae.ImagesOuterContainer},a?m.a.createElement(Z.a,{size:"medium",string:Object(F.f)("#Loading")}):Boolean(0<d.length)?d.map(function(e){return m.a.createElement(oe,{key:"ci"+e.image_hash,clanImage:e,searchStringHilight:c,fnImageClick:p})}):Boolean(0==c.trim().length)?m.a.createElement("div",null,Object(F.f)("#ClanImageChooser_None")):m.a.createElement("div",null,Object(F.f)("#EventCalendar_GameSearch_NoneFound"))))),m.a.createElement(P.i,null,m.a.createElement(P.d,{onClick:u},Object(F.f)("#Button_Cancel"))))))}var j=n("mrSG"),r=n("vDqi"),D=n.n(r),i=n("TyAF"),R=n("q1tI"),m=n.n(R),a=n("ZeAL"),T=n("TtDX"),M=n("+VX6"),N=n("kLLr"),L=n("U+Q5"),o=n("a5LV"),k=n("Qcoi"),s=n("bxiW"),c=n("Gorr"),l=n("i8i4"),u=n("2vnA"),p=n("I3Kc"),d=n.n(p),h=n("exH9"),f=function(n){function e(e){var t=n.call(this,e)||this;return t.m_rgCurrentMatches=[],t.m_mapMatchByKey=new Map,t.m_hMobxSearchDisposer=Object(u.autorun)(function(){return Object(j.b)(t,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,this.UpdateSearchResults(this.props.strSearch)];case 1:return e.sent(),this.forceUpdate(),[2]}})})}),t.state={selectedIndex:void 0},t}return Object(j.d)(e,n),e.prototype.OnKeyDown=function(e){this.BHandleKeyPress(e.keyCode)&&e.preventDefault()},e.prototype.BHandleKeyPress=function(e){switch(e){case 38:this.SetSelectedIndexDelta(-1);break;case 40:this.SetSelectedIndexDelta(1);break;case 36:this.SetSelectedIndex(0);break;case 33:this.SetSelectedIndexDelta(-this.GetPageSize());break;case 35:this.SetSelectedIndex(-1);break;case 34:this.SetSelectedIndexDelta(this.GetPageSize());break;case 13:case 9:if(void 0===this.state.selectedIndex)return this.props.onSuggestionSelected(this.props.strSearch),!1;this.ChooseSuggestion(this.m_rgCurrentMatches[this.state.selectedIndex]);break;case 27:this.props.onSuggestionSelected(this.props.strSearch);break;default:return!1}return!0},e.prototype.GetPageSize=function(){var e=l.findDOMNode(this),t=e&&e.firstElementChild,n=this.m_rgCurrentMatches.length;if(n>this.getMaxMatches()&&(n=this.getMaxMatches()),t&&n){var r=t.scrollHeight/n,i=t.clientHeight/r;return Math.max(1,Math.floor(i))}return 5},e.prototype.ChooseSuggestion=function(e){this.props.onSuggestionSelected(this.props.strSearch,e?this.getSelection(e):void 0)},e.prototype.SetSelectedIndexDelta=function(e){void 0!==this.state.selectedIndex?this.SetSelectedIndex(this.state.selectedIndex+e):this.SetSelectedIndex(1===e?0:e)},e.prototype.SetSelectedIndex=function(e){var t;this.m_rgCurrentMatches.length&&((t=this.m_rgCurrentMatches.length)>this.getMaxMatches()&&(t=this.getMaxMatches()),(e%=t)<0&&(e+=t),this.setState({selectedIndex:e}))},e.prototype.FindKeyIndex=function(e){if(!this.m_mapMatchByKey.size&&this.m_rgCurrentMatches.length)for(var t=0;t<this.m_rgCurrentMatches.length;t++)this.m_mapMatchByKey.set(this.getKey(this.m_rgCurrentMatches[t]),t);return this.m_mapMatchByKey.get(e)},e.prototype.OnClickSuggestion=function(e){var t=this.FindKeyIndex(e);void 0!==t&&this.ChooseSuggestion(this.m_rgCurrentMatches[t])},e.prototype.OnMouseOverSuggestion=function(e){var t=this.FindKeyIndex(e);void 0!==t&&this.SetSelectedIndex(t)},e.prototype.BindSelectedElement=function(e){var t=l.findDOMNode(this),n=l.findDOMNode(e),r=t&&t.firstElementChild;n&&r&&(r.scrollTop+r.clientHeight<n.offsetTop||n.offsetTop<r.scrollTop)&&n.scrollIntoView()},e.prototype.UpdateSearchResults=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,(t=this).performSearch(n)];case 1:return t.m_rgCurrentMatches=e.sent(),this.m_strLastSearch=n,this.m_mapMatchByKey.clear(),this.m_rgCurrentMatches.length?this.state&&void 0!==this.state.selectedIndex?this.state.selectedIndex>=this.m_rgCurrentMatches.length&&this.setState({selectedIndex:0}):(void 0===this.props.nMinimumSearchLengthBeforeAutoSelection||n.length>=this.props.nMinimumSearchLengthBeforeAutoSelection)&&this.setState({selectedIndex:0}):this.state&&void 0!==this.state.selectedIndex&&this.setState({selectedIndex:void 0}),[2]}})})},e.prototype.componentWillUnmount=function(){this.m_hMobxSearchDisposer&&(this.m_hMobxSearchDisposer(),this.m_hMobxSearchDisposer=void 0)},e.prototype.componentDidUpdate=function(e){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_strLastSearch==this.props.strSearch?[3,2]:[4,this.UpdateSearchResults(this.props.strSearch)];case 1:e.sent(),this.forceUpdate(),e.label=2;case 2:return[2]}})})},e.prototype.render=function(){var e=[];if(this.m_rgCurrentMatches.length){for(var t=this.getMaxMatches(),n=0;n<Math.min(t,this.m_rgCurrentMatches.length);n++){var r=this.m_rgCurrentMatches[n],i=this.getKey(r),a=n===this.state.selectedIndex;e.push(m.a.createElement(b,{key:i,matchKey:i,fnOnClick:this.OnClickSuggestion,fnOnMouseOver:this.OnMouseOverSuggestion,bIsSelected:a,ref:a?this.BindSelectedElement:void 0},this.renderMatch(r)))}this.m_rgCurrentMatches.length>t&&e.push(this.renderTooManyMatchesMessage(this.m_rgCurrentMatches.length-t))}else{var o=this.renderNoMatchMessage();if(!o)return null;e.push(o)}return m.a.createElement("div",{className:d.a.mentionDialogPosition},m.a.createElement("div",{className:d.a.mentionDialog,tabIndex:0,onKeyDown:this.OnKeyDown},this.renderHeader(),e))},Object(j.c)([s.a],e.prototype,"OnKeyDown",null),Object(j.c)([s.a],e.prototype,"OnClickSuggestion",null),Object(j.c)([s.a],e.prototype,"OnMouseOverSuggestion",null),Object(j.c)([s.a],e.prototype,"BindSelectedElement",null),e}(m.a.Component),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnMouseOver=function(e){this.props.fnOnMouseOver(this.props.matchKey)},t.prototype.OnClick=function(e){this.props.fnOnClick(this.props.matchKey)},t.prototype.render=function(){return m.a.createElement("div",{className:Object(h.a)(d.a.suggestOption,d.a.mentionSearchOption,this.props.bIsSelected?d.a.selected:""),onMouseEnter:this.OnMouseOver,onClick:this.OnClick},this.props.children)},Object(j.c)([s.a],t.prototype,"OnMouseOver",null),Object(j.c)([s.a],t.prototype,"OnClick",null),t}(m.a.PureComponent),_=f,v=n("Wb2E"),g=n.n(v),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.performSearch=function(e){return this.props.emoticonStore.SearchEmoticons(e,10,!1)},t.prototype.getSelection=function(e){return e.name},t.prototype.getKey=function(e){return e.name},t.prototype.renderMatch=function(e){return m.a.createElement("div",{className:Object(h.a)(g.a.EmoticonSuggestion,e.recent?"Recent":"")},m.a.createElement("div",{className:g.a.Emoticon},m.a.createElement(c.b,{emoticon:e.name,emoticonHoverStore:this.props.emoticonHoverStore}),e.new&&m.a.createElement(c.d,null)),":",e.name,":")},t.prototype.renderNoMatchMessage=function(){return null},t.prototype.renderTooManyMatchesMessage=function(e){return null},t.prototype.renderHeader=function(){return null},t.prototype.getMaxMatches=function(){return Number.MAX_VALUE},t}(_),S=n("w4Zq"),w=n.n(S),F=n("TLQK"),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.performSearch=function(t){var n=Array();return this.props.supportBBCodes.forEach(function(e){0<=e.indexOf(t)&&n.push({name:e})}),n},t.prototype.getSelection=function(e){return"["+e.name+"][/"+e.name+"]"},t.prototype.getKey=function(e){return e.name},t.prototype.renderMatch=function(e){return m.a.createElement("div",{key:e.name,className:Object(h.a)(w.a.BBCodeSuggestion)},m.a.createElement("div",{className:w.a.BBCode},e.name),"[",e.name,"]...[/",e.name,"]")},t.prototype.renderNoMatchMessage=function(){return m.a.createElement("div",{key:"nomatches",className:Object(h.a)(d.a.mentionSearchOption,d.a.noMatches)},Object(F.f)("#Bbcode_No_Match"))},t.prototype.renderTooManyMatchesMessage=function(e){return null},t.prototype.renderHeader=function(){return null},t.prototype.getMaxMatches=function(){return Number.MAX_VALUE},t}(_),O=function(n){function e(e){var t=n.call(this,e)||this;return t.descTextAreaRef=R.createRef(),t.m_bDisabled=!0,t.state={mentionSearch:void 0,activeSuggestSearchType:void 0},t}return Object(j.d)(e,n),e.prototype.BindMentionDialog=function(e){this.m_MentionDialog=e},e.prototype.OnKeyDown=function(e){this.state.activeSuggestSearchType&&this.m_MentionDialog&&!e.shiftKey&&!e.ctrlKey&&this.m_MentionDialog.BHandleKeyPress(e.keyCode)?e.preventDefault():8!=e.keyCode&&46!=e.keyCode||(this.m_iMentionSearchCancelledOffset=void 0)},e.prototype.FindMatchOpener=function(e,t,n){for(var r=n-1;0<=r;r--){if(t[r]==e)return r;if(" "==t[r]||"\n"==t[r])break}},e.prototype.ReplaceSuggestedText=function(e,t){var n,r,i=this.descTextAreaRef.current.selectionStart,a=this.descTextAreaRef.current.value,o=this.FindMatchOpener(e,a,i);void 0===o&&"@"==e&&(o=this.FindMatchOpener("＠",a,i)),void 0!==o&&(n=a.substr(0,o),n+=t,(i>=a.length||" "!=a[i])&&(n+=" "),r=n.length,n+=a.substr(i),this.descTextAreaRef.current.value=n,this.descTextAreaRef.current.selectionStart=this.descTextAreaRef.current.selectionEnd=r,this.props.fnSetText(n),this.FocusTextInput())},e.prototype.OnFocus=function(e){this.UpdateAutoSearchState()},e.prototype.OnKeyPress=function(e){this.UpdateAutoSearchState()},e.prototype.OnClick=function(e){this.UpdateAutoSearchState()},e.prototype.ClearMentionSearchState=function(){this.m_iMentionSearchStartOffset=void 0,this.state.activeSuggestSearchType&&this.setState({activeSuggestSearchType:void 0,mentionSearch:void 0})},e.prototype.OnEmoticonSuggestionSelected=function(e,t){if(!t)return this.m_iMentionSearchCancelledOffset=this.m_iMentionSearchStartOffset,void this.ClearMentionSearchState();this.ReplaceSuggestedText(":",":"+t+":"),this.ClearMentionSearchState()},e.prototype.OnBBCodeSuggestionSelected=function(e,t){if(!t)return this.m_iMentionSearchCancelledOffset=this.m_iMentionSearchStartOffset,void this.ClearMentionSearchState();this.ReplaceSuggestedText("[",t),this.ClearMentionSearchState()},e.prototype.FocusTextInput=function(){this.descTextAreaRef.current&&this.descTextAreaRef.current.focus()},e.prototype.UpdateAutoSearchState=function(){var e=this.descTextAreaRef.current;if(e&&!this.m_bDisabled)if(e.selectionStart==e.selectionEnd&&e.selectionStart){for(var t,n=e.selectionStart,r=e.value,i=void 0,a=void 0,o=n-1;0<=o;o--){var s=0<o?r[o-1]:void 0;if(this.props.emoticonStore&&":"==r[o]&&2<r.length){s&&" "!=s&&"\n"!=s&&":"!=s||(i=o,a="Emoticon");break}if("["==r[o]&&(o+1>r.length||"/"!=r[o+1])){s&&" "!=s&&"\n"!=s&&"]"!=s||(i=o,a="BBCode");break}if(" "==r[o]||"\n"==r[o])break}void 0!==i&&i!==this.m_iMentionSearchCancelledOffset?(t=r.substr(i+1,n-i-1),this.m_iMentionSearchStartOffset=i,this.setState({activeSuggestSearchType:a,mentionSearch:t})):this.ClearMentionSearchState()}else this.ClearMentionSearchState()},e.prototype.GetTextAreaRef=function(){return this.descTextAreaRef},e.prototype.GetTextAreaCurrent=function(){return this.descTextAreaRef.current},e.prototype.render=function(){var e=this.props,t=e.emoticonStore,n=e.supportBBCodes,r=(e.fnSetText,Object(j.f)(e,["emoticonStore","supportBBCodes","fnSetText"])),i=void 0;switch(this.state.activeSuggestSearchType){case"Emoticon":i=R.createElement(y,{emoticonStore:t,emoticonHoverStore:o.b,strSearch:this.state.mentionSearch,nMinimumSearchLengthBeforeAutoSelection:2,onSuggestionSelected:this.OnEmoticonSuggestionSelected,ref:this.BindMentionDialog});break;case"BBCode":i=R.createElement(C,{supportBBCodes:n,strSearch:this.state.mentionSearch,nMinimumSearchLengthBeforeAutoSelection:2,onSuggestionSelected:this.OnBBCodeSuggestionSelected,ref:this.BindMentionDialog})}return R.createElement(R.Fragment,null,i,R.createElement("textarea",Object(j.a)({},r,{ref:this.descTextAreaRef,onKeyDown:this.OnKeyDown,onKeyUp:this.OnKeyPress,onFocus:this.OnFocus,onClick:this.OnClick})))},Object(j.c)([s.a],e.prototype,"BindMentionDialog",null),Object(j.c)([s.a],e.prototype,"OnKeyDown",null),Object(j.c)([s.a],e.prototype,"OnFocus",null),Object(j.c)([s.a],e.prototype,"OnKeyPress",null),Object(j.c)([s.a],e.prototype,"OnClick",null),Object(j.c)([s.a],e.prototype,"OnEmoticonSuggestionSelected",null),Object(j.c)([s.a],e.prototype,"OnBBCodeSuggestionSelected",null),Object(j.c)([s.a],e.prototype,"FocusTextInput",null),Object(j.c)([s.a],e.prototype,"GetTextAreaRef",null),Object(j.c)([s.a],e.prototype,"GetTextAreaCurrent",null),e}(R.Component),P=n("Mgs7"),B=n("0QoN"),A=n("fpVW"),I=n.n(A),G=n("Jqb/"),U=n("ka0M"),x=n("26EA"),z=n.n(x),H=n("X3Ds"),W=n("lkRc"),V=n("ccG0"),q=n.n(V),Y=n("y+6m"),Q=n("gPCo"),Z=n("0OaU"),K=n("5E+2"),J=n("76AC"),X=n.n(J),$=n("r64O"),ee=n("3+zv"),te=n("XOvi"),ne=n("NqJg"),re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={region:{xPosPct:0,yPosPct:0,widthPct:e.GetDestWidth()/e.props.uploadFile.width*100,heightPct:e.GetDestHeight()/e.props.uploadFile.height*100}},e}return Object(j.d)(e,t),e.prototype.OnCrop=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,this.props.uploadFile.CropImage(this.state.region.xPosPct/100*this.props.uploadFile.width,this.state.region.yPosPct/100*this.props.uploadFile.height,this.state.region.widthPct/100*this.props.uploadFile.width,this.state.region.heightPct/100*this.props.uploadFile.height,this.GetDestWidth(),this.GetDestHeight(),this.props.fileType)];case 1:return e.sent(),this.props.closeModal(),[2]}})})},e.prototype.UpdateCrop=function(e,t){this.setState({region:t})},e.prototype.GetDestWidth=function(){var e=this.props,t=e.uploadFile,n=e.forceResolution;return n?n.width:ee.a[t.type].width},e.prototype.GetDestHeight=function(){var e=this.props,t=e.uploadFile,n=e.forceResolution;return n?n.height:ee.a[t.type].height},e.prototype.GetLargestBoxThatFits=function(e,t,n,r){var i=n,a=i*t/Math.max(e,1);return r<a&&(i=(a=r)*e/Math.max(t,1)),{width:i,height:a}},e.prototype.GetPreviewWindowStyle=function(){var e=this.state.region,t=this.GetLargestBoxThatFits(this.GetDestWidth(),this.GetDestHeight(),500,150),n=t.width,r=t.height,i=1/Math.max(e.widthPct/100,1e-4),a=1/Math.max(e.heightPct/100,1e-4),o=this.props.uploadFile.width*e.xPosPct/100,s=this.props.uploadFile.height*e.yPosPct/100;return{width:n,height:r,backgroundPosition:-o*(n*i/this.props.uploadFile.width)+"px "+-s*(r*a/this.props.uploadFile.height)+"px",backgroundSize:100*i+"% "+100*a+"%",backgroundImage:"url("+this.props.uploadFile.dataUrl+")"}},e.prototype.render=function(){var e=this.GetDestWidth()/this.props.uploadFile.width*100,t=this.GetDestHeight()/this.props.uploadFile.height*100,n=this.GetLargestBoxThatFits(this.props.uploadFile.width,this.props.uploadFile.height,800,500);return R.createElement(G.g,{onEscKeypress:this.props.closeModal,bDisableBackgroundDismiss:!0},R.createElement("div",{className:Object(h.a)("DialogContent","_DialogCenterVertically")},R.createElement(P.t,null,Object(F.f)("#ImageUpload_CropModalTitleDims",this.GetDestWidth(),this.GetDestHeight())),R.createElement("div",{className:Object(h.a)("DialogBodyText")},Object(F.f)("#ImageUpload_CropModalDescription")),R.createElement("div",{className:ne.CropImage,style:{width:n.width,height:n.height}},R.createElement("img",{style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},src:this.props.uploadFile.dataUrl}),R.createElement(te.a,{bLockAspectRatio:!0,bDisableLink:!0,index:0,updateFn:this.UpdateCrop,xPosPct:0,yPosPct:0,widthMinPct:e,heightMinPct:t,widthPct:e,heightPct:t})),R.createElement("div",{className:ne.CropPreviewGroup},R.createElement("div",{className:ne.CropPreviewLabel},Object(F.f)("#ImageUpload_CropPreview")),R.createElement("div",{style:this.GetPreviewWindowStyle()})),R.createElement(P.s,{onClick:this.OnCrop},Object(F.f)("#ImageUpload_CropAndContinue"))))},Object(j.c)([s.a],e.prototype,"OnCrop",null),Object(j.c)([s.a],e.prototype,"UpdateCrop",null),e}(R.Component),ie=n("IjL/"),ae=n("L+ta"),oe=function(e){var t=e.clanImage,n=e.searchStringHilight,r=e.fnImageClick,i=t.file_name?t.file_name:"",a=function(e,t,n,r){var i=[];if(0<e.length)for(var a=t.toLocaleLowerCase(),o=0;o<t.length;){var s=a.indexOf(e,o);if(s<0){i.push(m.a.createElement("span",{key:n+"_"+String(o)},t.substring(o)));break}o<s&&i.push(m.a.createElement("span",{key:n+"_"+String(o)},t.substring(o,s))),i.push(m.a.createElement("span",{key:n+"_"+String(o),className:r},t.substr(s,e.length))),o=s+e.length}else i.push(m.a.createElement("span",{key:n+"_null"},t));return i}(n,i,String(t.imageid),ae.Hilight);return m.a.createElement("div",{className:ae.ImageContainer},m.a.createElement("div",{className:ae.Image,style:{backgroundImage:"url( '"+t.thumb_url+"' )"},onDoubleClick:function(){return r(t)}}),m.a.createElement("div",{className:ae.ImageFilename,title:i},a))};var se,ce,le=n("lyHv"),ue=Object(i.observer)(function(e){var l=e.clanSteamID,a=e.inputClanImage,r=e.nWidth,i=e.nHeight,u=e.setImage,p=R.useMemo(function(){return["sale_header"]},[]),d=R.useMemo(function(){return{width:r,height:i}},[r,i]),t=R.useState(void 0),n=t[0],m=t[1],o=R.useState(Boolean(a)),s=o[0],c=o[1],h=R.useState(void 0),f=h[0],b=h[1],_=R.useState(!1),v=_[0],g=_[1],y=R.useCallback(function(r,i){return Object(j.b)(void 0,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return(r.ClearImages(),i)?(c(!0),[4,r.AddExistingClanImage(i,0,p)]):[3,2];case 1:e.sent()&&(m(i),t=r.GetUploadImages()[0],0!=(n=t.IsValidImage(p,d)).error.length||n.needsCrop||a&&a.image_hash==i.image_hash||u(i)),e.label=2;case 2:return c(!1),[2]}})})},[a,u,p,d]);R.useEffect(function(){f&&f.GetClanSteamID().ConvertTo64BitString()==l.ConvertTo64BitString()||b(new L.b(l))},[f,l]),R.useEffect(function(){y(f,a)},[y,f,a]);var S,w="",C=!1,O=void 0;return f&&0<f.GetFilesToUpload().length&&(w=(S=(O=f.GetUploadImages()[0]).IsValidImage(p,d)).error,C=S.needsCrop),R.createElement(R.Fragment,null,s?R.createElement(Z.a,{size:"medium",string:Object(F.f)("#Loading")}):Boolean(n)&&R.createElement("div",{className:le.Image,style:{backgroundImage:"url( '"+(O?O.dataUrl:n.url)+"' )",height:i+"px",width:r+"px"}}),Boolean(w)&&R.createElement("p",null,w),C&&R.createElement(P.d,{onClick:function(e){var t=Object(H.n)(e),n=f.GetUploadImages()[0];Object(U.d)(R.createElement(re,{ownerWin:t,uploadFile:n,forceResolution:{width:r,height:i},fileType:3}),t)}},Object(F.f)("#BBCode_ResizeImage")),Boolean(O&&O.bCropped)&&R.createElement(R.Fragment,null,R.createElement("div",null,Object(F.f)("#ClanImagePickAndResize_UploadStatus",O.status)),v?R.createElement(Z.a,{string:Object(F.f)("#Uploading"),size:"small"}):R.createElement(P.d,{onClick:function(){return Object(j.b)(void 0,void 0,void 0,function(){var t,n,r,i,a,o,s,c;return Object(j.e)(this,function(e){switch(e.label){case 0:g(!0),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,f.UploadAllFiles(p,d)];case 2:return t=e.sent(),(n=Object.values(t))&&0<n.length&&(Object($.a)(1==n.length,"ClanImagePickForCertainSize expected size 1, got "+n.length),1==n[0].success&&(r=n[0],i="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/clans/"+l.GetAccountID()+"/",a=L.a.GetExtensionStringForFileType(r.file_type),o=i+r.image_hash+a,s=i+r.thumbnail_hash+a,c={imageid:-11231412,image_hash:r.image_hash,thumbnail_hash:r.thumbnail_hash,file_type:r.file_type,file_name:r.file_name,clanAccountID:l.GetAccountID(),url:o,thumb_url:s,uploaded_time:Date.now()/1e3,loc_languages:void 0,is_loc_group:!1},m(c),u(c))),[3,4];case 3:return g(!1),[7];case 4:return[2]}})})}},Object(F.f)("#ClanImagePickAndResize_UploadImage"))),R.createElement(P.d,{onClick:function(e){var t=new N.a(W.b.CLANSTEAMID);Object(U.d)(R.createElement(E,{clanSteamID:t,fnImageSelectCallBack:function(e){return y(f,e)}}),Object(H.n)(e))}},Object(F.f)("#BBCode_ChooseImage",r,i)))}),pe=n("bDQf"),de=function(n){function e(e){var t=n.call(this,e)||this;return t.m_cancelSignal=D.a.CancelToken.source(),t.state={formattingHelp:{__html:r.s_formattingHelp.has(e.formatType)?r.s_formattingHelp.get(e.formatType):""}},t}var r;return Object(j.d)(e,n),(r=e).prototype.componentDidMount=function(){var t=this;this.AjaxGetFormattingHelp().catch(function(e){t.setState(Object(pe.a)(e))})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("FormattingHelpWidget component unmounted")},e.GetHelpURL=function(e,t){return W.c.COMMUNITY_BASE_URL+"comment/"+e+"/formattinghelp"+(t?"?ajax=1":"")},e.prototype.AjaxGetFormattingHelp=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return""!=this.state.formattingHelp.__html?[3,2]:(t={sessionid:W.c.SESSIONID},n=void 0,[4,D.a.get(r.GetHelpURL(this.props.formatType,!0),{params:t,cancelToken:this.m_cancelSignal.token})]);case 1:n=e.sent(),r.s_formattingHelp.set(this.props.formatType,n.data),this.setState({formattingHelp:{__html:n.data}}),e.label=2;case 2:return[2]}})})},e.prototype.render=function(){return this.state.strErrorMsg?R.createElement("div",null,this.state.strErrorMsg,R.createElement("br",null),this.state.errorCode):""==this.state.formattingHelp.__html?R.createElement(Z.a,null):R.createElement(G.c,{strTitle:Object(F.f)("#EventEditor_FormattingHelp_GetHelpLink"),strDescription:"",closeModal:this.props.closeModal,onOK:this.props.closeModal,onCancel:this.props.closeModal,bAlertDialog:!0},R.createElement("div",{dangerouslySetInnerHTML:this.state.formattingHelp}))},e.s_formattingHelp=new Map,r=Object(j.c)([i.observer],e)}(R.Component),me="{STEAM_CLAN_LOC_IMAGE}",he=function(n){function e(e){var t=n.call(this,e)||this;return t.descAutoTextAreaRef=R.createRef(),t.state={bShowDragTarget:!1},t}return Object(j.d)(e,n),e.prototype.componentDidMount=function(){L.d.AddClanImageDragListener(this.ClanImageDragListener)},e.prototype.componentWillUnmount=function(){L.d.RemoveClanImageDragListener(this.ClanImageDragListener)},e.prototype.ClanImageDragListener=function(e,t){this.state.bShowDragTarget!=t&&this.setState({bShowDragTarget:t})},e.prototype.onFocus=function(e){e&&e.target.select()},e.prototype.InsertText=function(e){fe.replaceSelection(this.GetTextAreaRef().current,e)},e.prototype.OnTextAreaDropListener=function(e){var t,n,r;e.preventDefault(),e.stopPropagation(),e.dataTransfer.items&&e.dataTransfer.items[0]&&((t=e.dataTransfer.getData("text"))&&0<t.length&&(n="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/clans/",t.startsWith(n)&&(r="[img]"+M.b+"/"+t.substr(n.length)+"[/img]",fe.replaceSelection(this.GetTextAreaRef().current,r))))},e.prototype.GetTextAreaRef=function(){return this.descAutoTextAreaRef&&this.descAutoTextAreaRef.current?this.descAutoTextAreaRef.current.GetTextAreaRef():void 0},e.prototype.render=function(){return R.createElement(R.Fragment,null,R.createElement(be,{pathToImages:"https://community.cloudflare.steamstatic.com/public/images/sharedfiles/guides/",fnTextareaRef:this.GetTextAreaRef,emoticonStore:this.props.emoticonStore,supportBBCodes:this.props.limitBBCode?this.props.limitBBCode:a.d,bSupportHTMLImport:this.props.bSupportHTMLImport,showFormatHelp:this.props.showFormatHelp,bEmbeddedInDialog:this.props.bEmbeddedInDialog,clanSteamID:this.props.clanSteamID}),R.createElement("div",{className:Object(h.a)(X.a.DescriptionCtn,X.a.BBCodeEditorInputStyles,this.state.bShowDragTarget?X.a.DragTarget:"")},R.createElement(O,{cols:40,rows:this.props.nOverridesRows||42,maxLength:32e3,className:Object(h.a)(X.a.DefaultEditor,this.props.classNameForTextArea?this.props.classNameForTextArea:""),placeholder:this.props.strPlaceholder,ref:this.descAutoTextAreaRef,value:this.props.fnGetCurText(),onChange:this.props.fnOnTextChange,onDrop:this.OnTextAreaDropListener,emoticonStore:this.props.emoticonStore,fnSetText:this.props.fnSetText,supportBBCodes:this.props.limitBBCode?this.props.limitBBCode:a.d})))},Object(j.c)([s.a],e.prototype,"ClanImageDragListener",null),Object(j.c)([s.a],e.prototype,"onFocus",null),Object(j.c)([s.a],e.prototype,"OnTextAreaDropListener",null),Object(j.c)([s.a],e.prototype,"GetTextAreaRef",null),Object(j.c)([i.observer],e)}(R.Component),fe=function(){function a(){}return a.BIsFireFox=function(){return Boolean(new RegExp(/Firefox\/([0-9\.]+)(?:\s|$)/i).exec(navigator.userAgent))},a.replaceSelection=function(e,t){var n=e.selectionStart;e.focus(),a.InsertTextAtSelect(t,e),e.setSelectionRange(n,n+t.length)},a.getSelectedString=function(e){return e.value.substr(e.selectionStart,e.selectionEnd-e.selectionStart)},a.wrapBBCode=function(e,t,n){var r=a.getSelectedString(n),i="",i=0==r.indexOf(e)&&r.lastIndexOf(t)==r.length-t.length?r.substr(e.length,r.length-e.length-t.length):e+r+t;a.replaceSelection(n,i)},a.append=function(e,t){t&&(t.focus(),t.setSelectionRange(t.value.length,t.value.length),a.InsertTextAtSelect(e,t))},a.overwrite=function(e,t){t&&(t.focus(),document.execCommand("selectAll",!1,e),a.BIsFireFox()?t.value="":document.execCommand("delete",!1),a.InsertTextAtSelect(e,t))},a.InsertTextAtSelect=function(e,t){a.BIsFireFox()&&t.setRangeText?t.setRangeText(e):document.execCommand("insertText",!1,e)},a}(),be=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_linkPopupRef=R.createRef(),e}return Object(j.d)(e,t),e.prototype.onBold=function(){fe.wrapBBCode("[b]","[/b]",this.props.fnTextareaRef().current)},e.prototype.onItalics=function(){fe.wrapBBCode("[i]","[/i]",this.props.fnTextareaRef().current)},e.prototype.onUnderline=function(){fe.wrapBBCode("[u]","[/u]",this.props.fnTextareaRef().current)},e.prototype.onStrikeThrough=function(){fe.wrapBBCode("[strike]","[/strike]",this.props.fnTextareaRef().current)},e.prototype.onHeader=function(){fe.wrapBBCode("[h1]","[/h1]",this.props.fnTextareaRef().current)},e.prototype.onHeader2=function(){fe.wrapBBCode("[h2]","[/h2]",this.props.fnTextareaRef().current)},e.prototype.onHeader3=function(){fe.wrapBBCode("[h3]","[/h3]",this.props.fnTextareaRef().current)},e.prototype.onUnorderedList=function(){this.handleList("list")},e.prototype.onOrderedList=function(){this.handleList("olist")},e.prototype.handleList=function(e){var t,n=this.props.fnTextareaRef().current,r="["+e+"]\n",i="[/"+e+"]";n.selectionStart==n.selectionEnd?fe.wrapBBCode(r+"[*]","\n"+i,n):(t=r+fe.getSelectedString(n).split("\n").map(function(e){return(e.match(/\*+\s/)?"[*]":"[*] ")+e}).join("\n")+"\n"+i,fe.replaceSelection(n,t))},e.prototype.OnAddLink=function(e){Object(U.c)(R.createElement(ve,{textareaRef:this.props.fnTextareaRef()}),Object(H.n)(e))},e.prototype.ShowHelpDialog=function(e){this.props.showFormatHelp&&Object(U.c)(R.createElement(de,{formatType:this.props.showFormatHelp}),Object(H.n)(e))},e.prototype.OnConvertHTMLToBBCodeDialog=function(e){Object(U.c)(R.createElement(Se,{textareaRef:this.props.fnTextareaRef()}),Object(H.n)(e))},e.prototype.OnOpenYoutubeDialog=function(e){var t=W.c.IMG_URL+"applications/community/";Object(U.c)(R.createElement(_e,{textareaRef:this.props.fnTextareaRef(),pathToImages:t}),Object(H.n)(e))},e.prototype.OnOpenImageDialog=function(e){Object(U.c)(R.createElement(ge,{textareaRef:this.props.fnTextareaRef()}),Object(H.n)(e))},e.prototype.OnOpenSpeakerDialog=function(e){Object(U.d)(R.createElement(ye,{clanSteamID:this.props.clanSteamID,textareaRef:this.props.fnTextareaRef()}),Object(H.n)(e))},e.prototype.OnEmoticonSelected=function(e,t){void 0===t&&(t=!1);var n="ː"+e+"ː";fe.replaceSelection(this.props.fnTextareaRef().current,n),this.props.fnTextareaRef().current.focus()},e.prototype.BSupports=function(t){return 0<=this.props.supportBBCodes.findIndex(function(e){return e==t})},e.prototype.render=function(){var e=this.props,t=e.showFormatHelp,n=e.bEmbeddedInDialog,r=e.bSupportHTMLImport,i=e.pathToImages,a=void 0;return t&&(a=n?R.createElement("span",{className:Object(h.a)("ttip",X.a.ActionGetHelp),"data-tooltip-text":Object(F.f)("#EventEditor_FormattingHelp_GetHelpLink")},R.createElement("a",{href:de.GetHelpURL(this.props.showFormatHelp,!1),target:W.c.IN_CLIENT?void 0:"_blank"},R.createElement("img",{src:i+"/action_help.png"})," ",Object(F.f)("#EventEditor_FormattingHelp_GetHelpLink"))):R.createElement("span",{onClick:this.ShowHelpDialog,className:Object(h.a)("ttip",X.a.ActionGetHelp),"data-tooltip-text":Object(F.f)("#EventEditor_FormattingHelp_GetHelpLink")},R.createElement("img",{src:i+"/action_help.png"})," ",Object(F.f)("#EventEditor_FormattingHelp_GetHelpLink"))),R.createElement("div",{className:X.a.TextEditorToolBarContainer},this.BSupports("b")&&R.createElement("span",{onClick:this.onBold,className:"ttip","data-tooltip-text":Object(F.f)("#Editor_Bold")},R.createElement("img",{src:this.props.pathToImages+"/format_bold.png"})),this.BSupports("u")&&R.createElement("span",{onClick:this.onUnderline,className:"ttip","data-tooltip-text":Object(F.f)("#Editor_Underline")},R.createElement("img",{src:this.props.pathToImages+"/format_underline.png"})),this.BSupports("i")&&R.createElement("span",{onClick:this.onItalics,className:"ttip","data-tooltip-text":Object(F.f)("#Editor_Italics")},R.createElement("img",{src:this.props.pathToImages+"/format_italic.png"})),this.BSupports("strike")&&R.createElement("span",{onClick:this.onStrikeThrough,className:"ttip","data-tooltip-text":Object(F.f)("#Editor_StrikeThrough")},R.createElement("img",{src:this.props.pathToImages+"/format_strike.png"})),Boolean(this.BSupports("url")&&!n)&&R.createElement("span",{onClick:this.OnAddLink,className:"ttip","data-tooltip-text":Object(F.f)("#Editor_Link")},R.createElement("img",{src:this.props.pathToImages+"/format_link.png"})),this.BSupports("list")&&R.createElement("span",{onClick:this.onUnorderedList,className:"ttip","data-tooltip-text":Object(F.f)("#Editor_Unordered")},R.createElement("img",{src:this.props.pathToImages+"/format_bullet.png"})),this.BSupports("olist")&&R.createElement("span",{onClick:this.onOrderedList,className:"ttip","data-tooltip-text":Object(F.f)("#Editor_Ordered")},R.createElement("img",{src:this.props.pathToImages+"/format_numbered.png"})),this.BSupports("h1")&&R.createElement("span",{onClick:this.onHeader,className:"ttip","data-tooltip-text":Object(F.f)("#Editor_Header")},R.createElement("img",{src:this.props.pathToImages+"/format_header1.png"})),this.BSupports("h2")&&R.createElement("span",{onClick:this.onHeader2,className:"ttip","data-tooltip-text":Object(F.f)("#Editor_Header2")},R.createElement("img",{src:this.props.pathToImages+"/format_header2.png"})),this.BSupports("h3")&&R.createElement("span",{onClick:this.onHeader3,className:"ttip","data-tooltip-text":Object(F.f)("#Editor_Header3")},R.createElement("img",{src:this.props.pathToImages+"/format_header3.png"})),this.BSupports("previewyoutube")&&R.createElement("span",{onClick:this.OnOpenYoutubeDialog,"data-tooltip-text":Object(F.f)("#EventEditor_InsertYouTube")},R.createElement("img",{src:q.a})),this.props.emoticonStore&&R.createElement(B.a,{title:" ",ttip:Object(F.f)("#Editor_Emoticon"),className:Object(h.a)(X.a.EmoteOuter),disabled:!1,OnEmoticonSelected:this.OnEmoticonSelected,rtLastAckedNewEmoticons:Number.MAX_VALUE,emoticonStore:this.props.emoticonStore,emoticonHoverStore:o.b,useImg:this.props.pathToImages+"/format_emote.png",contextOptions:{bOverlapHorizontal:!0,bDisablePopTop:!0}}),Boolean(this.BSupports("img")&&!n)&&R.createElement("span",{onClick:this.OnOpenImageDialog,"data-tooltip-text":Object(F.f)("#EventEditor_InsertImage")},R.createElement("img",{src:this.props.pathToImages+"/insert_img.png"})),Boolean(W.h.is_support&&this.props.clanSteamID&&this.BSupports("speaker"))&&R.createElement("span",{onClick:this.OnOpenSpeakerDialog,"data-tooltip-text":Object(F.f)("#EventEditor_AddSpeaker")},R.createElement("img",{src:this.props.pathToImages+"/insert_img.png"})),Boolean(r&&!n)&&R.createElement("span",{onClick:this.OnConvertHTMLToBBCodeDialog,className:X.a.ActionImportHTML,"data-tooltip-text":Object(F.f)("#EventEditor_ImportFromHTML_ttip")},Object(F.f)("#EventEditor_ImportHTML")),a)},Object(j.c)([s.a],e.prototype,"onBold",null),Object(j.c)([s.a],e.prototype,"onItalics",null),Object(j.c)([s.a],e.prototype,"onUnderline",null),Object(j.c)([s.a],e.prototype,"onStrikeThrough",null),Object(j.c)([s.a],e.prototype,"onHeader",null),Object(j.c)([s.a],e.prototype,"onHeader2",null),Object(j.c)([s.a],e.prototype,"onHeader3",null),Object(j.c)([s.a],e.prototype,"onUnorderedList",null),Object(j.c)([s.a],e.prototype,"onOrderedList",null),Object(j.c)([s.a],e.prototype,"OnAddLink",null),Object(j.c)([s.a],e.prototype,"ShowHelpDialog",null),Object(j.c)([s.a],e.prototype,"OnConvertHTMLToBBCodeDialog",null),Object(j.c)([s.a],e.prototype,"OnOpenYoutubeDialog",null),Object(j.c)([s.a],e.prototype,"OnOpenImageDialog",null),Object(j.c)([s.a],e.prototype,"OnOpenSpeakerDialog",null),Object(j.c)([s.a],e.prototype,"OnEmoticonSelected",null),Object(j.c)([i.observer],e)}(R.Component);(ce=se=se||{}).left="leftthumb",ce.right="rightthumb",ce.full="full",ce.summary="summary";var _e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={youtubeInput:"",alignment:se.left},e}return Object(j.d)(e,t),e.prototype.OnYoutubeInsertLink=function(){var e,t,n=this.state.youtubeInput&&Object(M.a)(this.state.youtubeInput);n?(this.state.alignment==se.summary?(e="https://www.youtube.com/watch?v="+n.strVideoID+(n.nStartSeconds?"&t="+n.nStartSeconds:""),fe.wrapBBCode(e,"",this.props.textareaRef.current)):(t="[previewyoutube="+n.strVideoID+";"+this.state.alignment+"]",fe.wrapBBCode(t,"[/previewyoutube]",this.props.textareaRef.current)),this.setState({youtubeInput:"",alignment:se.left})):alert(Object(F.f)("#EventEditor_InsertYouTube_NoURL"))},e.prototype.OnUrlChange=function(e){this.state.youtubeInput!=e.target.value&&this.setState({youtubeInput:e.target.value})},e.prototype.OnLeftSelected=function(){this.setState({alignment:se.left})},e.prototype.OnRightSelected=function(){this.setState({alignment:se.right})},e.prototype.OnFullSelected=function(){this.setState({alignment:se.full})},e.prototype.OnSummarySelected=function(){this.setState({alignment:se.summary})},e.prototype.OnOuterDivClickPassDown=function(e){},e.prototype.render=function(){return R.createElement(G.c,{strTitle:Object(F.f)("#EventEditor_InsertYouTube"),strDescription:"",closeModal:this.props.closeModal,onCancel:this.props.closeModal,onOK:this.OnYoutubeInsertLink,strOKButtonText:Object(F.f)("#EventEditor_InsertYouTube"),className:X.a.BBCodeEditorInputStyles},R.createElement("div",{className:X.a.YouTubeInput},R.createElement("div",{className:"DialogInputLabelGroup"},R.createElement("label",null,R.createElement("div",{className:"DialogLabel"},Object(F.f)("#EventEditor_InsertYouTube_URL")),R.createElement("div",{className:"DialogInput_Wrapper"},R.createElement("input",{className:"DialogInput DialogTextInputBase",ref:function(e){return e&&e.focus()},type:"text",value:this.state.youtubeInput,onChange:this.OnUrlChange,placeholder:Object(F.f)("#EventEditor_InsertYouTube_Placholder")})))),R.createElement("div",{className:"DialogInputLabelGroup"},R.createElement("div",{className:"DialogLabel"},Object(F.f)("#EventEditor_InsertYouTube_Position")),R.createElement("div",{className:X.a.YouTubePreviewInsertOption,onClick:this.OnOuterDivClickPassDown},R.createElement("input",{type:"radio",name:"YouTubePreviewInsertType",id:se.left,value:se.left,checked:this.state.alignment==se.left,onChange:this.OnLeftSelected}),R.createElement("label",{htmlFor:se.left},R.createElement("span",null,Object(F.f)("#EventEditor_InsertYouTube_Left")))),R.createElement("div",{className:X.a.YouTubePreviewInsertOption,onClick:this.OnOuterDivClickPassDown},R.createElement("input",{type:"radio",name:"YouTubePreviewInsertType",id:se.right,value:se.right,checked:this.state.alignment==se.right,onChange:this.OnRightSelected}),R.createElement("label",{htmlFor:se.right},R.createElement("span",null,Object(F.f)("#EventEditor_InsertYouTube_Right")))),R.createElement("div",{className:X.a.YouTubePreviewInsertOption,onClick:this.OnOuterDivClickPassDown},R.createElement("input",{type:"radio",name:"YouTubePreviewInsertType",id:se.full,value:se.full,checked:this.state.alignment==se.full,onChange:this.OnFullSelected}),R.createElement("label",{htmlFor:se.full},R.createElement("span",null,Object(F.f)("#EventEditor_InsertYouTube_Full")))),R.createElement("div",{className:X.a.YouTubePreviewInsertOption,onClick:this.OnOuterDivClickPassDown},R.createElement("input",{type:"radio",name:"YouTubePreviewInsertType",id:se.summary,value:se.summary,checked:this.state.alignment==se.summary,onChange:this.OnSummarySelected}),R.createElement("label",{htmlFor:se.summary},R.createElement("span",null,Object(F.f)("#EventEditor_InsertYouTube_Summary")))))))},Object(j.c)([s.a],e.prototype,"OnYoutubeInsertLink",null),Object(j.c)([s.a],e.prototype,"OnUrlChange",null),Object(j.c)([s.a],e.prototype,"OnLeftSelected",null),Object(j.c)([s.a],e.prototype,"OnRightSelected",null),Object(j.c)([s.a],e.prototype,"OnFullSelected",null),Object(j.c)([s.a],e.prototype,"OnSummarySelected",null),Object(j.c)([s.a],e.prototype,"OnOuterDivClickPassDown",null),Object(j.c)([i.observer],e)}(R.Component),ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={textToDisplay:"",strURL:""},e}var r;return Object(j.d)(e,t),(r=e).prototype.LoadFromTextArea=function(){var e,t,n=this.props.textareaRef;n&&n.current&&(e=fe.getSelectedString(n.current),(t=r.m_regExp.exec(e))?this.setState({strURL:t[1],textToDisplay:t[2]}):this.setState({textToDisplay:e}))},e.prototype.componentDidMount=function(){this.LoadFromTextArea()},e.prototype.onLinkTitleUpdate=function(e){this.setState({textToDisplay:e.target.value})},e.prototype.onLinkURLUpdate=function(e){this.setState({strURL:e.target.value})},e.prototype.onInsertLink=function(){var e=this.state,t="[url="+e.strURL+"]"+e.textToDisplay+"[/url]";fe.replaceSelection(this.props.textareaRef.current,t)},e.prototype.render=function(){return R.createElement(G.c,{strTitle:Object(F.f)("#Editor_Link"),strDescription:"",closeModal:this.props.closeModal,onOK:this.onInsertLink,onCancel:this.props.closeModal,strOKButtonText:Object(F.f)("#EventEditor_InsertLinkURL"),className:X.a.BBCodeEditorInputStyles},R.createElement("div",{className:X.a.EventEditorLinkInput},R.createElement("div",{className:"DialogInputLabelGroup"},R.createElement("label",null,R.createElement("div",{className:"DialogLabel"},Object(F.f)("#EventEditor_LinkDescription")),R.createElement("div",{className:"DialogInput_Wrapper"},R.createElement("input",{type:"text",onChange:this.onLinkTitleUpdate,value:this.state.textToDisplay,className:"DialogInput DialogTextInputBase"})))),R.createElement("div",{className:"DialogInputLabelGroup"},R.createElement("label",null,R.createElement("div",{className:"DialogLabel"},Object(F.f)("#EventEditor_LinkURL")),R.createElement("div",{className:"DialogInput_Wrapper"},R.createElement("input",{type:"text",onChange:this.onLinkURLUpdate,value:this.state.strURL,className:"DialogInput DialogTextInputBase"}))))))},e.m_regExp=new RegExp(/\[url=([^\]]*)\]([^\[\]]+)\[\/url\]/i),Object(j.c)([s.a],e.prototype,"onLinkTitleUpdate",null),Object(j.c)([s.a],e.prototype,"onLinkURLUpdate",null),Object(j.c)([s.a],e.prototype,"onInsertLink",null),r=Object(j.c)([i.observer],e)}(R.Component),ge=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={imgURL:"",anchorURL:""},e}return Object(j.d)(e,t),e.prototype.componentDidMount=function(){this.refFirstInput&&this.refFirstInput.current.focus()},e.prototype.OnImageInsert=function(){var e=this.state,t=e.anchorURL,n=e.imgURL,r="",i="";t&&0<t.length&&(r+="[url="+t+"]",i="[/url]"+i),r+="[img]"+n,i="[/img]"+i,fe.wrapBBCode(r,i,this.props.textareaRef.current)},e.prototype.OnImageURLChange=function(e){this.state.imgURL!=e.target.value&&this.setState({imgURL:e.target.value})},e.prototype.OnAnchorURLChange=function(e){this.state.anchorURL!=e.target.value&&this.setState({anchorURL:e.target.value})},e.prototype.render=function(){var e=this.state,t=e.imgURL,n=e.anchorURL;return R.createElement(G.c,{strTitle:Object(F.f)("#EventEditor_InsertImage_Title"),strDescription:"",closeModal:this.props.closeModal,onCancel:this.props.closeModal,onOK:this.OnImageInsert,strOKButtonText:Object(F.f)("#EventEditor_InsertImage_Title"),className:X.a.BBCodeEditorInputStyles},R.createElement("div",{className:X.a.EventEditorLinkInput},R.createElement("p",null,Object(F.f)("#EventEditor_InsertImage_Desc")),R.createElement("div",{className:"DialogInputLabelGroup"},R.createElement("label",null,R.createElement("div",{className:"DialogLabel"},Object(F.f)("#EventEditor_InsertImage_URL")),R.createElement("div",{className:"DialogInput_Wrapper"},R.createElement("input",{className:"DialogInput DialogTextInputBase",type:"text",value:t,onChange:this.OnImageURLChange,placeholder:Object(F.f)("#EventEditor_InsertImage_Placeholder"),ref:this.refFirstInput})))),R.createElement("div",{className:"DialogInputLabelGroup"},R.createElement("label",null,R.createElement("div",{className:"DialogLabel"},Object(F.f)("#EventEditor_InsertImage_Anchor")),R.createElement("div",{className:"DialogInput_Wrapper"},R.createElement("input",{className:"DialogInput DialogTextInputBase",type:"text",value:n,onChange:this.OnAnchorURLChange,placeholder:Object(F.f)("#EventEditor_InsertImage_Placeholder")}))))))},Object(j.c)([s.a],e.prototype,"OnImageInsert",null),Object(j.c)([s.a],e.prototype,"OnImageURLChange",null),Object(j.c)([s.a],e.prototype,"OnAnchorURLChange",null),Object(j.c)([i.observer],e)}(R.Component),ye=function(t){var r=R.useRef(null),e=R.useState(""),n=e[0],i=e[1],a=R.useState(""),o=a[0],s=a[1],c=R.useState(""),l=c[0],u=c[1],p=R.useState(""),d=p[0],m=p[1],h=R.useState(void 0),f=h[0],b=h[1],_=R.useState(void 0),v=_[0],g=_[1],y=R.useState([]),S=y[0],w=y[1],C=R.useState(!0),O=C[0],E=C[1];R.useEffect(function(){return Object(j.b)(void 0,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=D.a.CancelToken.source(),r.current=t.cancel,[4,D.a.get(W.c.COMMUNITY_BASE_URL+"actions/ajaxlistfriends",{cancelToken:t.token})];case 1:return n=e.sent(),t.token.reason||!n?[3,3]:(w(n.data),[4,k.a.LoadProfiles(Object(j.g)([W.h.steamid],n.data.map(function(e){return e.steamid})))]);case 2:e.sent(),E(!1),e.label=3;case 3:return[2]}})}),function(){r.current&&r.current("InsertSpeakerBBCode: unmounting")}},[]);var B=0!=n.trim().length&&0!=d.trim().length,A=R.createElement("div",{className:X.a.DropDownScroll},S.map(function(e){return R.createElement(Y.d,{onSelected:function(){return g(new N.a(e.steamid))},key:e.steamid},R.createElement("div",{style:{display:"flex",alignItems:"center"}},R.createElement("img",{className:z.a.WhitelistAvatar,src:e.avatar_url}),e.persona_name))})),I=v?k.a.GetProfileBySteamID(v):void 0;return R.createElement(G.c,{strTitle:Object(F.f)("#EventEditor_AddSpeaker"),strDescription:Object(F.f)("#EventEditor_AddSpeaker_Desc"),closeModal:t.closeModal,onCancel:t.closeModal,bOKDisabled:!B,onOK:function(){var e='[speaker name="'+n.trim()+'"';0<o.trim().length&&(e+=' title="'+o+'"'),0<l.trim().length&&(e+=' company="'+l+'"'),f&&(e+=' photo="'+(M.b+"/"+f.clanAccountID+"/"+L.a.GetHashAndExt(f))+'"'),v&&(e+=' steamid="'+v.ConvertTo64BitString()+'"'),e+="]"+d+"[/speaker]",fe.replaceSelection(t.textareaRef.current,e)},className:X.a.BBCodeEditorInputStyles},R.createElement("div",{className:X.a.InsertSpeakerCtn},R.createElement(P.m,{type:"text",label:Object(F.f)("#EventEditor_AddSpeaker_Name"),value:n,onChange:function(e){return i(e.target.value)},focusOnMount:!0}),R.createElement("div",{className:X.a.TitleGroup},R.createElement(P.m,{type:"text",label:Object(F.f)("#EventEditor_AddSpeaker_Title"),value:o,onChange:function(e){return s(e.target.value)}}),R.createElement(P.m,{type:"text",label:Object(F.f)("#EventEditor_AddSpeaker_Company"),value:l,onChange:function(e){return u(e.target.value)}})),R.createElement(K.d,{toolTipContent:Object(F.f)("#EventEditor_AssociateSteamAccount_ttip")},R.createElement("div",{className:"DialogLabel"},Object(F.f)("#EventEditor_AssociateSteamAccount")," (?)")),R.createElement("div",null,O&&R.createElement(Z.a,{string:Object(F.f)("#Loading"),size:"small"}),Boolean(I)&&R.createElement("a",{href:W.c.COMMUNITY_BASE_URL+"profiles/"+v.ConvertTo64BitString(),target:"_blank"},I?R.createElement("img",{style:{marginRight:"8px"},src:I.avatar_url}):null,I?I.persona_name:null),R.createElement("div",{className:X.a.AssociateRowCtn},R.createElement(P.d,{onClick:function(){return g(new N.a(W.h.steamid))}},Object(F.f)("#EventEditor_SteamAccount_addme")),R.createElement(P.d,{onClick:function(e){return Object(T.a)(A,e)}},Object(F.f)("#EventEditor_SteamAccount_addfriend")),R.createElement(P.d,{onClick:function(){return g(void 0)}},Object(F.f)("#EventEditor_SteamAccount_clear")))),R.createElement("div",{className:X.a.PhotoCtn},R.createElement("div",{className:"DialogLabel"},Object(F.f)("#EventEditor_ChoosePhoto")),R.createElement(ue,{clanSteamID:t.clanSteamID,inputClanImage:f,setImage:b,nWidth:184,nHeight:184})),R.createElement("div",{className:X.a.AboutCtn},R.createElement("div",{className:"DialogLabel"},Object(F.f)("#EventEditor_AddSpeaker_About")),R.createElement(P.a,{value:d,onChange:function(e){return m(e.target.value)},rows:8,cols:80,nMinHeight:40,placeholder:Object(F.f)("#EventEditor_AddSpeaker_About_Placeholder")})),R.createElement("div",{className:X.a.PreviewCtn},R.createElement("div",{className:"DialogLabel"},Object(F.f)("#Button_Preview")),R.createElement(Q.a,{company:l,name:n,title:o,bioString:d,photo:f?f.url:void 0}))))},Se=function(n){function e(e){var t=n.call(this,e)||this;return t.m_isMounted=!1,t.m_bAppend=!1,t.state={bPreserveNewLines:!1,strHTMLData:""},t}return Object(j.d)(e,n),e.prototype.componentDidMount=function(){this.m_isMounted=!0},e.prototype.componentWillUnmount=function(){this.m_isMounted=!1},e.prototype.OnConvertAndOverriteHTML=function(){this.m_bAppend=!1,this.ConvertBBCode()},e.prototype.OnConvertAndAppendHTML=function(){this.m_bAppend=!0,this.ConvertBBCode()},e.prototype.ConvertHtmlToBBCode=function(n,r){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=new URLSearchParams).append("content",n),t.append("preserve_newlines",r?"1":"0"),[4,D.a.post(W.c.COMMUNITY_BASE_URL+"/actions/ConvertHTMLToBBCode",t)];case 1:return[2,e.sent().data.content]}})})},e.prototype.ConvertBBCode=function(){var t=this;this.setState({bConverting:!0}),this.ConvertHtmlToBBCode(this.state.strHTMLData,this.state.bPreserveNewLines).then(function(e){t.m_isMounted&&(t.m_bAppend?fe.append(e,t.props.textareaRef.current):fe.overwrite(e,t.props.textareaRef.current),t.setState({bConverting:!1,bFinishedConverting:!0}))}).catch(function(e){Object(U.d)(R.createElement(G.e,{strTitle:Object(F.f)("#EventEditor_ConvertHTML_Error"),strDescription:Object(F.f)("#EventEditor_ConvertHTML_Error_Desc",e.response&&e.response.data?e.response.data.msg:e),bAlertDialog:!0,bDestructiveWarning:!0}),window,{strTitle:Object(F.f)("#EventEditor_ConvertHTML_Error")})})},e.prototype.OnCheckboxChange=function(e){var t=e.target.checked;t!=this.state.bPreserveNewLines&&this.setState({bPreserveNewLines:t})},e.prototype.OnTextAreaChange=function(e){this.setState({strHTMLData:e.currentTarget.value})},e.prototype.render=function(){var e=this.props.closeModal;return this.state.bConverting?R.createElement(G.c,{strTitle:Object(F.f)("#EventEditor_ImportFromHTML"),strDescription:Object(F.f)("#EventEditor_ImportFromHTML_ConversionInProgress"),closeModal:e,bAlertDialog:!0,onOK:e,onCancel:e},R.createElement(Z.a,null)):this.state.bFinishedConverting?R.createElement(G.c,{strTitle:Object(F.f)("#EventEditor_ImportFromHTML"),strDescription:Object(F.f)("#EventEditor_ImportFromHTML_ConvertFinished"),closeModal:e,bAlertDialog:!0,onOK:e,onCancel:e}):R.createElement(G.d,{onOK:this.OnConvertAndOverriteHTML,onCancel:e,className:X.a.BBCodeEditorInputStyles},R.createElement(P.l,null," ",Object(F.f)("#EventEditor_ImportFromHTML")," "),R.createElement(P.b,null,R.createElement(P.c,null,R.createElement("div",{className:Object(h.a)(I.a.FlexColumnContainer,X.a.ImportHTMLCtn)},R.createElement("div",{className:I.a.FlexColumnContainer},Object(F.o)("#EventEditor_ImportFromHTML_ConvertDescription",R.createElement("a",{target:W.c.IN_CLIENT?void 0:"_blank",href:"https://partner.steamgames.com/doc/marketing/event_tools/import"},Object(F.f)("#EventEditor_ImportFromHTML_ConvertLearn")))),R.createElement("textarea",{value:this.state.strHTMLData,placeholder:Object(F.f)("#EventEditor_ImportFromHTML_Instruction"),className:X.a.ImportHTMLTextArea,onChange:this.OnTextAreaChange,ref:function(e){return e&&e.focus()}}),R.createElement("div",{className:X.a.ImportHTMLCheckBoxLine},R.createElement("input",{id:"ImportFromHTMLNewLines",type:"checkbox",checked:this.state.bPreserveNewLines,onChange:this.OnCheckboxChange}),R.createElement("label",{htmlFor:"ImportFromHTMLNewLines"},Object(F.f)("#EventEditor_ImportFromHTML_PreserveNewlines"),R.createElement("span",{className:"ttip","data-tooltip-text":Object(F.f)("#EventEditor_ImportFromHTML_PreserveNewlines_Hint")},"(?)"))),R.createElement("div",null,Object(F.f)("#EventEditor_ImportFromHTML_ConvertToBBCode")))),R.createElement(P.i,null,R.createElement(P.p,{onCancel:e,strOKText:Object(F.f)("#Button_Overwrite"),onUpdate:this.OnConvertAndAppendHTML,strUpdateText:Object(F.f)("#Button_Append")}))))},Object(j.c)([s.a],e.prototype,"OnConvertAndOverriteHTML",null),Object(j.c)([s.a],e.prototype,"OnConvertAndAppendHTML",null),Object(j.c)([s.a],e.prototype,"OnCheckboxChange",null),Object(j.c)([s.a],e.prototype,"OnTextAreaChange",null),Object(j.c)([i.observer],e)}(R.Component)},"4SZ2":function(e,t,n){e.exports={simpleTitleSmallHeight:"80",simpleTitleLargeHeight:"200",SimpleTitleHeaderCtn:"eventcalendarcollectionheaders_SimpleTitleHeaderCtn_3VhPz",SimpleTitleCtn:"eventcalendarcollectionheaders_SimpleTitleCtn_zWLw0",Title:"eventcalendarcollectionheaders_Title_1_MCH",Subtitle:"eventcalendarcollectionheaders_Subtitle_2Ym_j",LargeHeader:"eventcalendarcollectionheaders_LargeHeader_1Y7af",AppBannerLogoCtn:"eventcalendarcollectionheaders_AppBannerLogoCtn_1Vrsg",AppBannerLogo:"eventcalendarcollectionheaders_AppBannerLogo_QDuRw"}},"4Yh8":function(e,t,n){e.exports={PostTextEntry:"posttextentry_PostTextEntry_3x31A",PostTextEntryArea:"posttextentry_PostTextEntryArea_1JlC2",Controls:"posttextentry_Controls_37e7D",Active:"posttextentry_Active_1_KMh",FormattingSpacer:"posttextentry_FormattingSpacer_33rj8",EmoticonButton:"posttextentry_EmoticonButton_bACIu",PostButton:"posttextentry_PostButton_2JSyA",Label:"posttextentry_Label_3jvEk",Enabled:"posttextentry_Enabled_bGfja"}},"4pTM":function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",ReorderTransitionTime:"0.2s",DragInProgress:"libraryhomeshowcases_DragInProgress_2WrQ0",ShowcaseOuter:"libraryhomeshowcases_ShowcaseOuter_2tC_c",DeleteInProgress:"libraryhomeshowcases_DeleteInProgress_GKjvW",DragElement:"libraryhomeshowcases_DragElement_176H2",Deleting:"libraryhomeshowcases_Deleting_1KTj8",Draggable:"libraryhomeshowcases_Draggable_2W0O3",Showcase:"libraryhomeshowcases_Showcase_V7RuD",Hidden:"libraryhomeshowcases_Hidden_1_0va",ShowcaseGrid:"libraryhomeshowcases_ShowcaseGrid_3DJLG",ChildrenContainer:"libraryhomeshowcases_ChildrenContainer_1VMQW",DropOption:"libraryhomeshowcases_DropOption_1HgDL",DropTarget:"libraryhomeshowcases_DropTarget_3oXyq",Reordering:"libraryhomeshowcases_Reordering_2Ho8z",Spacer:"libraryhomeshowcases_Spacer_WcVtk",ShowcaseHeader:"libraryhomeshowcases_ShowcaseHeader_23Snl",Count:"libraryhomeshowcases_Count_Hbe3L",Rule:"libraryhomeshowcases_Rule_1PhK8",PostDropdownRule:"libraryhomeshowcases_PostDropdownRule_NR6cm",ReorderingDisabled:"libraryhomeshowcases_ReorderingDisabled_32LI4",CoverSizePicker:"libraryhomeshowcases_CoverSizePicker_13-cO",SortingDropDown:"libraryhomeshowcases_SortingDropDown_30PVt",PageButtons:"libraryhomeshowcases_PageButtons_29NTO",PageLeft:"libraryhomeshowcases_PageLeft_3uMa3",PageRight:"libraryhomeshowcases_PageRight_2kWWy",Disabled:"libraryhomeshowcases_Disabled_1MNhU",Collapser:"libraryhomeshowcases_Collapser_3sz4L",Visible:"libraryhomeshowcases_Visible_1XDaf",DragHandle:"libraryhomeshowcases_DragHandle_1OGfH",DeleteButton:"libraryhomeshowcases_DeleteButton_3cK5j",OptionsRule:"libraryhomeshowcases_OptionsRule_2U_Y7",CollectionDropDown:"libraryhomeshowcases_CollectionDropDown_1YdRd",DropDownLabel:"libraryhomeshowcases_DropDownLabel_tfg3_",CountDisplay:"libraryhomeshowcases_CountDisplay_2qm05",CollectionDropDownContainer:"libraryhomeshowcases_CollectionDropDownContainer_2Sj4-",DropDownItems:"libraryhomeshowcases_DropDownItems_lYnGt",AddShowcaseRow:"libraryhomeshowcases_AddShowcaseRow_3SkuN",ButtonHovered:"libraryhomeshowcases_ButtonHovered_3dQDo",AddShowcase:"libraryhomeshowcases_AddShowcase_2aw5a",DoneReorderingRow:"libraryhomeshowcases_DoneReorderingRow_1dy2s",DoneReordering:"libraryhomeshowcases_DoneReordering_MXh6n",EmptyShowcase:"libraryhomeshowcases_EmptyShowcase_3ZbaH",EmptyMessage:"libraryhomeshowcases_EmptyMessage_mzPGH",Message:"libraryhomeshowcases_Message_2j0P6",ShowcaseArrow:"libraryhomeshowcases_ShowcaseArrow_UOfJ-",Sortable:"libraryhomeshowcases_Sortable_2Z9gJ"}},"4sP7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAgCAQAAAD3NpPtAAAACXBIWXMAAAsTAAALEwEAmpwYAAADGGlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjaY2BgnuDo4uTKJMDAUFBUUuQe5BgZERmlwH6egY2BmYGBgYGBITG5uMAxIMCHgYGBIS8/L5UBFTAyMHy7xsDIwMDAcFnX0cXJlYE0wJpcUFTCwMBwgIGBwSgltTiZgYHhCwMDQ3p5SUEJAwNjDAMDg0hSdkEJAwNjAQMDg0h2SJAzAwNjCwMDE09JakUJAwMDg3N+QWVRZnpGiYKhpaWlgmNKflKqQnBlcUlqbrGCZ15yflFBflFiSWoKAwMD1A4GBgYGXpf8EgX3xMw8BSMDVQYqg4jIKAUICxE+CDEESC4tKoMHJQODAIMCgwGDA0MAQyJDPcMChqMMbxjFGV0YSxlXMN5jEmMKYprAdIFZmDmSeSHzGxZLlg6WW6x6rK2s99gs2aaxfWMPZ9/NocTRxfGFM5HzApcj1xZuTe4FPFI8U3mFeCfxCfNN45fhXyygI7BD0FXwilCq0A/hXhEVkb2i4aJfxCaJG4lfkaiQlJM8JpUvLS19QqZMVl32llyfvIv8H4WtioVKekpvldeqFKiaqP5UO6jepRGqqaT5QeuA9iSdVF0rPUG9V/pHDBYY1hrFGNuayJsym740u2C+02KJ5QSrOutcmzjbQDtXe2sHY0cdJzVnJRcFV3k3BXdlD3VPXS8Tbxsfd99gvwT//ID6wIlBS4N3hVwMfRnOFCEXaRUVEV0RMzN2T9yDBLZE3aSw5IaUNak30zkyLDIzs+ZmX8xlz7PPryjYVPiuWLskq3RV2ZsK/cqSql01jLVedVPrHzbqNdU0n22VaytsP9op3VXUfbpXta+x/+5Em0mzJ/+dGj/t8AyNmf2zvs9JmHt6vvmCpYtEFrcu+bYsc/m9lSGrTq9xWbtvveWGbZtMNm/ZarJt+w6rnft3u+45uy9s/4ODOYd+Hmk/Jn58xUnrU+fOJJ/9dX7SRe1LR68kXv13fc5Nm1t379TfU75/4mHeY7En+59lvhB5efB1/lv5dxc+NH0y/fzq64Lv4T8Ffp360/rP8f9/AA0ADzT6lvFdAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAMbSURBVHja7Na9bxxlEAbw37v3ffHFNr4YIdBZoCBZAoSwWyMhoQhFVNT8EalTU6ROxZ9BiegQWKGKCQkKRqCguCBKZDu249i+j92luLV9t+uPkAJRZIqVdnY0z84z8z7zhtR/Y5FXQP93oPK5ES2TWi5oqKsoKysJSAzEBrr27du1bVvv3wO96ZK2uppGVnWipCxkPCQIUom+IEgFXft6djzxyG4+YThhvF93RSIoq6ipu6imoqqiJMqgZOCJgb6enj27DvT1xSoe+PG8iiKf2vG+WXUVkVQslUoRi6WMgUXqGoJIEAx07frFOzbcP3sY5vS9a14DfV1dsUSKYfEhg0kdkpFKxPp6umJlM6547vJ5U9fRM2dfkvOngnGewxH4MSTESpponEVd0FYyoTeSNnXDmus6eOiGjuu4aTX7vuQLzTGovrfseXuUvHxFTcHMWA9gkSztavY2tHnz2pZ9k4vve0PN7FnUXRJMi3PeBdwmey4c+a+55itty4UGNKSmzqJuVt90oT9tHWv27FnT0X4hIUhVVPRPA2oqaRWoY9GalSMaD+0m1q1bKsSnWh6b8PQ0oIvZ+c+TN4/fjmg8tNWjYchbYtK6qWOgKDfsNRWlAgwdbStWtMeI+9qXGQ95i73GaJfGgaoGmhR6dFzJQs67pGnZ+gnUNcSqpwEFyamLY7HQoaF9hu9OiC9JR3NFufmvFnV3hLy2TsE/rGmtcPB3heOZK6r3VRVXR8Tl5SyoW7blB09OO7APVDxUycQzZBIaxt7KqqpjvvGo4TA8VTqGKQL9qeb+UUVprsGpoOaxW+5lh3JU1Y8VfZjj97MkKHZP0y3VbHGHbJMOU1XFbvvDrg0/eaQmGttOkbKquk2rSu6et2E/Ny0xZVJLSy27I6SCNX+J3PGzGZ9oaXpPM/uNxMBzz+zYtmXKt/4+D4gPzJkQlKXZXzY0bOra9L3tLOojH6ItcmDfQF8kFhtYd8fW+XeGw3MwqW1K04QLEiWRu37NCdbHJjOAHXue2bBh/8RBfMEprqraO1Exmjg48ctLAb26EhfsnwEAe9rzapiV4EEAAAAASUVORK5CYII="},"4sqd":function(e,t,n){"use strict";n.d(t,"a",function(){return R}),n.d(t,"b",function(){return N});var l=n("mrSG"),r=n("vDqi"),u=n.n(r),i=n("2vnA"),a=n("TyAF"),p=n("q1tI"),o=n("ir+G"),d=n("Mgs7"),m=n("exH9"),h=n("TLQK"),f=n("bDQf"),s=n("bxiW"),b=n("lkRc"),c=n("Jqb/"),_=n("ka0M"),v=n("0OaU"),g=n("/PpB"),y=n("0oQF"),S=n.n(y),w=n("6eA3"),C=n.n(w),O=n("fpVW"),E=n.n(O),B=n("BFsE"),A=n("wd/R"),I=n.n(A),j=n("5eAM");function D(e){if(b.h.logged_in){if(!b.h.is_limited)return 1;Object(_.d)(p.createElement(g.a,{strTokenOverride:e?"#SteamAward_Vote_LimitedAccount":"#SteamAward_Nominate_LimitedAccount"}),window)}else Object(_.d)(p.createElement(c.c,{strTitle:Object(h.f)("#EventDisplay_Share_NotLoggedIn"),strDescription:Object(h.f)("#EventDisplay_Share_NotLoggedIn_Description"),strOKButtonText:Object(h.f)("#MobileLogin_SignIn"),onOK:B.a}),window)}var R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={eCategoryLoaded:null,nomineeAppID:null},e.m_strPreviousNomineeTitle=null,e.m_cancelSignal=u.a.CancelToken.source(),e.m_refCheckbox=p.createRef(),e}return Object(l.d)(e,t),e.prototype.componentDidMount=function(){this.FetchNominationState()},e.prototype.componentDidUpdate=function(){this.props.event.GetSteamAwardCategory()!=this.state.eCategoryLoaded&&(this.m_strPreviousNomineeTitle=null,this.FetchNominationState())},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventDisplaySteamAwardNomination is being unmounted")},e.prototype.FetchNominationState=function(){var o;return Object(l.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(l.e)(this,function(e){switch(e.label){case 0:if(0==this.props.event.GetSteamAwardCategory())return this.setState({eCategoryLoaded:0,nomineeAppID:null}),[2];if(t=b.c.STORE_BASE_URL+"steamawards/ajaxgetusernominations",n={sessionid:b.c.SESSIONID,authwgtoken:b.h.authwgtoken},!b.h.logged_in)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,u.a.get(t,{params:n,withCredentials:!0,cancelToken:this.m_cancelSignal.token})];case 2:return(r=e.sent(),this.m_cancelSignal.token.reason)?[2]:(1==(null===(o=null==r?void 0:r.data)||void 0===o?void 0:o.success)&&r.data.nominations&&this.ProcessNominations(r.data.nominations),[3,4]);case 3:return i=e.sent(),a=Object(f.a)(i),console.error("Could not fetch previous nominations:"+a.strErrorMsg,a),[3,4];case 4:return[3,6];case 5:this.ProcessNominations([]),e.label=6;case 6:return[2]}})})},e.prototype.ProcessNominations=function(a){return Object(l.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(l.e)(this,function(e){switch(e.label){case 0:return t=this.props.event.GetSteamAwardCategory(),n=a[t],r=n&&n.appid,this.setState({eCategoryLoaded:t,nomineeAppID:r}),r&&r!=this.props.event.appid?[4,o.a.EnsureStoreCapsuleInfoLoaded(r)]:[3,2];case 1:if(i=e.sent(),this.m_cancelSignal.token.reason)return[2];this.props.event.GetSteamAwardCategory()==t&&(this.m_strPreviousNomineeTitle=i.GetAppStoreData().title),e.label=2;case 2:return[2]}})})},e.prototype.OnNominateClick=function(i){return Object(l.b)(this,void 0,void 0,function(){var t,n,r=this;return Object(l.e)(this,function(e){return(t=this.props.event.GetSteamAwardCategory())!=this.state.eCategoryLoaded||D(!1)&&(n=this.props.event.appid,this.state.nomineeAppID&&this.state.nomineeAppID!=n?i&&this.HandleConflict(function(){return r.SaveNomination(t,n,i)}):this.SaveNomination(t,n,i)),[2]})})},e.prototype.HandleConflict=function(e){var t=this;Object(_.d)(p.createElement(T,{strLocTokenInfix:"Nomination",strNewGameTitle:this.props.event.GetGameTitle(this.props.lang),fnGetOldGameTitle:function(){return t.m_strPreviousNomineeTitle},fnOnConfirm:e,fnOnCancel:function(){return t.m_refCheckbox.current&&t.m_refCheckbox.current.checked&&t.m_refCheckbox.current.Toggle()}}),window)},e.prototype.SaveNomination=function(o,s,c){return Object(l.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(l.e)(this,function(e){switch(e.label){case 0:if(this.setState({eCategoryLoaded:o,nomineeAppID:c?s:null}),this.props.previewMode)return[2];t=b.c.STORE_BASE_URL+"steamawards/ajaxnominategame",(n=new URLSearchParams).append("sessionid",b.c.SESSIONID),n.append("authwgtoken",b.h.authwgtoken),n.append("categoryid",o.toString()),n.append("nominatedid",s.toString()),n.append("rescind",c?"0":"1"),n.append("source","4"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,u.a.post(t,n,{withCredentials:!0,cancelToken:this.m_cancelSignal.token})];case 2:return(r=e.sent(),this.m_cancelSignal.token.reason)?[2]:(r&&200==r.status&&1==r.data.success||console.error("Nomination request failed.",r&&Object(f.a)(r)),[3,4]);case 3:return i=e.sent(),a=Object(f.a)(i),console.error("SaveNomination failed: "+a.strErrorMsg,a),[3,4];case 4:return[2]}})})},e.prototype.render=function(){var e=Math.floor(Date.now()/1e3),t=I()("2020-11-25T10:00:00-08:00").unix(),n=I()("2020-12-01T10:00:00-08:00").unix();if(this.props.event.GetStartTimeAndDateUnixSeconds()<t||n<e)return p.createElement("div",{className:S.a.ExpiredEventHeader}," ",Object(h.f)("#SteamAwards_ExpiredEvent")," ");var r=this.props.event.GetSteamAwardCategory(),i=50<=r&&r<60,a=this.state.eCategoryLoaded==r&&this.state.nomineeAppID==this.props.event.appid,o=this.props.event.BIsEventActionEnabled()||e<this.props.event.GetStartTimeAndDateUnixSeconds(),s=i&&(o||a),c=(new Date).getFullYear();return p.createElement("div",{className:Object(m.a)(S.a.SteamAwardContainer,E.a.PartnerEventFont),style:i?{backgroundImage:"url(https://media.st.dl.pinyuncloud.com/store/promo/autumn2020/nom_modal_art_"+r+".png?v=2)"}:void 0},p.createElement("div",{className:S.a.SteamAwardHeader},p.createElement("img",{className:S.a.SteamAwardHeaderImage,src:"https://media.st.dl.pinyuncloud.com/store/promo/autumn2020/event_nomination_banner_2020.png?v=2"}),p.createElement("div",{className:S.a.SteamAwardMainCtn},p.createElement("div",{className:S.a.SteamAwardMainTitle}," ",Object(h.f)("#SteamAwards_EventMainTitle")," "),p.createElement("div",{className:S.a.SteamAwardSubTitle},o?Object(h.f)("#SteamAwards_EventCallToAction"):Object(h.f)("#SteamAwards_EventVotingDateTeaser",c),o&&p.createElement("a",{href:b.c.STORE_BASE_URL+"steamawards/nominations/",className:S.a.SteamAwardLearnMore},"(",Object(h.f)("#EventDisplay_CallToAction_LearnMore"),")")),p.createElement("div",{className:S.a.SteamAwardHeaderText},o?i?Object(h.f)("#SteamAwards_EventNominateGamePrompt_Long",this.props.event.GetGameTitle(this.props.lang)):p.createElement("a",{className:C.a.LinkText,href:b.c.STORE_BASE_URL+"steamawards/nominations/"},Object(h.f)("#SteamAwards_EventNominateGamePrompt_NoCategory",this.props.event.GetGameTitle(this.props.lang))):Object(h.f)("#SteamAwards_Event_NominationsClosed")))),s&&p.createElement("div",{className:S.a.SteamAwardVoteWidget},p.createElement("div",{className:S.a.SteamAwardVotePrompt}," ",o&&Object(h.f)("#SteamAwards_EventNominateGamePrompt_CategoryPrefix")," "),p.createElement("div",{className:S.a.SteamAwardNominateButton},p.createElement(d.e,{ref:this.m_refCheckbox,classname:S.a.SteamAwardVoteCheckBox,checked:a,onChange:this.OnNominateClick,disabled:!o,color:"#bcf3dc",highlightColor:"white",label:p.createElement(p.Fragment,null,p.createElement("div",{className:S.a.SteamAwardCategoryTitle},Object(h.f)("#promo_steamawards2020_cat"+r)),p.createElement("span",{className:S.a.SteamAwardCategoryDesc},Object(h.f)("#promo_steamawards2020_cat"+r+"_desc")))})),o&&52!=r?p.createElement("div",{className:S.a.SteamAwardLinkToNominationPage},p.createElement("a",{href:b.c.STORE_BASE_URL+"steamawards/nominations/"}," ",Object(h.f)("#SteamAwards_EventNominationAlternativeLinkText")," ")):null))},Object(l.c)([i.observable],e.prototype,"m_strPreviousNomineeTitle",void 0),Object(l.c)([s.a],e.prototype,"OnNominateClick",null),Object(l.c)([s.a],e.prototype,"SaveNomination",null),Object(l.c)([a.observer],e)}(p.Component),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.d)(t,e),t.prototype.OnConfirm=function(){this.props.fnOnConfirm(),this.props.closeModal()},t.prototype.OnCancel=function(){this.props.fnOnCancel(),this.props.closeModal&&this.props.closeModal()},t.prototype.render=function(){var e=p.createElement("span",{className:S.a.SteamAwardModalGameTitle},this.props.strNewGameTitle),t=this.props.fnGetOldGameTitle(),n=t?p.createElement("span",{className:S.a.SteamAwardModalGameTitle},t):p.createElement(v.a,{size:"small",position:"center",string:Object(h.f)("#Loading")});return p.createElement(c.c,{bDestructiveWarning:!0,strTitle:Object(h.f)("#SteamAward_"+this.props.strLocTokenInfix+"ConflictWarning_Title"),strDescription:Object(h.o)("#SteamAward_"+this.props.strLocTokenInfix+"ConflictWarning_Explanation",n,e),onOK:this.OnConfirm,onCancel:this.OnCancel})},Object(l.c)([s.a],t.prototype,"OnConfirm",null),Object(l.c)([s.a],t.prototype,"OnCancel",null),Object(l.c)([a.observer],t)}(p.Component),M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={eCategoryLoaded:null,votedForAppID:null},e.m_strPreviousVotedForAppTitle=null,e.m_cancelSignal=u.a.CancelToken.source(),e}return Object(l.d)(e,t),e.prototype.componentDidMount=function(){this.FetchVoteState()},e.prototype.componentDidUpdate=function(){this.props.eVoteCategory!=this.state.eCategoryLoaded&&this.FetchVoteState()},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventDisplaySteamAwardVote is being unmounted")},e.prototype.FetchVoteState=function(){var o;return Object(l.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(l.e)(this,function(e){switch(e.label){case 0:if(t=b.c.STORE_BASE_URL+"steamawards/ajaxgetuservotes",n={sessionid:b.c.SESSIONID,authwgtoken:b.h.authwgtoken},!b.h.logged_in)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,u.a.get(t,{params:n,withCredentials:!0,cancelToken:this.m_cancelSignal.token})];case 2:return(r=e.sent(),this.m_cancelSignal.token.reason)?[2]:(1==(null===(o=null==r?void 0:r.data)||void 0===o?void 0:o.success)&&r.data.votes&&this.UpdateVoteState(r.data.votes),[3,4]);case 3:return i=e.sent(),a=Object(f.a)(i),console.error("Could not fetch previous votes:"+a.strErrorMsg,a),[3,4];case 4:return[3,6];case 5:this.UpdateVoteState([]),e.label=6;case 6:return[2]}})})},e.prototype.UpdateVoteState=function(i){return Object(l.b)(this,void 0,void 0,function(){var t,n,r;return Object(l.e)(this,function(e){switch(e.label){case 0:return t=this.props.eVoteCategory,n=i[t],this.setState({eCategoryLoaded:t,votedForAppID:n}),n&&n!=this.props.appID?[4,o.a.EnsureStoreCapsuleInfoLoaded(n)]:[3,2];case 1:if(r=e.sent(),this.m_cancelSignal.token.reason)return[2];this.props.eVoteCategory==t&&(this.m_strPreviousVotedForAppTitle=r.GetAppStoreData().title),e.label=2;case 2:return[2]}})})},e.prototype.OnVoteClick=function(){return Object(l.b)(this,void 0,void 0,function(){var t,n,r=this;return Object(l.e)(this,function(e){return(t=this.props.eVoteCategory)!=this.state.eCategoryLoaded||D(!0)&&(n=this.props.appID,this.state.votedForAppID&&this.state.votedForAppID!=n?this.HandleConflict(function(){return r.SaveVote(t,n)}):this.SaveVote(t,n)),[2]})})},e.prototype.HandleConflict=function(e){var t=this,n=j.a.GetAppLinkInfo(this.props.appID);Object(_.d)(p.createElement(T,{strLocTokenInfix:"Vote",strNewGameTitle:n.name,fnGetOldGameTitle:function(){return t.m_strPreviousVotedForAppTitle},fnOnConfirm:e,fnOnCancel:function(){}}),window)},e.prototype.SaveVote=function(o,s){return Object(l.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(l.e)(this,function(e){switch(e.label){case 0:if(this.setState({eCategoryLoaded:o,votedForAppID:s}),this.props.previewMode&&1==b.c.EUNIVERSE)return[2];t=b.c.STORE_BASE_URL+"steamawards/ajaxvoteforgame",(n=new URLSearchParams).append("sessionid",b.c.SESSIONID),n.append("authwgtoken",b.h.authwgtoken),n.append("categoryid",o.toString()),n.append("appid",s.toString()),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,u.a.post(t,n,{withCredentials:!0,cancelToken:this.m_cancelSignal.token})];case 2:return(r=e.sent(),this.m_cancelSignal.token.reason)?[2]:(r&&200==r.status&&1==r.data.success||console.error("Vote request failed.",r&&Object(f.a)(r)),[3,4]);case 3:return i=e.sent(),a=Object(f.a)(i),console.error("SaveVote failed: "+a.strErrorMsg,a),[3,4];case 4:return[2]}})})},e.prototype.render=function(){var e=this.props.eVoteCategory,t=this.state.eCategoryLoaded==e&&this.state.votedForAppID==this.props.appID;return this.props.bIsEventActionEnabled||this.props.previewMode||t?p.createElement("div",{className:Object(m.a)(S.a.SteamAwardVoteWidget)},p.createElement("div",{className:S.a.SteamAwardVotePrompt}),p.createElement("div",{className:S.a.SteamAwardVoteButtonArea},p.createElement("div",{className:S.a.SteamAwardCategoryTitle},Object(h.f)("#promo_steamawards2020_cat"+e)),!this.props.bRenderFromStorePage&&p.createElement("span",{className:S.a.SteamAwardCategoryDesc},Object(h.f)("#promo_steamawards2020_cat"+e+"_desc")),t?p.createElement("div",{className:S.a.SteamAwardVoteButtonSubmitted},p.createElement("span",{className:S.a.SteamAwardVoteButtonText},Object(h.f)("#SteamAward_VoteButton_VotedText"))):p.createElement("button",{className:S.a.SteamAwardVoteButton,onClick:this.OnVoteClick},p.createElement("span",{className:S.a.SteamAwardVoteButtonText},Object(h.f)("#SteamAward_VoteButton_PromptText"))))):null},Object(l.c)([i.observable],e.prototype,"m_strPreviousVotedForAppTitle",void 0),Object(l.c)([s.a],e.prototype,"OnVoteClick",null),Object(l.c)([s.a],e.prototype,"SaveVote",null),Object(l.c)([a.observer],e)}(p.Component),N=(p.Component,function(n){function e(e){var t=n.call(this,e)||this;return t.state={bAppInfoLoaded:!1},t}return Object(l.d)(e,n),e.prototype.componentDidMount=function(){var e=this;j.a.LoadAppLinkInfo([this.props.appID]).then(function(){e.m_appInfo=j.a.GetAppLinkInfo(e.props.appID),e.m_appInfo&&e.setState({bAppInfoLoaded:!0})})},e.prototype.GetNominatedAwardCategories=function(){var t=this,n=[];return this.props.voteCategories.forEach(function(e){n.push(p.createElement(M,Object(l.a)({key:e,eVoteCategory:e},t.props)))}),n},e.prototype.render=function(){return this.state.bAppInfoLoaded&&this.props.voteCategories?p.createElement("div",{className:Object(m.a)(S.a.SteamAwardContainer,E.a.PartnerEventFont)},p.createElement("div",{className:S.a.SteamAwardHeader},p.createElement("img",{className:S.a.SteamAwardHeaderImage,src:"https://media.st.dl.pinyuncloud.com/store/promo/autumn2020/event_nomination_banner_2020.png?v=2"}),p.createElement("div",{className:S.a.SteamAwardMainCtn},p.createElement("div",{className:S.a.SteamAwardMainTitle}," ",Object(h.f)("#SteamAwards_EventMainTitleCombined")," "),p.createElement("div",{className:S.a.SteamAwardHeaderText},this.props.bIsEventActionEnabled?p.createElement(p.Fragment,null,Object(h.f)("#SteamAwards_EventVoteForGamePrompt",this.m_appInfo.name),p.createElement("a",{href:b.c.STORE_BASE_URL+"steamawards/",className:Object(m.a)(S.a.SteamAwardLearnMore,S.a.BottomRight)},Object(h.f)("#EventDisplay_CallToAction_LearnMore"))):p.createElement("a",{href:b.c.STORE_BASE_URL+"steamawards/",className:S.a.LinkText},Object(h.f)("#SteamAwards_Event_VotesClosed"))))),p.createElement("div",{className:S.a.AwardCategoriesCtn},this.GetNominatedAwardCategories())):null},Object(l.c)([a.observer],e)}(p.Component))},"5Aio":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAgCAYAAABdP1tmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAjRJREFUeNrsmLFrFEEUxr+Xi4UBFQUbCwkeqKQwhYiFlQom/8BiLJRYBNFCtNFG0wUkQjoLBQW7/AGBgIjaxHQ2phDUQkRFBKMSRc+7+1k44jDsiXs7u3sc+WCbNzu738ebefO9MUD9hAH1GfpOkIBMT5f/GAHOl8HPspI0s25IzUs6JKluZo2sgirJEHAOmAIsJTttfmMqZd4e4Eo0fhEFTTjSj4FRPzv8xQug5uKbgFmgAdzqRUH7PeJNYA446GXnD04Ap4B3XuxCz+0hYKukj2FYUjihJakWxMbM7F6MPRStbJvZaoqgNPW1lNizWDwGuyylRyTtTBlak7Qt4+d+StoF7JD03c+kmT0t5RwCdgMfKBZnSi0KwAHga0FiLlVS5YAxV3ZjYqbSsg2cjCjmRt4tkavKAXVJxyNayxawuXRzCgwBM8CPAvbPWyApbckBCfCa4rEI1MtYci8l3ZS0JKldUFezJqkp6WjmAz6P9XF255ikSUnjOUU8kbQg6b6kZTNrVtY+BI66W1zrCXMKjEha6eDbsuCzpGEz+1S1OZ2OIEaStkg6W+mdQtCNNoBHwFVg9T+W2CvgDvDGi70HNlbmFICLwHVngYa8+FJA/gvQCmLz3vv7gMvAg7BNr6xjDUjc9Yh/Aw4Dk4Gg6Q5zB/IIGizoHHnu9TqJmT105LZLmnVjKx2KTruyPfSPbyZuiSUpY3MuQ3sL4VeQoFHgdIcxA24DG3rionH9bntdUD78GgDD9sxi5Lh6hgAAAABJRU5ErkJggg=="},"5E+2":function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return g});var f=n("mrSG"),b=n("q1tI"),r=n("sUmc"),_=n("UPxs"),i=n("exH9"),a=n("DWPT"),o=n("TLQK"),s=n("bxiW"),c=n("LY6W"),l=n.n(c),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(f.d)(t,e),t.prototype.TryHide=function(){this.m_fnHide&&this.m_fnHide(),this.m_fnHide=null},t.prototype.componentWillUnmount=function(){this.TryHide()},t.prototype.render=function(){var e,t=this,n=this.props,r=n.toolTipContent,i=n.nDelayShowMS,a=n.bDisabled,o=n.direction,s=n.nBodyAlignment,c=n.nBodyDistance,l=n.nAllowOffscreenPx,u=n.nMaxLateralMoveOnScreen,p=n.strTooltipClassname,d=Object(f.f)(n,["toolTipContent","nDelayShowMS","bDisabled","direction","nBodyAlignment","nBodyDistance","nAllowOffscreenPx","nMaxLateralMoveOnScreen","strTooltipClassname"]),m={direction:o,nBodyAlignment:s,nBodyDistance:c,nAllowOffscreenPx:l,nMaxLateralMoveOnScreen:u,className:p},h=null;return a||(e=function(e){return t.m_fnHide=e},h="string"==typeof r?v.ForText(r,e,i,m):v.ForReactNode(r,e,i,m)),b.createElement(_.c,Object(f.a)({navStop:!!d.onClick,onMouseEnter:h?h.ShowToolTip:null,onMouseLeave:this.TryHide},d),this.props.children)},t.defaultProps={nDelayShowMS:300},Object(f.c)([s.a],t.prototype,"TryHide",null),t}(b.Component),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(f.d)(t,e),t.prototype.render=function(){return b.createElement("div",{className:l.a.ToolTipCustom},this.props.children)},t}(b.Component),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(f.d)(t,e),t.prototype.render=function(){var e=this.props.className;return b.createElement("div",{className:Object(i.a)(l.a.ToolTipTitle,this.props.center?l.a.Center:"",e)},this.props.toolTipContent)},t}(b.Component),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(f.d)(t,e),t.prototype.render=function(){return b.createElement("div",{className:l.a.ToolTipInsetContent},this.props.children)},t}(b.Component),v=function(){function i(e,t,n,r){this.m_rctContent=e,this.m_nDelayShowMS=n,this.m_hoverPositionProps=r,this.m_strKey="tooltip-"+Math.floor(1e8*Math.random()),this.m_fnOnShow=t}return i.ForReactNode=function(e,t,n,r){return new i(e,t,n,r)},i.ForText=function(e,t,n,r){return new i(b.createElement("div",{className:l.a.TextToolTip},Object(o.f)(e)),t,n,r)},i.prototype.ShowToolTip=function(e){var t=this,n=e.currentTarget||e,r={target:n};i.sm_embeddedElements.ShowElementDelayed(n.ownerDocument,this.m_nDelayShowMS,b.createElement(a.a,Object(f.a)({},r,this.m_hoverPositionProps),this.m_rctContent),this.m_strKey),this.m_fnOnShow&&this.m_fnOnShow(function(){return t.HideToolTip(n)})},i.prototype.HideToolTip=function(e){var t=e.currentTarget||e;i.sm_embeddedElements.HideElement(t.ownerDocument,this.m_strKey)},i.sm_embeddedElements=new r.a("ignored-id-tooltip-map"),Object(f.c)([s.a],i.prototype,"ShowToolTip",null),Object(f.c)([s.a],i.prototype,"HideToolTip",null),i}(),h="DEBUG_StickyHovers";function g(e){e?window.sessionStorage.setItem(h,"true"):window.sessionStorage.removeItem(h)}},"5L1o":function(e,t,n){"use strict";n.d(t,"j",function(){return ya}),n.d(t,"h",function(){return Sa}),n.d(t,"f",function(){return Ea}),n.d(t,"i",function(){return Ba}),n.d(t,"l",function(){return ja}),n.d(t,"g",function(){return Da}),n.d(t,"b",function(){return ka}),n.d(t,"c",function(){return Fa}),n.d(t,"k",function(){return Ga}),n.d(t,"e",function(){return xa}),n.d(t,"a",function(){return Ha}),n.d(t,"d",function(){return Wa});var z=n("mrSG"),r=n("vDqi"),A=n.n(r),i=n("TyAF"),M=n("q1tI"),I=n.n(M),a=n("pQ8y"),o=n("vv6K"),j=n.n(o),s=n("vEGm"),D=n.n(s),b=n("kyHq"),u=n("TtDX"),H=n("5eAM"),c=n("SG7E"),E=n("oVVc"),B=n("VQ2A"),R=n("nWbB"),l=n("gOcu"),W=n("ee7K"),N=n("5izx"),_=n("C4Nl"),O=n("b3LC"),T=n("QXuq"),p=n("y+6m"),d=n("XTKY"),v=n.n(d),f=n("fpVW"),C=n.n(f),g=n("BFsE"),m=n("02Wr"),h=n("Jnrd"),y=new(function(){function e(){this.m_mapAppToSNRs=new Map}return e.prototype.AddImpression=function(e,t){var n,r,i=!1;this.m_mapAppToSNRs.has(e)?-1==this.m_mapAppToSNRs.get(e).indexOf(t)&&(this.m_mapAppToSNRs.get(e).push(t),i=!0):(this.m_mapAppToSNRs.set(e,[t]),i=!0),i&&(r=e+"@"+t,(n=Object(h.b)("app_impressions")||"").length+r.length+1<=3200&&(0<n.length&&(n+="|"),n+=r,Object(h.c)("app_impressions",n)))},e}());window.g_ImpressionTracker=y;var S=n("uuth"),w=n("bxiW"),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.OnEnter=function(){y.AddImpression(this.props.appID,this.props.snr)},t.prototype.render=function(){return I.a.createElement(S.a,{onEnter:this.OnEnter},this.props.children)},Object(z.c)([w.a],t.prototype,"OnEnter",null),t}(I.a.Component),k=n("Jqb/"),F=n("ka0M"),P=n("6Y59"),G=n("0OaU"),U=n("+d9t"),x=n("exH9"),V=n("TLQK"),q=n("bDQf"),Y=n("lkRc"),Q=n("dfs5"),Z=n("PHKo"),K=n("XsxU"),J=n.n(K),X=n("Fmfl"),$=n("Ty5D"),ee=n("3+zv"),te=n("kLLr"),ne=n("boaH"),re=n("U+Q5"),ie=n("uIWk"),ae=new(function(){function e(){this.m_rgMyWishlistOnSale=null,this.m_rgMyDLCForGamesInLibraryOnSale=null,this.m_rgMySoundtracksForGamesInLibraryOnSale=null,this.m_rgMyInteractiveRecOnSale=null,this.m_rgMySaleTags=null,this.m_rgMyTagRecommendation=null,this.m_mapSaleGameListsByFlavor=new Map,this.m_mapPromisesByFlavor=new Map,this.m_rgTopN=null,this.m_rgAllDiscounted=null}return e.prototype.GetDiscounts=function(o){return Object(z.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(z.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),t="discount",t+=o.tagid?"_tag"+o.tagid:"",t+=o.categoryid?"_categoryid"+o.categoryid:"",t+=o.top_n_sellers?"_ntop"+o.top_n_sellers:"",t+=o.max_results?"_max"+o.max_results:"",t+=o.random_across_set?"_rand":"",(n=Object(Y.g)(t,"application_config"))?[3,2]:[4,A.a.get(Y.c.STORE_BASE_URL+"actions/ajaxgetdiscounts",{params:Object(z.a)(Object(z.a)({},o),{cc:Y.c.COUNTRY})})];case 1:r=e.sent(),n=r.data,e.label=2;case 2:return[2,n];case 3:return i=e.sent(),a=Object(q.a)(i),console.error("GetDiscounts hit error: "+a.strErrorMsg,a),[3,4];case 4:return[2,{rgAppIDs:[],rgSolrFacetCounts:null}]}})})},e.prototype.GetTopN=function(n,r){return Object(z.b)(this,void 0,void 0,function(){var t;return Object(z.e)(this,function(e){switch(e.label){case 0:return this.m_rgTopN?[3,2]:(this.m_rgTopN=Object(Y.g)("top_n","application_config"),this.m_rgTopN?[3,2]:[4,ae.GetDiscounts({top_n_sellers:500,max_results:r,feature:n})]);case 1:t=e.sent().rgAppIDs,this.m_rgTopN=t.map(function(e){return Number(e)}),e.label=2;case 2:return[2,this.m_rgTopN]}})})},e.prototype.GetAllDiscounted=function(r,i,a,o){return void 0===a&&(a=null),void 0===o&&(o=null),Object(z.b)(this,void 0,void 0,function(){var t,n;return Object(z.e)(this,function(e){switch(e.label){case 0:return(t=a?a.strQuery:"",this.m_rgAllDiscounted&&this.m_rgAllDiscounted.has(t))?[3,2]:(this.m_rgAllDiscounted=Object(Y.g)("all_discounted","application_config"),this.m_rgAllDiscounted&&this.m_rgAllDiscounted.has(t)?[3,2]:[4,ae.GetDiscounts({sort_by_sales_rank:!0,facet_filter:null==a?void 0:a.strQuery,pre_filter:o?JSON.stringify(o):null,max_results:i,feature:r})]);case 1:n=e.sent(),this.m_rgAllDiscounted||(this.m_rgAllDiscounted=new Map),this.m_rgAllDiscounted.set(t,Object(z.a)({rgAppIDs:n.rgAppIDs.map(function(e){return Number(e)})},n)),e.label=2;case 2:return a&&a.SetSolrFacetCounts(this.m_rgAllDiscounted.get(t).rgSolrFacetCounts),[2,this.m_rgAllDiscounted.get(t).rgAppIDs]}})})},e.prototype.GetWishlistOnSale=function(){return Object(z.b)(this,void 0,void 0,function(){var t;return Object(z.e)(this,function(e){switch(e.label){case 0:return this.m_rgMyWishlistOnSale?[3,2]:(this.m_rgMyWishlistOnSale=Object(Y.g)("wishlist_onsale","application_config"),this.m_rgMyWishlistOnSale?[3,2]:[4,A.a.get(Y.c.STORE_BASE_URL+"saleaction/ajaxgetwishlistonsale",{withCredentials:!0})]);case 1:t=e.sent(),this.m_rgMyWishlistOnSale=t.data.appids,e.label=2;case 2:return[2,this.m_rgMyWishlistOnSale]}})})},e.prototype.GetDLCForGamesInMyLibraryOnSale=function(){return Object(z.b)(this,void 0,void 0,function(){var t;return Object(z.e)(this,function(e){switch(e.label){case 0:return this.m_rgMyDLCForGamesInLibraryOnSale?[3,2]:(this.m_rgMyDLCForGamesInLibraryOnSale=Object(Y.g)("dlc_onsale","application_config"),this.m_rgMyDLCForGamesInLibraryOnSale?[3,2]:[4,A.a.get(Y.c.STORE_BASE_URL+"saleaction/ajaxgetdlconsale",{withCredentials:!0})]);case 1:t=e.sent(),this.m_rgMyDLCForGamesInLibraryOnSale=t.data.appids,e.label=2;case 2:return[2,this.m_rgMyDLCForGamesInLibraryOnSale]}})})},e.prototype.GetSoundtracksForGamesInMyLibraryOnSale=function(){return Object(z.b)(this,void 0,void 0,function(){var t;return Object(z.e)(this,function(e){switch(e.label){case 0:return this.m_rgMySoundtracksForGamesInLibraryOnSale?[3,2]:(this.m_rgMySoundtracksForGamesInLibraryOnSale=Object(Y.g)("dlc_music_onsale","application_config"),this.m_rgMySoundtracksForGamesInLibraryOnSale?[3,2]:[4,A.a.get(Y.c.STORE_BASE_URL+"saleaction/ajaxgetsoundtracksonsale",{withCredentials:!0})]);case 1:t=e.sent(),this.m_rgMySoundtracksForGamesInLibraryOnSale=t.data.appids,e.label=2;case 2:return[2,this.m_rgMySoundtracksForGamesInLibraryOnSale]}})})},e.prototype.GetInteractiveRecommendationsOnSale=function(){return Object(z.b)(this,void 0,void 0,function(){var t;return Object(z.e)(this,function(e){switch(e.label){case 0:return this.m_rgMyInteractiveRecOnSale?[3,2]:(this.m_rgMyInteractiveRecOnSale=Object(Y.g)("ir_onsale","application_config"),this.m_rgMyInteractiveRecOnSale?[3,2]:[4,A.a.get(Y.c.STORE_BASE_URL+"saleaction/ajaxgetironsale",{withCredentials:!0})]);case 1:t=e.sent(),this.m_rgMyInteractiveRecOnSale=t.data.appids,e.label=2;case 2:return[2,this.m_rgMyInteractiveRecOnSale]}})})},e.prototype.GetSaleTags=function(){return Object(z.b)(this,void 0,void 0,function(){var t;return Object(z.e)(this,function(e){switch(e.label){case 0:return this.m_rgMySaleTags?[3,2]:(this.m_rgMySaleTags=Object(Y.g)("saletags","application_config"),this.m_rgMySaleTags?[3,2]:[4,A.a.get(Y.c.STORE_BASE_URL+"saleaction/ajaxgetsaletags",{withCredentials:!1})]);case 1:t=e.sent(),this.m_rgMySaleTags=t.data,e.label=2;case 2:return[2,this.m_rgMySaleTags]}})})},e.prototype.GetTagRecommendorForThisSale=function(i,a,o){return Object(z.b)(this,void 0,void 0,function(){var t,n,r;return Object(z.e)(this,function(e){switch(e.label){case 0:return this.m_rgMyTagRecommendation?[3,2]:(this.m_rgMyTagRecommendation=Object(Y.g)("tag_recommender","application_config"),this.m_rgMyTagRecommendation?[3,2]:(t=Y.c.STORE_BASE_URL+"saleaction/ajaxgetsaletagsrecommendation",n={cc:Y.c.COUNTRY,l:Y.c.LANGUAGE,clanAccountID:i.clanSteamID.GetAccountID(),clanAnnouncementGID:i.AnnouncementGID,count:a,nocache:o},[4,A.a.get(t,{params:n,withCredentials:!0})]));case 1:200==(r=e.sent()).status&&r.data&&r.data.tag_recommender?this.m_rgMyTagRecommendation=r.data.tag_recommender:this.m_rgMyTagRecommendation=[],e.label=2;case 2:return[2,this.m_rgMyTagRecommendation]}})})},e.prototype.GetFlavorCacheKey=function(e,t,n,r,i){return"key-"+e+"-"+((null==t?void 0:t.strQuery)||"")+"-"+(n||"*")+"-"+(r||"")+"-"+i},e.prototype.ValidateDataGameByFlavor=function(e){return e&&"object"==typeof e&&e.solr_index&&"number"==typeof e.solr_index&&e.appids&&Array.isArray(e.appids)},e.prototype.InternalGetSaleGamesByFlavor=function(m,h,f,b,_,v,g,y,S,w,C){var O,E,B;return void 0===S&&(S=0),void 0===w&&(w=void 0),Object(z.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,p,d;return Object(z.e)(this,function(e){switch(e.label){case 0:return((t=this.m_mapSaleGameListsByFlavor.get(m))||(n="browser_"+v+(null==g?void 0:g.strQuery)+(b?"_"+b:"_*")+(h?w:""),r=Object(Y.g)(n,"application_config"),this.ValidateDataGameByFlavor(r)?(t=r,this.m_mapSaleGameListsByFlavor.set(m,r)):(t={appids:[],solr_index:0,possible_has_more:!0},this.m_mapSaleGameListsByFlavor.set(m,t))),i=t.appids.length,0<(a=S+y-i)&&t.possible_has_more)?(o=Y.c.STORE_BASE_URL+(f?"saleaction/ajaxpreviewsaledynamicappquery":"saleaction/ajaxgetsaledynamicappquery"),s={cc:Y.c.COUNTRY,l:Y.c.LANGUAGE,clanAccountID:(null==_?void 0:_.clanSteamID.GetAccountID())||null,clanAnnouncementGID:(null==_?void 0:_.AnnouncementGID)||null,flavor:v,strFacetFilter:null==g?void 0:g.strQuery,start:t.solr_index,count:Math.max(a,25),tabuniqueid:b,return_capsules:!0,search:h?w:void 0},[4,A.a.get(o,{params:s,withCredentials:f,cancelToken:null==C?void 0:C.token})]):[3,2];case 1:if(200!=(null==(c=e.sent())?void 0:c.status)||1!=(null===(O=c.data)||void 0===O?void 0:O.success)||null===(E=c.data)||void 0===E||!E.appids)throw new Error("query failed, status="+(null==c?void 0:c.status)+" success: "+(null===(B=null==c?void 0:c.data)||void 0===B?void 0:B.success));for(l=0,u=c.data.appids;l<u.length;l++)p=u[l],t.appids.push(p);t.possible_has_more=c.data.possible_has_more,t.solr_index=c.data.solr_index,c.data.app_info&&H.a.AddAppLinks(c.data.app_info),e.label=2;case 2:return this.m_mapSaleGameListsByFlavor.set(m,t),d=t.possible_has_more||S+y<t.appids.length,[2,{appids:t.appids.slice(S,y),bHasPossibleMoreResults:d}]}})})},e.prototype.GetSaleGamesByFlavor=function(a,o,s,c,l,u,p,d,m){return void 0===p&&(p=0),void 0===d&&(d=void 0),Object(z.b)(this,void 0,void 0,function(){var t,n,r,i=this;return Object(z.e)(this,function(e){switch(e.label){case 0:d=null==d?void 0:d.trim(),(t=Boolean(d))&&(c="search",o=void 0),n=this.GetFlavorCacheKey(c,l,o,d,(null==s?void 0:s.AnnouncementGID)||"0"),e.label=1;case 1:if(!this.m_mapPromisesByFlavor.has(n))return[3,6];e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.m_mapPromisesByFlavor.get(n)];case 3:return e.sent(),[3,5];case 4:return e.sent(),[3,5];case 5:return[3,1];case 6:return r=this.InternalGetSaleGamesByFlavor(n,t,a,o,s,c,l,u,p,d,m),this.m_mapPromisesByFlavor.set(n,r),function(){return Object(z.b)(i,void 0,void 0,function(){return Object(z.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,,2,3]),[4,r];case 1:return e.sent(),[3,3];case 2:return this.m_mapPromisesByFlavor.delete(n),[7];case 3:return[2]}})})}(),[2,r]}})})},e}()),oe=n("2vnA"),se=new(function(){function e(){this.m_mySummary={points:0,points_earned:0,points_spent:0},this.m_bLoaded=!1}return e.prototype.LazyInit=function(){var e,t=this;this.m_bLoaded||(e=Object(Y.g)("points","application_config"),this.ValidateStoreDefault(e)&&Object(oe.runInAction)(function(){t.m_mySummary.points=e.points,t.m_mySummary.points_earned=e.points_earned,t.m_mySummary.points_spent=e.points_spent,t.m_bLoaded=!0}))},e.prototype.ValidateStoreDefault=function(e){return!(!e||"object"!=typeof e)&&("number"==typeof e.points&&"number"==typeof e.points_earned&&"number"==typeof e.points_spent)},e.prototype.LoadSaleTokenPoints=function(){return Object(z.b)(this,void 0,void 0,function(){var t,n,r=this;return Object(z.e)(this,function(e){switch(e.label){case 0:return(this.LazyInit(),this.m_bLoaded||!Y.h.logged_in)?[3,2]:(t=Y.c.STORE_BASE_URL+"lunarnewyearmarket/ajaxgettokensummary",[4,A.a.get(t,{withCredentials:!0})]);case 1:n=e.sent(),Object(oe.runInAction)(function(){r.m_mySummary.points=n.data.summary.points,r.m_mySummary.points_earned=n.data.summary.points_earned,r.m_mySummary.points_spent=n.data.summary.points_spent,r.m_bLoaded=!0}),e.label=2;case 2:return[2,this.m_mySummary]}})})},e.prototype.ForceReloadSaleTokenPoints=function(){return Object(z.b)(this,void 0,void 0,function(){return Object(z.e)(this,function(e){return this.m_bLoaded=!1,[2,this.LoadSaleTokenPoints()]})})},e.prototype.AddPoints=function(e){this.m_mySummary.points+=e,this.m_mySummary.points_earned+=e},e.prototype.GetSaleTokenPoints=function(){return this.m_mySummary},Object(z.c)([oe.observable],e.prototype,"m_mySummary",void 0),e}());window.g_SaleTokenPointStore=se;var ce=new(function(){function e(){this.m_salePageBackgroundOverride=null,this.m_salePageBackgroundWEBM=null,this.m_salePageBackgroundMP4=null,this.m_storyImages=null,this.m_strLastDoorOpenKey="video_noneset",this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var e=this;this.m_bLoadedFromConfig||(Object(oe.runInAction)(function(){e.m_userData=Object(Y.g)("doorinfo","application_config"),e.m_salePageBackgroundOverride=Object(Y.g)("doorinfobackground","application_config"),e.m_salePageBackgroundWEBM=Object(Y.g)("doorinfowebm","application_config"),e.m_salePageBackgroundMP4=Object(Y.g)("doorinfomp4","application_config"),e.m_storyImages=Object(Y.g)("storyimages","application_config"),e.m_storyImages||(e.m_storyImages=new Array(4))}),this.m_bLoadedFromConfig=!0)},e.prototype.LoadDoorData=function(){return Object(z.b)(this,void 0,void 0,function(){var t,n;return Object(z.e)(this,function(e){switch(e.label){case 0:return t=Y.c.STORE_BASE_URL+"saleaction/ajaxgetopendoor",[4,A.a.get(t,{withCredentials:!0})];case 1:return n=e.sent(),this.m_userData=n.data.doordata,[2,this.m_userData]}})})},e.prototype.GetRawDoorData=function(){return this.m_userData},e.prototype.BIsDoorOpened=function(e){return this.LazyInit(),!!this.m_userData&&(e<this.m_userData.length&&this.m_userData[e].opened)},e.prototype.BCanUserOpenDoor=function(e){this.LazyInit();var t=N.a.GetTimeNowWithOverride();return Y.h.logged_in&&this.m_userData&&e<this.m_userData.length&&t>=this.m_userData[e].rtime_start&&t<=this.m_userData[e].rtime_end},e.prototype.GetDoorCount=function(){return this.LazyInit(),this.m_userData?this.m_userData.length:0},e.prototype.OpenDoor=function(s,c){return void 0===c&&(c=!0),Object(z.b)(this,void 0,void 0,function(){var t,n,r,i,a,o=this;return Object(z.e)(this,function(e){switch(e.label){case 0:if(!Y.h.logged_in||!this.m_userData||s>this.m_userData.length)return[2,null];t=Y.c.STORE_BASE_URL+"saleaction/ajaxopendoor",(n=new FormData).append("sessionid",Y.c.SESSIONID),n.append("authwgtoken",Y.h.authwgtoken),n.append("door_index",""+s),c||n.append("open_door","0"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,A.a.post(t,n,{withCredentials:!0})];case 2:return 1==(r=e.sent()).data.success?(Object(oe.runInAction)(function(){o.m_userData[s].opened=c,o.m_salePageBackgroundOverride=r.data.sale_pg_background_override,o.m_salePageBackgroundMP4=r.data.sale_pg_background_mp4,o.m_salePageBackgroundWEBM=r.data.sale_pg_background_webm,o.m_storyImages[s]=r.data.story_image,o.m_strLastDoorOpenKey="door_"+(c?s:s-1),c&&se.AddPoints(100)}),[2,r.data.rewards]):(a=Object(q.a)(r),console.error("OpenDoor hit error: "+a.strErrorMsg,a),[3,4]);case 3:return i=e.sent(),a=Object(q.a)(i),console.error("OpenDoor caught error: "+a.strErrorMsg,a),[3,4];case 4:return[2,null]}})})},e.prototype.BHasSalePageBackgroundOverride=function(){return this.LazyInit(),Boolean(this.m_salePageBackgroundOverride)},e.prototype.GetSalePageBackgroundOverride=function(){return this.LazyInit(),this.m_salePageBackgroundOverride},e.prototype.GetSalePageBackgroundMP4=function(){return this.LazyInit(),this.m_salePageBackgroundMP4},e.prototype.GetSalePageBackgroundWEBM=function(){return this.LazyInit(),this.m_salePageBackgroundWEBM},e.prototype.GetStoryImage=function(e){return this.LazyInit(),this.m_storyImages[e]},e.prototype.GetLastDoorOpen=function(){return this.LazyInit(),this.m_strLastDoorOpenKey},Object(z.c)([oe.observable],e.prototype,"m_userData",void 0),Object(z.c)([oe.observable],e.prototype,"m_salePageBackgroundOverride",void 0),Object(z.c)([oe.observable],e.prototype,"m_salePageBackgroundWEBM",void 0),Object(z.c)([oe.observable],e.prototype,"m_salePageBackgroundMP4",void 0),Object(z.c)([oe.observable],e.prototype,"m_storyImages",void 0),Object(z.c)([oe.observable],e.prototype,"m_strLastDoorOpenKey",void 0),e}());window.g_DoorStore=ce;var le=n("6oCP"),ue=["recent_events","recent_tagged_events"],pe=function(){function e(){this.m_rgRecentEvent=new Map}return e.Get=function(){return e.s_Singleton||((e.s_Singleton=new e).Init(),"dev"==Y.c.WEB_UNIVERSE&&(window.g_EventListSaleStore=e.s_Singleton)),e.s_Singleton},e.prototype.Init=function(){var n=this;ue.forEach(function(e){var t=Object(Y.g)(e,"application_config");n.ValidateStoreDefault(t)&&n.AddAllRecentEvents(e,t)})},e.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("string"==typeof t[0].clan_steamid&&"string"==typeof t[0].gid&&"number"==typeof t[0].appid)},e.prototype.AddAllRecentEvents=function(e,t){this.m_rgRecentEvent.has(e)||this.m_rgRecentEvent.set(e,new Array);var n=this.m_rgRecentEvent.get(e);t.forEach(function(e){return n.push(e)})},e.prototype.GetRecentEventsForSalesPage=function(n){return Object(z.b)(this,void 0,void 0,function(){var t;return Object(z.e)(this,function(e){return t={cc:Y.c.COUNTRY||"US",l:Y.c.LANGUAGE,clan_account_id:n.clanSteamID.GetAccountID(),clan_event_gid:n.GID},[2,this.InternalEventForSalePageSection("recent_events",t)]})})},e.prototype.GetRecentTaggedEventsForSalesPage=function(n,r){return Object(z.b)(this,void 0,void 0,function(){var t;return Object(z.e)(this,function(e){return t={cc:Y.c.COUNTRY||"US",l:Y.c.LANGUAGE,start_time:r.event_schedule_rtime_start?r.event_schedule_rtime_start:n.startTime,end_time:r.event_schedule_rtime_end?r.event_schedule_rtime_end:n.endTime,count:r.smart_section_max_apps,tags:(r.smart_section_event_tags||[]).join(",")},[2,this.InternalEventForSalePageSection("recent_tagged_events",t)]})})},e.prototype.InternalEventForSalePageSection=function(o,s){return Object(z.b)(this,void 0,void 0,function(){var t,n,r,i,a=this;return Object(z.e)(this,function(e){switch(e.label){case 0:if(this.m_rgRecentEvent.has(o))return[3,4];this.m_rgRecentEvent.set(o,new Array),t=Y.c.STORE_BASE_URL+("recent_events"==o?"saleaction/ajaxrecentsaleevents":"saleaction/ajaxrecenttaggedsaleevents"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,A.a.get(t,{params:s,withCredentials:!0})];case 2:return 1==(n=e.sent()).data.success&&Object(oe.runInAction)(function(){a.AddAllRecentEvents(o,n.data.recent_events),n.data.partnerevents&&le.c.RegisterClanEvents(n.data.partnerevents),n.data.app_info&&H.a.AddAppLinks(n.data.app_info)}),[3,4];case 3:return r=e.sent(),i=Object(q.a)(r),console.error("InternalEventForSalePageSection for "+o+" failed:"+i.strErrorMsg,i),[3,4];case 4:return[2,this.m_rgRecentEvent.get(o)]}})})},Object(z.c)([oe.observable],e.prototype,"m_rgRecentEvent",void 0),Object(z.c)([oe.action],e.prototype,"Init",null),Object(z.c)([oe.action],e.prototype,"AddAllRecentEvents",null),e}(),de=n("9w6b"),me=new(function(){function e(){this.m_saleExp={},this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var e;this.m_bLoadedFromConfig||((e=document.getElementById("application_config"))&&(this.m_saleExp=Object(Y.g)("xprmnt",e)),this.m_bLoadedFromConfig=!0)},e.prototype.GetHideWishlist=function(){return this.LazyInit(),Boolean(this.m_saleExp&&this.m_saleExp.bHideWishlist)},e.prototype.GetHideIRList=function(){return this.LazyInit(),Boolean(this.m_saleExp&&this.m_saleExp.bHideIRList)},e.prototype.GetHideDLC=function(){return this.LazyInit(),Boolean(this.m_saleExp&&this.m_saleExp.bHideDLC)},e}()),he=function(){function e(){this.m_mapMasterAppToBenefitApps=new Map}return e.Get=function(){return e.s_SubscriptStore||((e.s_SubscriptStore=new e).Init(),window.g_CuratorAdminStore=e.s_SubscriptStore),e.s_SubscriptStore},e.prototype.Init=function(){var n=this,e=Object(Y.g)("subscriptionsapps","application_config");this.ValidateStoreDefault(e)&&Object(oe.runInAction)(function(){e.forEach(function(e){var t=new Set;e.benefit_appid.forEach(function(e){return t.add(e)}),n.m_mapMasterAppToBenefitApps.set(e.master_appid,t)})})},e.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("number"==typeof t[0].master_appid&&Array.isArray(t[0].benefit_appid))},e.prototype.BHasMasterSub=function(e){return this.m_mapMasterAppToBenefitApps.has(e)},e.prototype.GetAllAppForMaster=function(e){return this.m_mapMasterAppToBenefitApps.get(e)},e.prototype.BHasAppIDBenefit=function(e,t){var n=this.m_mapMasterAppToBenefitApps.get(e);return n&&n.has(t)},e.prototype.LoadSubscriptionInfo=function(i){return Object(z.b)(this,void 0,void 0,function(){var t,n,r=this;return Object(z.e)(this,function(e){switch(e.label){case 0:return this.m_mapMasterAppToBenefitApps.has(i)?[2,!0]:[4,A.a.get(Y.c.STORE_BASE_URL+"actions/ajaxresolvesubscriptions",{params:{master_app_id:i,cc:Y.c.COUNTRY,origin:self.origin}})];case 1:return t=e.sent(),(n=t&&t.data)?(Object(oe.runInAction)(function(){var t=new Set;n.benefit_appid.forEach(function(e){return t.add(e)}),r.m_mapMasterAppToBenefitApps.set(n.master_appid,t)}),[2,!0]):[2,!1]}})})},Object(z.c)([oe.observable],e.prototype,"m_mapMasterAppToBenefitApps",void 0),e}(),fe=n("IjL/"),be=n("Mgs7"),_e=n("qP7j"),ve=n.n(_e),ge=n("mgoM"),ye=new(function(){function e(){}return e.prototype.DeleteForumTopic=function(i,a,o,s,c){return Object(z.b)(this,void 0,void 0,function(){var t,n,r;return Object(z.e)(this,function(e){switch(e.label){case 0:return t=Y.c.COMMUNITY_BASE_URL+"forum/"+i.GetAccountID()+"/"+a+"/deletetopic/",null!=o&&""!=o&&(t+=o+"/"),(n=new FormData).append("sessionid",Y.c.SESSIONID),n.append("gidforumtopic",s),[4,A.a.post(t,n,{withCredentials:!0,cancelToken:c.token})];case 1:if(1!=(r=e.sent()).data.success)throw r.data;return[2,r.data]}})})},e}()),Se=function(n){function s(e){var t=n.call(this,e)||this;return t.m_cancelSignal=A.a.CancelToken.source(),t.state={dialogState:t.props.bNoConfirmationNeeded?"waiting":"confirmation",bDeleteCommentThread:!1},t}return Object(z.d)(s,n),s.prototype.componentDidMount=function(){this.props.bNoConfirmationNeeded&&this.OnDelete()},s.prototype.OnDeleteEventSuccessCallback=function(){this.props.partnerEventStore.ResetModel(),this.state.bDeleteCommentThread?ye.DeleteForumTopic(this.m_clanSteamID,"Event",void 0,this.m_forumTopicGID,this.m_cancelSignal).then(this.OnDeleteForumTopicSuccessCallback).catch(this.OnDeleteForumTopicFailureCallback):this.setState({dialogState:"success"})},s.prototype.OnDeleteForumTopicSuccessCallback=function(){this.setState({dialogState:"success"})},s.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("component unmounted")},s.prototype.OnDeleteEventFailureCallback=function(e){this.setState(Object(z.a)({dialogState:"error"},Object(q.a)(e)))},s.prototype.OnDeleteForumTopicFailureCallback=function(e){this.setState(Object(z.a)({dialogState:"failed_thread_delete"},Object(q.a)(e)))},s.prototype.SetToWaiting=function(){"waiting"!=this.state.dialogState&&this.setState({dialogState:"waiting"})},s.prototype.OnDelete=function(){var e=this.props,t=e.eventModel,n=e.partnerEventStore,r=t.clanSteamID,i=t.GID,a=t.AnnouncementGID;this.m_forumTopicGID=t.forumTopicGID,this.m_clanSteamID=r,!this.props.eventModel.bOldAnnouncement&&i&&"0"!=i&&i!=ge.i?(this.SetToWaiting(),n.DeleteClanEvent(r,i).then(this.OnDeleteEventSuccessCallback).catch(this.OnDeleteEventFailureCallback)):this.props.eventModel.bOldAnnouncement?(this.SetToWaiting(),n.DeleteOldAnnouncement(r,a).then(this.OnDeleteEventSuccessCallback).catch(this.OnDeleteEventFailureCallback)):(n.ResetModel(),this.setState({dialogState:"success"}))},s.prototype.OnChangeDeleteForum=function(){this.setState({bDeleteCommentThread:!this.state.bDeleteCommentThread})},s.prototype.render=function(){var e=this,t=this.props.eventModel,n=this.props.closeModal,r="",i=new Array;switch(this.state.dialogState){case"confirmation":var a=t.GetNameWithFallback(Object(ge.h)(Y.c.LANGUAGE)),o=t.BIsVisibleEvent()?"#EventDisplay_AreYouSure_Visible":"#EventDisplay_AreYouSure",r=Object(V.f)(o,a),n=this.OnDelete;t.BHasForumTopicGID()&&i.push(M.createElement("div",{key:"WantToDeleteCmtThread",className:ve.a.Padding},M.createElement("input",{type:"checkbox",id:"del_cmt_post",name:"del_cmt_post",defaultChecked:this.state.bDeleteCommentThread,onChange:this.OnChangeDeleteForum}),M.createElement("label",{htmlFor:"del_cmt_post"},Object(V.f)("#EventDisplay_DeleteEvent_Comment"))));break;case"waiting":r=Object(V.f)("#EventDisplay_DeleteEvent_InProgress"),i.push(M.createElement(G.a,{key:"throbber"}));break;case"error":r=Object(V.f)("#EventDisplay_DeleteEvent_Error"),i.push(M.createElement("div",{key:"deleteerror_"+ ++s.m_uniqueError,className:ve.a.ErrorStyles},this.state.strErrorMsg));break;case"failed_thread_delete":r=Object(V.f)("#EventDisplay_DeleteEvent_ForumTopicError"),i.push(M.createElement("div",{key:"deleteerror_"+ ++s.m_uniqueError,className:ve.a.ErrorStyles},this.state.strErrorMsg)),this.props.onDeleteSuccessAndCloseDialog&&(n=function(){e.props.onDeleteSuccessAndCloseDialog(),e.props.closeModal()});break;case"success":r=Object(V.f)("#EventDisplay_DeleteEvent_Success"),this.props.onDeleteSuccessAndCloseDialog&&(n=function(){e.props.onDeleteSuccessAndCloseDialog(),e.props.closeModal()})}return M.createElement(k.c,{strTitle:Object(V.f)("#EventDisplay_DeleteEvent"),strDescription:r,onCancel:this.props.closeModal,onOK:n,bAlertDialog:"confirmation"!=this.state.dialogState,bOKDisabled:"waiting"==this.state.dialogState,bDestructiveWarning:"error"==this.state.dialogState},i)},s.m_uniqueError=0,Object(z.c)([w.a],s.prototype,"OnDeleteEventSuccessCallback",null),Object(z.c)([w.a],s.prototype,"OnDeleteForumTopicSuccessCallback",null),Object(z.c)([w.a],s.prototype,"OnDeleteEventFailureCallback",null),Object(z.c)([w.a],s.prototype,"OnDeleteForumTopicFailureCallback",null),Object(z.c)([w.a],s.prototype,"SetToWaiting",null),Object(z.c)([w.a],s.prototype,"OnDelete",null),Object(z.c)([w.a],s.prototype,"OnChangeDeleteForum",null),s}(M.Component),we=n("mB/g"),Ce=n("X3Ds"),Oe=n("6eA3"),Ee=n.n(Oe),Be=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bRedirectToHome:!1,nMaxSaleDayIndex:function(e){var t=void 0;e&&0<e.GetSaleSectionCount()&&e.BHasSaleEnabled()&&e.GetSaleSections().forEach(function(e){"items"!=e.section_type||e.smart_section||e.capsules.forEach(function(e){void 0!==e.visibility_index&&(void 0===t||t<e.visibility_index)&&(t=e.visibility_index)})});return t}(e.props.eventModel),nSaleDayIndex:e.props.eventModel?e.props.eventModel.GetDayIndexFromEventStart():0},e}return Object(z.d)(e,t),e.prototype.OnDeleteVerifyRequest=function(e){Object(F.c)(M.createElement(Se,{eventModel:this.props.eventModel,onDeleteSuccessAndCloseDialog:this.OnDeleteSuccessAndComplete,partnerEventStore:this.props.partnerEventStore}),Object(Ce.n)(e))},e.prototype.OnDeleteSuccessAndComplete=function(){this.setState({bRedirectToHome:!0})},e.prototype.OnChangeVisibilityDate=function(e){this.setState({nSaleDayIndex:e}),this.props.fnOnUpdateSaleDayIndex(e)},e.prototype.render=function(){var t=this,e=this.props,n=e.addtionalAdminButtons,r=e.eventModel,i=e.bPreviewMode,a=e.partnerEventStore,o=e.useAnchors;if(this.state.bRedirectToHome)return Object(we.i)(r,we.a.k_eCommunityAdminPage);var s=de.a.Get().GetPartnerEventPermissions(r.clanSteamID),c=r.visibility_state==le.b.k_EEventStateVisible,l=r.visibility_state==le.b.k_EEventStateStaged;if(s.can_edit||s.support_user){var u=[];if(void 0!==this.state.nMaxSaleDayIndex)for(var p=0;p<=this.state.nMaxSaleDayIndex;++p)u.push({label:Object(V.f)("#SalePage_Admin_SaleEventDay",p+1),data:p});var d=Object(Y.f)(),m="community"==d,h="store"==d;return M.createElement(fe.a,null,M.createElement("div",{className:Oe.DisplayAdminPanel},M.createElement("span",{className:Oe.DisplayAdminPanel_Title},Object(V.f)("#EventDisplay_Admin_Title")),M.createElement("div",{className:Oe.DisplayAdminPanel_ctn},n,n&&M.createElement("span",{className:Oe.DisplayAdminPanel_Spacer}," "),M.createElement(we.c,{eventModel:r,route:we.a.k_eCommunityEdit,openNewWindow:o,className:Object(x.a)(f.Button,Oe.AdminButton)},Object(V.f)("#EventEditor_Edit")),a&&M.createElement("span",{className:f.Button+" "+Oe.AdminButton,onClick:this.OnDeleteVerifyRequest},Object(V.f)("#EventDisplay_DeleteEvent")),!c&&M.createElement(M.Fragment,null,M.createElement(we.c,{eventModel:r,route:we.a.k_eCommunityPublish,openNewWindow:o,className:Object(x.a)(f.Button,Oe.AdminButton)},Object(V.f)(l?"#EventEditor_Publish_VisibleNow":"#Button_Publish"))),M.createElement(we.c,{eventModel:r,route:we.a.k_eCommunityAdminPage,openNewWindow:o,className:Object(x.a)(f.Button,Oe.AdminButton)},Object(V.f)("#EventDisplay_Events")),Boolean(void 0!==this.state.nMaxSaleDayIndex&&0<u.length)&&M.createElement(be.h,{strDropDownClassName:f.DropDownScroll,rgOptions:u,selectedOption:Math.min(this.state.nMaxSaleDayIndex,this.state.nSaleDayIndex),onChange:function(e){return t.OnChangeVisibilityDate(e.data)},bDisableMouseOverlay:!0,contextMenuPositionOptions:{bDisableMouseOverlay:!0}}),Boolean(r.jsondata.bSaleEnabled&&this.props.bPreviewMode)&&M.createElement(we.c,{eventModel:r,route:we.a.k_eStoreSalePage,openNewWindow:o,className:Object(x.a)(f.Button,Oe.AdminButton)},Object(V.f)("#EventDisplay_SalesPage")),Boolean(r.jsondata.bSaleEnabled&&Y.h.is_support&&r.GID)&&M.createElement("a",{href:Y.c.STATS_BASE_URL+"sales/details/?gid="+r.GID+"&clanid="+r.clanSteamID.GetAccountID(),target:Y.c.IN_CLIENT?"":"_blank",className:Object(x.a)(f.Button,Oe.AdminButton,f.ValveOnlyBackground)},Object(V.f)("#EventDisplay_StatsPage")),Boolean(c&&(h||i))&&M.createElement(we.c,{eventModel:r,route:we.a.k_eCommunityView,openNewWindow:o,className:Object(x.a)(f.Button,Oe.AdminButton)},Object(V.f)("#EventDisplay_ViewOnCommunity")),Boolean(c&&m)&&M.createElement(we.c,{eventModel:r,route:we.a.k_eStoreView,openNewWindow:o,className:Object(x.a)(f.Button,Oe.AdminButton)},Object(V.f)("#EventDisplay_ViewOnStore")))))}return M.createElement("span",null)},Object(z.c)([w.a],e.prototype,"OnDeleteVerifyRequest",null),Object(z.c)([w.a],e.prototype,"OnDeleteSuccessAndComplete",null),Object(z.c)([w.a],e.prototype,"OnChangeVisibilityDate",null),Object(z.c)([i.observer],e)}(M.Component);function Ae(e){e.href;var t=Object(z.f)(e,["href"]);return Y.c.EREALM===b.p.k_ESteamRealmChina?I.a.createElement("div",Object(z.a)({},t)):I.a.createElement("a",Object(z.a)({},e),e.children)}var Ie=n("bWts"),je=n.n(Ie),De=n("MnIK"),Re=n("xnZ7"),Te=n.n(Re),Me=n("5E+2"),Ne=n("Kw0F"),Le=n("r64O"),ke=n("bS9Q"),Fe=n("IzPI"),Pe=n("ir+G"),Ge=n("7u3m"),Ue=n.n(Ge),xe=n("Ff1b"),ze=n.n(xe),He=n("D4G2"),We=n.n(He),Ve=n("go9d"),qe=n.n(Ve),Ye=n("Lql7"),Qe=n("2aEQ"),Ze=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bLoading:!ie.a.BHasCreatorHomeLoaded(te.a.InitFromClanID(e.props.creatorID.clan_account_id))||!W.a.BIsLoaded(),nLoadedClanAccountId:ie.a.BHasCreatorHomeLoaded(te.a.InitFromClanID(e.props.creatorID.clan_account_id))&&e.props.creatorID.clan_account_id},e.m_cancelSignal=A.a.CancelToken.source(),e}return Object(z.d)(e,t),e.prototype.componentDidMount=function(){this.state.bLoading&&this.LoadData()},e.prototype.componentDidUpdate=function(e){var t,n,r=this;(null===(t=null==e?void 0:e.creatorID)||void 0===t?void 0:t.clan_account_id)!=(null===(n=this.props.creatorID)||void 0===n?void 0:n.clan_account_id)&&this.setState({bLoading:!0},function(){return r.LoadData()})},e.prototype.LoadData=function(){return Object(z.b)(this,void 0,void 0,function(){var t,n,r;return Object(z.e)(this,function(e){switch(e.label){case 0:t=this.props.creatorID,Object(Le.a)(t.clan_account_id,"CreatorHomeEmbed clan account id missing"),n=te.a.InitFromClanID(t.clan_account_id),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Promise.all([ie.a.LoadCreatorHome(n,this.m_cancelSignal),W.a.HintLoad()])];case 2:return e.sent(),this.m_cancelSignal.token.reason||this.setState({bLoading:!1,nLoadedClanAccountId:t.clan_account_id}),[3,4];case 3:return r=e.sent(),this.HandleLoadingError(r),[3,4];case 4:return[2]}})})},e.prototype.HandleLoadingError=function(e){var t=Object(q.a)(e);console.error("CreatorHomeEmbed hit error: "+t.strErrorMsg,t),this.m_cancelSignal.token||this.setState({bLoading:!1,strErrorMsg:t.strErrorMsg})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("CreatorHomeEmbed component unmounted")},e.prototype.GetSocialMediaElements=function(t){var n=new Array;return t.GetSocialList().forEach(function(e){return n.push(M.createElement(Je,{social:e,key:"creator_"+t.GetClanAccountID()+"_"+e.external_type}))}),n},e.prototype.render=function(){var e=this.props,t=e.creatorID,n=e.bShowTagline;if(this.state.bLoading||this.state.nLoadedClanAccountId!=t.clan_account_id)return M.createElement("div",{className:Ye.DevSummaryWidgetCtn},M.createElement(G.a,null));if(this.state.strErrorMsg)return M.createElement("div",null);var r=ie.a.GetCreatorHomeByID(t),i=t.type,a="developer"==t.type?Object(V.f)("#CreatorHome_DevelopedBy"):"publisher"==t.type?Object(V.f)("#CreatorHome_PublishedBy"):Object(V.f)("#CreatorHome_InFranchise"),o=r.GetCreatorHomeURL(i),s=this.GetSocialMediaElements(r),c=r.GetNumFollowers();return M.createElement(fe.a,null,M.createElement(Q.b,{feature:"salecreatorhome"},M.createElement("div",{className:Object(x.a)(Ye.DevSummaryCtn,this.props.bSmallFormat?Ye.SmallFormat:Ye.LargeFormat)},!this.props.bHideCreatorType&&M.createElement("span",{className:Ye.Title},a),M.createElement("div",{className:Ye.DevSummaryWidgetCtn},M.createElement("div",{className:Ye.DevSummaryBackground,style:{backgroundImage:"url("+r.GetAvatarURLFullSize()+" )"}}),M.createElement("div",{className:Object(x.a)(Ye.DevSummaryContent,f.FlexColumnContainer,f.FlexContainSpaceBetween)},M.createElement("div",{className:f.FlexRowContainer},M.createElement(Ae,{href:Object(Fe.d)(o),className:Ye.AvatarLink},M.createElement("img",{className:Ye.Avatar,src:r.GetAvatarURLFullSize()})),M.createElement("div",{className:Object(x.a)(f.FlexColumnContainer,Ye.CreatorDescCtn)},M.createElement("div",{className:Object(x.a)(Ye.CreatorTitleCtn,f.FlexColumnContainer)},M.createElement(Ae,{href:Object(Fe.d)(o),className:Ye.CreatorNameName},r.GetName()),n&&M.createElement("div",{className:Object(x.a)(f.FlexColumnContainer,Ye.CreatorTagline)},r.GetTagLine())),M.createElement("div",{className:Object(x.a)(this.props.bSmallFormat?f.FlexColumnContainer:f.FlexRowContainer,Ye.SocialFollowersCtn)},M.createElement("div",{className:Ye.FollowBtnCtn},!this.props.bHideFollowButton&&M.createElement(Qe.b,{clanAccountID:t.clan_account_id,creatorID:t}),M.createElement("div",{className:Ye.Followers},M.createElement("span",null,c.toLocaleString(V.e.GetPreferredLocales())),M.createElement("br",null),Object(V.f)("#CreatorHome_JustFollowers"))),0<s.length&&M.createElement("div",{className:Object(x.a)(Ye.SocialContainer,f.FlexColumnContainer)},s)))))))))},Object(z.c)([i.observer],e)}(M.Component),Ke=function(n){function e(e){var t=n.call(this,e)||this;return t.state={bLoading:!Pe.a.BIsAppidLoaded(e.appid)},t}return Object(z.d)(e,n),e.prototype.componentDidMount=function(){var n=this,e=this.props.appid;this.state.bLoading&&Pe.a.EnsureStoreCapsuleInfoLoaded(e).then(function(){return n.setState({bLoading:!1})}).catch(function(e){var t=Object(q.a)(e);console.error("CreatorHomeEmbedForApp - failed to load appinfo "+t.strErrorMsg),n.setState({strErrorMsg:t.strErrorMsg,bLoading:!1})})},e.prototype.render=function(){if(this.state.bLoading)return M.createElement("div",{className:Ye.DevSummaryWidgetCtn},M.createElement(G.a,null));var e=this.props.appid,t=Pe.a.GetStoreCapsuleInfo(e).GetAppStoreData();if(!this.state.strErrorMsg&&t.creator_list&&0<t.creator_list.length){var n=void 0,r=void 0,i=void 0;return t.creator_list.forEach(function(e){switch(e.type){case"developer":void 0===n&&(n=e);break;case"publisher":void 0===r&&(r=e);break;default:void 0===i&&(i=e)}}),M.createElement(fe.a,null,M.createElement(Ze,{creatorID:n||(r||i),bSmallFormat:!0}))}return M.createElement("div",null)},Object(z.c)([i.observer],e)}(M.Component),Je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e=this.props.social,t="";switch(e.external_type){case 3:case 7:t=Ue.a;break;case 5:t=ze.a;break;case 4:t=We.a;break;case 6:t=qe.a}return M.createElement("a",{href:(Y.c.IN_CLIENT?"steam://openurl/":"")+e.external_url,target:Y.c.IN_CLIENT?void 0:"_blank","data-tooltip-text":e.external_user_name?e.external_user_name:e.external_url,className:Object(x.a)(Ye.SocialLink)},M.createElement("img",{className:Object(x.a)(Ye.SocialImg),src:t}),M.createElement("div",null,e.external_follows.toLocaleString(V.e.GetPreferredLocales())))},t}(M.Component),Xe=n("TOXn"),$e=n("55Ip"),et=n("TQGK"),tt=n("WF3T"),nt=n("KEpR"),rt=n("TAM5"),it=n("Dhs6"),at=function(){function e(){this.m_mapNewsCurators=new Map,this.m_bIsLoadComplete=!1,this.m_mapLangToNewsCurators=new Map,this.m_LoadingPromise=null}return e.Get=function(){return e.s_newsCuratorStore||((e.s_newsCuratorStore=new e).m_LoadingPromise=e.s_newsCuratorStore.Init(),window.g_NewsCuratorStore=e.s_newsCuratorStore),e.s_newsCuratorStore},e.prototype.IsLoaded=function(){return this.m_bIsLoadComplete},e.prototype.WaitForInitialLoad=function(){return this.m_LoadingPromise},Object.defineProperty(e.prototype,"allNewsCurators",{get:function(){return Array.from(this.m_mapNewsCurators.values())},enumerable:!1,configurable:!0}),e.prototype.GetCuratorsForLang=function(e){return this.m_mapLangToNewsCurators.get(e)},e.prototype.GetNewsCuratorForAccount=function(e){return this.m_mapNewsCurators.get(e)},e.prototype.BIsTrustedPressAccount=function(e){return void 0!==this.GetNewsCuratorForAccount(e)},e.prototype.Init=function(){return Object(z.b)(this,void 0,void 0,function(){var t,n,r,i=this;return Object(z.e)(this,function(e){switch(e.label){case 0:return V.b.GetLanguageListForRealms([Y.c.EREALM]).forEach(function(e){return i.m_mapLangToNewsCurators.set(e,[])}),t=Y.c.STORE_BASE_URL+"events/ajaxgetnewscurators",n={origin:self.origin},[4,A.a.get(t,{params:n})];case 1:return r=e.sent(),Object(oe.runInAction)(function(){r.data&&r.data.success&&i.HandleCuratorResponse(r.data),i.m_bIsLoadComplete=!0}),[2]}})})},e.prototype.HandleCuratorResponse=function(e){var t;if(e.groupvanityinfo&&et.a.RegisterClanData(e.groupvanityinfo),e.newscuratorinfo)for(var n=0,r=e.newscuratorinfo;n<r.length;n++){var i,a=r[n];this.m_mapNewsCurators.has(a.clanAccountID)||(this.m_mapNewsCurators.set(a.clanAccountID,a),(i=et.a.GetClanInfoByClanAccountID(a.clanAccountID))&&null!==(t=this.m_mapLangToNewsCurators.get(i.rss_language))&&void 0!==t&&t.push(a))}},Object(z.c)([oe.observable],e.prototype,"m_mapNewsCurators",void 0),Object(z.c)([oe.observable],e.prototype,"m_bIsLoadComplete",void 0),Object(z.c)([oe.observable],e.prototype,"m_mapLangToNewsCurators",void 0),Object(z.c)([oe.computed],e.prototype,"allNewsCurators",null),Object(z.c)([oe.action],e.prototype,"HandleCuratorResponse",null),e}(),ot=n("qiKp"),st=n("I2Hi"),ct=n.n(st);function lt(e){var t=new Set;return(0<=e.indexOf("games")||0<=e.indexOf("dlc"))&&t.add("apps"),0<=e.indexOf("curators")&&t.add("curators"),t}function ut(e){return I.a.createElement(k.g,{onEscKeypress:e.closeModal},I.a.createElement(fe.a,null,I.a.createElement(be.f,null,I.a.createElement(be.l,null,Object(V.f)("#EventCurator_BrowseDialog_Title")),I.a.createElement(be.b,null,I.a.createElement("div",null,Object(V.f)("#EventCurator_BrowseDialog_Desc")),I.a.createElement(St,null)),I.a.createElement(be.i,null,I.a.createElement(be.s,{onClick:e.closeModal},Object(V.f)("#Button_Dismiss"))))))}function pt(e){return I.a.createElement(mr,{title:Object(V.f)("#EventCurator_BrowseDialog_Title"),description:Object(V.f)("#EventCurator_BrowseDialog_Desc")},I.a.createElement(St,null))}var dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={strSearchString:"",rgAppSuggestions:null,rgCuratorSuggestions:null},e.m_nHighestSentRequestID=0,e.m_mapHighestReceivedRequestIDFromBackEnd=new Map([["apps",0],["curators",0]]),e.m_timerForChange=new ot.b,e}return Object(z.d)(e,t),e.prototype.componentWillUnmount=function(){this.m_timerForChange.Cancel()},e.prototype.GetSuggestionsFromServer=function(n){return Object(z.b)(this,void 0,void 0,function(){var t;return Object(z.e)(this,function(e){return(t=lt(this.props.rgCorporaToSearch)).has("apps")&&this.GetAppSuggestionsFromServer(n),t.has("curators")&&this.GetCuratorSuggestions(n),[2]})})},e.prototype.GetCuratorSuggestions=function(u){var p;return Object(z.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l;return Object(z.e)(this,function(e){for(t=at.Get().allNewsCurators,n=[],r=0,i=t;r<i.length;r++)if(a=i[r],o=et.a.GetClanInfoByClanAccountID(a.clanAccountID),s={corpus:"curators",id:a.clanAccountID,name:null==o?void 0:o.group_name,img:null==o?void 0:o.avatar_full_url},0<=((null===(p=null==o?void 0:o.group_name)||void 0===p?void 0:p.toLocaleLowerCase())||"").indexOf(u)){if(this.props.fnFilterSuggestion&&!this.props.fnFilterSuggestion(s))continue;if(W.a.BIsIgnoringCurator(o.clanAccountID))continue;c=W.a.BIsFollowingCurator(o.clanAccountID),l=M.createElement(mt,{suggestion:s,fnOnSelected:this.props.fnOnSelected,bShowFollowingLabel:c}),n.push(this.props.fnDecorateSuggestion?this.props.fnDecorateSuggestion(s,l):l)}return this.m_mapHighestReceivedRequestIDFromBackEnd.set("curators",this.m_nHighestSentRequestID),this.setState({rgCuratorSuggestions:n}),[2]})})},e.prototype.GetAppSuggestionsFromServer=function(c){var l;return Object(z.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s=this;return Object(z.e)(this,function(e){switch(e.label){case 0:return t=this.m_nHighestSentRequestID,n=[],0<=this.props.rgCorporaToSearch.indexOf("games")&&(n.push("game"),n.push("software")),0<=this.props.rgCorporaToSearch.indexOf("dlc")&&(n.push("dlc"),n.push("music")),r={cc:Y.c.COUNTRY,l:Y.c.LANGUAGE,realm:b.p.k_ESteamRealmGlobal,origin:self.origin,f:"jsonfull",term:c.replace(" ","+"),require_type:n.join(","),excluded_tags:W.a.GetExcludedTagsSortedByID(),excluded_content_descriptors:W.a.GetExcludedContentDescriptor()},i=Y.c.STORE_BASE_URL+"search/suggest",[4,A.a.get(i,{params:r,withCredentials:!0})];case 1:return(a=e.sent(),t<this.m_mapHighestReceivedRequestIDFromBackEnd.get("apps"))?[2]:(this.m_mapHighestReceivedRequestIDFromBackEnd.set("apps",t),null!==(l=null==a?void 0:a.data)&&void 0!==l&&l.length&&(o=a.data.map(function(e){var t,n=Object(z.a)(Object(z.a)({corpus:"game"==(t=e.type)||"software"==t?"games":"dlc"==t||"music"==t?"dlc":null},e),{id:parseInt(e.id)});if(s.props.fnFilterSuggestion&&!s.props.fnFilterSuggestion(n))return null;var r=M.createElement(mt,{suggestion:n,fnOnSelected:s.props.fnOnSelected});return s.props.fnDecorateSuggestion?s.props.fnDecorateSuggestion(n,r):r})),this.setState({rgAppSuggestions:o}),[2])}})})},e.prototype.UpdateSuggestions=function(r){return Object(z.b)(this,void 0,void 0,function(){var t,n=this;return Object(z.e)(this,function(e){return t=r.target.value&&r.target.value.trim().toLocaleLowerCase(),this.m_nHighestSentRequestID++,null!=t&&t.length?(this.setState({strSearchString:t}),this.m_timerForChange.Schedule(300,function(){return n.GetSuggestionsFromServer(t)})):(Array.from(lt(this.props.rgCorporaToSearch)).forEach(function(e){return n.m_mapHighestReceivedRequestIDFromBackEnd.set(e,n.m_nHighestSentRequestID)}),this.m_timerForChange.Cancel(),this.setState({strSearchString:""}),this.ResetSuggestions()),[2]})})},e.prototype.ResetSuggestions=function(){this.setState({rgAppSuggestions:null,rgCuratorSuggestions:null})},e.prototype.GetLimitedSuggestions=function(){var e=this.state,t=e.rgAppSuggestions,n=e.rgCuratorSuggestions,r=t?t.length:10,i=n?n.length:10;return 10<r+i&&(r=10-Math.min(i,2)),i=10-r,{rgAppSuggestions:t=null==t?void 0:t.slice(0,r),rgCuratorSuggestions:n=null==n?void 0:n.slice(0,i)}},e.prototype.render=function(){var t=this,e=this.props,n=e.strLabel,r=e.focusOnMount,i=e.rgCorporaToSearch,a=e.strResultsClass,o=this.state.strSearchString,s=this.GetLimitedSuggestions(),c=s.rgAppSuggestions,l=s.rgCuratorSuggestions,u=0<(null==o?void 0:o.length),p=0<(null==c?void 0:c.length),d=0<(null==l?void 0:l.length),m=1<lt(i).size,h=m&&p&&Object(V.f)(0<=i.indexOf("dlc")?"#EventCalendar_SearchResultsHeader_GameAndDLCSection":"#EventCalendar_SearchResultsHeader_GameSection"),f=Array.from(lt(i)).some(function(e){return t.m_nHighestSentRequestID>t.m_mapHighestReceivedRequestIDFromBackEnd.get(e)}),b=!d&&!p&&!f;return M.createElement("div",{className:ct.a.SuggestContainer},M.createElement(be.m,{type:"text",label:n,onChange:this.UpdateSuggestions,bAlwaysShowClearAction:u,focusOnMount:r}),u&&M.createElement("div",{className:Object(x.a)(ct.a.Results,a)},p&&M.createElement("div",{key:"game-suggestions"},m&&M.createElement("div",{className:ct.a.ResultSectionHeader},h),c),d&&M.createElement("div",{key:"curator-suggestions"},m&&M.createElement("div",{className:ct.a.ResultSectionHeader},Object(V.f)("#EventCalendar_SearchResultsHeader_CuratorSection")),l),b&&M.createElement("div",{className:ct.a.EmptyResults,key:"empty-results"},Object(V.f)("#EventCalendar_GameSearch_NoneFound"))))},Object(z.c)([w.a],e.prototype,"UpdateSuggestions",null),e}(M.Component),mt=function(e){return M.createElement("div",{className:ct.a.ResultRow,key:"suggestion-"+e.suggestion.id,onClick:function(){return e.fnOnSelected(e.suggestion)}},M.createElement("img",{src:e.suggestion.img,className:ct.a.AvatarImage}),M.createElement("div",{className:ct.a.GameName}," ",Object(ke.b)(e.suggestion.name)," "),e.bShowFollowingLabel&&M.createElement("div",{className:ct.a.Label},Object(V.f)("#EventCalendar_FollowingCurator")))},ht=n("+g3F"),ft=n.n(ht),bt=n("qD+2"),_t=n("UWWC"),vt=n("yJqL"),gt=n("JJA/"),yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bLoading:!1,eventModel:e.props.eventModel},e.m_refParent=M.createRef(),e.m_cancelSignal=A.a.CancelToken.source(),e}return Object(z.d)(e,t),e.prototype.componentDidMount=function(){this.state.eventModel||this.setState({bLoading:!0},this.LoadEvent);var e=this.GetBodyElement();e&&this.props.bPrimaryPageFeature&&e.classList.add(gt.BodyNoScroll)},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventInfiniteScrollModal unmounting");var e=this.GetBodyElement();e&&this.props.bPrimaryPageFeature&&e.classList.remove(gt.BodyNoScroll)},e.prototype.GetBodyElement=function(){return this.m_refParent.current?this.m_refParent.current.closest("body"):null},e.prototype.LoadEvent=function(){return Object(z.b)(this,void 0,void 0,function(){var t,n,r,i,a=this;return Object(z.e)(this,function(e){return t=this.props,n=t.appid,r=t.clanSteamID,i=t.announcementGID,t.partnerEventStore.LoadAdjacentPartnerEventsByAnnouncement(i,r,n,0,3,null,this.m_cancelSignal).then(function(e){0<e.length?a.setState({bLoading:!1,eventModel:e[0]},a.HandleReadEvent):a.props.onEventNotFound&&a.props.onEventNotFound()}).catch(function(e){var t=Object(q.a)(e);console.error("EventInfiniteScrollModal failed "+t.strErrorMsg,t),a.setState({bLoading:!1})}),[2]})})},e.prototype.HandleReadEvent=function(){return Object(z.b)(this,void 0,void 0,function(){var t,n;return Object(z.e)(this,function(e){return t=this.state.eventModel,n=this.props.trackingLocation,t&&t.BIsPartnerEvent()&&de.a.Get().GetTracker().MarkEventRead(t.GID,t.clanSteamID.GetAccountID(),n)&&de.a.Get().GetTracker().Flush(),[2]})})},e.prototype.render=function(){if(this.state.bLoading)return M.createElement(k.h,null,M.createElement("div",{className:Te.a.FlexCenter,style:{height:"400px"}},M.createElement(G.a,null)));var e=this.props,t=e.classname,n=e.partnerEventStore,r=e.bPrimaryPageFeature;if(this.state.eventModel){var i=M.createElement("div",null,M.createElement(vt.a,{initialEvent:this.state.eventModel,partnerEventStore:n,emoticonStore:_t.b,appInfoStore:bt.a,closeModal:!r&&this.props.closeModal,showAppHeader:this.props.showAppHeader}));return r?i:M.createElement(k.h,{className:t},i)}return null},Object(z.c)([i.observer],e)}(M.Component),St=function(e){var t=I.a.useState(at.Get().IsLoaded()),n=t[0],r=t[1];I.a.useEffect(function(){n||Object(z.b)(void 0,void 0,void 0,function(){return Object(z.e)(this,function(e){switch(e.label){case 0:return[4,at.Get().WaitForInitialLoad()];case 1:return e.sent(),r(!0),[2]}})})},[n]);var i=new Array;return n&&V.e.GetELanguageFallbackOrder([b.p.k_ESteamRealmGlobal]).forEach(function(e){return i.push(I.a.createElement(wt,{key:"curlang"+e,lang:e}))}),I.a.createElement(I.a.Fragment,null,n?I.a.createElement(I.a.Fragment,null,i):I.a.createElement(G.a,{size:"medium",position:"center",string:Object(V.f)("#Loading")}))},wt=function(e){var t=at.Get().GetCuratorsForLang(e.lang);if(!t)return null;var n=t.map(function(e){return et.a.GetClanInfoByClanAccountID(e.clanAccountID)}).filter(function(e){return Boolean(e)});if(0==n.length)return null;n.sort(function(e,t){return e.group_name.localeCompare(t.group_name)});var r=n.map(function(e){return I.a.createElement(Ot,{clanInfo:e,key:"curatorbrowse_"+e.clanAccountID,layout:"row"})});return I.a.createElement("div",null,I.a.createElement("div",{className:ft.a.LanguageHeader},Object(V.f)("#EventCurator_BrowseDialog_LangCurator",Object(V.f)("#Language_"+Object(ge.e)(e.lang)))),r)},Ct=Object(i.observer)(function(e){var t=et.a.GetClanInfoByClanAccountID(e.clanid);if(!t)return I.a.createElement("div",null,e.children);var n={clan_account_id:t.clanAccountID,name:t.group_name,type:"developer"},r=I.a.createElement("div",{className:ft.a.CuratorHoverContainer},I.a.createElement(Ze,{creatorID:n,bSmallFormat:!0,bHideCreatorType:!0,bHideFollowButton:!0}));return I.a.createElement(Me.d,{toolTipContent:r,strTooltipClassname:ft.a.CuratorHoverToolTip},e.children)}),Ot=function(e){function t(){Object(F.d)(I.a.createElement(k.e,{strDescription:Object(V.f)("#EventCurator_NoEventsFound_Body"),strTitle:Object(V.f)("#EventCurator_NoEventsFound_Title")}),window),i(!1)}var n=I.a.useState(!1),r=n[0],i=n[1],a=e.clanInfo,o="row"===e.layout?ft.a.CuratorInfoRow:ft.a.CuratorInfoIcon,s=I.a.createElement(Ct,{clanid:a.clanSteamID.GetAccountID()},I.a.createElement("div",{className:Object(x.a)(C.a.FlexRowContainer,ft.a.CuratorInfoTitleCtn),onClick:function(){return i(!0)}},I.a.createElement("img",{className:ft.a.CuratorInfoImg,src:a.avatar_full_url,alt:a.group_name}),I.a.createElement("div",{className:ft.a.CuratorInfoName},a.group_name)));return I.a.createElement("div",{className:Object(x.a)(C.a.FlexRowWrapSpaceBetweenContainer,o)},r?I.a.createElement(fe.a,null,I.a.createElement(yt,{onEventNotFound:t,appid:0,clanSteamID:e.clanInfo.clanSteamID,trackingLocation:8,eventModel:void 0,announcementGID:void 0,partnerEventStore:le.c,showAppHeader:!0,closeModal:function(){return i(!1)}})):null,I.a.createElement("div",{onClick:function(){return i(!0)}},s),I.a.createElement("div",{className:Object(x.a)(C.a.FlexRowContainer,ft.a.CuratorInfoActionCtn)},I.a.createElement(Qe.b,{clanAccountID:a.clanAccountID,className:ft.a.CuratorInfoFollow})))},Et=n("Gp1o"),Bt=n("5bld"),At=n("G24H"),It=n.n(At),jt=n("FKsz"),Dt=n.n(jt),Rt=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={rgCuratorList:null,nNumToDisplay:0,bHasBeenDismissed:e.HasBeenDismissed()},e.m_ref=I.a.createRef(),e.m_cancelSignal=A.a.CancelToken.source(),e}return Object(z.d)(n,t),n.prototype.componentDidMount=function(){return Object(z.b)(this,void 0,void 0,function(){return Object(z.e)(this,function(e){switch(e.label){case 0:return this.state.rgCuratorList?[3,2]:[4,at.Get().WaitForInitialLoad()];case 1:e.sent(),this.m_cancelSignal.token.reason||this.setState({rgCuratorList:this.GenerateNewsCuratorList()}),e.label=2;case 2:return window.addEventListener("resize",this.OnResize),this.OnResize(),[2]}})})},n.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("CuratorFeedSuggestRow to unload"),window.removeEventListener("resize",this.OnResize)},n.prototype.GetMaxCapsulesPerRow=function(){if(!this.m_ref.current)return 0;var e=Math.floor(Math.min(this.m_ref.current.clientWidth,window.innerWidth)/118);return Math.max(e-1,0)},n.prototype.OnResize=function(){this.m_cancelSignal.token.reason||this.setState({nNumToDisplay:this.GetMaxCapsulesPerRow()})},n.prototype.HasBeenDismissed=function(){var e=JSON.parse(localStorage.getItem(n.s_strLocalStorageKey));return e&&e.bDismissed},n.prototype.OnCommitDismiss=function(){localStorage.setItem(n.s_strLocalStorageKey,JSON.stringify({bDismissed:!0})),this.m_cancelSignal.token.reason||this.setState({bHasBeenDismissed:!0})},n.prototype.OnDismissButton=function(e){Object(F.d)(I.a.createElement(k.c,{strTitle:Object(V.f)("#EventCurator_DismissTitle"),strDescription:Object(V.f)("#EventCurator_DismissBody"),onOK:this.OnCommitDismiss}),Object(Ce.n)(e))},n.prototype.GenerateNewsCuratorList=function(){var e=V.e.GetELanguageFallbackOrder();void 0===e.find(function(e){return 0===e})&&e.push(0);for(var t=new Array,n=0,r=e;n<r.length;n++){var i,a=r[n],o=at.Get().GetCuratorsForLang(a);o&&(i=o.filter(function(e){return!W.a.BIsIgnoringCurator(e.clanAccountID)}),Object(Ne.g)(i),t.push.apply(t,i))}return t},n.prototype.GenerateCurator=function(e){var t=et.a.GetClanInfoByClanAccountID(e.clanAccountID);return t?I.a.createElement("div",{className:Dt.a.ClanInfo,key:t.clanAccountID},I.a.createElement(Ot,{clanInfo:t,layout:"icon"})):null},n.prototype.render=function(){var t=this,e=this.props.bCanDismiss,n=this.state,r=n.bHasBeenDismissed,i=n.rgCuratorList;if(r||!i||0===i.length)return null;var a=i.slice(0,this.state.nNumToDisplay).map(function(e){return t.GenerateCurator(e)});return I.a.createElement(fe.a,null,I.a.createElement("div",{className:Dt.a.FeedSuggestContainerBG},I.a.createElement("div",{className:Dt.a.FeedSuggestContainer},I.a.createElement("div",{className:Dt.a.FeedSuggestCaption},Object(V.f)("#EventCurator_FeedCaption_Long")),e&&I.a.createElement("div",{className:Dt.a.DismissButton,onClick:this.OnDismissButton},I.a.createElement(P.ob,null)),I.a.createElement("div",{className:Dt.a.RowContainer,ref:this.m_ref},a||I.a.createElement(G.a,null),I.a.createElement("div",{className:Dt.a.BrowseMore,onClick:pr.Get().ShowBrowseCurator},Object(V.f)("#EventCurator_BrowseMore"))))))},n.s_strLocalStorageKey="SteamNewsHub_SuggestCuratorsDismissed",Object(z.c)([w.a],n.prototype,"OnResize",null),Object(z.c)([w.a],n.prototype,"OnCommitDismiss",null),Object(z.c)([w.a],n.prototype,"OnDismissButton",null),n}(I.a.Component),Tt=n("IWyE"),Mt=n.n(Tt),Nt=n("4SZ2"),Lt=n.n(Nt),kt=function(e){var t=e.titleToken,n=e.subtitleToken,r=e.backgroundImg,i=e.headerImg,a=e.headerURL,o=r?{backgroundImage:r}:{};return M.createElement("div",{className:Object(x.a)(Lt.a.CommonHeaderStyles,Lt.a.SimpleTitleHeaderCtn,e.largeHeader&&Lt.a.LargeHeader),style:o},Boolean(a&&i)&&M.createElement("a",{href:a,className:Lt.a.AppBannerLogoCtn},M.createElement("img",{className:Lt.a.AppBannerLogo,src:i})),Boolean(i&&!a)&&M.createElement("div",{className:Lt.a.AppBannerLogoCtn},M.createElement("img",{className:Lt.a.AppBannerLogo,src:i})),M.createElement("div",{className:Lt.a.SimpleTitleCtn},M.createElement("div",{className:Lt.a.Title},t.startsWith("#")?Object(V.f)(t):t),n&&M.createElement("div",{className:Lt.a.Subtitle},n.startsWith("#")?Object(V.f)(n):n)))};function Ft(e){var r=Object(rt.b)(e);return Object(Le.a)(!!r,"Must define collection "+e),{collection:e,smallHeight:Number(Lt.a.simpleTitleSmallHeight),largeHeight:Number(Lt.a.simpleTitleLargeHeight),component:function(e,t,n){return M.createElement(kt,{largeHeader:e,titleToken:r.strHeaderTitle,subtitleToken:r.strHeaderSubtitle,headerImg:t,headerURL:n})}}}var Pt=null;function Gt(){return Pt||((Pt=new Array).push(Ft(rt.a.Press)),Pt.push(Ft(rt.a.Halloween))),Pt}function Ut(e){var t=["maxresdefault","mqdefault","default"],n=M.useState(0),r=n[0],i=n[1];M.useEffect(function(){return i(0)},[e.video]);var a=M.useRef();if(e.altImgWithFallback&&0<e.altImgWithFallback.length)return M.createElement(m.b,{className:e.className,srcs:e.altImgWithFallback});if(e.altImg)return M.createElement("img",{src:e.altImg,className:e.className});function o(){r+1<t.length&&i(r+1)}var s="https://img.youtube.com/vi/"+e.video+"/"+t[r]+".jpg";return M.createElement("img",{ref:a,onLoad:function(){a.current&&a.current.naturalHeight<91&&o()},onError:o,src:s,className:Object(x.a)(qt.a.YoutubePreviewImage,e.className)})}function xt(t){var e=M.useState(!1),n=e[0],r=e[1];return M.useEffect(function(){t.preloadYoutubeScripts&&Object(Wt.a)(function(){})},[t.preloadYoutubeScripts]),n?M.createElement(Wt.b,Object(z.a)({},t,{classnames:Object(x.a)(qt.a.YoutubePlayer,t.classnames)})):M.createElement("div",{className:Object(x.a)("YoutubePreviewContainer",qt.a.YoutubePreviewImage,t.imageClassnames),onClick:function(e){t.onPlayerActivated&&t.onPlayerActivated(),r(!0),e.stopPropagation(),e.preventDefault()}},M.createElement(Ut,{className:"YoutubePreviewImage",altImgWithFallback:t.altImgWithFallback,altImg:t.altImg,video:t.video}),M.createElement("div",{className:"YoutubePreviewPlay"},M.createElement(P.Cb,null)),M.createElement("div",{className:"VideoHintText"},Object(V.f)("#EventCalendar_WatchYouTubeVideo")))}var zt=n("O0NR"),Ht=n("YLyR"),Wt=n("AeJZ"),Vt=n("VtBW"),qt=n.n(Vt),Yt=n("N0Ye"),Qt=n("ylkE"),Zt=n("i6tc"),Kt=n.n(Zt),Jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.OnMuteButton=function(e){var t=this.props.calendarEvent,n=t.GetEntityName();Object(F.d)(M.createElement(k.c,{strTitle:Object(V.f)("#EventCalendar_MuteApp_Title",n),strDescription:Object(V.f)("#EventCalendar_MuteApp_details",n),onOK:function(){return Object(tt.b)().UpdateEventBlockFromCalendarEvent(t,!1)}},M.createElement("a",{href:Y.c.STORE_BASE_URL+"account/emailoptout/app",target:Y.c.IN_CLIENT?void 0:"_blank"},Object(V.f)("#EventCalendar_ManageMutedSources"))),Object(Ce.n)(e))},t.prototype.OnUnMuteButton=function(){var e=this.props.calendarEvent;Object(tt.b)().UpdateEventBlockFromCalendarEvent(e,!0)},t.prototype.HideAllEventsOfMyType=function(){var e=this.props.eventModel,t=this.GetVisibilityStore().MapClanEventTypeToGroup(e.GetEventType());this.GetVisibilityStore().SetEventTypeGroupAllowed(t,!1)},t.prototype.GetVisibilityStore=function(){return Object(tt.b)().m_visibilityStore},t.prototype.AddContextMenuForSource=function(e,t,n,r){var i=this;void 0===r&&(r=!0),this.GetVisibilityStore().BIsGameSourceAllowed(t)&&(r&&e.push(M.createElement(p.d,{key:"item-source-"+n+"-"+t,disabled:!0,onSelected:function(){}},Object(V.f)("#EventCalender_Reason_"+t))),e.push(M.createElement(p.d,{key:"item-hidesource-"+n+"-"+t,onSelected:function(){i.GetVisibilityStore().SetGameSourceAllowed(t,!1)}},Object(V.f)("#EventCalender_Hide_Reason_"+t))))},t.prototype.GotoGameOrClanHub=function(){var e=this.props.eventModel,t=Object(we.d)(e,we.a.k_eStoreNewsHub,"allowRelative");this.props.history.push(t)},t.prototype.ToggleFollowCurator=function(){Object(Qe.c)(this.props.eventModel.clanSteamID.GetAccountID())},t.prototype.CreateContextMenu=function(e){var t,n=this.props,r=n.eventModel,i=n.calendarEvent,a=[],o=i.GetSource(),s=i.unique_id,c=Y.c.EREALM===b.p.k_ESteamRealmChina,l=Object(tt.b)();l.BIsGlobalCalendar()&&(o&&o&Bt.a.k_eLibrary&&(this.GetVisibilityStore().BIsGameSourceAllowed(nt.c.k_ERecent)&&i.appInfo?(a.push(M.createElement(p.d,{key:"item-source-"+s+"-lastplayed",disabled:!0,onSelected:function(){}},Object(V.f)("#EventCalender_LastPlayed",Object(V.r)(N.a.GetTimeNowWithOverride()-i.appInfo.last_played)))),this.AddContextMenuForSource(a,nt.c.k_ERecent,s,!1)):this.AddContextMenuForSource(a,nt.c.k_ELibrary,s)),o&&o&Bt.a.k_eWishlist&&this.AddContextMenuForSource(a,nt.c.k_EWishlist,s),o&&o&Bt.a.k_eFollowing&&this.AddContextMenuForSource(a,nt.c.k_EFollowing,s),!c&&o&&o&Bt.a.k_eCurator&&this.AddContextMenuForSource(a,nt.c.k_ECurator,s),o&&o&Bt.a.k_eRecommended&&this.AddContextMenuForSource(a,nt.c.k_ERecommended,s),o&&o&Bt.a.k_eSteam&&this.AddContextMenuForSource(a,nt.c.k_ESteam,s),o&&o&Bt.a.k_eFeatured&&this.AddContextMenuForSource(a,nt.c.k_EFeatured,s)),a.push(M.createElement(p.d,{key:r.GID+"hidetype",onSelected:this.HideAllEventsOfMyType},Object(V.f)("#EVentCalendar_Hide_EventType",Object(V.f)("#EventCalendar_EventTypeGroup_"+this.GetVisibilityStore().MapClanEventTypeToGroup(r.GetEventType()))))),Y.h.logged_in&&(it.a.Get().BIsEventBlocked(i)?a.push(M.createElement(p.d,{key:r.GID+"unmuteapp",onSelected:this.OnUnMuteButton},M.createElement(Me.d,{toolTipContent:Object(V.f)("#EventCalendar_UnMuteApp_ttip")},Object(V.f)("#EventCalendar_UnMuteApp_Title",this.props.calendarEvent.GetEntityName())))):a.push(M.createElement(p.d,{key:r.GID+"muteapp",onSelected:this.OnMuteButton},M.createElement(Me.d,{toolTipContent:Object(V.f)("#EventCalendar_MuteApp_ttip")},Object(V.f)("#EventCalendar_MuteApp_Title",this.props.calendarEvent.GetEntityName()))))),r.BIsOGGEvent()||c||(t=W.a.BIsFollowingCurator(r.clanSteamID),a.push(M.createElement(p.d,{key:r.GID+"followcurator",onSelected:this.ToggleFollowCurator},M.createElement(Me.d,{toolTipContent:Object(V.f)(t?"#EventCalendar_UnFollowCurator_ttip":"#EventCalendar_FollowCurator_ttip")},Object(V.f)(t?"#EventCalendar_UnFollowCurator":"#EventCalendar_FollowCurator",this.props.calendarEvent.GetEntityName()))))),l.BIsSingleSourceCalendar()||a.push(M.createElement(p.d,{key:r.GID+"goto",onSelected:this.GotoGameOrClanHub},Object(V.f)("#EventCalendar_Goto_SpecificCalendar",i.GetEntityName()))),r.appid&&a.push(M.createElement(p.d,{key:r.GID+"goto",onSelected:function(e){return Object(U.c)(e,Object(Fe.d)(Y.c.STORE_BASE_URL+"app/"+l.GetSingleAppID()))}},Object(V.f)("#EventDisplay_ViewStorePage"))),Object(u.a)(M.createElement(p.c,null,a),e)},t.prototype.render=function(){return M.createElement("div",{className:Object(x.a)(Kt.a.FooterStat,Kt.a.Options),onClick:this.CreateContextMenu},M.createElement(P.U,null))},Object(z.c)([w.a],t.prototype,"OnMuteButton",null),Object(z.c)([w.a],t.prototype,"OnUnMuteButton",null),Object(z.c)([w.a],t.prototype,"HideAllEventsOfMyType",null),Object(z.c)([w.a],t.prototype,"AddContextMenuForSource",null),Object(z.c)([w.a],t.prototype,"GotoGameOrClanHub",null),Object(z.c)([w.a],t.prototype,"ToggleFollowCurator",null),Object(z.c)([w.a],t.prototype,"CreateContextMenu",null),Object(z.c)([i.observer],t)}(M.Component),Xt=Object($.f)(Jt),$t=n("XmAN"),en=n("cGQe"),tn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bVideoPlayerReady:!1},e}return Object(z.d)(e,t),e.prototype.OnFallbackClick=function(e){zt.b.RecordAppInteractionEvent(this.props.calendarEvent.appid,zt.a.k_eClickThrough),this.props.fnOnClicked(this.props.eventModel),e.stopPropagation(),e.preventDefault()},e.prototype.componentDidMount=function(){var e;this.props.calendarEvent.clanInfo&&(e=te.a.InitFromClanID(this.props.calendarEvent.clanInfo.clanid),et.a.LoadClanInfoForClanSteamID(e))},e.prototype.getVideoPreviewControl=function(){var e=this,t=this.props.eventModel,n=t.video_preview_type,r=t.video_preview_id;if(!r)return null;if(12===this.props.eventModel.type)return null;if("youtube"!==n)return null;var i=Object(ge.h)(Y.c.LANGUAGE),a=kn()&&14==this.props.eventModel.GetEventType()?re.c.full:re.c.capsule_main,o=this.props.eventModel.GetImageForSizeAsArrayWithFallback("capsule",i,a,!0);if("carousel"===this.props.mode)return M.createElement(Ut,{altImgWithFallback:o,video:r,className:Kt.a.YoutubePreviewImage});return M.createElement(xt,{video:r,altImgWithFallback:o,autoplay:!0,autopause:!0,showFullscreenBtn:!0,controls:!0,imageClassnames:Kt.a.YoutubePreviewImage,onPlayerActivated:function(){zt.b.RecordAppInteractionEvent(e.props.calendarEvent.appid,zt.a.k_ePlayedVideo),e.setState({bVideoPlayerReady:!0})},preloadYoutubeScripts:!0,playsInline:!0})},e.prototype.BIsSubTitleRedundant=function(e,t){function n(e){return e.replace(/\W+/g,"").toLocaleLowerCase()}var r=n(e);return n(t).startsWith(r)},e.prototype.render=function(){var e=this.props,t=e.eventModel,n=e.calendarEvent,r=e.bSuppressHoverEffects,i=e.mode,a=de.a.Get(),o=n.GetGameCapsule(),s=Object(ge.h)(Y.c.LANGUAGE),c=t.has_live_stream,l=t.has_live_stream,u=kn()&&14==t.GetEventType()?re.c.full:re.c.capsule_main,p="capsule",d=t.BImageNeedScreenshotFallback(p,s),m=Boolean(d&&t.appid)?t.GetFallbackArtworkScreenshot():t.GetImageURLWithFallback(p,s,u),h="upcoming"!==i&&this.getVideoPreviewControl(),f=!h&&"upcoming"!==i,b=t.GetCategoryAsString(),_=Kt.a["EventType"+t.GetEventType()],v=t.GetAllTags().map(function(e){return Kt.a["Tag-"+e]}),g=x.a.apply(void 0,Object(z.g)([Kt.a.TileContainer,_,c&&Kt.a.TileVideoIcon,r?Kt.a.DisableHovers:Kt.a.EnableHovers,this.state.bVideoPlayerReady&&Kt.a.VideoPlayerReady,h&&Kt.a.HasVideo,a.HasEventBeenRead(t.GID)&&Kt.a.HasBeenRead,"wide"===i&&Kt.a.WideMode,"carousel"===i&&Kt.a.CarouselMode,"upcoming"===i&&Kt.a.UpcomingMode],v)),y=t.GetNameWithFallback(s),S=t.GetSubTitleWithLanguageFallback(s),w=t.GetSummaryWithFallback(s);S===w&&(w=void 0),S===y&&(S=void 0);var C=Object(ee.o)(m),O=M.createElement("div",{className:Kt.a.CoverImageCtn},h,f&&M.createElement(M.Fragment,null,12===t.type&&M.createElement(M.Fragment,null,M.createElement("div",{className:Kt.a.GameCapsuleCtn},M.createElement("div",{className:Kt.a.AppBannerLogo,style:{backgroundImage:"url("+o+")"}})),M.createElement("div",{className:Kt.a.GameShortDescription},w)),12!==t.type&&M.createElement("div",{className:Object(x.a)(Kt.a.EventCapsuleCtn,c&&Kt.a.LiveBroadcastPreview)},M.createElement("div",{className:Object(x.a)(Kt.a.TileImage,d&&Kt.a.FallbackImage),style:{backgroundImage:"url("+C+")"}}),c&&M.createElement("div",{className:Kt.a.TileCoverImagePlayable}),l&&M.createElement("div",{className:Kt.a.TileCoverLiveIcon},Object(V.f)("#home_page_live_broadcast")),c&&M.createElement("div",{className:"VideoHintText"},Object(V.f)("#EventCalendar_WatchLiveBroadcast"))))),E=h&&"carousel"!==i,B=r&&14!=t.GetEventType()&&!E,A=B&&O,I=!B&&O,j="wide"!==i||r,D=28!==t.type&&12!==t.type&&N.a.GetTimeNowWithOverride()<t.GetStartTimeAndDateUnixSeconds()&&M.createElement("div",{className:Object(x.a)(Kt.a.ReminderContainer,j&&Kt.a.OnlyIcon)},M.createElement(en.a,{eventModel:t,eventGID:t.GID,lang:s,bShowStartTime:!0,bOnlyShowIcon:j,bExpandLeft:j})),R=Boolean(12!==t.type&&w),T=Boolean(S&&(!R||!this.BIsSubTitleRedundant(S,w)));return M.createElement("div",{className:g},M.createElement($t.a,{event:t,recordNewsHubStats:!0}),M.createElement(we.c,{eventModel:t,route:we.a.k_eView},M.createElement("div",{className:Kt.a.Tile,onClick:this.OnFallbackClick},14===t.type&&M.createElement("div",{className:Object(x.a)(Kt.a.TileBackgroundImage,d&&Kt.a.FallbackImage),style:{backgroundImage:"url("+C+")"}}),M.createElement("div",{className:Kt.a.MainContentContainer},M.createElement("div",{className:Kt.a.TileTextContainer},M.createElement("div",{className:Kt.a.PatchIconCtn},M.createElement(P.Y,null)),M.createElement("div",{className:Kt.a.EventTitleCtn},A,!this.props.bHideGameTitle&&M.createElement("div",{className:Kt.a.GameSource},M.createElement(rn,Object(z.a)({},this.props)),n&&M.createElement(on,{calendarEvent:n})),M.createElement("div",{className:Kt.a.EventName},y),M.createElement("div",{className:Kt.a.EventTypeAndDateCtn},M.createElement("div",{className:Object(x.a)(Kt.a.TileTextCategoryType,_)},b),M.createElement(an,{eventModel:t,className:Object(x.a)(j&&Kt.a.LeaveRoomForReminder)}),j&&D),T&&M.createElement("div",{className:Kt.a.EventSubTitle},S),R&&M.createElement("div",{className:Object(x.a)(Kt.a.EventSummaryDefault,S?Kt.a.SubTitleShown:"")},w)),!j&&D),I))),M.createElement(cn,Object(z.a)({},this.props)))},Object(z.c)([w.a],e.prototype,"OnFallbackClick",null),Object(z.c)([i.observer],e)}(M.Component),nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.OnTitleClick=function(e){var t=this.props.eventModel,n=Object(we.d)(t,we.a.k_eStoreNewsHub,"allowRelative");this.props.history.push(n),e.stopPropagation(),e.preventDefault()},t.prototype.render=function(){var e=this.props,t=(e.eventModel,e.calendarEvent),n=e.bSuppressHoverEffects,r=t.GetEntityName(),i=t.GetGameIcon(),a=Object(x.a)(Kt.a.GameTitleContainer,n?Kt.a.DisableHovers:Kt.a.EnableHovers);return M.createElement(fe.a,null,M.createElement("div",{className:Kt.a.TileTextHeader},M.createElement("div",{className:a,onClick:this.OnTitleClick},M.createElement("img",{className:Kt.a.AppIcon,src:i}),M.createElement("div",{className:Kt.a.TileTextAppName},r," "))))},Object(z.c)([w.a],t.prototype,"OnTitleClick",null),Object(z.c)([i.observer],t)}(M.Component),rn=Object($.f)(nn),an=Object(i.observer)(function(e){var t=e.eventModel,n=e.calendarEvent,r=e.className,i=Object(tt.b)().GetStoreInitializationTimestamp().getTime()/1e3,a=t?t.GetStartTimeAndDateUnixSeconds():n.start_time,o=t&&Object(Yt.a)(t.type)&&t.GetEndTimeAndDateUnixSeconds();if(o&&a<i&&i<o){var s=o-i,c=Object(V.r)(s,!0);return M.createElement("div",{className:Object(x.a)(Kt.a.LiveText,r)},M.createElement(Ht.f,{rtFullDate:a,stylesmodule:Kt.a},M.createElement("div",{className:Kt.a.LiveNow},Object(V.f)("#EventCalendar_LiveNow"))),M.createElement(Ht.f,{rtFullDate:o,stylesmodule:Kt.a},Object(V.f)("#EventCalendar_TimeLeft",c)))}if(a<i){var l=i-a,u=l<86400?Object(V.r)(l,!1,!0):Object(V.q)(a);return M.createElement(Ht.f,{className:r,rtFullDate:a,stylesmodule:Kt.a},M.createElement("div",{className:Kt.a.PastDateText},u))}var p=new Date(1e3*i);p.setHours(0,0,0,1);var d=p.getTime()/1e3,m=Math.floor((a-d)/86400),h=1<m&&m<=5?Object(V.i)(new Date(1e3*a)):Object(V.q)(a),f=Object(Ht.e)(a);return M.createElement(Ht.f,{className:r,rtFullDate:a,stylesmodule:Kt.a},M.createElement("div",{className:Kt.a.FutureDateText},Object(V.f)("#EventCalendar_WillStartAtDateTime",h,f)))}),on=Object(i.observer)(function(r){var e=r.calendarEvent.GetSource(),i=[],t=Object(tt.b)().m_visibilityStore;e&Bt.a.k_eLibrary&&t.BIsGameSourceAllowed(nt.c.k_ELibrary)?i.push({id:Bt.a.k_eLibrary,name:"#EventCalendar_GameSource_inLibrary",ttip:"#EventCalendar_GameSource_EventExplanation_ttip_library",styles:Kt.a.LibrarySource}):e&Bt.a.k_eWishlist&&t.BIsGameSourceAllowed(nt.c.k_EWishlist)?i.push({id:Bt.a.k_eWishlist,name:"#EventCalendar_GameSource_onWishlist",ttip:"#EventCalendar_GameSource_EventExplanation_ttip_wishlist",styles:Kt.a.WishlistSource}):e&Bt.a.k_eRecommended&&t.BIsGameSourceAllowed(nt.c.k_ERecommended)?i.push({id:Bt.a.k_eRecommended,name:"#EventCalendar_GameSource_recommended_Verbose",ttip:"#EventCalendar_GameSource_EventExplanation_ttip_recommended",styles:Kt.a.RecommendedSource}):e&Bt.a.k_eFeatured&&t.BIsGameSourceAllowed(nt.c.k_EFeatured)&&i.push({id:Bt.a.k_eFeatured,name:"#EventCalendar_GameSource_featured",ttip:"#EventCalendar_GameSource_ttip_featured",styles:Kt.a.FeaturedSource}),e&Bt.a.k_eFollowing&&t.BIsGameSourceAllowed(nt.c.k_EFollowing)&&i.push({id:Bt.a.k_eFollowing,name:"#EventCalendar_GameSource_followed",ttip:"#EventCalendar_GameSource_EventExplanation_ttip_following",styles:Kt.a.FollowingSource});var n=i.map(function(e,t){var n=r.calendarEvent.unique_id;return sn("item-source-"+n+"-"+e.id,e.name,e.ttip,e.styles,t+1<i.length)});return M.createElement("div",{className:Kt.a.SourceList},n)}),sn=function(e,t,n,r,i){return M.createElement(Me.d,{key:e,className:Object(x.a)(Kt.a.Source,r),toolTipContent:Object(V.f)(n)},Object(V.f)(t)+(i?", ":""))};var cn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.OnPerformVoteUp=function(){var e=this.props.eventModel,t=de.a.Get();!0!==t.GetPreviouslyLoadedVote(this.props.eventModel)&&Object(Qt.a)(e,t)&&(t.Vote(e,!0,A.a.CancelToken.source()),zt.b.RecordAppInteractionEvent(e.appid,zt.a.k_eThumbsUp))},t.prototype.OnDiscussionClicked=function(){var e=this.props.eventModel;zt.b.RecordAppInteractionEvent(e.appid,zt.a.k_eDiscussions)},t.prototype.render=function(){var e,t=de.a.Get(),n=this.props.eventModel,r=Math.max(0,n.nVotesUp-n.nVotesDown),i=t.GetPreviouslyLoadedVote(this.props.eventModel),a=(e=i,t.BIsUserLoggedIn()?Y.h.is_limited?Kt.a.Vote_LimitedUser:!0===e?Kt.a.Vote_Positive:!1===e?Kt.a.Vote_Negative:Kt.a.Vote_Ready:Kt.a.Vote_NotLoggedIn),o=n.GetForumTopicURL(),s=Y.c.EREALM!==b.p.k_ESteamRealmChina&&o,c=0<n.live_stream_viewer_count?n.live_stream_viewer_count:void 0;return M.createElement("div",{className:Kt.a.Footer},M.createElement("div",{className:Kt.a.FooterRightSide},Boolean(c)&&M.createElement("div",{className:Kt.a.TileViewerCount},c.toLocaleString(V.e.GetPreferredLocales())),M.createElement("div",{className:Object(x.a)(Kt.a.FooterStat,Kt.a.Vote,a),onClick:this.OnPerformVoteUp},M.createElement(P.wb,{className:Kt.a.RateIcon}),M.createElement("span",null,Number(r).toLocaleString())),s&&M.createElement("div",{className:Kt.a.FooterStat},M.createElement("a",{href:o,className:Kt.a.CommentIconCtn,target:"_blank",onClick:this.OnDiscussionClicked},M.createElement(P.q,{className:Kt.a.CommentIcon}),M.createElement("span",null,Number(n.nCommentCount).toLocaleString()))),M.createElement(Xt,Object(z.a)({},this.props))))},Object(z.c)([w.a],t.prototype,"OnPerformVoteUp",null),Object(z.c)([w.a],t.prototype,"OnDiscussionClicked",null),Object(z.c)([i.observer],t)}(M.Component);var ln=Object(i.observer)(function(e){var n=e.calendarEvent,r=e.partnerEventStore,t=e.mode,i=Kt.a["EventType"+n.event_type],a=Object(x.a)(Kt.a.TileContainer,i),o="carousel"===t;return M.createElement(S.a,{onEnter:function(){var e,t;e=n,r.QueueLoadPartnerEvent(e.clanid,e.unique_id),e.appid&&Pe.a.GetStoreCapsuleInfo(e.appid),e.clanInfo&&(t=te.a.InitFromClanID(e.clanInfo.clanid),et.a.LoadClanInfoForClanSteamID(t))},topOffset:"-500px",bottomOffset:"-500px"},M.createElement("div",{className:a},M.createElement("div",{className:Object(x.a)(Kt.a.Tile,Kt.a.LoadingTile)},o&&M.createElement(G.a,null)),M.createElement("div",{className:Kt.a.Footer})))}),un=Object(i.observer)(function(e){var t=e.partnerEventStore,n=e.calendarEvent,r=Object(z.f)(e,["partnerEventStore","calendarEvent"]);if(i=n,!t.GetClanEventModel(i.unique_id)||i.appid&&!Pe.a.BIsAppidLoaded(i.appid)||i.clanInfo&&!et.a.HasLoadedClanAccountID(i.clanInfo.clanid))return M.createElement(ln,Object(z.a)({calendarEvent:n,partnerEventStore:t},r));var i,a=t.GetClanEventModel(n.unique_id);return M.createElement(tn,Object(z.a)({eventModel:a,calendarEvent:n},r))}),pn=n("mZMQ"),dn=(n("hmtA"),n("dgee")),mn=n.n(dn),hn=n("SS32"),fn=n("lypr"),bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e=this.props.showArrows,t=this.props.visibleSlides,n=this.props.totalSlides,r=this.props.currentSlide;if(n<=t)return null;var i=100*r/n,a=100*(1-Math.min(r+t,n)/n),o=i+50*t/n,s=100-o;return M.createElement("div",{className:hn.pipScrollerContainer},e&&M.createElement(pn.a,{className:Object(x.a)(hn.pipScrollButton,hn.left,hn.carouselNavButton)},M.createElement(P.r,null)),M.createElement("div",{className:hn.pipScroller},M.createElement("div",{className:hn.scrollBackground}),M.createElement("div",{className:hn.scrollForeground,style:{left:i+"%",right:a+"%"}}),M.createElement("div",{className:hn.scrollNavDiv,style:{left:"0%",width:o+"%"}},M.createElement(pn.a,{className:Object(x.a)(hn.carouselNavButton,hn.scrollNavButton)},M.createElement("div",null))),M.createElement("div",{className:hn.scrollNavDiv,style:{right:"0%",width:s+"%"}},M.createElement(pn.b,{className:Object(x.a)(hn.carouselNavButton,hn.scrollNavButton)},M.createElement("div",null)))),e&&M.createElement(pn.b,{className:Object(x.a)(hn.pipScrollButton,hn.right,hn.carouselNavButton)},M.createElement(P.r,null)))},t}(M.Component),_n=Object(pn.g)(bn,function(e){return{currentSlide:e.currentSlide,totalSlides:e.totalSlides,visibleSlides:e.visibleSlides}}),vn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.GetNumElements=function(){return M.Children.count(this.props.children)},t.prototype.GetPageSize=function(){return Math.min(this.GetNumElements(),this.props.visibleElements)},t.prototype.RenderChildren=function(){var r=this;return M.Children.map(this.props.children,function(e,t){var n=r.props.bLazyRenderChildren?M.createElement(De.a,{rootMargin:"0px 100% 0px 100%",bHorizontal:!0,placeholderWidth:1,placeholderHeight:1},e):e;return M.createElement(pn.e,{key:"slide_"+t,index:t},n)})},t.prototype.RenderBreadcrumbs=function(n){return M.Children.map(this.props.children,function(e,t){return t%n!=0?null:M.createElement(pn.d,{slide:t,className:hn.pip},M.createElement("img",{src:mn.a}))})},t.prototype.render=function(){var e=this.GetNumElements(),t=this.GetPageSize();if(!e||!t)return null;var n=t<e,r=this.props.hideArrows||!n,i=!n||this.props.hidePips,a=4/3,o=!0;return this.props.slideAspectRatio&&(a=this.props.slideAspectRatio,o=!1),M.createElement("div",{className:Object(x.a)(hn.carouselBody,this.props.className)},M.createElement(pn.c,{visibleSlides:this.props.visibleElements,totalSlides:this.GetNumElements(),naturalSlideWidth:100*a,naturalSlideHeight:100,step:this.props.visibleElements,infinite:!this.props.disableEdgeWrap,isIntrinsicHeight:o},M.createElement("div",{className:hn.sliderBody},!r&&M.createElement(pn.a,{className:Object(x.a)(hn.carouselBtnCtn,hn.left,hn.carouselNavButton)},M.createElement(P.r,null)),M.createElement(pn.f,{className:fn.a.GetScrollableClassname()},this.RenderChildren()),!r&&M.createElement(pn.b,{className:Object(x.a)(hn.carouselBtnCtn,hn.right,hn.carouselNavButton)},M.createElement(P.r,null))),!i&&(this.props.useTestScrollbar?M.createElement(_n,{showArrows:r}):M.createElement("div",{className:hn.breadcrumbContainer},this.RenderBreadcrumbs(t)))))},t}(M.Component),gn=n("90oc"),yn=n.n(gn),Sn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.rgCalendarItems,n=e.bSuppressHoverEffects,r=e.strMultipleSourceTitle;if(!t||0==t.length)return null;var i=t[0];if(!t.every(function(e){return e.appid===i.appid&&e.clanid===i.clanid}))return r?M.createElement("div",{className:yn.a.EventTileCarouselTitleContainer},M.createElement("div",{className:yn.a.EventTileCarouselTextTitle},r)):null;var a=Boolean(0===i.appid&&Y.h.accountid);return M.createElement("div",{className:yn.a.EventTileCarouselTitleContainer},M.createElement("div",{className:yn.a.EventTileCarouselTitle},M.createElement(Vn,{calendarItem:i,bSuppressHoverEffects:n})),a&&M.createElement("div",{className:yn.a.EventTileCarouselFollow},M.createElement(Qe.b,{clanAccountID:i.clanid})))},Object(z.c)([i.observer],t)}(M.Component),wn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bScreenIsWide:n.IsWideScreen(),nMaxCapsulesPerRow:e.GetMaxCapsulesPerRow()},e}var n;return Object(z.d)(e,t),(n=e).prototype.componentDidMount=function(){window.addEventListener("resize",this.OnResize)},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.OnResize)},e.IsWideScreen=function(){return 910<=window.innerWidth},e.prototype.GetMaxCapsulesPerRow=function(){return n.IsWideScreen()?3:700<window.innerWidth?2:1},e.prototype.OnResize=function(){this.setState({bScreenIsWide:n.IsWideScreen(),nMaxCapsulesPerRow:this.GetMaxCapsulesPerRow()})},e.prototype.render=function(){var e=this.props,t=e.rgCalendarItems,n=e.fnOnEventClick,r=e.bSuppressHoverEffects,i=e.bHideGameTitle,a=e.strMultipleSourceTitle;if(!t||0==t.length)return null;var o=t.map(function(e){return M.createElement(un,{key:"ht-"+e.unique_id,calendarEvent:e,partnerEventStore:le.c,fnOnClicked:n,bSuppressHoverEffects:r,mode:1<t.length?"carousel":"wide",bHideGameTitle:i})});return M.createElement("div",{className:yn.a.CalendarRow},M.createElement(Sn,{rgCalendarItems:t,bSuppressHoverEffects:r,strMultipleSourceTitle:a}),M.createElement("div",{className:Object(x.a)(yn.a.EventTileCarousel,"EventTileCarouselCtn")},M.createElement(vn,{hideArrows:!0,visibleElements:Math.min(this.state.nMaxCapsulesPerRow,this.props.rgCalendarItems.length),className:yn.a.HorizontalTiles,useTestScrollbar:!0,bLazyRenderChildren:!0,disableEdgeWrap:!0},o)))},Object(z.c)([w.a],e.prototype,"OnResize",null),n=Object(z.c)([i.observer],e)}(M.Component),Cn=n("s4NR"),On=n.n(Cn);function En(e,t){var n="location"in e?e.location:e,r="search"in n?n.search:n,i=On.a.parse(r.substring(1))[t];return i&&Array.isArray(i)?i[i.length-1]:i}var Bn=function(e){return null!=e};function An(e,t,n){var r=On.a.parse(e.location.search.substring(1));Bn(n)?r[t]=n:delete r[t],e.push("?"+On.a.stringify(r))}function In(e,t){var n,r=On.a.parse(e.location.search.substring(1));for(var i in t){t.hasOwnProperty(i)&&(null==(n=t[i])?delete r[i]:r[i]=n)}e.push("?"+On.a.stringify(r))}function jn(e){var t,n=new Array;return null!==(t=Y.c.SUPPORTED_LANGUAGES)&&void 0!==t&&t.length?n=Y.c.SUPPORTED_LANGUAGES.map(function(e){return e.localizedName}):n.push(Object(V.f)("#Language_"+Y.c.LANGUAGE)),I.a.createElement("div",{className:Tn.a.LanguageList},n.join(", "))}function Dn(e){var t,n="SteamNewsHub_LanguageDismissed",r=I.a.useState((t=JSON.parse(localStorage.getItem(n)))&&t.bDismissed),i=r[0],a=r[1];if(i)return null;if(Y.c.EREALM===b.p.k_ESteamRealmChina)return null;var o=Y.c.STORE_BASE_URL+"account/languagepreferences/";return I.a.createElement("div",{className:Tn.a.LanguageFeedNoteBucket},I.a.createElement("div",{className:Tn.a.LanguageFeedNoteCtn},I.a.createElement("div",{className:Tn.a.DismissButton,onClick:function(){a(!0),localStorage.setItem(n,JSON.stringify({bDismissed:!0}))}},I.a.createElement(P.ob,null)),I.a.createElement("div",{className:Tn.a.BodyFlow},I.a.createElement("div",{className:Tn.a.LeftColumn},I.a.createElement(P.M,null)),I.a.createElement("div",{className:Tn.a.RightColumn},I.a.createElement("div",{className:Tn.a.Title},Object(V.f)("#EventCalendar_NewsLanguage_Title")),I.a.createElement(jn,null),I.a.createElement("div",{className:Tn.a.Text},Object(V.o)("#EventCalendar_NewsLanguage_Text",I.a.createElement("a",{href:o},Object(V.f)("#EventCalendar_NewsLanguage_TextInHyperlink"))))))))}var Rn=n("2rGr"),Tn=n.n(Rn),Mn="global_header";function Nn(){var e=document.getElementById(Mn);if(e&&"none"!=getComputedStyle(e).display)return e;var t=document.getElementsByClassName("responsive_header");return Object(Le.a)(t.length<=1,"Must have at most one responsive_header"),1!=t.length?null:t[0]}function Ln(){var e=Nn();return e&&e.id!=Mn}function kn(){return window.innerWidth<parseInt(Mt.a.strMaxMobileWidth)}function Fn(){return Ln()||window.innerWidth<parseInt(Mt.a.strDesktopControlBarWidth)+parseInt(Mt.a.strMaxMobileWidth)}var Pn,Gn,Un=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bUserIsLoggedIn:Y.h.logged_in,nVisibleHeight:0,nScrollTop:0,bControlBarIsCollapsed:Fn(),bControlBarWasOpenedByUser:!1,nDisappearingHeaderTop:0,nSteamNavHeaderHeight:0,nMobileNavBannerHeight:0,nHubBannerHeight:0,nGroupHeaderHeight:0,nLogInBannerHeight:0,nAccumScrollUp:0,nAccumScrollDown:0},e.m_refControlBar=M.createRef(),e.m_cancelSignal=A.a.CancelToken.source(),e}var u;return Object(z.d)(e,t),(u=e).prototype.componentDidMount=function(){this.InitEventCalendarStore(),this.UpdateDocumentUI(),window.addEventListener("resize",this.OnResize),window.addEventListener("scroll",this.OnScroll),this.setState({nVisibleHeight:window.innerHeight}),window.scrollTo(0,0),this.UpdateEventControlLocationAndVisibility()},e.prototype.componentDidUpdate=function(e,t){t.bUserIsLoggedIn==this.state.bUserIsLoggedIn&&JSON.stringify(e.filter_to_appids)==JSON.stringify(this.props.filter_to_appids)&&JSON.stringify(e.filter_to_clanids)==JSON.stringify(this.props.filter_to_clanids)&&e.filter_to_collection===this.props.filter_to_collection&&e.filter_to_saleid===this.props.filter_to_saleid||(window.scrollTo(0,0),this.InitEventCalendarStore()),this.UpdateDocumentUI(),this.LoadEventToShowAsModal(),this.UpdateEventControlLocationAndVisibility()},e.prototype.UpdateEventControlLocationAndVisibility=function(){var e,t=this;!this.props.location||("desktop_navigation"!=(e=pr.Get().UpdateLocation(function(){return t.props.history},this.props.location))&&this.state.bControlBarIsCollapsed||"desktop_navigation"==e&&!this.state.bControlBarIsCollapsed&&Ln())&&this.ToggleControlBarCollapsed()},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("component unmounted"),window.removeEventListener("resize",this.OnResize),window.removeEventListener("scroll",this.OnScroll),this.UpdateBodyScrollState(!0);var e=Nn();e&&(e.style.transform="")},e.prototype.GetCurrentHubBannerHeight=function(e){var t,n,r=e&&!kn();return Object(tt.b)().GetCollectionID()?function(t,e){if(!t)return 0;var n=Gt().find(function(e){return e.collection===t});return n?e?n.largeHeight:n.smallHeight:0}(Object(tt.b)().GetCollectionID(),r):Object(tt.b)().BIsSaleCalendar()?(t=Object(tt.b)().GetSaleID(),n=r,t&&le.c.GetClanEventModel(t)?n?Number(Lt.a.simpleTitleLargeHeight):Number(Lt.a.simpleTitleSmallHeight):0):Object(tt.b)().BIsSingleSourceCalendar()?parseInt(r?Mt.a.strJumboHubBannerHeight:Mt.a.strDesktopHubBannerHeight)-1:0},e.prototype.BShowLogInBanner=function(){return Boolean(!this.state.bUserIsLoggedIn&&Object(tt.b)().BIsGlobalCalendar())},e.prototype.GetCurrentHeaderHeights=function(e){var t=Ln(),n=kn(),r=0;Nn()&&(r=parseInt(t?Mt.a.strMobileGlobalHeaderHeight:Mt.a.strDesktopGlobalHeaderHeight),--r);var i=parseInt(n?Mt.a.strMobileGroupHeaderHeight:Mt.a.strDesktopGroupHeaderHeight)-1,a=(t?parseInt(Mt.a.strMobileNavBannerHeight):0)-1,o=this.GetCurrentHubBannerHeight(e),s=0;return this.BShowLogInBanner()&&(s=e&&!n?parseInt(Mt.a.strLogInBannerLargeHeight):parseInt(Mt.a.strLogInBannerSmallHeight)),{nSteamNavHeaderHeight:r,nMobileNavBannerHeight:a,nHubBannerHeight:o,nGroupHeaderHeight:i,nLogInBannerHeight:s}},e.prototype.LoadEventToShowAsModal=function(){return Object(z.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(z.e)(this,function(e){switch(e.label){case 0:return(t=En(this.props.location,"emclan"),n=En(this.props.location,"emgid"),t&&n)?(r=new te.a(t),this.state.modalEvent&&this.state.modalEvent.clanSteamID.ConvertTo64BitString()==r.ConvertTo64BitString()&&this.state.modalEvent.GID==n?[2]:[4,le.c.LoadPartnerEventFromClanEventGIDAndClanSteamID(r,n,0)]):[3,2];case 1:return i=e.sent(),this.setState({modalEvent:i}),[3,3];case 2:this.state.modalEvent&&this.setState({modalEvent:null}),e.label=3;case 3:return[2]}})})},e.prototype.BShowFutureView=function(){var e=En(this.props.location,"upcoming");return e&&"false"!=e},e.prototype.BShowUpdatesOnly=function(){return!(!this.props.filter_to_appids||1!=this.props.filter_to_appids.length||"true"!=En(this.props.location,"updates"))},e.prototype.UpdateDocumentUI=function(){var e,t,n,r,i,a,o,s,c,l,u,p,d=Object(tt.b)();d.BIsGlobalCalendar()?i=null!==(e=null==(s=Object(rt.b)(this.BShowFutureView()?rt.a.Upcoming:rt.a.Default))?void 0:s.strHeaderTitle)&&void 0!==e?e:null==s?void 0:s.strName:d.BIsSingleAppCalendar()?i=(l=(a=d.GetSingleAppID())&&Pe.a.GetStoreCapsuleInfo(a).GetAppStoreData())&&l.title:d.BIsSingleGroupCalendar()?i=(p=(u=d.GetSingleGroupID())&&et.a.GetClanInfoByClanAccountID(u))&&p.group_name:d.BIsCollectionCalendar()?(o=d.GetCollectionID(),i=null!==(t=null==(s=Object(rt.b)(o))?void 0:s.strHeaderTitle)&&void 0!==t?t:null==s?void 0:s.strName):!d.BIsSaleCalendar()||(c=le.c.GetClanEventModel(d.GetSaleID()))&&(i=c.appid?(l=Pe.a.GetStoreCapsuleInfo(c.appid).GetAppStoreData())&&l.title:(p=(u=null===(n=c.clanSteamID)||void 0===n?void 0:n.GetAccountID())&&et.a.GetClanInfoByClanAccountID(u))&&p.group_name,r=c&&c.GetNameWithFallback(Object(ge.h)(Y.c.LANGUAGE)));var m=Object(V.f)("#EventCalendar_TabTitle_Global");i&&(m=r?Object(V.f)("#EventCalendar_TabTitle_GroupNameAndEventDetail",i,r):Object(V.f)("#EventCalendar_TabTitle_GroupHub",i)),document.title!=m&&(document.title=m),document.body.classList.contains("events_hub")||document.body.classList.add("events_hub")},e.prototype.OnResize=function(){var i=this;this.setState(function(e){var t=window.innerHeight,n=!e.bControlBarWasOpenedByUser&&Fn(),r=i.GetCurrentHeaderHeights(i.state.nScrollTop<=0);return i.UpdateBodyScrollState(n),Object(z.a)({nVisibleHeight:t,bControlBarIsCollapsed:n},r)})},e.prototype.OnScroll=function(){var m=this,h=Math.round(window.scrollY);this.setState(function(e){var t,n=e.nScrollTop<=0,r=h<=0,i=e.nHubBannerHeight,a=e.nLogInBannerHeight;n!=r&&(i=(t=m.GetCurrentHeaderHeights(r)).nHubBannerHeight,a=t.nLogInBannerHeight);var o=h-e.nScrollTop,s=Math.max(0,e.nAccumScrollUp-o),c=Math.max(0,e.nAccumScrollDown+o),l=e.nDisappearingHeaderTop,u=e.nDisappearingHeaderTop<0;80<c&&(u=!(c=s=0)),(100<s||r)&&(c=s=0,u=!1),m.state.bControlBarIsCollapsed||(u=!1),e.modalEvent&&(u=!0);var p,d=e.nSteamNavHeaderHeight+i+e.nMobileNavBannerHeight;return(l=u?-1*d:0)===e.nDisappearingHeaderTop||(p=Nn())&&(p.style.transform="translateY("+l+"px)"),{nScrollTop:h,nAccumScrollUp:s,nAccumScrollDown:c,nDisappearingHeaderTop:l,nHubBannerHeight:i,nLogInBannerHeight:a}})},e.prototype.InitEventCalendarStore=function(){return Object(z.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l;return Object(z.e)(this,function(e){switch(e.label){case 0:return t={appids:this.props.filter_to_appids,clanaccountids:this.props.filter_to_clanids,collectionid:this.props.filter_to_collection,saleid:this.props.filter_to_saleid},n=Object(tt.c)(t),r=Object(tt.b)(),it.a.Get(),i=Boolean(this.state.bUserIsLoggedIn&&Y.h.accountid),a=r.BIsGlobalCalendar()&&i?"local":"session",o=r.BIsGlobalCalendar()?"U"+Y.h.accountid:n,r.m_visibilityStore.Init(i,this.BShowUpdatesOnly(),o,a),s=!r.BIsCollectionCalendar(),r.SetFilteredView(function(e){return r.m_visibilityStore.BShouldDisplayEvent(e)},s),u.m_bInitialLoad&&(c=Object(Y.g)("metadatainfo","application_config"),r.SetCollectionMetaData(r.ValidateCollectionMetadata(c)?c:null)),(l=u.m_bInitialLoad&&Object(Y.g)("initialEvents","application_config"))?[4,r.RegisterCalendarEventsAndModels(l)]:[3,2];case 1:return e.sent(),u.m_bInitialLoad=!1,[3,4];case 2:return[4,r.RegisterCalendarEventsAndModels({success:1})];case 3:e.sent(),e.label=4;case 4:return r.BIsSingleSourceCalendar()&&(r.BIsSingleAppCalendar()?Pe.a.GetStoreCapsuleInfo(r.GetSingleAppID()).HintLoadBroadcastAppData():et.a.LoadClanInfoForClanSteamID(te.a.InitFromClanID(r.GetSingleGroupID()))),this.OnResize(),[2]}})})},e.prototype.UpdateBodyScrollState=function(e){var t=!e&&Ln(),n=document.body;n&&(t?n.classList.add(Mt.a.BodyNoScroll):n.classList.remove(Mt.a.BodyNoScroll))},e.prototype.MobileNavOpenSettings=function(){this.ToggleControlBarCollapsed(),this.m_refControlBar.current&&this.m_refControlBar.current.OpenFilterSettings(!0)},e.prototype.ToggleControlBarCollapsed=function(){var a=this;this.setState(function(e){var t=!e.bControlBarIsCollapsed,n=e.bControlBarIsCollapsed,r=t?e.nDisappearingHeaderTop:0,i=Nn();return i&&(i.style.transform="translateY("+r+"px)"),a.UpdateBodyScrollState(t),{bControlBarIsCollapsed:t,bControlBarWasOpenedByUser:n,nDisappearingHeaderTop:r}})},e.prototype.OnControlBarChange=function(){window.scrollTo(0,0)},e.prototype.CloseEventModal=function(){var e=Nn();e&&(e.style.transform="translateY("+this.state.nDisappearingHeaderTop+"px)"),"PUSH"===this.props.history.action?this.props.history.goBack():In(this.props.history,{emclan:void 0,emgid:void 0})},e.prototype.OnEventClicked=function(e){de.a.Get().RecordEventRead(e,8);var t,n=this.state.nSteamNavHeaderHeight+this.state.nHubBannerHeight+this.state.nMobileNavBannerHeight,r=Nn();r&&(r.style.transform="translateY("+-1*n+"px)"),N.a.bOpenEventLandingPage?(t=Object(we.d)(e,we.a.k_eStoreView,"allowRelative"),this.props.history.push(t)):In(this.props.history,{emclan:e.clanSteamID.ConvertTo64BitString(),emgid:e.GID})},e.prototype.ToggleFutureView=function(){An(this.props.history,"upcoming",this.BShowFutureView()?"false":"true")},e.prototype.ResetAllFilters=function(){An(this.props.history,"updates",void 0),Object(tt.b)().m_visibilityStore.InitDefaultCheckboxes(this.state.bUserIsLoggedIn,!1)},e.prototype.render=function(){var e=this.state.nSteamNavHeaderHeight+this.state.nHubBannerHeight+this.state.nMobileNavBannerHeight+this.state.nLogInBannerHeight,t=this.state.nDisappearingHeaderTop+this.state.nSteamNavHeaderHeight,n=t+this.state.nMobileNavBannerHeight,r=n+this.state.nLogInBannerHeight,i=this.state.nVisibleHeight<=parseInt(Mt.a.strMinMobileHeight),a=i?0:this.state.nDisappearingHeaderTop+this.state.nSteamNavHeaderHeight,o=i?0:this.state.nDisappearingHeaderTop+e,s=Object(tt.b)().m_visibilityStore.BAreAnyEventsFiltered(this.state.bUserIsLoggedIn)?this.ResetAllFilters:null;return M.createElement(M.Fragment,null,M.createElement("div",{className:Mt.a.EventCalendarContainer},M.createElement(fe.a,null,this.state.modalEvent?M.createElement(yt,{appid:this.state.modalEvent.appid,trackingLocation:8,announcementGID:this.state.modalEvent.GetAnnouncementGID(),partnerEventStore:le.c,eventModel:this.state.modalEvent,showAppHeader:!0,closeModal:this.CloseEventModal}):null),M.createElement(fe.a,null,M.createElement(hr,{ref:this.m_refControlBar,bUserIsLoggedIn:this.state.bUserIsLoggedIn,nDisappearingHeaderVisibleHeight:a,bIsCollapsed:this.state.bControlBarIsCollapsed,bShowUpcoming:this.BShowFutureView(),bShouldIncludeLegalFooter:!Ln(),fnToggleCollapsed:this.ToggleControlBarCollapsed,fnOnFilterChange:this.OnControlBarChange})),M.createElement(fe.a,null,M.createElement("div",{className:Object(x.a)(Mt.a.ReserveControlSpace,!this.state.bControlBarIsCollapsed&&Mt.a.WideLeftGutter)},M.createElement(fe.a,null,0<this.state.nLogInBannerHeight&&M.createElement(Qn,{nTopOffset:n,bLargeMode:this.state.nScrollTop<=0&&!kn()})),M.createElement(fe.a,null,0<this.state.nMobileNavBannerHeight&&M.createElement(Er,{bIsUpcoming:this.BShowFutureView(),nTopOffset:t,fnToggleCollapsed:this.MobileNavOpenSettings}),M.createElement(xn,{nTopOffset:r,bLargeMode:this.state.nScrollTop<=0&&!kn()})),M.createElement(fe.a,null,M.createElement(zn,{bShowFutureViewOnly:this.BShowFutureView(),bShowUpdatesOnly:this.BShowUpdatesOnly(),fnOnEventClick:this.OnEventClicked,fnToggleSeeFuture:this.ToggleFutureView,fnResetFilters:s,nVisibleHeight:this.state.nVisibleHeight,nScrollTop:this.state.nScrollTop,nDisappearingHeaderVisibleHeight:o,bUserIsLoggedIn:Boolean(this.state.bUserIsLoggedIn&&Y.h.accountid)}))))))},e.m_bInitialLoad=!0,Object(z.c)([w.a],e.prototype,"OnResize",null),Object(z.c)([w.a],e.prototype,"OnScroll",null),Object(z.c)([w.a],e.prototype,"MobileNavOpenSettings",null),Object(z.c)([w.a],e.prototype,"ToggleControlBarCollapsed",null),Object(z.c)([w.a],e.prototype,"OnControlBarChange",null),Object(z.c)([w.a],e.prototype,"CloseEventModal",null),Object(z.c)([w.a],e.prototype,"OnEventClicked",null),Object(z.c)([w.a],e.prototype,"ToggleFutureView",null),Object(z.c)([w.a],e.prototype,"ResetAllFilters",null),u=Object(z.c)([i.observer],e)}(M.Component),xn=(Object($.f)(Un),Object(i.observer)(function(e){var r=Object(tt.b)(),t=r.BHasCollectionMetaData(),n=M.useState(!1),i=n[0],a=n[1];if(M.useEffect(function(){t&&!le.c.GetClanEventModel(r.GetCollectionMetaData().clan_event_gid)&&(a(!0),Object(z.b)(void 0,void 0,void 0,function(){var t,n;return Object(z.e)(this,function(e){switch(e.label){case 0:return t=r.GetCollectionMetaData(),n=te.a.InitFromClanID(t.clanid),[4,le.c.LoadPartnerEventFromClanEventGIDAndClanSteamID(n,t.clan_event_gid,0)];case 1:return e.sent(),a(!1),[2]}})}))},[r,t]),r.GetCollectionID()){var o,s,c=void 0,l=void 0;if(!t||i||(o=le.c.GetClanEventModel(r.GetCollectionMetaData().clan_event_gid))&&(c=o.GetImageURLWithFallback("capsule",Object(ge.h)(Y.c.LANGUAGE),re.c.capsule_main),l=o.GetSaleURL()),!(s=function(t,e,n,r){if(!t)return null;var i=Gt().find(function(e){return e.collection===t});return i?i.component(e,n,r):null}(r.GetCollectionID(),e.bLargeMode,c,l)))return null;var u=Object(x.a)(Mt.a.HubBanner,It.a.WideBanner);return M.createElement("div",{style:{transform:"translateY("+e.nTopOffset+"px)"},className:u},s)}if(r.BIsSaleCalendar()){if(!(s=function(e,t){if(!e)return null;var n=le.c.GetClanEventModel(e);if(!n)return null;var r=Object(ge.h)(Y.c.LANGUAGE);return M.createElement(kt,{largeHeader:t,titleToken:n.GetNameWithFallback(r),subtitleToken:n.GetSubTitleWithSummaryFallback(r),headerImg:n.GetImageURLWithFallback("capsule",r,re.c.capsule_main)})}(r.GetSaleID(),e.bLargeMode)))return null;u=Object(x.a)(Mt.a.HubBanner,It.a.WideBanner);return M.createElement("div",{style:{transform:"translateY("+e.nTopOffset+"px)"},className:u},s)}if(r.BIsSingleSourceCalendar()){var p=r.BIsSingleAppCalendar()?r.GetSingleAppID():void 0,d=r.BIsSingleGroupCalendar()?r.GetSingleGroupID():void 0,u=Object(x.a)(Mt.a.HubBanner,It.a.WideBanner,e.bLargeMode&&Mt.a.LargeMode,e.bLargeMode&&It.a.TallBanner);return M.createElement("div",{style:{transform:"translateY("+e.nTopOffset+"px)"},className:u},M.createElement(vt.b,{appId:p,clanId:d,bShowRSSFeed:!0}))}return null})),zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.GetCurrentSectionLayout=function(){var r=0;return Object(tt.b)().GetCalendarSections(this.props.bShowFutureViewOnly).map(function(e){var t=Math.max(r,e.nTopOffset),n=t+e.nRenderedHeight;return r=n,{section:e,nTopOfSection:t}})},t.prototype.GetMergeEventsType=function(){var e=Object(tt.b)(),t=e.GetCollectionID();return e.BIsSingleSourceCalendar()||t===rt.a.Steam?"none":!e.BIsShowingFeaturedFeed()&&t?"samesource":"full"},t.prototype.GetCuratorSuggestionSettings=function(e){if(Y.h.accountid&&N.a.bIsCuratorsEnabled)if(e.BIsGlobalCalendar()&&!this.props.bShowFutureViewOnly){if(e.m_visibilityStore.BIsGameSourceAllowed(nt.c.k_ECurator))return{nInlineOffset:1e3,bInlineDismissable:!0,bShowAtEnd:!0}}else if(e.GetCollectionID()===rt.a.Press)return{nInlineOffset:1e3,bInlineDismissable:!1,bShowAtEnd:!1};return{nInlineOffset:void 0,bInlineDismissable:!1,bShowAtEnd:!1}},t.prototype.render=function(){var m=this,e=Object(tt.b)(),t=this.props,h=t.bShowFutureViewOnly,n=t.bShowUpdatesOnly,f=t.fnOnEventClick,b=t.fnToggleSeeFuture,r=t.fnResetFilters,i=t.nScrollTop,a=t.nDisappearingHeaderVisibleHeight,o=e.GetCalendarSections(h);if(0==o.length)return null;var _=kn(),s=e.m_visibilityStore.BAreAllEventsHidden(),v=i,g=!0,y=this.GetCuratorSuggestionSettings(e),S=void 0,c=s?[]:this.GetCurrentSectionLayout().map(function(e,t){var n=e.section,r=e.nTopOfSection,i=n.strId,a=n.strSectionLabel,o=n.rtSectionStart,s=n.rtSectionEnd,c=n.bIsFutureSection,l=n.nRenderedHeight,u=r<v,p=Object(x.a)(Mt.a.PastSection,g&&Mt.a.DarkerBackground);0<l&&(g=!g,void 0!==y.nInlineOffset&&r>=y.nInlineOffset&&void 0===S&&(S=t));var d=!h&&c;return M.createElement(De.a,{key:i,className:Mt.a.LazyCalendarSectionCtn,placeholderHeight:l,rootMargin:"100% 0px 100% 0px"},M.createElement(qn,{bRenderStickyHeader:u,strSectionLabel:a,rtSectionStart:o,rtSectionEnd:s,strSectionClassname:p,bUseHorizontalLayout:d,fnOnSeeFutureClick:b,bShowEarliestFirst:h||d,section:n,fnOnEventClick:f,bSuppressHoverEffects:_,strMergeEvents:m.GetMergeEventsType()}))});void 0!==S&&c.splice(S,0,M.createElement(Rt,{key:"CuratorSuggestions",bCanDismiss:y.bInlineDismissable})),e.GetCollectionID()===rt.a.Press&&c.splice(0,0,M.createElement(Dn,{key:"LanguageFeedRow"}));var l=o[0].rtSectionStart,u=Object(tt.b)().GetCurrentlyLoadedEventCount(0,l),p=Object(tt.b)().GetCurrentlyLoadedEventCount(l),d=u&&(u.nCount?"#EventCalendar_NoMorePastEvents":"#EventCalendar_NoPastEvents"),w=r&&M.createElement(Me.d,{key:"link-back",toolTipContent:Object(V.f)("#EventCalendar_ResetFilters_ttip"),className:Object(x.a)(Mt.a.BackToThePast,Mt.a.NoCount),onClick:r},Object(V.f)("#EventCalendar_ResetFiltersButton"));s&&this.props.fnResetFilters?d="#EventCalendar_EmptyCalendar":h?(d=p&&(p.nCount?"#EventCalendar_NoMoreFutureEvents":"#EventCalendar_NoFutureEvents"),w=u&&M.createElement("div",{key:"link-back",className:Mt.a.BackToThePast,onClick:b},Object(V.f)("#EventCalendar_PastEventsLink"),M.createElement("span",{className:Mt.a.SeeAllCount},u.nCount+(u.bIsComplete?"":"+")))):n&&(d=u&&(u.nCount?"#EventCalendar_NoMorePastUpdates":"#EventCalendar_NoPastUpdates"));var C=null;return(s||e.BHitEventHorizon(h?"forward":"backward"))&&(C=M.createElement(M.Fragment,null,M.createElement("div",{key:"no-more-events",className:Object(x.a)(Mt.a.EndOfRows,Mt.a.CalendarRow)},M.createElement("div",{className:Mt.a.NoMoreRows}," ",Object(V.f)(d)," ")),y.bShowAtEnd&&M.createElement(Rt,{key:"CuratorSuggestions",bCanDismiss:!1}),w)),M.createElement("div",{className:Mt.a.RowContainer,style:{transform:"translateY("+(a-1)+"px)"}},M.createElement("div",{className:Mt.a.Rows},n&&M.createElement("div",{className:Mt.a.UpdatePageBanner},Object(V.f)("#EventCalendar_UpdatesViewHeader")),c,C))},Object(z.c)([i.observer],t)}(M.Component),Hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e=this.props.rgCalendarItems[0].start_time,t=Object(tt.b)().GetCurrentlyLoadedEventCount(e);return this.props.rgCalendarItems.length<=1?null:M.createElement("div",{key:"see-all-link",className:Mt.a.MobileSeeAllink,onClick:this.props.fnOnSeeFutureClick},Object(V.f)("#EventCalendar_FutureEventsLink"),M.createElement("span",{className:Mt.a.SeeAllCount},t.nCount+(t.bIsComplete?"":"+")))},Object(z.c)([i.observer],t)}(M.Component),Wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.rgCalendarItems,n=e.fnOnEventClick,r=e.fnOnSeeFutureClick,i=e.bSuppressHoverEffects;return t&&0!=t.length?M.createElement("div",{className:Mt.a.CalendarRow},M.createElement("div",{className:Object(x.a)(Mt.a.HorizontalTileContainer,"HorizontalTileCtn")},M.createElement("div",{className:Mt.a.HorizontalTiles},t.map(function(e){return M.createElement(un,{key:"ht-"+e.unique_id,calendarEvent:e,partnerEventStore:le.c,fnOnClicked:n,bSuppressHoverEffects:i,mode:1<t.length?"upcoming":"wide",bHideGameTitle:Object(tt.b)().BIsSingleSourceCalendar()&&Object(tt.b)().BEventMatchCalendarSingleSource(e)})})),M.createElement(Hn,{rgCalendarItems:t,fnOnSeeFutureClick:r}))):null},Object(z.c)([i.observer],t)}(M.Component),Vn=Object(i.observer)(function(e){var t=e.calendarItem,n=e.bSuppressHoverEffects,r=le.c.GetClanEventModel(t.unique_id);return r?M.createElement("div",{className:Mt.a.EventListTitle},M.createElement(rn,{eventModel:r,calendarEvent:t,bSuppressHoverEffects:n})):null});(Gn=Pn=Pn||{})[Gn.eCurators=1]="eCurators";var qn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_ref=M.createRef(),e}var s;return Object(z.d)(e,t),(s=e).prototype.componentDidMount=function(){this.UpdatePositioning()},e.prototype.componentDidUpdate=function(){this.UpdatePositioning()},e.prototype.UpdatePositioning=function(){var r=this;this.m_ref.current&&Object(oe.runInAction)(function(){var e=r.props.section,t=r.m_ref.current.getBoundingClientRect().height;e.nRenderedHeight!=t&&(e.nRenderedHeight=t);var n=r.m_ref.current.offsetTop;e.nTopOffset!=n&&(e.nTopOffset=n)})},Object.defineProperty(e.prototype,"cachedCalendarItems",{get:function(){var e=this;return Object(tt.b)().GetCalendarItemsInTimeRange(Object(Et.b)(function(){return e.props.rtSectionStart}),Object(Et.b)(function(){return e.props.rtSectionEnd}))},enumerable:!1,configurable:!0}),e.prototype.GetCarouselGroupTitle=function(e){return e.BIsShowingFeaturedFeed()?Object(V.f)("#EventCalendar_GroupTitle_FeaturedCurators"):e.BIsGlobalCalendar()?Object(V.f)("#EventCalendar_GroupTitle_Curators"):""},e.prototype.GenerateKeyFromItem=function(e,t){return t.GetSource()&Bt.a.k_eSteam||t.appid||"full"!==e?t.clanid:Pn.eCurators},e.IsTimestampInRange=function(e,t,n){return Boolean(e)&&t<e&&e<=n},e.prototype.GetTimestampEvents=function(e){var t=new Array;return t},e.prototype.AddTimestampEventsInInterval=function(e,t,n,r){for(var i=0,a=e;i<a.length;i++){var o=a[i];s.IsTimestampInRange(o.rtTime,t,n)&&r.push(o.component)}},e.prototype.RenderEventList=function(e){var t=this.props,o=t.fnOnEventClick,s=t.bSuppressHoverEffects,c=t.strMergeEvents,l=Object(tt.b)(),u=null;if("none"!==c){u=new Map;for(var n=0,r=e;n<r.length;n++){var i,a=r[n],p=this.GenerateKeyFromItem(c,a),d=u.get(p);d?d.push(a):((i=new Array).push(a),u.set(p,i))}}for(var m=new Array,h=new Array,f="full"===c?h:m,b=this.GetTimestampEvents(l),_=this.props.bShowEarliestFirst?this.props.rtSectionStart:this.props.rtSectionEnd,v=this,g=0,y=e;g<y.length;g++){!function(t){var e=m;if(u){var n=v.GenerateKeyFromItem(c,t),r=u.get(n);if(!r)return;if(n===Pn.eCurators&&(e=f),3<=r.length){var i=n===Pn.eCurators?v.GetCarouselGroupTitle(l):"",a=!r.find(function(e){return e.clanid!=t.clanid});return r.sort(function(e,t){return t.score!=e.score?t.score-e.score:t.start_time-e.start_time}),e.push(M.createElement("div",{key:t.unique_id,className:Mt.a.CalendarEventListRow},M.createElement("div",{className:Mt.a.CalendarEventListContainer},M.createElement(wn,{key:t.unique_id,rgCalendarItems:r,bSuppressHoverEffects:s,fnOnEventClick:o,bHideGameTitle:a,strMultipleSourceTitle:i})))),u.delete(n)}}e===m&&(v.AddTimestampEventsInInterval(b,Math.min(_,t.start_time),Math.max(_,t.start_time),m),_=t.start_time),e.push(M.createElement("div",{key:t.unique_id,className:Mt.a.CalendarRow},M.createElement(un,{calendarEvent:t,partnerEventStore:le.c,mode:"wide",fnOnClicked:o,bSuppressHoverEffects:s,bHideGameTitle:l.BIsSingleSourceCalendar()&&l.BEventMatchCalendarSingleSource(t)})))}(a=y[g])}return this.props.bShowEarliestFirst?this.AddTimestampEventsInInterval(b,_,this.props.rtSectionEnd,m):this.AddTimestampEventsInInterval(b,this.props.rtSectionStart,_,m),m.push.apply(m,h),m},e.prototype.render=function(){var e=this.props,t=e.bRenderStickyHeader,n=e.strSectionLabel,r=e.strSectionClassname,i=e.bUseHorizontalLayout,a=e.fnOnSeeFutureClick,o=e.bShowEarliestFirst,s=e.fnOnEventClick,c=e.bSuppressHoverEffects,l=this.cachedCalendarItems,u=l.rgCalendarItems,p=l.bIsComplete;if(0==u.length&&p)return M.createElement("div",{ref:this.m_ref,className:r});u.length&&o&&(u=u.slice().reverse());var d=null;0<u.length&&(d=M.createElement("div",{className:Object(x.a)(Mt.a.GroupHeader,Mt.a.CalendarRow,t&&Mt.a.HeaderAtTop)},M.createElement("div",{className:Mt.a.GroupHeaderTitle},M.createElement("span",null,n),M.createElement("div",{className:Mt.a.GroupHeaderLine}),i&&3<u.length&&M.createElement("div",{className:Mt.a.SeeAllLink,onClick:a},Object(V.f)("#EventCalendar_FutureEventsLink"),M.createElement("span",{className:Mt.a.SeeAllCount},u.length+(p?"":"+"))))));var m=null;return(!N.a.bRequireAllEventsLoadedInTimeBlock||p||i&&3<=u.length)&&(m=i?M.createElement(Wn,{rgCalendarItems:u.slice(0,3),fnOnEventClick:s,fnOnSeeFutureClick:a,bSuppressHoverEffects:c}):this.RenderEventList(u)),M.createElement("div",{ref:this.m_ref,className:r},d,m,!p&&!i&&M.createElement(Yn,{bShowEarliestFirst:this.props.bShowEarliestFirst}))},Object(z.c)([oe.computed],e.prototype,"cachedCalendarItems",null),s=Object(z.c)([i.observer],e)}(M.Component),Yn=function(e){var t=Object(tt.b)().GetTimeEdgeForDirection(e.bShowEarliestFirst?"forward":"backward",void 0);return M.createElement("div",{className:Mt.a.Loading},M.createElement(G.a,{size:"xlarge",position:"center"}),t&&M.createElement(M.Fragment,null,M.createElement("div",{className:Mt.a.LoadingProgress},Object(V.f)("#EventCalendar_LoadEventsProgress",Number(Object(tt.b)().GetNumEventsLoaded()).toLocaleString(),Object(V.g)(t))),M.createElement("div",{className:Mt.a.AdjustFiltersText},Object(V.f)("#EventCalendar_LoadEventsFilters"))))},Qn=function(e){return M.createElement("div",{className:Object(x.a)(Mt.a.LogInFeedRow,!e.bLargeMode&&Mt.a.LogInSmallMode),style:{transform:"translateY("+e.nTopOffset+"px)"}},M.createElement("div",{className:Mt.a.PromptCtn},M.createElement("div",{className:Mt.a.LogInFeedTitle},Object(V.f)("#EventCalendar_SignIn_Title")),M.createElement("button",{onClick:g.a,className:Mt.a.LogInButton},Object(V.f)("#Login_SignIn")),M.createElement("div",{className:Mt.a.LogInFeedText},Object(V.f)("#EventCalendar_SignIn_Text"))))},Zn=n("wd/R"),Kn=n.n(Zn),Jn=function(){function e(){this.m_dateLoadTime=N.a.GetTimeNowWithOverrideAsDate()}return e.prototype.IsCurrentlyVisible=function(e){return(!e.startVisible||e.startVisible<=this.m_dateLoadTime)&&(!e.endVisible||e.endVisible>=this.m_dateLoadTime)},e.IsCurrentlyActive=function(e){var t=N.a.GetTimeNowWithOverrideAsDate();return(!e.startEvent||e.startEvent<=t)&&(!e.endEvent||e.endEvent>=t)},e.LocalizeDateString=function(e){if(!e.startEvent)return null;var t=e.startEvent.toLocaleDateString(V.e.GetPreferredLocales(),{month:"long",day:"numeric"});if(!e.endEvent)return t;var n={month:e.startEvent.getMonth()!=e.endEvent.getMonth()?"long":void 0,day:"numeric"};return t+" - "+e.endEvent.toLocaleDateString(V.e.GetPreferredLocales(),n)},e.prototype.GetVisibleSpecialEvents=function(){var t=this;return[{sLocToken:"#NewsHubSpecialEvent_GameFestival",startVisible:new Date(1e3*Kn()("2020-06-16T14:00:00-07:00").unix()),endVisible:new Date(1e3*Kn()("2020-06-22T10:00:00-07:00").unix()),startEvent:new Date(1e3*Kn()("2020-06-16T10:00:00-07:00").unix()),endEvent:new Date(1e3*Kn()("2020-06-22T10:00:00-07:00").unix()),newshubUrl:"news/collection/GameFestival2020"}].filter(function(e){return t.IsCurrentlyVisible(e)})},e}(),Xn=new Jn,$n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e=this.props.specialEvent,t=window.location.href===Y.c.STORE_BASE_URL+e.newshubUrl,n=Jn.IsCurrentlyActive(e),r=Jn.LocalizeDateString(e);return M.createElement($e.a,{to:"/"+e.newshubUrl},M.createElement("div",{className:Object(x.a)(Mt.a.SpecialEvent,t&&Mt.a.SpecialEventOnPage,n&&Mt.a.SpecialEventActive)},M.createElement("div",{className:Mt.a.SpecialEventTitle},Object(V.f)(e.sLocToken)),r&&M.createElement("div",{className:Mt.a.SpecialEventTime},r)))},t}(M.Component),er=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e=Xn.GetVisibleSpecialEvents();return 0===e.length?null:M.createElement("div",{className:Mt.a.SpecialEventListGroup},M.createElement("div",{className:Mt.a.SpecialEventListTitle},Object(V.f)("#Events_SpecialEvents")),M.createElement("div",{className:Mt.a.SpecialEventList},e.map(function(e){return M.createElement($n,{key:e.sLocToken,specialEvent:e})})))},t}(M.Component),tr=n("xLK1"),nr=n.n(tr),rr=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bInScroll:!1,nStartXPos:0,nStartScrollLeft:0},e.m_hSlider=M.createRef(),e}return Object(z.d)(o,t),o.prototype.OnPointerDown=function(e){var t=this.m_hSlider.current;t&&(t.scrollWidth<=t.clientWidth||(this.setState({bInScroll:!1,nStartXPos:e.pageX-t.offsetLeft,nStartScrollLeft:t.scrollLeft}),t.addEventListener("pointerup",this.OnPointerUp),t.addEventListener("pointerleave",this.OnPointerUp),t.addEventListener("pointercapturelost",this.OnPointerUp),t.addEventListener("pointermove",this.OnPointerMove)))},o.prototype.OnPointerUp=function(e){var t=this.m_hSlider.current;t&&(this.state.bInScroll&&(t.releasePointerCapture(e.pointerId),document.body.classList.remove(nr.a.HorizontalScrollInDragForceCursor),this.props.dragClassName&&t.classList.remove(this.props.dragClassName)),t.removeEventListener("pointerup",this.OnPointerUp),t.removeEventListener("pointerleave",this.OnPointerUp),t.removeEventListener("pointercapturelost",this.OnPointerUp),t.removeEventListener("pointermove",this.OnPointerMove))},o.prototype.OnPointerMove=function(e){var t,n,r,i,a=this.m_hSlider.current;a&&(e.preventDefault(),t=(e.pageX-a.offsetLeft-this.state.nStartXPos)*(this.props.scrollMultiplier||o.knDefaultScrollMultiplier),n=this.state.nStartScrollLeft-t,r=Math.abs(n-this.state.nStartScrollLeft),i=this.props.minDragPixels||o.knDefaultMinDragPixels,!this.state.bInScroll&&i<=r&&(a.scrollLeft=n,this.setState({bInScroll:!0}),document.body.classList.add(nr.a.HorizontalScrollInDragForceCursor),this.props.dragClassName&&a.classList.add(this.props.dragClassName),a.setPointerCapture(e.pointerId)),this.state.bInScroll&&(a.scrollLeft=n))},o.prototype.render=function(){return M.createElement("div",{ref:this.m_hSlider,className:this.props.className,onPointerDown:this.OnPointerDown},this.props.children)},o.knDefaultScrollMultiplier=1,o.knDefaultMinDragPixels=20,Object(z.c)([w.a],o.prototype,"OnPointerDown",null),Object(z.c)([w.a],o.prototype,"OnPointerUp",null),Object(z.c)([w.a],o.prototype,"OnPointerMove",null),o}(M.Component),ir=n("lT8z"),ar=n.n(ir);function or(){return Object(V.k)(new Date)}function sr(e){var t=Y.c.PUBLIC_SHARED_URL+"images/";return M.createElement("div",{className:ar.a.LegalFooter},M.createElement("div",{className:ar.a.mainmenu_links_china},M.createElement("a",{href:Y.c.STORE_BASE_URL+"about"},"关于蒸汽平台"),"  |  ",M.createElement("a",{href:Y.c.STORE_BASE_URL+"steam_refunds"},"退款政策"),"  |  ",M.createElement("a",{href:Y.c.STORE_BASE_URL+"subscriber_agreement"},"软件许可服务协议"),"  |  ",M.createElement("br",null),M.createElement("a",{href:Y.c.STORE_BASE_URL+"privacy_agreement"},"个人信息保护政策"),"  |  ",M.createElement("a",{href:"https://about.steamchina.com/content_report.html",target:"_blank",rel:"noreferrer"},"不良内容举报投诉"),"  |  ",M.createElement("a",{href:"https://about.steamchina.com/infringement_report.html",target:"_blank",rel:"noreferrer"},"侵权投诉"),"  |  ",M.createElement("a",{href:"http://www.wanmei.com/jiazhang/index.htm",target:"_blank",rel:"noreferrer"},"家长监护")),M.createElement("div",{className:ar.a.mainmenu_line}),M.createElement("div",{className:ar.a.mainmenu_logos_china},M.createElement("a",{href:"https://www.wanmei.com/",target:"_blank",rel:"noreferrer"},M.createElement("img",{className:ar.a.mainmenu_china_pw_logo,src:t+"footer/pw_logo_gy.svg?v=1"})),M.createElement("a",{href:"https://valvesoftware.com",target:"_blank",rel:"noreferrer"},M.createElement("img",{className:ar.a.mainmenu_china_valve_logo,src:t+"footer/valve_logo_gy.svg?v=1"}))),M.createElement("div",{className:ar.a.mainmenu_legal_china},M.createElement("div",{className:ar.a.mainmenu_legal_valvelegal},"© "+or()+" Valve Corporation 版权所有，完美世界已获授权",M.createElement("br",null),"所有商标均属于其在美国或其他国家的拥有者。"),M.createElement("div",{className:ar.a.mainmenu_legal_pwlegal},"© 完美世界 版权所有。",M.createElement("br",null),"增值电信业务经营许可证沪B2-20180406")))}function cr(e){return M.createElement("div",{className:ar.a.LegalFooter},M.createElement("img",{src:Y.c.STORE_CDN_URL+"public/images/footerLogo_valve_new.png"}),M.createElement("div",{className:ar.a.FooterLegal},Object(V.f)("#Legal_Footer_WithYear",or())))}function lr(e){return Y.c.EREALM===b.p.k_ESteamRealmChina?M.createElement(sr,null):M.createElement(cr,null)}function ur(e){var t=e.strLabNumber,n=e.strForumURL,r=Y.c.STORE_BASE_URL+"labs";return M.createElement("div",{className:Mt.a.SideSteamLabsBannerCtn},M.createElement("div",{className:Mt.a.SteamLabsIdentifiers},M.createElement("a",{className:Mt.a.SteamLabsName,href:r,target:Y.c.IN_CLIENT?void 0:"_blank"},Object(V.f)("#SteamLabs")),M.createElement("div",{className:Mt.a.SteamLabsNumber},Object(V.f)("#SteamLabs_ExperimentNumber",t))),M.createElement("a",{className:Mt.a.SteamLabsButton,href:n,target:Y.c.IN_CLIENT?void 0:"_blank"},M.createElement(P.m,null)))}var pr=function(){function t(){this.m_curDisplay="desktop_navigation",this.m_fnGetRouterHistory=void 0}return t.Get=function(){return t.s_GlobalStore||(t.s_GlobalStore=new t),t.s_GlobalStore},t.prototype.UpdateLocation=function(e,t){this.m_fnGetRouterHistory=e;var n=En(t,"optionpane");if(n)switch(n){case"event_filter":case"browse_curator":case"desktop_navigation":this.m_curDisplay!=n&&(this.m_curDisplay=n)}else"desktop_navigation"!=this.m_curDisplay&&(this.m_curDisplay="desktop_navigation");return this.m_curDisplay},t.prototype.SetDisplay=function(e){this.m_curDisplay=e,this.m_fnGetRouterHistory&&An(this.m_fnGetRouterHistory(),"optionpane","desktop_navigation"==this.m_curDisplay?void 0:this.m_curDisplay)},t.prototype.GetDisplay=function(){return this.m_curDisplay},t.prototype.ShowBrowseCurator=function(e){Ln()?t.Get().SetDisplay("browse_curator"):Object(F.d)(M.createElement(ut,null),Object(Ce.n)(e))},Object(z.c)([oe.observable],t.prototype,"m_curDisplay",void 0),t}(),dr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.GetVisibilityStore=function(){return Object(tt.b)().m_visibilityStore},t.prototype.OnEventTypeChange=function(e,t){this.GetVisibilityStore().SetEventTypeGroupAllowed(e,t),this.props.fnOnFilterChange()},t.prototype.RenderEventTypeCheckbox=function(t){var n=this,e=this.GetVisibilityStore().BIsEventTypeGroupAllowed(t);return M.createElement(Me.d,{key:"group-"+t,toolTipContent:Object(V.f)("#EventCalendar_EventTypeGroup_ttip_"+t),direction:"top"},M.createElement("div",{className:Object(x.a)(Mt.a.FilterOption,Mt.a.FilterEventType)},M.createElement(be.e,{label:Object(V.f)("#EventCalendar_EventTypeGroup_"+t),checked:e,onChange:function(e){return n.OnEventTypeChange(t,e)}})))},t.prototype.OnGameSourceChange=function(e,t){this.GetVisibilityStore().SetGameSourceAllowed(e,t),this.props.fnOnFilterChange()},t.prototype.RenderGameSourceCheckbox=function(t,e){var n=this,r=this.GetVisibilityStore().BIsGameSourceAllowed(t)||t==nt.c.k_ELibrary&&this.GetVisibilityStore().BIsGameSourceAllowed(nt.c.k_ERecent);return M.createElement(Me.d,{key:"gs-"+t,direction:"top",toolTipContent:e?Object(V.f)("#EventCalendar_DisabledFilter_LoginPrompt"):Object(V.f)("#EventCalendar_GameSource_ttip_"+t)},M.createElement("div",{className:Object(x.a)(Mt.a.FilterOption,Mt.a.FilterGameSource)},M.createElement(be.e,{label:Object(V.f)("#EventCalendar_GameSource_"+t),checked:r,disabled:e,onChange:function(e){return n.OnGameSourceChange(t,e)}})))},t.prototype.render=function(){var e,t=this.props.bUserIsLoggedIn,n=Object(tt.b)(),r=!0;n.BIsSingleGroupCalendar()?(e=et.a.GetClanInfoByClanAccountID(n.GetSingleGroupID()))&&e.has_rss_feed&&(r=!1):!n.BIsCollectionCalendar()||n.GetKey().collectionid!=rt.a.Press&&n.GetKey().collectionid!=rt.a.Dev_Sales&&n.GetKey().collectionid!=rt.a.Dev_AssociatedPress||(r=!1);var i=it.a.Get().GetMutedSourceCount(),a=n.BIsSingleSourceMuted()||!n.BIsSingleSourceCalendar()&&0<i;return M.createElement(mr,{title:Object(V.f)("#EventCalendar_FiltersTitle"),description:Object(V.f)(n.BIsGlobalCalendar()?"#EventCalendar_FiltersDescription":"#EventCalendar_FiltersDescription_NonPersonalized")},M.createElement("div",{className:Mt.a.FilterSection},r&&M.createElement("div",{className:Mt.a.FilterSubSection},M.createElement("div",{className:Mt.a.FilterSubSectionTitle},Object(V.f)("#EventCalendar_FilterSubSection_EventTypeGroups")),this.RenderEventTypeCheckbox(nt.b.k_EEvents),this.RenderEventTypeCheckbox(nt.b.k_EStreaming),this.RenderEventTypeCheckbox(nt.b.k_EUpdates),this.RenderEventTypeCheckbox(nt.b.k_EReleases),this.RenderEventTypeCheckbox(nt.b.k_ESales),this.RenderEventTypeCheckbox(nt.b.k_ENews)),Boolean(n.BIsGlobalCalendar())&&M.createElement("div",{className:Mt.a.FilterSubSection},M.createElement("div",{className:Mt.a.FilterSubSectionTitle},Object(V.f)("#EventCalendar_FilterSubSection_GameSources")),this.RenderGameSourceCheckbox(nt.c.k_ELibrary,!t),M.createElement("div",{className:Mt.a.FilterSubOption},this.RenderGameSourceCheckbox(nt.c.k_ERecent,!t)),this.RenderGameSourceCheckbox(nt.c.k_EWishlist,!t),N.a.bIsFollowingEnabled&&this.RenderGameSourceCheckbox(nt.c.k_EFollowing,!t),this.RenderGameSourceCheckbox(nt.c.k_ERecommended,!t),this.RenderGameSourceCheckbox(nt.c.k_ESteam),N.a.bIncludeFeaturedAsGameSource&&this.RenderGameSourceCheckbox(nt.c.k_EFeatured)),Boolean(N.a.bIsCuratorsEnabled&&(n.BIsGlobalCalendar()||n.BIsSingleAppCalendar()))&&M.createElement("div",{className:Mt.a.FilterSubSection},M.createElement("div",{className:Mt.a.FilterSubSectionTitle},Object(V.f)("#EventCalendar_FilterSubSection_CuratorSources")),this.RenderGameSourceCheckbox(nt.c.k_ECurator,!t),M.createElement("div",{className:Mt.a.FilterLink,onClick:pr.Get().ShowBrowseCurator},Object(V.f)("#EventCalendar_BrowseCurators"))),Boolean(n.BIsSingleSourceMuted())&&M.createElement("div",null,Object(V.f)(n.BIsSingleGroupCalendar()?"#EventCalendar_SingleGroupIsMuted":"#EventCalendar_SingleAppIsMuted"))),M.createElement("div",{className:Mt.a.SideBarFilterNavLinks},a&&M.createElement(U.a,{className:Mt.a.MutedSourcesGroup,href:Y.c.STORE_BASE_URL+"account/emailoptout/app",bDisableContextMenu:!0},M.createElement("div",{className:Mt.a.FilterLink},M.createElement(P.Eb,{muted:!0}),Object(V.f)("#EventCalendar_ManageMutedSources"),M.createElement("div",{className:Mt.a.NumberDisplay},i))),M.createElement(U.a,{href:Y.c.STORE_BASE_URL+"account/preferences",bDisableContextMenu:!0},M.createElement("div",{className:Mt.a.FilterLink},M.createElement(P.b,null),Object(V.f)("#EventCalendar_ManageStorePref")))))},Object(z.c)([i.observer],t)}(M.Component),mr=function(e){return M.createElement("div",{className:Mt.a.FilterControlPage},M.createElement("div",{className:Mt.a.FiltersTitle},e.title),Boolean(e.description)&&M.createElement("div",{className:Mt.a.FiltersDescription},e.description),e.children)},hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.OpenFilterSettings=function(e){pr.Get().SetDisplay(e?"event_filter":"desktop_navigation")},t.prototype.render=function(){var e,t=this,n=this.props,r=n.bUserIsLoggedIn,i=n.nDisappearingHeaderVisibleHeight,a=n.bIsCollapsed,o=n.fnToggleCollapsed,s=n.fnOnFilterChange,c=Ln(),l=M.createElement("div",{className:Mt.a.MobileCloseButton,onClick:function(){t.OpenFilterSettings(!1),o()}},M.createElement(P.ob,null)),u=a?Math.max(0,i):0,p=c?null:M.createElement("div",{onClick:o,className:Mt.a.CollapseButton},M.createElement("div",{style:{marginTop:u+"px"},className:Mt.a.DesktopButton},M.createElement(P.v,{angle:a?180:0}))),d=c?null:M.createElement("div",{onClick:function(){return t.OpenFilterSettings(!1)},className:Mt.a.CollapseButton},M.createElement("div",{style:{marginTop:u+"px"},className:Mt.a.DesktopButton},M.createElement(P.ob,null))),m="desktop_navigation"!=pr.Get().GetDisplay()?d:p,h=a?null:{top:i+"px"};Object(tt.b)();switch(pr.Get().GetDisplay()){case"event_filter":e=M.createElement(dr,{bUserIsLoggedIn:r,fnOnFilterChange:s});break;case"browse_curator":e=M.createElement(pt,null);break;case"desktop_navigation":e=M.createElement(fr,Object(z.a)({},this.props,{fnOpenFilterSettings:this.OpenFilterSettings}))}return M.createElement(M.Fragment,null,M.createElement("div",{className:Object(x.a)(Mt.a.SidebarContainer,a&&Mt.a.SidebarCollapsed),style:h},a?m:M.createElement("div",{className:Mt.a.Sidebar},l,m,M.createElement("div",{className:Mt.a.ControlPageContainer},e))))},Object(z.c)([w.a],t.prototype,"OpenFilterSettings",null),Object(z.c)([i.observer],t)}(M.Component),fr=Object(i.observer)(function(e){var t=e.bShouldIncludeLegalFooter,n=e.bShowUpcoming,r="Responsive_RequestMobileView"in window&&window.Responsive_RequestMobileView;return M.createElement(M.Fragment,null,M.createElement("div",{className:Mt.a.SidebarBackground},M.createElement(P.rb,null)),M.createElement("div",{className:Mt.a.SidebarTitle},Object(V.o)("#EventCalendar_Title",M.createElement("br",null))),M.createElement(Br,{bIsUpcoming:n}),M.createElement(er,null),M.createElement("div",{className:Mt.a.SidePanelGameSearch},M.createElement(br,{label:Object(V.f)("#EventCalendar_UniversalSearch")})),M.createElement(Ar,{bIsUpcoming:n}),M.createElement("div",{className:Mt.a.FilterSettingsCtn},M.createElement("div",{className:Object(x.a)(Mt.a.FilterLink,Mt.a.OpenFilterSettings),onClick:function(){return e.fnOpenFilterSettings(!0)}},M.createElement(P.lb,null),Object(V.f)("#EventCalendar_EditFilters"))),r&&M.createElement("div",{className:Object(x.a)(Mt.a.SidebarLink,Mt.a.ForceResponsiveLink),onClick:r},Object(V.f)("#EventCalendar_ShowResponsiveView")),t&&M.createElement(lr,null))}),br=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.DecorateSearchSuggestion=function(e,t){if(e&&e.id){var n="";return"curators"==e.corpus?n="group/"+e.id:"games"==e.corpus&&(Object(Le.a)(Object(b.f)(e.type),"Unexpected app type "+e.type),n="app/"+e.id),M.createElement($e.a,{key:"suggestion-"+e.id,to:"/"+Object(we.f)()+"/"+n+"/"},t)}return t},t.prototype.render=function(){return M.createElement(dt,{strLabel:this.props.label,fnOnSelected:function(){},fnDecorateSuggestion:this.DecorateSearchSuggestion,rgCorporaToSearch:["games","curators"],focusOnMount:this.props.focusOnMount})},Object(z.c)([i.observer],t)}(M.Component);function _r(e,t){var n=Object(rt.b)(e);if(Object(Le.a)(!!n,"Must define collection "+e),!n)return null;var r=Object(tt.b)().GetCollectionID()==e,i=void 0;switch(e){case rt.a.Default:r=Object(tt.b)().BIsGlobalCalendar()&&!t;break;case rt.a.Upcoming:r=Object(tt.b)().BIsGlobalCalendar()&&t,i=function(){if(Object(tt.b)().BIsGlobalCalendar()&&Y.h.logged_in){var e=Object(tt.b)().GetStoreInitializationTimestamp().getTime()/1e3,t=Object(tt.b)().GetCurrentlyLoadedEventCount(e);if(t)return Object(tt.b)().BHitEventHorizon("forward")?String(t.nCount):t.nCount+"+"}}()}return{name:n.strName,shortName:n.strShortName,key:e,url:n.strUrl,subtitle:n.strSubtitle,onPage:r,count:i,bValveOnly:n.bIsValveOnly}}function vr(e){var t=new Array;return t.push(_r(rt.a.Default,e)),t.push(_r(rt.a.Upcoming,e)),t}function gr(e){var t=new Array;return t.push(_r(rt.a.Featured,e)),t.push(_r(rt.a.Steam,e)),t}function yr(e,t){Object(tt.b)().BIsCollectionCalendar(),Object(we.f)();var n=new Array;if(N.a.bIsCuratorsEnabled&&n.push(_r(rt.a.Press,e)),t)for(var r=0,i=Xn.GetVisibleSpecialEvents();r<i.length;r++){var a=i[r];n.push({name:Object(V.f)(a.sLocToken),url:a.newshubUrl,onPage:!1,key:"event_"+a.sLocToken})}return Y.h.is_support&&(n.push(_r(rt.a.Dev_All,e)),n.push(_r(rt.a.Dev_Sales,e)),n.push(_r(rt.a.Dev_AssociatedPress,e))),n}function Sr(e){var t=e.element,n=t.shortName,r=t.name,i=t.url,a=t.onPage,o=t.count,s=t.bValveOnly;return!Y.h.is_support&&s?null:M.createElement($e.a,{to:"/"+i},M.createElement("div",{className:Object(x.a)(Mt.a.MobileNavButton,a&&Mt.a.MobileNavButtonActive)},n||r,o&&M.createElement("div",{className:Mt.a.MobileNavCount},o)))}function wr(e){var t=e.element,n=(t.key,t.name),r=t.subtitle,i=t.url,a=t.onPage,o=t.count,s=t.bValveOnly,c=t.icon;return!Y.h.is_support&&s?null:M.createElement($e.a,{to:"/"+i},M.createElement("div",{className:Object(x.a)(Mt.a.NewsChannel,a&&Mt.a.NewsChannelOnPage,s&&C.a.ValveOnlyBackground)},Boolean(c)&&M.createElement("img",{className:Object(x.a)(Mt.a.NewsChannelIcon),src:c}),M.createElement("div",{className:Mt.a.NewsChannelText},M.createElement("div",{className:Mt.a.NewsChannelTitle},s&&"(VO) ",n),r&&M.createElement("div",{className:Mt.a.NewsChannelSubtitle},r)),Boolean(void 0!==o)&&M.createElement("div",{className:Mt.a.NewsChannelCount},o)))}function Cr(){return window.innerWidth<parseInt(Ir.strWidescreenWidth)}function Or(e){return{color:e.label_color}}var Er=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bSearchExpanded:!1},e}return Object(z.d)(e,t),e.prototype.onExpandSearch=function(e){this.setState({bSearchExpanded:e})},e.prototype.render=function(){var e=this,t=this.state.bSearchExpanded,n=vr(this.props.bIsUpcoming),r=gr(this.props.bIsUpcoming),i=yr(this.props.bIsUpcoming,!1),a=Object(z.g)(n,r,i);return M.createElement("div",{style:{transform:"translateY("+this.props.nTopOffset+"px)"},className:Mt.a.MobileNavBannerCtn},M.createElement("div",{className:Mt.a.SettingsPanel,onClick:this.props.fnToggleCollapsed},M.createElement(P.lb,null)),M.createElement("div",{className:Object(x.a)(Mt.a.SettingsPanel,t&&Mt.a.SearchExpanded),onClick:function(){return e.onExpandSearch(!t)}},M.createElement(P.R,null)),t&&M.createElement(M.Fragment,null,M.createElement("div",{className:Mt.a.SearchDismiss,onClick:function(){return e.onExpandSearch(!1)}}),M.createElement("div",{className:Object(x.a)(Mt.a.SearchBox,t&&Mt.a.SearchExpanded)},M.createElement(br,{focusOnMount:!0}))),M.createElement(rr,{className:Mt.a.MobileNavHScroll},M.createElement("div",{className:Mt.a.MobileNavBannerList},a.map(function(e){return M.createElement(Sr,{key:e.key,element:e})}))))},Object(z.c)([w.a],e.prototype,"onExpandSearch",null),Object(z.c)([i.observer],e)}(M.Component),Br=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e=vr(this.props.bIsUpcoming),t=gr(this.props.bIsUpcoming);return M.createElement("div",{className:Mt.a.NewsChannelGroup},M.createElement("div",{className:Mt.a.NewsChannelListTitle},Object(V.f)("#EventCalendar_NewsChannels")),M.createElement("div",{className:Mt.a.NewsChannelList},e.map(function(e){return M.createElement(wr,{key:e.key,element:e})})),M.createElement("div",{className:Mt.a.NewsChannelListTitle},Object(V.f)("#EventCalendar_NewsChannels_Global")),M.createElement("div",{className:Mt.a.NewsChannelList},t.map(function(e){return M.createElement(wr,{key:e.key,element:e})})))},Object(z.c)([i.observer],t)}(M.Component),Ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e=yr(this.props.bIsUpcoming,!1);return e&&0<e.length?M.createElement("div",{className:Object(x.a)(Mt.a.NewsChannelGroup,Mt.a.DiscoverGroup)},M.createElement("div",{className:Mt.a.NewsChannelListTitle},Object(V.f)("#EventCalendar_NewsChannels_Discover")),M.createElement("div",{className:Mt.a.NewsChannelList},e.map(function(e){return M.createElement(wr,{key:e.key,element:e})}))):null},t}(M.Component),Ir=n("FhLd"),jr=Object(i.observer)(function(e){var t=e.section,n=e.bShowControls,r=e.fnOnToggleControls;return M.createElement("div",{className:Ir.FacetedBrowsePopupCtn,onClick:function(){return r()}},n?M.createElement(M.Fragment,null,M.createElement("div",{className:Ir.FacetedBrowsePopup,style:Or(t)},M.createElement(P.ob,null)),M.createElement("div",{className:Ir.FacetedBrowsePopupLabel},Object(V.f)("#Button_Close"))):M.createElement(M.Fragment,null,M.createElement("div",{className:Ir.FacetedBrowsePopup,style:Or(t)},M.createElement(P.F,null)),M.createElement("div",{className:Ir.FacetedBrowsePopupLabel},Object(V.f)("#FacetedBrowse_Heading"))))});function Dr(e){return!e.smart_section||new Set(["popularpurchased"]).has(e.smart_section_type)}var Rr=function(){function i(){this.m_rgFacets=new Array,this.m_rgSection=null,this.m_rgSolrFaceting=null,this.m_rgPrunedFacets=new Array,this.m_bSomeFacetValueEnabledInSomeFacet=!1,this.m_rgMatchingCapsules=new Set,this.m_nSelectedOptions=0}return i.prototype.DoesCapsuleMatchFacetValue=function(e,t){return this.bSaleScope?t.rgMatchingCapsulesSet.has(e.id):!!H.a.BHasAppLinkLoaded(e.id)&&i.DoesCapsuleMatchStoreFilter(H.a.GetAppLinkInfo(e.id),t.rgStoreTagFilter)},i.DoesCapsuleMatchStoreFilter=function(t,n){if(n.type===ee.i.k_EStoreFilterClauseTypeStoreTag)return t.tags.some(function(e){return e.tagid===n.value});if(n.type===ee.i.k_EStoreFilterClauseTypeFeatureTag)return"linux"===n.value?t.available_linux:"mac"===n.value?t.available_mac:"vr"===n.value?t.support_vrhmd:"vr only"===n.value?t.support_vrhmd_only:("full controller"===n.value||"remote play"===n.value||n.value,!1);if(n.type===ee.i.k_EStoreFilterClauseTypeOr){var e=n.rgSubexpressions.some(function(e){return i.DoesCapsuleMatchStoreFilter(t,e)});return n.bNegated?!e:e}if(n.type!==ee.i.k_EStoreFilterClauseTypeAnd)return!1;var r=n.rgSubexpressions.every(function(e){return i.DoesCapsuleMatchStoreFilter(t,e)});return n.bNegated?!r:r},i.prototype.SetSection=function(e){this.m_rgSection=e},Object.defineProperty(i.prototype,"bSaleScope",{get:function(){return Dr(this.m_rgSection)},enumerable:!1,configurable:!0}),i.prototype.SetFacets=function(e){var n=this;this.m_rgFacets=new Array,e.forEach(function(e){var t=new Array;e.facetValues.forEach(function(e){t.push(Object(z.a)({bEnabled:!1,bDeactivated:!1,rgMatchingCapsulesSet:null,nMatchingCapsules:0,nMatchingVisibleCapsules:0},e))}),n.m_rgFacets.push({rgName:e.name,rgFacetValues:t,bSomeFacetValueEnabled:!1,bSomeFacetValueEnabledInSomeOtherFacet:!1,rgMatchingCapsulesThisFacet:null,rgMatchingCapsulesInOtherFacets:null})})},i.prototype.SetSolrFacetCounts=function(e){this.m_rgSolrFaceting=e},Object.defineProperty(i.prototype,"rgFacetCounts",{get:function(){var e=new Map;if(this.m_rgSolrFaceting)for(var t=0,n=Object.keys(this.m_rgSolrFaceting);t<n.length;t++){var r=n[t];e.set(Number(r),Number(this.m_rgSolrFaceting[r]))}return e},enumerable:!1,configurable:!0}),i.prototype.ResetFacets=function(){this.m_rgFacets.forEach(function(e){e.rgFacetValues.forEach(function(e){e.bDeactivated=!1,e.rgMatchingCapsulesSet=null,e.nMatchingCapsules=0,e.nMatchingVisibleCapsules=0}),e.rgMatchingCapsulesThisFacet=null,e.rgMatchingCapsulesInOtherFacets=null})},i.prototype.UpdateSelectionsFromUrlParam=function(e){var r=this;this.m_rgFacets.forEach(function(e){e.rgFacetValues.forEach(function(e){e.bEnabled=!1})}),e&&e.split(",").forEach(function(e){var t=e.split(":"),n=Number(t[0]);t[1].split("|").forEach(function(e){r.m_rgFacets[n].rgFacetValues[Number(e)].bEnabled=!0})})},i.prototype.PruneFacets=function(t,r){var i=this;this.m_rgPrunedFacets=new Array;var a=new Set(t.map(function(e){return e.id}));this.ResetFacets(),this.m_rgFacets.forEach(function(e){var n=new Array;e.rgFacetValues.forEach(function(e){var t;(!i.bSaleScope||null!==(t=e.matchingCapsules)&&void 0!==t&&t.some(function(e){return a.has(e.id)}))&&(e.rgMatchingCapsulesSet=new Set(e.matchingCapsules.map(function(e){return e.id})),e.nMatchingCapsules=e.matchingCapsules.length,n.push({rgFacetValue:e}))}),i.bSaleScope&&(n=n.filter(function(e){return r<=e.rgFacetValue.nMatchingCapsules&&e.rgFacetValue.nMatchingCapsules<t.length})),(!i.bSaleScope||0<n.length)&&i.m_rgPrunedFacets.push({rgFacet:e,rgFacetValues:n})})},i.prototype.GetPrunedFacets=function(){return this.m_rgPrunedFacets},i.prototype.GetMaxFacetValues=function(){return this.m_nMaxFacetValues},i.prototype.GetSelectedOptions=function(){return this.m_nSelectedOptions},i.prototype.UpdateFilters=function(e){var n,t,r=this;this.bSaleScope&&(this.m_bSomeFacetValueEnabledInSomeFacet=!1,this.m_rgMatchingCapsules=new Set,this.m_nSelectedOptions=0,this.m_rgPrunedFacets&&(n=new Set(e.map(function(e){return e.id})),this.m_rgPrunedFacets.forEach(function(t){t.rgFacet.bSomeFacetValueEnabled=t.rgFacetValues.some(function(e){return e.rgFacetValue.bEnabled}),t.rgFacet.rgMatchingCapsulesThisFacet=new Set,t.rgFacet.bSomeFacetValueEnabled&&t.rgFacetValues.forEach(function(e){e.rgFacetValue.bEnabled&&(r.m_nSelectedOptions++,e.rgFacetValue.matchingCapsules.filter(function(e){return n.has(e.id)}).forEach(function(e){t.rgFacet.rgMatchingCapsulesThisFacet.has(e.id)||t.rgFacet.rgMatchingCapsulesThisFacet.add(e.id)}))})}),this.m_rgPrunedFacets.forEach(function(t){var e;t.rgFacet.bSomeFacetValueEnabledInSomeOtherFacet=r.m_rgPrunedFacets.some(function(e){return e!==t&&e.rgFacet.bSomeFacetValueEnabled}),t.rgFacet.rgMatchingCapsulesInOtherFacets=new Set,t.rgFacet.bSomeFacetValueEnabledInSomeOtherFacet&&(e=r.m_rgPrunedFacets.filter(function(e){return e!==t&&e.rgFacet.bSomeFacetValueEnabled}).map(function(e){return e.rgFacet.rgMatchingCapsulesThisFacet}),t.rgFacet.rgMatchingCapsulesInOtherFacets=e[0],(e=e.slice(1)).forEach(function(e){t.rgFacet.rgMatchingCapsulesInOtherFacets=i.IntersectSets(t.rgFacet.rgMatchingCapsulesInOtherFacets,e)}))}),this.m_bSomeFacetValueEnabledInSomeFacet=this.m_rgPrunedFacets.some(function(e){return e.rgFacet.bSomeFacetValueEnabled}),this.m_bSomeFacetValueEnabledInSomeFacet&&((t=this.m_rgPrunedFacets.find(function(e){return e.rgFacet.bSomeFacetValueEnabled})).rgFacet.bSomeFacetValueEnabledInSomeOtherFacet?this.m_rgMatchingCapsules=i.IntersectSets(t.rgFacet.rgMatchingCapsulesThisFacet,t.rgFacet.rgMatchingCapsulesInOtherFacets):this.m_rgMatchingCapsules=t.rgFacet.rgMatchingCapsulesThisFacet)))},i.prototype.UpdateFilterFlags=function(){var e=this;this.bSaleScope&&(this.m_bSomeFacetValueEnabledInSomeFacet=!1,this.m_rgPrunedFacets&&(this.m_rgPrunedFacets.forEach(function(e){e.rgFacet.bSomeFacetValueEnabled=e.rgFacetValues.some(function(e){return e.rgFacetValue.bEnabled})}),this.m_rgPrunedFacets.forEach(function(t){t.rgFacet.bSomeFacetValueEnabledInSomeOtherFacet=e.m_rgPrunedFacets.some(function(e){return e!==t&&e.rgFacet.bSomeFacetValueEnabled})})))},i.IntersectSets=function(e,t){var n=new Set;return e.forEach(function(e){t.has(e)&&n.add(e)}),n},i.prototype.FilterCapsules=function(e){var t=this;return this.m_rgPrunedFacets&&this.m_bSomeFacetValueEnabledInSomeFacet?e.filter(function(e){return t.m_rgMatchingCapsules.has(e.id)}):e},i.prototype.SortFacetValues=function(r,i,a,e){var o=this;this.m_nMaxFacetValues=e,this.m_rgPrunedFacets.forEach(function(e){var t;0<(null===(t=o.rgFacetCounts)||void 0===t?void 0:t.size)?e.rgFacetValues.forEach(function(e){var t=e.rgFacetValue.nAtomicStoreTagID;e.rgFacetValue.nMatchingVisibleCapsules=t?o.rgFacetCounts.get(t):0}):e.rgFacetValues.forEach(function(n){n.rgFacetValue.nMatchingVisibleCapsules=r.reduce(function(e,t){return o.DoesCapsuleMatchFacetValue(t,n.rgFacetValue)?++e:e},0)});var n=e.rgFacetValues.slice();n.sort(function(e,t){if(e.rgFacetValue.bEnabled!==t.rgFacetValue.bEnabled)return t.rgFacetValue.bEnabled?1:-1;if(e.rgFacetValue.bDeactivated!==t.rgFacetValue.bDeactivated)return e.rgFacetValue.bDeactivated?1:-1;if(a!==ee.h.k_ESortFacetsByMatchCount||e.rgFacetValue.bEnabled||e.rgFacetValue.bDeactivated||e.rgFacetValue.nMatchingVisibleCapsules===t.rgFacetValue.nMatchingVisibleCapsules){var n=V.a.GetWithFallback(e.rgFacetValue.name,i),r=V.a.GetWithFallback(t.rgFacetValue.name,i);return n.localeCompare(r)}return t.rgFacetValue.nMatchingVisibleCapsules-e.rgFacetValue.nMatchingVisibleCapsules}),e.rgFacetValues=n})},Object.defineProperty(i.prototype,"rgStoreTagFilter",{get:function(){for(var e={type:ee.i.k_EStoreFilterClauseTypeAnd,rgSubexpressions:new Array},t=0,n=this.m_rgPrunedFacets;t<n.length;t++){for(var r=n[t],i={type:ee.i.k_EStoreFilterClauseTypeOr,rgSubexpressions:new Array},a=0,o=r.rgFacetValues;a<o.length;a++){var s=o[a];s.rgFacetValue.bEnabled&&i.rgSubexpressions.push(s.rgFacetValue.rgStoreTagFilter)}0!==i.rgSubexpressions.length&&e.rgSubexpressions.push(i)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strQuery",{get:function(){return JSON.stringify(this.rgStoreTagFilter)},enumerable:!1,configurable:!0}),i.prototype.BSomeFacetValueEnabled=function(){return this.m_bSomeFacetValueEnabledInSomeFacet},Object.defineProperty(i.prototype,"nMatchingCapsules",{get:function(){return this.m_rgMatchingCapsules.size},enumerable:!1,configurable:!0}),i.prototype.DeactivateFacetValues=function(){var r=this;if(this.bSaleScope)this.m_rgPrunedFacets.forEach(function(n){n.rgFacetValues.forEach(function(e){var t;e.rgFacetValue.bDeactivated=!1,e.rgFacetValue.bEnabled||r.m_bSomeFacetValueEnabledInSomeFacet&&(n.rgFacet.bSomeFacetValueEnabled?(t=n.rgFacet.bSomeFacetValueEnabledInSomeOtherFacet?i.IntersectSets(n.rgFacet.rgMatchingCapsulesInOtherFacets,e.rgFacetValue.rgMatchingCapsulesSet):e.rgFacetValue.rgMatchingCapsulesSet,e.rgFacetValue.bDeactivated=i.BIsSubset(t,r.m_rgMatchingCapsules)):e.rgFacetValue.bDeactivated=i.BIsDisjoint(e.rgFacetValue.rgMatchingCapsulesSet,r.m_rgMatchingCapsules)||i.BIsSubset(r.m_rgMatchingCapsules,e.rgFacetValue.rgMatchingCapsulesSet))})});else{if(!this.rgFacetCounts||0===this.rgFacetCounts.size)return;this.m_rgPrunedFacets.forEach(function(e){e.rgFacetValues.forEach(function(e){var t=e.rgFacetValue.nAtomicStoreTagID,n=t?r.rgFacetCounts.get(t):1;e.rgFacetValue.bDeactivated=!e.rgFacetValue.bEnabled&&!n})})}},i.prototype.GetUrlParam=function(){var i=this,a=new Array;return this.m_rgFacets.forEach(function(e,t){var n,r;i.bSaleScope&&!e.bSomeFacetValueEnabled||(n=new Array,e.rgFacetValues.forEach(function(e,t){e.bEnabled&&n.push(t)}),0!==n.length&&(r=n.join("|"),a.push(t+":"+r)))}),a.join(",")},i.BIsSubset=function(e,t){for(var n=e.values(),r=n.next();!r.done;){if(!t.has(r.value))return!1;r=n.next()}return!0},i.BIsDisjoint=function(e,t){for(var n=e.values(),r=n.next();!r.done;){if(t.has(r.value))return!1;r=n.next()}return!0},i.GetReferencedCapsules=function(e){for(var t=new Array,n=new Set,r=0,i=e;r<i.length;r++)for(var a=0,o=i[r].facetValues;a<o.length;a++){var s=o[a];if(s.matchingCapsules)for(var c=0,l=s.matchingCapsules;c<l.length;c++){var u=l[c],p=u.type+u.id;n.has(p)||(t.push(u),n.add(p))}}return t},i.GenerateMetadata=function(n,e){e.forEach(function(e){e.facetValues.forEach(function(t){t.matchingCapsules=n.filter(function(e){return function(e,t){if(t&&t.clauses){var n=new Set;e.forEach(function(e){return n.add(e.toLocaleLowerCase())});for(var r=0,i=t.clauses;r<i.length;r++){var a=i[r];if(a.or_tags){for(var o=!1,s=0,c=0,l=a.or_tags;c<l.length;c++){var u=l[c];if(u&&(s++,o=n.has(u.toLocaleLowerCase())))break}if(0!==s)if(!("Must have"===a.type?o:!o))return!1}}}return!0}(e.tags,t.filter)}).map(function(e){return e.capsule})})})},Object(z.c)([oe.observable],i.prototype,"m_rgFacets",void 0),Object(z.c)([oe.observable],i.prototype,"m_rgSection",void 0),Object(z.c)([oe.observable],i.prototype,"m_rgSolrFaceting",void 0),Object(z.c)([oe.observable],i.prototype,"m_rgPrunedFacets",void 0),Object(z.c)([oe.observable],i.prototype,"m_bSomeFacetValueEnabledInSomeFacet",void 0),Object(z.c)([oe.observable],i.prototype,"m_rgMatchingCapsules",void 0),Object(z.c)([oe.observable],i.prototype,"m_nSelectedOptions",void 0),Object(z.c)([oe.action],i.prototype,"SetSection",null),Object(z.c)([oe.computed],i.prototype,"bSaleScope",null),Object(z.c)([oe.action],i.prototype,"SetSolrFacetCounts",null),Object(z.c)([oe.computed],i.prototype,"rgFacetCounts",null),Object(z.c)([oe.action],i.prototype,"ResetFacets",null),Object(z.c)([oe.action],i.prototype,"UpdateSelectionsFromUrlParam",null),Object(z.c)([oe.action],i.prototype,"PruneFacets",null),Object(z.c)([oe.action],i.prototype,"UpdateFilters",null),Object(z.c)([oe.action],i.prototype,"UpdateFilterFlags",null),Object(z.c)([oe.action],i.prototype,"SortFacetValues",null),Object(z.c)([oe.computed],i.prototype,"rgStoreTagFilter",null),Object(z.c)([oe.computed],i.prototype,"strQuery",null),Object(z.c)([oe.computed],i.prototype,"nMatchingCapsules",null),Object(z.c)([oe.action],i.prototype,"DeactivateFacetValues",null),i}(),Tr=Object(i.observer)(function(e){function t(){p(!u)}var n=e.language,r=e.section,i=e.facetCapsuleFilter,a=e.bPruningFacets,o=e.bApplyingFilter,s=e.fnOnUpdateFilter,c=e.background,l=Object(M.useState)(!0),u=l[0],p=l[1],d=!a&&0<(null==i?void 0:i.GetPrunedFacets().length);return M.createElement("div",{className:Ir.FacetedBrowseCtn},Cr()&&M.createElement(jr,{section:r,bShowControls:u,fnOnToggleControls:t}),M.createElement("div",{className:Ir.FacetedBrowseInnerCtn},d&&u?M.createElement(Mr,{language:n,section:r,rgFacets:null==i?void 0:i.GetPrunedFacets(),nMatchingCapsules:i.nMatchingCapsules,bShowMatchingCapsules:i.BSomeFacetValueEnabled(),nMaxFacetValues:i.GetMaxFacetValues(),bShowFacetControls:u,bApplyingFilter:o,background:c,fnOnUpdateFilter:s,fnOnToggleControls:t}):null,M.createElement("div",{className:Ir.FacetedBrowseItems},o?M.createElement(G.a,null):e.children)))}),Mr=Object(i.observer)(function(e){var n=e.language,r=e.section,t=e.rgFacets,i=e.nMatchingCapsules,a=e.bShowMatchingCapsules,o=e.nMaxFacetValues,s=e.bApplyingFilter,c=e.background,l=e.fnOnUpdateFilter,u={background:c,color:r.label_color||"white"},p={borderBottom:"1px solid "+(r.label_color||"white")},d=Object(M.useRef)(null);return M.createElement("div",{ref:d,className:Ir.FacetedBrowseControls,style:u},M.createElement("h1",{style:p},Object(V.f)("#FacetedBrowse_Heading")),Cr()&&a&&M.createElement("div",{className:Ir.FacetedBrowseMatchCount},Object(V.m)("#FacetedBrowse_MatchCount",i)),M.createElement("div",{className:Ir.FacetedBrowseMatchCount},M.createElement("a",{onClick:function(e){e.preventDefault(),t.forEach(function(e){e.rgFacetValues.forEach(function(e){e.rgFacetValue.bEnabled=!1})}),l()}},Object(V.f)("#FacetedBrowse_Reset"))),t.map(function(e,t){return M.createElement(Nr,{language:n,key:"facet_"+V.a.GetWithFallback(e.rgFacet.rgName,n)+"_"+t,section:r,rgFacet:e,nMaxFacetValues:o,bApplyingFilter:s,fnOnUpdateFilter:l})}),M.createElement("div",{className:Ir.FacetedBrowseMatchCount},M.createElement("a",{onClick:function(e){e.preventDefault();var t=d.current.getBoundingClientRect().top+window.scrollY;window.scrollTo(0,t)}},Object(V.f)("#FacetedBrowse_ReturnToTop"))),M.createElement("div",{className:Ir.FacetedBrowseFeedbackLink},M.createElement(ur,{strLabNumber:"012",strForumURL:Y.c.COMMUNITY_BASE_URL+"groups/SteamLabs/discussions/14/"})))}),Nr=Object(i.observer)(function(e){var n=e.language,r=e.section,t=e.rgFacet,i=e.bApplyingFilter,a=e.fnOnUpdateFilter,o=Object(M.useState)(!1),s=o[0],c=o[1],l={borderBottom:"1px solid "+(r.label_color||"white")},u=Object(V.f)(V.a.GetWithFallback(t.rgFacet.rgName,n)),p=e.nMaxFacetValues,d=t.rgFacet.rgFacetValues.reduce(function(e,t){return e+(t.bEnabled?1:0)},0);p<=d&&(p=d+(t.rgFacetValues.some(function(e){return!e.rgFacetValue.bEnabled&&!e.rgFacetValue.bDeactivated})?1:0));var m=t.rgFacetValues.length>p,h=m&&!s?t.rgFacetValues.slice(0,p):t.rgFacetValues;return M.createElement(M.Fragment,null,M.createElement("h2",{style:l},u),M.createElement(M.Fragment,null,h.map(function(e,t){return M.createElement(Lr,{language:n,key:"facet_"+u+"_value_"+t,section:r,rgFacetValue:e,bApplyingFilter:i,fnOnUpdateFilter:a})}),m&&M.createElement("div",{className:Ir.FacetValueShowMore,onClick:function(){return c(!s)}},s?Object(V.f)("#Bbcode_Expand_ShowMore_Expanded"):Object(V.f)("#Bbcode_Expand_ShowMore_Collapsed"))))}),Lr=Object(i.observer)(function(e){var t=e.language,n=e.section,r=e.rgFacetValue,i=e.fnOnUpdateFilter,a=r.rgFacetValue.bEnabled,o=r.rgFacetValue.bDeactivated,s={color:n.highlighted_facet_color||"darkorange",borderLeft:"4px solid "+(n.highlighted_facet_color||"darkorange")},c=a?s:{},l={color:n.label_color||"white"},u=V.a.GetWithFallback(r.rgFacetValue.name,t),p=Boolean(r.rgFacetValue.subtitle)?V.a.GetWithFallback(r.rgFacetValue.subtitle,t):null;return M.createElement("div",{className:a?Ir.FacetValueEnabled:o?Ir.FacetValueDeactivated:Ir.FacetValue,style:c},M.createElement("a",{className:Ir.FacetValueName,style:l,onClick:function(e){e.preventDefault(),o||(r.rgFacetValue.bEnabled=!r.rgFacetValue.bEnabled,i())},href:""},u),Boolean(p)&&M.createElement("div",{className:Ir.FacetValueDescription},p))}),kr=function(){function e(e){this.m_stats=e||{event_gid:"0",library_overview_shown:0,library_overview_read:0,app_details_spotlight_shown:0,app_details_spotlight_read:0,app_details_activity_shown:0,app_details_activity_read:0,store_app_page_shown:0,store_app_page_read:0,store_front_page_shown:0,store_front_page_read:0,community_hub_shown:0,community_hub_read:0,news_hub_shown:0,news_hub_read:0,event_scroller_read:0},this.m_stats.total_showm=this.m_stats.library_overview_shown+this.m_stats.app_details_activity_shown+this.m_stats.app_details_spotlight_shown+this.m_stats.store_app_page_shown+this.m_stats.store_front_page_shown+this.m_stats.community_hub_shown+this.m_stats.news_hub_shown,this.m_stats.total_read=this.m_stats.library_overview_read+this.m_stats.app_details_activity_read+this.m_stats.app_details_spotlight_read+this.m_stats.store_app_page_read+this.m_stats.store_front_page_read+this.m_stats.community_hub_read+this.m_stats.news_hub_read+this.m_stats.event_scroller_read,this.m_lastUpdateTime=e?Date.now()/1e3:0}return e.prototype.reset=function(e){this.m_stats.library_overview_shown=e.library_overview_shown,this.m_stats.library_overview_read=e.library_overview_read,this.m_stats.app_details_spotlight_shown=e.app_details_spotlight_shown,this.m_stats.app_details_spotlight_read=e.app_details_spotlight_read,this.m_stats.app_details_activity_shown=e.app_details_activity_shown,this.m_stats.app_details_activity_read=e.app_details_activity_read,this.m_stats.store_app_page_shown=e.store_app_page_shown,this.m_stats.store_app_page_read=e.store_app_page_read,this.m_stats.store_front_page_shown=e.store_front_page_shown,this.m_stats.store_front_page_read=e.store_front_page_read,this.m_stats.community_hub_shown=e.community_hub_shown,this.m_stats.community_hub_read=e.community_hub_read,this.m_stats.news_hub_shown=e.news_hub_shown,this.m_stats.news_hub_read=e.news_hub_read,this.m_stats.event_scroller_read=e.event_scroller_read,this.m_stats.total_showm=e.library_overview_shown+e.app_details_activity_shown+e.app_details_spotlight_shown+e.store_app_page_shown+e.store_front_page_shown+e.community_hub_shown+e.news_hub_shown,this.m_stats.total_read=e.library_overview_read+e.app_details_activity_read+e.app_details_spotlight_read+e.store_app_page_read+e.store_front_page_read+e.community_hub_read+e.news_hub_read+e.event_scroller_read,this.m_lastUpdateTime=Date.now()/1e3},Object(z.c)([oe.observable],e.prototype,"m_stats",void 0),Object(z.c)([oe.observable],e.prototype,"m_lastUpdateTime",void 0),e}(),Fr=new(function(){function e(){this.m_mapPerEventStats=new Map,this.m_mapSummaryStats=new Map,this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var e,t,r=this;this.m_bLoadedFromConfig||(e=Object(Y.g)("trackingdatasummary","application_config"),this.ValidateStoreDefault(e)&&this.m_mapSummaryStats.set(e.clan_account_id,new kr(e)),t=Object(Y.g)("trackingdataevents","application_config"),this.ValidateStoreDefaultList(t)&&t.forEach(function(e){var t=te.a.InitFromClanID(e.clan_account_id),n=r.GetKey(t,e.event_gid);r.m_mapPerEventStats.set(n,new kr(e))}),this.m_bLoadedFromConfig=!0)},e.prototype.ValidateStoreDefault=function(e){return!(!e||"object"!=typeof e||!e.clan_account_id)&&("number"==typeof e.clan_account_id&&0<e.clan_account_id)},e.prototype.ValidateStoreDefaultList=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("number"==typeof t[0].clan_account_id&&0<t[0].clan_account_id)},e.prototype.GetStatsFor=function(e,t){this.LazyInit();var n=this.GetKey(e,t);return this.m_mapPerEventStats.has(n)||this.m_mapPerEventStats.set(n,new kr(null)),this.m_mapPerEventStats.get(n)},e.prototype.GetTotalStats=function(e){return this.LazyInit(),this.m_mapSummaryStats.has(e.GetAccountID())||this.m_mapSummaryStats.set(e.GetAccountID(),new kr(null)),this.m_mapSummaryStats.get(e.GetAccountID())},e.prototype.GetKey=function(e,t){return e.GetAccountID()+"_"+t},e.prototype.LoadStatsForEvents=function(l,u,p){return Object(z.b)(this,void 0,void 0,function(){var r,t,n,i,a,o,s,c=this;return Object(z.e)(this,function(e){switch(e.label){case 0:if(this.LazyInit(),r=Date.now()/1e3,!(t=u.filter(function(e){var t=c.GetKey(l,e),n=c.m_mapPerEventStats.get(t);return!n||null==n.m_stats||n.m_lastUpdateTime<r-3600}))||0==t.length)return[2,!0];n=Object(Y.e)()+"actions/ajaxgetpartnereventsreport",i={sessionid:Y.c.SESSIONID,clan_account_id:l.GetAccountID(),gidlist:t.join(",")},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,A.a.get(n,{params:i,withCredentials:!0,cancelToken:p.token})];case 2:return a=e.sent(),Object(oe.runInAction)(function(){c.m_mapSummaryStats.set(l.GetAccountID(),new kr(a.data.summary)),a.data.events_detail.forEach(function(e){var t=c.GetKey(l,e.event_gid);c.m_mapPerEventStats.has(t)?c.m_mapPerEventStats.get(t).reset(e):c.m_mapPerEventStats.set(t,new kr(e))})}),[2,!0];case 3:return o=e.sent(),s=Object(q.a)(o),console.error("CPartnerEventReportingStore "+s.strErrorMsg,s),[3,4];case 4:return[2,!1]}})})},e.prototype.BHasEventStats=function(e,t){var n=te.a.InitFromClanID(e),r=this.GetKey(n,t),i=this.m_mapPerEventStats.get(r);return Boolean(i&&i.m_stats)},Object(z.c)([oe.observable],e.prototype,"m_mapPerEventStats",void 0),Object(z.c)([oe.observable],e.prototype,"m_mapSummaryStats",void 0),Object(z.c)([oe.action],e.prototype,"LazyInit",null),e}()),Pr=n("sGzE"),Gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.summary,n=e.bEventIsInModerationQueue,r=e.bIsAllowedInLibrary,i=e.bIncludeDescription;return 0==t.total_read+t.total_showm?null:M.createElement("div",null,M.createElement("div",{className:Object(x.a)(Pr.StatsCtnTitle,i?Pr.NormalStatsMode:Pr.SmallStatsMode)},M.createElement("h1",null,Object(V.f)("#EventDashBoard_SummaryStats_Title")),Boolean(i)&&M.createElement("p",null,Object(V.f)("#EventDashBoard_SummaryStats_Desc")," ",M.createElement("a",{href:"https://partner.steamgames.com/doc/marketing/event_tools/stats",target:"_blank"},Object(V.f)("#EventDashBoard_SummaryStats_Link"))),M.createElement("div",{className:Pr.VisibilityNote},Object(V.f)("#EventDashBoard_SummaryStats_Dec2020Note"))),r&&n&&M.createElement("div",{className:Pr.ModerationWarningCtn},M.createElement("div",{className:Pr.ModerationWarning},Object(V.f)("#EventDashBoard_ModerationQueueWarning")),M.createElement("a",{href:Y.c.PARTNER_BASE_URL+"doc/marketing/event_tools/moderation"},Object(V.f)("#EventDashBoard_Location_ModerationTitle"))),M.createElement("div",{className:Object(x.a)(Pr.StatsCtn,i?Pr.NormalStatsMode:Pr.SmallStatsMode)},r&&M.createElement("div",{className:Object(x.a)(Pr.StatsLeftSection,n&&Pr.DisabledStats)},M.createElement("div",{className:Pr.StatsTitle_ctn},M.createElement("span",null,Object(V.f)("#EventDashBoard_Location_LibraryHome")),M.createElement("span",{className:Pr.ModerationNote},"( ",Object(V.f)("#EventDashBoard_Location_WaitingModeraion")," )")),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_LibraryHome_Shown")),M.createElement("span",null,t.library_overview_shown.toLocaleString(V.e.GetPreferredLocales()))),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_LibraryHome_Read")),M.createElement("span",null,t.library_overview_read.toLocaleString(V.e.GetPreferredLocales()))),M.createElement("br",null),M.createElement("div",{className:Pr.StatsTitle_ctn},M.createElement("span",null,Object(V.f)("#EventDashBoard_Location_LibraryDetail")),M.createElement("span",{className:Pr.ModerationNote},"( ",Object(V.f)("#EventDashBoard_Location_WaitingModeraion")," )")),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_AppDetailSpotlight_Shown")),M.createElement("span",null,t.app_details_spotlight_shown.toLocaleString(V.e.GetPreferredLocales()))),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_AppDetailSpotlight_Read")),M.createElement("span",null,t.app_details_spotlight_read.toLocaleString(V.e.GetPreferredLocales()))),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_AppDetailActivity_Shown")),M.createElement("span",null,t.app_details_activity_shown.toLocaleString(V.e.GetPreferredLocales()))),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_AppDetailActivity_Read")),M.createElement("span",null,t.app_details_activity_read.toLocaleString(V.e.GetPreferredLocales())))),M.createElement("div",{className:Pr.StatsRightSection},M.createElement("div",{className:Pr.StatsTitle_ctn},M.createElement("span",null,Object(V.f)("#EventDashBoard_Location_StoreDetail"))),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_StoreAppPage_Shown")),M.createElement("span",null,t.store_app_page_shown.toLocaleString(V.e.GetPreferredLocales()))),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_StoreAppPage_Read")),M.createElement("span",null,t.store_app_page_read.toLocaleString(V.e.GetPreferredLocales()))),M.createElement("br",null),M.createElement("div",{className:Pr.StatsTitle_ctn},M.createElement("span",null,Object(V.f)("#EventDashBoard_Location_CommunityDetail"))),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_Community_Shown")),M.createElement("span",null,t.community_hub_shown.toLocaleString(V.e.GetPreferredLocales()))),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_Community_Read")),M.createElement("span",null,t.community_hub_read.toLocaleString(V.e.GetPreferredLocales()))),M.createElement("br",null),M.createElement("div",{className:Pr.StatsTitle_ctn},M.createElement("span",null,Object(V.f)("#EventDashBoard_Location_NewsHubDetail"))),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_NewsHub_Shown")),M.createElement("span",null,t.news_hub_shown.toLocaleString(V.e.GetPreferredLocales()))),M.createElement("div",{className:Pr.StatsTitle},M.createElement("span",null,Object(V.f)("#EventDashBoard_Summary_NewsHub_Read")),M.createElement("span",null,t.news_hub_read.toLocaleString(V.e.GetPreferredLocales()))))))},Object(z.c)([i.observer],t)}(M.Component),Ur=n("ZCZY"),xr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.GenerateBreadCrumbs=function(){var t=new Array;return this.props.crumbs.forEach(function(e){e.url.startsWith("http")?t.push(M.createElement("a",{key:"anchor_"+e.name,href:e.url},e.name)):t.push(M.createElement($e.a,{key:"link_"+e.name,to:e.url},e.name)),t.push(M.createElement("span",{key:e.name+"span"}," > "))}),t},t.prototype.render=function(){var e=this.GenerateBreadCrumbs();return M.createElement("div",{className:Object(x.a)(Ur.BreadContainer)},M.createElement("div",{className:"blockbg"},e),M.createElement("div",{style:{clear:"left"}}))},t}(M.Component),zr=n("4sqd"),Hr=n("BpzF"),Wr=n("45m9"),Vr=M.lazy(function(){return n.e(2).then(n.bind(null,"NIbt"))}),qr=(Object(i.observer)(function(e){var t=e.event,n=e.lang,r=e.partnerEventStore,i=e.emoticonStore,a=e.nOverrideStartTime,o=e.nOverrideEndTime,s=e.adminPanel,c=e.previewMode,l=e.otherEventRow,u=e.titleBar,p=t.appid,d=t.clanSteamID.GetAccountID(),m=M.useState(!Pe.a.BIsAppidLoaded(p)),h=m[0],f=m[1],b=M.useState(!!et.a.GetClanInfoByClanAccountID(d)),_=b[0],v=b[1];if(M.useEffect(function(){var e;window.scrollTo(0,0),h&&Pe.a.EnsureStoreCapsuleInfoLoaded(p).then(function(){return f(!1)}),_&&(e=te.a.InitFromClanID(d),et.a.LoadClanInfoForClanSteamID(e).then(function(e){return v(!1)}))},[p,d]),!t.bLoaded||h||_)return M.createElement("div",{className:Te.a.FlexCenter,style:{height:"400px"}},M.createElement(G.a,{size:"medium",string:Object(V.f)("#Loading")}));var g=t.GetDescriptionWithFallback(n),y=Pe.a.GetStoreCapsuleInfo(t.appid).GetAppStoreData(),S=(Object(Y.e)(),Y.c.STORE_BASE_URL,et.a.GetClanInfoByClanAccountID(t.clanSteamID.GetAccountID())),w=Object(we.d)(t,we.a.k_eStoreNewsHub,"allowRelative",S&&S.vanity_url);return M.createElement(qr,{event:t,lang:n,titleBar:u,body:M.createElement(fe.a,null,M.createElement("div",{className:Ee.a.EventDetailTitleContainer},M.createElement(xr,{crumbs:[{name:Object(V.f)("#BreadCrumbs_AllEvents"),url:Object(we.d)(t,we.a.k_eStoreUsersNewsHub,"allowRelative")},{name:Object(V.f)("#BreadCrumbs_GameEvents",y.title),url:w}]}),M.createElement("div",{className:Ee.a.EventDetailTitle},t.GetNameWithFallback(n)),t.BHasSubTitle(n)&&M.createElement("div",{className:Ee.a.EventDetailsSubTitle},t.GetSubTitle(n))),Boolean(t.BEventCanShowBroadcastWidget(c))&&M.createElement("div",{className:Ee.a.EventBroadcastCtn},M.createElement(M.Suspense,{fallback:M.createElement("div",null)},M.createElement(Vr,{event:t,bIsPreview:c,accountIDs:c?t.jsondata.broadcast_whitelist:void 0}))),M.createElement("div",{className:Object(x.a)(Ee.a.EventColumns,"EventDetail")},M.createElement("div",{className:Ee.a.EventDetailsDescription},M.createElement(fe.a,null,t.BHasTag("steam_award_nomination_request")&&M.createElement(zr.a,{event:t,lang:n,previewMode:c}),t.BHasTag("steam_award_vote_request")&&M.createElement(zr.b,{appID:t.appid,bIsEventActionEnabled:t.BIsEventActionEnabled(),voteCategories:t.GetSteamAwardNomineeCategories()})),M.createElement(fe.a,null,M.createElement("div",{className:Object(x.a)("EventDetailsBody",Ee.a.EventDetailsBody)},M.createElement(Xe.b,{text:g||"",partnerEventStore:r,showErrorInfo:c,event:t,languageOverride:n}))),M.createElement(fe.a,null,M.createElement(Wr.a,{event:t})),Boolean(t.jsondata.read_more_link)&&M.createElement("div",{className:Object(x.a)(Ee.a.ReadMoreCnt)},M.createElement(U.a,{className:Object(x.a)(C.a.Button),href:t.jsondata.read_more_link},Object(V.f)("#EventEmail_Button_ClickForMoreDetails"))),Boolean(t.jsondata.bSaleEnabled&&t.jsondata.sale_vanity_id)&&M.createElement("div",{className:Object(x.a)(Ee.a.ReadMoreCnt)},M.createElement(U.a,{className:Object(x.a)(C.a.Button),href:Object(Fe.d)(t.GetSaleURL())},Object(V.f)("#Event_Button_VisitSalePage"))),M.createElement("span",{className:C.a.Clear}),M.createElement(fe.a,null,M.createElement(Hr.a,{appid:t.appid}))),M.createElement(fe.a,null,M.createElement(Yr,{event:t,lang:n,nOverrideStartTime:a,nOverrideEndTime:o}))),M.createElement(Qt.b,{eventModel:t,emoticonStore:i,partnerEventStore:r})),postbody:M.createElement(fe.a,null,s,l),footer:M.createElement(fe.a,null,M.createElement("div",{className:Ee.a.AppSummaryCtn},M.createElement("div",{className:Ee.a.EventBodyPosition},Boolean(null!=y.appid&&null!=y.appid&&0!=y.appid&&y.type)&&M.createElement("div",{className:Ee.a.AppSummaryWidgetTitleCtn},M.createElement("span",{className:Ee.a.Title},Object(V.f)("#CreatorHome_ThisGame")),M.createElement("div",{className:Ee.a.AppSummaryWidgetCtn},M.createElement(Sa,{id:t.appid,type:y.type||"game"}))),M.createElement(Ke,{appid:t.appid,bSmallFormat:!0}))))})}),Object(i.observer)(function(e){var t=e.event,n=e.lang,r=e.titleBar,i=e.body,a=e.postbody,o=e.footer,s=t.GetImageURLWithFallback("background",n),c=t.BIsImageSafeForAllAges("background",n),l="lang_"+Object(ge.f)(n),u=t.BImageNeedScreenshotFallback("background",n);return M.createElement("div",{className:Object(x.a)(Ee.a.EventDetailsPageContainer,l,C.a.PartnerEventFont,c?Ee.a.DetailArtworkAgeAppropriate:Ee.a.DetailArtworkAgeNotAppropriate,u&&Ee.a.NoTitleArtwork)},M.createElement(vt.c,{appId:t.appid,clanId:t.clanSteamID.GetAccountID()}),r,M.createElement("div",{className:Ee.a.EventCoverImageCtn},M.createElement("div",{className:Ee.a.EventCoverImageBlr},M.createElement("div",{className:Ee.a.EventCoverImageFuzz,style:{backgroundColor:"rgb(37, 41, 46)",backgroundImage:"url("+s+")"}}),M.createElement("div",{className:Ee.a.EventCoverImage,style:{backgroundColor:"rgb(37, 41, 46)",backgroundImage:"url("+s+")"}})),M.createElement("div",{className:Ee.a.CoverImageGradient})),M.createElement("div",{className:Ee.a.EventBodyCtn},M.createElement("div",{className:Ee.a.EventBackgroundBlurCtn}),M.createElement("div",{className:Ee.a.EventBodyPosition},M.createElement("div",{className:Ee.a.EventBody},M.createElement("div",{className:Ee.a.EventBackgroundBlur,style:{backgroundImage:"url("+s+")"}}),M.createElement(fe.a,null,i)),Boolean(a)&&M.createElement(fe.a,null,a))),Boolean(o)&&M.createElement(fe.a,null,o))})),Yr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.componentDidMount=function(){Pe.a.EnsureStoreCapsuleInfoLoaded(this.props.event.appid)},t.prototype.render=function(){var e=this.props,t=e.event,n=e.lang,r=e.nOverrideStartTime,i=e.nOverrideEndTime,a=t.GetCategoryAsString(),o=et.a.GetClanInfoByClanAccountID(t.clanSteamID.GetAccountID());if(!o)return Object(Le.a)(o,"EventDetailsRightColumn - clan info ("+t.clanSteamID.GetAccountID()+") is missing"),null;var s=N.a.GetTimeNowWithOverride(),c=r||t.GetStartTimeAndDateUnixSeconds();return M.createElement("div",{className:Ee.a.EventDetailTitleDesc},M.createElement("div",{className:Ee.a.EventDetailsSticky},o.is_ogg?M.createElement(Qr,{appid:o.appid}):M.createElement(Zr,{clanSteamID:t.clanSteamID}),M.createElement(Hr.b,{event:t,nOverrideEndTime:i,nOverrideStartTime:r}),28!==t.type&&s<c&&M.createElement("div",{className:Ee.a.EventDetailTimeInfo},M.createElement(en.a,{eventModel:t,eventGID:t.GID,lang:n})),M.createElement("div",{className:Ee.a.EventDetailUserType},M.createElement("div",{className:Ee.a.RightSideTitles},Object(V.f)("#EventDisplay_RightColumnTitle_EventType")),M.createElement("div",{className:Ee.a.EventDetailsType},a," ")),M.createElement(Jr,{event:t,bIsOGG:o.is_ogg})))},Object(z.c)([i.observer],t)}(M.Component),Qr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var t=this.props.appid;Object(Le.a)(t&&0!=t,"Expected Appid In Game Info Section");var e=Pe.a.GetStoreCapsuleInfo(t).GetAppStoreData();return M.createElement("div",{className:Ee.a.EventDetailGameCallToAction},M.createElement("div",{className:Ee.a.RightSideTitles},ee.q.some(function(e){return t===e})?Object(V.f)("#EventDisplay_RightColumnTitle_Blog"):Object(V.f)("#EventDisplay_RightColumnTitle_Game")),M.createElement(Da,{imageType:"header",capsule:{id:t,type:"game"},bHidePriceIfOwned:!0,bHideStatusBanners:!0}),M.createElement("div",{className:Object(x.a)(Ee.a.GameActions)},M.createElement(Ga,{info:e,className:Ee.a.ActionButton})))},Object(z.c)([i.observer],t)}(M.Component),Zr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e=this.props.clanSteamID,t=et.a.GetClanInfoByClanAccountID(e.GetAccountID());return t?M.createElement("div",{className:Ee.a.EventDetailGameCallToAction},M.createElement("div",{className:Ee.a.RightSideTitles},t.group_name),M.createElement(Ae,{href:Object(Fe.d)(et.a.GetCreatorStoreURL(e))},M.createElement("div",{className:Ee.a.EventDetailsAvatar,style:{backgroundImage:"url("+t.avatar_full_url+")"}}))):(Object(Le.a)(t,"EventDetailsRightCreatorInfo - clan info ("+e.GetAccountID()+") is missing"),null)},Object(z.c)([i.observer],t)}(M.Component),Kr=["","en-US","en-GB","zh-CN","es-ES","br-BR"],Jr=(M.Component,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_cancelSignal=A.a.CancelToken.source(),e}return Object(z.d)(e,t),e.prototype.componentDidMount=function(){var t=this,n=this.props.event;n.BIsPartnerEvent()&&n.BIsVisibleEvent()&&de.a.Get().LoadSingleAppEventPermissions(n.clanSteamID).then(function(e){e&&e.can_edit&&Fr.LoadStatsForEvents(n.clanSteamID,[n.GID],t.m_cancelSignal)})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventDisplayEditorInfo cancelled")},e.prototype.render=function(){var e=this.props,t=e.event,n=e.bIsOGG;if(!de.a.Get().GetPartnerEventPermissions(t.clanSteamID).can_edit)return null;var r=t.BIsPartnerEvent()&&t.BIsVisibleEvent()&&Fr.GetStatsFor(t.clanSteamID,t.GID),i=!t.BHasTag("mod_reviewed")||t.BHasTag("mod_require_rereview");return M.createElement(fe.a,null,M.createElement("div",{className:Ee.a.EditorStatsCtn},M.createElement("div",{className:Ee.a.EditorStatsRow},M.createElement("span",null,Object(V.f)("#EventEditor_Comments")),M.createElement("span",null,t.nCommentCount.toLocaleString(V.e.GetPreferredLocales()))),M.createElement("div",{className:Ee.a.EditorStatsRow},M.createElement("span",null,Object(V.f)("#EventEditor_UpVotes")),M.createElement("span",null,t.nVotesUp?t.nVotesUp.toLocaleString(V.e.GetPreferredLocales()):0)),M.createElement("div",{className:Ee.a.EditorStatsRow},M.createElement("span",null,Object(V.f)("#EventEditor_DownVotes")),M.createElement("span",null,t.nVotesDown?t.nVotesDown.toLocaleString(V.e.GetPreferredLocales()):0))),Boolean(r)&&M.createElement("div",{className:Ee.a.EditorStatsCtn},Object(V.f)("#EventDashBoard_SummaryStats_Admin_Title"),M.createElement(Gr,{summary:r.m_stats,bIsAllowedInLibrary:n,bEventIsInModerationQueue:i})))},Object(z.c)([i.observer],e)}(M.Component)),Xr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.componentDidMount=function(){ce.GetRawDoorData()||ce.LoadDoorData(),se.LoadSaleTokenPoints()},t.prototype.render=function(){var e=ce.GetRawDoorData();if(!e)return null;for(var t=e.length-1,n=N.a.GetTimeNowWithOverride()>e[t].rtime_start,r=[],i=0;i<=t;i++)r.push(M.createElement(ei,{key:"envelope-"+i,iDoorIndex:i,strFontFamily:this.props.strFontFamily}));var a=se.GetSaleTokenPoints().points;return M.createElement(fe.a,null,M.createElement("div",{className:Ee.a.LunarNewYearHeader},M.createElement("div",{className:Ee.a.EnvelopeArea},0<=a&&M.createElement("div",{className:Ee.a.TokenBalanceContainer},Object(V.f)("#Lunar2020_YourBalancePrefix"),M.createElement("a",{className:Ee.a.TokenBalance,href:Y.c.STORE_BASE_URL+"lunarnewyearmarket"}," ",Object(V.f)("#Lunar2020_BalanceNumberOfTokens",a)," ")),r),!n&&M.createElement("div",{className:Ee.a.BottomMessage},Object(V.f)("#Lunar2020_CheckBackEachDay"))))},Object(z.c)([i.observer],t)}(M.Component),$r=["#Lunar2020_FirstGift","#Lunar2020_SecondGift","#Lunar2020_ThirdGift","#Lunar2020_FourthGift"],ei=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.OpenEnvelope=function(r){return Object(z.b)(this,void 0,void 0,function(){var t,n;return Object(z.e)(this,function(e){switch(e.label){case 0:return t=ce.BIsDoorOpened(this.props.iDoorIndex),n=Object(Ce.n)(r),t?(Object(F.b)(M.createElement(ri,Object(z.a)({bIsFirstOpen:!1},this.props)),n),[2]):[4,ce.OpenDoor(this.props.iDoorIndex,!0)];case 1:return e.sent()&&Object(F.b)(M.createElement(ri,Object(z.a)({bIsFirstOpen:!0},this.props)),n),[2]}})})},t.prototype.ShowLimitedUserDialog=function(e){var t=Object(Ce.n)(e),n=M.createElement("a",{href:Y.c.HELP_BASE_URL},Object(V.f)("#User_LimitedAccount_UrlInfo"));Object(F.b)(M.createElement(k.c,{strTitle:Object(V.f)("#Lunar2020_LimitedUserDialogTitle"),strDescription:Object(V.o)("#User_LimitedAccount",n),bAlertDialog:!0}),t)},t.prototype.VOOnClose=function(){Y.h.is_support&&ce.OpenDoor(this.props.iDoorIndex,!1)},t.prototype.render=function(){var e=this.props,t=e.iDoorIndex,n=e.strFontFamily;Object(Le.a)(0<=t&&t<$r.length&&t<ce.GetDoorCount(),"Day index #"+t+" not in valid range.");for(var r=Object(V.f)($r[t]),i=!Y.h.logged_in,a=ce.BIsDoorOpened(t),o=ce.BCanUserOpenDoor(t),s=!0,c=0;c<t;c++)s=s&&ce.BIsDoorOpened(c);var l=!a&&o&&s,u=new Date(1e3*ce.GetRawDoorData()[t].rtime_start),p=i?Object(V.f)("#Login_SignIn"):a?Object(V.f)("#Lunar2020_RereadStory"):l?Object(V.f)("#Lunar2020_GiftCanBeOpenedNow"):o?Object(V.f)("#Lunar2020_GiftCanBeOpenedAfterThePreviousOne"):Object(V.f)("#Lunar2020_GiftLockedUntilDate",u.toLocaleDateString(V.e.GetPreferredLocales(),{month:"numeric",day:"numeric"})),d=i?g.a:Y.h.is_limited?this.ShowLimitedUserDialog:a||l?this.OpenEnvelope:null,m=Object(x.a)(Ee.a.EnvelopeContainer,i&&Ee.a.NeedLogin,a&&Ee.a.Opened,l&&Ee.a.Unlocked,!a&&!l&&Ee.a.Locked);return M.createElement("div",{className:m},M.createElement("div",{className:Ee.a.BackingRect}),M.createElement("div",{className:Ee.a.Envelope},M.createElement("div",{className:Ee.a.GiftLabel,style:{fontFamily:n}},r)),M.createElement("div",{className:Ee.a.OpenState,onClick:d},p),Y.h.is_support&&a&&("beta"==Y.c.WEB_UNIVERSE||"dev"==Y.c.WEB_UNIVERSE)&&M.createElement("div",{className:Object(x.a)(Ee.a.OpenState,Ee.a.VO),onClick:this.VOOnClose},"(VO) Close Gift")||null)},Object(z.c)([w.a],t.prototype,"OpenEnvelope",null),Object(z.c)([w.a],t.prototype,"ShowLimitedUserDialog",null),Object(z.c)([w.a],t.prototype,"VOOnClose",null),Object(z.c)([i.observer],t)}(M.Component),ti=["#Lunar2020_StoryDayOneHeader","#Lunar2020_StoryDayTwoHeader","#Lunar2020_StoryDayThreeHeader","#Lunar2020_StoryDayFourHeader"],ni=["#Lunar2020_StoryDayOne","#Lunar2020_StoryDayTwo","#Lunar2020_StoryDayThree","#Lunar2020_StoryDayFour"],ri=function(e){var t=M.useState(!e.bIsFirstOpen),n=t[0],r=t[1];M.useEffect(function(){return r(!0)},[]);var i="https://media.st.dl.pinyuncloud.com/store/promo/lunar2020/red_envelope_2020.mp4"+(e.bIsFirstOpen?"":"#t=5,6"),a="https://media.st.dl.pinyuncloud.com/store/promo/lunar2020/red_envelope_2020.webm"+(e.bIsFirstOpen?"":"#t=5,6"),o=e.iDoorIndex==ce.GetDoorCount()-1;return M.createElement(k.d,{className:Ee.a.LunarNewYearOpenEnvelopeVideoDialog,closeModal:e.closeModal},M.createElement("div",{className:Ee.a.Container},M.createElement("div",{className:Ee.a.Column},M.createElement("div",{className:Ee.a.StoryHeader},Object(V.f)("#Lunar2020_StoryTitle")),M.createElement("div",{className:Ee.a.StorySubHeader},Object(V.f)("#Lunar2020_StorySubTitle")),M.createElement("div",{className:Ee.a.StorySubHeader},Object(V.f)(ti[e.iDoorIndex])),M.createElement("div",{className:Ee.a.StoryText},Object(V.f)(ni[e.iDoorIndex])),M.createElement("div",{className:Ee.a.VideoBox},M.createElement("div",{className:Object(x.a)(Ee.a.CoinText,n&&Ee.a.Visible)},Object(V.f)("#Lunar2020_ReceivedNumberOfTokens",100)),M.createElement("video",{autoPlay:e.bIsFirstOpen,muted:!0,className:Ee.a.LunarNewYearOpenEnvelopeVideo},M.createElement("source",{src:i,type:"video/mp4"}),M.createElement("source",{src:a,type:"video/webm"}),Object(V.f)("#Lunar2020_ErrorLoadingVideo")))),M.createElement("div",{className:Ee.a.Column},M.createElement("div",{className:Ee.a.StoryPicture},M.createElement("img",{src:ce.GetStoryImage(e.iDoorIndex)})),!o&&M.createElement("div",{className:Ee.a.CheckBackText},Object(V.f)("#Lunar2020_CheckBackEachDayForStory")))),M.createElement("div",{className:Ee.a.Links},M.createElement("div",{className:Ee.a.MarketLink},M.createElement("a",{href:Y.c.STORE_BASE_URL+"lunarnewyearmarket"},Object(V.f)("#Lunar2020_LinkFromVideoToMarket"))),M.createElement("div",{className:Ee.a.MarketLink,onClick:e.closeModal},Object(V.f)("#Lunar2020_LinkBackToSale"))))},ii=n("ZlHF"),ai=n.n(ii),oi=n("T27q"),si=n("NKJh"),ci=n.n(si),li=n("RQmk"),ui=(Object(i.observer)(function(e){var l=e.clanAccountID,u=e.gidAnnouncement,p=e.partnerEventStore,d=e.trackingLocation,t=e.bViewAllShowInfiniteScroll,n=te.a.InitFromClanID(l),m=Object(M.useRef)(null),r=Object(M.useState)(null),i=r[0],h=r[1],a=Object(M.useState)(!0),o=a[0],f=a[1],s=Object(M.useState)(!1),c=s[0],b=s[1];if(Object(M.useEffect)(function(){return Object(z.b)(void 0,void 0,void 0,function(){var t,n,r,i,a,o,s,c;return Object(z.e)(this,function(e){switch(e.label){case 0:return m.current&&m.current("PartnerEventRow Initializng new mount"),t=A.a.CancelToken.source(),m.current=t.cancel,n=te.a.InitFromClanID(l),[4,et.a.LoadClanInfoForClanSteamID(n)];case 1:return e.sent(),[4,p.LoadAdjacentPartnerEventsByAnnouncement(u,n,null,4,4,void 0,t)];case 2:return r=e.sent(),t.token.reason||(i=(r=r||[]).filter(function(e){return e.GetAnnouncementGID()!=u}).map(function(e){return e.AnnouncementGID}),Ne.g(i),a=i.slice(0,3).map(function(e){return p.GetClanEventFromAnnouncementGID(e)}),h(a),f(!1),d&&(o=de.a.Get().GetTracker(),s=!1,p.BHasClanAnnouncementGID(u)&&(c=p.GetClanEventFromAnnouncementGID(u))&&c.BIsPartnerEvent()&&c.BIsVisibleEvent()&&(o.MarkEventRead(c.GID,c.clanSteamID.GetAccountID(),d),s=!0),0<a.length&&(r.filter(function(e){return e.BIsPartnerEvent()}).forEach(function(e){return o.MarkEventShown(e.GID,e.clanSteamID.GetAccountID(),d)}),s=!0),s&&o.Flush())),[2]}})}),function(){m.current&&m.current("PartnerEventRow: unmounting")}},[l,u,p,d]),o)return I.a.createElement(G.a,{position:"center",size:"medium"});if(0==i.length)return I.a.createElement("div",null);var _=et.a.GetClanInfoByClanAccountID(l);return I.a.createElement(fe.a,null,I.a.createElement("div",{className:J.a.OtherEventsCtn},I.a.createElement("div",{className:C.a.EventSectionTitleCtn},I.a.createElement("div",{className:Object(x.a)(C.a.EventSectionTitle,"EventSectionTitle")},Object(V.o)("#EventBrowse_MoreEventsTitle",_.group_name)," "),I.a.createElement("div",{className:C.a.EventSectionSpacer}," "),t?I.a.createElement("div",{className:C.a.EventSectionMoreBtn,onClick:function(){return b(!0)}},Object(V.f)("#EventBrowse_MoreEventsBtn")):I.a.createElement(we.c,{eventModel:i[0],route:we.a.k_eViewWebSiteHub,className:C.a.EventSectionMoreBtn},Object(V.f)("#EventBrowse_MoreEventsBtn"))),I.a.createElement("div",{className:J.a.OtherEvents},i.map(function(e){return I.a.createElement(ui,{key:e.AnnouncementGID,event:e})})),Boolean(c)&&I.a.createElement(yt,{appid:i[0].appid,clanSteamID:n,announcementGID:i[0].AnnouncementGID,closeModal:function(){return b(!1)},partnerEventStore:p})))}),Object(i.observer)(function(e){var t=e.event,n=e.imageURLOverride,r=e.openNewWindow,i=e.appInfo,a=e.langOverride,o=e.onClick;if(!t)return I.a.createElement("div",{className:J.a.OtherEvents_EventCtn});var s=a||Object(ge.h)(Y.c.LANGUAGE),c=void 0!==n?n:t.GetImageURLWithFallback("capsule",s,re.c.capsule_main),l=t.GetNameWithFallback(s)||"",u=t.GetCategoryAsString(),p=t.GetSummaryWithFallback(s),d=t.GetSubTitleWithLanguageFallback(s)||"",m=Object(ee.o)(c);return d&&(30<d.length||30<l.length)&&(d=void 0),I.a.createElement(I.a.Fragment,null,I.a.createElement(we.c,{className:Object(x.a)(J.a.OtherEvents_EventCtn,J.a.HoversEnabled),eventModel:t,route:we.a.k_eView,openNewWindow:r,onClick:o},I.a.createElement("div",{className:J.a.EventSummaryContainer},I.a.createElement("div",{className:J.a.EventSummaryType},u),I.a.createElement("div",{className:J.a.EventSummaryText},p)),I.a.createElement("div",{className:J.a.OtherEvents_BGImage,style:{backgroundColor:"#ffffff",backgroundImage:"url("+m+")"}}),I.a.createElement("div",{className:J.a.OtherEvents_ContentCtn},I.a.createElement("div",{className:J.a.OtherEvents_MainImageCtn},I.a.createElement("img",{src:c,className:J.a.OtherEvents_MainImage})),I.a.createElement("div",{className:J.a.OtherEvents_TextCtn},I.a.createElement("div",{className:J.a.OtherEvents_TextTitle},l),d&&I.a.createElement("div",{className:J.a.OtherEvents_SubTitle},d),I.a.createElement(Ht.a,{bSingleLine:!0,dateAndTime:t.GetStartTimeAndDateUnixSeconds()})))),i&&I.a.createElement("span",{className:J.a.AppCapsuleCtn},I.a.createElement(li.a,{strURL:Y.c.STORE_BASE_URL+"app/"+i.appid,type:"app",id:i.appid,hoverClassName:J.a.AppCapsuleImageHover},I.a.createElement("img",{className:J.a.AppCapsuleImage,src:e.appInfo.tiny_capsule})),I.a.createElement("span",{className:J.a.AppCapsulePrice},Boolean(e.appInfo.discount_percent)&&I.a.createElement("span",{className:ci.a.StoreSaleDiscountBox},"-"+e.appInfo.discount_percent+"%"),!e.appInfo.is_free&&e.appInfo.price&&I.a.createElement("span",{className:ci.a.StoreSalePriceBox},e.appInfo.price))))}));Object(i.observer)(function(e){var t=e.event,n=e.imageURLOverride,r=e.openNewWindow,i=e.onClick;if(!t)return I.a.createElement("div",{className:J.a.OtherEvents_EventCtn});var a=Object(ge.h)(Y.c.LANGUAGE),o=void 0!==n?n:t.GetImageURLWithFallback("capsule",a,re.c.capsule_main),s=t.GetNameWithFallback(a),c=t.GetCategoryAsString();return I.a.createElement(we.c,{className:J.a.OtherEvents_EventCtn+" "+J.a.HorizontalEvent,eventModel:t,route:we.a.k_eView,openNewWindow:r,onClick:i},I.a.createElement("div",{className:J.a.OtherEvents_ContentCtn},I.a.createElement("div",{className:J.a.OtherEvents_MainImageCtn},I.a.createElement("img",{src:o,className:J.a.OtherEvents_MainImage}))),I.a.createElement("div",{className:J.a.OtherEvents_TextCtn},I.a.createElement("div",{className:J.a.HorizontalDescriptionCtn},I.a.createElement("div",{className:J.a.HorizontalDescription},c),I.a.createElement(Ht.a,{bSingleLine:!0,dateAndTime:t.GetStartTimeAndDateUnixSeconds()})),I.a.createElement("div",{className:J.a.HorizontalTitle},s)))}),n("bUNj");function pi(e){return"dlc"===e.smart_section_type||"dlc_onsale"===e.smart_section_type||"dlc_music_onsale"===e.smart_section_type}function di(e){return e.capsules_per_row_array?e.capsules_per_row_array:e.adaptive_capsules_per_row?[2,3,4,3]:[e.capsules_per_row||1]}function mi(e){return e.capsule_style_per_row_array?e.capsule_style_per_row_array:di(e).every(function(e){return 1===e})?["fullrow"]:["grid"]}function hi(e,t,n,r){return Boolean("events"===e.section_type)?r?r.map(function(r){return{Render:function(e){return t=r,n=e.section,M.createElement("div",{key:n.unique_id+"_"+t.GID,style:{},className:J.a.OtherEvents},M.createElement($t.a,{event:t}),M.createElement(ui,{event:t,openNewWindow:!0,appInfo:n.hide_prices?void 0:H.a.GetAppLinkInfo(t.appid),onClick:function(e){de.a.Get().RecordEventRead(t,8),Object(oi.a)(t,Ce.n(e)),e.stopPropagation(),e.preventDefault()}}));var t,n}}}):[]:Boolean("links"===e.section_type)||Boolean("sale_tabhub"===e.smart_section_type)?n?n.map(function(s){return{Render:function(e){return t=s,r=(n=e).saleEvent,i=n.language,a=n.index,o=n.section,M.createElement(Fa,{key:o.unique_id+"_"+a,link:t,language:i,clanAccountID:r.clanSteamID.GetAccountID(),strClassName:ai.a.LinkCapsule});var t,n,r,i,a,o}}}):[]:Boolean("items"===e.section_type)&&t?t.map(function(t){return{Render:function(e){return function(e,t){var n=t.capsuleStyle,r=t.index,i=t.section,a=t.saleEvent,o=t.rowElements,s=pi(i),c=a.BIsLockedToAppOwners(),l=i.unique_id+"_"+r+"_"+e.type+"_"+e.id;if("fullrow"!==n){var u="tall"===n?"library":"header";return M.createElement(Da,{imageType:u,key:l,capsule:e,bShowParentApp:s,bUseSubscriptionLayout:c,bShowDemoButton:i.show_as_demos,bHidePrice:i.hide_prices,bHidePlatforms:5<=o,index:r})}var p=i.single_item_style?i.single_item_style:ee.p;return M.createElement("div",{key:l,className:Object(x.a)("bordered"==p&&ai.a.AppSummaryWidgetCtn,0===r&&ja+r)},M.createElement(ya,{id:e.id,type:e.type,displayStyle:p,bUseSubscriptionLayout:c,bShowDemoButton:i.show_as_demos,bHidePrice:i.hide_prices}))}(t,e)}}}):[]}function fi(e,t){return t[e%t.length]}function bi(e,t){return"tall"===e?t+1:t}function _i(e){var l=e.saleEvent,u=e.section,p=e.language,t=e.nMaxCapsulesPerRow,n=e.bScreenIsWide,r=e.nShowAdditionalRows,i=hi(u,e.capsules,e.links,e.events);if(0===i.length)return{content:null,bAdditionalContent:!1};function a(e,t,n,r,i){for(var a=new Array,o=t;o<n;o++){var s={capsuleStyle:i,section:u,saleEvent:l,language:p,index:o,rowElements:r},c=e[o].Render(s);c&&a.push(c)}return a}var o=null,s=!1,c=1===i.length,d=c?[1]:di(u),m=c&&1<t?["fullrow"]:mi(u),h=Object(ee.l)(u),f=u.show_as_carousel&&h<=1,b=fi(0,m),_=Math.min(d[0],bi(b,t));if(f&&i.length>_)o=M.createElement(vn,{hideArrows:!n,visibleElements:_,className:Object(x.a)("SaleSectionCarousel","SaleSectionCarouselPadding"),useTestScrollbar:!0,bLazyRenderChildren:!0},a(i,0,i.length,_,b));else{var v=function(e,t){if(e.show_as_carousel)return 0;var n=Object(ee.k)(e);return n<=0?0:n+t}(u,r),g=!0;if(u.show_as_carousel)v=h,g=f;else if(0==r&&0<v){for(var y=0,S=0;y<v&&S<i.length;y++){S+=D=Math.min(d[y%d.length],t)}v=Math.max(2,y)}for(var w=new Array,C=new Array,O=0,E=0;O<i.length;E++){for(var B=0;(0==v||B<v)&&O<i.length;B++){var A,I=fi(B,m),j=bi(I,t),D=Math.min(d[B%d.length],j),R=Math.min(D,i.length-O);R<D&&0===B&&(A="tall"===I?3:2,D=Math.max(A,R)),C.push(M.createElement(vi,{key:"Row_"+B,nMaxItems:D,nItems:R},a(i,O,O+R,D,I))),O+=R}if(g)break;if(O>=i.length&&0===w.length)break;var T=w.length||void 0;w.push(M.createElement("div",{className:ai.a.CarouselPage,key:"Page_"+E},M.createElement(Q.b,{depth:T},C))),C=[]}o=0==w.length?(s=i.length>O,M.createElement(M.Fragment,null,C)):M.createElement(vn,{hideArrows:!n,visibleElements:1,className:"SaleSectionCarousel",useTestScrollbar:!0,bLazyRenderChildren:!0},w)}return{content:o,bAdditionalContent:s}}function vi(e){var t=e.nMaxItems,n=t-e.nItems,r=n%2!=0?"minmax(0, 0.5fr) repeat("+(t-1)+", minmax(0, 1fr)) minmax(0, 0.5fr)":"repeat("+t+", minmax(0, 1fr))",i=null,a=null;if(0<n)for(var o=Math.floor((1+n)/2),i=new Array,a=new Array,s=0;s<o;s++)i.push(M.createElement("div",{key:"front_"+s})),a.push(M.createElement("div",{key:"back_"+s}));return M.createElement("div",{className:Object(x.a)(C.a.SaleSectionContainer,ai.a.SaleSectionContainer),style:{gridTemplateColumns:1<t?r:null}},i,e.children,a)}var gi=n("gyoR");function yi(e){e.list_jsondata&&"string"==typeof e.list_jsondata?e.list_jsondata=JSON.parse(e.list_jsondata):(Object(Le.a)(!e.list_jsondata,"Found unexpected ListDetails_t.list_jsondata type: "+typeof e.list_jsondata),e.list_jsondata={})}var Si="0";function wi(e,n){n.localized_flat_title=Object(Ne.f)([],30,null),n.localized_flat_blurb=Object(Ne.f)([],30,null),n.localized_flat_link=Object(Ne.f)([],30,null),n.title!==Si&&(n.localized_flat_title[e]=n.title),n.blurb!==Si&&(n.localized_flat_blurb[e]=n.blurb),n.link!==Si&&(n.localized_flat_link[e]=n.link),n.title_localization.forEach(function(e){var t;0<(null===(t=e.localized_string)||void 0===t?void 0:t.length)&&(n.localized_flat_title[e.language]=e.localized_string)}),n.blurb_localization.forEach(function(e){var t;0<(null===(t=e.localized_string)||void 0===t?void 0:t.length)&&(n.localized_flat_blurb[e.language]=e.localized_string)}),n.link_localization.forEach(function(e){var t;0<(null===(t=e.localized_string)||void 0===t?void 0:t.length)&&(n.localized_flat_link[e.language]=e.localized_string)})}var Ci=function(){function e(){var n=this;this.m_mapList=new Map,this.m_mapEventGIDToLists=new Map,this.m_mapListIDToClanAccount=new Map,"dev"==Y.c.WEB_UNIVERSE&&(window.g_curatorListStore=this);var e=Object(Y.g)("curatorlistdata","application_config");"dev"!=Y.c.WEB_UNIVERSE&&"beta"!=Y.c.WEB_UNIVERSE||console.log("DEV_DEBUG: CCuratorListStore loading list payload: "+(null==e?void 0:e.length),e),this.ValidateStoreDefault(e)&&Object(oe.runInAction)(function(){e.forEach(function(t){t.multi_detail_lists.forEach(function(e){yi(e),wi(t.curation_language,e),n.m_mapList.set(e.listid,e)})})})}return e.prototype.GetListDetails=function(e){return this.m_mapList.get(e)},e.prototype.GetAllSaleCurationLists=function(e){return this.m_mapEventGIDToLists.get(e)||[]},e.prototype.GetClanAccountFromListID=function(e){return this.m_mapListIDToClanAccount.get(e)},e.prototype.LoadListDetails=function(s,c,l){var u;return Object(z.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(z.e)(this,function(e){switch(e.label){case 0:if(this.m_mapList.has(c))return[2,this.m_mapList.get(c)];t=Y.c.STORE_BASE_URL+"curator/"+s.GetAccountID()+"/admin/ajaxgetlistdetails",n={listid:c},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,A.a.get(t,{params:n,cancelToken:null==l?void 0:l.token})];case 2:return r=e.sent(),1==(null===(u=null==r?void 0:r.data)||void 0===u?void 0:u.success)?(i=Object(z.a)({},r.data.list_details),Object(Le.a)(c==(null==i?void 0:i.listid),"Wanted"+c+"but got"+(null==i?void 0:i.listid)),yi(i),wi(r.data.curation_language,i),this.m_mapList.set(c,i),this.m_mapListIDToClanAccount.set(c,s.GetAccountID()),[2,i]):[3,4];case 3:return a=e.sent(),o=Object(q.a)(a),console.error("CCuratorListStore.LoadListDetails: error on load: "+o.strErrorMsg,o),[3,4];case 4:return[2,null]}})})},e.prototype.LoadMyFollowedSaleCurationLists=function(r,i,a){return Object(z.b)(this,void 0,void 0,function(){var t,n;return Object(z.e)(this,function(e){return!Y.h.logged_in||W.a.BIsLoaded()&&0==W.a.GetFollowedCuratorCount()?[2,[]]:(t=Y.c.STORE_BASE_URL+"curators/ajaxgetmycuratorsalelists",n={clan_account_id:r.GetAccountID(),clan_event_gid:i,origin:self.origin,curator_clan_account_followed:W.a.BIsLoaded()?W.a.GetFollowedCuratorsAccountID().join(","):void 0},[2,this.InternalLoadSaleCuratorLists(t,n,"CCuratorListStore.LoadMyFollowedSaleCurationLists",r,i,a)])})})},e.prototype.LoadAllSaleCurationLists=function(r,i,a){return Object(z.b)(this,void 0,void 0,function(){var t,n;return Object(z.e)(this,function(e){return this.m_mapEventGIDToLists.has(i)?[2,this.m_mapEventGIDToLists.get(i)]:(t=Y.c.STORE_BASE_URL+"curators/ajaxfindcuratorlists",n={clan_account_id:r.GetAccountID(),clan_event_gid:i,origin:self.origin},[2,this.InternalLoadSaleCuratorLists(t,n,"CCuratorListStore.LoadAllSaleCurationLists",r,i,a)])})})},e.prototype.InternalLoadSaleCuratorLists=function(o,s,c,e,l,u){var p;return Object(z.b)(this,void 0,void 0,function(){var t,n,r,i,a=this;return Object(z.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,A.a.get(o,{params:s,cancelToken:null==u?void 0:u.token})];case 1:return t=e.sent(),1==(null===(p=null==t?void 0:t.data)||void 0===p?void 0:p.success)?(n=new Array,Object(oe.runInAction)(function(){t.data.matches&&t.data.matches.forEach(function(t){t.multi_detail_lists.forEach(function(e){a.m_mapListIDToClanAccount.set(e.listid,t.clan_account_id),yi(e),wi(t.curation_language,e),a.m_mapList.set(e.listid,e),n.push(e)})}),a.m_mapEventGIDToLists.set(l,n)}),[2,n]):[3,3];case 2:return r=e.sent(),i=Object(q.a)(r),console.error(c+": error on load: "+i.strErrorMsg,i),[3,3];case 3:return[2,[]]}})})},e.Get=function(){return e.s_Singleton||(e.s_Singleton=new e),e.s_Singleton},e.prototype.ValidateStoreDefault=function(e){var t=e;return t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0]?"number"==typeof t[0].curation_language&&t[0].multi_detail_lists&&Array.isArray(t[0].multi_detail_lists)&&"string"==typeof t[0].multi_detail_lists[0].listid&&"number"==typeof t[0].multi_detail_lists[0].list_type&&"number"==typeof t[0].multi_detail_lists[0].list_state:t&&Array.isArray(t)&&0==t.length},Object(z.c)([oe.observable],e.prototype,"m_mapList",void 0),e}();var Oi=n("IGe8"),Ei=Object(i.observer)(function(e){var t,d=e.saleSection,m=e.event,n=e.bPreviewMode;if(Y.c.EREALM===b.p.k_ESteamRealmChina)return null;if(!n&&d.featured_curator_list_rtime_start&&d.featured_curator_list_rtime_start>N.a.GetTimeNowWithOverride())return null;var r=M.useState(null),i=r[0],h=r[1];return M.useEffect(function(){var p=A.a.CancelToken.source();return Object(z.b)(void 0,void 0,void 0,function(){var r,n,t,i,a,o,s,c,l,u;return Object(z.e)(this,function(e){switch(e.label){case 0:return r=new Array,n=new Array,t=null,Y.h.logged_in?[4,W.a.HintLoad()]:[3,2];case 1:e.sent(),0<W.a.GetFollowedCuratorCount()&&!p.token.reason&&(t=Ci.Get().LoadMyFollowedSaleCurationLists(m.clanSteamID,m.GID,p)),e.label=2;case 2:return 0<(null===(u=null==d?void 0:d.featured_curator_list)||void 0===u?void 0:u.length)&&!p.token.reason&&d.featured_curator_list.forEach(function(e){var t=te.a.InitFromClanID(e.clanAccountID);n.push(Ci.Get().LoadListDetails(t,e.listID,p))}),[4,Promise.all(n)];case 3:return i=e.sent()||[],[4,t];case 4:return a=e.sent()||[],o=new Set,s=new Set,c=new Array,l=i.filter(function(n){return V.e.GetELanguageFallbackOrder().some(function(e){var t;return 0<(null===(t=n.localized_flat_title[e])||void 0===t?void 0:t.length)})}),Object(z.g)(a,l).forEach(function(e){var t,n;o.has(e.listid)||(o.add(e.listid),r.push(e),t=Ci.Get().GetClanAccountFromListID(e.listid),s.has(t)||(s.add(t),n=te.a.InitFromClanID(t),c.push(et.a.LoadClanInfoForClanSteamID(n))))}),[4,Promise.all(c)];case 5:return e.sent(),p.token.reason||h(r),[2]}})}),function(){return null==p?void 0:p.cancel("CuratorRecommendationSaleWidget: unmounting")}},[m.GID,m.clanSteamID,d.featured_curator_list,null===(t=d.featured_curator_list)||void 0===t?void 0:t.length]),i&&0!=i.length?M.createElement(Q.b,{feature:"salecuratorrec"},M.createElement(vn,{hideArrows:!ra(),visibleElements:1,useTestScrollbar:!0,bLazyRenderChildren:!0,className:Object(x.a)("SaleSectionCarousel","SaleSectionCarouselPadding",ii.SaleSection,ii.CarouselDisplay)},i.map(function(e){return M.createElement(Ai,{key:e.listid,list:e,event:m})}))):null}),Bi=function(){function e(){this.m_mapSaleEventToFeatureAppSet=new Map}return e.prototype.GetFeaturedAppSet=function(e){return this.m_mapSaleEventToFeatureAppSet.has(e.GID)||this.m_mapSaleEventToFeatureAppSet.set(e.GID,e.GetSaleFeaturedApps()),this.m_mapSaleEventToFeatureAppSet.get(e.GID)},e.Get=function(){return e.s_Singleton||(e.s_Singleton=new e),e.s_Singleton},e}(),Ai=function(e){var i=e.list,a=e.event,t=et.a.GetClanInfoByClanAccountID(Ci.Get().GetClanAccountFromListID(i.listid)),n=M.useState(null),r=n[0],o=n[1],s=Object(ge.h)(Y.c.LANGUAGE),c=V.a.GetWithFallback(i.localized_flat_title,s);0==c.length&&(c=Object(V.f)("#Sale_CuratorDisplay_ListDefaultTitle"));var l=V.a.GetWithFallback(i.localized_flat_blurb,s);0==l.length&&(l=Object(V.f)("#Sale_CuratorDisplay_ListDefaultDesc",t.group_name));var u=Y.c.STORE_BASE_URL+"curator/"+t.clanAccountID+"/list/"+i.listid;M.useEffect(function(){var t=new Array,n=Bi.Get().GetFeaturedAppSet(a);i.apps.forEach(function(e){n.has(e.recommended_app.appid)&&t.push(_.a.Get().QueueAppRequest(e.recommended_app.appid,{include_assets:!0}))});var r=new Array;Promise.all(t).then(function(){i.apps.forEach(function(e){var t=_.a.Get().GetApp(e.recommended_app.appid);r.length<12&&null!=t&&t.BIsVisible()&&t.assets&&r.push(t.assets.GetHeaderURL())});for(var e=0;0<r.length&&r.length<6;)r.push(r[e++]);o(r)})},[a,i.apps,12]);var p=(r||[]).map(function(e,t){return M.createElement("img",{key:e+t,src:e})});return M.createElement("div",{className:Oi.CuratorCtn},Boolean(r)&&M.createElement("div",{className:Oi.CuratorBackgroundCtn},M.createElement("div",{className:Oi.BackgroundTintCtn},M.createElement("img",{className:Oi.CuratorAvatar,src:t.avatar_full_url})),M.createElement("div",{className:Oi.BackgroundGamesCtn},M.createElement("div",{className:Oi.BackgroundGames},p))),M.createElement("div",{className:Oi.CuratorContentCtn},M.createElement("div",{className:Oi.CuratorFollowCtn},M.createElement(Qe.b,{clanAccountID:t.clanAccountID})),M.createElement("div",{className:Oi.CuratorMiddleCtn},M.createElement(Me.d,{toolTipContent:t.group_name,className:Oi.CuratorAvatarCtn},M.createElement("img",{className:Oi.CuratorAvatar,src:t.avatar_full_url})),M.createElement("div",{className:Oi.ListDescCtn},M.createElement("div",{className:Oi.SmallText},M.createElement("div",{className:Oi.explore},Object(V.f)("#Sale_CuratorDisplay_Explore")),M.createElement("div",{className:Oi.groupName},t.group_name)),M.createElement("div",{className:Oi.ListTitle},c),M.createElement("div",{className:Oi.ListDesc},l),M.createElement("a",{className:Oi.ListLink,href:Object(Fe.e)(u)},Object(V.f)("#Sale_CuratorDisplay_Explore"))))))},Ii=n("U9Ih"),ji=n.n(Ii),Di=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={currentFlavor:e.GetDefaultTab(),bInitialLoadComplete:!1,rgCapsules:[],rgAllCapsules:[],nVisibleRows:12,nNumRequestedLastTime:0,bIsMoreAvailable:!1,bAwaitingMoreRowsLoading:!1,nHiddenCapsules:0,strSearchQuery:"",strRawSearch:""},e.m_timerForChange=new ot.b,e.m_cancelSignal=A.a.CancelToken.source(),e.m_nHighestSentRequestID=0,e.m_nHighestReceivedRequestID=0,e}return Object(z.d)(e,t),e.prototype.componentDidMount=function(){this.LoadCapsules(12)},e.prototype.componentWillUnmount=function(){this.m_timerForChange.Cancel(),this.m_cancelSignal.cancel("SaleItemBrowser component unmounted")},e.prototype.componentDidUpdate=function(e){var t=this;this.props.browseInfo==e.browseInfo&&this.props.event==e.event&&this.props.activeTab==e.activeTab||this.setState({bInitialLoadComplete:!1,nVisibleRows:12,nNumRequestedLastTime:0},function(){return t.LoadCapsules(12)})},e.prototype.ShowMoreRows=function(){var e=this;this.m_cancelSignal.token.reason||this.state.bAwaitingMoreRowsLoading||this.setState({bAwaitingMoreRowsLoading:!0},function(){return Object(z.b)(e,void 0,void 0,function(){var t;return Object(z.e)(this,function(e){return t=this.state.nVisibleRows+8,this.LoadCapsules(t),[2]})})})},e.prototype.LoadCapsules=function(g){return Object(z.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,p,d,m,h,f,b,_,v;return Object(z.e)(this,function(e){switch(e.label){case 0:return t=this.props,n=t.event,r=t.bIsPreview,i=t.activeTab,a=this.state,o=a.currentFlavor,s=a.rgCapsules,c=a.nNumRequestedLastTime,l=a.nHiddenCapsules,u=a.strSearchQuery,[4,W.a.HintLoad()];case 1:e.sent(),p=!0,d=Math.max(c,g+1),null!=i&&i.BIsTabFilteringEnabled()&&(d=Math.max(d,100)),N.a.GetTimeNowWithOverride(),e.label=2;case 2:if(!(s.length<=g&&p))return[3,9];m=this.m_nHighestSentRequestID,h=void 0,e.label=3;case 3:return e.trys.push([3,5,,6]),[4,ae.GetSaleGamesByFlavor(r,null==i?void 0:i.GetActiveTabUniqueID(),n,o,this.props.FacetCapsuleFilter,d,0,u,this.m_cancelSignal)];case 4:return f=e.sent(),h=f.appids,p=f.bHasPossibleMoreResults,[3,6];case 5:return b=e.sent(),this.m_cancelSignal.token.reason||(console.error("Failed to load games for browser;"+b.message),this.setState({bInitialLoadComplete:!0,bAwaitingMoreRowsLoading:!1})),[2];case 6:return this.m_nHighestReceivedRequestID>m?[2]:(this.m_nHighestReceivedRequestID=m,s=h.map(function(e){return{id:e,type:"game"}}),this.state.strSearchQuery||(s=s.filter(function(e){return!i||i.ShouldShowCapsule(e)})),[4,Object(gi.e)(s)]);case 7:return e.sent(),_=new Array,[4,Object(gi.a)(s,!1,_)];case 8:return s=e.sent(),l=_.length,s.length<=g&&(d+=8),[3,2];case 9:return this.m_cancelSignal.token.reason?[2]:(v=s.length>g||p,this.setState({bInitialLoadComplete:!0,rgCapsules:s,rgAllCapsules:s,nVisibleRows:g,nNumRequestedLastTime:d,bIsMoreAvailable:v,bAwaitingMoreRowsLoading:!1,nHiddenCapsules:l}),[2])}})})},e.prototype.OnFlavorLabelClick=function(e){var t=this;this.m_timerForChange.Cancel(),this.m_cancelSignal.token.reason||this.setState({currentFlavor:e,bInitialLoadComplete:!1,rgCapsules:[],rgAllCapsules:[],nVisibleRows:12,nNumRequestedLastTime:0,bIsMoreAvailable:!0,bAwaitingMoreRowsLoading:!0,strSearchQuery:"",strRawSearch:""},function(){return t.LoadCapsules(12)})},e.prototype.GetDefaultTab=function(){var e=this.props.browseInfo;return null!=e&&e.tabs&&e.tabs.find(function(t){return ee.s.find(function(e){return e.flavor===t})})||null},e.prototype.RenderTabHeaders=function(){var t=this,e=this.state,n=e.currentFlavor,r=e.strRawSearch,i=this.props.browseInfo;if(null==i||!i.tabs)return null;var a=Boolean(r)?"search":n;return i.tabs.map(function(t){return ee.s.find(function(e){return e.flavor===t})}).filter(function(e){return!!e}).map(function(e){return I.a.createElement(Me.d,{key:e.flavor,toolTipContent:Object(V.f)(e.tooltip),onClick:function(){return t.OnFlavorLabelClick(e.flavor)},className:Object(x.a)(ji.a.FlavorLabel,a==e.flavor&&ji.a.SelectedFlavor)},Object(V.f)(e.label))})},e.prototype.OnApplySearch=function(e){var t=this;this.m_cancelSignal.token.reason||this.setState({bInitialLoadComplete:!1,rgCapsules:[],rgAllCapsules:[],nVisibleRows:12,nNumRequestedLastTime:0,bIsMoreAvailable:!0,bAwaitingMoreRowsLoading:!0,strSearchQuery:e},function(){return t.LoadCapsules(12)})},e.prototype.OnUpdateSearch=function(e){var t,n=this;this.m_cancelSignal.token.reason||(t=e.target.value&&e.target.value.trim().toLocaleLowerCase(),this.setState({strRawSearch:e.target.value}),this.m_nHighestSentRequestID++,this.m_timerForChange.Schedule(200,function(){return n.OnApplySearch(t)}))},e.prototype.GetSNRFeature=function(){return this.state.strRawSearch?"saleitemsearch":this.state.currentFlavor?"salebrowse"+this.state.currentFlavor:"saleitembrowse"},e.prototype.render=function(){var t=this.props.browseInfo,e=this.state,n=e.bInitialLoadComplete,r=e.rgCapsules,i=e.nVisibleRows,a=e.bIsMoreAvailable,o=e.bAwaitingMoreRowsLoading,s=e.strRawSearch,c=Boolean(s),l=this.RenderTabHeaders();return l&&0!=l.length?I.a.createElement("div",{className:ji.a.SaleItemBrowserContainer},I.a.createElement(rr,{className:ji.a.SaleItemBrowserHeaderContainer},I.a.createElement("div",{className:ji.a.SaleItemBrowserHeader},l,t.enable_search&&I.a.createElement("div",{className:ji.a.SuggestContainer},I.a.createElement(P.R,null),I.a.createElement(be.m,{type:"text",onChange:this.OnUpdateSearch,bAlwaysShowClearAction:c,value:s})))),n&&I.a.createElement(Q.b,{feature:this.GetSNRFeature()},r.slice(0,i).map(function(e){return I.a.createElement("div",{key:e.id,className:ci.a.SaleItemBrowserRow},I.a.createElement(Sa,{id:e.id,type:e.type||"game",bShowDemoButton:Boolean(t.show_as_demos),bLoadShortDescription:!1}))})),n&&0==r.length&&I.a.createElement("div",{className:ji.a.EmptyResults},Object(V.f)("#Sale_EmptySearchResultsOrLoadFailure")),(!n||a)&&I.a.createElement("div",{className:Object(x.a)(ji.a.ShowContentsContainer,!n&&ji.a.Loading)},!n||o?I.a.createElement(G.a,{size:"medium"}):I.a.createElement("button",{onClick:this.ShowMoreRows,className:ji.a.ShowContentsButton},Object(V.f)("#Sale_ShowMore")))):null},Object(z.c)([w.a],e.prototype,"ShowMoreRows",null),Object(z.c)([w.a],e.prototype,"OnUpdateSearch",null),Object(z.c)([i.observer],e)}(I.a.Component),Ri=n("onkS"),Ti=n("UxvL"),Mi=n("l2mU"),Ni=n("31dG"),Li=n.n(Ni);function ki(e,t){for(var n=[],r=0,i=e.capsules;r<i.length;r++){var a=i[r];if("sub"===a.type){var o=E.b.GetPackageInfo(a.id);if(o){if(o.renewal_time_amount===t)return o.packageid}else n.push(a.id)}}0<n.length&&E.b.LoadPackageInfo(n)}function Fi(e,t,n,r){var i=e.createElement("input");i.type="hidden",i.name=n,i.value=r,t.appendChild(i)}var Pi=Object(i.observer)(function(a){var o=Object(Q.c)(),e=a.language,t=a.logo_image,n=a.sub_package_id,r=a.compare_package_id,i=a.price_loc_token,s=a.price_discount_loc_token,c=a.body_loc_token,l=a.body_discount_loc_token,u=a.button_text,p=E.b.GetPackageInfo(n),d=E.b.GetPackageInfo(r);if(!p||!d&&r)return E.b.LoadPackageInfo([n,r]),null;if(!p.formatted_final_price)return null;var m=p.formatted_final_price,h=p.discount_end_rtime,f=(p.discount_percent,Object(Mi.a)(p,d)),b=[m,f||""],_=V.f.apply(void 0,Object(z.g)([i],b)),v=V.f.apply(void 0,Object(z.g)(["#Sale_Subscription_Save"],b)),g=V.f.apply(void 0,Object(z.g)([c],b));p.renewal_formatted_final_price&&m!=p.renewal_formatted_final_price&&(_=Object(V.f)(s,m),g=Object(V.f)(l,p.renewal_formatted_final_price));var y,S,w=null;t&&(S=null,S="string"==typeof(y=Object(Xe.a)(t,e))?M.createElement("img",{src:y}):M.createElement(Ti.a,{rgSources:y}),w=M.createElement("div",{className:Li.a.LogoImg},S));var C=function(e){for(var t=0,n=e.appids;t<n.length;t++){var r=n[t];if(W.a.BOwnsApp(r))return!0}return!1}(p),O=null,O=W.a.BOwnsPackage(n)?M.createElement("div",{className:Object(x.a)(Li.a.PurchaseButton,Li.a.AlreadyOwnedPackage)},Object(V.f)("#Sale_Subscription_AlreadyOwnedPackage")):C?M.createElement("div",{className:Object(x.a)(Li.a.PurchaseButton,Li.a.AlreadyOwnedApp)},Object(V.f)("#Sale_Subscription_AlreadyOwnedApp")):M.createElement("div",{className:Object(x.a)(Li.a.PurchaseButton,Li.a.UnOwned),onClick:function(e){var t,n,r,i;Object(B.c)(o);t=e,n=a.sub_package_id,r=Object(Ce.n)(t),(i=r.document.createElement("form")).action=Y.c.STORE_BASE_URL+"cart/",i.method="POST",i.style.display="none",Fi(document,i,"action","add_to_cart"),Fi(document,i,"subid",n.toString()),Fi(document,i,"sessionid",Y.c.SESSIONID),Fi(document,i,"snr",Y.c.SNR),r.document.documentElement.append(i),i.submit(),e.preventDefault()}},u);return M.createElement("div",{className:Li.a.SubscriptionBlock},w,M.createElement("div",{className:Li.a.PriceBlock},M.createElement("span",{className:Object(x.a)(Li.a.PriceDisplay,Boolean(h)?Li.a.LimitedDiscount:"")},_),Boolean(f)&&M.createElement("span",{className:Li.a.SavingsDisplay},v)),M.createElement("div",{className:Li.a.BodyTextBlock},g,Boolean(h)&&M.createElement("div",{className:Li.a.ExpirationTextBlock},Object(V.o)("#Sale_Subscription_NewSubsOfferEnds",Object(V.p)(h)))),O)}),Gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.section,r=t.language,i=ki(n,12),a=ki(n,1),o=null===(e=n.internal_section_data)||void 0===e?void 0:e.subscription_logo_image;return M.createElement(Q.b,{feature:"salesubscription"},M.createElement("div",{className:Li.a.MainBlock},M.createElement("span",{className:Li.a.SelectAPlan},Object(V.f)("#Sale_Subscription_SelectPlan")),M.createElement("div",{className:Li.a.SubscriptionListBlock},M.createElement(Pi,{sub_package_id:i,logo_image:o,language:r,compare_package_id:a,price_loc_token:"#Sale_Subscription_Annual_Price",price_discount_loc_token:"#Sale_Subscription_Annual_Price_Discount",body_loc_token:"#Sale_Subscription_Annual_Body",body_discount_loc_token:"#Sale_Subscription_Annual_Body_Discount",button_text:Object(V.f)("#Sale_Subscription_Annual_Button")}),M.createElement(Pi,{sub_package_id:a,logo_image:o,language:r,price_loc_token:"#Sale_Subscription_Monthly_Price",price_discount_loc_token:"#Sale_Subscription_Monthly_Price_Discount",body_loc_token:"#Sale_Subscription_Monthly_Body",body_discount_loc_token:"#Sale_Subscription_Monthly_Body_Discount",button_text:Object(V.f)("#Sale_Subscription_Monthly_Button")}))))},Object(z.c)([i.observer],t)}(M.Component),Ui=n("R+8l");function xi(e,t,n){return{color:e,background:"linear-gradient(0deg, "+(n||"transparent")+" 0%, "+(t||"transparent")+" 100%)"}}function zi(e){var t,n,r=e.tab,i=e.language,a=e.onTabSelected,o=e.classNames,s=e.section,c=e.selected,l=(t=r,n=i,V.a.GetWithFallback(t.localized_label,n)||("#Sale_default_label"===t.default_label?"":Object(V.f)(t.default_label)));if(!l)return null;var u,p=s?(u=s,c?xi(u.tab_active_label_color,u.tab_active_background_gradient_top,u.tab_active_background_gradient_bottom):xi(u.tab_inactive_label_color,u.tab_inactive_background_gradient_top,u.tab_inactive_background_gradient_bottom)):void 0;return M.createElement("div",{className:Object(x.a)(ai.a.SaleTab,o,"SaleTab",c&&"Selected"),onClick:function(){return a(r)},style:p},M.createElement("div",{className:Object(x.a)(ai.a.SaleTabLabel)},l))}function Hi(e){var r=e.section,i=e.activeTab,a=e.onTabSelected,t=e.event,o=e.language,s=e.hideActiveTab,n=function(e){for(var t=0,n=e.GetSaleSections();t<n.length;t++){var r=n[t];if("tabs"===r.section_type)return r}return null}(t);if(!n||!n.tabs||0===n.tabs.length)return null;var c=n.tabs.map(function(e){var t=(null==i?void 0:i.GetActiveTabUniqueID())===e.unique_id;if(t&&s)return null;var n=r.unique_id+"_tab_button_"+e.unique_id;return M.createElement(zi,{key:n,selected:t,tab:e,language:o,classNames:Object(x.a)(ai.a.TabButton,t&&ai.a.TabButtonSelected),onTabSelected:function(e){return a(r,e)}})});return M.createElement("div",{className:ai.a.SaleSection,style:pa(r,t)},M.createElement(Ji,Object(z.a)({},e)),M.createElement("div",{className:ai.a.TabButtonsCtn},c))}var Wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.GetTabReferences=function(t){for(var n=this,e="",r=0,i=this.props.event.GetSaleSections();r<i.length;r++){var a=i[r];"items"===a.section_type&&a.capsules&&(a.show_on_tabs&&0<a.show_on_tabs.length&&!a.show_on_tabs.some(function(e){return e===n.props.tab.unique_id})||a.capsules.find(function(e){return e.type===t.type&&e.id===t.id})&&(e&&(e+="; "),e+=la(a,this.props.language,this.props.event.clanSteamID.GetAccountID(),!0)))}return e},t.prototype.RenderTabCapsules=function(){var e=this.props.tab;if(!e||!e.capsules||!e.capsules.length)return M.createElement("div",{className:ai.a.TabContentsElement},Object(V.f)("#SalePage_Tabs_AllContents"));for(var t=new Array,n=new Set,r=0,i=e.capsules;r<i.length;r++){var a,o,s,c,l=i[r],u=Object(V.f)("#AppType_"+l.type)+"_"+l.id;n.has(u)||(n.add(u),a=null,o=(a="bundle"===l.type?Ui.a.GetBundleInfo(l.id):"sub"===l.type?E.b.GetPackageInfo(l.id):bt.a.GetAppInfo(l.id))&&a.name?a.name:u,s=void 0===l.visibility_index?-1:l.visibility_index,c=this.props.showReferences?l.id+" "+l.type+', "'+o+'", '+this.GetTabReferences(l):void 0===l.visibility_index?o:Object(V.f)("#Sale_TabDayIndex",l.visibility_index),t.push({sName:o,sKey:u,sDisplay:c,nDaySortIndex:s}))}return t.sort(function(e,t){return e.nDaySortIndex!==t.nDaySortIndex?e.nDaySortIndex-t.nDaySortIndex:e.sName.localeCompare(t.sName)}),M.createElement(M.Fragment,null,t.map(function(e){return M.createElement("div",{key:e.sKey,className:ai.a.TabContentsElement},e.sDisplay)}))},t.prototype.render=function(){var e=this.props,t=e.section,n=e.event;return M.createElement("div",{className:Object(x.a)(ai.a.SaleSection),style:pa(t,n)},M.createElement(Ji,Object(z.a)({},this.props)),M.createElement("div",{className:ai.a.TabContentsContainer},this.RenderTabCapsules()))},Object(z.c)([i.observer],t)}(M.Component),Vi=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={nMaxTabsPerRow:n.GetMaxTabsPerRow()},e}return Object(z.d)(n,t),n.GetMaxTabsPerRow=function(){return Math.max(Math.floor(window.innerWidth/160),2)},n.prototype.render=function(){var n=this,e=this.props,r=e.section,t=e.event,i=e.language,a=e.activeTab;if(r.tabs.length<2)return null;var o=Object(x.a)(ai.a.SaleSectionTabsTab),s=r.tabs.map(function(e){var t="Tab_"+e.unique_id;return M.createElement(zi,{key:t,section:r,selected:e===a,tab:e,language:i,classNames:Object(x.a)(o,e===a&&ai.a.SaleSectionTabsSelected),onTabSelected:function(e){return n.props.onTabSelected(r,e)}})});return M.createElement(M.Fragment,null,M.createElement("div",{className:Object(x.a)(ai.a.SaleSection,ai.a.SaleSectionTabs,"SaleSectionTabs"),style:pa(r,t)},M.createElement(rr,{className:ai.a.SaleSectionTabContainer},M.createElement("div",{className:Object(x.a)(C.a.SaleSectionContainer,ai.a.SaleSectionTabsRow)},s))))},n}(M.Component),qi=M.lazy(function(){return n.e(2).then(n.bind(null,"NIbt"))});M.Component;var Yi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refBackgroundPanel=M.createRef(),e}return Object(z.d)(e,t),e.prototype.componentDidMount=function(){var t,n=this;this.props.backgroundImage&&((t=new Image).onload=function(){var e=100*t.width/950+"%";n.m_refBackgroundPanel.current&&n.m_refBackgroundPanel.current.style.setProperty("--background-scale",e)},t.src=this.props.backgroundImage)},e.prototype.render=function(){var e=this.props.backgroundImage?"url("+this.props.backgroundImage+")":null;return M.createElement("div",{className:Object(x.a)(this.props.className,ai.a.SaleBackground,"SaleBackground"),style:{display:"flex",position:"relative",flexDirection:"column",backgroundImage:e,backgroundColor:this.props.backgroundColor},ref:this.m_refBackgroundPanel},this.props.children)},e}(M.Component),Qi=function(){function e(e,t,n){var r=this;void 0===n&&(n=!0),this.m_activeTab=null,this.m_capsuleFilter=null,this.m_bDefaultTab=!0,e&&(this.m_activeTab=e,this.m_bDefaultTab=n,e.capsules&&0!==e.capsules.length?(this.m_capsuleFilter=new Set,oa(e.capsules,t).forEach(function(e){r.m_capsuleFilter.add(Number(e.id))})):this.m_capsuleFilter=null)}return e.prototype.ShouldShowSection=function(e){var t=this;return!this.m_activeTab||(!e.show_on_tabs||0===e.show_on_tabs.length||e.show_on_tabs.some(function(e){return e===t.GetActiveTabUniqueID()}))},e.prototype.GetTab=function(){return this.m_activeTab},e.prototype.GetActiveTabUniqueID=function(){var e;return null===(e=this.m_activeTab)||void 0===e?void 0:e.unique_id},e.prototype.ShouldShowOnTab=function(e){return!this.m_capsuleFilter||this.m_capsuleFilter.has(Number(e))},e.prototype.ShouldShowCapsule=function(e){return this.ShouldShowOnTab(e.id)},e.prototype.ShouldShowEvent=function(e){return 0===e.appid||this.ShouldShowOnTab(e.appid)},e.prototype.BIsDefaultTab=function(){return this.m_bDefaultTab},e.prototype.BIsTabFilteringEnabled=function(){return Boolean(this.m_capsuleFilter)},e.prototype.GetTabAppIDs=function(){return this.BIsTabFilteringEnabled()?this.m_capsuleFilter:new Set},e}(),Zi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refTabSection=M.createRef(),e}return Object(z.d)(e,t),e.prototype.GetTabSelectionsFromURL=function(){var i=this,a=new Map;return this.props.event.GetSaleSections().forEach(function(e){var t,n,r;"tabs"===e.section_type&&e.tabs&&0<e.tabs.length&&(r=(n=(n=0<(t=Number(En(i.props.location,"tab")))?e.tabs.find(function(e){return e.unique_id===t}):void 0)||e.tabs[0])===e.tabs[0],a.set(e,new Qi(n,i.props.nSaleDayIndex,r)))}),a},e.prototype.OnTabSelected=function(e,t){var n,r,i,a=this.GetTabSelectionsFromURL().get(e);(null==a?void 0:a.GetTab())!==t&&(this.m_refTabSection.current&&(n=this.m_refTabSection.current.getBoundingClientRect().top+window.scrollY,window.scrollY>n&&window.scrollTo(0,n)),r=this.props.event.GetSaleSections().filter(function(e){return e.enable_faceted_browsing}).map(function(e){return e.unique_id}),(i={}).tab=String(t.unique_id),r.forEach(function(e){i["facets"+e]=null}),In(this.props.history,i))},e.prototype.render=function(){var c=this,e=this.props,l=e.event,u=e.language,p=(e.promotionName,e.bIsPreview),d=(e.nSaleDayIndex,this.GetTabSelectionsFromURL()),m=!1,h=!1,f=new Qi(null,this.props.nSaleDayIndex),b=[{elements:[],activeTab:f}];l.GetSaleSections().forEach(function(e,t){var n=b[b.length-1].activeTab;if(n.ShouldShowSection(e)){var r,i=e.diable_tab_id_filtering?f:n,a=!0,o=null;if("items"==(r=e).section_type&&r.smart_section&&("wishlist"==r.smart_section_type||"interactive_recommender"==r.smart_section_type||"dlc_music_onsale"==r.smart_section_type||"ir_subscription"==r.smart_section_type||"wishlist_onsale"==r.smart_section_type&&!me.GetHideWishlist()||"dlc_onsale"==r.smart_section_type&&!me.GetHideDLC()||"interactive_recommender_onsale"==r.smart_section_type&&!me.GetHideIRList())&&!Y.h.logged_in)m||(o=M.createElement(Xi,{section:e,event:l,language:u}),m=!0);else switch(e.section_type){case"items":case"events":case"links":o=M.createElement(ia,Object(z.a)({section:e,activeTab:i},c.props));break;case"broadcast":l.BEventCanShowBroadcastWidget()&&!h&&(o=M.createElement(ha,{broadcastEmbedContext:c.props.broadcastEmbedContext,activeTab:i}),h=!0);break;case"event_description":o=M.createElement($i,Object(z.a)({section:e},c.props));break;case"doors":o=M.createElement(Xr,{strFontFamily:da(l.jsondata.sale_font,u)});break;case"text_section":o=M.createElement(ea,Object(z.a)({section:e},c.props));break;case"tabs":var s=d.get(e);b.push({activeTab:s,elements:[]}),o=M.createElement(M.Fragment,null,M.createElement("div",{ref:c.m_refTabSection}),M.createElement(Vi,Object(z.a)({section:e},c.props,{activeTab:s.GetTab(),onTabSelected:c.OnTabSelected}))),a=!1;break;case"tab_buttons":o=M.createElement(Hi,Object(z.a)({section:e},c.props,{activeTab:i,onTabSelected:c.OnTabSelected,hideActiveTab:!0}));break;case"curator":e.curator_clan_id&&(o=M.createElement("div",{style:{width:"100%",margin:"0 auto",maxWidth:"940px"}},M.createElement(Ze,{creatorID:{name:null,clan_account_id:e.curator_clan_id,type:"developer"},bShowTagline:!0,bHideCreatorType:!0})));break;case"curator_recommendation":o=M.createElement(Ei,{bPreviewMode:p,saleSection:e,event:l});break;case"event_schedule":o=M.createElement(Ri.c,Object(z.a)({section:e},c.props,{activeTab:i}));break;case"vo_internal":if(e.internal_section_data)switch(e.internal_section_data.internal_type){case"subscription_pricing":o=M.createElement(Gi,Object(z.a)({section:e},c.props));break;case"tab_contents":o=M.createElement(Wi,Object(z.a)({section:e},c.props,{tab:n.GetTab(),showReferences:!1}));break;case"tab_references":o=M.createElement(Wi,Object(z.a)({section:e},c.props,{tab:n.GetTab(),showReferences:!0}))}break;case"sale_item_browser":o=M.createElement(na,Object(z.a)({section:e},c.props,{activeTab:i}))}b[b.length-1].elements.push(M.createElement(fe.a,{key:"SaleSectionIndex_"+e.unique_id+"_"+t},a?M.createElement("div",{id:"SaleSection_"+(e.unique_id||t),className:Object(x.a)("SaleSectionCtn",e.section_type)},o):o))}});var t=b.map(function(e,t){return M.createElement("div",{key:"TabSection_"+t,className:Object(x.a)(ai.a.SaleSectionTabListContainer,"SaleSectionTabListContainer")},e.elements)});return M.createElement("div",{className:ai.a.SaleSectionListContainer},t)},Object(z.c)([w.a],e.prototype,"OnTabSelected",null),Object(z.c)([i.observer],e)}(M.Component),Ki=Object($.f)(Zi);var Ji=function(e){var t=e.section,n=e.event,r=e.language,i=e.nHiddenCapsules,a=la(t,r,n.clanSteamID.GetAccountID());if(!a)return null;var o,s,c,l,u=M.createElement("div",{className:Object(x.a)(C.a.SaleSectionHeader,"SaleSectionHeader"),style:(o=t,c=r,{fontFamily:da((s=n).jsondata.sale_font,c),fontWeight:s.jsondata.sale_font_weight,fontSize:s.jsondata.sale_section_font_size,textTransform:s.jsondata.sale_section_disable_capitalize?"initial":null,color:o.label_color})},a),p=null;return t.label_link&&(u=M.createElement(ca,{url:t.label_link},u),"browseall"===t.label_link_style&&(l=Object(V.f)("#Sale_SectionLink_BrowseAll"),p=M.createElement(ca,{className:Object(x.a)(ai.a.SectionLabelLinkButton,"SaleSectionLabelLinkButton"),url:t.label_link},l))),M.createElement("div",{className:Object(x.a)(ai.a.SectionLabelCtn,"SaleSectionLabelCtn")},u,M.createElement("div",{className:ai.a.SectionLabelRight},!!i&&M.createElement(Me.d,{className:ai.a.SaleSectionSubtext,toolTipContent:Object(V.f)("#Sale_HiddenItem_Tooltip")},M.createElement("a",{href:Y.c.STORE_BASE_URL+"account/preferences"},Object(V.o)(1==i?"#Sale_HiddenItem_Single_Short":"#Sale_HiddenItems_Short",i))),p))},Xi=function(e){var t=e.section,n=e.event;e.language;return M.createElement("div",{className:ai.a.SaleSection,style:pa(t,n)},M.createElement(Ji,Object(z.a)({},e)),M.createElement("div",{className:ai.a.SaleSectionLoginPrompt},Object(V.f)("#SalePage_LoginPrompt"),M.createElement("button",{onClick:g.a,className:ai.a.LoginButton},Object(V.f)("#Login_SignIn"))))},$i=function(e){var t=e.section,n=e.event,r=e.language,i=e.bIsPreview;return M.createElement("div",{className:Object(x.a)(ai.a.SaleSection,je.a.SaleSectionCtn,"SaleSectionForCustomCSS"),style:pa(t,n)},M.createElement(Ji,Object(z.a)({},e)),M.createElement("div",{className:Object(x.a)(C.a.SaleSectionContainer,"SaleTextCtn")},M.createElement(Xe.b,{text:n.GetDescriptionWithFallback(r),partnerEventStore:le.c,showErrorInfo:i,event:n,languageOverride:r})))},ea=function(e){var t=e.section,n=e.event,r=e.language,i=e.bIsPreview,a=V.a.GetWithFallback(t.text_section_contents,r);return M.createElement("div",{className:Object(x.a)(ai.a.SaleSection,je.a.SaleSectionCtn,"SaleSectionForCustomCSS"),style:pa(t,n)},M.createElement(Ji,Object(z.a)({},e)),M.createElement("div",{className:Object(x.a)(C.a.SaleSectionContainer,"SaleTextCtn")},M.createElement(Xe.b,{text:a,partnerEventStore:le.c,showErrorInfo:i,event:n,languageOverride:r})))},ta=function(){function e(e){this.m_nMaxTiers=0,this.m_nDefaultTier=0,this.m_rgCapsuleMap=new Map;var t=e.jsondata;if(t.sorting_tiers){this.m_nDefaultTier=-1;for(var n=0,r=t.sorting_tiers;n<r.length;n++){var i=r[n],a=this.m_nMaxTiers;if(this.m_nMaxTiers++,i.capsules)for(var o=0,s=i.capsules;o<s.length;o++){var c=s[o];c.id&&this.m_rgCapsuleMap.set(c.id,a)}else this.m_nDefaultTier<0&&(this.m_nDefaultTier=a)}this.m_nDefaultTier<0&&(this.m_nDefaultTier=this.m_nMaxTiers,this.m_nMaxTiers++)}}return e.prototype.RandomizeCapsules=function(e){var t;if(0!==this.m_nMaxTiers&&0!==this.m_rgCapsuleMap.size){for(var n=new Array,r=0;r<this.m_nMaxTiers;r++)n.push([]);for(var i=0,a=e;i<a.length;i++){var o=a[i];n[null!==(t=this.m_rgCapsuleMap.get(o.id))&&void 0!==t?t:this.m_nDefaultTier].push(o)}for(var s=e.length=0,c=n;s<c.length;s++){var l=c[s];Object(Ne.g)(l),e.push.apply(e,l)}}else Object(Ne.g)(e)},e}(),na=Object(i.observer)(function(e){var t=e.section,n=e.event,r=e.activeTab,i="saleitembrowser_"+t.unique_id+(r.BIsTabFilteringEnabled()?"_"+r.GetActiveTabUniqueID():"");return M.createElement(De.a,{placeholderHeight:"100vh",rootMargin:"0px 0px 100% 0px",mode:"LoadAndUnload",className:Object(x.a)(ai.a.SaleSection,je.a.SaleSectionCtn,"SaleSectionForCustomCSS"),style:pa(t,n)},M.createElement(Ji,Object(z.a)({},e)),M.createElement(Di,Object(z.a)({key:i,browseInfo:t.item_browse_section_data},e)))});function ra(){return 940<=window.innerWidth}var ia=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bInitialLoadComplete:!1,nShowAdditionalRows:0,bIsCapsuleArrayTruncated:!1,nHiddenCapsules:0,capsules:[],facetCapsuleFilter:null,bPruningFacets:!0,bApplyingFilter:!1,strFacetUrlParam:null,bScreenIsWide:ra(),nMaxCapsulesPerRow:e.GetMaxCapsulesPerRow()},e}return Object(z.d)(e,t),e.prototype.componentDidMount=function(){window.addEventListener("resize",this.OnResize),this.LoadCapsules()},e.prototype.componentDidUpdate=function(e){var t,n,r,i,a=this,o=En(this.props.history,"facets"+this.props.section.unique_id);this.props.section==e.section&&this.props.event==e.event&&(null===(t=this.props.activeTab)||void 0===t?void 0:t.GetActiveTabUniqueID())===(null===(n=e.activeTab)||void 0===n?void 0:n.GetActiveTabUniqueID())&&this.state.strFacetUrlParam===o&&this.props.nSaleDayIndex==e.nSaleDayIndex||this.setState({bInitialLoadComplete:!1,nShowAdditionalRows:0,bPruningFacets:(null===(r=this.props.activeTab)||void 0===r?void 0:r.GetActiveTabUniqueID())!==(null===(i=e.activeTab)||void 0===i?void 0:i.GetActiveTabUniqueID()),strFacetUrlParam:o},function(){return a.LoadCapsules()})},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.OnResize)},e.prototype.GetMaxCapsulesPerRow=function(){var e=Object(ee.n)(this.props.section.section_type);return ra()?e.nMaxItemsPerRow:Math.min(Math.max(Math.floor(window.innerWidth/e.nItemMinimumWidth),1),e.nMaxItemsPerRow)},e.prototype.ShowMoreContents=function(){this.state.bAwaitingShowContentLoading||this.setState({bAwaitingShowContentLoading:!0},this.LoadMoreContent)},e.prototype.LoadMoreContent=function(){return Object(z.b)(this,void 0,void 0,function(){var t;return Object(z.e)(this,function(e){switch(e.label){case 0:return t=this.state.nShowAdditionalRows+4,[4,this.LoadCapsules(t)];case 1:return e.sent(),this.setState({nShowAdditionalRows:t}),[2]}})})},e.prototype.GetItemListCacheName=function(e,t){var n=this.props,r=n.section,i=n.event,a=n.bIsPreview,o="section_"+e+"_"+i.GID+(t||0)+Object(ke.a)(r.unique_id?r.unique_id.toString():JSON.stringify(r)).toString();return a&&i.rtime32_last_local_modification&&(o+="_"+i.rtime32_last_local_modification),o},e.prototype.RandomizeCapsuleList=function(e){new ta(this.props.event).RandomizeCapsules(e)},e.prototype.GetCachedRandomizedOrder=function(e,t,n){var r=this.props,i=r.section,a=r.event,o=r.activeTab;if(i.use_random_order&&1<t.length){var s=this.GetItemListCacheName(e,null==o?void 0:o.GetActiveTabUniqueID());if(window.sessionStorage){var c=window.sessionStorage.getItem(s);if(c){var l=JSON.parse(c);if(l.rtime32_last_modified==a.rtime32_last_modified)return l.randomized}var u=Array.from(t);n(u);var p={randomized:u,rtime32_last_modified:a.rtime32_last_modified};return window.sessionStorage.setItem(s,JSON.stringify(p)),u}}return t},e.prototype.GetSectionForSession=function(){var e=this.props,t=e.section,n=e.event;if(t.use_random_order){var r=this.GetItemListCacheName("section");if(window.sessionStorage){var i=window.sessionStorage.getItem(r);if(i){var a=JSON.parse(i);if(a.rtime32_last_modified==n.rtime32_last_modified)return a}this.RandomizeCapsuleList(t.capsules),Object(Ne.g)(t.links),Object(Ne.g)(t.events),Object(Ne.g)(t.featured_curator_list),t.rtime32_last_modified=n.rtime32_last_modified,window.sessionStorage.setItem(r,JSON.stringify(t))}}return t},e.prototype.LoadCapsules=function(x){return void 0===x&&(x=0),Object(z.b)(this,void 0,void 0,function(){var n,r,i,a,o,s,c,l,u,p,d,m,h,f,b,_,v,g,y,S,w,C,O,E,B,A,I,j,D,R,T,M,N,L,k,F,P,G,U=this;return Object(z.e)(this,function(e){switch(e.label){case 0:return n=this.GetSectionForSession(),r=this.props,i=r.event,a=r.promotionName,o=r.bIsPreview,s=r.activeTab,c=r.nSaleDayIndex,"items"!==n.section_type||"sale_tabhub"==n.smart_section_type?[3,7]:[4,W.a.HintLoad()];case 1:return e.sent(),l=void 0,u=!1,p=Dr(n),d=this.state.facetCapsuleFilter,n.enable_faceted_browsing&&d&&d.UpdateSelectionsFromUrlParam(En(this.props.location,"facets"+n.unique_id)),n.smart_section?[4,function(w,C,O,E,B,A){var I;return Object(z.b)(this,void 0,void 0,function(){var n,a,o,s,c,l,u,p,d,m,h,f,b,_,v,g,y,S;return Object(z.e)(this,function(e){switch(e.label){case 0:return n=E.smart_section_type,a=E.smart_section_max_apps,o=E.smart_section_tag,s=E.smart_section_category,c=E.random_from_entire_set,l=a||24,"tag"!==n?[3,2]:[4,ae.GetDiscounts({tagid:o,max_results:l,feature:B,random_across_set:c})];case 1:return[2,{capsules:e.sent().rgAppIDs.map(function(e){return{id:Number(e),type:"game"}}),bMoreRemaining:!1}];case 2:return"category"!==n?[3,4]:[4,ae.GetDiscounts({categoryid:s,max_results:l,feature:B,random_across_set:c})];case 3:return[2,{capsules:e.sent().rgAppIDs.map(function(e){return{id:Number(e),type:"game"}}),bMoreRemaining:!1}];case 4:return"top_n"!==n?[3,6]:[4,ae.GetTopN(B,l)];case 5:return[2,{capsules:(_=e.sent()).map(function(e){return{id:e,type:"game"}}),bMoreRemaining:!1}];case 6:return"all_discounted"!==n?[3,8]:[4,ae.GetAllDiscounted(B,l,A,null===(I=null==C?void 0:C.GetTab())||void 0===I?void 0:I.store_filter)];case 7:return[2,{capsules:(_=e.sent()).map(function(e){return{id:e,type:"game"}}),bMoreRemaining:!1}];case 8:if(!Object(ee.c)(n))return[3,13];e.label=9;case 9:return e.trys.push([9,11,,12]),_=new Array,[4,ae.GetSaleGamesByFlavor(w,C?C.GetActiveTabUniqueID():void 0,O,n,A,l)];case 10:return u=e.sent(),[2,{capsules:(_=u.appids).map(function(e){return{id:e,type:"game"}}),bMoreRemaining:u.bHasPossibleMoreResults}];case 11:return e.sent(),[2,{capsules:[],bMoreRemaining:!1}];case 12:return[3,32];case 13:return Y.h.logged_in?[3,14]:[2,{capsules:[],bMoreRemaining:!1}];case 14:if(!Y.h.logged_in||"wishlist"!==n&&"interactive_recommender"!==n)return[3,15];for(t=O.GetSaleSections(),r=C,i=new Set(r.GetTabAppIDs()),t.filter(function(e){return"items"==e.section_type}).forEach(function(n){r.ShouldShowSection(n)&&n.capsules.forEach(function(e){var t;"sub"!==(t=e).type&&"bundle"!==t.type&&(n.diable_tab_id_filtering||r.BIsTabFilteringEnabled())&&i.add(e.id)})}),p=i,d="wishlist"===n,_=new Array,m="wishlist"===n?W.a.GetWishlistGamesInUserOrder():W.a.GetRecommendedGamesInIRPriorityOrder(),h=0,f=m;h<f.length&&(b=f[h],!(p.has(b)&&!W.a.BOwnsApp(b)&&(d?W.a.BIsGameWishlisted(b):W.a.BIsGameRecommended(b))&&(_.push(b),_.length>=l)));h++);return[2,{capsules:_.map(function(e){return{id:e,type:"game"}}),bMoreRemaining:!1}];case 15:if(!Y.h.logged_in||"wishlist_onsale"!==n&&"dlc_onsale"!==n&&"dlc_music_onsale"!==n&&"interactive_recommender_onsale"!==n&&"ir_subscription"!==n&&"tag_recommender"!==n)return[3,32];switch(_=[],n){case"wishlist_onsale":return[3,16];case"dlc_onsale":return[3,19];case"dlc_music_onsale":return[3,22];case"interactive_recommender_onsale":return[3,24];case"tag_recommender":return[3,27];case"ir_subscription":return[3,29]}return[3,31];case 16:return me.GetHideWishlist()?[3,18]:[4,ae.GetWishlistOnSale()];case 17:_=e.sent(),v="game",e.label=18;case 18:return[3,31];case 19:return v="dlc",me.GetHideDLC()?[3,21]:[4,ae.GetDLCForGamesInMyLibraryOnSale()];case 20:_=e.sent(),e.label=21;case 21:return[3,31];case 22:return v="music",[4,ae.GetSoundtracksForGamesInMyLibraryOnSale()];case 23:return _=e.sent(),[3,31];case 24:return v="game",me.GetHideIRList()?[3,26]:[4,ae.GetInteractiveRecommendationsOnSale()];case 25:_=e.sent(),e.label=26;case 26:return[3,31];case 27:return v="game",[4,ae.GetTagRecommendorForThisSale(O,l,w)];case 28:return _=e.sent(),[3,31];case 29:return v="game",g=402931,[4,(y=he.Get()).LoadSubscriptionInfo(g)];case 30:return e.sent(),S=y.GetAllAppForMaster(g),_=Array.from(S).filter(function(e){return W.a.BIsGameRecommended(e)}),[3,31];case 31:return[2,{capsules:_.slice(0,l).map(function(e){return{id:e,type:v}}),bMoreRemaining:!1}];case 32:return console.warn("unrecognized type",n),[2,{capsules:[],bMoreRemaining:!1}]}var t,r,i})})}(this.props.bIsPreview,s,i,n,(t=a,(Y.c.IN_CLIENT?"library-":Object(Y.f)()+"-")+t),this.state.facetCapsuleFilter)]:[3,3];case 2:return m=e.sent(),l=m.capsules,u=m.bMoreRemaining&&l.length<n.smart_section_max_apps,n.enable_faceted_browsing||(l=this.GetCachedRandomizedOrder("capsules",l,this.RandomizeCapsuleList)),[3,4];case 3:l=n.capsules,e.label=4;case 4:return p&&(l=oa(l=l.filter(function(e){return s.ShouldShowCapsule(e)}),c)),n.enable_faceted_browsing&&n.facets&&(this.state.facetCapsuleFilter||((d=new Rr).SetFacets(n.facets),d.SetSection(n)),h=Rr.GetReferencedCapsules(n.facets),h=n.smart_section?oa(h=h.filter(function(e){return s.ShouldShowCapsule(e)}),c):(f=new Set(l.map(function(e){return e.id})),h.filter(function(e){return f.has(e.id)})),this.state.bPruningFacets&&(b=n.min_capsule_matches_for_facet_values||1,d.PruneFacets(h,b)),d.UpdateFilters(h),n.smart_section||(l=d.FilterCapsules(l),n.use_random_order&&this.RandomizeCapsuleList(l)),_=n.smart_section?l:d.FilterCapsules(h),d.DeactivateFacetValues(),v=n.facet_sort_order,g=n.max_facet_values_for_facet||100,d.SortFacetValues(_,this.props.language,v,g)),y=!1,S=this.GetRowsToShow(x),w=ua(n,S),C=l.length,O=!o&&"store"===Object(Y.f)(),E=0<S&&O||!p,!n.show_as_carousel&&E&&((B=ua(n,S)+4)+4<C&&(C=B,y=!0)),0<(T=Object(ee.m)(n))&&(A=Math.max(T+5,Math.floor(1.1*T)),C=Math.min(C,A)),l.length>C&&(l=l.slice(0,C)),I=pi(n),[4,Object(gi.e)(l,I)];case 5:return e.sent(),j=new Array,[4,Object(gi.a)(l,I,j)];case 6:return D=e.sent(),R=j.length,0<(T=Object(ee.m)(n))&&T<D.length&&(D=D.slice(0,T)),M=n.enable_faceted_browsing&&D.length<=w&&u,this.setState({nHiddenCapsules:R,capsules:D,bIsCapsuleArrayTruncated:y,bInitialLoadComplete:!0,facetCapsuleFilter:d,bPruningFacets:!1,bApplyingFilter:!1,bAwaitingShowContentLoading:M},function(){return M&&U.LoadCapsules(x)}),[3,19];case 7:return"events"!==n.section_type?[3,16]:(N=void 0,!n.smart_section||"recent_events"!==n.smart_section_type&&"recent_tagged_events"!==n.smart_section_type?[3,13]:"recent_events"!==n.smart_section_type?[3,9]:[4,pe.Get().GetRecentEventsForSalesPage(i)]);case 8:return L=e.sent(),[3,11];case 9:return[4,pe.Get().GetRecentTaggedEventsForSalesPage(i,n)];case 10:L=e.sent(),e.label=11;case 11:return[4,le.c.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(L.map(function(e){return e.gid}),void 0)];case 12:return N=e.sent(),[3,15];case 13:return[4,le.c.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(null,n.events.map(function(e){return e.announcement_gid}))];case 14:N=e.sent(),e.label=15;case 15:return k=N.map(function(e){return e.GID}),k=this.GetCachedRandomizedOrder("events2",k,Ne.g),N=k.map(function(e){return le.c.GetClanEventModel(e)}),F=N.filter(function(e){return!!e&&s.ShouldShowEvent(e)}),H.a.LoadAppLinkInfo(F.map(function(e){return e.appid})),this.setState({events:F,bInitialLoadComplete:!0}),[3,19];case 16:return"links"!==n.section_type&&"sale_tabhub"!==n.smart_section_type?[3,19]:(P=n.links,"sale_tabhub"!==n.smart_section_type?[3,18]:[4,ae.GetSaleTags()]);case 17:G=e.sent(),P=G.map(function(e){return{url:e.url,localized_link_capsule:void 0,materialized_link_capsule:e.square}}),P=this.GetCachedRandomizedOrder("links",P,Ne.g),e.label=18;case 18:this.setState({links:P,bInitialLoadComplete:!0}),e.label=19;case 19:return[2]}var t})})},e.prototype.OnResize=function(){this.setState({bScreenIsWide:ra(),nMaxCapsulesPerRow:this.GetMaxCapsulesPerRow()})},e.prototype.EstimateComponentHeight=function(e){return 250*Math.min(function(e,t){var n=di(e),r=0;for(;0<t;)t-=n[r%n.length],r++;return r}(e,this.state.capsules.length),this.GetRowsToShow(0))},e.prototype.GetRowsToShow=function(e){var t=this.props.section;if(t.show_as_carousel)return 0;var n=Object(ee.k)(t);return n<=0?0:n+e},e.prototype.GetSNRData=function(){var e,t=this.props,n=t.activeTab,r=t.section;if(r.enable_faceted_browsing){var i=null===(e=this.state.facetCapsuleFilter)||void 0===e?void 0:e.GetSelectedOptions();if(i)return{feature:"salefacetbrowse",depth:i}}if(r.smart_section&&r.smart_section_type)switch(r.smart_section_type){case"wishlist":case"wishlist_onsale":return{feature:"salesmartwishlist"};case"interactive_recommender":case"interactive_recommender_onsale":return{feature:"salesmartir"};case"dlc":case"dlc_onsale":case"dlc_music_onsale":return{feature:"salesmartdlc"};case"tag_recommender":return{feature:"salesmarttagrec"}}return{feature:!n||n.BIsDefaultTab()?"salesection":"saletabsection"}},e.prototype.UpdateFacetFilter=function(){this.state.facetCapsuleFilter.UpdateFilterFlags(),An(this.props.history,"facets"+this.props.section.unique_id,this.state.facetCapsuleFilter.GetUrlParam())},e.prototype.render=function(){var e=this.props,t=e.event,n=e.bIsPreview,r=e.language,i=this.state,a=i.bInitialLoadComplete,o=i.bIsCapsuleArrayTruncated,s=i.nHiddenCapsules,c=i.capsules,l=i.links,u=i.events,p=i.bScreenIsWide,d=i.nMaxCapsulesPerRow,m=i.bAwaitingShowContentLoading,h=this.GetSectionForSession(),f=pa(h,t).background,b=null;if(a){var _=_i({saleEvent:t,section:h,capsules:c,links:l,events:u,language:r,nMaxCapsulesPerRow:d,bScreenIsWide:p,nShowAdditionalRows:this.state.nShowAdditionalRows}),v=_.content,g=_.bAdditionalContent;if(((b=v)&&g||o)&&(b=M.createElement(M.Fragment,null,b,M.createElement("div",{className:ai.a.ShowContentsContainer},m?M.createElement(G.a,{size:"small",string:Object(V.f)("#Loading")}):M.createElement("button",{onClick:this.ShowMoreContents,className:ai.a.ShowContentsButton},Object(V.f)("#Sale_ShowMore"))))),!b){if(!n&&!h.enable_faceted_browsing)return null;b=h.enable_faceted_browsing?M.createElement("div",{className:ai.a.preview_placeholder_section},Object(V.f)("#FacetedBrowse_NoMatches")):M.createElement("div",{className:ai.a.preview_placeholder_section},Object(V.f)(h.smart_section?"#Sale_SmartPlaceHolder":"#Sale_PlaceHolder"))}}else{if(!h.enable_faceted_browsing)return null;b=M.createElement("div",{className:ai.a.FacetedBrowseLoadThrobber},M.createElement(G.a,null))}var y=this.GetSNRData(),S=y.feature,w=y.depth;return M.createElement(Q.b,{feature:S,depth:w},M.createElement(De.a,{placeholderHeight:this.EstimateComponentHeight(h),rootMargin:"0px 0px 100% 0px",className:Object(x.a)(ai.a.SaleSection,h.show_as_carousel&&ai.a.CarouselDisplay,je.a.SaleSectionCtn,"SaleSectionForCustomCSS"),style:pa(h,t)},M.createElement("div",{className:ai.a.SaleSectionTitleCtn},M.createElement(Ji,Object(z.a)({},this.props,{nHiddenCapsules:s}))),h.enable_faceted_browsing?M.createElement(Tr,{language:r,section:h,facetCapsuleFilter:this.state.facetCapsuleFilter,bPruningFacets:this.state.bPruningFacets,bApplyingFilter:this.state.bApplyingFilter,fnOnUpdateFilter:this.UpdateFacetFilter,background:f},b):M.createElement(M.Fragment,null,b),M.createElement(aa,{section:h})))},Object(z.c)([w.a],e.prototype,"ShowMoreContents",null),Object(z.c)([w.a],e.prototype,"RandomizeCapsuleList",null),Object(z.c)([w.a],e.prototype,"LoadCapsules",null),Object(z.c)([w.a],e.prototype,"OnResize",null),Object(z.c)([w.a],e.prototype,"UpdateFacetFilter",null),Object(z.c)([i.observer],e)}(M.Component),aa=function(e){var t=e.section;return t.label_link&&!t.label_link_style?M.createElement("div",{className:ai.a.SaleViewAll},M.createElement(ca,{url:t.label_link},Object(V.f)("#btn_live_streams_all"))):null};function oa(e,t){return e.filter(function(e){return null==e.visibility_index||e.visibility_index==t})}var sa=function(e){var t=e.text,n=e.url,r=e.color,i=e.bgcolor;return M.createElement(ca,{url:n,className:C.a.BrowseMoreButton,style:{backgroundColor:i,color:r}},t||Object(V.f)("#Sale_BrowseMore_Text_Default"))},ca=function(e){var t=Object(Q.c)(),n=Object(Fe.a)(e.url,Y.c.STORE_BASE_URL);if(n){var r=Object(B.b)(n,t);return M.createElement("a",{href:r,target:Y.c.IN_CLIENT?void 0:"_blank",className:e.className,style:e.style},e.children)}return M.createElement(M.Fragment,null,e.children)};function la(e,t,n,r){var i=function(e){if("items"===e.section_type)switch(e.smart_section_type){case"wishlist":return"#Sale_default_label_OnYourWishlist";case"interactive_recommender":case"tag_recommender":return"#Sale_default_label_RecommendedForYou"}if("tabs"===e.section_type)return"";if("curator"!==e.section_type)return"event_schedule"===e.section_type?"#Sale_EventSchedule":"curator_recommendation"===e.section_type?"#Sale_CuratorRecommendation_title":null;if(e.curator_clan_id){var t=te.a.InitFromClanID(e.curator_clan_id),n=ie.a.GetCreatorHome(t);if(n)return Object(V.f)("#Sale_CuratorSection_Name",n.GetName())}return"#Sale_CuratorSection"}(e);if(null!==i)return i&&i.startsWith("#")?Object(V.f)(i):i;var a=V.a.GetWithFallback(e.localized_label,t)||("#Sale_default_label"===e.default_label?"":Object(V.f)(e.default_label)),o=V.a.GetWithFallback(e.localized_label_image,t);if(r||!o)return a;var s="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/clans/"+n+"/"+o;return M.createElement("img",{loading:"lazy",src:s,alt:a})}function ua(e,t){for(var n=di(e),r=0,i=0;i<t;i++)r+=n[i%n.length];return r}function pa(e,t){if(e.disable_background)return{paddingLeft:0,paddingRight:0};var n="";return e.background_image&&(n+=",url("+re.a.GenerateArtworkURLFromHashAndExtensions(t.clanSteamID,e.background_image)+")"),{background:"linear-gradient(0deg, "+(e.background_gradient_bottom||"transparent")+" 0%, "+(e.background_gradient_top||"transparent")+" 100%)"+n}}function da(e,t){return 12===t?e.replace("Jolly Lodger","New Rocker"):23===t||19===t||24===t||18===t||8===t||26===t?e.replace("Sigmar One","Play"):6===t?e.replace("Sigmar One","Noto Serif SC"):7===t?e.replace("Sigmar One","Noto Serif TC"):10===t?e.replace("Sigmar One","M PLUS Rounded 1c"):4===t?e.replace("Sigmar One","Black Han Sans"):9===t?e.replace("Sigmar One","Prompt"):e}function ma(e){var t=Object(Q.c)(),n=Object(B.c)(t);return e.appInfo&&n?I.a.createElement(L,{appID:e.appInfo.id,snr:n},I.a.createElement("div",null,e.children)):I.a.createElement(I.a.Fragment,null,e.children)}var ha=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={},e}return Object(z.d)(e,t),e.prototype.OnEnter=function(){this.state.bOnceVisible||this.setState({bOnceVisible:!0})},e.prototype.render=function(){var n=this.props.activeTab;return M.createElement(fe.a,null,M.createElement(Q.b,{feature:"salebroadcast"},M.createElement(M.Suspense,{fallback:M.createElement("div",null)},M.createElement(S.a,{onEnter:this.OnEnter},M.createElement("div",{className:ai.a.SaleBroadcastSection},Boolean(this.state.bOnceVisible)&&M.createElement(qi,Object(z.a)({},this.props.broadcastEmbedContext,{bShowCapsuleArt:!0,fnFilterStreams:function(e){var t=ne.a.GetOrCreateBroadcastInfo(e.steamid).m_nAppID;return n.ShouldShowOnTab(t)}})),Boolean(!this.state.bOnceVisible)&&M.createElement("span",null,Object(V.f)("#Loading")))))))},Object(z.c)([w.a],e.prototype,"OnEnter",null),e}(M.Component),fa=n("EC9l");function ba(e){return"bundle"==e?"bundle":"sub"==e?"sub":Object(b.f)(e)?"app":null}var _a=function(){function e(){}return e.instance_count=0,e}();function va(e){var a=Object(M.useRef)(A.a.CancelToken.source()),t=Object(M.useState)(++_a.instance_count)[0],n=Object(M.useState)(void 0),r=n[0],i=n[1],o=Object(M.useState)(void 0),s=o[0],c=o[1],l=Object(M.useState)(void 0),u=l[0],p=l[1],d=Object(M.useState)(void 0),m=d[0],h=d[1],f=Object(M.useState)(void 0),b=f[0],_=f[1],v=Object(M.useState)(void 0),g=v[0],y=v[1],S=Object(O.c)(e.id,Object(T.e)(e.type),!1!==e.bLoadShortDescription)[0],w=e.id,C=e.type;return Object(M.useEffect)(function(){W.a.HintLoad();var e={id:w,type:C};Object(gi.e)([e]).then(function(){var n=Object(gi.d)(e),r=ba(e.type),i=n.id;a.current.token.reason||(n&&r?(c(n),p(r),h(i),Object(gi.c)(e).then(function(e){var t;1==e.length?(t=H.a.GetAppLinkInfo(e[0]))&&!a.current.token.reason&&(r="app",i=t.appid,y(t),p(r),h(i)):"bundle"!=r||a.current.token.reason?"sub"!=r||a.current.token.reason||_(n.appids.map(function(e){return H.a.GetAppLinkInfo(e)})):_(n.packageids.map(function(e){return E.b.GetPackageInfo(e)}))})):console.warn("Unsupported item:",e.type,w))})},[w,C]),Object(M.useEffect)(function(){return function(){return null==a?void 0:a.current.cancel("StoreSalePreviewWidget: unmounting")}},[]),{myInstance:t,bIsHovered:r,setIsHovered:i,info:s,appInfo:g,hoverType:u,nHoverId:m,rgContainedInfos:b,strShortDescription:S}}function ga(e){var t=e.appInfo,n=e.instanceNum;return t?I.a.createElement("div",{className:ci.a.SaleTagBlockCtn},I.a.createElement("div",{className:ci.a.TagTitle},Object(V.f)("#GameHover_Tags")),Boolean(t.tags&&0<t.tags.length)?I.a.createElement("div",{className:ci.a.TagBox},t.tags.map(function(e){return I.a.createElement("div",{key:"tag_"+n+"_"+e.tagid,className:ci.a.Tag},e.name)})):I.a.createElement("div",null,Object(V.f)("#Broadcast_None"))):null}var ya=function(e){var t=e.displayStyle;if("bundle"==e.type||"sub"==e.type)return I.a.createElement(Sa,Object(z.a)({},e));switch(t){case"library":return I.a.createElement(Ca,Object(z.a)({},e));case"full":return I.a.createElement(Oa,Object(z.a)({},e));case"bordered":default:return I.a.createElement(Sa,Object(z.a)({},e))}},Sa=Object(i.observer)(function(e){var t=va(e),n=t.myInstance,r=t.bIsHovered,i=t.setIsHovered,a=t.info,o=t.appInfo,s=t.hoverType,c=t.nHoverId,l=t.rgContainedInfos,u=t.strShortDescription,p=e.bShowDemoButton,d=e.bHidePrice,m=e.bUseSubscriptionLayout,h=e.bHidePlatforms,f=Object(Q.c)();if(!a||!o&&!l)return null;var b=a.name,_=a.discount_percent,v=u;o||(v=_?Object(V.f)("#Sale_BundleSave_WithDiscount",_,l.length):Object(V.f)("#Sale_BundleSave",l.length));var g=""+Y.c.STORE_BASE_URL+s+"/"+c;return I.a.createElement(ma,{appInfo:o},I.a.createElement("div",{className:ci.a.StoreSaleWidgetContainer},I.a.createElement("div",{className:Object(x.a)(ci.a.StoreSaleWidgetLeft)},I.a.createElement(li.a,{strURL:g,type:s,id:c,fnHoverState:i},I.a.createElement("div",{className:ci.a.StoreSaleWidgetImage},Y.h.logged_in&&I.a.createElement(La,{appInfo:o}),wa(o)&&I.a.createElement("div",{className:ci.a.CapsuleDecorators},I.a.createElement(Wa,null)),I.a.createElement(Ma,{info:a,appInfo:o,imageType:"header"}),r&&I.a.createElement(Ha,{appInfo:o}))),I.a.createElement(Ra,{info:a,bHidePrice:!0,bHidePlatforms:h})),I.a.createElement("div",{className:ci.a.StoreSaleWidgetRight},I.a.createElement("div",{className:ci.a.TitleCtn},I.a.createElement("a",{href:Object(B.b)(g,f),target:Y.c.IN_CLIENT?void 0:"_blank"},I.a.createElement("div",{className:ci.a.StoreSaleWidgetTitle},b))),I.a.createElement("div",{className:ci.a.StoreSaleWidgetReleaseAndTags},o&&I.a.createElement("div",{className:ci.a.StoreSaleWidgetRelease},o.release),o&&o.tags&&I.a.createElement("div",{className:ci.a.StoreSaleWidgetTags},o.tags.map(function(e){return I.a.createElement("div",{key:"tag_"+n+"_"+e.tagid,className:ci.a.AppTag},e.name)}))),v&&I.a.createElement("div",{className:Object(x.a)(ci.a.StoreSaleWidgetShortDesc,"StoreSaleWidgetShortDesc")},v),l&&I.a.createElement(Ia,{rgInfo:l}),m&&o?I.a.createElement(ka,{appid:o.appid,bIsMuted:r}):I.a.createElement(Ba,{info:a,bShowDemoButton:p,bHidePrice:d}))),l&&0<l.length&&I.a.createElement(Aa,{rgInfo:l}))});function wa(e){if(e){var t=e&&(e.full_game_appid||e.appid);return t&&R.a.Get().BIsAppStreaming(t)}return!1}var Ca=Object(i.observer)(function(e){var t=va(e),n=t.myInstance,r=(t.setIsHovered,t.info),i=t.appInfo,a=t.hoverType,o=t.nHoverId,s=t.rgContainedInfos,c=t.strShortDescription,l=e.bHidePrice,u=e.bHidePlatforms,p=Object(O.b)(e.id,_.a.k_DataRequest_BasicInfo)[0],d=Object(Q.c)();if(!r||!i&&!s)return null;var m=r.name,h=(r.discount_percent,Object(B.c)(d)),f=""+Y.c.STORE_BASE_URL+a+"/"+o;return I.a.createElement(ma,{appInfo:i},I.a.createElement("div",{className:Object(x.a)(ci.a.StoreSaleWidgetContainer,ci.a.LibraryAssetExpandedDisplay,"LibraryAssetExpandedDisplay")},I.a.createElement("div",{className:Object(x.a)(ci.a.StoreSaleWidgetLeft)},I.a.createElement("div",{className:ci.a.StoreSaleWidgetImage},wa(i)&&I.a.createElement("div",{className:ci.a.CapsuleDecorators},I.a.createElement(Wa,null)),I.a.createElement(Ma,{info:r,appInfo:i,imageType:"library"}))),I.a.createElement("div",{className:ci.a.StoreSaleWidgetCrossCenterRight},I.a.createElement(X.c,{appInfo:i,classOverride:v.a.WishlistButtonNotTop,snr:h}),I.a.createElement("div",{className:ci.a.TitleCtn},I.a.createElement("a",{href:Object(B.b)(f,d),target:Y.c.IN_CLIENT?void 0:"_blank"},I.a.createElement("div",{className:ci.a.StoreSaleWidgetTitle},m))),I.a.createElement("div",{className:ci.a.StoreSaleWidgetContents},I.a.createElement("div",{className:ci.a.StoreSaleWidgetCenter},I.a.createElement("div",{className:Object(x.a)(ci.a.StoreSaleWidgetShortDesc,"StoreSaleWidgetShortDesc")},c),I.a.createElement(ga,{appInfo:i,instanceNum:n}),I.a.createElement("div",{className:ci.a.StoreSaleItemRelease},Object(V.o)("#Sale_ReleaseDate",I.a.createElement("span",null,i.release))),p&&I.a.createElement("div",{className:ci.a.StoreSaleItemDev},Object(V.f)("#CreatorHome_DevelopedBy"),I.a.createElement("span",null,p.GetDeveloperNames()[0])),p&&I.a.createElement("div",{className:ci.a.StoreSaleItemDev},Object(V.f)("#CreatorHome_PublishedBy"),I.a.createElement("span",null,p.GetPublisherNames()[0])),I.a.createElement("div",{className:ci.a.StoreSaleItemReview},I.a.createElement(X.b,{appInfo:i}))),I.a.createElement("div",{className:ci.a.StoreSaleWidgetRight},I.a.createElement(fa.a,{appCapsule:i}))),I.a.createElement(Ra,{info:r,bHidePrice:l,bHidePlatforms:u}),I.a.createElement("div",{className:ci.a.StoreSaleWidgetBgTint},I.a.createElement(Na,{info:r,appInfo:i})))))}),Oa=Object(i.observer)(function(e){var t=va(e),n=t.myInstance,r=t.bIsHovered,i=(t.setIsHovered,t.info),a=t.appInfo,o=t.hoverType,s=t.nHoverId,c=t.rgContainedInfos,l=t.strShortDescription,u=e.bHidePrice,p=e.bHidePlatforms,d=Object(Q.c)();if(!i||!a&&!c)return null;var m=i.name,h=(i.discount_percent,Object(B.c)(d)),f=""+Y.c.STORE_BASE_URL+o+"/"+s;return I.a.createElement(ma,{appInfo:a},I.a.createElement("div",{className:Object(x.a)(ci.a.StoreSaleWidgetContainer,ci.a.SaleItemFullCapsuleDisplay)},I.a.createElement("div",{className:Object(x.a)(ci.a.StoreSaleWidgetHalfLeft)},I.a.createElement("div",{className:ci.a.StoreSaleWidgetImage},wa(a)&&I.a.createElement("div",{className:ci.a.CapsuleDecorators},I.a.createElement(Wa,null)),I.a.createElement(Ma,{info:i,appInfo:a,imageType:"header"}),r&&I.a.createElement(Ha,{appInfo:a})),I.a.createElement(Ra,{info:i,bHidePrice:u,bHidePlatforms:p})),I.a.createElement("div",{className:ci.a.StoreSaleWidgetHalfRight},I.a.createElement(X.c,{appInfo:a,classOverride:v.a.WishlistButtonNotTop,snr:h}),I.a.createElement("div",{className:ci.a.TitleCtn},I.a.createElement("a",{href:Object(B.b)(f,d),target:Y.c.IN_CLIENT?void 0:"_blank"},I.a.createElement("div",{className:ci.a.StoreSaleWidgetTitle},m))),I.a.createElement("div",{className:ci.a.StoreSaleWidgetContents},I.a.createElement("div",{className:Object(x.a)(ci.a.StoreSaleWidgetShortDesc,"StoreSaleWidgetShortDesc")},l),I.a.createElement(ga,{appInfo:a,instanceNum:n}),I.a.createElement("div",{className:ci.a.StoreSaleItemRelease},Object(V.o)("#Sale_ReleaseDate",I.a.createElement("span",null,a.release)))),I.a.createElement("div",{className:ci.a.StoreSaleWidgetBgTint},I.a.createElement(Ma,{info:i,appInfo:a,imageType:"header"})))))}),Ea=function(e){var t=e.info;if(!t)return null;var n=t.type,r=t.is_free,i=t.discount_percent,a=t.formatted_orig_price,o=t.formatted_final_price,s=t.coming_soon,c="bundle"==n&&t.bundle_base_discount;if(e.bShowInLibrary)return I.a.createElement("div",{className:ci.a.StoreSalePriceWidgetContainer},I.a.createElement("div",{className:ci.a.StoreSalePriceBox},Object(V.f)("#EventDisplay_CallToAction_InLibrary")));if(s)return I.a.createElement("div",{className:ci.a.StoreSalePriceWidgetContainer},I.a.createElement("div",{className:ci.a.StoreSalePriceBox},Object(V.f)("#EventDisplay_CallToAction_ComingSoon")));if(r)return I.a.createElement("div",{className:ci.a.StoreSalePriceWidgetContainer},I.a.createElement("div",{className:ci.a.StoreSalePriceBox},Object(V.f)("#EventDisplay_CallToAction_FreeToPlay")));if(!o)return null;var l=i||c,u=l&&c&&c<l&&c;return I.a.createElement("div",{className:Object(x.a)(ci.a.StoreSalePriceWidgetContainer,l&&ci.a.Discounted)},Boolean(u)&&I.a.createElement("span",{className:Object(x.a)(ci.a.BaseDiscount)},"-"+u+"%"),Boolean(l)&&I.a.createElement("div",{className:ci.a.StoreSaleDiscountBox},"-"+l+"%"),l&&a?I.a.createElement("div",{className:ci.a.StoreSaleDiscountedPriceCtn},I.a.createElement("div",{className:ci.a.StoreOriginalPrice},a),I.a.createElement("div",{className:ci.a.StoreSalePriceBox},o)):I.a.createElement("div",{className:ci.a.StoreSalePriceBox},o))},Ba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.info;e.bShowDemoButton&&Object(b.f)(t.type)&&l.a.Get().LoadAppIDsBatch([t.id])},t.prototype.render=function(){var e=this.props,t=e.info,n=e.bShowDemoButton,r=e.bHidePrice,i=e.bStackedButtons,a=n&&Object(b.f)(t.type)&&l.a.Get().BHasDemoAppID(t.id);return I.a.createElement("div",{className:ci.a.StoreActionWidgetContainer},I.a.createElement(Ga,{info:t}),!r&&I.a.createElement(I.a.Fragment,null,i&&I.a.createElement(I.a.Fragment,null,a&&I.a.createElement(Z.a,{appLinkInfo:t,className:ci.a.Action}),I.a.createElement(Ua,{info:t})),I.a.createElement("div",{className:ci.a.StoreSalePriceActionWidgetContainer},I.a.createElement(Ea,{info:t}),!i&&(a?I.a.createElement(Z.a,{appLinkInfo:t,className:ci.a.Action}):I.a.createElement(Ua,{info:t})))))},Object(z.c)([i.observer],t)}(I.a.Component),Aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bExpanded:!1},e}return Object(z.d)(e,t),e.prototype.SetExpanded=function(e){this.setState({bExpanded:e})},e.prototype.render=function(){var e=this,t=this.props.rgInfo,n=this.state.bExpanded;return I.a.createElement("div",{className:ci.a.ShowContentsSection},I.a.createElement("div",{onClick:function(){return e.SetExpanded(!n)},className:ci.a.BundleShowButton},I.a.createElement("button",{className:ci.a.ShowContentsButton},n?Object(V.f)("#Sale_ShowLess"):Object(V.f)("#Sale_ShowBundleContent",t.length))),I.a.createElement(a.a,{in:n,mountOnEnter:!0,unmountOnExit:!0,timeout:2e3,classNames:{enterActive:ci.a.Expanding,enterDone:ci.a.Expanded,exit:ci.a.Expanded,exitActive:ci.a.Collapsing}},I.a.createElement("div",{className:ci.a.BundleContentsCtnTransition},I.a.createElement("div",{className:ci.a.BundleContentsCtn},I.a.createElement("div",{className:ci.a.BundleContentsTitle},Object(V.f)("#Sale_BundleContents_Title",t.length)),t.map(function(e){return I.a.createElement("div",{key:e.id,className:ci.a.BundleContentItem},I.a.createElement(Sa,{id:e.id,type:e.type,bForceSmallCapsuleArt:!0,bLoadShortDescription:!1}))})),10<t.length&&I.a.createElement("div",{onClick:function(){return e.SetExpanded(!1)},className:ci.a.BundleShowButton},I.a.createElement("button",{className:ci.a.ShowContentsButton},Object(V.f)("#Sale_ShowLess"))))))},Object(z.c)([w.a],e.prototype,"SetExpanded",null),e}(I.a.Component),Ia=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(z.d)(t,e),t.prototype.GetAppInfo=function(e){if(Object(b.f)(e.type))return e;if("sub"==e.type&&1==e.appids.length)return H.a.GetAppLinkInfo(e.appids[0]);return null},t.prototype.render=function(){var c=this,e=this.props.rgInfo.slice(0,6).map(function(e){var t=c.GetAppInfo(e),n=t?t.tiny_capsule:e.header_image_url,r=t||e,i=r.type,a=r.id,o=r.name,s=ba(i);return s?I.a.createElement(li.a,{key:"preview-"+i+"-"+a,strURL:""+Y.c.STORE_BASE_URL+s+"/"+a,type:s,id:a,hoverClassName:ci.a.PreviewItem},Y.h.logged_in&&I.a.createElement(La,{appInfo:t}),I.a.createElement("img",{src:n,className:ci.a.PreviewImg,loading:"lazy",alt:o})):null});return I.a.createElement("div",{className:ci.a.BundleContentPreview},I.a.createElement("div",{className:ci.a.PreviewCtn},e))},Object(z.c)([i.observer],t)}(I.a.Component),ja="capsule_index_",Da=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bIsHovered:!1,rgAppIDs:[]},e.m_bIsMounted=!1,e}return Object(z.d)(e,t),e.prototype.componentDidMount=function(){var n=this,t=this.props.capsule;this.m_bIsMounted=!0,W.a.HintLoad(),Object(gi.e)([t]).then(function(){var e;n.m_bIsMounted&&((e=Object(gi.d)(t))?n.setState({info:e}):console.warn("Unsupported item:",t.type,t.id),Object(gi.c)(n.props.capsule).then(function(e){var t;n.m_bIsMounted&&(t=1==e.length?H.a.GetAppLinkInfo(e[0]):null,n.setState({rgAppIDs:e,appInfo:t}))}))})},e.prototype.componentWillUnmount=function(){this.m_bIsMounted=!1},e.prototype.OnHoverStateChange=function(e){this.state.bIsHovered!=e&&this.setState({bIsHovered:e})},e.prototype.render=function(){var e=this.props,t=e.imageType,n=e.bShowParentApp,r=e.bUseSubscriptionLayout,i=e.bShowDemoButton,a=e.eventToShow,o=e.bHidePriceIfOwned,s=e.bHideStatusBanners,c=e.bHidePrice,l=e.bHidePlatforms,u=e.index,p=e.strExtraParams,d=this.state,m=d.info,h=d.bIsHovered,f=d.rgAppIDs,b=d.appInfo;if(!m||0==f.length)return null;var _=f.every(function(e){return W.a.BOwnsApp(e)}),v=!_&&f.every(function(e){return W.a.BIsGameWishlisted(e)}),g=f.some(function(e){var t=H.a.GetAppLinkInfo(e),n=t&&(t.full_game_appid||t.appid);return R.a.Get().BIsAppStreaming(n)}),y=_&&o,S=_&&!s,w=v&&!s,C=S,O=n&&b&&b.full_game_appid&&H.a.GetAppLinkInfo(b.full_game_appid),E=null,B=null;r&&b?E=I.a.createElement(ka,{appid:b.appid,bIsMuted:h}):a?B=I.a.createElement("div",null,I.a.createElement(Ri.b,{item:a,bMiniMode:!0})):E=I.a.createElement(Ra,{info:m,bShowAsMuted:C,bHidePrice:c,bShowInLibraryInsteadOfPrice:y,bHidePlatforms:l});var A=I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:ci.a.CapsuleDecorators},S&&I.a.createElement("span",{className:Object(x.a)(ci.a.Banner,ci.a.Blue)},I.a.createElement("img",{src:j.a,className:ci.a.LinesImg}),Object(V.f)("#Sale_InLibrary")),w&&I.a.createElement("span",{className:ci.a.Banner},I.a.createElement("img",{src:D.a,className:ci.a.LinesImg}),Object(V.f)("#Sale_OnWishlist")),g&&I.a.createElement(Wa,null)),Y.h.logged_in&&!Object(X.a)()&&I.a.createElement(La,{appInfo:b}),I.a.createElement(Ma,{imageType:t,info:m,appInfo:b}),h&&!Object(X.a)()&&I.a.createElement(Ha,{appInfo:b}),E);return I.a.createElement("div",{className:Object(x.a)(ci.a.OuterCapsuleContainer,0==u&&ja+u)},I.a.createElement(ma,{appInfo:b},I.a.createElement(X.d,{item:m,className:ci.a.CapsuleContainer,eventToShow:a,bShowDemoButton:i,bHidePrice:c,bUseSubscriptionLayout:r,fnOnHoverStateChange:this.OnHoverStateChange,strExtraParams:p},A),B),Boolean(O)&&I.a.createElement("div",{className:ci.a.CapsuleParentInfo},I.a.createElement("div",null,Object(V.f)("music"===b.type?"#SalePage_ParentApp_SoundTrack":"#SalePage_ParentApp_DLC")),I.a.createElement(li.a,{strURL:Y.c.STORE_BASE_URL+"app/"+O.appid,type:"app",id:O.appid},I.a.createElement("img",Object(z.a)({loading:"lazy",className:K.AppCapsuleImage,alt:O.title,src:O.tiny_capsule},O.GetTinyCapsuleDimensions())))))},Object(z.c)([w.a],e.prototype,"OnHoverStateChange",null),Object(z.c)([i.observer],e)}(I.a.Component),Ra=function(e){var t=e.info,n=e.bShowAsMuted,r=e.bHidePrice,i=e.bShowInLibraryInsteadOfPrice,a=e.bHidePlatforms,o=e.strClassName;return I.a.createElement("div",{className:Object(x.a)(ci.a.CapsuleBottomBar,n&&ci.a.Muted,o)},!a&&I.a.createElement(xa,{item:t}),!r&&I.a.createElement("span",{className:ci.a.BottomBarPriceInfo},I.a.createElement(Ea,{info:t,bShowInLibrary:i})))};function Ta(e,t,n,r){n?r.push(e.header_image_url,e.main_capsule):r.push(e.main_capsule,e.header_image_url),t&&e!=t&&(n?r.push(t.capsule,t.main_capsule):r.push(t.main_capsule,t.capsule))}var Ma=function(e){var t=e.info,n=e.appInfo,r=e.imageType,i=t.name;if("library"===r)return I.a.createElement(Na,{info:t,appInfo:n});var a=new Array;Ta(t,n,"header"===r,a);var o,s,c="";switch(r){case"main":o=ci.a.mainCapsuleImgWidth,s=ci.a.mainCapsuleImgHeight,c=ci.a.MainCapsuleImageContainer;break;case"header":default:o=ci.a.headerCapsuleImgWidth,s=ci.a.headerCapsuleImgHeight,c=ci.a.HeaderCapsuleImageContainer}return I.a.createElement("div",{className:c},I.a.createElement(m.b,{lazyLoad:!0,srcs:a,className:Object(x.a)(ci.a.CapsuleImage),width:o,height:s,alt:i}))},Na=function(e){var t=e.info,n=e.appInfo,r=t.name,i=new Array,a=I.a.useState(null),o=a[0],s=a[1];i.push(t.library_asset),n&&t!=n&&i.push(n.library_asset);var c=i.length-1;return Ta(t,n,!0,i),I.a.createElement("div",{className:o?ci.a.LibraryFallbackAssetImageContainer:ci.a.LibraryAssetImageContainer},o&&I.a.createElement("div",{className:ci.a.FallbackBackground,style:{backgroundImage:"url("+o+")"}}),I.a.createElement(m.b,{lazyLoad:!0,srcs:i,className:ci.a.CapsuleImage,width:ci.a.libraryAssetImgWidth,height:ci.a.libraryAssetImgHeight,alt:r,onImageError:function(e){var t=i.indexOf(e);c<=t&&t<i.length-1&&s(i[t+1])}}))},La=Object(i.observer)(function(r){var i=Object(Q.c)();return Y.h.logged_in?I.a.createElement("div",{className:ci.a.CapsuleMenuButton,onClick:function(e){var t=r.appInfo,n=t&&W.a.BIsGameWishlisted(t.appid);Object(u.a)(I.a.createElement(p.c,null,t&&I.a.createElement(p.d,{onSelected:function(){return W.a.UpdateGameWishlist(t.appid,!n,Object(B.c)(i))}},I.a.createElement("div",{style:{color:"white"}},Object(V.f)(n?"#Sale_RemoveFromWishlist":"#Sale_AddToWishlist"))),I.a.createElement(p.d,{onSelected:function(){}},I.a.createElement("a",{href:Y.c.STORE_BASE_URL+"account/preferences",target:"_blank"},Object(V.f)("#Sale_Preferences")))),e,{bDisablePopTop:!0})}}," ",I.a.createElement(P.v,{angle:-90})," "):null}),ka=Object(i.observer)(function(e){var t=e.appid,n=e.bIsMuted,r=W.a.BOwnsApp(t),i=Object(x.a)(ci.a.CapsuleBottomBar,n&&ci.a.Muted,r?ci.a.PlayNowButton:ci.a.AddToLibraryButton);return I.a.createElement("div",{onClick:function(e){e.preventDefault(),r?Object(c.a)(t):W.a.AddLicenseForFreeGame(t)},className:i},Object(V.f)(r?"#Sale_PlayNow":"#Sale_AddToLibrary"))}),Fa=Object(i.observer)(function(e){var t=V.a.GetWithFallback(e.link.localized_link_capsule,e.language);return I.a.createElement(ca,{url:e.link.url,className:e.strClassName?e.strClassName:void 0},I.a.createElement("div",{className:ci.a.CapsuleContainer},Boolean(e.link.localized_link_capsule)&&I.a.createElement("img",{className:ci.a.LinkCapsuleImage,src:Y.c.MEDIA_CDN_COMMUNITY_URL+("images/clans/"+e.clanAccountID)+"/"+t}),Boolean(e.link.materialized_link_capsule)&&I.a.createElement("img",{className:ci.a.LinkCapsuleImage,src:e.link.materialized_link_capsule})))});function Pa(e){Object(F.d)(I.a.createElement(k.e,{strTitle:Object(V.f)("#Wishlist_Error"),strDescription:Object(V.f)("#Wishlist_Error_Desc")},I.a.createElement("br",null),I.a.createElement("br",null),e),window)}var Ga=Object(i.observer)(function(a){var e=I.a.useState(!1),o=e[0],s=e[1],t=I.a.useState(!W.a.BIsLoaded()),n=t[0],r=t[1],c=Object(Q.c)();I.a.useEffect(function(){Object(z.b)(void 0,void 0,void 0,function(){return Object(z.e)(this,function(e){switch(e.label){case 0:return[4,W.a.HintLoad()];case 1:return e.sent(),r(!1),[2]}})})},[]);var i=a.info,l=a.className,u=i.type,p=i.id,d=i.is_free,m=i.formatted_final_price;if(u&&!Object(b.f)(u))return null;var h=i.coming_soon;if(W.a.BOwnsApp(p)||!h&&(d||"0"==m))return null;var f=W.a.BIsGameWishlisted(p);return I.a.createElement("div",{className:Object(x.a)(ci.a.WishList,C.a.FlexRowContainer,l),onClick:function(){return Object(z.b)(void 0,void 0,void 0,function(){var t,n,r,i;return Object(z.e)(this,function(e){switch(e.label){case 0:if(!Y.h.logged_in)return Object(g.a)(),[2];if(t=a.info.id,o)return[3,4];s(!0),n=!W.a.BIsGameWishlisted(t),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,W.a.UpdateGameWishlist(t,n,Object(B.c)(c))];case 2:return r=e.sent(),s(!1),1!=r.success&&Pa(Object(q.a)(r).strErrorMsg),[3,4];case 3:return i=e.sent(),s(!1),Pa(Object(q.a)(i).strErrorMsg),[3,4];case 4:return[2]}})})},"data-tooltip-text":Object(V.f)("#AddToWishlist_ttip")},I.a.createElement("span",null,(n||o)&&I.a.createElement(G.a,{size:"small"})),!o&&f&&I.a.createElement(P.n,null),I.a.createElement("span",null,Object(V.f)(o?"#Updating":n?"#Loading":f?"#Wishlisted_short":"#AddToWishlist_short")))}),Ua=Object(i.observer)(function(c){var l=Object(Q.c)();Object(M.useEffect)(function(){W.a.HintLoad()},[]);var e=c.info,t=c.className,n=e.type,r=e.id,i=e.purchasePackageId,a=e.is_free,o=e.formatted_final_price;if("series"==n)return null;if(!n||Object(b.f)(n)){var s=e;if(s.coming_soon&&!i)return null;var u=W.a.BOwnsApp(r);if(u||(a||"0"==o)){var p=u&&Object(V.f)("#EventDisplay_CallToAction_PlayNow")||s.button_action||Object(V.f)("#EventDisplay_CallToAction_PlayNowForFree");return I.a.createElement("div",{className:ci.a.Action,onClick:function(){Object(U.d)(window,"steam://run/"+c.info.app_to_run)}},I.a.createElement("span",null,p))}if(""==o){var d=Object(B.b)(s.capsule_link,l);return I.a.createElement("a",{href:d,className:Object(x.a)(ci.a.Action,t)},Object(V.f)("#EventDisplay_CallToAction_VisitStore"))}}return I.a.createElement("div",{className:Object(x.a)(ci.a.Action,t),onClick:function(e){var t=c.info,n=t.type,r=t.id,i=t.purchasePackageId,a=Y.c.STORE_BASE_URL+"cart",o=Y.c.STORE_BASE_URL+"cart/addtocart",s=Object(B.c)(l);"bundle"==n?W.a.AddToCart(e,null,o,a,s,r):W.a.AddToCart(e,i,o,a,s)}},I.a.createElement("span",null,Object(V.f)("#Store_AddToCart")))}),xa=function(e){var t=e.item,n=e.strClassName;return t&&N.a.bMigrateToStoreBrowseAPI?I.a.createElement(za,Object(z.a)({},e)):I.a.createElement("span",{className:Object(x.a)(ci.a.CapsulePlatform,n)},t.available_windows&&I.a.createElement(P.Fb,null),t.available_mac&&I.a.createElement(P.c,null),t.available_linux&&I.a.createElement(P.rb,null),t.support_vrhmd&&I.a.createElement(P.Bb,null))},za=function(e){var t,n=e.item,r=e.strClassName,i=Object(M.useRef)({include_platforms:!0}),a=Object(O.a)(n.id,Object(T.e)(n.type),i.current)[0];if(!a)return null;var o=a.GetPlatforms();return I.a.createElement("span",{className:Object(x.a)(ci.a.CapsulePlatform,r)},o.windows&&I.a.createElement(P.Fb,null),o.mac&&I.a.createElement(P.c,null),o.linux&&I.a.createElement(P.rb,null),(null===(t=o.vr_support)||void 0===t?void 0:t.vrhmd)&&I.a.createElement(P.Bb,null))},Ha=function(e){return e.appInfo&&e.appInfo.microtrailer?I.a.createElement("video",{className:ci.a.CapsuleMicroTrailer,loop:!0,muted:!0,autoPlay:!0,key:"mtv-"+e.appInfo.microtrailer},I.a.createElement("source",{src:e.appInfo.microtrailer,type:"video/webm"}),!Y.c.IN_CLIENT&&I.a.createElement("source",{src:e.appInfo.microtrailer_mp4,type:"video/mp4"})):null},Wa=function(){return I.a.createElement("div",{className:ci.a.bordered_live_stream_icon},Object(V.f)("#home_page_live_broadcast"))}},"5bld":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u});var r,i,a=n("ir+G"),o=n("TQGK"),s=n("TLQK");(i=r=r||{})[i.k_eLibrary=1]="k_eLibrary",i[i.k_eWishlist=2]="k_eWishlist",i[i.k_eFollowing=4]="k_eFollowing",i[i.k_eRecommended=8]="k_eRecommended",i[i.k_eSteam=16]="k_eSteam",i[i.k_eRequired=32]="k_eRequired",i[i.k_eFeatured=64]="k_eFeatured",i[i.k_eCurator=128]="k_eCurator",i[i.k_eReposted=256]="k_eReposted";var c=function(){function e(){}return e.prototype.GetSource=function(){return this.appInfo?this.appInfo.source:this.clanInfo.source},e.GetEntityNameForID=function(e,t){if(e)return a.a.GetStoreCapsuleInfo(e).GetAppStoreData().title;if(t){var n=o.a.GetClanInfoByClanAccountID(t);if(n)return n.group_name}return Object(s.f)("#EventCalendar_MuteApp_Unknown")},e.BHasEntityNameForID=function(e,t){var n,r,i;return e?!(null===(r=null===(n=a.a.GetStoreCapsuleInfo(e))||void 0===n?void 0:n.GetAppStoreData())||void 0===r||!r.title):!!t&&!(null===(i=o.a.GetClanInfoByClanAccountID(t))||void 0===i||!i.group_name)},e.prototype.GetEntityName=function(){return e.GetEntityNameForID(this.appid,this.clanid)},e.prototype.GetGameCapsule=function(){if(this.appInfo)return a.a.GetStoreCapsuleInfo(this.appInfo.appid).GetAppStoreData().capsule;if(this.clanInfo){var e=o.a.GetClanInfoByClanAccountID(this.clanInfo.clanid);if(e)return e.avatar_full_url}return Object(s.f)("#EventCalendar_MuteApp_Unknown")},e.prototype.GetGameIcon=function(){if(this.appInfo)return a.a.GetStoreCapsuleInfo(this.appInfo.appid).GetAppStoreData().icon_url;if(this.clanInfo){var e=o.a.GetClanInfoByClanAccountID(this.clanInfo.clanid);if(e)return e.avatar_full_url}return Object(s.f)("#EventCalendar_MuteApp_Unknown")},e}(),l=function(){return function(){}}(),u=function(){return function(){}}()},"5eAM":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var c=n("mrSG"),r=n("vDqi"),l=n.n(r),u=n("2vnA"),p=n("5izx"),d=n("QXuq"),i=n("9f3B"),m=n("lkRc"),h=n("Xhj9"),a=new(function(){function e(){this.m_mapAppLinkInfo=new Map,this.m_mapMissingApps=new Map,this.m_mapInFlightRequests=new Map,this.m_bLoadedFromConfig=!1}return e.prototype.GetNumMissingAppLinks=function(){return this.m_mapMissingApps.size},e.prototype.GetNumAppLinks=function(){return this.m_mapAppLinkInfo.size},e.prototype.GetMissingAppIDs=function(){return this.m_mapMissingApps},e.prototype.GetAllLoadedAppLinks=function(){return this.m_mapAppLinkInfo},e.prototype.BHasAllAppLinksLoaded=function(e){this.LazyInit();for(var t=0;t<e.length;++t)if(!this.m_mapAppLinkInfo.has(e[t])&&!this.m_mapMissingApps.has(e[t]))return!1;return!0},e.prototype.BHasAppLinkLoaded=function(e){return this.LazyInit(),"string"==typeof e&&(e=Number.parseInt(e)),this.m_mapAppLinkInfo.has(e)||this.m_mapMissingApps.has(e)},e.prototype.LazyInit=function(){var e,t,n,r=this;!this.m_bLoadedFromConfig&&document.getElementById("application_config")&&(e=Object(m.g)("applinkinfo","application_config"),this.ValidateStoreDefault(e)&&e.forEach(function(e){var t=new h.a;t.InitFrom(e),r.m_mapAppLinkInfo.set(t.appid,t),p.a.bMigrateToStoreBrowseAPI&&Object(d.a)(t)}),t=Object(m.g)("additional_applinks","application_config"),this.ValidateStoreDefault(t)&&t.forEach(function(e){e.appid=Number(e.appid);var t,n=e.appid;r.m_mapAppLinkInfo.has(n)||((t=new h.a).InitFrom(e),r.m_mapAppLinkInfo.set(n,t),p.a.bMigrateToStoreBrowseAPI&&Object(d.a)(t))}),n=Object(m.g)("appunknown","application_config"),Object(i.a)(n)&&n.forEach(function(e){r.m_mapMissingApps.set(e,!0),p.a.bMigrateToStoreBrowseAPI&&Object(d.d)(0,e)}),this.m_bLoadedFromConfig=!0)},e.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&"string"==typeof t[0].title},e.prototype.GetAppLinkInfo=function(e){return this.LazyInit(),"string"==typeof e&&(e=Number.parseInt(e)),this.m_mapAppLinkInfo.get(e)},e.prototype.LoadAppLinkInfo=function(r,s){return Object(c.b)(this,void 0,void 0,function(){var t,i,a,n,o=this;return Object(c.e)(this,function(e){switch(e.label){case 0:if(this.LazyInit(),t=r.map(function(e){return"string"==typeof e&&(e=Number.parseInt(e)),o.m_mapInFlightRequests.get(e)}),i=[],r.forEach(function(e){"string"==typeof e&&(e=Number.parseInt(e)),!e||o.m_mapAppLinkInfo.has(e)||o.m_mapMissingApps.has(e)||o.m_mapInFlightRequests.has(e)||i.push(e)}),!i.length)return[3,2];for(i.sort(),a=Promise.resolve(),n=function(){var e=Math.min(50,i.length),t=i.slice(0,e);i=i.slice(e);var n={appids:t.join(","),cc:m.c.COUNTRY||"US",l:m.c.LANGUAGE,origin:self.origin},r=a.then(function(){return l.a.get(m.c.STORE_BASE_URL+"broadcast/ajaxgetbatchappcapsuleinfo",{params:n,cancelToken:null==s?void 0:s.token})}).then(function(e){return Object(u.runInAction)(function(){var i=e&&e.data&&e.data.apps;i&&Object(u.runInAction)(function(){for(var e=0,t=i;e<t.length;e++){var n=t[e],r=new h.a;r.InitFrom(n),o.m_mapAppLinkInfo.set(r.appid,r),p.a.bMigrateToStoreBrowseAPI&&Object(d.a)(r)}}),t.forEach(function(e){i&&!o.m_mapAppLinkInfo.has(e)&&(o.m_mapMissingApps.set(e,!0),"dev"===m.c.WEB_UNIVERSE&&console.log("Debug/Dev: AppID marked as missing: "+e),p.a.bMigrateToStoreBrowseAPI&&Object(d.d)(0,e)),o.m_mapInFlightRequests.delete(e)})})});t.forEach(function(e){return o.m_mapInFlightRequests.set(e,r)}),a=r};0<i.length;)n();return[4,a];case 1:e.sent(),e.label=2;case 2:return[4,Promise.all(t)];case 3:return e.sent(),[2]}})})},e.prototype.AddAppLinks=function(e){if(e)for(var t=0,n=e;t<n.length;t++){var r,i=n[t];this.m_mapAppLinkInfo.has(i.appid)||((r=new h.a).InitFrom(i),this.m_mapAppLinkInfo.set(r.appid,r))}},Object(c.c)([u.observable],e.prototype,"m_mapAppLinkInfo",void 0),Object(c.c)([u.action],e.prototype,"LazyInit",null),Object(c.c)([u.action],e.prototype,"LoadAppLinkInfo",null),Object(c.c)([u.action],e.prototype,"AddAppLinks",null),e}());window.g_AppLinkStore=a},"5izx":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("wd/R"),i=n.n(r),a=n("s4NR"),o=n.n(a),s=n("kyHq"),c=n("lkRc"),l=new(function(){function e(){this.bOpenEventLandingPage=!1,this.bIncludeFeaturedAsGameSource=!0,this.nOverrideDateNow=void 0}return Object.defineProperty(e.prototype,"bRequireAllEventsLoadedInTimeBlock",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bIsFollowingEnabled",{get:function(){return c.c.EREALM!=s.p.k_ESteamRealmChina},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bIsCuratorsEnabled",{get:function(){return c.c.EREALM!=s.p.k_ESteamRealmChina},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bMigrateToStoreBrowseAPI",{get:function(){return"dev"==c.c.WEB_UNIVERSE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bIncludeCurators",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.GetTimeNowWithOverride=function(){return this.nOverrideDateNow?this.nOverrideDateNow:Math.floor(Date.now()/1e3)},e.prototype.GetTimeNowWithOverrideAsDate=function(){return this.nOverrideDateNow?new Date(1e3*this.nOverrideDateNow):new Date},e.prototype.BHasTimeOverride=function(){return Boolean(this.nOverrideDateNow)},e.prototype.ParseDevOverrides=function(e){var t,n;e&&0!=e.length&&("string"!=typeof(t=o.a.parse("?"==e[0]?e.substring(1):e)).t||"dev"!=c.c.WEB_UNIVERSE&&"beta"!=c.c.WEB_UNIVERSE||(n=/^\d+$/.test(t.t)?i.a.unix(Number.parseInt(t.t)):i()(t.t),this.nOverrideDateNow=Math.floor(n.unix()),console.log("CEventCalendarDevFeatures overriding partner event time: "+this.nOverrideDateNow+" "+n.format())))},e}());window.g_EventCalendarDevFeatures=l},"5qEA":function(e,t,n){e.exports={CSSGrid:"cssgrid_CSSGrid_3vHkm",Container:"cssgrid_Container_DGRkX",Animate:"cssgrid_Animate_1IbFa"}},"6+2x":function(e,t,n){e.exports={HoverPosition:"hoverposition_HoverPosition_3vg1v",Ready:"hoverposition_Ready_1Ye_0",NoSpace:"hoverposition_NoSpace_pxVZH",EnablePointerEvents:"hoverposition_EnablePointerEvents_2b9OE",HoverAboveModal:"hoverposition_HoverAboveModal_EQqOx"}},6286:function(e,t,n){e.exports={WorkshopContainer:"appdetailsworkshopsection_WorkshopContainer_176QJ",WorkshopHightlight:"appdetailsworkshopsection_WorkshopHightlight_1zmwc",WorkshopSection:"appdetailsworkshopsection_WorkshopSection_2PfKa",Items:"appdetailsworkshopsection_Items_3kXJX",WorkshopHeader:"appdetailsworkshopsection_WorkshopHeader_139ka",WorkshopWelcome:"appdetailsworkshopsection_WorkshopWelcome_qqqwb",WorkshopAppDesc:"appdetailsworkshopsection_WorkshopAppDesc_Xyw01",WorkshopLearnMoreLink:"appdetailsworkshopsection_WorkshopLearnMoreLink_1PvbQ",FeaturedItem:"appdetailsworkshopsection_FeaturedItem_1W34W",FeaturedItemImage:"appdetailsworkshopsection_FeaturedItemImage_gh2rj",FeaturedItemHideButton:"appdetailsworkshopsection_FeaturedItemHideButton_aZc8R",FeaturedItemDetailsContainer:"appdetailsworkshopsection_FeaturedItemDetailsContainer_3Dyem",FeaturedItemHeader:"appdetailsworkshopsection_FeaturedItemHeader_1jkfJ",FeaturedItemName:"appdetailsworkshopsection_FeaturedItemName_1KR5X",FeaturedItemDesc:"appdetailsworkshopsection_FeaturedItemDesc_3SzXr",FeaturedLinks:"appdetailsworkshopsection_FeaturedLinks_3Mq6s",FeaturedItemLink:"appdetailsworkshopsection_FeaturedItemLink_YE_jJ",ItemActionButton:"appdetailsworkshopsection_ItemActionButton_qAIK8",ButtonText:"appdetailsworkshopsection_ButtonText_1dEbu",WorkshopSubCountFooter:"appdetailsworkshopsection_WorkshopSubCountFooter_3CjOR",WorkshopSubCount:"appdetailsworkshopsection_WorkshopSubCount_47mEB",WorkshopVisitLink:"appdetailsworkshopsection_WorkshopVisitLink_16MGO",WorkshopInfoCard:"appdetailsworkshopsection_WorkshopInfoCard_2bFjd",WorkshopItem:"appdetailsworkshopsection_WorkshopItem_24o0B",Title:"appdetailsworkshopsection_Title_2FIU6",Description:"appdetailsworkshopsection_Description_1UKB2",Art:"appdetailsworkshopsection_Art_3-9gR",Preview:"appdetailsworkshopsection_Preview_22eD5",ItemOverview:"appdetailsworkshopsection_ItemOverview_2KEhz",Desc:"appdetailsworkshopsection_Desc_1DAY6",SubscribedContainer:"appdetailsworkshopsection_SubscribedContainer_WuHEY",Text:"appdetailsworkshopsection_Text_14Fjc",VisitButtonContainer:"appdetailsworkshopsection_VisitButtonContainer_1GHKp",VisitButton:"appdetailsworkshopsection_VisitButton_AQr83",SpacedButton:"appdetailsworkshopsection_SpacedButton_36eP4",ButtonContainer:"appdetailsworkshopsection_ButtonContainer_2LXfs"}},"6eA3":function(e,t,n){e.exports={EventDetailsPageContainer:"partnereventdisplay_EventDetailsPageContainer_2Ptra",EventBackgroundBlurCtn:"partnereventdisplay_EventBackgroundBlurCtn_32nPM",EventBackgroundBlur:"partnereventdisplay_EventBackgroundBlur_stsss",DetailArtworkAgeAppropriate:"partnereventdisplay_DetailArtworkAgeAppropriate_1p_ls",DetailArtworkAgeNotAppropriate:"partnereventdisplay_DetailArtworkAgeNotAppropriate_3x5pK",EventCoverImageBlr:"partnereventdisplay_EventCoverImageBlr_3xNob",EventBodyCtn:"partnereventdisplay_EventBodyCtn_3o4SV",EventBodyPosition:"partnereventdisplay_EventBodyPosition_3lIxP",EventBody:"partnereventdisplay_EventBody_3aht-",EventBroadcastCtn:"partnereventdisplay_EventBroadcastCtn_1Ph1i",EventColumns:"partnereventdisplay_EventColumns_1PEIf",EventCoverImageCtn:"partnereventdisplay_EventCoverImageCtn_FZiaq",NoTitleArtwork:"partnereventdisplay_NoTitleArtwork_3Y40J",EventCoverImage:"partnereventdisplay_EventCoverImage_17G2y",EventCoverImageBackground:"partnereventdisplay_EventCoverImageBackground_2-Iyg",InLibraryView:"partnereventdisplay_InLibraryView_3_SEi",InEditor:"partnereventdisplay_InEditor_2YuAT",EventCoverImageFuzz:"partnereventdisplay_EventCoverImageFuzz_2EWL0",LibraryEventTitleContainer:"partnereventdisplay_LibraryEventTitleContainer_ZHAfj",CoverImageGradient:"partnereventdisplay_CoverImageGradient_1_x4o",EventDetailTitleImg:"partnereventdisplay_EventDetailTitleImg_1RA5e",EventDetailTitleDesc:"partnereventdisplay_EventDetailTitleDesc_3Ej2u",EventDetailsSticky:"partnereventdisplay_EventDetailsSticky_3IxVZ",EventDetailUserType:"partnereventdisplay_EventDetailUserType_3phfI",EventDetailGameCallToAction:"partnereventdisplay_EventDetailGameCallToAction_JOkXF",EventDetailTimeInfo:"partnereventdisplay_EventDetailTimeInfo_2KsEb",EventDetailsDescription:"partnereventdisplay_EventDetailsDescription_2orfV",EventDetailsBody:"partnereventdisplay_EventDetailsBody_A_A2B",EventDetailsGame:"partnereventdisplay_EventDetailsGame_1JqXp",EventDetailsAvatar:"partnereventdisplay_EventDetailsAvatar_2U_20",GameActions:"partnereventdisplay_GameActions_bGROT",ActionButton:"partnereventdisplay_ActionButton_26-KZ",Ownership:"partnereventdisplay_Ownership_2VkXp",EventDetailsType:"partnereventdisplay_EventDetailsType_2u9c-",EventDetailTitle:"partnereventdisplay_EventDetailTitle_TqEPC",EventDetailTitleContainer:"partnereventdisplay_EventDetailTitleContainer_3z2NY",EventDetailsSubTitle:"partnereventdisplay_EventDetailsSubTitle_20f2s",LibraryEventBodyContainer:"partnereventdisplay_LibraryEventBodyContainer_32mHv","lang_zn-cn":"partnereventdisplay_lang_zn-cn_2GYTc",lang_ko:"partnereventdisplay_lang_ko_36n2d",lang_ja:"partnereventdisplay_lang_ja_-TO1b","lang_zn-tw":"partnereventdisplay_lang_zn-tw_27b3w",AppSocialLinksCtn:"partnereventdisplay_AppSocialLinksCtn_2Vjai",AppSocialLinks:"partnereventdisplay_AppSocialLinks_19gZ0",AppSocialLink:"partnereventdisplay_AppSocialLink_rPVsl",StartDate:"partnereventdisplay_StartDate_1Maw_",EndDate:"partnereventdisplay_EndDate_vjGzC",MultiDateAndTime:"partnereventdisplay_MultiDateAndTime_hrpa5",RightSideTitles:"partnereventdisplay_RightSideTitles_efy3k",DisplayAdminPanel_Title:"partnereventdisplay_DisplayAdminPanel_Title_1lmj3",DateAndTime:"partnereventdisplay_DateAndTime_3Sy57",NoDateAndTime:"partnereventdisplay_NoDateAndTime_3lh2Y",AppSummaryCtn:"partnereventdisplay_AppSummaryCtn_Wk21c",AppSummaryWidgetTitleCtn:"partnereventdisplay_AppSummaryWidgetTitleCtn_jJFfo",Title:"partnereventdisplay_Title_2gsoD",AppSummaryWidgetCtn:"partnereventdisplay_AppSummaryWidgetCtn_2jRJR",DisplayAdminPanel:"partnereventdisplay_DisplayAdminPanel_XshNh",DisplayAdminPanel_ctn:"partnereventdisplay_DisplayAdminPanel_ctn_1SQm1",DisplayAdminPanel_Spacer:"partnereventdisplay_DisplayAdminPanel_Spacer_6pX37",AdminButton:"partnereventdisplay_AdminButton_1J0n9",EditorStatsCtn:"partnereventdisplay_EditorStatsCtn_e2BAg",VisibilityNote:"partnereventdisplay_VisibilityNote_1G3X_",EditorStatsRow:"partnereventdisplay_EditorStatsRow_2Seco",SteamBlog:"partnereventdisplay_SteamBlog_1rafn",LunarNewYearHeader:"partnereventdisplay_LunarNewYearHeader_1g4Yf",EnvelopeArea:"partnereventdisplay_EnvelopeArea_39E2F",TokenBalanceContainer:"partnereventdisplay_TokenBalanceContainer_2tXIg",TokenBalance:"partnereventdisplay_TokenBalance_3WhoV",EnvelopeContainer:"partnereventdisplay_EnvelopeContainer_1g0zs",BackingRect:"partnereventdisplay_BackingRect_2V4xV",Envelope:"partnereventdisplay_Envelope_2WNMe",GiftLabel:"partnereventdisplay_GiftLabel_d2D-I",OpenState:"partnereventdisplay_OpenState_3OVk1",Opened:"partnereventdisplay_Opened_28wlX",Locked:"partnereventdisplay_Locked_1uXh_",Unlocked:"partnereventdisplay_Unlocked_26x3o",NeedLogin:"partnereventdisplay_NeedLogin_2F_Xa",BottomMessage:"partnereventdisplay_BottomMessage_3M82I",VO:"partnereventdisplay_VO_1-pFh",LunarNewYearOpenEnvelopeVideoDialog:"partnereventdisplay_LunarNewYearOpenEnvelopeVideoDialog_1-Szi",Container:"partnereventdisplay_Container_1dcfd",Column:"partnereventdisplay_Column_3o_dP",VideoBox:"partnereventdisplay_VideoBox_KAf3y",CoinText:"partnereventdisplay_CoinText_14dU2",Visible:"partnereventdisplay_Visible_2bKyV",LunarNewYearOpenEnvelopeVideo:"partnereventdisplay_LunarNewYearOpenEnvelopeVideo_2JgvP",StoryHeader:"partnereventdisplay_StoryHeader_uJBQi",StorySubHeader:"partnereventdisplay_StorySubHeader_hl9Gl",StoryText:"partnereventdisplay_StoryText_1vUbV",StoryPicture:"partnereventdisplay_StoryPicture_1ovBW",CheckBackText:"partnereventdisplay_CheckBackText_3FFfw",DancingRat:"partnereventdisplay_DancingRat_3gJiV",Links:"partnereventdisplay_Links_2U9E5",MarketLink:"partnereventdisplay_MarketLink_19WRl",MarketLinkhover:"partnereventdisplay_MarketLinkhover_Q7KDk",ReadMoreCnt:"partnereventdisplay_ReadMoreCnt_1L8Mo"}},"6oCP":function(e,t,n){"use strict";n.d(t,"b",function(){return s.g}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return d});var g=n("mrSG"),r=n("vDqi"),y=n.n(r),S=n("2vnA"),o=n("Gp1o"),w=n("mgoM"),s=n("3+zv"),C=n("kLLr");var c=n("Kw0F"),b=n("r64O"),i=n("qiKp"),O=n("bDQf"),a=n("bS9Q"),E=n("lkRc"),l=n("TLQK"),u=function(){return function(e){Object(b.a)("number"==typeof e.appid,"AJAX updated app returned a non-numeric AppID! Did the PHP change?"),this.appid=e.appid,this.date=e.date,this.can_play=e.can_play,this.playtime=e.playtime,this.announcementid=e.announcementid}}();function B(e){var t=""+e,n=l.b.GetELanguageFallback(e);return e!=n&&(t+="_"+n),t}var p=function(){function e(){this.m_mapExistingEvents=new Map,this.m_mapAnnouncementBodyToEvent=new Map,this.m_mapClanToGIDs=new Map,this.m_mapAppIDToGIDs=new Map,this.m_mapAdjacentAnnouncementGIDs=new Map,this.m_mapUpdatedApps=new Map,this.m_tsUpdatedAppsQueryTime=0,this.m_rgQueuedEventsClanIDs=new Array,this.m_rgQueuedEventsUniqueIDs=new Array,this.m_rgQueuedEventsForEditFlags=new Array,this.m_QueuedEventTimeout=new i.b,this.m_bLoadedFromConfig=!1}return e.prototype.Init=function(){var e,t,n,r=this;this.m_bLoadedFromConfig||(!Object({NODE_ENV:"production",STEAM_BUILD:"buildbot"}).MOBILE_BUILD&&document.getElementById("application_config")&&(e=window.StoreDefaults?window.StoreDefaults.PartnerEventStore:void 0,this.ValidateStoreDefault(e)&&e.forEach(function(e){var t=new C.a(e.clan_steamid),n=r.InsertEventModelFromClanEventData(t,e);e.announcement_body&&r.m_mapExistingEvents.set(s.t+e.announcement_body.gid,n)}),t=Object(E.g)("partnereventstore","application_config"),this.ValidateStoreDefault(t)&&t.forEach(function(e){var t=new C.a(e.clan_steamid),n=r.InsertEventModelFromClanEventData(t,e);e.announcement_body&&!r.m_mapExistingEvents.has(s.t+e.announcement_body.gid)&&r.m_mapExistingEvents.set(s.t+e.announcement_body.gid,n)}),n=Object(E.g)("partnereventadjacents","application_config"),this.ValidateAdjacentEvent(n)&&("dev"!=E.c.WEB_UNIVERSE&&"beta"!=E.c.WEB_UNIVERSE||console.log("DEV_DEBUG: CPartnerEventStore loading adjacents gids payload: "+n.length),n.forEach(function(e){r.m_mapAdjacentAnnouncementGIDs.set(e.announcementGID,e.adjacents)})),"dev"==E.c.WEB_UNIVERSE&&console.log("PartnerEventStore Loaded events: "+this.m_mapExistingEvents.size+" with adjacent info: "+this.m_mapExistingEvents.size)),this.m_bLoadedFromConfig=!0)},e.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("string"==typeof t[0].gid||"object"==typeof t[0].announcement_body&&"string"==typeof t[0].announcement_body.gid)},e.prototype.ValidateAdjacentEvent=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("string"==typeof t[0].announcementGID&&Array.isArray(t[0].adjacents)&&(0==t[0].adjacents.length||"string"==typeof t[0].adjacents[0]))},e.prototype.GetClanEventGIDs=function(e){var t=this.m_mapClanToGIDs.get(e.GetAccountID());return t||[]},e.prototype.GetClanEventGIDsForApp=function(e){var t=this.m_mapAppIDToGIDs.get(e);return t||[]},e.prototype.GetClanEventModel=function(e){return this.m_mapExistingEvents.get(e)},e.prototype.BHasClanEventModel=function(e){return this.m_mapExistingEvents.has(e)},e.prototype.BHasClanAnnouncementGID=function(e){if(this.m_mapAnnouncementBodyToEvent.has(e)){var t=this.m_mapAnnouncementBodyToEvent.get(e);return this.BHasClanEventModel(t)}return!1},e.prototype.GetClanEventGIDFromAnnouncementGID=function(e){return this.m_mapAnnouncementBodyToEvent.get(e)},e.prototype.GetClanEventFromAnnouncementGID=function(e){return this.m_mapExistingEvents.get(this.m_mapAnnouncementBodyToEvent.get(e))},e.prototype.DefaultEventSortFunction=function(e,t){return e.startTime==t.startTime?Object(a.e)(e.GID,t.GID):t.startTime-e.startTime},e.prototype.RegisterClanEvents=function(e){if(e)for(var t=0,n=e;t<n.length;t++){var r,i=n[t],a=this.GetEventLookupKey(i);this.m_mapExistingEvents.has(a)||(r=new C.a(i.clan_steamid),this.InsertEventModelFromClanEventData(r,i))}},e.prototype.GetRankedClanEvents=function(e,t){var n=[],r=e?this.GetClanEventGIDs(e):this.GetClanEventGIDsForApp(t);if(!r||0==r.length)return n;for(var i=0,a=r;i<a.length;i++){var o=a[i],s=this.GetClanEventModel(o);n.push(s)}return n.sort(this.DefaultEventSortFunction),n},e.prototype.BIsOldAnnouncement=function(e){return(null==e.gid||null==e.gid||"0"==e.gid)&&e.announcement_body&&"0"!=e.announcement_body.gid},e.prototype.GetEventLookupKey=function(e){return this.BIsOldAnnouncement(e)?s.t+e.announcement_body.gid:e.gid},e.prototype.InsertEventModelFromClanEventData=function(e,t){var n,i=new s.j;i.clanSteamID=e,Object(b.a)(i.clanSteamID&&i.clanSteamID.BIsValid(),"Invalid Clan SteamID: "+i.clanSteamID.ConvertTo64BitString()+" "+E.c.EUNIVERSE),i.GID=this.GetEventLookupKey(t),i.bOldAnnouncement=this.BIsOldAnnouncement(t),i.appid=t.appid,i.startTime=t.rtime32_start_time,i.endTime=t.rtime32_end_time,i.visibilityStartTime=t.rtime32_visibility_start,i.visibilityEndTime=t.rtime32_visibility_end,i.loadedAllLanguages=!1,i.type=t.event_type,i.nVotesUp=t.votes_up,i.nVotesDown=t.votes_down,i.comment_type=t.comment_type,i.gidfeature=t.gidfeature,i.gidfeature2=t.gidfeature2,i.featured_app_tagid=t.featured_app_tagid,i.vecTags=new Array,i.last_update_steamid=t.last_update_steamid,i.rtime32_last_modified=t.rtime32_last_modified,i.rtime32_moderator_reviewed=t.rtime_mod_reviewed,i.video_preview_type=t.video_preview_type,i.video_preview_id=t.video_preview_id,i.has_live_stream=t.has_live_stream,i.live_stream_viewer_count=t.live_stream_viewer_count,t.announcement_body?(n=t.announcement_body,i.AnnouncementGID=n.gid,i.name.set(n.language,n.headline),i.description.set(n.language,n.body),i.timestamp_loc_updated.clear(),i.forumTopicGID=n.forum_topic_id,i.nCommentCount=n.commentcount,i.postTime=n.posttime,i.bOldAnnouncement&&!n.hidden&&(i.startTime=n.posttime),i.announcementClanSteamID=new C.a(n.clanid),n.tags&&0<n.tags.length&&n.tags.forEach(function(e){return i.vecTags.push(e)}),!i.rtime32_last_solr_search_col_updated&&i.rtime32_last_modified&&(i.rtime32_last_solr_search_col_updated=i.rtime32_last_modified,i.rtime32_last_modified=n.updatetime)):(i.AnnouncementGID="0",i.forumTopicGID=t.forum_topic_id,i.name.clear(),i.description.clear(),i.timestamp_loc_updated.clear(),i.postTime=t.rtime32_start_time,i.nCommentCount=t.comment_count,i.name.set(0,t.event_name),i.description.set(0,t.event_notes)),t.broadcaster_accountid&&(i.broadcaster=new C.a(t.broadcaster_accountid));var r=s.e;try{i.jsondata=Object(g.a)(Object(g.a)({},r),t.jsondata?JSON.parse(t.jsondata):void 0)}catch(e){var a=Object(O.a)(e);throw console.error("PartnerEventStore::InsertEventModelFromClanEventData: failed to parse embedded json model"+a.strErrorMsg,a),e}if(i.jsondata.localized_capsule_image=Object(c.f)(i.jsondata.localized_capsule_image,30,null),i.jsondata.localized_title_image=Object(c.f)(i.jsondata.localized_title_image,30,null),i.jsondata.localized_spotlight_image=Object(c.f)(i.jsondata.localized_spotlight_image,30,null),i.jsondata.localized_subtitle=Object(c.f)(i.jsondata.localized_subtitle,30,null),i.jsondata.localized_summary=Object(c.f)(i.jsondata.localized_summary,30,null),i.jsondata.localized_broadcast_title=Object(c.f)(i.jsondata.localized_broadcast_title,30,null),i.jsondata.localized_broadcast_left_image=Object(c.f)(i.jsondata.localized_broadcast_left_image,30,null),i.jsondata.localized_broadcast_right_image=Object(c.f)(i.jsondata.localized_broadcast_right_image,30,null),i.jsondata.localized_sale_header=Object(c.f)(i.jsondata.localized_sale_header,30,null),i.jsondata.localized_sale_overlay=Object(c.f)(i.jsondata.localized_sale_overlay,30,null),i.jsondata.localized_sale_product_banner=Object(c.f)(i.jsondata.localized_sale_product_banner,30,null),i.jsondata.localized_sale_product_mobile_banner=Object(c.f)(i.jsondata.localized_sale_product_mobile_banner,30,null),void 0!==i.jsondata.sale_num_headers)for(var o=0;o<i.jsondata.sale_num_headers;++o)i.jsondata.localized_per_day_sales_header[o]=Object(c.f)(i.jsondata.localized_per_day_sales_header[o],30,null);return i.jsondata.sale_sections&&i.jsondata.sale_sections.forEach(function(e,t){e.localized_label&&(e.localized_label=Object(c.f)(e.localized_label,30,null)),i.jsondata.sale_sections[t]=Object(g.a)(Object(g.a)({},s.f),e)}),i.jsondata.email_setting&&i.jsondata.email_setting.sections&&i.jsondata.email_setting.sections.forEach(function(e){void 0!==e.localized_headline&&null!==e.localized_headline&&(e.localized_headline=Object(c.f)(e.localized_headline,30,null)),void 0!==e.localized_body&&null!==e.localized_body&&(e.localized_body=Object(c.f)(e.localized_body,30,null)),void 0!==e.localized_image&&null!==e.localized_image&&(e.localized_image=Object(c.f)(e.localized_image,30,null))}),i.jsondata.localized_title_image.forEach(function(e,t){var n,r;null!=e&&"http"==e.substr(0,4)&&(n=e.lastIndexOf("/"),r=e.substr(n+1),i.jsondata.localized_title_image[t]=r)}),t.published?t.hidden?i.visibility_state=s.g.k_EEventStateStaged:i.visibility_state=s.g.k_EEventStateVisible:i.visibility_state=s.g.k_EEventStateUnpublished,this.InsertUniqueEventGID(e.GetAccountID(),i.appid,i.GID),this.m_mapExistingEvents.set(i.GID,i),i.AnnouncementGID&&1<i.AnnouncementGID.length&&this.m_mapAnnouncementBodyToEvent.set(i.AnnouncementGID,i.GID),i.bLoaded=!0,i},e.prototype.HelperInitializeNumSalesHeaderArray=function(e){if(void 0!==e.jsondata.sale_num_headers){e.jsondata.localized_per_day_sales_header=[];for(var t=0;t<e.jsondata.sale_num_headers;++t)e.jsondata.localized_per_day_sales_header.push(Object(c.f)([],30,null));e.m_overrideCurrentDay=0}else e.m_overrideCurrentDay=void 0},e.prototype.GetAllClanEvents=function(e){var n=this,r=new Array;return this.m_mapClanToGIDs.has(e.GetAccountID())&&this.m_mapClanToGIDs.get(e.GetAccountID()).forEach(function(e){var t=n.m_mapExistingEvents.get(e);t&&r.push(t)}),r},e.prototype.QueueLoadPartnerEvent=function(e,t,n){var r=this;this.m_rgQueuedEventsClanIDs.push(e),this.m_rgQueuedEventsUniqueIDs.push(t),this.m_rgQueuedEventsForEditFlags.push(Boolean(n));function i(){r.InternalLoadPartnerEventList(r.m_rgQueuedEventsClanIDs,r.m_rgQueuedEventsUniqueIDs,r.m_rgQueuedEventsForEditFlags),r.m_rgQueuedEventsClanIDs=new Array,r.m_rgQueuedEventsUniqueIDs=new Array}30<=this.m_rgQueuedEventsClanIDs.length?(this.m_QueuedEventTimeout.Cancel(),i()):this.m_QueuedEventTimeout.IsScheduled()||this.m_QueuedEventTimeout.Schedule(50,i)},e.prototype.InternalLoadPartnerEventList=function(c,l,u){return Object(g.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s;return Object(g.e)(this,function(e){switch(e.label){case 0:t=u.some(function(e){return e}),n=E.c.STORE_BASE_URL+(t?"events/ajaxgeteventdetailsforedit/":"events/ajaxgeteventdetails/"),r=B(Object(w.h)(E.c.LANGUAGE)),i={clanid_list:c.join(","),uniqueid_list:l.join(","),lang_list:r,origin:self.origin},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,y.a.get(n,{params:i,withCredentials:t})];case 2:return a=e.sent(),this.RegisterClanEvents(a.data.events),[3,4];case 3:return o=e.sent(),s=Object(O.a)(o),console.error("GetEventDetails hit error "+s.strErrorMsg,s),[3,4];case 4:return[2]}})})},e.prototype.LoadAdjacentPartnerEvents=function(t,n,r,i,a,o,s){return Object(g.b)(this,void 0,void 0,function(){return Object(g.e)(this,function(e){return[2,this.InternalLoadAdjacentPartnerEvents(t,void 0,n,r,i,a,o,s)]})})},e.prototype.LoadAdjacentPartnerEventsByAnnouncement=function(t,n,r,i,a,o,s){return Object(g.b)(this,void 0,void 0,function(){return Object(g.e)(this,function(e){return[2,this.InternalLoadAdjacentPartnerEvents(void 0,t,n,r,i,a,o,s)]})})},e.prototype.LoadAdjacentPartnerEventsByEvent=function(n,r,i,a,o,s,c){return Object(g.b)(this,void 0,void 0,function(){var t;return Object(g.e)(this,function(e){return t=r||n.clanSteamID,n.bOldAnnouncement?[2,this.InternalLoadAdjacentPartnerEvents(void 0,n.AnnouncementGID,t,i,a,o,s,c)]:[2,this.InternalLoadAdjacentPartnerEvents(n.GID,n.AnnouncementGID,t,i,a,o,s,c)]})})},e.prototype.InternalLoadAdjacentPartnerEvents=function(p,d,m,h,f,b,_,v){return Object(g.b)(this,void 0,void 0,function(){var a,t,n,r,o,i,s,c,l,u=this;return Object(g.e)(this,function(e){switch(e.label){case 0:if(a=new Array,this.m_mapAdjacentAnnouncementGIDs.has(d))return[3,5];t=E.c.STORE_BASE_URL+"events/ajaxgetadjacentpartnerevents/",n=B(Object(w.h)(E.c.LANGUAGE)),r={clan_accountid:m?m.GetAccountID():void 0,appid:h,count_before:f,count_after:b,gidevent:p,gidannouncement:d,lang_list:n,rtime_oldestevent:_?_.rtime_oldestevent:void 0,require_tags:_&&_.require_tags?_.require_tags.join(","):void 0,exclude_tags:_&&_.exclude_tags?_.exclude_tags.join(","):void 0,require_no_tags:_?_.require_no_tags:void 0,event_type_filter:_&&_.event_type_filter?_.event_type_filter.join(","):void 0,exclude_event_types:_&&_.exclude_event_types?_.exclude_event_types.join(","):void 0,origin:self.origin},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,y.a.get(t,{params:r,cancelToken:v?v.token:void 0})];case 2:return o=e.sent(),Object(S.runInAction)(function(){for(var e=0,t=o.data.events;e<t.length;e++){var n,r=t[e],i=u.GetEventLookupKey(r);u.m_mapExistingEvents.has(i)||(n=new C.a(r.clan_steamid),u.InsertEventModelFromClanEventData(m||n,r)),a.push(u.m_mapExistingEvents.get(i))}0==a.length&&(p&&u.BHasClanEventModel(p)?a.push(u.m_mapExistingEvents.get(p)):d&&u.BHasClanAnnouncementGID(d)&&a.push(u.GetClanEventFromAnnouncementGID(d)))}),[3,4];case 3:return i=e.sent(),s=Object(O.a)(i),console.error("LoadAdjacentPartnerEvents hit error on appid:"+h+" clanAccount:"+(m?m.GetAccountID():0)+" "+s.strErrorMsg,s),[3,4];case 4:return[3,7];case 5:return c=this.m_mapAdjacentAnnouncementGIDs.get(d),l=new Array,c.forEach(function(e){var t;u.m_mapAnnouncementBodyToEvent.has(e)?(t=u.m_mapAnnouncementBodyToEvent.get(e),a.push(u.m_mapExistingEvents.get(t))):l.push(e)}),0<l.length?[4,this.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(null,l,v)]:[3,7];case 6:e.sent().forEach(function(e){return a.push(e)}),e.label=7;case 7:return[2,a]}})})},e.prototype.LoadPartnerEventsPageable=function(i,c,l,u){return void 0===l&&(l=0),void 0===u&&(u=0),Object(g.b)(this,void 0,void 0,function(){var a,t,n,o,r,s=this;return Object(g.e)(this,function(e){switch(e.label){case 0:a=new Array,t=E.c.STORE_BASE_URL+"events/ajaxgetpartnereventspageable/",n={clan_accountid:i?i.GetAccountID():void 0,appid:c,offset:l,count:u,l:E.c.LANGUAGE,origin:self.origin},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,y.a.get(t,{params:n})];case 2:return o=e.sent(),Object(S.runInAction)(function(){for(var e=0,t=o.data.events;e<t.length;e++){var n,r=t[e],i=s.GetEventLookupKey(r);s.m_mapExistingEvents.has(i)||(n=new C.a(r.clan_steamid),s.InsertEventModelFromClanEventData(n,r)),a.push(s.m_mapExistingEvents.get(i))}}),[3,4];case 3:return r=e.sent(),console.error("LoadClanEventInDateRange hit error "+Object(O.a)(r).strErrorMsg),[3,4];case 4:return[2,a]}})})},e.prototype.GetBestEventsForCurrentUser=function(r,i,a){return Object(g.b)(this,void 0,void 0,function(){var o,t,n,s,c=this;return Object(g.e)(this,function(e){switch(e.label){case 0:return o=new Array,t={l:E.c.LANGUAGE,include_steam_blog:!0,filter_to_played_within_days:r,include_only_game_updates:i},n=E.c.STORE_BASE_URL+"events/ajaxgetbesteventsforuser",[4,y.a.get(n,{params:t,withCredentials:!0,cancelToken:a?a.token:void 0})];case 1:return s=e.sent(),Object(S.runInAction)(function(){for(var e=0,t=s.data.events;e<t.length;e++){var n,r=t[e],i=c.GetEventLookupKey(r);c.m_mapExistingEvents.has(i)||(n=new C.a(r.clan_steamid),c.InsertEventModelFromClanEventData(n,r));var a={nAppPriority:r.nAppPriority,bPossibleTakeOver:r.bPossibleTakeOver,event:c.m_mapExistingEvents.get(i)};o.push(a)}}),[2,o]}})})},e.prototype.LoadImportantEventsAroundToday=function(i,c,l,u,p,d){return Object(g.b)(this,void 0,void 0,function(){var a,t,n,r,o,s=this;return Object(g.e)(this,function(e){switch(e.label){case 0:return a=new Array,(t=new Array).push({priority:0,appids:c}),l&&t.push({priority:1,appids:l}),u&&t.push({priority:2,appids:u}),n={count:i,strAppIDPriority:JSON.stringify({prioritized_apps:t}),filterToEventTypes:d?d.toString():"",l:E.c.LANGUAGE},r=E.c.STORE_BASE_URL+"events/ajaxgettodayboundedevents",[4,y.a.get(r,{params:n,withCredentials:!0,cancelToken:p.token})];case 1:return o=e.sent(),Object(S.runInAction)(function(){for(var e=0,t=o.data.events;e<t.length;e++){var n,r=t[e],i=s.GetEventLookupKey(r);s.m_mapExistingEvents.has(i)||(n=new C.a(r.clan_steamid),s.InsertEventModelFromClanEventData(n,r)),a.push(s.m_mapExistingEvents.get(i))}}),[2,a]}})})},e.prototype.InsertUniqueEventGID=function(e,t,n){this.m_mapClanToGIDs.has(e)||this.m_mapClanToGIDs.set(e,new Array),this.m_mapAppIDToGIDs.has(t)||this.m_mapAppIDToGIDs.set(t,new Array);var r=this.m_mapClanToGIDs.get(e);-1==r.indexOf(n)&&(r.push(n),this.m_mapAppIDToGIDs.get(t).push(n))},e.prototype.ResetModel=function(){},e.prototype.DeleteClanEvent=function(r,i){return Object(g.b)(this,void 0,void 0,function(){var t,n;return Object(g.e)(this,function(e){switch(e.label){case 0:return this.m_mapExistingEvents.has(i)&&(this.m_mapExistingEvents.get(i).deleteInProgress=!0),t=null,(n=new URLSearchParams).append("sessionid",E.c.SESSIONID),n.append("bDelete","1"),n.append("gid",i),[4,y.a.post(E.c.COMMUNITY_BASE_URL+"/gid/"+r.ConvertTo64BitString()+"/ajaxcreateupdatedeletepartnerevents/",n)];case 1:return t=e.sent(),this.RemoveGIDFromList(r,i),[2,t.data]}})})},e.prototype.RemoveGIDFromList=function(e,t){var n,r;this.m_mapExistingEvents.delete(t),!this.m_mapClanToGIDs.has(e.GetAccountID())||0<=(r=(n=this.m_mapClanToGIDs.get(e.GetAccountID())).indexOf(t))&&n.splice(r,1)},e.prototype.FlushEventFromCache=function(e,t){var n;e&&this.m_mapExistingEvents.has(e)&&(t=t||this.m_mapExistingEvents.get(e).AnnouncementGID,this.m_mapExistingEvents.delete(e)),t&&(this.m_mapExistingEvents.has(s.t+t)&&this.m_mapExistingEvents.delete(s.t+t),this.m_mapAnnouncementBodyToEvent.has(t)&&(n=this.m_mapAnnouncementBodyToEvent.get(t),this.m_mapExistingEvents.has(n)&&this.m_mapExistingEvents.delete(n),this.m_mapAnnouncementBodyToEvent.delete(t)))},e.prototype.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID=function(u,p,d,m,h,f){return void 0===f&&(f=!1),Object(g.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l;return Object(g.e)(this,function(e){switch(e.label){case 0:return t=B(f?0:Object(w.h)(E.c.LANGUAGE)),n={appid:p,clan_accountid:u?u.GetAccountID():void 0,announcement_gid:m,event_gid:d,lang_list:t,last_modified_time:h||0,origin:self.origin,for_edit:f},i=r=null,r=f?("community"===(a=Object(E.f)())?(i=E.c.COMMUNITY_BASE_URL,i+=u?"gid/"+u.ConvertTo64BitString():"ogg/"+p,i+="/"):i="partnerweb"===a?E.c.PARTNER_BASE_URL+"sales/":E.c.STORE_BASE_URL+"events/",i+="ajaxgetpartnereventforedit",{params:n,withCredentials:!0}):(i=E.c.STORE_BASE_URL+"events/ajaxgetpartnerevent",{params:n,withCredentials:!1}),[4,y.a.get(i,r)];case 1:return o=e.sent(),s=o.data.event,c=this.GetEventLookupKey(s),this.m_mapExistingEvents.has(c)||(Object(b.a)(s.clan_steamid,"ClanSteamID is missing from data we received"),l=new C.a(s.clan_steamid),this.InsertEventModelFromClanEventData(l,s)),[2,this.m_mapExistingEvents.get(c)]}})})},e.prototype.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached=function(n,r,i,a,o){return Object(g.b)(this,void 0,void 0,function(){var t;return Object(g.e)(this,function(e){if(i&&this.m_mapExistingEvents.has(i))return[2,this.m_mapExistingEvents.get(i)];if(a){if(this.m_mapExistingEvents.has(s.t+a))return[2,this.m_mapExistingEvents.get(s.t+a)];if(this.m_mapAnnouncementBodyToEvent.has(a)&&(t=this.m_mapAnnouncementBodyToEvent.get(a),this.m_mapExistingEvents.has(t)))return[2,this.m_mapExistingEvents.get(t)]}return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID(n,r,i,a,o)]})})},e.prototype.LoadPartnerEventFromAnnoucementGID=function(t,n,r){return Object(g.b)(this,void 0,void 0,function(){return Object(g.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(void 0,t,void 0,n,r)]})})},e.prototype.LoadPartnerEventFromAnnoucementGIDAndClanSteamID=function(t,n,r){return Object(g.b)(this,void 0,void 0,function(){return Object(g.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(t,void 0,void 0,n,r)]})})},e.prototype.LoadPartnerEventFromClanEventGID=function(t,n,r){return Object(g.b)(this,void 0,void 0,function(){return Object(g.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(void 0,t,n,void 0,r)]})})},e.prototype.LoadPartnerEventFromClanEventGIDAndClanSteamID=function(t,n,r){return Object(g.b)(this,void 0,void 0,function(){return Object(g.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(t,void 0,n,void 0,r)]})})},e.prototype.LoadPartnerEventGeneric=function(t,n,r,i,a){return Object(g.b)(this,void 0,void 0,function(){return Object(g.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(t,n,r,i,a)]})})},e.prototype.LoadHiddenPartnerEvent=function(t,n){return Object(g.b)(this,void 0,void 0,function(){return Object(g.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID(t,null,n,null,0,!0)]})})},e.prototype.LoadHiddenPartnerEventByAnnouncementGID=function(t,n){return Object(g.b)(this,void 0,void 0,function(){return Object(g.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID(t,null,null,n,0,!0)]})})},e.prototype.HintLoadImportantUpdates=function(){return Object(g.b)(this,void 0,void 0,function(){var t,n,r,i,a=this;return Object(g.e)(this,function(e){switch(e.label){case 0:return(t=Object(o.d)(36e5))==this.m_tsUpdatedAppsQueryTime?[3,2]:(this.m_tsUpdatedAppsQueryTime=t,n={page:1,numPerPage:500,includeAnnouncements:!1},r=E.c.STORE_BASE_URL+"updated/ajaxgetmyappsraw",[4,y.a.get(r,{params:n,withCredentials:!0})]);case 1:(i=e.sent()).data.apps&&0<i.data.apps.length&&Object(S.runInAction)(function(){var e=new Map(i.data.apps.map(function(e){return[e.appid,new u(e)]}));a.m_mapUpdatedApps=e}),e.label=2;case 2:return[2,this.m_mapUpdatedApps]}})})},e.prototype.GetAppImportantUpdate=function(e){return this.HintLoadImportantUpdates().catch(function(e){console.log("UpdatedApps failed to load: ",e.response.data)}),this.m_mapUpdatedApps&&this.m_mapUpdatedApps.get(e)},e.prototype.LoadClanEventLocalizationFromAnnouncementGID=function(n,r){return Object(g.b)(this,void 0,void 0,function(){var t;return Object(g.e)(this,function(e){switch(e.label){case 0:return t=E.c.COMMUNITY_BASE_URL+"gid/"+n.ConvertTo64BitString()+"/announcements/ajaxgetlocalization/"+r,[4,y.a.get(t)];case 1:return[2,e.sent().data.localization]}})})},e.prototype.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs=function(m,h,f){return Object(g.b)(this,void 0,void 0,function(){var a,t,n,r,i,o,s,c,l,u,p,d=this;return Object(g.e)(this,function(e){switch(e.label){case 0:if(a=new Array,t=E.c.STORE_BASE_URL+"events/ajaxgetbatchedpartnerevent/",n=B(Object(w.h)(E.c.LANGUAGE)),i=r=void 0,m&&(o=new Array,m.forEach(function(e){d.m_mapExistingEvents.has(e)?a.push(d.m_mapExistingEvents.get(e)):o.push(e)}),o.sort(),r=o.join(",")),h&&(s=new Array,h.forEach(function(e){var t;d.m_mapAnnouncementBodyToEvent.has(e)&&d.m_mapExistingEvents.has(d.m_mapAnnouncementBodyToEvent.get(e))?(t=d.m_mapAnnouncementBodyToEvent.get(e),a.push(d.m_mapExistingEvents.get(t))):s.push(e)}),s.sort(),i=s.join(",")),!r&&!i)return[2,a];c={event_gids:r,announcement_gids:i,lang_list:n,origin:self.origin},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,y.a.get(t,{params:c,cancelToken:f?f.token:void 0})];case 2:return(l=e.sent())&&l.data&&l.data.events&&Object(S.runInAction)(function(){for(var e=0,t=l.data.events;e<t.length;e++){var n,r=t[e],i=d.GetEventLookupKey(r);d.m_mapExistingEvents.has(i)||(n=new C.a(r.clan_steamid),d.InsertEventModelFromClanEventData(n,r)),a.push(d.m_mapExistingEvents.get(i))}}),[3,4];case 3:return u=e.sent(),p=Object(O.a)(u),console.error("LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs hit error "+p.strErrorMsg,p),[3,4];case 4:return[2,a]}})})},Object(g.c)([S.observable],e.prototype,"m_mapExistingEvents",void 0),Object(g.c)([S.observable],e.prototype,"m_mapAnnouncementBodyToEvent",void 0),Object(g.c)([S.observable],e.prototype,"m_mapClanToGIDs",void 0),Object(g.c)([S.observable],e.prototype,"m_mapAppIDToGIDs",void 0),Object(g.c)([S.observable],e.prototype,"m_mapUpdatedApps",void 0),Object(g.c)([S.action],e.prototype,"Init",null),Object(g.c)([S.action],e.prototype,"RegisterClanEvents",null),Object(g.c)([S.action],e.prototype,"InsertEventModelFromClanEventData",null),Object(g.c)([S.action],e.prototype,"DeleteClanEvent",null),Object(g.c)([S.action],e.prototype,"RemoveGIDFromList",null),Object(g.c)([S.action],e.prototype,"FlushEventFromCache",null),Object(g.c)([S.observable],e.prototype,"GetAppImportantUpdate",null),e}(),d=new p;window.g_PartnerEventStore=d},"75qM":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),i=function(){function e(){}return e.prototype.GetObject=function(n){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.GetString(n)];case 1:return[2,(t=e.sent())?JSON.parse(t):null];case 2:return e.sent(),[2,null];case 3:return[2]}})})},e.prototype.StoreObject=function(t,n){return Object(r.b)(this,void 0,void 0,function(){return Object(r.e)(this,function(e){return[2,this.StoreString(t,JSON.stringify(n))]})})},e}()},"76AC":function(e,t,n){e.exports={DragTarget:"bbcodeeditor_DragTarget_2sUvh",DragOnTopOfMe:"bbcodeeditor_DragOnTopOfMe_1mvpI",DescriptionCtn:"bbcodeeditor_DescriptionCtn_3DQEB",EventEditorLinkInput:"bbcodeeditor_EventEditorLinkInput_25nbu",DefaultEditor:"bbcodeeditor_DefaultEditor_NENu2",ImportHTMLCtn:"bbcodeeditor_ImportHTMLCtn_3sVZH",ImportHTMLTextArea:"bbcodeeditor_ImportHTMLTextArea_DHbRF",ImportHTMLConvertButtons:"bbcodeeditor_ImportHTMLConvertButtons_lnyZa",ImportHTMLCheckBoxLine:"bbcodeeditor_ImportHTMLCheckBoxLine_3R3FN",OptionRow:"bbcodeeditor_OptionRow_2Y3ML",TextEditorToolBarContainer:"bbcodeeditor_TextEditorToolBarContainer_2bOpQ",EmoteOuter:"bbcodeeditor_EmoteOuter_1x3UO",YouTubeInput:"bbcodeeditor_YouTubeInput_3WXTC",YouTubePreviewInsertOption:"bbcodeeditor_YouTubePreviewInsertOption_6ocli",DropDownScroll:"bbcodeeditor_DropDownScroll_P0-tb",InsertSpeakerCtn:"bbcodeeditor_InsertSpeakerCtn_2f-6Y",TitleGroup:"bbcodeeditor_TitleGroup_1ddLh",AssociateRowCtn:"bbcodeeditor_AssociateRowCtn_2HeY5",PhotoCtn:"bbcodeeditor_PhotoCtn_2-f4C",AboutCtn:"bbcodeeditor_AboutCtn_3hF9c",PreviewCtn:"bbcodeeditor_PreviewCtn__VCRy",BBCodeEditorInputStyles:"bbcodeeditor_BBCodeEditorInputStyles_F506h"}},"7C/M":function(e,t,n){e.exports={DemoButton:"demobutton_DemoButton_3euSF",DisabledButton:"demobutton_DisabledButton_3Fsf5"}},"7C8f":function(e,t,n){e.exports={AppProperties:"appproperties_AppProperties_1FyBL",NoScroll:"appproperties_NoScroll_3puO0",SectionTopLine:"appproperties_SectionTopLine_r3hOL",BlueHighlight:"appproperties_BlueHighlight_1KmR8",Title:"appproperties_Title_3zuIC",Detail:"appproperties_Detail_Hxqea",TopGap:"appproperties_TopGap_1Ym7e",TopGapSmall:"appproperties_TopGapSmall_2evqi",TopGapLarge:"appproperties_TopGapLarge_1FyDt",SteamCloudSection:"appproperties_SteamCloudSection_F0Rww",SteamCloudUsage:"appproperties_SteamCloudUsage_2Dfy8",BrowseDiskRow:"appproperties_BrowseDiskRow_vgVsC",BrowseDiskSizeLabel:"appproperties_BrowseDiskSizeLabel_3sCkh",BrowseDiskSize:"appproperties_BrowseDiskSize_b5YdR",BrowseDiskButton:"appproperties_BrowseDiskButton_OF562",BetaAccessCodeRow:"appproperties_BetaAccessCodeRow_2WZcp",CheckButton:"appproperties_CheckButton_1IwF6",BetaOptIntoButton:"appproperties_BetaOptIntoButton_8mlSY",SteamInputLink:"appproperties_SteamInputLink_fy_T9",SteamInputComboHeader:"appproperties_SteamInputComboHeader_117yW",PerGameName:"appproperties_PerGameName_1ZX8p",SteamInputStatus:"appproperties_SteamInputStatus_2H4Ly",SteamInputStatusGrid:"appproperties_SteamInputStatusGrid_3lj3-",Controller:"appproperties_Controller_nsJRd",ControllerPip:"appproperties_ControllerPip_3QVsc",ControllerConnected:"appproperties_ControllerConnected_11Gq_",DlcTopRow:"appproperties_DlcTopRow_ZII4C",ViewMore:"appproperties_ViewMore_3jITh",DlcGrid:"appproperties_DlcGrid_3sXdO",DlcHeader:"appproperties_DlcHeader_1SKB0",TriangleHide:"appproperties_TriangleHide_1A_JF",TriangleUp:"appproperties_TriangleUp_3OdnV",TriangleDown:"appproperties_TriangleDown_2lnv6",Install:"appproperties_Install_2nXS1",Name:"appproperties_Name_bP2Ip",HideImages:"appproperties_HideImages_3mxYy",NameText:"appproperties_NameText_a19Ki",DlcArt:"appproperties_DlcArt_3vsfp",Added:"appproperties_Added_dR1gz",SizeDisk:"appproperties_SizeDisk_2tvvL",ShortcutRow:"appproperties_ShortcutRow_3_JQe",Icon:"appproperties_Icon_1UxV1",AssetImage:"appproperties_AssetImage_3tFB_",ShortcutChange:"appproperties_ShortcutChange_2MgqW",Option:"appproperties_Option_3E5uO",OptionDescription:"appproperties_OptionDescription_q2l4w",Checkbox:"appproperties_Checkbox_2V2nc",Disabled:"appproperties_Disabled_3dZxl",BetasDropDown:"appproperties_BetasDropDown_1-tJH"}},"7d6q":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAWhJREFUeNrMlLEuREEUhv9BKOxu6EXrAWQRISqJWhQKlHQiEo8gEYVOYXNJZC3RqxUqEoKKamXFA5CQyLL5FM5uxu7sbLOFk9zkzsx/vznn/nPGAWpndKjNUQM65/48ksYkHUgqSfqSVJZUlJSTlA3ofwOQXzaQBk5oHUdApoHjAw123QL07b1fVaHNgLHM7oFRIAMMetpCEAhMRGDvBkmATSt3yDIEGAkB8xHgGTAHzFg2KWAHWLP1XJXT5Tk+FTkNe5IqktI27jXnu2083eCylfMRyC4xnQO2gV1g337Bg2nKzUzpszIeTXQOpPxU7SRMAhfepmGg95ED+oFFYNmbnwdeA1U8hUxZBRaAnjr4hh2Xw4hpNVP8Xr6VlJf0AswCAzbfKWlY0lLEtCTYesCp7fgMrABbwDpwGcmu0Kr1bkz4CdwBbxFYvPVsIQMct+VyqDNj3IwoARU7GkUzIBvQC5D79zf2zwD3iiwiPxUy2wAAAABJRU5ErkJggg=="},"7u3m":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAc9JREFUeNrsmz1Lw1AUhnP8qB+Qkk0pItbVxcX/IM6Cky7iFH+Jk79BwclBB3+AszgUwdVNBxFaCw1E7fW9cAep5pa0NiT3vgdeLjRJm/Ocm/NRiCilAp9tKvDcCIAACIAAsiyEzqAepCqqnvEhzHJSLGVQX7jvSKDPoYO8ADS9BUcAJNBiXgCudUjCJEgABPDLZip2v12obwIXur4DdBK+MeVrHaqJSB2KzKqT2izUgLZd2wH30CF8bFnTusgnlhdUsjmXAFxBe3Au9TEJ3hXpfNkA9M22T4v80TIBuIbzDz73ARe+9wG31pqo1DSWGNqBlgcO16oO4A3b/3XIOafQ8b9PSCWZBh8BYMMSfd3wvEPzrk6DH0OON8Z0vvLDkHAaJAACIICJJJeCy+Aa1Pnj8y+Uwa6lDOpA1S3fewSdjJJIi26EOnC0nTtKInpQalsALfn+CDQJgAA8BYDnP8IS+bwDmuNcXHQVWDURG7QUmf7ZEmV9nysZh7dcGIdbALBpAaD7h6dJDFRshQmAAAiAAAiAAAiAAAiAAAiAAAiAAAjgpyUO+ZmMAuDSIQCZvtj+E4zNuhtU98WJxDgfZ50gfHOUSZAACIAAPLZvAQYAZ32YkpymkAcAAAAASUVORK5CYII="},"8H1D":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var i=n("lkRc"),a="fef49e7fa7e1997310d705b2a6158ff8dc1cdfeb";function r(e,t){var n=".jpg";e&&"0000000000000000000000000000000000000000"!==e||(e=a),44==e.length&&(n=e.substr(-4),e=e.substr(0,40));var r="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/avatars/";return r+=e.substr(0,2)+"/"+e,t&&"small"!=t&&(r+="_"+t),r+=n}},"8d7U":function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",DLCSection:"appdetailsdlcsection_DLCSection_2ycfN",InnerContainer:"appdetailsdlcsection_InnerContainer_1dnSK",InnerContainerLower2:"appdetailsdlcsection_InnerContainerLower2_3vICQ",Item:"appdetailsdlcsection_Item_Ie7sd",DLC:"appdetailsdlcsection_DLC_15tTA",SpacedButton:"appdetailsdlcsection_SpacedButton_35XwE",ButtonContainer:"appdetailsdlcsection_ButtonContainer_3VNB7",DLCArt:"appdetailsdlcsection_DLCArt_2bF7X",Fullsize:"appdetailsdlcsection_Fullsize_3Ihc3",UnlimitedSize:"appdetailsdlcsection_UnlimitedSize_2LK57",Banner:"appdetailsdlcsection_Banner_ZvLzh",Title:"appdetailsdlcsection_Title_2gv_d",Art:"appdetailsdlcsection_Art_3SQn1",Gloss:"appdetailsdlcsection_Gloss_HAvWs",Hover:"appdetailsdlcsection_Hover_1V52f",TopSection:"appdetailsdlcsection_TopSection_GT9G6",Purchased:"appdetailsdlcsection_Purchased_22tlo",StoreHover:"appdetailsdlcsection_StoreHover_M1EYV"}},"90oc":function(e,t,n){e.exports={EventTileCarousel:"eventtilecarousel_EventTileCarousel_1mKD0",HorizontalTiles:"eventtilecarousel_HorizontalTiles_1mUGB",EventTileCarouselTitleContainer:"eventtilecarousel_EventTileCarouselTitleContainer_3I_aG",EventTileCarouselTextTitle:"eventtilecarousel_EventTileCarouselTextTitle_1kQ9N",EventTileCarouselTitle:"eventtilecarousel_EventTileCarouselTitle_3X3hC",EventTileCarouselFollow:"eventtilecarousel_EventTileCarouselFollow_1qgVA"}},"9Oy5":function(e,t,n){e.exports={Bar:"gamelisthome_Bar_3pSPl",Label:"gamelisthome_Label_3O48L",CollectionIconBox:"gamelisthome_CollectionIconBox_2tyaV",Selected:"gamelisthome_Selected_eNLOx",Icon:"gamelisthome_Icon_1ooRO",CollectionButton:"gamelisthome_CollectionButton_30KGS",CollectionIcon:"gamelisthome_CollectionIcon_nC-pL",CollectionBar:"gamelisthome_CollectionBar_xeuK3"}},"9f3B":function(e,t,n){"use strict";function r(e){var t=e;return t&&Array.isArray(t)&&0<t.length&&"number"==typeof t[0]}n.d(t,"a",function(){return r})},"9w6b":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return u});var r,i,h=n("mrSG"),a=n("vDqi"),f=n.n(a),b=n("2vnA"),_=n("bxBv"),v=n("MUT6"),o=n("qiKp"),s=n("bxiW"),g=n("lkRc"),y=n("bDQf"),c=function(){function e(e){this.m_setShownEvents=new Set,this.m_setReadEvents=new Set,this.m_rgPendingUpload=[],this.m_schUpload=new o.b,this.m_bUploading=!1,this.m_CMInterface=e}return e.prototype.MarkEventShown=function(e,t,n){var r=this.MakeKey(e,n);if(this.m_setShownEvents.has(r))return!1;this.m_setShownEvents.add(r);var i=new v.i;return i.set_event_gid(e),i.set_clanid(t),i.set_display_location(n),i.set_mark_shown(!0),this.QueueForUpload(i),!0},e.prototype.MarkEventRead=function(e,t,n){var r=this.MakeKey(e,n);if(this.m_setReadEvents.has(r))return!1;this.m_setReadEvents.add(r);var i=new v.i;return i.set_event_gid(e),i.set_clanid(t),i.set_display_location(n),i.set_mark_read(!0),this.QueueForUpload(i),!0},e.prototype.MakeKey=function(e,t){return e+"_"+t},e.prototype.QueueForUpload=function(e){this.m_rgPendingUpload.push(e),this.ScheduleUpload()},e.prototype.ScheduleUpload=function(){this.m_bUploading||(30<=this.m_rgPendingUpload.length?this.UploadPendingData():this.m_schUpload.IsScheduled()||this.m_schUpload.Schedule(6e4,this.UploadPendingData))},e.prototype.Flush=function(){return Object(h.b)(this,void 0,void 0,function(){return Object(h.e)(this,function(e){return this.m_bUploading?[2]:[2,this.UploadPendingData()]})})},e.prototype.UploadPendingData=function(){return Object(h.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,p,d,m;return Object(h.e)(this,function(e){switch(e.label){case 0:if(this.m_bUploading)return[2];if(this.m_schUpload.Cancel(),0==(t=this.m_rgPendingUpload.splice(0,30)).length)return[2];if(n=!1,!this.m_CMInterface)return[3,2];for(r=_.b.Init(v.h),i=0,a=t;i<a.length;i++)o=a[i],r.Body().add_markings(o);return this.m_bUploading=!0,[4,v.o.MarkPartnerEventsForUser(this.m_CMInterface.GetServiceTransport(),r)];case 1:return s=e.sent(),this.m_bUploading=!1,n=1==s.GetEResult(),[3,6];case 2:if(!g.h.logged_in)return[2];c=t.map(function(e){return e.toObject()}),l=Object(g.e)()+"actions/ajaxmarkpartnerevents",(u=new FormData).append("sessionid",g.c.SESSIONID),u.append("request",JSON.stringify(c)),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,f.a.post(l,u,{withCredentials:!0})];case 4:return p=e.sent(),n=1==p.data.success,[3,6];case 5:return d=e.sent(),m=Object(y.a)(d),console.error("CPartnerEventUserTracking.UploadPendingData error "+m.strErrorMsg,m),[3,6];case 6:return n?(0<this.m_rgPendingUpload.length&&this.ScheduleUpload(),[2]):(console.log("Saving news event state failed. Will try again soon!"),this.m_rgPendingUpload=this.m_rgPendingUpload.concat(t),this.m_schUpload.Schedule(6e4,this.UploadPendingData),[2])}})})},Object(h.c)([s.a],e.prototype,"UploadPendingData",null),e}(),l=n("r64O"),d=function(){function e(e){this.appid=0,this.can_edit=!1,this.owns_app=!1,this.follows_app=!1,this.support_user=!1,this.valve_admin=!1,this.limited_user=!1,this.event_ignored=new Array,this.event_followed=new Array,this.event_followed_flags=new Array,this.clanid=e}return Object(h.c)([b.observable],e.prototype,"clanid",void 0),Object(h.c)([b.observable],e.prototype,"appid",void 0),Object(h.c)([b.observable],e.prototype,"can_edit",void 0),Object(h.c)([b.observable],e.prototype,"owns_app",void 0),Object(h.c)([b.observable],e.prototype,"follows_app",void 0),Object(h.c)([b.observable],e.prototype,"support_user",void 0),Object(h.c)([b.observable],e.prototype,"valve_admin",void 0),Object(h.c)([b.observable],e.prototype,"limited_user",void 0),Object(h.c)([b.observable],e.prototype,"event_ignored",void 0),Object(h.c)([b.observable],e.prototype,"event_followed",void 0),Object(h.c)([b.observable],e.prototype,"event_followed_flags",void 0),e}();(i=r=r||{})[i.k_ENotifyFlagNone=0]="k_ENotifyFlagNone",i[i.k_ENotifyFlagByEmail=1]="k_ENotifyFlagByEmail",i[i.k_ENotifyFlagByPush=2]="k_ENotifyFlagByPush";var u=function(){function p(){this.m_mapClanToUserPermissions=new Map,this.m_mapAnnounceGIDToVote=new Map,this.m_setReadEventGIDs=new Set,this.m_cm=void 0,this.m_bIsPresentationMode=Object(g.a)()}return p.Get=function(){return Object(l.a)(!!p.s_EventUserStore,"Have not yet initialized global EventUserStore"),p.s_EventUserStore},p.IsInitialized=function(){return!!p.s_EventUserStore},p.InitGlobal=function(n){return Object(h.b)(this,void 0,void 0,function(){var t;return Object(h.e)(this,function(e){switch(e.label){case 0:return Object(l.a)(!p.s_EventUserStore,"Already initialized global EventUserStore"),[4,(t=new p).Init(n)];case 1:return e.sent(),p.s_EventUserStore=t,"dev"==g.c.WEB_UNIVERSE&&(window.g_EventUserStore=t),[2]}})})},p.prototype.Init=function(i){return Object(h.b)(this,void 0,void 0,function(){var t,n,r=this;return Object(h.e)(this,function(e){return this.m_cm=i,this.m_tracker=new c(i),Object({NODE_ENV:"production",STEAM_BUILD:"buildbot"}).MOBILE_BUILD||!document.getElementById("application_config")||(t=Object(g.g)("partnereventpermissions","application_config"),this.ValidateStoreDefault(t)&&Object(b.runInAction)(function(){t.forEach(function(e){var t=new d(e.clanid),n={result:t,promise:p.RemapToPromise(t)};r.CopyFromResponseToTrack(n,e),r.m_mapClanToUserPermissions.set(e.clanid,n)})}),(n=Object(g.g)("uservotes","application_config"))&&Object(b.runInAction)(function(){n.forEach(function(e){var t=!!e.voted_up||!e.voted_down&&void 0;r.m_mapAnnounceGIDToVote.set(e.clanAnnouncementGID,t)})})),[2]})})},p.prototype.GetTracker=function(){return this.m_tracker},p.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("number"==typeof t[0].clanid&&"number"==typeof t[0].appid)},p.prototype.RecordEventShown=function(e,t){e&&!e.bOldAnnouncement&&this.m_tracker.MarkEventShown(e.GID,e.clanSteamID.GetAccountID(),t)},p.prototype.RecordEventRead=function(e,t){e&&!e.bOldAnnouncement&&(this.HasEventBeenRead(e.GID)||(this.SetEventAsRead(e.GID),this.m_tracker.MarkEventRead(e.GID,e.clanSteamID.GetAccountID(),t)))},p.prototype.SetEventAsRead=function(e){this.m_setReadEventGIDs.add(e)},p.prototype.HasEventBeenRead=function(e){return this.m_setReadEventGIDs.has(e)},p.RemapToPromise=function(t){return Object(h.b)(this,void 0,void 0,function(){return Object(h.e)(this,function(e){return[2,t]})})},p.prototype.BIsUserLoggedIn=function(){return g.h.logged_in},p.prototype.GetPartnerEventPermissions=function(e){if(!e||!e.BIsValid())return new d(0);var t=e.GetAccountID();return this.m_mapClanToUserPermissions.has(t)||this.LoadSingleAppEventPermissions(e),this.m_mapClanToUserPermissions.get(t).result},p.prototype.BFollowsEvent=function(e,t){return-1!=this.GetPartnerEventPermissions(e).event_followed.indexOf(t)},p.prototype.BFollowsEventAndNotifiedBy=function(e,t,n){var r=this.GetPartnerEventPermissions(e),i=r.event_followed.indexOf(t);return-1!==i&&(r.event_followed_flags[i]&n)==n},p.prototype.BIgnoresEvent=function(e,t){return-1!=this.GetPartnerEventPermissions(e).event_ignored.indexOf(t)},p.prototype.LoadSingleAppEventPermissions=function(r){return Object(h.b)(this,void 0,void 0,function(){var t,n;return Object(h.e)(this,function(e){return t=r.GetAccountID(),(n=this.m_mapClanToUserPermissions.get(t))||(n={promise:this.InternalLoadSingleAppEventPermissions(r),result:new d(t)},this.m_mapClanToUserPermissions.set(t,n)),[2,n.promise]})})},p.prototype.CopyFromResponseToTrack=function(e,t){e.result.appid=t.appid,e.result.can_edit=t.can_edit,e.result.clanid=t.appid,e.result.event_followed=t.event_followed,e.result.event_ignored=t.event_ignored,e.result.event_followed_flags=t.event_followed_flags,e.result.follows_app=t.follows_app,e.result.owns_app=t.owns_app,e.result.limited_user=t.limited_user,(t.support_user||t.valve_admin)&&this.m_bIsPresentationMode?(e.result.can_edit=!0,e.result.support_user=!1,e.result.valve_admin=!1):(e.result.support_user=t.support_user,e.result.valve_admin=t.valve_admin)},p.prototype.InternalLoadSingleAppEventPermissions=function(u){return Object(h.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l=this;return Object(h.e)(this,function(e){switch(e.label){case 0:t=null,n=u.GetAccountID(),r=!Boolean(g.h.logged_in),this.m_mapClanToUserPermissions.has(n)||(i=new d(u.GetAccountID()),this.m_mapClanToUserPermissions.set(n,{result:i,promise:p.RemapToPromise(i)})),e.label=1;case 1:return(e.trys.push([1,4,5,6]),Boolean(g.h.logged_in))?(a=g.c.COMMUNITY_BASE_URL+"gid/"+u.ConvertTo64BitString()+"/ajaxgetpartnereventpermissions/",[4,f.a.get(a,{withCredentials:!0})]):[3,3];case 2:1!=(t=e.sent()).data.success?(console.error("Partner Events Failed Load:"+Object(y.a)(t.data).strErrorMsg),r=!0):(o=this.m_mapClanToUserPermissions.get(n),this.CopyFromResponseToTrack(o,t.data)),e.label=3;case 3:return[3,6];case 4:return s=e.sent(),t=s.response,r=!0,s&&void 0!==s.response&&void 0!==s.response.data&&void 0!==s.response.data.success&&21==s.response.data.success||(c=Object(y.a)(s),console.error("InternalLoadSingleAppEventPermissions account: "+n+": "+c.strErrorMsg,c)),[3,6];case 5:return r&&Object(b.runInAction)(function(){var e=l.m_mapClanToUserPermissions.get(n);e.result.appid=t&&t.data?t.data.appid:0,e.result.can_edit=!1,e.result.clanid=t&&t.data?t.data.clanid:0,e.result.event_followed=new Array,e.result.event_ignored=new Array,e.result.event_followed_flags=new Array,e.result.follows_app=!1,e.result.owns_app=!1,e.result.support_user=!1,e.result.valve_admin=!1,e.result.limited_user=!1}),[7];case 6:return[2,this.m_mapClanToUserPermissions.get(n).result]}})})},p.prototype.SetFollowOrUnfollowEvent=function(l,u,p,d,m){return Object(h.b)(this,void 0,void 0,function(){var t,n,r,s,i,a,o,c=this;return Object(h.e)(this,function(e){switch(e.label){case 0:return t=this.GetPartnerEventPermissions(p),n=t.event_followed.indexOf(d),-1!==n&&(r=t.event_followed_flags[n],l?m=r&~m:m|=r),s=0==m,i=Object(g.e)()==g.c.STORE_BASE_URL,a=(i?g.c.STORE_BASE_URL+"events":g.c.COMMUNITY_BASE_URL+"/gid/"+p.ConvertTo64BitString())+(s?"/unfolloworunignoreevent":"/followorignoreevent"),(o=new URLSearchParams).append("sessionid",g.c.SESSIONID),o.append("authwgtoken",g.h.authwgtoken),o.append("ignore",""+u),o.append("gid",d),o.append("notification_flag",""+m),o.append("clan_accountid",""+p.GetAccountID()),[4,f.a.post(a,o,{withCredentials:!0})];case 1:return e.sent(),Object(b.runInAction)(function(){var e=c.m_mapClanToUserPermissions.get(p.GetAccountID()),t=null,n=null,r=null,i=null;s?(t=u?e.result.event_ignored:e.result.event_followed,r=u?null:e.result.event_followed_flags):u?(t=e.result.event_followed,r=e.result.event_followed_flags,n=e.result.event_ignored):(t=e.result.event_ignored,n=e.result.event_followed,i=e.result.event_followed_flags);var a,o=t.indexOf(d);-1<o&&(t.splice(o,1),r&&r.splice(o,1)),n&&(-1==(a=n.indexOf(d))?(n.push(d),i&&i.push(m)):i[a]=m)}),[2]}})})},p.prototype.Vote=function(o,s,c){return Object(h.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(h.e)(this,function(e){switch(e.label){case 0:return o.AnnouncementGID?(t=this.m_mapAnnounceGIDToVote.get(o.AnnouncementGID))===s?[2,!0]:(this.m_mapAnnounceGIDToVote.set(o.AnnouncementGID,s),Object(b.runInAction)(function(){!0===t&&o.UpdateVoteCount("up",-1),!1===t&&o.UpdateVoteCount("down",-1),!0===s&&o.UpdateVoteCount("up",1),!1===s&&o.UpdateVoteCount("down",1)}),this.m_cm?((n=_.b.Init(v.m)).Body().set_announcementid(o.AnnouncementGID),n.Body().set_vote_up(!!s),n.Body().set_clan_accountid(o.clanSteamID.GetAccountID()),[4,v.o.RateClanAnnouncement(this.m_cm.GetServiceTransport(),n)]):[3,2]):[2,!1];case 1:return[2,1==e.sent().GetEResult()];case 2:return r=0<=window.location.href.indexOf(g.c.COMMUNITY_BASE_URL)?g.c.COMMUNITY_BASE_URL+"gid/"+o.clanSteamID.ConvertTo64BitString()+"/announcements/rate/"+o.AnnouncementGID:g.c.STORE_BASE_URL+"updated/ajaxrateupdate/"+o.AnnouncementGID,(i=new URLSearchParams).append("sessionid",g.c.SESSIONID),i.append("wgauthtoken",g.h.authwgtoken),i.append("voteup",s?"1":"0"),i.append("clanid",""+o.clanSteamID.GetAccountID()),i.append("ajax","1"),a={withCredentials:!0,cancelToken:c.token},[4,f.a.post(r,i,a)];case 3:return[2,1==e.sent().data.success]}})})},p.prototype.LoadMyVote=function(a,o){return Object(h.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(h.e)(this,function(e){switch(e.label){case 0:return a.AnnouncementGID?this.m_mapAnnounceGIDToVote.has(a.AnnouncementGID)?(console.log(a.AnnouncementGID,this.m_mapAnnounceGIDToVote.get(a.AnnouncementGID)),[2,this.m_mapAnnounceGIDToVote.get(a.AnnouncementGID)]):(t=void 0,this.m_cm?((n=_.b.Init(v.e)).Body().set_announcementid(a.AnnouncementGID),[4,v.o.GetClanAnnouncementVoteForUser(this.m_cm.GetServiceTransport(),n)]):[3,2]):[3,5];case 1:return 1==(i=e.sent()).GetEResult()&&(t=!!i.Body().voted_up()||!i.Body().voted_down()&&void 0),[3,4];case 2:return r=g.c.COMMUNITY_BASE_URL+"ogg/"+a.appid+"/announcements/ajaxgetmyvote/"+a.AnnouncementGID,[4,f.a.get(r,{withCredentials:!0,cancelToken:o.token})];case 3:i=e.sent(),t=!!i.data.voted_up||!i.data.voted_down&&void 0,e.label=4;case 4:return this.m_mapAnnounceGIDToVote.set(a.AnnouncementGID,t),[2,t];case 5:return[2,void 0]}})})},p.prototype.SetVote=function(e,t){this.m_mapAnnounceGIDToVote.set(e,t)},p.prototype.BHasMyVote=function(e){return!!e.AnnouncementGID&&this.m_mapAnnounceGIDToVote.has(e.AnnouncementGID)},p.prototype.GetPreviouslyLoadedVote=function(e){return e.AnnouncementGID?this.m_mapAnnounceGIDToVote.get(e.AnnouncementGID):void 0},p.prototype.BShowEmailEditorTab=function(e){if(e.BHasEmailEnabled())return!0;var t=this.GetPartnerEventPermissions(e.clanSteamID);return(g.b.IS_OGG||g.b.IS_VALVE_GROUP)&&t.valve_admin},p.prototype.BShowSaleEditorTab=function(e){if(e.BHasSaleEnabled())return!0;var t=this.GetPartnerEventPermissions(e.clanSteamID);return!g.b.IS_OGG&&t.valve_admin},Object(h.c)([b.observable],p.prototype,"m_mapClanToUserPermissions",void 0),Object(h.c)([b.observable],p.prototype,"m_mapAnnounceGIDToVote",void 0),Object(h.c)([b.observable],p.prototype,"m_setReadEventGIDs",void 0),Object(h.c)([b.action],p.prototype,"CopyFromResponseToTrack",null),p}()},A5MU:function(e,t,n){"use strict";var r,i,a;n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),(r={})[r.Hover=0]="Hover",r[r.ClickPopup=1]="ClickPopup",r[r.ClickSurroundingRegion=2]="ClickSurroundingRegion",(a=i=i||{})[a.Chat=0]="Chat",a[a.Notification=1]="Notification",a[a.Error=2]="Error";var o=function(){return function(){}}()},ABLY:function(e,t,n){e.exports={WriteReviewContainer:"writereview_WriteReviewContainer_10bN3",WebLink:"writereview_WebLink_C1Dob",Header:"writereview_Header_27mfP",RatingContainer:"writereview_RatingContainer_2SAb6",LeftContainer:"writereview_LeftContainer_2aeAn",Playtime:"writereview_Playtime_qX4kN",RightContainer:"writereview_RightContainer_1E6Iv",RecommendGame:"writereview_RecommendGame_My1be",ThumbIcon:"writereview_ThumbIcon_2Jkk-",Down:"writereview_Down_32G01",Up:"writereview_Up_2DXZF",Selected:"writereview_Selected_Z3L6K",DelayIcon:"writereview_DelayIcon_14tws",CompactThumbButton:"writereview_CompactThumbButton_35_Og",ReviewThumbButton:"writereview_ReviewThumbButton_1kCN0",NoIcon:"writereview_NoIcon_2bF4k",OptionButton:"writereview_OptionButton_2gJ9F",DescribeGame:"writereview_DescribeGame_2ZLbG",ReviewTextArea:"writereview_ReviewTextArea_392iE",OptionSvg:"writereview_OptionSvg_3Wesr",OptionsContainer:"writereview_OptionsContainer_lNPFw",ButtonText:"writereview_ButtonText_3pmHH",OptionDesc:"writereview_OptionDesc_k3dYx",FormContainer:"writereview_FormContainer_sK8bm",ReviewSettingsRow:"writereview_ReviewSettingsRow_11okU",ReviewSettingsChecks:"writereview_ReviewSettingsChecks_3ntbo",CommentCheckbox:"writereview_CommentCheckbox_2sbh8",ReviewSettingsContainer:"writereview_ReviewSettingsContainer_2DV7t",FreeCheckbox:"writereview_FreeCheckbox_GpDzI",Error:"writereview_Error_ZJkUn",VisibilityMenu:"writereview_VisibilityMenu_2r_L1",FreeDisclaimerTooltip:"writereview_FreeDisclaimerTooltip_1UH9v"}},ARGL:function(e,t,n){e.exports={GrantAwardModal:"awardmodal_GrantAwardModal_2ilpH",Header:"awardmodal_Header_2_vbZ",Title:"awardmodal_Title_2yJ4j",Description:"awardmodal_Description_16dRE",ButtonContainer:"awardmodal_ButtonContainer_JYQgs",Button:"awardmodal_Button_3M92h",Selected:"awardmodal_Selected_Efo_8",Disabled:"awardmodal_Disabled_3k_Tn",IconCtn:"awardmodal_IconCtn_1fdGE",Label:"awardmodal_Label_2iEkq",Points:"awardmodal_Points_3k_jx",IconCheckMark:"awardmodal_IconCheckMark_38WUB",Footer:"awardmodal_Footer_164mm",Left:"awardmodal_Left_1v0jL",BalanceIcon:"awardmodal_BalanceIcon_3VvvB",BalanceDetails:"awardmodal_BalanceDetails_209Gy",BalanceLabel:"awardmodal_BalanceLabel_2u9RZ",BalanceAmount:"awardmodal_BalanceAmount_1O3FS",Right:"awardmodal_Right_1hgRC",Actions:"awardmodal_Actions_1-AT2",Action:"awardmodal_Action_1Beae",FooterLink:"awardmodal_FooterLink_KId8d",Divider:"awardmodal_Divider_105py",ConfirmContainer:"awardmodal_ConfirmContainer_3rAoe",ConfirmAwardImage:"awardmodal_ConfirmAwardImage_1ARgx",ConfirmText:"awardmodal_ConfirmText_1uA9Q",AwardName:"awardmodal_AwardName_25N0x",TimePeriod:"awardmodal_TimePeriod_6mEUO",Visible:"awardmodal_Visible_2QQTW",LoadingContainer:"awardmodal_LoadingContainer_1hKG3",SuccessContainer:"awardmodal_SuccessContainer_Uz_0u",SuccessText:"awardmodal_SuccessText_1kQzN",ErrorContainer:"awardmodal_ErrorContainer_1SebP",ErrorText:"awardmodal_ErrorText_ok8mo",PointsAmount:"awardmodal_PointsAmount_1WCEA",PointsAmountIcon:"awardmodal_PointsAmountIcon_3-jpV",NotEnoughPoints:"awardmodal_NotEnoughPoints_2VkAe"}},AbGu:function(e,t,n){e.exports={Container:"gamelistbar_Container_3x1Hk",GameListHomeAndSearch:"gamelistbar_GameListHomeAndSearch_2TKEa",HomeBox:"gamelistbar_HomeBox_3AhYl",CollectionsButton:"gamelistbar_CollectionsButton_2CEKF",OneCollectionWarning:"gamelistbar_OneCollectionWarning_2Q95p"}},AeJZ:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return b});var r,i,a=n("mrSG"),o=n("q1tI"),s=n("Kw0F"),c=n("uuth"),l=n("bxiW"),u=n("exH9"),p=n("0OaU");(i=r=r||{})[i.NotLoaded=0]="NotLoaded",i[i.Loading=1]="Loading",i[i.Loaded=2]="Loaded";var d=r.NotLoaded,m=[];function h(t){var e,n;d!=r.Loaded?(d==r.NotLoaded&&((e=document.createElement("script")).src="https://www.youtube.com/iframe_api",(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,n),window.onYouTubeIframeAPIReady=f),m.findIndex(function(e){return t==e})<0&&m.push(t)):t()}function f(){d=r.Loaded;for(var e=0,t=m;e<t.length;e++){(0,t[e])()}m=[]}var b=function(n){function r(e){var t=n.call(this,e)||this;return t.m_strPlayerID="",t.m_player=null,t.m_playerContainer=null,t.m_bPlayerReady=!1,t.m_strPlayerID="YoutubePlayer_"+r.s_nPlayerIndex++,t.state={bYoutubeLoaded:!1},t}return Object(a.d)(r,n),r.prototype.componentWillUnmount=function(){var e;this.DestroyPlayer(),e=this.OnYoutubeScriptsReady,s.c(m,e)},r.prototype.shouldComponentUpdate=function(e,t){if(!this.m_player)return!1;var n=this.props;return n.autoplay!=e.autoplay||n.controls!=e.controls||n.showInfo!=e.showInfo||n.video!=e.video?this.CreatePlayer(e):n.width==e.width&&n.height==e.height||this.m_bPlayerReady&&e.width&&e.height&&this.m_player.setSize(e.width,e.height),!1},r.prototype.DestroyPlayer=function(){if(this.m_player)try{this.m_player.stopVideo&&this.m_player.stopVideo(),this.m_player.destroy&&this.m_player.destroy()}catch(e){}finally{this.m_player=null}},r.prototype.BindPlayerContainer=function(e){this.m_playerContainer!=e&&(this.m_playerContainer=e,this.DestroyPlayer(),this.m_playerContainer&&h(this.OnYoutubeScriptsReady))},r.prototype.OnYoutubeScriptsReady=function(){this.CreatePlayer(this.props)},r.prototype.CreatePlayer=function(e){var t,n,r,i,a,o,s;this.DestroyPlayer(),this.m_playerContainer&&(t=!1===e.autoplay?0:1,n=!0===e.showInfo?1:0,r=!0===e.controls?1:0,i=!0===e.showFullscreenBtn?1:0,a=!0===e.playsInline?1:0,o={width:void 0!==e.width?String(e.width):void 0,height:void 0!==e.height?String(e.height):void 0,videoId:e.video,playerVars:{autoplay:t,showinfo:n,autohide:1,fs:i,modestbranding:1,rel:0,playsinline:a,iv_load_policy:3,controls:r,start:e.startSeconds},events:{onReady:this.OnPlayerReady,onStateChange:this.OnPlayerStateChange,onError:this.OnError}},s=this.m_playerContainer.firstElementChild,this.m_bPlayerReady=!1,this.m_player=new YT.Player(s,o))},r.prototype.OnPlayerReady=function(e){var t,n;this.m_bPlayerReady=!0,this.props.onVideoInfoChanged&&(n={strAuthor:"",strTitle:"",strVideoID:""},(t=this.m_player.getVideoData()).author&&(n.strAuthor=t.author),t.title&&(n.strTitle=t.title),t.video_id&&(n.strVideoID=t.video_id),this.props.onVideoInfoChanged(n)),this.props.width&&this.props.height&&this.m_player.setSize(this.props.width,this.props.height),this.props.autoplay&&this.m_player.playVideo(),this.props.onPlayerReady&&this.props.onPlayerReady()},r.prototype.OnPlayerStateChange=function(e){switch(e.data){case YT.PlayerState.UNSTARTED:case YT.PlayerState.PLAYING:case YT.PlayerState.PAUSED:case YT.PlayerState.BUFFERING:break;case YT.PlayerState.ENDED:this.props.onMovieEnd&&this.props.onMovieEnd()}},r.prototype.OnError=function(e){console.log("Youtube: Playback failed",e),this.props.onError&&this.props.onError(e)},r.prototype.OnPlayerLeftView=function(){this.props.autopause&&this.m_player&&this.m_bPlayerReady&&this.m_player.pauseVideo()},r.prototype.render=function(){var e=o.createElement("div",{key:this.m_strPlayerID,ref:this.BindPlayerContainer,className:Object(u.a)("YoutubePlayer",this.props.classnames)},o.createElement(p.a,{className:"YoutubePlayerThrobber"}));return this.props.autopause?o.createElement(c.a,{onLeave:this.OnPlayerLeftView},e):e},r.s_nPlayerIndex=0,Object(a.c)([l.a],r.prototype,"BindPlayerContainer",null),Object(a.c)([l.a],r.prototype,"OnYoutubeScriptsReady",null),Object(a.c)([l.a],r.prototype,"CreatePlayer",null),Object(a.c)([l.a],r.prototype,"OnPlayerReady",null),Object(a.c)([l.a],r.prototype,"OnPlayerStateChange",null),Object(a.c)([l.a],r.prototype,"OnError",null),Object(a.c)([l.a],r.prototype,"OnPlayerLeftView",null),r}(o.Component)},AlO6:function(e,t,n){e.exports={ShareScreenshotDialog:"sharescreenshotupload_ShareScreenshotDialog_3VEpp",CaptionTextArea:"sharescreenshotupload_CaptionTextArea_qFjVw",RadioButtonGroup:"sharescreenshotupload_RadioButtonGroup_1BSXp",CloudStorageMessage:"sharescreenshotupload_CloudStorageMessage_2_qlC",VisibilityHeader:"sharescreenshotupload_VisibilityHeader_1YSUb",Spoiler:"sharescreenshotupload_Spoiler_tmUAv",UploadingText:"sharescreenshotupload_UploadingText_nUy9B",CaptionHeader:"sharescreenshotupload_CaptionHeader_23tKR"}},BFsE:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var m=n("mrSG"),r=n("q1tI"),o=n.n(r),s=n("Mgs7"),c=n("6Y59"),i=n("TyAF"),a=n("bxiW"),l=n("exH9"),u=n("N6Aq"),p=n.n(u),d=n("2vnA"),h=n("vDqi"),f=n.n(h),b=n("r+Z0").default;function _(e,t){return e.endsWith("/")||(e+="/"),e+"login/"+t+"/"}function v(){var e=new FormData;return e.append("donotcache",(new Date).getTime().toString()),e}function g(n,r,i){return Object(m.b)(this,void 0,void 0,function(){var t;return Object(m.e)(this,function(e){switch(e.label){case 0:return(i=Object.assign({},i)).strUserName&&(i.strUserName=i.strUserName.replace(/[^\x00-\x7F]/g,"")),i.strPassword&&!i.strPassword.match(/[^\x00-\x7F]/)&&i.strUserName?[4,function(o,s){return Object(m.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(m.e)(this,function(e){switch(e.label){case 0:(t=v()).append("username",s),n=_(o,"getrsakey"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,f.a.post(n,t)];case 2:return 200!=(i=e.sent()).status?[2,null]:(a=i.data)&&a.success&&a.publickey_mod&&a.publickey_exp&&a.timestamp?(r=a,[3,4]):[2,null];case 3:return e.sent(),[2,null];case 4:return[2,r]}})})}(n,i.strUserName)]:[2,null];case 1:return(t=e.sent())?[4,function(l,u,p,d){return Object(m.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c;return Object(m.e)(this,function(e){switch(e.label){case 0:if(t=b.getPublicKey(d.publickey_mod,d.publickey_exp),!1===(n=b.encrypt(p.strPassword,t)))return[2,null];(r=v()).append("password",n),r.append("username",p.strUserName),r.append("twofactorcode",p.strTwoFactorCode||""),r.append("emailauth",p.strEmailAuthCode||""),r.append("loginfriendlyname",""),r.append("captchagid",p.gidCaptcha||""),r.append("captcha_text",p.strCaptchaText||""),r.append("emailsteamid",p.emailSteamID||""),r.append("rsatimestamp",d.timestamp),r.append("remember_login",p.bRememberLogin?"true":"false"),i={},u&&(r.append("oauth_client_id",u),r.append("mobile_chat_client","true")),a=_(l,"dologin"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,f.a.post(a,r,i)];case 2:return 200!=(s=e.sent()).status?[2,null]:(c=s.data)?(c.oauth&&(c.oauth=JSON.parse(c.oauth)),o=c,[3,4]):[2,null];case 3:return e.sent(),[2,null];case 4:return[2,o]}})})}(n,r,i,t)]:(console.log("Failed to get RSA key"),[2,null]);case 2:return[2,e.sent()]}})})}var y,S,w,C,O=n("TLQK");(S=y=y||{})[S.Invalid=0]="Invalid",S[S.AccountName=1]="AccountName",S[S.EmailCode=2]="EmailCode",S[S.TwoFactorCode=3]="TwoFactorCode",S[S.Complete=4]="Complete",(C=w=w||{})[C.None=0]="None",C[C.InvalidCode=1]="InvalidCode";var E=function(){function e(e,t){this.m_strBaseURL="",this.m_strOAuthClientID="",this.m_fnLoginComplete=null,this.m_bRequestInFlight=!1,this.m_eCurrentStep=y.AccountName,this.m_strErrorMessage="",this.m_strEmailDomain="",this.m_strCaptchaURL="",this.m_eSteamGuardCodeError=w.None,this.m_strBaseURL=e,this.m_strOAuthClientID=t,this.m_userFields={strUserName:"",strPassword:"",strTwoFactorCode:"",strEmailAuthCode:"",emailSteamID:"",gidCaptcha:"",strCaptchaText:"",bRememberLogin:!1}}return e.prototype.Shutdown=function(){this.m_fnLoginComplete=null},e.prototype.SetLoginCompleteCallback=function(e){this.m_fnLoginComplete=e},e.prototype.SetUserName=function(e){this.m_userFields.strUserName=e},e.prototype.GetUserName=function(){return this.m_userFields.strUserName},e.prototype.SetPassword=function(e){this.m_userFields.strPassword=e},e.prototype.GetPassword=function(){return this.m_userFields.strPassword},e.prototype.SetRememberPassword=function(e){this.m_userFields.bRememberLogin=e},e.prototype.GetRememberPassword=function(){return this.m_userFields.bRememberLogin},e.prototype.SetEmailAuthCode=function(e){this.m_userFields.strEmailAuthCode=e},e.prototype.GetEmailAuthCode=function(){return this.m_userFields.strEmailAuthCode},e.prototype.GetEmailDomain=function(){return this.m_strEmailDomain},e.prototype.SetTwoFactorCode=function(e){this.m_userFields.strTwoFactorCode=e},e.prototype.GetTwoFactorCode=function(){return this.m_userFields.strTwoFactorCode},e.prototype.SetCaptchaText=function(e){this.m_userFields.strCaptchaText=e},e.prototype.GetCaptchaText=function(){return this.m_userFields.strCaptchaText},e.prototype.IsRequestInFlight=function(){return this.m_bRequestInFlight},e.prototype.GetCurrentStep=function(){return this.m_eCurrentStep},e.prototype.GetErrorMessage=function(){return this.m_strErrorMessage},e.prototype.SetInitialErrorMessage=function(e){this.m_strErrorMessage=e},e.prototype.GetSteamGuardCodeError=function(){return this.m_eSteamGuardCodeError},e.prototype.GetCaptchaURL=function(){return this.m_strCaptchaURL},e.prototype.DoLogin=function(){return Object(m.b)(this,void 0,void 0,function(){var t,n=this;return Object(m.e)(this,function(e){switch(e.label){case 0:return this.m_bRequestInFlight?[2]:(Object(d.runInAction)(function(){n.m_bRequestInFlight=!0,n.m_strErrorMessage=""}),[4,g(this.m_strBaseURL,this.m_strOAuthClientID,this.m_userFields)]);case 1:return t=e.sent(),Object(d.runInAction)(function(){n.m_bRequestInFlight=!1,n.UpdateLoginResult(t)}),[2]}})})},e.prototype.UpdateLoginResult=function(e){return e?e.login_complete?(this.m_eCurrentStep=y.Complete,void(this.m_fnLoginComplete&&(t={steamID:e.oauth?e.oauth.steamid:"",strAccountName:e.oauth?e.oauth.account_name:"",strOAuthToken:e.oauth?e.oauth.oauth_token:""},this.m_fnLoginComplete(t)))):(this.m_strErrorMessage=e.message||"",this.m_eSteamGuardCodeError=w.None,void(e.requires_twofactor?(this.UpdateCaptchaURL("-1"),this.m_eCurrentStep!=y.TwoFactorCode||this.m_strErrorMessage||(this.m_strErrorMessage=Object(O.f)("#MobileLogin_IncorrectSteamGuard"),this.m_eSteamGuardCodeError=w.InvalidCode,this.m_userFields.strTwoFactorCode=""),this.m_eCurrentStep=y.TwoFactorCode):e.captcha_needed&&e.captcha_gid?(this.m_eCurrentStep=y.AccountName,this.UpdateCaptchaURL(e.captcha_gid)):e.emailauth_needed?(e.emaildomain&&(this.m_strEmailDomain=e.emaildomain),e.emailsteamid&&(this.m_userFields.emailSteamID=e.emailsteamid),this.m_eCurrentStep!=y.EmailCode||this.m_strErrorMessage||(this.m_strErrorMessage=Object(O.f)("#MobileLogin_IncorrectSteamGuard"),this.m_eSteamGuardCodeError=w.InvalidCode,this.m_userFields.strEmailAuthCode=""),this.m_eCurrentStep=y.EmailCode):e.agreement_session_url?(this.Shutdown(),console.log(window.location.href),window.location.href=e.agreement_session_url+"&redir="+window.location.href):console.log("Unhandled login error"))):(console.log("Login timeout"),void(this.m_strErrorMessage=Object(O.f)("#ConnectionTrouble_FailedToConnect")));var t},e.prototype.RefreshCaptcha=function(){return Object(m.b)(this,void 0,void 0,function(){var t;return Object(m.e)(this,function(e){switch(e.label){case 0:return[4,function(a){return Object(m.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(m.e)(this,function(e){switch(e.label){case 0:t=v(),n=_(a,"refreshcaptcha"),r="",e.label=1;case 1:return e.trys.push([1,3,,4]),[4,f.a.post(n,t)];case 2:return 200!=(i=e.sent()).status?[2,!1]:(r=i.data.gid,[3,4]);case 3:return e.sent(),[2,!1];case 4:return[2,r]}})})}(this.m_strBaseURL)];case 1:return(t=e.sent())?(this.UpdateCaptchaURL(t),[2]):(console.log("Failed to get captcha"),[2])}})})},e.prototype.UpdateCaptchaURL=function(e){var t,n;this.m_userFields.gidCaptcha=e,this.m_userFields.strCaptchaText="",this.m_strCaptchaURL="-1"!=e?(t=this.m_strBaseURL,n=e,_(t,"rendercaptcha")+"?gid="+n):""},Object(m.c)([d.observable],e.prototype,"m_bRequestInFlight",void 0),Object(m.c)([d.observable],e.prototype,"m_userFields",void 0),Object(m.c)([d.observable],e.prototype,"m_eCurrentStep",void 0),Object(m.c)([d.observable],e.prototype,"m_strErrorMessage",void 0),Object(m.c)([d.observable],e.prototype,"m_strEmailDomain",void 0),Object(m.c)([d.observable],e.prototype,"m_strCaptchaURL",void 0),Object(m.c)([d.observable],e.prototype,"m_eSteamGuardCodeError",void 0),Object(m.c)([a.a],e.prototype,"DoLogin",null),Object(m.c)([d.action.bound],e.prototype,"UpdateCaptchaURL",null),e}(),B=n("0OaU"),A=n("lkRc"),I=function(n){function e(e){var t=n.call(this,e)||this;return t.m_manager=new E(t.props.baseURL),t.props.onLoginComplete&&t.m_manager.SetLoginCompleteCallback(t.props.onLoginComplete),t}return Object(m.d)(e,n),e.prototype.componentWillUnmount=function(){this.m_manager.Shutdown()},e.prototype.render=function(){var e=this.props,t=(e.baseURL,e.onLoginComplete,e.className),n=Object(m.f)(e,["baseURL","onLoginComplete","className"]),r=Object(l.a)(p.a.LoginDialog,t),i=this.m_manager.GetCurrentStep(),a=this.m_manager.GetErrorMessage();return o.a.createElement("div",Object(m.a)({className:r},n),o.a.createElement("div",{className:p.a.LoginPanelBackground},o.a.createElement(c.rb,null)),o.a.createElement("div",{className:p.a.LoginPanelContent},a&&o.a.createElement(j,{text:a}),i==y.AccountName&&o.a.createElement(D,{manager:this.m_manager}),i==y.TwoFactorCode&&o.a.createElement(T,{manager:this.m_manager,authtype:y.TwoFactorCode}),i==y.EmailCode&&o.a.createElement(T,{manager:this.m_manager,authtype:y.EmailCode}),i==y.Complete&&o.a.createElement("div",{className:p.a.LoginComplete},o.a.createElement(B.a,null))))},Object(m.c)([i.observer],e)}(o.a.Component);function j(e){return o.a.createElement("div",{className:p.a.ErrorMessage},e.text)}var D=function(n){function e(e){var t=n.call(this,e)||this;return t.state={nNameSize:0,nPassSize:0},t}return Object(m.d)(e,n),e.prototype.OnSubmit=function(e){e.preventDefault(),this.props.manager.DoLogin()},e.prototype.OnChangeName=function(e){var t=e.target.value||"";this.props.manager.SetUserName(e.target.value),24<t.length&&t.length<39?this.setState({nNameSize:1}):38<t.length?this.setState({nNameSize:2}):this.setState({nNameSize:0})},e.prototype.OnChangePassword=function(e){var t=(t=e.target.value||"").replace(/[^\x00-\x7F]/g,"");this.props.manager.SetPassword(t),19<t.length&&t.length<39?this.setState({nPassSize:1}):38<t.length?this.setState({nPassSize:2}):this.setState({nPassSize:0})},e.prototype.OnChangeRememberPass=function(e){this.props.manager.SetRememberPassword(e.target.checked)},e.prototype.render=function(){var e=this,t=this.props.manager,n=1==this.state.nPassSize?p.a.MedPass:2==this.state.nPassSize?p.a.LargePass:p.a.DefaultPass,r=1==this.state.nNameSize?p.a.MedName:2==this.state.nNameSize?p.a.LargeName:p.a.DefaultNAme;return o.a.createElement("div",{className:p.a.AccountPasswordPanel},o.a.createElement("div",{className:p.a.SigninTitle},Object(O.f)("#Login_SignIn")),o.a.createElement("form",{className:p.a.AccountPasswordForm,onSubmit:this.OnSubmit},o.a.createElement(s.m,{className:Object(l.a)(p.a.AccountNameLabel,r),label:Object(O.f)("#Login_AccountName"),type:"text",value:t.GetUserName(),focusOnMount:!0,maxLength:64,onChange:this.OnChangeName}),o.a.createElement(s.m,{bIsPassword:!0,className:Object(l.a)(p.a.PasswordDots,n),label:Object(O.f)("#Login_Password"),type:"password",autoComplete:"off",maxLength:64,size:64,value:t.GetPassword(),onChange:this.OnChangePassword}),o.a.createElement(s.e,{classname:p.a.RememberMeCheck,label:Object(O.f)("#Login_RememberMe"),disabled:!1,onChange:function(){return e.OnChangeRememberPass},checked:t.GetRememberPassword()}),t.GetCaptchaURL()&&o.a.createElement(R,{manager:t}),o.a.createElement(s.s,{disabled:this.props.manager.IsRequestInFlight()},Object(O.f)("#Login_SignIn").toLocaleUpperCase())),o.a.createElement("a",{className:p.a.NeedHelpLink,href:A.c.HELP_BASE_URL},Object(O.f)("#Login_ForgotPassword")),o.a.createElement("div",{className:p.a.LoginCreateSeperator}),o.a.createElement("div",{className:p.a.SteamUpsellContainer},o.a.createElement("div",{className:p.a.SteamUpsell},Object(O.f)("#Login_NoSteamAccount")),o.a.createElement("div",{className:p.a.CreateAccountLink},o.a.createElement("a",{href:A.c.STORE_BASE_URL+"join/"},Object(O.f)("#Login_CreateAccount")))))},Object(m.c)([a.a],e.prototype,"OnSubmit",null),Object(m.c)([a.a],e.prototype,"OnChangeName",null),Object(m.c)([a.a],e.prototype,"OnChangePassword",null),Object(m.c)([a.a],e.prototype,"OnChangeRememberPass",null),Object(m.c)([i.observer],e)}(o.a.Component),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(m.d)(t,e),t.prototype.OnCaptchaText=function(e){this.props.manager.SetCaptchaText(e.target.value)},t.prototype.RefreshCaptcha=function(e){this.props.manager.RefreshCaptcha()},t.prototype.render=function(){var e=this.props.manager;return o.a.createElement("div",{className:p.a.CaptchaContainer},o.a.createElement("div",{className:p.a.CaptchaBlock},o.a.createElement("div",{className:p.a.CaptchaImageAndInput},o.a.createElement("div",{className:p.a.CaptchaImageBox},o.a.createElement("img",{className:p.a.CaptchaImage,src:e.GetCaptchaURL()})),o.a.createElement(s.m,{className:p.a.CaptchaInput,type:"text",autoComplete:"off",maxLength:6,value:e.GetCaptchaText(),onChange:this.OnCaptchaText})),o.a.createElement("div",{className:p.a.ErrorMessage},Object(O.f)("#Login_CaptchaVerification"))),o.a.createElement("div",null,o.a.createElement("span",{className:p.a.RefreshCaptchaText,onClick:this.RefreshCaptcha},Object(O.f)("#Login_RefreshCaptcha"))))},Object(m.c)([a.a],t.prototype,"OnCaptchaText",null),Object(m.c)([a.a],t.prototype,"RefreshCaptcha",null),Object(m.c)([i.observer],t)}(o.a.Component),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(m.d)(t,e),t.prototype.OnSubmit=function(e){e.preventDefault(),this.props.manager.DoLogin()},t.prototype.OnChangeAuthCode=function(e){this.props.authtype==y.TwoFactorCode?this.props.manager.SetTwoFactorCode(e.target.value):this.props.manager.SetEmailAuthCode(e.target.value)},t.prototype.render=function(){var e,t=this.props.manager,n="",r=null,i="",a=t.GetSteamGuardCodeError()==w.InvalidCode;switch(this.props.authtype){case y.TwoFactorCode:n=t.GetTwoFactorCode(),r=Object(O.f)("#Login_Enter2FA"),e=o.a.createElement(c.N,null),i=Object(O.f)("#Login_Enter2FAHelp");break;case y.EmailCode:n=t.GetEmailAuthCode(),r=Object(O.o)("#Login_SentSteamguard",o.a.createElement("span",{className:p.a.Highlight},"@",t.GetEmailDomain())),i=Object(O.f)("#Login_EnterSteamguard"),e=o.a.createElement(c.B,null)}return o.a.createElement("div",{className:p.a.AuthenticationPanel},o.a.createElement(s.n,null,Object(O.f)("#Login_SigningIn")),o.a.createElement("div",{className:p.a.SigningInAccountName},t.GetUserName()),o.a.createElement(s.c,null,r),o.a.createElement("div",{className:p.a.AuthenticatorInputcontainer},e,o.a.createElement("form",{className:p.a.AccountPasswordForm,onSubmit:this.OnSubmit},o.a.createElement(s.m,{className:Object(l.a)(p.a.AccountName),label:"Steam Guard Code",type:"text",autoComplete:"off",focusOnMount:!0,maxLength:64,value:n,onChange:this.OnChangeAuthCode}),o.a.createElement(s.s,{disabled:this.props.manager.IsRequestInFlight()},Object(O.f)("#Login_SteamguardSubmit").toLocaleUpperCase()))),o.a.createElement("a",{className:Object(l.a)(p.a.NeedHelpLink,a?p.a.NeedHelpHighlight:null),href:"http://help.steampowered.com/"},i))},Object(m.c)([a.a],t.prototype,"OnSubmit",null),Object(m.c)([a.a],t.prototype,"OnChangeAuthCode",null),Object(m.c)([i.observer],t)}(o.a.Component),M=n("ka0M"),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(m.d)(t,e),t.prototype.OnLoginComplete=function(e){window.location.href=this.props.redirectURL&&this.props.redirectURL!==Object(A.e)()+"login"?this.props.redirectURL:A.c.COMMUNITY_BASE_URL},t.prototype.render=function(){return A.h&&A.h.logged_in?(this.OnLoginComplete(),null):o.a.createElement("div",null,o.a.createElement(I,{baseURL:Object(A.e)(),onLoginComplete:this.OnLoginComplete}))},Object(m.c)([a.a],t.prototype,"OnLoginComplete",null),t}(o.a.Component),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(m.d)(t,e),t.prototype.render=function(){return o.a.createElement(M.a,{onEscKeypress:this.props.closeModal,bDisableBackgroundDismiss:!0},o.a.createElement(N,{redirectURL:this.props.redirectURL}))},t}(o.a.Component);function k(){Object(M.d)(o.a.createElement(L,{ownerWin:window,redirectURL:window.location.href}),window,{strTitle:Object(O.f)("#Login_SignIn")})}},BVKn:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("mrSG"),r=n("vDqi"),s=n.n(r),c=n("lkRc"),i=n("6oCP"),l=n("3+zv"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),t.prototype.DeleteOldAnnouncement=function(i,a){return Object(o.b)(this,void 0,void 0,function(){var t,n,r;return Object(o.e)(this,function(e){switch(e.label){case 0:return(t=new URLSearchParams).append("sessionid",c.c.SESSIONID),n=c.c.COMMUNITY_BASE_URL+"/gid/"+i.ConvertTo64BitString()+"/announcements/ajaxdeleteannouncement/"+a,[4,s.a.post(n,t)];case 1:if(1!=(r=e.sent()).data.success)throw r.data;return this.RemoveGIDFromList(i,l.t+a),[2,r.data]}})})},t.Get=function(){return t.sm_Instance||(t.sm_Instance=new t).Init(),t.sm_Instance},t}(i.a)},BpzF:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return _}),n.d(t,"c",function(){return v});var c=n("mrSG"),r=n("TyAF"),l=n("q1tI"),i=n("kyHq"),a=n("ir+G"),o=n("fpVW"),s=n.n(o),u=n("YLyR"),p=n("TLQK"),d=n("N0Ye"),m=n("lkRc"),h=n("6eA3"),f=n.n(h),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.d)(t,e),t.prototype.componentDidMount=function(){a.a.EnsureStoreCapsuleInfoLoaded(this.props.appid)},t.prototype.ConstructSocialLinks=function(){var e=a.a.GetStoreCapsuleInfo(this.props.appid).GetAppStoreData(),t=new Array;if(e.social)for(var n=0,r=e.social;n<r.length;n++){var i=r[n];3!=i.external_type&&t.push(l.createElement("a",{key:"app_social_link_"+e.appid+"_"+i.external_type,href:(m.c.IN_CLIENT?"steam://openurl/":"")+i.external_url,"data-tooltip-text":i.external_user_name,target:m.c.IN_CLIENT?void 0:"_blank",rel:"noopener noreferrer"},l.createElement("img",{className:f.a.AppSocialLink,src:m.c.IMG_URL+"social/"+Object(p.f)("#SocialMedia_Type_ShortName_"+i.external_type).toLocaleLowerCase()+"_large.png"})))}return t},t.prototype.render=function(){if(m.c.EREALM===i.p.k_ESteamRealmChina)return null;var e=this.ConstructSocialLinks();return 0!=e.length&&m.c.IMG_URL?l.createElement("div",{className:f.a.AppSocialLinksCtn},l.createElement("div",{className:s.a.EventEditorTextTitle},Object(p.f)("#EventDisplay_SocialTitle")),l.createElement("div",{className:f.a.AppSocialLinks},e)):null},Object(c.c)([r.observer],t)}(l.Component),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.event,n=e.nOverrideStartTime,r=e.nOverrideEndTime,i=this.props.stylesmodule?Object(c.a)(Object(c.a)({},f.a),this.props.stylesmodule):f.a,a=n||(t.bOldAnnouncement?t.postTime:t.GetStartTimeAndDateUnixSeconds()),o=r||t.GetEndTimeAndDateUnixSeconds(),s=!Object(d.a)(t.type);return l.createElement("div",{className:i.EventDetailTimeInfo},l.createElement(u.b,{startDateAndTime:a,endDateAndTime:o,bHideEndTime:s,stylesmodule:i}))},Object(c.c)([r.observer],t)}(l.Component),v=Object(r.observer)(function(e){return l.createElement("div",{className:f.a.EventDetailTimeInfo},l.createElement(u.c,{startDateAndTime:e.event.GetStartTimeAndDateUnixSeconds(),endDateAndTime:e.event.GetEndTimeAndDateUnixSeconds(),bHideEndTime:!Object(d.a)(e.event.type)}))})},C4Nl:function(e,t,n){"use strict";var f=n("mrSG"),r=n("TLQK"),b=n("lkRc"),o=function(){function e(e,t){var n;this.m_bVisible=!1,this.m_DataRequested={},this.m_eItemType=e.item_type(),this.m_unID=e.id(),this.m_bVisible=e.visible(),this.m_bIsFree=e.is_free(),this.m_strName=e.name(),this.m_strStoreURLPath=e.store_url_path(),this.m_unAppID=e.appid(),this.m_eAppType=e.type(),this.m_unParentGameAppID=null===(n=e.related_items())||void 0===n?void 0:n.parent_appid(),this.m_DataRequested=Object(f.a)({},t),e.best_purchase_option()&&(this.m_PurchaseOption=e.best_purchase_option().toObject()),this.MergeData(e,t)}return e.prototype.BIsVisible=function(){return this.m_bVisible},e.prototype.GetID=function(){return this.m_unID},e.prototype.BIsFree=function(){return this.m_bIsFree},e.prototype.GetAppID=function(){return this.m_unAppID},e.prototype.GetAppIDToRun=function(){return 11!=this.m_eAppType&&this.m_unParentGameAppID||this.m_unAppID},e.prototype.GetStoreItemType=function(){return this.m_eItemType},e.prototype.GetName=function(){return this.m_strName},e.prototype.GetPurchaseOption=function(){return this.m_PurchaseOption},e.prototype.GetPlatforms=function(){return this.m_Platforms},e.prototype.GetAllTrailers=function(){return this.m_Trailers},e.prototype.GetContentDescriptorIDs=function(){return this.m_ContentDescriptorIDs},e.prototype.HasContentDescriptorID=function(e){var t;return null===(t=this.m_ContentDescriptorIDs)||void 0===t?void 0:t.includes(e)},e.prototype.BHasBasicInfo=function(){return Boolean(this.m_BasicInfo)},e.prototype.GetDeveloperNames=function(){return this.m_BasicInfo&&this.m_BasicInfo.developers||[""]},e.prototype.GetPublisherNames=function(){return this.m_BasicInfo?this.m_BasicInfo.publishers&&0!=this.m_BasicInfo.publishers.length&&0!=this.m_BasicInfo.publishers[0].trim().length?this.m_BasicInfo.publishers:this.GetDeveloperNames():[""]},e.prototype.GetShortDescription=function(){return this.m_BasicInfo&&this.m_BasicInfo.short_description?this.m_BasicInfo.short_description:""},e.prototype.GetStoreCategories_SupportedPlayers=function(){var e;return(null===(e=this.m_StoreCategories)||void 0===e?void 0:e.supported_player_categoryids)||[]},e.prototype.GetStoreCategories_Features=function(){var e;return(null===(e=this.m_StoreCategories)||void 0===e?void 0:e.feature_categoryids)||[]},e.prototype.GetStoreCategories_Controller=function(){var e;return(null===(e=this.m_StoreCategories)||void 0===e?void 0:e.controller_categoryids)||[]},e.prototype.BHasStoreCategory=function(t){return Boolean(this.GetStoreCategories_SupportedPlayers().find(function(e){return t===e})||this.GetStoreCategories_Features().find(function(e){return t===e})||this.GetStoreCategories_Controller().find(function(e){return t===e}))},e.prototype.MergeData=function(e,t){t.include_assets&&!this.m_Assets&&(this.m_Assets=new i(e.assets()),this.m_DataRequested.include_assets=!0),t.include_platforms&&!this.m_Platforms&&(this.m_Platforms=e.platforms().toObject(),this.m_DataRequested.include_platforms=!0),t.include_trailers&&!this.m_Trailers&&(this.m_Trailers=new a(e.trailers()),this.m_DataRequested.include_trailers=!0),t.include_basic_info&&!this.m_BasicInfo&&(this.m_BasicInfo=e.basic_info().toObject(),this.m_DataRequested.include_basic_info=!0),t.include_release&&!this.m_ReleaseInfo&&(this.m_ReleaseInfo=e.release().toObject(),this.m_DataRequested.include_release=!0),this.m_StoreCategories||(this.m_StoreCategories=e.categories().toObject()),this.m_ContentDescriptorIDs||(this.m_ContentDescriptorIDs=e.content_descriptorids())},e.prototype.BContainDataRequest=function(e){var t=this.m_DataRequested;return Boolean((!e.include_assets||t.include_assets)&&(!e.include_release||t.include_release)&&(!e.include_platforms||t.include_platforms)&&(!e.include_all_purchase_options||t.include_all_purchase_options)&&(!e.include_screenshots||t.include_screenshots)&&(!e.include_trailers||t.include_trailers)&&(!e.include_ratings||t.include_ratings)&&(!e.include_tag_count||(t.include_tag_count||0)>=e.include_tag_count)&&(!e.include_reviews||t.include_reviews)&&(!e.include_basic_info||t.include_basic_info))},e.prototype.GetStorePageURL=function(){return b.c.STORE_BASE_URL+this.m_strStoreURLPath},Object.defineProperty(e.prototype,"assets",{get:function(){return this.m_Assets},enumerable:!1,configurable:!0}),e.prototype.GetFormattedSteamReleaseDate=function(){var e=this.m_ReleaseInfo.steam_release_date;return(e=e||this.m_ReleaseInfo.original_release_date)?Object(r.p)(e):""},e}(),i=function(){function e(e){var t=e.asset_url_format();t&&(e.main_capsule()&&(this.m_strMainCapsuleURL=this.ConstructAssetURL(t,e.main_capsule())),e.small_capsule()&&(this.m_strSmallCapsuleURL=this.ConstructAssetURL(t,e.small_capsule())),e.header()&&(this.m_strHeaderURL=this.ConstructAssetURL(t,e.header())),e.package_header()&&(this.m_strPackageHeaderURL=this.ConstructAssetURL(t,e.package_header())),e.page_background()&&(this.m_strPageBackgroundURL=this.ConstructAssetURL(t,e.page_background())))}return e.prototype.GetMainCapsuleURL=function(){return this.m_strMainCapsuleURL},e.prototype.GetSmallCapsuleURL=function(){return this.m_strSmallCapsuleURL},e.prototype.GetHeaderURL=function(){return this.m_strHeaderURL},e.prototype.GetPackageHeaderURL=function(){return this.m_strPackageHeaderURL},e.prototype.GetPageBackgroundURL=function(){return this.m_strPageBackgroundURL},e.prototype.ConstructAssetURL=function(e,t){return b.c.MEDIA_CDN_URL+e.replace("${FILENAME}",t)},e}(),a=function(){function e(e){var n=this;this.m_mapTrailer=new Map,this.m_higherTrailers=new Array,this.m_otherTrailers=new Array,e.highlights()&&e.highlights().forEach(function(e){var t=new s(e);n.m_mapTrailer.set(t.GetTrailerID(),t),n.m_higherTrailers.push(t)}),e.other_trailers()&&e.other_trailers().forEach(function(e){var t=new s(e);n.m_mapTrailer.set(t.GetTrailerID(),t),n.m_otherTrailers.push(t)})}return e.prototype.BHasTrailers=function(){return 0<this.m_higherTrailers.length||0<this.m_otherTrailers.length},e.prototype.GetHighlightTrailers=function(){return this.m_higherTrailers},e.prototype.GetOtherTrailers=function(){return this.m_otherTrailers},e.prototype.GetTrailerByID=function(e){return this.m_mapTrailer.get(e)},e}(),s=function(){function e(e){this.m_strTrailerName=e.trailer_name(),this.m_nBaseID=e.trailer_base_id();var t=e.trailer_url_format();t&&(e.trailer_480p()&&(this.m_Trailer480p=this.ExtractTrailerFormats(t,e.trailer_480p())),e.trailer_max()&&(this.m_TrailerMax=this.ExtractTrailerFormats(t,e.trailer_max())),e.microtrailer()&&(this.m_MicroTrailer=this.ExtractTrailerFormats(t,e.microtrailer())),e.screenshot_medium()&&(this.m_strScreenshotMedium=this.ConstructAssetURL(t,e.screenshot_medium())),e.screenshot_full()&&(this.m_strScreenshotFull=this.ConstructAssetURL(t,e.screenshot_full())))}return e.prototype.GetName=function(){return this.m_strTrailerName},e.prototype.GetTrailerID=function(){return this.m_nBaseID},e.prototype.GetTrailer480p=function(){return this.m_Trailer480p},e.prototype.GetTrailerMax=function(){return this.m_TrailerMax},e.prototype.GetMicroTrailer=function(){return this.m_MicroTrailer},e.prototype.GetScreenshot=function(){return this.m_strScreenshotFull?this.m_strScreenshotFull:this.m_strScreenshotMedium},e.prototype.ExtractTrailerFormats=function(t,e){var n=this,r={};return e.forEach(function(e){"video/mp4"==e.type()?r.strMP4URL=n.ConstructAssetURL(t,e.filename()):"video/webm"==e.type()&&(r.strWebMURL=n.ConstructAssetURL(t,e.filename()))}),r},e.prototype.ConstructAssetURL=function(e,t){return b.c.MEDIA_CDN_URL+e.replace("${FILENAME}",t)},e}(),_=n("sRB7"),v=n("bxBv");function g(e){var t;e.Body().set_context(((t=new _.b).set_country_code(b.c.COUNTRY),t.set_language(b.c.LANGUAGE),t))}var y=n("bDQf"),c=n("r64O"),S=n("WBba"),l=function(){function a(){this.k_QueueWaitUntilRequestMS=40,this.m_mapApps=new Map,this.m_mapPackages=new Map,this.m_mapBundles=new Map,this.m_SteamInterface=null,this.m_setPendingAppInfo=new Set,this.m_setPendingBundleInfo=new Set,this.m_setPendingPackageInfo=new Set,this.m_setPendingDataRequest={}}return a.Get=function(){return a.sm_instance||(a.sm_instance=new a,window.StoreItemCache=a.sm_instance),a.sm_instance},a.Initialize=function(e){a.Get().m_SteamInterface=e},a.prototype.QueueAppRequest=function(t,n){return Object(f.b)(this,void 0,void 0,function(){return Object(f.e)(this,function(e){return[2,this.QueueStoreItemRequest(t,0,n)]})})},a.prototype.QueuePackageRequest=function(t,n){return Object(f.b)(this,void 0,void 0,function(){return Object(f.e)(this,function(e){return[2,this.QueueStoreItemRequest(t,1,n)]})})},a.prototype.QueueBundleRequest=function(t,n){return Object(f.b)(this,void 0,void 0,function(){return Object(f.e)(this,function(e){return[2,this.QueueStoreItemRequest(t,2,n)]})})},a.ValidateDataRequest=function(e){for(var t=0,n=[e.include_assets,e.include_release,e.include_platforms,e.include_all_purchase_options,e.include_screenshots,e.include_trailers,e.include_ratings,e.include_reviews,e.include_basic_info];t<n.length;t++){var r=n[t];if(!0!==r&&void 0!==r)return!1}return!0},a.MergeDataRequest=function(e,t){var n=Math.max(0,Math.max(e.include_tag_count||0,t.include_tag_count||0));return{include_assets:e.include_assets||t.include_assets,include_release:e.include_release||t.include_release,include_platforms:e.include_platforms||t.include_platforms,include_all_purchase_options:e.include_all_purchase_options||t.include_all_purchase_options,include_screenshots:e.include_screenshots||t.include_screenshots,include_trailers:e.include_trailers||t.include_trailers,include_ratings:e.include_ratings||t.include_ratings,include_reviews:e.include_reviews||t.include_reviews,include_basic_info:e.include_basic_info||t.include_basic_info,include_tag_count:n||void 0}},a.prototype.QueueStoreItemRequest=function(n,r,i){return Object(f.b)(this,void 0,void 0,function(){var t=this;return Object(f.e)(this,function(e){if(Object(c.a)(a.ValidateDataRequest(i),"Invalid Data Request: "+JSON.stringify(i)),this.BHasStoreItem(n,r,i))return[2,Promise.resolve()];if(!n)return Object(c.a)(!n,"unexpected id "+n+" of zero or undefined for type "+r),[2,Promise.resolve()];switch(this.m_PendingInfoPromise||(this.m_PendingInfoPromise=new Promise(function(e){return t.m_PendingInfoResolve=e}),window.setTimeout(function(){return t.FlushPendingInfo()},this.k_QueueWaitUntilRequestMS)),this.m_setPendingDataRequest=a.MergeDataRequest(this.m_setPendingDataRequest,i),r){case 0:this.m_setPendingAppInfo.add(n);break;case 2:this.m_setPendingBundleInfo.add(n);break;case 1:this.m_setPendingPackageInfo.add(n);break;default:Object(c.a)(!1,"Unexpected Type "+r)}return[2,this.m_PendingInfoPromise]})})},a.prototype.FlushPendingInfo=function(){return Object(f.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(f.e)(this,function(e){switch(e.label){case 0:return t=this.m_PendingInfoResolve,n=Array.from(this.m_setPendingAppInfo),r=Array.from(this.m_setPendingPackageInfo),i=Array.from(this.m_setPendingBundleInfo),a=this.m_setPendingDataRequest,this.m_PendingInfoPromise=void 0,this.m_PendingInfoResolve=void 0,this.m_setPendingAppInfo.clear(),this.m_setPendingBundleInfo.clear(),this.m_setPendingPackageInfo.clear(),this.m_setPendingDataRequest={},[4,this.HintLoadStoreItems(void 0,n,r,i,a)];case 1:return e.sent(),t(),[2]}})})},a.prototype.HintLoadStoreItems=function(u,p,d,m,h){return Object(f.b)(this,void 0,void 0,function(){var n,r,i,a,o,s,c,l=this;return Object(f.e)(this,function(e){switch(e.label){case 0:if(n=(p||[]).filter(function(e){return!(l.m_mapApps.has(e)&&l.m_mapApps.get(e).BContainDataRequest(h))}),r=(d||[]).filter(function(e){return!(l.m_mapPackages.has(e)&&l.m_mapPackages.get(e).BContainDataRequest(h))}),i=(m||[]).filter(function(e){return!(l.m_mapBundles.has(e)&&l.m_mapBundles.get(e).BContainDataRequest(h))}),0==n.length&&0==i.length&&0==r.length)return[2,1];u||(this.m_SteamInterface||(this.m_SteamInterface=new S.a(b.c.WEBAPI_BASE_URL)),u=this.m_SteamInterface),g(a=v.b.Init(_.a)),t=h,a.Body().set_data_request(_.c.fromObject(t)),0<n.length&&n.forEach(function(e){return a.Body().add_ids(_.f.fromObject({appid:e}))}),0<r.length&&r.forEach(function(e){return a.Body().add_ids(_.f.fromObject({packageid:e}))}),0<i.length&&i.forEach(function(e){return a.Body().add_ids(_.f.fromObject({bundleid:e}))}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,_.d.GetItems(u.GetAnonymousServiceTransport(),a)];case 2:return 1!=(o=e.sent()).GetEResult()?(console.error("CStoreItemCache::HintLoadStoreItems failed with eResult: "+o.GetEResult()+" msg: "+o.GetEMsg()),[2,o.GetEResult()]):(o.Body().store_items().forEach(function(e){return l.ReadItem(e,h)}),[3,4]);case 3:return s=e.sent(),c=Object(y.a)(s),console.error("CStoreItemCache::HintLoadStoreItems failed: "+c.strErrorMsg,c),[2,79];case 4:return[2,1]}var t})})},a.prototype.BHasStoreItem=function(e,t,n){switch(t){case 0:return this.BHasApp(e,n);case 2:return this.BHasBundle(e,n);case 1:return this.BHasPackage(e,n);default:return!1}},a.prototype.GetStoreItem=function(e,t){switch(t){case 0:return this.GetApp(e);case 2:return this.GetBundle(e);case 1:return this.GetPackage(e);default:return}},a.prototype.BHasApp=function(e,t){return Boolean(this.m_mapApps.has(e)&&(!t||this.m_mapApps.get(e).BContainDataRequest(t)))},a.prototype.GetApp=function(e){return this.m_mapApps.get(e)},a.prototype.BHasPackage=function(e,t){return Boolean(this.m_mapPackages.has(e)&&(!t||this.m_mapPackages.get(e).BContainDataRequest(t)))},a.prototype.GetPackage=function(e){return this.m_mapPackages.get(e)},a.prototype.BHasBundle=function(e,t){return Boolean(this.m_mapBundles.has(e)&&(!t||this.m_mapBundles.get(e).BContainDataRequest(t)))},a.prototype.GetBundle=function(e){return this.m_mapBundles.get(e)},a.prototype.ReadResults=function(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];n.push(this.ReadItem(a,t))}return n},a.prototype.ReadItem=function(e,t){var n=e.item_type(),r=null;switch(n){case 0:r=this.m_mapApps;break;case 1:r=this.m_mapPackages;break;case 2:r=this.m_mapBundles;break;default:return console.error("Invalid item type: "+n),null}var i=r.get(e.id());return i?i.MergeData(e,t):(i=new o(e,t),r.set(e.id(),i)),i},a.k_DataRequest_CommonOnly={},a.k_DataRequest_BasicInfo={include_basic_info:!0},a.k_DataRequest_IncludeAll={include_assets:!0,include_release:!0,include_platforms:!0,include_all_purchase_options:!0,include_screenshots:!0,include_trailers:!0,include_ratings:!0,include_tag_count:20,include_reviews:!0,include_basic_info:!0},a}();t.a=l},D4G2:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABApJREFUeNrsm2tIFUEUx2evRl5ISnugZuULIwoVtIykIIkgowdmERERUh9CqQ/Rh+gFCX4oKCIjyi8VQtETsoLoARViJEokRYlako9Iy4JKfLX9hz2CwXrv7t6ZvbvcPfDjwr3uzJ7/npk5c3ZUVFVlkWw+FuHmCeAJ4AngCeAJ4AkQwRbtgnucBzJALPgNPoJ28FdI6zwTdCDp4DToUvWtF1SDHIPtFUz0m5GLp9noeAw4BYZV43YFxOm05QNF4DmosirADNABMm1wPgE0qdasHWSAKJALKkAr/TYIUq0KcIAa4Y0lS3Q+HjSroVk/+Knz/eFAfQe7sfpxDckU4bYqx2opKsb6UcwIMElnLPLhsECw8xskOc9F9RPFoIaGyX/9B8oDknSWybmgHhQJXOaOSlg634AP4AH4Dm6Bh6DVzDKYE0ThSoqSUJ5+lmqPVUx0D4EioDeIygdBA8gL4UmtsiGROhcoygIJ8AUMBGk8G7wC1SDRws1lSXb+OCjngW5FgFHw0kAnCthF6ekZkGLiBhMlOT4ENoNjoW6GrpvoNAbsBW3gLtgKpgS5ZkCSAD3gpojdYA34ZmGHuQ5cpWtrSZilJNJ46w/3TksxUBbfDS4K6m+ElqdO0A3mg2WSlsFsUQLwMX4DbHLRNr/eqLCBhkAm2EgC7ABPXCRAr9E/DFQQ8YM7FK61FAUJYKELBGgTIUA3fSaDPS6rdBkWIFgm+M6lpb4mUUXRey50fhA0ihLgLBh2mQANlAkKEaCTNhNusvuiEyE/7QmyXCJAhqhJcHy+vtZMo2G0RrP3afTNEB8KBeCpwwUwnbIrJo/I8KxwJzgCUh3mfD/lLH9kRAC3eLCIabW1FWA/bTudYufNOm82AuJAF02KzIFPPw38MHuhz2Qnlxw69iutOG9lDuDDoAVMd5Dzb0EuZYBMZgRw4zV2XuoadYjz/BV5qVXnrQjA7THY7pAU+STTqtKWTQnhpCjPCy6D9DA5/wIUMq3MFhYBxtJkXncvY9pJDrusAywBX0NtSBF0VthHe4Xl9FnK5J0/6qPoaxF146Imo9dUQFkj2flCUc6LFIDvwK7RBDlbYtjzCGsW2Wiop8TyafxvA1ESx3wdKGHa+0oWTgGmgsVgNVjPtBcbMo1PUCdo8yVl2dUTYBY4BOYw7VxeLGWAKbTbUmya6d8z7aVrnVyJ9Q8ORINy0KPab31gn4DDF4YItgz66SmU2RDun0AVuAB+2ZVQGM0DeNivBFtAMZgpcBvLi5j8LfQjJur4q+REiM/2eSRIPiU+aQZzhc+UL/DS9TOmFVtHWBhNVCY4mWmnypJo2IwdjBikp8xTVl5XHGIOM8X7t7kIN08ATwBPAE8ATwBPgAi2fwIMABJGc33swO3GAAAAAElFTkSuQmCC"},D4wO:function(e,t,n){"use strict";function r(o){return function(e,i,t){var a=t.value;t.value=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this[i+"_DebounceProperties"];void 0===r&&(r=this[i+"_DebounceProperties"]={hTimer:void 0,nPending:0}),void 0===r.hTimer?(a.apply(this,t),r.hTimer=window.setInterval(function(){0<r.nPending?(a.apply(e,t),r.nPending=0):(window.clearInterval(r.hTimer),r.hTimer=void 0)},o)):r.nPending+=1}}}n.d(t,"a",function(){return r})},DRMf:function(e,t,n){e.exports={Main:"basicpartnereventrender_Main_1Zn_5"}},"DTe+":function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",SpotlightBreakToLeftColumn:"1228px",Container:"appdetailsoverview_Container_27RcN",fadein:"appdetailsoverview_fadein_1AkA0",ColumnContainer:"appdetailsoverview_ColumnContainer_OhSdL",Spotlights:"appdetailsoverview_Spotlights_11kuV",SpotlightLeftColumn:"appdetailsoverview_SpotlightLeftColumn_3wbnd",LeftColumn:"appdetailsoverview_LeftColumn_1sZgB",RightColumn:"appdetailsoverview_RightColumn_2aor4",TheaterModeSpacer:"appdetailsoverview_TheaterModeSpacer_3Wwpe",BackdropGlass:"appdetailsoverview_BackdropGlass_Jbe--",Glassy:"appdetailsoverview_Glassy_2OOzY",Backdrop:"appdetailsoverview_Backdrop_1Qa-A",Seeking:"appdetailsoverview_Seeking_3wz2S",HighlightMe:"appdetailsoverview_HighlightMe_25jnp",HidePlayBar:"appdetailsoverview_HidePlayBar_3SSPI"}},DTkY:function(e,t,n){e.exports={sketchfab_play_overlay_image:"eventbbcodesketchfab_sketchfab_play_overlay_image_j_bDC",sketchfabmodelembedded:"eventbbcodesketchfab_sketchfabmodelembedded_1hkVJ",dynamiclink_box:"eventbbcodesketchfab_dynamiclink_box_2OrAL",dynamiclink_preview:"eventbbcodesketchfab_dynamiclink_preview_3__9J",dynamiclink_content:"eventbbcodesketchfab_dynamiclink_content_2ocug",dynamiclink_name:"eventbbcodesketchfab_dynamiclink_name_3a1nw",dynamiclink_type:"eventbbcodesketchfab_dynamiclink_type_31hqF",dynamiclink_author:"eventbbcodesketchfab_dynamiclink_author_13lYj"}},DVqS:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",LeftListMaxPercentage:"50%",LeftListInitialWidth:"272px",LeftListMinWidth:"256px",RightPanelMinWidth:"400px",Container:"library_Container_3xRRJ",IsResizingLeftList:"library_IsResizingLeftList_2ZP8e",PreloadThrobber:"library_PreloadThrobber_3-Wlz",LibraryContextMenu:"library_LibraryContextMenu_1UOkn",MainPanel:"library_MainPanel_3BFcm",NewCollectionTarget:"library_NewCollectionTarget_3PAPB",Visible:"library_Visible_3QGgg",TopGradient:"library_TopGradient_34Cqr",LibraryWindowDivider:"library_LibraryWindowDivider_276E6",Sizable:"library_Sizable_2g5K_",LeftListSizableContainer:"library_LeftListSizableContainer_9sPoV",AppDetailsTransitionGroup:"library_AppDetailsTransitionGroup_2Dd4T",AppDetailsOverlayTransitionGroup:"library_AppDetailsOverlayTransitionGroup_37MAY",OverlayAppDetailsTransitionEnter:"library_OverlayAppDetailsTransitionEnter_2WEP3",OverlayAppDetailsTransitionEnterActive:"library_OverlayAppDetailsTransitionEnterActive_24sm_",OverlayAppDetailsTransitionEntered:"library_OverlayAppDetailsTransitionEntered_19eb8",OverlayAppDetailsTransitionExit:"library_OverlayAppDetailsTransitionExit_iJ6kM",OverlayAppDetailsTransitionExitActive:"library_OverlayAppDetailsTransitionExitActive_1YKr0",AppDetailsMain:"library_AppDetailsMain_2Nq6o",AppDetailsTransitionEnter:"library_AppDetailsTransitionEnter_1GnH9",AppDetailsTransitionEnterActive:"library_AppDetailsTransitionEnterActive_17rLG",AppDetailsTransitionEntered:"library_AppDetailsTransitionEntered_IT0cW",AppDetailsTransitionExit:"library_AppDetailsTransitionExit_3bkBJ",AppDetailsTransitionExitActive:"library_AppDetailsTransitionExitActive_1PZx8",ContextMenuAction:"library_ContextMenuAction_Z5iAX",SettingsZooButtonContainer:"library_SettingsZooButtonContainer_23yMa",SettingsZooButton:"library_SettingsZooButton_oTc0C"}},DWPT:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var l=n("mrSG"),u=n("q1tI"),r=n("bxiW"),i=n("TyAF"),a=n("qiKp"),p=n("exH9"),o=n("6+2x"),d=n.n(o),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_listeners=new a.c,e.m_bNoSpace=!1,e.state={x:void 0,y:void 0,hoverPositionReady:!1},e}return Object(l.d)(e,t),e.prototype.bindHover=function(e){this.m_elHover=e||void 0,this.positionHover()},e.prototype.componentDidMount=function(){this.m_listeners.AddEventListener(window,"blur",this.OnWindowBlur)},e.prototype.componentDidUpdate=function(){this.positionHover()},e.prototype.componentWillUnmount=function(){this.m_listeners.Unregister()},e.prototype.OnWindowBlur=function(e){this.props.onWindowBlur&&this.props.onWindowBlur(e)},e.prototype.render=function(){var e=this.props,t=(e.target,e.visibilityObserver),n=e.className,r=e.style,i=e.bEnablePointerEvents,a=(e.direction,e.nBodyAlignment,e.nBodyDistance,e.nAllowOffscreenPx,e.nMaxLateralMoveOnScreen,e.children),o=(e.onNoSpace,e.onWindowBlur,Object(l.f)(e,["target","visibilityObserver","className","style","bEnablePointerEvents","direction","nBodyAlignment","nBodyDistance","nAllowOffscreenPx","nMaxLateralMoveOnScreen","children","onNoSpace","onWindowBlur"])),s=Object.assign({left:this.state.x,top:this.state.y},r),c=!t||t.visible;return u.createElement("div",Object(l.a)({},o,{className:Object(p.a)(n,d.a.HoverPosition,c&&this.state.hoverPositionReady&&d.a.Ready,this.m_bNoSpace&&d.a.NoSpace,i&&d.a.EnablePointerEvents),style:s,ref:this.bindHover}),a)},e.prototype.positionHover=function(){var e,t=this.m_elHover,n=this.props.target;if(t&&n&&(!this.state.hoverPositionReady||!this.props.visibilityObserver||this.props.visibilityObserver.visible)){var r=n.ownerDocument.defaultView;if(r&&!r.closed){var i=t.querySelector(".hover_arrow.left"),a=t.querySelector(".hover_arrow.right"),o=t.querySelector(".hover_arrow.top"),s=t.querySelector(".hover_arrow.bottom"),c=n.getBoundingClientRect(),l=t.getBoundingClientRect(),u="overlay"==this.props.direction||"overlay-center"==this.props.direction;i&&i.setAttribute("style","display: none;"),a&&a.setAttribute("style","display: none;"),o&&o.setAttribute("style","display: none;"),s&&s.setAttribute("style","display: none;");var p=this.props.direction,d=O(p,this.props.nBodyAlignment,this.props.nBodyDistance,c,l,r.innerWidth,r.innerHeight),m=d.nLeft,h=d.nTop,f=d.nOverflow,b=d.nLateralOverflow;if(f>this.props.nAllowOffscreenPx&&!u){var _=function(e){switch(e){case"right":return"left";case"left":return"right";case"bottom":return"top";case"top":return"bottom";case"overlay":return"overlay";case"overlay-center":return"overlay-center"}}(this.props.direction),v=O(_,this.props.nBodyAlignment,this.props.nBodyDistance,c,l,r.innerWidth,r.innerHeight),g=v.nLeft,y=v.nTop,S=v.nOverflow,w=v.nLateralOverflow;if(S<f&&(p=_,m=g,h=y,f=S,b=w),f>this.props.nAllowOffscreenPx)return t.setAttribute("style","display: none;"),this.m_bNoSpace=!0,void(this.props.onNoSpace&&this.props.onNoSpace())}0===this.props.nMaxLateralMoveOnScreen||u||(h=(e=function(e,t,n,r,i){var a=Math.max(t[0],t[1]);void 0!==e&&(a=Math.min(e,a));a=Math.max(0,a);var o=t[0]>t[1]?a:-a;"left"===n||"right"===n?r+=o:i+=o;return[r,i]}(this.props.nMaxLateralMoveOnScreen,b,p,h,m))[0],m=e[1]);var C=null;switch(p){case"left":C=a;break;case"right":C=i;break;case"top":C=s;break;case"bottom":C=o}C&&C.setAttribute("style",""),m!=this.state.x&&this.setState({x:m}),h!=this.state.y&&this.setState({y:h}),this.state.hoverPositionReady||this.setState({hoverPositionReady:!0})}}},e.defaultProps={direction:"right",nBodyAlignment:.5,nAllowOffscreenPx:10,nBodyDistance:8,nMaxLateralMoveOnScreen:void 0},Object(l.c)([r.a],e.prototype,"bindHover",null),Object(l.c)([r.a],e.prototype,"OnWindowBlur",null),Object(l.c)([i.observer],e)}(u.Component);function O(e,t,n,r,i,a,o){var s,c,l,u,p=a,d=o;switch(e){case"right":s=r.right+n,c=m(r.top,r.height,i.height,t),l=Math.max(0,s+i.width-p),u=[Math.max(0,0-c),Math.max(0,c+i.height-d)];break;case"left":s=r.left-n-i.width,c=m(r.top,r.height,i.height,t),l=Math.max(0,0-s),u=[Math.max(0,0-c),Math.max(0,c+i.height-d)];break;case"bottom":s=m(r.left,r.width,i.width,t),c=r.bottom+n,l=Math.max(0,c+i.height-d),u=[Math.max(0,0-s),Math.max(0,s+i.width-p)];break;case"top":s=m(r.left,r.width,i.width,t),c=r.top-n-i.height,l=Math.max(0,0-c),u=[Math.max(0,0-s),Math.max(0,s+i.width-p)];break;case"overlay":s=r.left,c=r.top,u=[l=0,0];break;case"overlay-center":s=r.left+.5*r.width-.5*i.width,c=r.top+.5*r.height-.5*i.height,u=[l=0,0]}return{nLeft:s,nTop:c,nOverflow:l,nLateralOverflow:u}}function m(e,t,n,r){return Math.max(0,Math.min(1,r))*(t-n)+e}},Dch3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAgCAYAAABdP1tmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzQ2RjI4M0VFMkJDMTFFMzhGNTFDMTc5REUwQkJEQTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzQ2RjI4M0ZFMkJDMTFFMzhGNTFDMTc5REUwQkJEQTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNDZGMjgzQ0UyQkMxMUUzOEY1MUMxNzlERTBCQkRBOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNDZGMjgzREUyQkMxMUUzOEY1MUMxNzlERTBCQkRBOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtABvHoAAAL4SURBVHja7Jjdi8xRGMd37TKElUV2hZItRbtolGI2mtoiuSBXxI1/QLaU/AGu1F7vCrkgN5S3uKAsURgvyUuyZQd5H2HGWobj+9R36nQ65/c2Zy5M89Sn+c0553fmPOc8z/ecM81KqaZ6sglNdWYNhxoO/UcOtYA06PA4nslgdjXjao3ZfhrYDfaChVp5HpwCg+BFzD6ngqVgMWjTyn+AR+Ap+BW1s+YYsj0HXAHdAW3GQD+4HdDmD/gIfoJZYC2YGND+GzgHSr4dOg52eggrmfVDYJL8fsR3RsFlnzk0BWzz4IyEzi2gHM6UHe9JeKd8OpSlU6adYdisAl8j9COhdt8yuCI4CY6AYVskgQU+HVrnKD8GCiDHmQ+yv2xXsqzOc/Cdz8+0Z906fTq0ISDBbc82E9W6Tmk2TVe3lCO8vK1QO2VVD7P1DLMbWvkelu0A7yz9PAafHLnTBTL8nc0UDNuWMd3HPtTHTVQfeN7SrrL/5DiwA1qdouTr8vwePAQzwUpj0lwmq/Sk2hUy82dLhBXNWJx9pa2Oogy/pEg80NpKu6PgMBgx+unwEXJm/gxwX7hrDHyAZa8tk3CNoqDn27j2XX+WFf6tiUisPApzSPR/kaNcznEzjDxIW+T9C8NEGaFeOSGI7Pc4BKLN6CvFCEicQ30h9RL3F5hjXY42wzzm2N615U0vmMu9abkjjwpJHcqG1B8EK8ASYpqE0j1+Rj0Iy6otC6jvpJjUxCFZme0B9TmGnM971zyKi4qbQ91V3nUURaLo2aFWhmRsUchG6Fzkdg3YDy7x+lCxEe5XYSfqMqVarhynHZuyafOTXB/Og00hHfcap4UW5lSae0/BsruXNMflsPrZCB9Rva0hEyFOn43r0Ade6lx2gsecWlgm5OQggx6KG3JvAupk5vfV8L+OOzzMuqyYJIf6HXd52eV3hThcrY3z7Fd2rM7NJA5dBasZq2OaDG/kZlprewsu8rNyn8pzPKM+/lOo+//lGg41HEpg/wQYAH4ArimRrGJhAAAAAElFTkSuQmCC"},Dhs6:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n("mrSG"),r=n("vDqi"),c=n.n(r),i=n("2vnA"),l=n("r64O"),u=n("bDQf"),p=n("lkRc"),a=function(){function e(){this.m_mapBlockedAppIds=new Map,this.m_mapBlockedClanIds=new Map}return e.Get=function(){return e.s_globalSingletonStore||(e.s_globalSingletonStore=new e).Init(),e.s_globalSingletonStore},e.prototype.GetMutedSourceCount=function(){return this.m_mapBlockedAppIds.size+this.m_mapBlockedClanIds.size},e.prototype.Init=function(){var t=this,e=Object(p.g)("mutedcomminfo","application_config");this.ValidateStoreDefault(e)&&("dev"!=p.c.WEB_UNIVERSE&&"beta"!=p.c.WEB_UNIVERSE||console.log("DEV_DEBUG: CMutedCommunicationStore loading bundles payload: "+JSON.stringify(e)),e.appids&&e.appids.forEach(function(e){return t.m_mapBlockedAppIds.set(e,!0)}),e.clanids&&e.clanids.forEach(function(e){return t.m_mapBlockedClanIds.set(e,!0)}))},e.prototype.ValidateStoreDefault=function(e){var t=e;return!(!t||"object"!=typeof t)&&(Array.isArray(t.appids)&&0<t.appids.length||Array.isArray(t.clanids)&&0<t.clanids.length)},e.prototype.BIsEventBlocked=function(e){return e.appid?this.m_mapBlockedAppIds.has(e.appid):!!e.clanInfo&&this.m_mapBlockedClanIds.has(e.clanInfo.clanid)},e.prototype.BIsMutedAppID=function(e){return this.m_mapBlockedAppIds.has(e)},e.prototype.BIsMutedClanID=function(e){return this.m_mapBlockedClanIds.has(e)},e.prototype.UpdateCommunitionSetting=function(i,a,o){return Object(s.b)(this,void 0,void 0,function(){var t,n,r;return Object(s.e)(this,function(e){switch(e.label){case 0:if(t=p.c.STORE_BASE_URL+"account/optoutappcommunication/",(n=new FormData).append("sessionid",p.c.SESSIONID),n.append("allowCommunication",i?"1":"0"),a){if(!i&&this.m_mapBlockedAppIds.has(a)||i&&!this.m_mapBlockedAppIds.has(a))return[2,!0];i?this.m_mapBlockedAppIds.delete(a):this.m_mapBlockedAppIds.set(a,!0),n.append("appId",a.toString())}else{if(!o)return Object(l.a)(!1,"BlockEventsFromCalenderEvent: Invalid AppID and ClanID"),[2,!1];if(!i&&this.m_mapBlockedClanIds.has(o)||i&&!this.m_mapBlockedClanIds.has(o))return[2,!0];i?this.m_mapBlockedClanIds.delete(o):this.m_mapBlockedClanIds.set(o,!0),n.append("clanId",o.toString())}e.label=1;case 1:return e.trys.push([1,3,,4]),[4,c.a.post(t,n)];case 2:return[2,1==e.sent().data.success];case 3:return r=e.sent(),console.error("Blocking app id hit error "+Object(u.a)(r).strErrorMsg),[2,!1];case 4:return[2]}})})},Object(s.c)([i.observable],e.prototype,"m_mapBlockedAppIds",void 0),Object(s.c)([i.observable],e.prototype,"m_mapBlockedClanIds",void 0),e}()},Dq3P:function(e,t,n){e.exports={GotSteamDialog:"gameactions_GotSteamDialog_2Qusm",DownloadSteamUrl:"gameactions_DownloadSteamUrl_10lP7",GameName:"gameactions_GameName_1_uzw",Buttons:"gameactions_Buttons_2_Obm",Button:"gameactions_Button_2nVaF",LeftButton:"gameactions_LeftButton_3WYyu",AnswerText:"gameactions_AnswerText_hCqVo",ActionText:"gameactions_ActionText_2s5Ns",Footer:"gameactions_Footer_3OKQs",Logo:"gameactions_Logo_2AEA_"}},Dsqm:function(e,t,n){e.exports={UnstyledButton:"unstyledbutton_UnstyledButton_1hcJa"}},EC9l:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var b=n("mrSG"),r=n("TyAF"),_=n("q1tI"),i=n("vDqi"),o=n.n(i),s=n("lkRc"),v=function(){function e(){this.m_mapAppToTrailers=new Map}return e.Get=function(){return e.s_DemoEventStore||(e.s_DemoEventStore=new e).Init(),e.s_DemoEventStore},e.prototype.BHasTrailerForApp=function(e){return this.m_mapAppToTrailers.has(e)},e.prototype.GetTrailersForApp=function(e){return this.m_mapAppToTrailers.get(e)},e.prototype.Init=function(){},e.prototype.LoadTrailersForApp=function(a){return Object(b.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(b.e)(this,function(e){switch(e.label){case 0:return this.m_mapAppToTrailers.has(a)?[2,this.m_mapAppToTrailers.get(a)]:(t=s.c.STORE_BASE_URL+"api/appdetails",n={appids:a,filters:"movies",origin:self.origin},[4,o.a.get(t,{params:n})]);case 1:return(r=e.sent())&&r.data&&r.data[a]&&1==r.data[a].success?(i=r.data[a].data.movies,this.m_mapAppToTrailers.set(a,i||[])):console.error("LoadTrailersForApp: failed for appid: "+a,r),[2,void 0]}})})},e}(),g=n("6Y59"),y=n("exH9"),S=n("Jqb/"),w=n("ka0M"),C=n("0OaU"),a=n("TLUu"),O=n.n(a),c=Object(r.observer)(function(e){var n=e.appCapsule,t=_.useState(v.Get().BHasTrailerForApp(n.appid)),r=t[0],i=t[1],a=_.useState(!1),o=a[0],s=a[1],c=_.useState(void 0),l=c[0],u=c[1];_.useEffect(function(){var e=v.Get().BHasTrailerForApp(n.appid);i(e),s(!1),u(void 0),e||Object(b.b)(void 0,void 0,void 0,function(){return Object(b.e)(this,function(e){switch(e.label){case 0:return[4,v.Get().LoadTrailersForApp(n.appid)];case 1:return e.sent(),i(!0),[2]}})})},[n.appid]);function p(){var e=v.Get().GetTrailersForApp(n.appid),t=void 0;return e&&e.forEach(function(e){e.highlight&&!t&&(t=e)}),t}function d(){p()&&s(!o)}if(!r)return _.createElement("div",{className:O.a.MediaContainer},_.createElement(C.a,{size:"medium"}));var m=p();if(!(m||n.screenshot_list&&0!==n.screenshot_list.length))return console.log("appCapsule",n.screenshot_list,n),null;var h=m||void 0!==l&&-1!==l?l:0,f=new Array;return n.screenshot_list.forEach(function(t,e){var n,r,i,a;(m||0<e)&&f.length<3&&(n=(n=(i=".116x65",(a=(r=t).replace(/\.[^\.]+$/g,""))+i+r.slice(a.length))).replace("http://","https://"),f.push(_.createElement("img",{key:e+"_"+n,className:O.a.ScreenshotThumbnail,src:n,onClick:function(){return e=t,void Object(w.d)(_.createElement(S.d,{bAllowFullSize:!0,bOKDisabled:!0},_.createElement("div",{className:O.a.PopupScreenshotContainer},_.createElement("img",{className:O.a.PopupScreenshot,src:e}))),window);var e},onMouseEnter:function(){return u(e)}})))}),_.createElement("div",{className:O.a.MediaContainer},_.createElement("div",{className:O.a.MainMediaCtn},Boolean(m)&&_.createElement("div",{className:Object(y.a)(O.a.VideoThumbnail,o?O.a.videoPlaying:null),onClick:d},Boolean(-1===h||void 0===h)?_.createElement(_.Fragment,null,_.createElement("img",{src:m.thumbnail}),_.createElement("div",{className:O.a.VideoPlayButton},_.createElement(g.ab,null))):_.createElement("img",{src:n.screenshot_list[h]})),Boolean(!m)&&_.createElement("img",{src:n.screenshot_list[h]})),Boolean(0<f.length)&&_.createElement("div",{className:O.a.Screenshot,onMouseLeave:function(){return u(-1)}},f),_.createElement("div",{className:Object(y.a)(O.a.VideoLargeContainer,o?O.a.videoPlaying:null),onClick:d},o&&_.createElement("video",{className:O.a.VideoLarge,src:m.webm[480].replace("http://","https://"),controls:!0,autoPlay:!0}),_.createElement("div",{onClick:d},_.createElement(g.Jb,null))))})},EImw:function(e,t,n){e.exports={miniProfile:"miniprofile_miniProfile_2QPdq",miniProfileContent:"miniprofile_miniProfileContent_1xTAT",miniProfileHeader:"miniprofile_miniProfileHeader_3CZcH",miniProfilePlayer:"miniprofile_miniProfilePlayer_2jZ0A",playerContent:"miniprofile_playerContent_2-pwJ",miniProfileBackground:"miniprofile_miniProfileBackground_3HzZh",miniProfileBackgroundBlur:"miniprofile_miniProfileBackgroundBlur_xUosY",miniProfileVideoBackground:"miniprofile_miniProfileVideoBackground_2Zqfb",miniProfileVideoBackgroundContainer:"miniprofile_miniProfileVideoBackgroundContainer_3MrYv",miniProfileBackdropBlur:"miniprofile_miniProfileBackdropBlur_1QhpY",miniProfileBlocked:"miniprofile_miniProfileBlocked_39Jef",miniProfileNotFriends:"miniprofile_miniProfileNotFriends_3Ea91",notFriends:"miniprofile_notFriends_2zgR7",SnoozeContainer:"miniprofile_SnoozeContainer_1cAsx",miniProfileHover:"miniprofile_miniProfileHover_2AWay",miniprofile_arrow:"miniprofile_miniprofile_arrow_1YsNo",left:"miniprofile_left_1qS_b",playerAvatar:"miniprofile_playerAvatar_36eQg",Frame:"miniprofile_Frame_2nPON",avatarStatus:"miniprofile_avatarStatus_1YdpX",miniProfileAvatarStatus:"miniprofile_miniProfileAvatarStatus_1k5Yk",personaName:"miniprofile_personaName_qiP8a",hasNickname:"miniprofile_hasNickname_2TAWS",personaNameLabel:"miniprofile_personaNameLabel_2VUw8",nickName:"miniprofile_nickName_h_So5",persona:"miniprofile_persona_3c5GO",personaAndIcons:"miniprofile_personaAndIcons_1p9kf",awayStatusLabel:"miniprofile_awayStatusLabel_1FgWI",nickname:"miniprofile_nickname_1SWhp",playerNicknameBracket:"miniprofile_playerNicknameBracket_3qa8c",notInOrWatchingGame:"miniprofile_notInOrWatchingGame_1NkB7",miniProfileBottom:"miniprofile_miniProfileBottom_26ga2",miniProfileGameContainer:"miniprofile_miniProfileGameContainer_7-U6j",gameLogo:"miniprofile_gameLogo_A0XYr",ingame:"miniprofile_ingame_24oQz",richPresence:"miniprofile_richPresence_39T3E",gameState:"miniprofile_gameState_3Hxc3",watchingbroadcast:"miniprofile_watchingbroadcast_3hSAG",watchingbroadcastThumbnail:"miniprofile_watchingbroadcastThumbnail_FmBWy",gameContent:"miniprofile_gameContent_3YwnZ",miniProfileFeaturedContainer:"miniprofile_miniProfileFeaturedContainer_1KDhd",favoriteBadgeIcon:"miniprofile_favoriteBadgeIcon_qP4hs",badgeIcon:"miniprofile_badgeIcon_1oWOa",featuredLabels:"miniprofile_featuredLabels_39har",friendPlayerLevelNum:"miniprofile_friendPlayerLevelNum_3vvwM",featuredTitle:"miniprofile_featuredTitle_2mCgt",mutualFriends:"miniprofile_mutualFriends_3AWk3",featuredSubTitle:"miniprofile_featuredSubTitle_3DelZ"}},Ee63:function(e,t,n){e.exports={DateAndTime:"localdateandtime_DateAndTime_2V6GL",DateAndTimeInline:"localdateandtime_DateAndTimeInline_HZ6b2",At:"localdateandtime_At_Fn5EU",ActiveEvent:"localdateandtime_ActiveEvent_rT7Ek",ActiveEventCallOut:"localdateandtime_ActiveEventCallOut_2pJft",RightSideTitles:"localdateandtime_RightSideTitles_4LAnP",DateToolTip:"localdateandtime_DateToolTip_2E5LH",ShortDateAndTime:"localdateandtime_ShortDateAndTime_MBkkh",ShortDateRange:"localdateandtime_ShortDateRange_3CN6I"}},Eqfr:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENENEIzRkRDOEM2MTFFNzkzQkNCNkJENzEzMDIzQ0UiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENENEIzRkNDOEM2MTFFNzkzQkNCNkJENzEzMDIzQ0UiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUZCNDhBREI0Q0IzMTFFM0FCM0ZDMUU2OTVGNUEwRUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUZCNDhBREM0Q0IzMTFFM0FCM0ZDMUU2OTVGNUEwRUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5YkRRHAAABB0lEQVR42mL8//8/AzUB47AyUBCIxYFYAojloFgBiJmBOBGXgcJQDSAsD8QyQHwSiIuAWB+IhYCYFc2iZ0AsDeeBDITibUD8Coh//0cFFf/xg9tIZjCwINnkCMQcaLb/AeJfQPwdiDmJCRcmJPY3akQKsoGM2CINjxxZBjJBxRmJNAMlltOwhOE/ID4KxJZAzILDwA9AvAibgbegaQ09UpqAuBJPpNwHYjMYB9lWMSDmR1MMso0LmqDZcBj4GZf//2JR/Bdq6F88YfgXl4HM1E422NIhC9Qioi1DDkMbIJaE5l9Yxgfl0XdQy3CFIRuppQ0ztKAQh1ogD8VyUD4oW9oNnQIWIMAAJM2E2lF9QHUAAAAASUVORK5CYII="},F7w3:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",LinksSection:"appdetailsprimarylinkssection_LinksSection_3-V8v",LinksSectionBody:"appdetailsprimarylinkssection_LinksSectionBody_25f0f",InnerContainer:"appdetailsprimarylinkssection_InnerContainer_1Ak5E",InnerContainerLower2:"appdetailsprimarylinkssection_InnerContainerLower2_2ESi7",Links:"appdetailsprimarylinkssection_Links_DgVQa",LinkInner:"appdetailsprimarylinkssection_LinkInner_7k4qm",Link:"appdetailsprimarylinkssection_Link_1b6LY",Text:"appdetailsprimarylinkssection_Text_2sNDj",NavButton:"appdetailsprimarylinkssection_NavButton_2NqVq",Label:"appdetailsprimarylinkssection_Label_2yAhd",MenuButton:"appdetailsprimarylinkssection_MenuButton_1bIMO",ContextMenuItem:"appdetailsprimarylinkssection_ContextMenuItem_322wB"}},FKsz:function(e,t,n){e.exports={FeedSuggestContainerBG:"curatorfeedsuggestrow_FeedSuggestContainerBG_3ICp4",FeedSuggestContainer:"curatorfeedsuggestrow_FeedSuggestContainer_1420T",FeedSuggestCaption:"curatorfeedsuggestrow_FeedSuggestCaption_38Zh0",RowContainer:"curatorfeedsuggestrow_RowContainer_39bJZ",ClanInfo:"curatorfeedsuggestrow_ClanInfo_2gUTg",DismissButton:"curatorfeedsuggestrow_DismissButton_3YtGj",BrowseMore:"curatorfeedsuggestrow_BrowseMore_2nWAP"}},FdXL:function(e,t,n){e.exports={LinkRegionDragBox:"linkregionbox_LinkRegionDragBox_Rtlc-",EdgeDown:"linkregionbox_EdgeDown_i9zrH",LinkRegionGridBox:"linkregionbox_LinkRegionGridBox_1Ob4A",LinkRegionEdge:"linkregionbox_LinkRegionEdge_2stP4",TopLeft:"linkregionbox_TopLeft_Clgi-",Top:"linkregionbox_Top_2Z9Vy",TopRight:"linkregionbox_TopRight_2-8Db",Left:"linkregionbox_Left_3ZwUw",Middle:"linkregionbox_Middle_1Heco",LinkRegionDelete:"linkregionbox_LinkRegionDelete_3Hb3w",LinkRegionSettings:"linkregionbox_LinkRegionSettings_VazMl",Right:"linkregionbox_Right_3h5fK",BottomLeft:"linkregionbox_BottomLeft_2CQe0",Bottom:"linkregionbox_Bottom_sIHlK",BottomRight:"linkregionbox_BottomRight_3lnwj",topleft:"linkregionbox_topleft_3W096",top:"linkregionbox_top_1iRW1",topright:"linkregionbox_topright_1Yrl7",left:"linkregionbox_left_2iBrm",right:"linkregionbox_right_15t6A",bottomleft:"linkregionbox_bottomleft_3SdBc",bottom:"linkregionbox_bottom_2kzZ9",bottomright:"linkregionbox_bottomright_2AKXk",middle:"linkregionbox_middle_1CS75",LinkRegionButtonContainer:"linkregionbox_LinkRegionButtonContainer_1ZJ42",DialogButton:"linkregionbox_DialogButton_nN2Q1",LinkRegionInfo:"linkregionbox_LinkRegionInfo_3TiV7",LinkText:"linkregionbox_LinkText_2TAc2"}},Ff1b:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgJJREFUeNrsmz9LxDAYxpNyIhzICeIkiLM46KAf4EY9HBzcnDwXJ0cnFxddHdQP4ScQcXJxUvDP7qAOLg5Ot8TnpDhIkja5mL5t3hcechDS9Pmlb3mba6VSSqQcmUg8GAADYAAMgAHoQkr5K8QppGouvU9THZAbF+hvo3mDOjVfbOmbApsNMD/SPaDf5HuANQXQN4+fT4ax79CAqK9ZzSWvTYFWwYF2LH2rgHRP0T0W7rNs2maWg4yj2Uq5DtiAplIG0BcJhA1Al0thBsAAGEDToxVzMtQWL38LFBRTk6HHkAWQG+lEGMMpwAAYAANgAAyAATAABsAAGAADIPUw1POYs/ef5xkVAB5jb2KMSToFlFITaMaSBADzw32DK6idHIDc/CW0klwKlDB/bhtsUlEsUjEP3VrO8wySJp+1BlDWvG2hawvAxXzjALiatwEYpRBad4BwgYLmS2NkGs2ax9y70LKh7wTaw3yqLE3fK8Al5nTmoYfA8xy5+swquoSHK38NLQQ87DFWfZ98KUzJfHQA1MxHBUDRfEwAJM3/PG5bvhkK+THRKzRTpXnjC6GRAISMA5g/9EhB5x2hJY+Tu/MY8whti3Kv3Q5g/jnoLlXR6/KOlJWH+S7m+ohwEya3HxDNPMUNERLmqwJAxnwVAEiZjw2AnPmiOiCJ4D9HUwfwLcAAxHgyaE4johYAAAAASUVORK5CYII="},FhLd:function(e,t,n){e.exports={strWidescreenWidth:"1420px",strPhoneWidth:"768px",FacetedBrowseCtn:"facetedbrowse_FacetedBrowseCtn_1Drr-",FacetedBrowseInnerCtn:"facetedbrowse_FacetedBrowseInnerCtn_3vjDu",FacetedBrowseControls:"facetedbrowse_FacetedBrowseControls_1JM3A",FacetedBrowseMatchCount:"facetedbrowse_FacetedBrowseMatchCount_3_OwR",FacetValue:"facetedbrowse_FacetValue_12piy",FacetValueEnabled:"facetedbrowse_FacetValueEnabled_TZdsh",FacetValueDeactivated:"facetedbrowse_FacetValueDeactivated_2OE4s",FacetValueName:"facetedbrowse_FacetValueName_2uSEn",FacetValueDescription:"facetedbrowse_FacetValueDescription_1inQ1",FacetValueShowMore:"facetedbrowse_FacetValueShowMore_2b0pt",FacetedBrowseItems:"facetedbrowse_FacetedBrowseItems_3EdZT",FacetedBrowsePopupCtn:"facetedbrowse_FacetedBrowsePopupCtn_24dqX",FacetedBrowsePopupLabel:"facetedbrowse_FacetedBrowsePopupLabel_zux_u",FacetedBrowsePopup:"facetedbrowse_FacetedBrowsePopup_2FEDs",FacetedBrowseFeedbackLink:"facetedbrowse_FacetedBrowseFeedbackLink_rpvzD"}},FhZQ:function(e,t,n){e.exports={Container:"gamelistsectionheader_Container_2sYIg",HoverOverlay:"gamelistsectionheader_HoverOverlay_2zGph",Selected:"gamelistsectionheader_Selected_sXMOs",SectionHeaderContent:"gamelistsectionheader_SectionHeaderContent_3cV3O",HasContextMenuOpen:"gamelistsectionheader_HasContextMenuOpen_1dcGF",DropOption:"gamelistsectionheader_DropOption_2iS5r",SingleLine:"gamelistsectionheader_SingleLine_1u3dM",DropTarget:"gamelistsectionheader_DropTarget_3zHMJ",SectionName:"gamelistsectionheader_SectionName_2mZ8L",SectionCount:"gamelistsectionheader_SectionCount_29ute",SectionRule:"gamelistsectionheader_SectionRule_1PxXc"}},Fmfl:function(e,t,n){"use strict";n.d(t,"a",function(){return F}),n.d(t,"b",function(){return z}),n.d(t,"c",function(){return H}),n.d(t,"d",function(){return q});var O=n("mrSG"),r=n("vDqi"),E=n.n(r),i=n("TyAF"),B=n("q1tI"),A=n.n(B),a=n("pQ8y"),I=n("kyHq"),o=n("sUmc"),j=n("5eAM"),s=n("DWPT"),D=n("VQ2A"),c=n("ee7K"),p=n("IjL/"),l=n("6Y59"),R=(n("5E+2"),n("r64O")),u=n("qiKp"),b=n("exH9"),d=n("X3Ds"),m=n("TLQK"),h=n("bxiW"),T=n("lkRc"),M=n("dfs5"),_=n("PHKo"),f=n("XTKY"),v=n.n(f),g=n("BFsE"),N=n("gyoR"),y=n("5L1o"),S=n("NKJh"),w=n.n(S),C=n("onkS"),L=n("RQmk"),k="DEBUG_UseNewGameHover";function F(){return"none"!==P()}function P(){var e;return(null===(e=window.sessionStorage)||void 0===e?void 0:e.getItem(k))||"default"}window.SetHoverPresentation=function(e){window.sessionStorage.setItem(k,e)};function G(e){return A.a.createElement("div",{className:v.a.TagRow},A.a.createElement("div",{className:v.a.Tags},e.tags.map(function(e){return A.a.createElement("span",{className:v.a.Tag,key:e.tagid},e.name)})))}function U(e){var t=e.fnClose,n=e.hoverProps;return A.a.createElement(s.a,Object(O.a)({},n),A.a.createElement(a.a,{timeout:500,in:!0,appear:!0,classNames:{appearActive:v.a.Opening,enterDone:v.a.Open}},A.a.createElement("div",{ref:function(e){return null==e?void 0:e.focus()},className:v.a.HoverContentTransition,tabIndex:-1,onMouseLeave:t,onBlur:function(e){e.relatedTarget&&d.c(e.currentTarget,e.relatedTarget)||t()},onKeyDown:function(e){27==e.keyCode&&(t(),e.preventDefault(),e.stopPropagation())}},e.children)))}var x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={rgImages:[],nCurrentIndex:0},e.m_imageRotationCallback=new u.b,e}return Object(O.d)(e,t),e.prototype.componentDidMount=function(){this.SetUpImageRotation()},e.prototype.componentDidUpdate=function(e){e.info.id!=this.props.info.id&&this.SetUpImageRotation()},e.prototype.componentWillUnmount=function(){this.m_imageRotationCallback.Cancel()},e.prototype.SetUpImageRotation=function(){return Object(O.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s;return Object(O.e)(this,function(e){switch(e.label){case 0:return t=this.props.info,n=[],[4,Object(N.c)(t)];case 1:if(1==(r=e.sent()).length&&((s=j.a.GetAppLinkInfo(r[0])).microtrailer&&n.push({rctImage:A.a.createElement(y.a,{appInfo:s}),nDurationMs:5500}),s.screenshot_list.forEach(function(e,t){n.push({rctImage:A.a.createElement("img",{key:e,className:v.a.FullDivImage,loading:"lazy",src:e,alt:"screenshot "+(t+1)}),nDurationMs:2e3})})),0==n.length)for(i=0,a=r;i<a.length;i++)o=a[i],s=j.a.GetAppLinkInfo(o),n.push({rctImage:A.a.createElement("img",{key:"fallback",className:v.a.FullDivImage,loading:"lazy",src:s.main_capsule,alt:s.name}),nDurationMs:2e3});return this.setState({rgImages:n,nCurrentIndex:0},this.ScheduleNextRotation),[2]}})})},e.prototype.RotateImages=function(){var t=this;this.setState(function(e){return{nCurrentIndex:(e.nCurrentIndex+1)%t.state.rgImages.length}},this.ScheduleNextRotation)},e.prototype.ScheduleNextRotation=function(){var e=this.state,t=e.rgImages[e.nCurrentIndex].nDurationMs;this.m_imageRotationCallback.Schedule(t,this.RotateImages)},e.prototype.render=function(){var e=this.state,t=e.rgImages,n=e.nCurrentIndex;return t&&t.length?A.a.createElement("div",{className:v.a.TrailerCtn},t.map(function(e,t){return A.a.createElement("div",{key:"e-"+t,className:Object(b.a)(v.a.FullDivImage,t!=n&&v.a.Transparent)},e.rctImage)})):null},Object(O.c)([h.a],e.prototype,"RotateImages",null),Object(O.c)([h.a],e.prototype,"ScheduleNextRotation",null),e}(A.a.Component),z=function(e){var t=c.a.BShowFilteredUserReviewScores()?e.appInfo.reviews_filtered:e.appInfo.reviews_unfiltered;if(!t||0==t.score)return null;var n=t.score<5?v.a.ReviewScoreLow:5==t.score?v.a.ReviewScoreMixed:v.a.ReviewScoreHigh;return A.a.createElement("div",{className:Object(b.a)(v.a.ReviewScore,"ReviewScore")},A.a.createElement("div",{className:Object(b.a)(v.a.ReviewScoreValue,n)},A.a.createElement("div",{className:v.a.ReviewScoreLabel},t.label),A.a.createElement("div",{className:v.a.ReviewScoreCount},Object(m.f)("#GameHover_UserReviewCount",t.num_reviews.toLocaleString())),A.a.createElement("div",{className:v.a.ReviewScoreHeader},Object(m.f)("#GameHover_UserReviewsHeader"))))},H=Object(i.observer)(function(n){var r=n.appInfo,i=r&&c.a.BIsGameWishlisted(r.appid),e=Object(B.useState)(!1),t=e[0],a=e[1],o=A.a.useRef(E.a.CancelToken.source());A.a.useEffect(function(){var t=o;return function(){var e;return null===(e=t.current)||void 0===e?void 0:e.cancel("GameHoverWishlistButton unmounted")}},[]);return A.a.createElement("div",{className:Object(b.a)(v.a.WishlistButton,n.classOverride),onClick:function(t){return Object(O.b)(void 0,void 0,void 0,function(){return Object(O.e)(this,function(e){switch(e.label){case 0:return(t.preventDefault(),t.stopPropagation(),T.h.logged_in)?[3,1]:(Object(g.a)(),[3,3]);case 1:return a(!0),[4,c.a.UpdateGameWishlist(r.appid,!i,n.snr)];case 2:e.sent(),o.current.token.reason||a(!1),e.label=3;case 3:return[2]}})})}},A.a.createElement(l.Gb,null),A.a.createElement("div",{className:Object(b.a)(v.a.WishlistButtonText,t&&v.a.WishlistLoadingText)},Object(m.f)(i?"#Sale_RemoveFromWishlist":"#Sale_AddToWishlist")))}),W=Object(i.observer)(function(e){var t=e.info,n=e.appInfo,r=e.strStoreUrl,i=e.eventToShow,a=e.bShowDemoButton,o=e.bHideBottomHalf,s=e.bHidePrice,c=e.bUseSubscriptionLayout,l=Object(B.useState)(!1),u=l[0],p=l[1],d=Object(B.useState)(""),m=d[0],h=d[1],f=!c&&!a&&!i;return A.a.createElement("div",{className:v.a.BottomShelf,style:{transform:o&&u?m:""},onMouseEnter:function(){return p(!0)},onFocus:function(){return p(!0)},onMouseLeave:function(){return p(!1)},onBlur:function(){return p(!1)}},A.a.createElement("a",{href:r,target:T.c.IN_CLIENT?void 0:"_blank",className:v.a.Midline},A.a.createElement("div",{className:v.a.CapsuleImageAnchorPoint},A.a.createElement("div",{className:Object(b.a)(v.a.CapsuleImageCtn,v.a.WithCornerShine)},A.a.createElement("img",{loading:"lazy",src:t.header_image_url,alt:t.name}))),!s&&!c&&A.a.createElement("div",{className:v.a.Price},A.a.createElement(y.f,{info:t}))),A.a.createElement("div",{className:v.a.BottomShelfOffScreen,ref:function(e){return h("translateY( -"+((null==e?void 0:e.clientHeight)||0)+"px )")}},A.a.createElement("div",{className:v.a.TextContent},A.a.createElement("a",{href:r,target:T.c.IN_CLIENT?void 0:"_blank"},A.a.createElement("div",{className:v.a.GameTitle},t.name),n&&A.a.createElement(G,{tags:n.tags}),n&&A.a.createElement(z,{appInfo:n}),f&&A.a.createElement("div",{className:v.a.ReviewsAndRelease},A.a.createElement(y.e,{item:t,strClassName:v.a.PlatformDisplay}),(null==n?void 0:n.release)&&A.a.createElement("div",{className:v.a.ReleaseDate},n.release))),a&&A.a.createElement(_.a,{appLinkInfo:t,className:v.a.DemoButton}),i&&A.a.createElement(C.b,{item:i,bMiniMode:!0}),c&&n&&A.a.createElement(y.b,{appid:n.appid,bIsMuted:!1}))))}),V=Object(i.observer)(function(e){A.a.useEffect(function(){c.a.HintLoad()},[]);var t=e.info,n=e.appInfo,r=e.strStoreUrl,i=e.bHideBottomHalf;return A.a.createElement("div",{className:Object(b.a)(v.a.GameHoverCapsuleCtn,w.a.InGameHover,i&&v.a.UseHidingBottomHalf)},A.a.createElement("a",{href:r,target:T.c.IN_CLIENT?void 0:"_blank",className:v.a.TrailerAnchorStoreLink},n&&A.a.createElement(H,{appInfo:n,snr:e.strSNR}),A.a.createElement(x,{info:t})),A.a.createElement(W,Object(O.a)({},e)))}),q=function(e){var a=e.item,t=e.eventToShow,n=e.bShowDemoButton,r=e.bHidePrice,i=e.bUseSubscriptionLayout,o=e.strExtraParams,s=e.fnOnHoverStateChange,c=Object(O.f)(e,["item","eventToShow","bShowDemoButton","bHidePrice","bUseSubscriptionLayout","strExtraParams","fnOnHoverStateChange"]),l=Object(B.useState)(null),u=l[0],p=l[1],d=Object(B.useState)(null),m=d[0],h=d[1],f=A.a.useRef(E.a.CancelToken.source()),b=Object(M.c)();if(A.a.useEffect(function(){var i=a;Object(N.e)([i],!1,f.current).then(function(){return Object(O.b)(void 0,void 0,void 0,function(){var t,n,r;return Object(O.e)(this,function(e){switch(e.label){case 0:return[4,Object(N.c)(i)];case 1:return(t=e.sent(),n=Object(N.d)(i),Object(R.a)(!!n,"Unsupported item: "+a.type+" "+a.id),!n||f.current.token.reason)?[2]:(p(n),(r=1==t.length?j.a.GetAppLinkInfo(t[0]):null)&&h(r),[2])}})})})},[a]),A.a.useEffect(function(){return function(){return f.current.cancel("unmounting StoreItemHoverSource")}},[]),!u)return null;if(!F()){var _=m||Object(I.f)(a.type)?"app":a.type,v=(m||u).id;return A.a.createElement(L.a,{strURL:""+T.c.STORE_BASE_URL+_+"/"+v,type:_,id:v,fnHoverState:s,hoverClassName:e.className},e.children)}var g="hiding"==P(),y=Object(I.f)(u.type)?"app":u.type,S=Object(D.c)(b),w=Object(D.b)(""+T.c.STORE_BASE_URL+y+"/"+u.id+(o?"?"+o:""),b),C=A.a.createElement(V,Object(O.a)({},{info:u,appInfo:m,strStoreUrl:w,eventToShow:t,bShowDemoButton:n,bHideBottomHalf:g,bHidePrice:r,bUseSubscriptionLayout:i,strSNR:S}));return A.a.createElement(Y,Object(O.a)({hoverContent:C},c),e.children)},Y=function(t){function u(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refHoverSourceDiv=A.a.createRef(),e.m_bPopupShowPending=!1,e}return Object(O.d)(u,t),u.prototype.ClosePopup=function(){this.m_fnHidePopup&&(this.m_fnHidePopup(),this.m_fnHidePopup=null,window.removeEventListener("scroll",this.OnScroll))},u.prototype.OnUnhover=function(){this.m_bPopupShowPending&&(this.ClosePopup(),this.m_bPopupShowPending=!1)},u.prototype.componentWillUnmount=function(){this.ClosePopup()},u.prototype.OnScroll=function(){50<Math.abs(window.scrollY-this.m_nScrollYAtHoverStart)&&this.ClosePopup()},u.prototype.OnHover=function(e){return Object(O.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l;return Object(O.e)(this,function(e){switch(e.label){case 0:return(t=this.props,n=t.hoverContent,r=t.hoverProps,i=t.nDelayShowMs,t.children,Object(O.f)(t,["hoverContent","hoverProps","nDelayShowMs","children"]),(a=this.m_refHoverSourceDiv.current)&&n)?(o=a.clientWidth<200?"8px":"10px",s=Object(O.a)(Object(O.a)({direction:"overlay-center",bEnablePointerEvents:!0},r),{style:Object(O.a)({zIndex:98,width:1.15*a.clientWidth,fontSize:o,minHeight:"hiding"==P()?void 0:300,height:"hiding"==P()?1.15*a.clientWidth*(125/184):void 0},null==r?void 0:r.style),target:a}),c="game-hover-"+Math.floor(1e8*Math.random()),this.m_fnHidePopup=function(){return u.sm_embeddedElements.HideElement(a.ownerDocument,c)},this.m_nScrollYAtHoverStart=window.scrollY,window.addEventListener("scroll",this.OnScroll),l=null!=i?i:150,this.m_bPopupShowPending=!0,[4,u.sm_embeddedElements.ShowElementDelayed(a.ownerDocument,l,A.a.createElement(U,{hoverProps:s,fnClose:this.ClosePopup},A.a.createElement(p.a,null,n)),c)]):[2];case 1:return e.sent(),this.m_bPopupShowPending=!1,[2]}})})},u.prototype.render=function(){var e=this.props,t=(e.hoverContent,e.hoverProps,e.nDelayShowMs,e.children),n=Object(O.f)(e,["hoverContent","hoverProps","nDelayShowMs","children"]);return A.a.createElement("div",Object(O.a)({ref:this.m_refHoverSourceDiv},n,{onMouseEnter:this.OnHover,onMouseLeave:this.OnUnhover,onFocus:this.OnHover,onBlur:this.OnUnhover}),A.a.createElement(p.a,null,t))},u.sm_embeddedElements=new o.a("item-hover-source-elements"),Object(O.c)([h.a],u.prototype,"ClosePopup",null),Object(O.c)([h.a],u.prototype,"OnUnhover",null),Object(O.c)([h.a],u.prototype,"OnScroll",null),Object(O.c)([h.a],u.prototype,"OnHover",null),u}(A.a.Component)},Fq2z:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("mrSG"),a=n("lkRc"),r=n("IzPI"),o=n("VQ2A"),s=new(function(){function e(){var e=this;this.m_steamUrls=null,this.m_vecAdditionalURLs=[],o.e.SetNavEventParams("steamclient","library"),SteamClient.URL.RegisterForSteamURLChanges(function(){return e.onURLChanges()})}return e.prototype.Init=function(r){return Object(i.b)(this,void 0,void 0,function(){var t,n;return Object(i.e)(this,function(e){switch(e.label){case 0:return t=["AppHoverPublic","AppHoverPublicFull","Chat","ChatRoot","CommunityCDN","CommunityFrontPage","CommunityGroupSearch","CommunityImages","CommunityRecommendations","GameHub","GameHubDiscussions","GameHubGuides","GameHubReviews","GlobalAchievementStatsPage","HelpAppPage","LibraryAppReview","LibraryFeaturedBroadcasts","ParentalSetup","RecommendGame","RegisterKey","SteamClientBetaBugReports","SteamIDAchievementsPage","SteamIDAppTradingCardsPage","SteamIDBadgeInfo","SteamIDEditPage","SteamIDEditPrivacyPage","SteamIDMyProfile","SteamIDPage","SteamLanguage","SteamPreferences","SteamWorkshopPage","StoreAccount","StoreAppHover","StoreAppImages","StoreAppPage","StoreCDN","StoreFrontPage","StoreGameSearchPage","StoreStats","SupportMessages","TodayPage","LibraryAppDetails"],this.m_vecAdditionalURLs=r,t=t.concat(r),n=this,[4,SteamClient.URL.GetSteamURLList(t)];case 1:return n.m_steamUrls=e.sent(),a.c.CHAT_BASE_URL=this.ResolveURL("ChatRoot"),a.c.STORE_BASE_URL=this.GetStoreURL(),a.c.STORE_CDN_URL=this.GetStoreCDNURL(),a.c.COMMUNITY_BASE_URL=this.GetCommunityURL(),a.c.COMMUNITY_CDN_URL=this.GetCommunityCDNURL(),a.c.MEDIA_CDN_COMMUNITY_URL=this.GetCommunityImageURL(),a.c.MEDIA_CDN_URL=this.GetMediaCDNUrl(),a.c.STORE_ICON_BASE_URL=this.GetStoreIconBaseURL(),[2]}})})},e.prototype.onURLChanges=function(){this.Init(this.m_vecAdditionalURLs)},e.prototype.ResolveURL=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var r=this.m_steamUrls[e];return r&&(0<n.length&&(r=r.replace(/%p(\d+)%/g,function(e,t){return void 0!==n[t-1]?String(n[t-1]):e})),r.replace("http://","https://")),r},e.prototype.GetMatchingUrls=function(i){var a=[],o=this.m_steamUrls;return Object.getOwnPropertyNames(o).forEach(function(e,t,n){var r=o[e];"/"==(r=(r=(r=(r="^"+(r=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"))).replace("http://","https?://")).replace("%p1%",".+")).replace("%p2%",".+")).slice(-1)&&(r+="?"),new RegExp(r).test(i)&&a.push({urlid:e,length:o[e].length})}),a.sort(function(e,t){return t.length-e.length}),a},e.prototype.GetCommunityURL=function(){return this.ResolveURL("CommunityFrontPage")},e.prototype.GetCommunityImageURL=function(){return this.ResolveURL("CommunityImages")},e.prototype.GetMediaCDNUrl=function(){var e=this.ResolveURL("CommunityImages");return"https://"+Object(r.b)(e)+"/"},e.prototype.GetCommunityCDNURL=function(){return this.ResolveURL("CommunityCDN")},e.prototype.GetStoreAppImageURL=function(){return this.ResolveURL("StoreAppImages")},e.prototype.GetStoreIconBaseURL=function(){return this.GetMediaCDNUrl()+"steam/apps/"},e.prototype.GetStoreURL=function(){return this.ResolveURL("StoreFrontPage")},e.prototype.GetStoreCDNURL=function(){return this.ResolveURL("StoreCDN")},e.prototype.BuildSteamURL=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"steam://url/"+e+"/"+t.join("/")},e.prototype.BuildStoreAppURL=function(e,t){return void 0===t&&(t=null),"steam://openurl/"+Object(o.d)(e,t)},e.prototype.BuildAppPointsShopURL=function(e){return this.GetStoreURL()+"points/shop/app/"+e},e.prototype.NavigateToSteamURL=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];window.location.href=this.BuildSteamURL.apply(this,Object(i.g)([e],t))},e.prototype.NavigateToStoreAppPage=function(e,t){void 0===t&&(t=null),window.location.href=Object(o.d)(e,t)},e.prototype.BuildStoreAssetURL=function(e,t,n){return "https://media.st.dl.pinyuncloud.com/steam/apps/"+e+"/"+t},e.prototype.BuildCachedStoreAssetURL=function(e,t,n){return"assets/"+e+"_"+t+"?t="+(n||0)},e.prototype.BuildLibraryAssetURL=function(e,t,n){return "https://media.st.dl.pinyuncloud.com/steam/apps/"+e+"/"+t},e.prototype.BuildCachedLibraryAssetURL=function(e,t,n){return"assets/"+e+"_"+t+"?t="+(n||0)},e.prototype.BuildCustomAssetURL=function(e,t,n,r){return"customimages/"+e+t+"."+n+"?v="+r},e}());window.urlStore=s},G24H:function(e,t,n){e.exports={AppPartnerEventsPage:"apppartnereventspage_AppPartnerEventsPage_3CJsg",AppPartnerEventsBanner:"apppartnereventspage_AppPartnerEventsBanner_1HRiM",AppBannerLinks:"apppartnereventspage_AppBannerLinks_D1bMm",ControlSection:"apppartnereventspage_ControlSection_2pA5C",NoGameLink:"apppartnereventspage_NoGameLink_2GfPe",AppPartnerEventsBody:"apppartnereventspage_AppPartnerEventsBody_1XLRr",AppBannerGroup:"apppartnereventspage_AppBannerGroup_qexk-",AppBannerCtn:"apppartnereventspage_AppBannerCtn_wavRt",AppBannerBackground:"apppartnereventspage_AppBannerBackground_3RHFo",ClanBanner:"apppartnereventspage_ClanBanner_161DW",TallBanner:"apppartnereventspage_TallBanner_KBixg",WideBanner:"apppartnereventspage_WideBanner_1hl09",AppBannerTitle:"apppartnereventspage_AppBannerTitle_1iqjH",NewsHubSubTitle:"apppartnereventspage_NewsHubSubTitle_3tf3b",AppBannerLogoCtn:"apppartnereventspage_AppBannerLogoCtn_2EV_W",AppBannerLogo:"apppartnereventspage_AppBannerLogo_dGGTg",HeaderFollowButton:"apppartnereventspage_HeaderFollowButton_1tnk5",AppBannerLink:"apppartnereventspage_AppBannerLink_3Yoms",AppBannerRSSLink:"apppartnereventspage_AppBannerRSSLink_1HeKH",AppPartnerEventsContainer:"apppartnereventspage_AppPartnerEventsContainer_3GCEy",PartnerEvent:"apppartnereventspage_PartnerEvent_1KsYS",LibraryViewSubtitle:"apppartnereventspage_LibraryViewSubtitle_1rbgK",EventDetailsBody:"apppartnereventspage_EventDetailsBody_3NW5v",NoScrollArrows:"apppartnereventspage_NoScrollArrows_39hJ8",ControlSectionWidth:"apppartnereventspage_ControlSectionWidth_3yfs7",ControlSectionRightSide:"apppartnereventspage_ControlSectionRightSide_2tSyr",GameArt:"apppartnereventspage_GameArt_2a5oS",ScrollButton:"apppartnereventspage_ScrollButton_1t_97",Up:"apppartnereventspage_Up_3vBD2",Down:"apppartnereventspage_Down_3VePR",CloseButton:"apppartnereventspage_CloseButton_1_vCR",AnimIn:"apppartnereventspage_AnimIn_240i5",transitionIn:"apppartnereventspage_transitionIn_2jG5N",ClickableBG:"apppartnereventspage_ClickableBG_308ED",DirectionState:"apppartnereventspage_DirectionState_Bv96j",EventTypeAndTimeRow:"apppartnereventspage_EventTypeAndTimeRow_3bWTO",WithReminder:"apppartnereventspage_WithReminder_1C5Dv",TimeandPostedBy:"apppartnereventspage_TimeandPostedBy_2WwG2",EventType:"apppartnereventspage_EventType_Udzrp",PostedBy:"apppartnereventspage_PostedBy_2VqeQ",ReminderContainer:"apppartnereventspage_ReminderContainer_3Vf2M",ReadMoreCnt:"apppartnereventspage_ReadMoreCnt_1Ymai"}},Gorr:function(e,t,n){"use strict";n.d(t,"b",function(){return M}),n.d(t,"a",function(){return G}),n.d(t,"c",function(){return U}),n.d(t,"d",function(){return X});var l=n("mrSG"),u=n("wUwH"),i=n("TyAF"),p=n("q1tI"),r=n("i8i4"),a=n("DWPT"),o=n("bxiW"),d=n("y+6m"),s=n("2vnA"),m=n("TLQK"),c=(n("X3Ds"),function(t){function e(e){return t.call(this,e)||this}return Object(l.d)(e,t),e.prototype.render=function(){if(null==this.props.text)return p.createElement(p.Fragment,null,this.props.children);var e=this.props.text instanceof Array?this.props.text.map(function(e){return e?e.toString():""}).filter(function(e){return 0<e.length}).join("\n"):this.props.text.toString();if(1!=p.Children.count(this.props.children))return console.log("Error: CopyableText must be the parent of exactly one child:\n\tcopystyle="+this.props.style+" copytext="+e),p.createElement(p.Fragment,null,this.props.children);var t=p.Children.only(this.props.children);return p.cloneElement(t,{"data-copystyle":this.props.style,"data-copytext":e})},e.defaultProps={text:""},e}(p.Component));var h=n("rcgg"),f=n.n(h),b=n("exH9");function _(e,t){return e+"economy/sticker/"+t}var v=n("lkRc"),g=n("KZds"),y=n("Mgs7"),S=function(n){function e(e){var t=n.call(this,e)||this;return t.state={activeIndex:e.initialActiveIndex||0},t}return Object(l.d)(e,n),e.prototype.render=function(){var e=this.props.config,t=this.state.activeIndex,n=e[t]&&e[t].renderContent?e[t].renderContent():null,r=1<e.length;return p.createElement("div",{className:g.Picker},r&&p.createElement(w,null,this.RenderTabs()),n)},e.prototype.RenderTabs=function(){var i=this;return this.props.config.map(function(e,t){var n=e.renderTab,r=i.state.activeIndex===t;return p.createElement(O,{key:t,active:r,onClick:function(){return i.setState({activeIndex:t})}},n(r))})},e}(p.Component);function w(e){return p.createElement("div",{className:g.Tabs},e.children)}function C(e){return p.createElement("div",{className:g.Content},e.children)}function O(e){var t=e.active,n=e.children,r=e.onClick;return p.createElement("div",{className:Object(b.a)(g.Tab,t&&g.Active),onClick:r},p.createElement("div",{className:Object(b.a)(g.TabContent,t&&g.Active)},n))}function E(e){var n=e.items,r=e.renderItem,i=e.onItemSelect,a=e.keyExtractor,t=e.renderEmpty,o=n.map(function(e,t){return p.createElement("div",{key:a(e),className:g.Item,onClick:function(){return i(n[t])}},r(n[t]))});return 0===n.length&&t&&(o=t()),p.createElement("div",{className:g.ItemList},o)}function B(e){var t=e.title,n=e.onFilterChange,r=e.filter,i=e.onSubmit,a=Object(l.f)(e,["title","onFilterChange","filter","onSubmit"]);return p.createElement(p.Fragment,null,p.createElement(C,null,p.createElement(I,{title:t},p.createElement(E,Object(l.a)({},a)))),p.createElement(j,{value:r,onChange:n,onSubmit:i}))}function A(e){var t=e.onFilterChange,n=e.filter,r=e.sections,i=e.title;return p.createElement(p.Fragment,null,p.createElement(C,null,i&&p.createElement("div",{className:g.SectionedPageTitle},i),r.map(function(e){var t=e.title,n=Object(l.f)(e,["title"]);return p.createElement(I,{title:t,key:t},p.createElement(E,Object(l.a)({},n)))})),p.createElement(j,{value:n,onChange:t}))}function I(e){return p.createElement("div",{className:g.Section},p.createElement("div",{className:g.SectionTitle},e.title),p.createElement("div",{className:g.SectionContent},e.children))}function j(e){var t=e.value,n=e.onChange,r=e.onSubmit;return p.createElement("div",{className:g.FilterInputContainer},p.createElement(y.m,{type:"text",placeholder:"Search...",className:g.FilterInput,value:t,onChange:function(e){return n(e.target.value)},onSubmit:r}))}function D(e){var t=e.className,n=Object(l.f)(e,["className"]);return p.createElement("div",Object(l.a)({className:Object(b.a)(t,g.AddonPickerMessage)},n))}var R=n("qD+2"),T=n("+d9t"),M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={showHover:!1},e.m_ref=p.createRef(),e}return Object(l.d)(e,t),e.prototype.OnMouseEnter=function(e){this.setState({showHover:!0})},e.prototype.OnMouseLeave=function(e){this.setState({showHover:!1})},e.prototype.render=function(){var e=this.props,t=e.emoticon,n=e.large,r=e.emoticonHoverStore,i=":"+t+":",a=n&&r.BLoaded(t)?r.Get(t).url:u.a.GetEmoticonURL(t,n);return p.createElement(p.Fragment,null,p.createElement(c,{text:i,style:"merge-adjacent"},p.createElement("img",{src:a,className:Object(b.a)(f.a.emoticon,n?f.a.large:void 0),"data-emoticon":t,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave,ref:this.m_ref})),this.state.showHover&&p.createElement(N,{target:this.m_ref.current,store:r,emoticon:t}))},Object(l.c)([o.a],e.prototype,"OnMouseEnter",null),Object(l.c)([o.a],e.prototype,"OnMouseLeave",null),e}(p.PureComponent),N=Object(i.observer)(function(e){var t=e.target,n=e.store,r=e.emoticon,i=n.Get(r);return p.createElement(L,{target:t,title:":"+r+":",subtitle:i&&i.app_name?i.app_name:void 0},p.createElement(M,{emoticon:r,emoticonHoverStore:n,large:!0}))}),L=function(e){var t=e.target,n=e.title,r=e.subtitle,i=e.children;return p.createElement(a.a,{target:t,style:{zIndex:1700},className:f.a.EmoticonHover},i,p.createElement("div",{className:f.a.Info},p.createElement("div",{className:f.a.Name},n||p.createElement("span",null," ")),p.createElement("div",{className:f.a.AppName},r||p.createElement("span",null," "))))};function k(e){return e.recent_emoticons}function F(e){return e.recent_stickers}function P(e){return 0<k(e).length+F(e).length}var G=function(r){function e(e){var t=r.call(this,e)||this;t.state={strSearchText:""};var n=t.props.emoticonStore;return n.is_initialized||(n.UpdateEmoticonList(),t.m_disposeEmoticonStore=Object(s.when)(function(){return n.is_initialized},function(){return t.forceUpdate()})),t}return Object(l.d)(e,r),e.prototype.componentWillUnmount=function(){this.m_disposeEmoticonStore&&this.m_disposeEmoticonStore()},e.prototype.render=function(){var e=this.props,t=e.emoticonStore,n=e.emoticonHoverStore,r=e.roomEffectSettings,i=e.onEmoticonSelected,a=e.onStickerSelected,o=e.onRoomEffectSelected,s=e.strFlairGroupID,c=[];return P(t)&&c.push({renderTab:function(e){return p.createElement("span",{title:Object(m.f)("#AddonPicker_RecentlyUsed"),className:Object(b.a)(f.a.PickerTab,f.a.Clock,e&&f.a.ActiveTab)},p.createElement(ne,null))},renderContent:function(){return p.createElement(x,{store:t,hoverStore:n,onEmoticonSelect:function(e){return i(e.name)},onStickerSelect:function(e){return a(e.name)},flairGroupID:s})}}),p.createElement(d.c,null,p.createElement(S,{config:Object(l.g)(c,[{renderTab:function(e){return p.createElement("span",{title:Object(m.f)("#AddonPicker_Emoticons"),className:Object(b.a)(f.a.PickerTab,e&&f.a.ActiveTab)},p.createElement(ee,null))},renderContent:function(){return p.createElement(z,{store:t,hoverStore:n,onItemSelect:function(e){return i(e.name)},flairGroupID:s})}},{renderTab:function(e){return p.createElement("span",{title:Object(m.f)("#AddonPicker_Stickers"),className:Object(b.a)(f.a.PickerTab,e&&f.a.ActiveTab)},p.createElement($,null))},renderContent:function(){return p.createElement(W,{store:t,onItemSelect:function(e){return a(e.name)}})}},{renderTab:function(e){return p.createElement("span",{title:Object(m.f)("#AddonPicker_RoomEffects"),className:Object(b.a)(f.a.PickerTab,e&&f.a.ActiveTab)},p.createElement(te,null))},renderContent:function(){return p.createElement(V,{store:t,effectSettings:r,onItemSelect:function(e){return o(e.name)}})}}])}))},Object(l.c)([i.observer],e)}(p.Component),U=(p.Component,function(r){function e(e){var t=r.call(this,e)||this;t.state={strSearchText:""};var n=t.props.emoticonStore;return n.is_initialized||(n.UpdateEmoticonList(),t.m_disposeEmoticonStore=Object(s.when)(function(){return n.is_initialized},function(){return t.forceUpdate()})),t}return Object(l.d)(e,r),e.prototype.componentWillUnmount=function(){this.m_disposeEmoticonStore&&this.m_disposeEmoticonStore()},e.prototype.render=function(){var t=this;return p.createElement(d.c,null,p.createElement(S,{config:[{renderTab:function(){return p.createElement("span",{title:Object(m.f)("#AddonPicker_Emoticons"),className:f.a.PickerTab},p.createElement(ee,null))},renderContent:function(){return p.createElement(q,{store:t.props.emoticonStore,hoverStore:t.props.emoticonHoverStore,onItemSelect:function(e){return t.props.OnSelected(e.name,!1)},flairGroupID:t.props.strFlairGroupID})}}]}))},e}(p.Component)),x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={filter:""},e}return Object(l.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.store,r=e.hoverStore,i=e.onEmoticonSelect,a=e.onStickerSelect,o=this.state.filter,s=[];return k(n)&&s.push({title:Object(m.f)("#AddonPicker_RecentEmoticons"),items:u.a.FilterEmoticons(k(n),o),onItemSelect:i,renderItem:function(e){return p.createElement(Y,{emoticon:e,emoticonHoverStore:r})},keyExtractor:function(e){return e.name},renderEmpty:function(){return p.createElement(D,null,o?Object(m.f)("#AddonPicker_NoResults"):Object(m.f)("#AddonPicker_NoRecent",Object(m.f)("#AddonPicker_Emoticons")))}}),F(n).length&&s.push({title:Object(m.f)("#AddonPicker_RecentStickers"),items:u.a.FilterStickers(F(n),o),onItemSelect:a,renderItem:function(e){return p.createElement(Q,{sticker:e})},keyExtractor:function(e){return e.name},renderEmpty:function(){return p.createElement(D,null,o?Object(m.f)("#AddonPicker_NoResults"):Object(m.f)("#AddonPicker_NoRecent",Object(m.f)("#AddonPicker_Stickers")))}}),p.createElement(A,{onFilterChange:function(e){return t.setState({filter:e})},filter:o,sections:s})},e}(p.Component),z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={filter:""},e}return Object(l.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.store,r=e.hoverStore,i=e.onItemSelect,a=e.flairGroupID,o=this.state.filter,s=!o&&a?n.GetFlairListByGroupID(a):n.emoticon_list,c=u.a.FilterEmoticons(s,o).slice(0,1e3);return p.createElement(B,{title:Object(m.f)("#AddonPicker_Emoticons"),items:c,onItemSelect:i,renderItem:function(e){return p.createElement(Y,{emoticon:e,emoticonHoverStore:r})},keyExtractor:function(e){return e.name},onFilterChange:function(e){return t.setState({filter:e})},filter:o,onSubmit:function(){return i(c[0])},renderEmpty:function(){return o?p.createElement(D,null,Object(m.f)("#AddonPicker_NoResults")):p.createElement(H,null)}})},e}(p.Component);function H(){return p.createElement(p.Fragment,null,p.createElement(D,null,Object(m.f)("#AddonPicker_NoneOwned",Object(m.f)("#AddonPicker_Emoticons"))),p.createElement(D,null,Object(m.o)("#AddonPicker_AcquireAtPointsShopOrMarket",p.createElement(T.a,{href:v.c.STORE_BASE_URL+"points/shop/c/emoticons"},Object(m.f)("#AddonPicker_AcquireAtPointsShop_Link")),p.createElement(T.a,{href:v.c.COMMUNITY_BASE_URL+"market"},Object(m.f)("#AddonPicker_AcquireAtPointsShopOrMarket_Link")))))}var W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={filter:""},e}return Object(l.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.store,r=e.onItemSelect,i=this.state.filter,a=u.a.FilterStickers(n.GetStickerList(),i);return p.createElement(B,{title:Object(m.f)("#EmoticonPicker_StickerHeading"),items:a,onItemSelect:r,renderItem:function(e){return p.createElement(Q,{sticker:e})},keyExtractor:function(e){return e.name},onFilterChange:function(e){return t.setState({filter:e})},filter:i,onSubmit:function(){return r(a[0])},renderEmpty:function(){return i?p.createElement(D,null,Object(m.f)("#AddonPicker_NoResults")):p.createElement(p.Fragment,null,p.createElement(D,null,Object(m.f)("#AddonPicker_NoneOwned",Object(m.f)("#AddonPicker_Stickers"))),p.createElement(D,null,Object(m.o)("#AddonPicker_AcquireAtPointsShop",p.createElement(T.a,{href:v.c.STORE_BASE_URL+"points/shop/c/stickers"},Object(m.f)("#AddonPicker_AcquireAtPointsShop_Link")))))}})},e}(p.Component),V=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={filter:""},e}return Object(l.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.store,r=e.effectSettings,i=e.onItemSelect,a=this.state.filter,o=n.GetEffectList().filter(function(e){return-1<e.name.indexOf(a)});return p.createElement(B,{title:Object(m.f)("#EmoticonPicker_EffectHeading"),items:o,onItemSelect:i,renderItem:function(e){return p.createElement(K,{effect:e,roomEffectSettings:r})},keyExtractor:function(e){return e.name},onFilterChange:function(e){return t.setState({filter:e})},filter:a,onSubmit:function(){return i(o[0])},renderEmpty:function(){return a?p.createElement(D,null,Object(m.f)("#AddonPicker_NoResults")):p.createElement(p.Fragment,null,p.createElement(D,null,Object(m.f)("#AddonPicker_NoneOwned",Object(m.f)("#AddonPicker_RoomEffects"))),p.createElement(D,null,Object(m.o)("#AddonPicker_AcquireAtPointsShop",p.createElement(T.a,{href:v.c.STORE_BASE_URL+"points/shop/c/chateffects"},Object(m.f)("#AddonPicker_AcquireAtPointsShop_Link")))))}})},e}(p.Component),q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={filter:""},e}return Object(l.d)(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.store,r=e.hoverStore,i=e.onItemSelect,a=(e.flairGroupID,this.state.filter),o=[];return k(n).length&&o.push({title:Object(m.f)("#AddonPicker_RecentEmoticons"),items:u.a.FilterEmoticons(k(n),a),onItemSelect:i,renderItem:function(e){return p.createElement(Y,{emoticon:e,emoticonHoverStore:r})},keyExtractor:function(e){return e.name},renderEmpty:function(){return p.createElement(D,null,a?Object(m.f)("#AddonPicker_NoResults"):Object(m.f)("#AddonPicker_NoRecent",Object(m.f)("#AddonPicker_Emoticons")))}}),p.createElement(A,{onFilterChange:function(e){return t.setState({filter:e})},filter:a,sections:Object(l.g)(o,[{title:Object(m.f)("#AddonPicker_AllEmoticons"),items:u.a.FilterStickers(n.emoticon_list,a).slice(0,1e3),onItemSelect:i,renderItem:function(e){return p.createElement(Y,{emoticon:e,emoticonHoverStore:r})},keyExtractor:function(e){return e.name},renderEmpty:function(){return a?p.createElement(D,null,Object(m.f)("#AddonPicker_NoResults")):p.createElement(H,null)}}])})},Object(l.c)([i.observer],e)}(p.Component),Y=function(e){var t=e.emoticon,n=e.emoticonHoverStore,r=!t.last_used&&t.time_received;return p.createElement("div",{className:f.a.EmoticonItem},p.createElement(M,{emoticon:t.name,emoticonHoverStore:n}),r&&p.createElement(X,null))},Q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={showHover:!1},e.m_ref=p.createRef(),e}return Object(l.d)(e,t),e.prototype.render=function(){var e=this,t=this.props,n=t.sticker,r=t.className,i=Object(l.f)(t,["sticker","className"]),a=_(v.c.COMMUNITY_CDN_URL,n.name);return p.createElement("div",Object(l.a)({ref:this.m_ref,className:Object(b.a)(r,f.a.StickerButton),onMouseOver:function(){return e.setState({showHover:!0})},onFocus:function(){return e.setState({showHover:!0})},onMouseLeave:function(){return e.setState({showHover:!1})},onBlur:function(){return e.setState({showHover:!1})}},i),p.createElement("img",{style:{width:"100%"},src:a}),this.state.showHover&&p.createElement(Z,{target:this.m_ref.current,sticker:n}))},e}(p.Component),Z=Object(i.observer)(function(e){var t=e.target,n=e.sticker,r=n.name,i=n.appid,a=R.a.GetAppInfo(i);return p.createElement(L,{target:t,title:r,subtitle:a.name},p.createElement("img",{src:_(v.c.COMMUNITY_CDN_URL,r),className:f.a.StickerHoverSticker}))}),K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={showHover:!1},e.m_ref=p.createRef(),e}return Object(l.d)(e,t),e.prototype.render=function(){var e=this,t=this.props,n=t.effect,r=t.roomEffectSettings,i=t.className,a=Object(l.f)(t,["effect","roomEffectSettings","className"]),o=r[n.name];return p.createElement("div",Object(l.a)({ref:this.m_ref,onMouseOver:function(){return e.setState({showHover:!0})},onFocus:function(){return e.setState({showHover:!0})},onMouseLeave:function(){return e.setState({showHover:!1})},onBlur:function(){return e.setState({showHover:!1})},className:Object(b.a)(i,f.a.EffectButton)},a),o.renderEffectIcon(),this.state.showHover&&p.createElement(J,{target:this.m_ref.current,effect:n,roomEffectSettings:r}))},e}(p.Component),J=Object(i.observer)(function(e){var t=e.target,n=e.effect,r=n.name,i=n.appid,a=e.roomEffectSettings[r],o=R.a.GetAppInfo(i);return p.createElement(L,{target:t,title:r,subtitle:o.name},p.createElement("div",{className:f.a.EffectHoverEffect},a.renderEffectIcon()))});function X(){return p.createElement("div",{className:f.a.NewEmoticonIndicator},p.createElement("div",{className:f.a.NewEmoticonCircle}))}p.Component;function $(e){return p.createElement("svg",Object(l.a)({viewBox:"0 0 59 59",width:"32"},e),p.createElement("switch",null,p.createElement("g",null,p.createElement("path",{d:"M58 30.2v-.1L23.4 58.5l-.2-.3-.1.1C9.9 55.4 0 43.6 0 29.5 0 13.2 13.2 0 29.5 0S59 13.2 59 29.4l-1 .8zm0-1.5c-5-2.2-16.1-4-26 4.6-9.8 8.4-10.3 18.8-9.2 23.9C10.3 54.2 1 42.9 1 29.5 1 13.8 13.8 1 29.5 1 45 1 57.6 13.3 58 28.7zm-.8.8L23.7 56.9c-1-4.8-.5-14.8 8.9-22.9 9.4-8 19.7-6.6 24.6-4.5z",fillRule:"evenodd",clipRule:"evenodd",fill:"#fff"}))))}function ee(e){return p.createElement("svg",Object(l.a)({viewBox:"0 -8 60 60",width:"32"},e),p.createElement("path",{d:"M.5 5.5C.5 2.5 3 0 6 0h48c3 0 5.5 2.5 5.5 5.5V35c0 3-2.5 5.5-5.5 5.5h-1.5c-.8 0-1.5.7-1.5 1.5v8.1c0 1.3-1.6 2-2.6 1.1L37.8 40.5H6C3 40.5.5 38 .5 35V5.5zM6 1C3.5 1 1.5 3 1.5 5.5V35c0 2.5 2 4.5 4.5 4.5h32.2l.1.1 10.8 10.8c.3.3.9.1.9-.4v-8c0-1.4 1.1-2.5 2.5-2.5H54c2.5 0 4.5-2 4.5-4.5V5.5C58.5 3 56.5 1 54 1H6zm24 31c6.6 0 12-5.4 12-12S36.6 8 30 8s-12 5.4-12 12 5.4 12 12 12zm0 1c7.2 0 13-5.8 13-13S37.2 7 30 7s-13 5.8-13 13 5.8 13 13 13zm-3.5-15c.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5-1.5.7-1.5 1.5.7 1.5 1.5 1.5zm8.5-1.5c0 .8-.7 1.5-1.5 1.5s-1.5-.7-1.5-1.5.7-1.5 1.5-1.5 1.5.7 1.5 1.5zM24.5 22c0 2.5 2 4.5 4.5 4.5h2c2.5 0 4.5-2 4.5-4.5h-1c0 1.9-1.6 3.5-3.5 3.5h-2c-1.9 0-3.5-1.6-3.5-3.5h-1z",fillRule:"evenodd",clipRule:"evenodd",fill:"#fff"}))}function te(e){return p.createElement("svg",Object(l.a)({viewBox:"0 0 60 38",width:"32"},e),p.createElement("path",{d:"M16 8.9l1.9 5.1c.2.5.6 1 1.2 1.2l5.1 1.9-5.1 1.9c-.5.2-1 .6-1.2 1.2L16 25.1 14.1 20c-.2-.5-.6-1-1.2-1.2l-5-1.8 5.1-1.9c.5-.2 1-.6 1.2-1.2l1.8-5zm-.9-.4c.3-.9 1.6-.9 1.9 0l1.9 5.1c.1.3.3.5.6.6l5.1 1.9c.9.3.9 1.6 0 1.9l-5.1 1.9c-.3.1-.5.3-.6.6L17 25.6c-.3.9-1.6.9-1.9 0l-1.9-5.1c-.1-.3-.3-.5-.6-.6L7.5 18c-.9-.3-.9-1.6 0-1.9l5.1-1.9c.3-.1.5-.3.6-.6l1.9-5.1zm17.8 15.4l-1.9-5-1.9 5.1c-.2.5-.6 1-1.2 1.2l-5 1.8 5.1 1.9c.5.2 1 .6 1.2 1.2l1.9 5.1 1.9-5.1c.2-.5.6-1 1.2-1.2l5.1-1.9-5.1-1.9c-.7-.2-1.1-.6-1.3-1.2zm-1-5.4c-.3-.9-1.6-.9-1.9 0l-1.9 5.1c-.1.3-.3.5-.6.6l-5.1 1.9c-.9.3-.9 1.6 0 1.9l5.1 1.9c.3.1.5.3.6.6l1.9 5.1c.3.9 1.6.9 1.9 0l1.9-5.1c.1-.3.3-.5.6-.6l5.1-1.9c.9-.3.9-1.6 0-1.9l-5.1-1.9c-.3-.1-.5-.3-.6-.6l-1.9-5.1zM43 4.9l1.9 5.1c.2.5.6 1 1.2 1.2l5.1 1.9-5.1 1.9c-.5.2-1 .6-1.2 1.2L43 21.1 41.1 16c-.2-.5-.6-1-1.2-1.2l-5-1.8 5.1-1.9c.5-.2 1-.6 1.2-1.2l1.8-5zm-.9-.4c.3-.9 1.6-.9 1.9 0l1.9 5.1c.1.3.3.5.6.6l5.1 1.9c.9.3.9 1.6 0 1.9l-5.1 1.9c-.3.1-.5.3-.6.6L44 21.6c-.3.9-1.6.9-1.9 0l-1.9-5.1c-.1-.3-.3-.5-.6-.6L34.5 14c-.9-.3-.9-1.6 0-1.9l5.1-1.9c.3-.1.5-.3.6-.6l1.9-5.1z",fillRule:"evenodd",clipRule:"evenodd",fill:"#fff"}))}function ne(e){var t=e.className,n=Object(l.f)(e,["className"]);return p.createElement("svg",Object(l.a)({className:Object(b.a)("SVGIcon_Button SVGIcon_Clock",t),version:"1.1",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 24 24"},n),p.createElement("path",{d:"M15.999 15c-.15 0-.303-.034-.446-.105l-4-2A1.001 1.001 0 0111 12V5a1 1 0 012 0v6.382l3.447 1.724A1 1 0 0115.999 15zM12 24C5.383 24 0 18.617 0 12S5.383 0 12 0s12 5.383 12 12-5.383 12-12 12zm0-22C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2z"}))}},HJp4:function(e,t,n){e.exports={CollectionSummary:"savecollectiondialog_CollectionSummary_1M6bF",DynamicOption:"savecollectiondialog_DynamicOption_3MlTP",InputContainer:"savecollectiondialog_InputContainer_38Qbh",Required:"savecollectiondialog_Required_w_ZWy",Visible:"savecollectiondialog_Visible_2B-bI",Pulse:"savecollectiondialog_Pulse_1WxEF",SaveCollectionContainer:"savecollectiondialog_SaveCollectionContainer_z-cTL",TwoOptionsContainer:"savecollectiondialog_TwoOptionsContainer_33bWW",Option:"savecollectiondialog_Option_3vDq3",Disabled:"savecollectiondialog_Disabled_3Jmn3",ActionLabel:"savecollectiondialog_ActionLabel_25n_z",Description:"savecollectiondialog_Description_3uOEr",SelectedFilters:"savecollectiondialog_SelectedFilters_1R9cY",SaveSearchDescription:"savecollectiondialog_SaveSearchDescription_1MTcG",DynamicDescContainer:"savecollectiondialog_DynamicDescContainer_Kv-av"}},HQzE:function(e,t,n){},HRAy:function(e,t,n){e.exports={GamePlaySummaryContainer:"spotlightgameplaysummary_GamePlaySummaryContainer_2bWtu",GamePlaySummaryHeader:"spotlightgameplaysummary_GamePlaySummaryHeader_2_sR8",GamePlaySummaryEvents:"spotlightgameplaysummary_GamePlaySummaryEvents_344wR",SummaryContainer:"spotlightgameplaysummary_SummaryContainer_3pCMW",GamePlaySummaryShort:"spotlightgameplaysummary_GamePlaySummaryShort_Y7DmD",NoAnimation:"spotlightgameplaysummary_NoAnimation_3zUcg",none:"spotlightgameplaysummary_none__M0Jd",SummaryScreenshot:"spotlightgameplaysummary_SummaryScreenshot_2gFx1",SummaryTradingCard:"spotlightgameplaysummary_SummaryTradingCard_2FvCW",SummaryAchievementStack:"spotlightgameplaysummary_SummaryAchievementStack_2FWe2",SummaryAchievement:"spotlightgameplaysummary_SummaryAchievement_qBmIH",AppDetailsTransitionEnter:"spotlightgameplaysummary_AppDetailsTransitionEnter_2zdZr",AppDetailsTransitionEnterActive:"spotlightgameplaysummary_AppDetailsTransitionEnterActive_2UnWH",AppDetailsTransitionEntered:"spotlightgameplaysummary_AppDetailsTransitionEntered_gpmP3",AppDetailsTransitionExit:"spotlightgameplaysummary_AppDetailsTransitionExit_tmcrX",AppDetailsTransitionExitActive:"spotlightgameplaysummary_AppDetailsTransitionExitActive_2ppua",AppDetailsTransitionEnterIn:"spotlightgameplaysummary_AppDetailsTransitionEnterIn_3b-gJ",AppDetailsTransitionEnterActiveIn:"spotlightgameplaysummary_AppDetailsTransitionEnterActiveIn_1hTlm",AppDetailsTransitionEnteredIn:"spotlightgameplaysummary_AppDetailsTransitionEnteredIn_2wvcE",AppDetailsTransitionExitIn:"spotlightgameplaysummary_AppDetailsTransitionExitIn_1TiPf",AppDetailsTransitionExitActiveIn:"spotlightgameplaysummary_AppDetailsTransitionExitActiveIn_2v55v",AppDetailsTransitionEnterOut:"spotlightgameplaysummary_AppDetailsTransitionEnterOut_1Uj8o",AppDetailsTransitionEnterActiveOut:"spotlightgameplaysummary_AppDetailsTransitionEnterActiveOut_auU0n",AppDetailsTransitionEnteredOut:"spotlightgameplaysummary_AppDetailsTransitionEnteredOut_3pN2o",AppDetailsTransitionExitOut:"spotlightgameplaysummary_AppDetailsTransitionExitOut_2a6nj",AppDetailsTransitionExitActiveOut:"spotlightgameplaysummary_AppDetailsTransitionExitActiveOut_ldJyX",EventCarousel:"spotlightgameplaysummary_EventCarousel_2-SYq",ForcedCarouselPadding:"spotlightgameplaysummary_ForcedCarouselPadding_1nQ7I",EventHeaderBlock:"spotlightgameplaysummary_EventHeaderBlock_1jiiO",TypeSeparator:"spotlightgameplaysummary_TypeSeparator_11ner",SpaceOnly:"spotlightgameplaysummary_SpaceOnly_1fYEY",EventDaySeparator:"spotlightgameplaysummary_EventDaySeparator_1AIgW",SummaryCarouselContainer:"spotlightgameplaysummary_SummaryCarouselContainer_wgbDI",intro:"spotlightgameplaysummary_intro_psRqR"}},HmHE:function(e,t,n){e.exports={Body:"appdetailssectionnonsteam_Body_1TGl5",OfflineButton:"appdetailssectionnonsteam_OfflineButton_3UqWq",InnerContainer:"appdetailssectionnonsteam_InnerContainer_Mrkcb"}},I2Hi:function(e,t,n){e.exports={SuggestContainer:"storesuggest_SuggestContainer_2gBFq",Results:"storesuggest_Results_3eXNg",EmptyResults:"storesuggest_EmptyResults_3w0K5",ResultSectionHeader:"storesuggest_ResultSectionHeader_1KK1s",ResultRow:"storesuggest_ResultRow_16oSf",AvatarImage:"storesuggest_AvatarImage_3dr2A",GameName:"storesuggest_GameName_3CWrp",Label:"storesuggest_Label_I1zVi"}},I3Kc:function(e,t,n){e.exports={mentionDialogPosition:"suggestdialog_mentionDialogPosition_3isL0",mentionDialog:"suggestdialog_mentionDialog_1QU3c",mentionSearchText:"suggestdialog_mentionSearchText_1xVcZ",suggestOption:"suggestdialog_suggestOption_vquL9",nickname:"suggestdialog_nickname_2dKJq",selected:"suggestdialog_selected_boNOG",mentionSearchMatch:"suggestdialog_mentionSearchMatch_2_0t_"}},IGe8:function(e,t,n){e.exports={CuratorCtn:"salecuratorrecommendations_CuratorCtn_3dOtc",CuratorBackgroundCtn:"salecuratorrecommendations_CuratorBackgroundCtn_3tptJ",BackgroundGamesCtn:"salecuratorrecommendations_BackgroundGamesCtn_1ZYuQ",BackgroundGames:"salecuratorrecommendations_BackgroundGames_3ugev",BackgroundTintCtn:"salecuratorrecommendations_BackgroundTintCtn_1NZf0",CuratorContentCtn:"salecuratorrecommendations_CuratorContentCtn_2VHpn",CuratorFollowCtn:"salecuratorrecommendations_CuratorFollowCtn_2P9zO",CuratorMiddleCtn:"salecuratorrecommendations_CuratorMiddleCtn_2BGAD",CuratorAvatarCtn:"salecuratorrecommendations_CuratorAvatarCtn_2A00g",CuratorAvatar:"salecuratorrecommendations_CuratorAvatar_1A-vZ",ListDescCtn:"salecuratorrecommendations_ListDescCtn_3g04q",SmallText:"salecuratorrecommendations_SmallText_2NrNg",explore:"salecuratorrecommendations_explore_1Vxc7",groupName:"salecuratorrecommendations_groupName_tymu8",ListTitle:"salecuratorrecommendations_ListTitle_Y5WM5",ListDesc:"salecuratorrecommendations_ListDesc_2hKcg",ListLink:"salecuratorrecommendations_ListLink_Bg57P"}},IHp6:function(e,t,n){e.exports={UninstallDialog:"uninstalldialog_UninstallDialog_7au1m",UninstallingText:"uninstalldialog_UninstallingText_24I3S",UninstallError:"uninstalldialog_UninstallError_2n_P7"}},IWyE:function(e,t,n){e.exports={strMaxMobileWidth:"700px",strMinMobileHeight:"360px",strDesktopControlBarWidth:"300px",strDesktopGlobalHeaderHeight:"104px",strMobileGlobalHeaderHeight:"62px",strDesktopLabsBannerHeight:"46px",strMobileLabsBannerHeight:"42px",strDesktopHubBannerHeight:"80px",strMobileHubBannerHeight:"80px",strJumboHubBannerHeight:"150px",strDesktopGroupHeaderHeight:"70px",strMobileGroupHeaderHeight:"37px",strMobileNavBannerHeight:"52px",strLogInBannerLargeHeight:"239px",strLogInBannerSmallHeight:"70px",HubBanner:"eventcalendar_HubBanner_2zTu0",LargeMode:"eventcalendar_LargeMode_3OnTr",CloseFilterPage:"eventcalendar_CloseFilterPage_3XZe_",ShowSettings:"eventcalendar_ShowSettings_1qCUd",ControlPageContainer:"eventcalendar_ControlPageContainer_2LztM",FiltersTitle:"eventcalendar_FiltersTitle_tQZ7I",FiltersDescription:"eventcalendar_FiltersDescription_17nua",SideSteamLabsBannerCtn:"eventcalendar_SideSteamLabsBannerCtn_1UOp4",SteamLabsIdentifiers:"eventcalendar_SteamLabsIdentifiers_3SWqw",SteamLabsName:"eventcalendar_SteamLabsName_1wILk",SteamLabsNumber:"eventcalendar_SteamLabsNumber_2ByeP",SteamLabsButton:"eventcalendar_SteamLabsButton_3YoSz",SteamLabsBanner:"eventcalendar_SteamLabsBanner_8sQfl",SteamLabsBannerCtn:"eventcalendar_SteamLabsBannerCtn_3olyO",SidebarContainer:"eventcalendar_SidebarContainer_15YLD",SidebarCollapsed:"eventcalendar_SidebarCollapsed_3x2Ig",CollapseButton:"eventcalendar_CollapseButton_1RCio",DesktopButton:"eventcalendar_DesktopButton_2vMIl",SidebarBackground:"eventcalendar_SidebarBackground_1ZO60",Sidebar:"eventcalendar_Sidebar_1nf0v",SidebarTitle:"eventcalendar_SidebarTitle_3uZE-",FilterControlPage:"eventcalendar_FilterControlPage__uX0h",FilterOption:"eventcalendar_FilterOption_2LoOb",FilterSubOption:"eventcalendar_FilterSubOption_2ctVa",SideBarFilterNavLinks:"eventcalendar_SideBarFilterNavLinks_fhYfj",FilterLink:"eventcalendar_FilterLink_1zyVy",NumberDisplay:"eventcalendar_NumberDisplay_23qmf",FilterSettingsCtn:"eventcalendar_FilterSettingsCtn_3CSX8",OpenFilterSettings:"eventcalendar_OpenFilterSettings_3cMES",SidebarBackLink:"eventcalendar_SidebarBackLink_2NQEg",MobileCloseButton:"eventcalendar_MobileCloseButton_3Es2q",FilterSection:"eventcalendar_FilterSection_34HOA",FilterSubSection:"eventcalendar_FilterSubSection_1Ko6o",FilterSubSectionTitle:"eventcalendar_FilterSubSectionTitle_MeJhm",ConfigPanelSteamLabs:"eventcalendar_ConfigPanelSteamLabs_3wJ-z",ForceResponsiveLink:"eventcalendar_ForceResponsiveLink_3dRqL",SidebarLink:"eventcalendar_SidebarLink_2VFTM",SidebarManageMutedApps:"eventcalendar_SidebarManageMutedApps_2IWYf",MutedSourcesGroup:"eventcalendar_MutedSourcesGroup_2B7QL",MutedSourcesCount:"eventcalendar_MutedSourcesCount_3nwCq",SidebarFooter:"eventcalendar_SidebarFooter_3sXsg",FooterLegal:"eventcalendar_FooterLegal_3YG_3",MobileButton:"eventcalendar_MobileButton_3cMvc",BodyNoScroll:"eventcalendar_BodyNoScroll_1d-cx",EventCalendarContainer:"eventcalendar_EventCalendarContainer_1e3Wb",ReserveControlSpace:"eventcalendar_ReserveControlSpace_18npk",WideLeftGutter:"eventcalendar_WideLeftGutter_ws9AN",LogInFeedRow:"eventcalendar_LogInFeedRow_nydHE",RowContainer:"eventcalendar_RowContainer_3yqpP",Loading:"eventcalendar_Loading_2XF_g",LoadingProgress:"eventcalendar_LoadingProgress_2k5Q_",AdjustFiltersText:"eventcalendar_AdjustFiltersText_gM9Yy",Rows:"eventcalendar_Rows_r3Dia",FutureSection:"eventcalendar_FutureSection_290nk",PastSection:"eventcalendar_PastSection_3FpvG",DarkerBackground:"eventcalendar_DarkerBackground_1U2BW",EmptySectionText:"eventcalendar_EmptySectionText_3TwYr",CalendarEventListRow:"eventcalendar_CalendarEventListRow_3m6GW",CalendarEventListContainer:"eventcalendar_CalendarEventListContainer_3Qenz",CalendarRow:"eventcalendar_CalendarRow_398u2",EventListTitle:"eventcalendar_EventListTitle__qpO2",GroupHeader:"eventcalendar_GroupHeader_3j2de",GroupHeaderTitle:"eventcalendar_GroupHeaderTitle_2aVLR",GroupHeaderLine:"eventcalendar_GroupHeaderLine_bcTEU",SeeAllLink:"eventcalendar_SeeAllLink_28rp7",SeeAllCount:"eventcalendar_SeeAllCount_IOckO",HorizontalTileContainer:"eventcalendar_HorizontalTileContainer_muk0v",HorizontalTiles:"eventcalendar_HorizontalTiles_1YVOy",HeaderAtTop:"eventcalendar_HeaderAtTop_2VZun",EndOfRows:"eventcalendar_EndOfRows_1lK7p",BackToThePast:"eventcalendar_BackToThePast_18uWs",MobileSeeAllink:"eventcalendar_MobileSeeAllink_3yeVN",NoCount:"eventcalendar_NoCount_2qW89",LiveText:"eventcalendar_LiveText_14EbB",UpdatePageBanner:"eventcalendar_UpdatePageBanner_1hWgY",LoginPrompt:"eventcalendar_LoginPrompt_1EXXC",LoginButton:"eventcalendar_LoginButton_1wuxX",SpecialEventListGroup:"eventcalendar_SpecialEventListGroup_5UEq9",SpecialEventListTitle:"eventcalendar_SpecialEventListTitle_2fFKi",SpecialEventList:"eventcalendar_SpecialEventList_3AESv",SpecialEvent:"eventcalendar_SpecialEvent_2s-UQ",SpecialEventTitle:"eventcalendar_SpecialEventTitle_3xq6F",SpecialEventTime:"eventcalendar_SpecialEventTime_3cGYp",NewsChannelGroup:"eventcalendar_NewsChannelGroup_3U5MY",NewsChannelListTitle:"eventcalendar_NewsChannelListTitle_3X16T",NewsChannelList:"eventcalendar_NewsChannelList_19CIw",NewsChannel:"eventcalendar_NewsChannel_1n4vp",NewsChannelText:"eventcalendar_NewsChannelText_2Nbub",NewsChannelCount:"eventcalendar_NewsChannelCount_1HQl8",NewsChannelOnPage:"eventcalendar_NewsChannelOnPage_kJoC7",NewsChannelTitle:"eventcalendar_NewsChannelTitle_11O61",NewsChannelSubtitle:"eventcalendar_NewsChannelSubtitle_3_CIM",DiscoverGroup:"eventcalendar_DiscoverGroup_kUY00",NewsChannelIcon:"eventcalendar_NewsChannelIcon_2NCtv",SidePanelGameSearch:"eventcalendar_SidePanelGameSearch_1LTVI",MobileNavBannerCtn:"eventcalendar_MobileNavBannerCtn_20PrZ",SearchDismiss:"eventcalendar_SearchDismiss_eIKAr",SearchBox:"eventcalendar_SearchBox_2i8gk",SearchExpanded:"eventcalendar_SearchExpanded_3rn-P",SettingsPanel:"eventcalendar_SettingsPanel_tifiV",MobileNavHScroll:"eventcalendar_MobileNavHScroll_yps0y",MobileNavBannerList:"eventcalendar_MobileNavBannerList_3xi45",MobileNavButton:"eventcalendar_MobileNavButton_3kOf_",MobileNavCount:"eventcalendar_MobileNavCount_3m7py",MobileNavButtonActive:"eventcalendar_MobileNavButtonActive_2XXBa",CalendarEventList:"eventcalendar_CalendarEventList_3Pm1a",LogInSmallMode:"eventcalendar_LogInSmallMode_21ANY",LogInFeedText:"eventcalendar_LogInFeedText_3HgPB",PromptCtn:"eventcalendar_PromptCtn_19gyw",LogInFeedTitle:"eventcalendar_LogInFeedTitle_cmQc6",LogInButton:"eventcalendar_LogInButton_35WTO",LazyCalendarSectionCtn:"eventcalendar_LazyCalendarSectionCtn_1_BP6",TimeEventRow:"eventcalendar_TimeEventRow_2JQL9",TimeEventLastPlayed:"eventcalendar_TimeEventLastPlayed_1QplX",TimeEventWishlisted:"eventcalendar_TimeEventWishlisted_3_Huj"}},"IjL/":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("mrSG"),s=n("q1tI"),i=n("bxiW"),a=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={},e}return Object(r.d)(o,t),o.InstallErrorReportingStore=function(e){this.sm_ErrorReportingStore=e},o.prototype.componentDidCatch=function(e,t){var n=this,r=o.sm_ErrorReportingStore;r?r.ReportError(e).then(function(e){return e&&n.setState({identifierHash:e.identifierHash})}):console.warn("No ErrorReportingStore - use ErrorReportingStore().Init() to configure error reporting to server"),this.setState({error:{error:e,info:t}})},o.prototype.Reset=function(){this.setState({error:null})},o.prototype.render=function(){var e=this.props,t=e.children,n=e.fallback,r=this.state,i=r.error,a=r.identifierHash;return i?void 0!==n?"function"==typeof n?n(i.error):n:o.sm_ErrorReportingStore&&o.sm_ErrorReportingStore.reporting_enabled?s.createElement(l,{error:i,identifierHash:a,store:o.sm_ErrorReportingStore,onRefresh:this.Reset}):s.createElement(c,{error:i,onDismiss:this.Reset}):t},Object(r.c)([i.a],o.prototype,"Reset",null),o}(s.Component),c=function(e){var t=e.error,n=e.onDismiss,r=t.error?t.error.stack:"Stack missing",i=t.info?t.info.componentStack:"",a=t.error&&t.error.message||"unknown error";return s.createElement(u,null,s.createElement(p,null,'Error: "',a,'"'),"   ",s.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:n},"(x) Dismiss"),s.createElement("br",null),s.createElement(d,null,r),s.createElement(d,null,"The error occurred while rendering:",i))},l=function(e){var t=e.error,n=e.onRefresh,r=e.identifierHash,i=e.store,a=t.error&&t.error.message||"unknown error",o=i.product+"_"+i.version+"_"+r;return s.createElement(u,null,s.createElement(p,null,"Something went wrong while displaying this content. ",s.createElement("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:n},"Refresh")),s.createElement(d,null,"Error Reference: ",o),s.createElement(d,null,a))},u=function(e){var t=e.children;return s.createElement("div",{style:{overflow:"auto",marginLeft:"15px",color:"white",fontSize:"16px"}},t)},p=function(e){var t=e.children;return s.createElement("h1",{style:{fontSize:"20px",display:"inline-block",marginTop:"15px"}},t)},d=function(e){var t=e.children;return s.createElement("pre",{style:{marginTop:"15px",opacity:.7}},t)}},ImSN:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",Container:"appdetails_Container_2iE-7",ScrollContainer:"appdetails_ScrollContainer_2l416",InnerContainer:"appdetails_InnerContainer_1Svpj",Throbber:"appdetails_Throbber_NCAc-",fadein:"appdetails_fadein_IWA4x",Glassy:"appdetails_Glassy_3Fmxx",PlayBar:"appdetails_PlayBar_2L3s2",ShowPlayBar:"appdetails_ShowPlayBar_jnXtv",Header:"appdetails_Header_2gZXh",HeaderLoaded:"appdetails_HeaderLoaded_tXlLv"}},IzPI:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return l});var i=n("lkRc");function a(e){var t=new RegExp("^(steam://openurl(_external)?/)?((f|ht)tps?://)?([^@/?#]*@)?([^/#?]+)","im"),n=e.match(t);return n&&5<n.length?n[6].toString():e}function r(e){var t=a(e);return t.startsWith("www.")&&(t=t.slice(4)),t}function o(e){return"http:"!==e.substr(0,5)||1!=i.c.EUNIVERSE||"http:"==(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/http:\/\/media.steampowered.com\//g,i.c.MEDIA_CDN_URL)).replace(/http:\/\/cdn.akamai.steamstatic.com\//g,i.c.MEDIA_CDN_URL)).replace(/http:\/\/cdn.edgecast.steamstatic.com\//g,i.c.MEDIA_CDN_URL)).replace(/http:\/\/cdn.dota2.com\//g,i.c.MEDIA_CDN_URL)).replace(/http:\/\/storefront.steampowered.com\/v\/gfx\//g,"https://media.st.dl.pinyuncloud.com/steam/")).replace(/http:\/\/cdn.steamcommunity.com\//g,i.c.COMMUNITY_CDN_URL)).replace(/http:\/\/community.akamai.steamstatic.com\//g,i.c.COMMUNITY_CDN_URL)).replace(/http:\/\/community.edgecast.steamstatic.com\//g,i.c.COMMUNITY_CDN_URL)).substr(0,5)&&(e="https:"+e.substr(5)),e}function s(e){return i.c.SNR&&0<i.c.SNR.length&&e&&-1==e.toLocaleLowerCase().indexOf("snr=")?e+(0<=e.indexOf("?")?"&":"?")+"snr="+i.c.SNR:e}function c(e){var t=a(e).toLowerCase(),n=a(i.c.COMMUNITY_BASE_URL).toLowerCase(),r=a(i.c.STORE_BASE_URL).toLowerCase();return t===n||t===r?s(e):e}function l(e,t){"/"===t[t.length-1]&&(t=t.slice(0,-1));try{var n=new URL(e);return t+n.pathname+n.search+n.hash}catch(e){return""}}},J8QF:function(e,t,n){e.exports={Container:"gamelist_Container_1ijTa",NoSearchResultsContainer:"gamelist_NoSearchResultsContainer_1fbRp",NoResultsTitle:"gamelist_NoResultsTitle_2NXXf",NoResultsLink:"gamelist_NoResultsLink_WMjaq"}},"JJA/":function(e,t,n){e.exports={BodyNoScroll:"modals_BodyNoScroll_32ZiC",BodyNoScrollDialog:"modals_BodyNoScrollDialog_105OB",OverlayModal:"modals_OverlayModal_1yDps"}},JMS6:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return b});var c,r,i=n("mrSG"),a=n("2vnA"),o=n("i8i4"),s=n("Kw0F"),l=n("D4wO"),u=n("bxiW"),p=n("kyHq"),d=n("TLQK"),m=n("lkRc"),h=n("r64O");(r=c=c||{})[r.Minimized=1]="Minimized",r[r.Hidden=2]="Hidden",r[r.Tooltip=4]="Tooltip",r[r.ContextMenu=8]="ContextMenu",r[r.Resizable=16]="Resizable";var f=function(){function e(e,t){this.m_rgLoadingLinks=[],this.m_rgLoadingLinks=[];for(var n=e.document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=n[r];i.addEventListener("load",this.OnLinkLoad),this.m_rgLoadingLinks.push(i)}}return e.prototype.SetTarget=function(e){this.m_fnRender=e,0==this.m_rgLoadingLinks.length&&(this.m_fnRender(),this.m_fnRender=void 0)},e.prototype.OnLinkLoad=function(e){e.currentTarget.removeEventListener("load",this.OnLinkLoad),s.c(this.m_rgLoadingLinks,e.currentTarget),0==this.m_rgLoadingLinks.length&&(this.m_fnRender(),this.m_fnRender=void 0)},Object(i.c)([u.a],e.prototype,"OnLinkLoad",null),e}(),b=function(){function e(e,t){this.m_bFocused=!1,this.m_strName=e,this.m_rgParams=t,this.m_rgParams.target_browser&&(this.m_strName+="_pid"+this.m_rgParams.target_browser.m_unPID),this.m_strTitle=t.title,delete this.m_rgParams.title}return e.prototype.UpdateParamsBeforeShow=function(e){return e},e.prototype.OnDrop=function(e){console.log("Ignoring drop onto toplevel window",e),e.preventDefault(),e.stopPropagation()},e.prototype.OnDragOver=function(e){e.preventDefault(),e.dataTransfer.dropEffect="none",e.stopPropagation()},e.prototype.OnMessage=function(e){"window_moved"==e.data&&this.OnResize()},e.prototype.Show=function(e,t){var n,r=this;void 0===e&&(e=!0),void 0===t&&(t=!1),window.SteamClient&&(this.m_rgParams.eCreationFlags|=c.Hidden),this.m_rgParams.eCreationFlags&c.Tooltip&&(e=!1),this.BIsValid()&&(this.BIsClosed()?(this.m_popup=void 0,this.m_element=void 0):e&&this.Focus(t));var i,a,o,s=g.GetExistingPopup(this.m_strName);s&&!this.m_rgParams.replace_existing_popup||(this.m_rgParams=this.UpdateParamsBeforeShow(this.m_rgParams),s?(a=s.m_element,i=s.m_popup,s.ReleasePopup(),o=s.m_renderWhenReady,g.RemoveTrackedPopup(s),i.removeEventListener("beforeunload",s.OnBeforeUnloadEvent),i.removeEventListener("unload",s.OnUnload),i.removeEventListener("resize",s.OnResizeEvent),i.removeEventListener("focus",this.OnFocusInternal),i.removeEventListener("blur",this.OnBlurInternal),i.removeEventListener("drop",s.OnDrop),i.removeEventListener("dragover",s.OnDragOver),i.removeEventListener("message",this.OnMessage)):(i=(n=_.CreatePopup(this.m_strName,this.m_rgParams)).popup,a=n.element,o=new f(i,a)),i&&a&&(i.document.title=this.m_strTitle,i.addEventListener("beforeunload",this.OnBeforeUnloadEvent),i.addEventListener("unload",this.OnUnload),i.addEventListener("resize",this.OnResizeEvent),i.addEventListener("focus",this.OnFocusInternal),i.addEventListener("blur",this.OnBlurInternal),i.addEventListener("drop",this.OnDrop),i.addEventListener("dragover",this.OnDragOver),i.addEventListener("message",this.OnMessage),m.c.LANGUAGE&&i.document.documentElement.setAttribute("lang",Object(d.c)()),this.m_popup=i,this.m_element=a,this.m_renderWhenReady=o,this.m_renderWhenReady.SetTarget(function(){return r.RenderInternal(r.m_popup,r.m_element,e)})),g.AddTrackedPopup(this),s&&e&&this.Focus())},e.prototype.RemoveEventListeners=function(){this.window.removeEventListener("beforeunload",this.OnBeforeUnloadEvent),this.window.removeEventListener("unload",this.OnUnload),this.window.removeEventListener("resize",this.OnResizeEvent),this.window.removeEventListener("focus",this.OnFocusInternal),this.window.removeEventListener("blur",this.OnBlurInternal),this.window.removeEventListener("drop",this.OnDrop),this.window.removeEventListener("dragover",this.OnDragOver),this.window.removeEventListener("message",this.OnMessage)},e.prototype.RenderInternal=function(e,t,n){var r;!this.browser_info||(r=this.browser_info).m_eBrowserType!=p.l.EBrowserType_OpenVROverlay&&r.m_eBrowserType!=p.l.EBrowserType_OpenVROverlay_Dashboard||(t.ownerDocument.body.className+=" VR"),this.Render(e,t),this.OnLoad(),e.SteamClient&&(n?e.SteamClient.Window.BringToFront():e.SteamClient.Window.ShowWindow())},e.prototype.OnResizeEvent=function(){this.OnResize()},e.prototype.OnBeforeUnloadEvent=function(){this.OnBeforeUnload()},e.prototype.OnUnload=function(){this.RemoveEventListeners(),g.RemoveTrackedPopup(this),this.OnClose(),o.unmountComponentAtNode(this.m_element)},Object.defineProperty(e.prototype,"browser_info",{get:function(){return this.m_rgParams.target_browser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return this.m_popup},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_element",{get:function(){return this.m_element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.m_strTitle},set:function(e){this.m_strTitle=e,this.m_popup&&(this.m_popup.document.title=this.m_strTitle)},enumerable:!1,configurable:!0}),e.prototype.Focus=function(e){void 0===e&&(e=!1),this.m_popup&&void 0!==this.m_popup.SteamClient&&void 0!==this.m_popup.SteamClient.Window?e?this.m_popup.SteamClient.Window.SetForegroundWindow():this.m_popup.SteamClient.Window.BringToFront():this.m_popup&&this.m_popup.focus()},e.prototype.Close=function(){this.m_popup&&this.m_popup.close()},e.prototype.GetName=function(){return this.m_strName},e.prototype.BIsValid=function(){return!!this.m_popup},e.prototype.BIsClosed=function(){return!this.m_popup||this.m_popup.closed},e.prototype.BIsVisible=function(){return this.m_popup&&!this.m_popup.closed&&"visible"==this.m_popup.document.visibilityState},e.prototype.BIsFocused=function(){return this.BIsVisible()&&this.m_popup.document.hasFocus()},e.prototype.OnFocusInternal=function(){this.m_bFocused=!0,this.OnFocus()},e.prototype.OnBlurInternal=function(){this.m_bFocused=!1,this.OnBlur()},Object.defineProperty(e.prototype,"focused",{get:function(){return this.m_bFocused},enumerable:!1,configurable:!0}),e.prototype.GetWindowRestoreDetails=function(){var n=this;return this.m_popup&&!this.m_popup.closed&&this.m_popup.SteamClient?new Promise(function(t,e){n.m_popup.SteamClient.Window.GetWindowRestoreDetails(function(e){t(e)})}):Promise.resolve("")},e.prototype.IsMinimized=function(){var n=this;return this.m_popup&&!this.m_popup.closed&&this.m_popup.SteamClient&&this.m_popup.SteamClient.Window&&this.m_popup.SteamClient.Window.IsWindowMinimized?new Promise(function(t,e){n.m_popup.SteamClient.Window.IsWindowMinimized(function(e){t(e)})}):Promise.resolve(!1)},e.prototype.ReleasePopup=function(){this.OnClose(),this.m_popup=null},e.prototype.OnBeforeUnload=function(){},e.prototype.OnFocus=function(){},e.prototype.OnBlur=function(){},Object(i.c)([a.observable],e.prototype,"m_bFocused",void 0),Object(i.c)([u.a],e.prototype,"OnMessage",null),Object(i.c)([u.a],e.prototype,"OnResizeEvent",null),Object(i.c)([u.a],e.prototype,"OnBeforeUnloadEvent",null),Object(i.c)([u.a],e.prototype,"OnUnload",null),Object(i.c)([u.a],e.prototype,"OnFocusInternal",null),Object(i.c)([u.a],e.prototype,"OnBlurInternal",null),e}(),_=function(){function m(){var e,o=this;this.m_bShuttingDown=!1,this.m_mapPopups=new Map,this.m_rgShutdownCallbacks=[],this.m_rgPopupCreatedCallbacks=[],this.m_unCurrentAccountID=0,this.m_mapRestoreDetails=new Map,this.m_bSaveRequired=!1,Object({NODE_ENV:"production",STEAM_BUILD:"buildbot"}).MOBILE_BUILD||(window.addEventListener("beforeunload",function(e){o.m_bShuttingDown=!0;for(var t=0,n=o.m_rgShutdownCallbacks;t<n.length;t++){(0,n[t])()}var r=[];o.m_mapPopups.forEach(function(e){e.BIsValid()&&!e.BIsClosed()&&r.push(e)});for(var i=0,a=r;i<a.length;i++){a[i].Close()}o.m_bSaveRequired&&o.SaveSavedDimensionStore(),o.m_mapPopups.clear()}),e=document.querySelector("head"),Object(h.a)(e,"Couldn't find head element"),e&&(this.m_DynamicCSSObserver=new MutationObserver(function(){var t=v();o.m_mapPopups.forEach(function(e){m.SetStylesheetsForPopup(e.window,t)})}),this.m_DynamicCSSObserver.observe(e,{childList:!0})))}return m.prototype.SetCurrentLoggedInAccountID=function(e){(this.m_unCurrentAccountID=e)?this.LoadSavedDimensionStore():this.ClearSavedDimensionStore()},m.prototype.AddShutdownCallback=function(e){this.m_rgShutdownCallbacks.push(e)},m.prototype.AddPopupCreatedCallback=function(e){this.m_rgPopupCreatedCallbacks.push(e)},m.prototype.AddTrackedPopup=function(e){this.m_mapPopups.set(e.GetName(),e);for(var t=0,n=this.m_rgPopupCreatedCallbacks;t<n.length;t++){(0,n[t])(e)}},m.prototype.RemoveTrackedPopup=function(e){this.m_mapPopups.delete(e.GetName())},m.prototype.GetExistingPopup=function(e){return this.m_mapPopups.get(e)},m.prototype.GetPopups=function(){return this.m_mapPopups.values()},m.prototype.ClosePopupsOwnedByBrowser=function(t){this.m_mapPopups.forEach(function(e){e.browser_info&&e.browser_info.m_nBrowserID==t.m_nBrowserID&&e.browser_info.m_unPID==t.m_unPID&&e.Close()})},m.CreatePopup=function(e,t){var n=t.dimensions||{},r=n.width||300,i=n.height||300,a=t.title,o="width="+r+",height="+i;void 0!==n.left&&(o+=",left="+n.left),void 0!==n.top&&(o+=",top="+n.top),o+=",resizeable,status=0,toolbar=0,menubar=0,location=0";var s="about:blank",c=[];c.push("createflags="+t.eCreationFlags),t.minWidth&&c.push("minwidth="+t.minWidth),t.minHeight&&c.push("minheight="+t.minHeight),t.target_browser&&(c.push("pid="+t.target_browser.m_unPID),c.push("browser="+t.target_browser.m_nBrowserID),c.push("browserType="+t.target_browser.m_eBrowserType),t.availscreenwidth&&t.availscreenheight&&(c.push("screenavailwidth="+t.availscreenwidth),c.push("screenavailheight="+t.availscreenheight))),t.strVROverlayKey&&c.push("vrOverlayKey="+t.strVROverlayKey),t.strRestoreDetails&&c.push("restoredetails="+t.strRestoreDetails),c&&(s+="?"+c.join("&"));var l=(t.owner_window||window).open(s,e,o,!0);if(!l)return console.log("Failed to create popup.. browser popup blocker enabled?"),{};var u="";t.html_class&&(u='class="'+t.html_class+'"');var p="";t.body_class&&(p='class="'+t.body_class+'"');var d="<!DOCTYPE html><html "+u+"><head><title></title></head><body "+p+'><div id="popup_target"></div></body></html>';return l.document.write(d),l.document.title=a,m.SetStylesheetsForPopup(l,v()),{popup:l,element:l.document.getElementById("popup_target")}},m.SetStylesheetsForPopup=function(e,t){for(var n=Object.assign({},t),r=e.document.getElementsByTagName("head")[0],i=r.getElementsByTagName("link"),a=i.length,o=0;o<a;++o){var s=i[o];n[s.href]?delete n[s.href]:s.parentNode.removeChild(s)}for(var c in n){for(var l=n[c],u=e.document.createElement("link"),p=0;p<l.attributes.length;p++){var d=l.attributes.item(p);u.setAttribute(d.name,d.value)}r.appendChild(u)}},m.prototype.BShuttingDown=function(){return this.m_bShuttingDown},m.prototype.GetLocalStorageKey=function(){return"PopupSavedDimensions_"+this.m_unCurrentAccountID},m.prototype.LoadSavedDimensionStore=function(){if(this.m_unCurrentAccountID){var e=this.GetLocalStorageKey();this.m_mapRestoreDetails=void 0;var t=window.localStorage.getItem(e);if(t)try{var n=JSON.parse(t);this.m_mapRestoreDetails=new Map(n)}catch(e){}this.m_mapRestoreDetails||(this.m_mapRestoreDetails=new Map)}},m.prototype.SaveSavedDimensionStore=function(){var e,t;this.m_unCurrentAccountID&&this.m_bSaveRequired&&(e=this.GetLocalStorageKey(),t=JSON.stringify(Array.from(this.m_mapRestoreDetails)),window.localStorage.setItem(e,t),this.m_bSaveRequired=!1)},m.prototype.DebouncedSaveSavedDimensionStore=function(){this.SaveSavedDimensionStore()},m.prototype.ClearSavedDimensionStore=function(){this.m_mapRestoreDetails.clear(),this.m_bSaveRequired=!1},m.prototype.GetRestoreDetails=function(e){if(!this.m_mapRestoreDetails.has(e))return"";var t=this.m_mapRestoreDetails.get(e);return t.last_used=Date.now(),this.m_bSaveRequired=!0,t.strRestoreDetails},m.prototype.SetRestoreDetails=function(e,t,n){if(e){if(t){if(50<this.m_mapRestoreDetails.size){for(var r=null,i=Date.now(),a=0,o=Array.from(this.m_mapRestoreDetails.keys());a<o.length;a++){var s=o[a],c=this.m_mapRestoreDetails.get(s);c.last_used<i&&c.bExpires&&(i=c.last_used,r=s)}r&&this.m_mapRestoreDetails.delete(r)}var l={strRestoreDetails:t,last_used:Date.now(),bExpires:n};this.m_mapRestoreDetails.set(e,l)}else this.m_mapRestoreDetails.delete(e);this.m_bSaveRequired=!0,this.m_bShuttingDown?this.SaveSavedDimensionStore():this.DebouncedSaveSavedDimensionStore()}},Object(i.c)([u.a,Object(l.a)(100)],m.prototype,"DebouncedSaveSavedDimensionStore",null),m}();function v(){var t={};return document.querySelectorAll('link[rel="stylesheet"]').forEach(function(e){t[e.href]=e}),t}var g=new _;window.g_PopupManager=g},JO0f:function(e,t,n){e.exports={AppGameInfoContainer:"appdetailsgameinfocontainer_AppGameInfoContainer_25oBZ",BoxArtExpanded:"appdetailsgameinfocontainer_BoxArtExpanded_13F8d",SuppressTransition:"appdetailsgameinfocontainer_SuppressTransition_2OLz4",GameInfoShadow:"appdetailsgameinfocontainer_GameInfoShadow_1FXWy",AppDetailsExpanded:"appdetailsgameinfocontainer_AppDetailsExpanded_3s6_6",AppDetailsCollapsed:"appdetailsgameinfocontainer_AppDetailsCollapsed_3yfoe",Glassy:"appdetailsgameinfocontainer_Glassy_2QAgO"}},Jjzn:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",ActivityFeedContainer:"appdetailsactivitysection_ActivityFeedContainer_3yTl3",FetchMoreContainer:"appdetailsactivitysection_FetchMoreContainer_39Zur",EndofFeed:"appdetailsactivitysection_EndofFeed_3LIds",EndText:"appdetailsactivitysection_EndText_3jmKN",EndRule:"appdetailsactivitysection_EndRule_1AZdy",InnerContainer:"appdetailsactivitysection_InnerContainer_2EEAp",NoActivity:"appdetailsactivitysection_NoActivity_2-kDc",Loading:"appdetailsactivitysection_Loading_3UShz",LoadingLoop:"appdetailsactivitysection_LoadingLoop_3jyLf",Settings:"appdetailsactivitysection_Settings_1v7gR",SettingsLink:"appdetailsactivitysection_SettingsLink_cA3Oh",SettingsDivider:"appdetailsactivitysection_SettingsDivider_MjsdU",AddToFeed:"appdetailsactivitysection_AddToFeed_2bqRp",PostTextEntry:"appdetailsactivitysection_PostTextEntry_YFAtL",StatusInputBox:"appdetailsactivitysection_StatusInputBox_3Nofi",StatusInputTextArea:"appdetailsactivitysection_StatusInputTextArea_10oyY",StatusControlsRow:"appdetailsactivitysection_StatusControlsRow_1HHZQ",StatusControlsActive:"appdetailsactivitysection_StatusControlsActive_3UJUK",FormattingSpacer:"appdetailsactivitysection_FormattingSpacer_3RowZ",FormattingButton:"appdetailsactivitysection_FormattingButton_2Whi7",ViewLastNews:"appdetailsactivitysection_ViewLastNews_1EC1x"}},JnZK:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return r});var r,i,a=n("mrSG"),o=n("hRO2"),s=n("OS8t"),c=n("2ErG"),l=o.Message,u=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.groupid||s.a(r.M()),l.initialize(t,e,0,-1,[3],null),t}return Object(a.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{groupid:{n:1,br:s.d.readUint32,bw:s.h.writeUint32},name:{n:2,br:s.d.readString,bw:s.h.writeString},accountid_members:{n:3,r:!0,q:!0,br:s.d.readUint32,bw:s.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=s.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return s.g(r.M(),e,t)},r.fromObject=function(e){return s.c(r.M(),e)},r.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return s.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){s.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CFriendsListCategory"},r}(l),p=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.categories||s.a(r.M()),l.initialize(t,e,0,-1,[1],null),t}return Object(a.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{categories:{n:1,c:u,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=s.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return s.g(r.M(),e,t)},r.fromObject=function(e){return s.c(r.M(),e)},r.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return s.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){s.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CFriendsList_GetCategories_Response"},r}(l),d=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.accountid||s.a(r.M()),l.initialize(t,e,0,-1,void 0,null),t}return Object(a.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{accountid:{n:1,br:s.d.readUint32,bw:s.h.writeUint32},clanid:{n:2,br:s.d.readUint32,bw:s.h.writeUint32},chat_group_id:{n:3,br:s.d.readUint64String,bw:s.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=s.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return s.g(r.M(),e,t)},r.fromObject=function(e){return s.c(r.M(),e)},r.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return s.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){s.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CFriendsListFavoriteEntry"},r}(l),m=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.favorites||s.a(r.M()),l.initialize(t,e,0,-1,[1],null),t}return Object(a.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{favorites:{n:1,c:d,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=s.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return s.g(r.M(),e,t)},r.fromObject=function(e){return s.c(r.M(),e)},r.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return s.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){s.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CFriendsList_GetFavorites_Response"},r}(l),h=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return l.initialize(t,e,0,-1,void 0,null),t}return Object(a.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CFriendsList_SetFavorites_Response"},r}(l),f=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.favorites||s.a(r.M()),l.initialize(t,e,0,-1,[1],null),t}return Object(a.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{favorites:{n:1,c:d,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=s.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return s.g(r.M(),e,t)},r.fromObject=function(e){return s.c(r.M(),e)},r.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return s.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){s.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CFriendsList_FavoritesChanged_Notification"},r}(l),b=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return l.initialize(t,e,0,-1,void 0,null),t}return Object(a.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CFriendsList_GetFriendsList_Request"},r}(l),_=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.friendslist||s.a(r.M()),l.initialize(t,e,0,-1,void 0,null),t}return Object(a.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{friendslist:{n:1,c:c.c}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=s.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return s.g(r.M(),e,t)},r.fromObject=function(e){return s.c(r.M(),e)},r.deserializeBinary=function(e){var t=new o.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return s.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){s.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CFriendsList_GetFriendsList_Response"},r}(l);(i=r=r||{}).GetCategories=function(e,t){return e.SendMsg("FriendsList.GetCategories#1",t,p,{bConstMethod:!0,ePrivilege:1})},i.GetFriendsList=function(e,t){return e.SendMsg("FriendsList.GetFriendsList#1",t,_,{bConstMethod:!0,ePrivilege:1})},i.GetFavorites=function(e,t){return e.SendMsg("FriendsList.GetFavorites#1",t,m,{bConstMethod:!0,ePrivilege:1})},i.SetFavorites=function(e,t){return e.SendMsg("FriendsList.SetFavorites#1",t,h,{ePrivilege:1})}},JqJm:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"d",function(){return _});var c=n("mrSG"),l=n("q1tI"),r=n("2vnA"),i=n("sUmc"),a=n("Kw0F"),u=n("exH9"),o=n("bxiW"),d=n("YyVH"),s=n("UPxs");l.Component;function m(e,t,n,r){return r?n&&e>n.left&&e<n.right&&t>n.top&&t<n.bottom:n&&e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}var p=function(){function e(){this.m_embeddedElement=new i.a("DragGhosts"),this.m_rgDropRegions=[],this.m_rgActiveDropRegions=[]}return e.prototype.RegisterDropRegion=function(e){this.m_rgDropRegions.push(e),this.m_activeDraggable&&e.BAcceptDraggable(this.m_activeDraggable)&&(e.OnDragStarted(this.m_activeDraggable),this.m_rgActiveDropRegions.push(e))},e.prototype.UnregisterDropRegion=function(e){a.c(this.m_rgDropRegions,e),a.c(this.m_rgActiveDropRegions,e),this.m_activeDropRegion==e&&(this.m_activeDropRegion=void 0,this.m_activeDraggable&&this.ShowDragGhost())},e.prototype.OnDragGhostRef=function(e){this.m_dragGhost=e},e.prototype.ShowDragGhost=function(){var e=this.m_activeDraggable.renderDragGhost(),t=Object(u.a)(e.props.className,!!this.m_activeDropRegion&&"DraggedOverActiveDrop"),n=l.cloneElement(e,{ref:this.OnDragGhostRef,className:t});this.m_embeddedElement.ShowElement(this.m_activeDraggable.GetDragDocument(),n,this.m_activeDraggable)},e.prototype.HideDragGhost=function(){this.m_embeddedElement.HideElement(this.m_activeDraggable.GetDragDocument(),this.m_activeDraggable)},e.prototype.OnDragStart=function(e){this.m_activeDraggable=e,this.m_rgActiveDropRegions=[];for(var t=0,n=this.m_rgDropRegions;t<n.length;t++){var r=n[t];r.BAcceptDraggable(e)&&(r.OnDragStarted(e),this.m_rgActiveDropRegions.push(r))}this.ShowDragGhost()},e.prototype.EndDrag=function(){if(this.m_activeDraggable){this.HideDragGhost(),this.m_activeDropRegion&&this.m_activeDropRegion.OnDrop(this.m_activeDraggable);for(var e=0,t=this.m_rgActiveDropRegions;e<t.length;e++){t[e].OnDragEnded(this.m_activeDraggable)}this.m_activeDraggable=void 0,this.m_dropGhost=void 0,this.m_rgActiveDropRegions=[]}},e.prototype.FindBestActiveDropRegionForPoint=function(e,t){var n,r,i=this.m_activeDraggable.GetDragDocument();if("elementsFromPoint"in i?r=i.elementsFromPoint(e,t):"msElementsFromPoint"in i&&(n=i.msElementsFromPoint,r=Array.from(n(e,t))),r){var a=new Map;this.m_rgActiveDropRegions.forEach(function(e){return a.set(e.GetElement(),e)});for(var o=0,s=r;o<s.length;o++){var c=s[o],l=a.get(c);if(l)return l}}else{if(this.m_activeDropRegion&&this.m_activeDropRegion.BDraggableInRegion(e,t,this.m_activeDraggable))return this.m_activeDropRegion;for(var u=this.m_rgActiveDropRegions.length-1;0<=u;u--){var p=this.m_rgActiveDropRegions[u];if(p.BDraggableInRegion(e,t,this.m_activeDraggable))return p}}return null},e.prototype.OnDrag=function(e,t,n){var r,i,a,o,s,c=this,l=void 0===t?0:t-this.m_dragGhost.state.clientX,u=void 0===n?0:n-this.m_dragGhost.state.clientY;e.props.bEnableHTMLDrag&&this.m_dragOffWindowTimer&&window.clearTimeout(this.m_dragOffWindowTimer),this.m_dragGhost&&(this.m_dragGhost.setState({clientX:t,clientY:n,clientXDelta:l,clientYDelta:u,bVisible:!0}),e.props.bEnableHTMLDrag&&(l||u)&&(r=t+l,i=n+u,m(t,n,a=e.GetDragDocument().body.getBoundingClientRect())&&!m(r,i,a,!0)&&(o=d.c(r,a.left,a.right,a.left-200,a.right+200),s=d.c(i,a.top,a.bottom,a.top-100,a.bottom+100),this.m_dragOffWindowTimer=window.setTimeout(function(){e==c.m_activeDraggable&&c.OnDrag(e,o,s)},50))));var p=this.FindBestActiveDropRegionForPoint(t,n);!!this.m_activeDropRegion!=!!p&&(this.ShowDragGhost(),this.m_dropGhost||(this.m_dropGhost=this.m_activeDraggable.renderDropGhost())),this.m_activeDropRegion&&this.m_activeDropRegion!=p&&this.m_activeDropRegion.OnDragLeave(this.m_activeDraggable),p&&this.m_activeDropRegion!=p&&p.OnDragEnter(this.m_activeDraggable,this.m_dropGhost),this.m_activeDropRegion=p,this.m_activeDropRegion&&this.m_activeDropRegion.OnDragMove(t,n,this.m_activeDraggable)},Object(c.c)([o.a],e.prototype,"OnDragGhostRef",null),e}(),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_DragInfo={bStarted:!1,startClientX:void 0,startClientY:void 0,startOffsetX:void 0,startOffsetY:void 0,startWidth:void 0,startHeight:void 0,ownerWin:void 0},e.m_divRef=l.createRef(),e}return Object(c.d)(e,t),e.prototype.GetDragDocument=function(){return this.m_DragInfo.ownerWin&&this.m_DragInfo.ownerWin.document},e.prototype.RecordDragStart=function(e,t,n){this.m_DragInfo.startClientX=t,this.m_DragInfo.startClientY=n;var r=e.getBoundingClientRect();this.m_DragInfo.startOffsetX=t-r.left,this.m_DragInfo.startOffsetY=n-r.top,this.m_DragInfo.startWidth=r.width,this.m_DragInfo.startHeight=r.height,this.m_DragInfo.ownerWin=e.ownerDocument.defaultView},e.prototype.ProcessDragMove=function(e){var t,n="touches"in(t=e)?[t.touches[0].clientX,t.touches[0].clientY]:[t.clientX,t.clientY],r=n[0],i=n[1];if(this.m_DragInfo.bStarted){if(this.props.bEnableHTMLDrag&&0==r&&0==i)return;this.props.coordinator.OnDrag(this,r,i)}else 25<=Math.pow(r-this.m_DragInfo.startClientX,2)+Math.pow(i-this.m_DragInfo.startClientY,2)&&(this.m_DragInfo.bStarted=!0,this.forceUpdate(),this.props.fnOnDragStart&&this.props.fnOnDragStart(),this.props.coordinator.OnDragStart(this),this.props.coordinator.OnDrag(this,r,i))},e.prototype.OnMouseDown=function(e){this.m_DragInfo.bStarted||0!=e.button||(this.RecordDragStart(e.currentTarget,e.clientX,e.clientY),this.m_DragInfo.ownerWin.addEventListener("mousemove",this.ProcessDragMove),this.m_DragInfo.ownerWin.addEventListener("mouseup",this.OnMouseUp))},e.prototype.OnMouseUp=function(e){this.m_DragInfo.ownerWin.removeEventListener("mousemove",this.ProcessDragMove),this.m_DragInfo.ownerWin.removeEventListener("mouseup",this.OnMouseUp),this.ResetDragState()},e.prototype.OnTouchStart=function(e){this.m_DragInfo.bStarted||(this.RecordDragStart(e.currentTarget,e.touches[0].clientX,e.touches[0].clientY),this.m_DragInfo.ownerWin.addEventListener("touchmove",this.ProcessDragMove),this.m_DragInfo.ownerWin.addEventListener("touchend",this.OnTouchEnd))},e.prototype.OnTouchEnd=function(e){this.m_DragInfo.ownerWin.removeEventListener("touchmove",this.ProcessDragMove),this.m_DragInfo.ownerWin.removeEventListener("touchend",this.OnTouchEnd),this.ResetDragState()},e.prototype.ResetDragState=function(){this.m_DragInfo.bStarted&&(this.props.coordinator.EndDrag(),this.props.fnOnDragEnd&&this.props.fnOnDragEnd()),this.m_DragInfo.bStarted=!1,this.m_DragInfo.startClientX=void 0,this.m_DragInfo.startClientY=void 0,this.m_DragInfo.startOffsetX=void 0,this.m_DragInfo.startOffsetY=void 0,this.m_DragInfo.ownerWin=void 0,this.forceUpdate()},e.prototype.OnHTMLDragStart=function(n){n.dataTransfer.effectAllowed="copyMove",this.props.strHTMLDragData&&this.props.strHTMLDragData.forEach(function(e,t){return n.dataTransfer.setData(t,e)}),n.dataTransfer.getData("text/plain")||n.dataTransfer.setData("text/plain",this.props.data.toString());var e=new Image;n.dataTransfer.setDragImage(e,0,0),this.RecordDragStart(n.currentTarget,n.clientX,n.clientY)},e.prototype.OnHTMLDragEnd=function(){this.ResetDragState()},e.prototype.render=function(){var e=this.props,t=(e.coordinator,e.data,e.bEnableHTMLDrag),n=(e.strHTMLDragData,e.fnOnDragStart,e.fnOnDragEnd,e.fnRenderDragGhost,e.fnRenderDropGhost,e.className),r=e.strActiveClassName,i=e.children,a=Object(c.f)(e,["coordinator","data","bEnableHTMLDrag","strHTMLDragData","fnOnDragStart","fnOnDragEnd","fnRenderDragGhost","fnRenderDropGhost","className","strActiveClassName","children"]),o={},s=n||"DialogDraggable";return this.m_DragInfo.bStarted?(s=Object(u.a)(s,r||"DraggedOut"),t&&(o={onDrag:this.ProcessDragMove,onDragEnd:this.OnHTMLDragEnd})):o=t?{onDragStart:this.OnHTMLDragStart,onDrag:this.ProcessDragMove,onDragEnd:this.OnHTMLDragEnd}:{onMouseDown:this.OnMouseDown,onTouchStart:this.OnTouchStart},l.createElement("div",Object(c.a)({ref:this.m_divRef,className:s},o,a,{draggable:t}),i)},e.prototype.renderDropGhost=function(){return this.props.fnRenderDropGhost?this.props.fnRenderDropGhost():l.createElement(f,{elContent:this.GetClone()})},e.prototype.renderDragGhost=function(){return this.props.fnRenderDragGhost?this.props.fnRenderDragGhost():l.createElement(b,{elContent:this.GetClone(),offsetX:this.m_DragInfo.startOffsetX,offsetY:this.m_DragInfo.startOffsetY,width:this.m_DragInfo.startWidth,height:this.m_DragInfo.startHeight})},e.prototype.GetClone=function(){var e,t=this.m_divRef.current;if(t&&t.childElementCount)if(1==t.childElementCount)e=t.firstElementChild.cloneNode(!0);else{e=document.createElement("div");for(var n=t.firstChild;n;n=n.nextSibling)e.appendChild(n.cloneNode(!0))}return e},Object(c.c)([o.a],e.prototype,"ProcessDragMove",null),Object(c.c)([o.a],e.prototype,"OnMouseDown",null),Object(c.c)([o.a],e.prototype,"OnMouseUp",null),Object(c.c)([o.a],e.prototype,"OnTouchStart",null),Object(c.c)([o.a],e.prototype,"OnTouchEnd",null),Object(c.c)([r.action],e.prototype,"ResetDragState",null),Object(c.c)([o.a],e.prototype,"OnHTMLDragStart",null),Object(c.c)([o.a],e.prototype,"OnHTMLDragEnd",null),e}(l.Component),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.d)(t,e),t.prototype.OnRef=function(e){e&&e.appendChild(this.props.elContent)},t.prototype.render=function(){return l.createElement("div",{className:"DialogDraggable_DropGhost",ref:this.OnRef})},Object(c.c)([o.a],t.prototype,"OnRef",null),t}(l.Component),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={clientX:void 0,clientY:void 0,bVisible:!0,clientXDelta:void 0,clientYDelta:void 0},e}return Object(c.d)(e,t),e.prototype.OnRef=function(e){e&&e.appendChild(this.props.elContent)},e.prototype.CalculateRotationDegrees=function(e){return!e||Math.abs(e)<4?0:(0<e?7.5:-7.5)*Math.sqrt(Math.abs(e))},e.prototype.render=function(){if(!this.state.bVisible||void 0===this.state.clientX||void 0===this.state.clientY)return l.createElement("div",null);var e={left:this.state.clientX-(this.props.offsetX||0),top:this.state.clientY-(this.props.offsetY||0),width:this.props.width||"auto",height:this.props.height||"auto",perspective:"600px"},t=d.c(this.CalculateRotationDegrees(this.state.clientYDelta),-90,90,2,0),n={transform:"rotateX("+this.CalculateRotationDegrees(-1*this.state.clientYDelta)+"deg) rotateY( "+this.CalculateRotationDegrees(this.state.clientXDelta)+"deg)",transition:"transform .16s ease-out, filter .16s ease-out",filter:"brightness("+t+")"},r=this.props.className||"DialogDraggable_DragGhost";return l.createElement("div",{className:r,style:e},l.createElement("div",{ref:this.OnRef,style:n}))},Object(c.c)([o.a],e.prototype,"OnRef",null),e}(l.Component),_=function(n){function e(e){var t=n.call(this,e)||this;return t.m_divRef=l.createRef(),t.state={},t}return Object(c.d)(e,n),e.prototype.componentDidMount=function(){this.props.coordinator.RegisterDropRegion(this)},e.prototype.componentWillUnmount=function(){this.props.coordinator.UnregisterDropRegion(this)},e.prototype.OnDragStarted=function(e){this.setState({bDraggableActive:!0})},e.prototype.OnDragEnded=function(e){this.setState({bDraggableActive:!1})},e.prototype.OnDragEnter=function(e,t){this.setState({dropGhost:t}),this.props.fnOnDragEnter&&this.props.fnOnDragEnter(e)},e.prototype.OnDragLeave=function(e){this.setState({dropGhost:void 0}),this.props.fnOnDragLeave&&this.props.fnOnDragLeave(e)},e.prototype.OnDragMove=function(e,t,n){},e.prototype.OnDrop=function(e){this.setState({dropGhost:void 0}),this.props.fnOnDrop(e)},e.prototype.BAcceptDraggable=function(e){return!this.props.fnBAcceptDraggable||this.props.fnBAcceptDraggable(e)},e.prototype.BDraggableInRegion=function(e,t,n){return m(e,t,this.GetClientRect())},e.prototype.GetElement=function(){return this.m_divRef.current},e.prototype.GetClientRect=function(){return this.m_divRef.current&&this.m_divRef.current.getBoundingClientRect()},e.prototype.render=function(){var e=this.props,t=(e.coordinator,e.fnBAcceptDraggable,e.fnOnDrop,e.fnOnDragEnter,e.fnOnDragLeave,e.className),n=e.strActiveClassName,r=e.children,i=Object(c.f)(e,["coordinator","fnBAcceptDraggable","fnOnDrop","fnOnDragEnter","fnOnDragLeave","className","strActiveClassName","children"]),a=Object(u.a)(t||"DialogDropRegion",this.state.bDraggableActive&&(n||"Active"));return l.createElement(s.c,Object(c.a)({htmlElementRef:this.m_divRef,className:a},i,{navStop:i.navStop||!!i.onClick}),this.state.dropGhost,r)},e}(l.Component),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.d)(t,e),t.prototype.BDraggableInRegion=function(e,t,n){var r=this.GetClientRect();return!!r&&(e>=r.left&&e<=r.right&&t>=r.top-20&&t<=r.bottom+20)},t}(_)},"Jqb/":function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"g",function(){return S}),n.d(t,"h",function(){return C}),n.d(t,"c",function(){return O}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return B}),n.d(t,"b",function(){return A}),n.d(t,"f",function(){return j});var l=n("mrSG"),u=n("q1tI"),i=n("X3Ds"),p=n("TLQK"),d=n("Mgs7"),a=n("IjL/"),r=n("bxiW"),o=n("6Y59"),s=n("TyAF"),c=n("exH9"),m=n("JJA/"),h=n.n(m),f=n("r64O"),b=n("+d9t"),_=u.createContext({}),v=function(){return u.useContext(_)};var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.d)(t,e),t.prototype.componentWillUnmount=function(){this.HideModal()},t.prototype.HideModal=function(){this.m_ModalHandle&&this.m_ModalHandle.Close(),this.m_ModalHandle=null},t.prototype.render=function(){var e=this.props,t=e.active,n=e.children;return t?this.m_ModalHandle?this.m_ModalHandle.Update(n):this.m_ModalHandle=j(window).ShowModal(n):this.HideModal(),null},t}(u.Component),y=function(e){var t=e.active,n=e.onDismiss,r=e.className,i=e.modalClassName,a=e.children;return u.createElement(g,{active:t},u.createElement(S,{onEscKeypress:n,className:i},u.createElement(d.f,{className:r},a)))};function S(e){var t=v();return u.createElement(b.e,Object(l.a)({component:t.ModalPosition,fallback:w},e))}function w(t){var e,n={};t.onEscKeypress&&(n.tabIndex=0,n.onKeyDown=function(e){27==e.keyCode&&t.onEscKeypress()},n.onMouseDown=function(e){e.currentTarget!==e.target||t.bDisableBackgroundDismiss||t.onEscKeypress()},e=function(e){e&&(i.c(e,e.ownerDocument.activeElement)||e.focus())});var r=["ModalPosition"];return t.className&&r.push(t.className),t.bDestructiveWarning&&r.push("Destructive"),u.createElement("div",Object(l.a)({className:r.join(" ")},n,{ref:e}),u.createElement("div",{className:"ModalPosition_Content"},!t.hideTopBar&&u.createElement("div",{className:"ModalPosition_TopBar"}),t.onEscKeypress&&!t.bHideCloseIcon&&u.createElement("div",{className:"ModalPosition_Dismiss"},u.createElement("div",{className:"closeButton",onClick:t.onEscKeypress},u.createElement(o.Jb,null))),u.createElement(a.a,null,t.children)))}var C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bShowModal:!1},e.m_refParent=u.createRef(),e}return Object(l.d)(e,t),e.prototype.componentDidMount=function(){var e=this.GetBodyElement();e&&e.classList.add(h.a.BodyNoScroll)},e.prototype.componentWillUnmount=function(){var e=this.GetBodyElement();e&&e.classList.remove(h.a.BodyNoScroll)},e.prototype.GetBodyElement=function(){return this.m_refParent.current?this.m_refParent.current.closest("body"):null},e.prototype.render=function(){return u.createElement("div",{ref:this.m_refParent,className:Object(c.a)(h.a.OverlayModal,this.props.className)},this.props.children)},e}(u.Component),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.d)(t,e),t.prototype.Cancel=function(){this.props.onCancel&&this.props.onCancel(),this.props.closeModal&&this.props.closeModal()},t.prototype.render=function(){var e=this.props,t=e.strTitle,n=e.strDescription,r=e.strOKButtonText,i=e.strCancelButtonText,a=e.bAlertDialog,o=e.children,s=Object(l.f)(e,["strTitle","strDescription","strOKButtonText","strCancelButtonText","bAlertDialog","children"]),c=r||Object(p.f)("#Button_Close");return u.createElement(E,Object(l.a)({},s),u.createElement(d.l,null," ",t," "),u.createElement(d.b,null,u.createElement(d.c,null,n,o),u.createElement(d.i,null,a?u.createElement(d.s,null,c):u.createElement(d.o,{bOKDisabled:this.props.bOKDisabled,strOKText:r,onCancel:this.Cancel,strCancelText:i}))))},Object(l.c)([r.a],t.prototype,"Cancel",null),Object(l.c)([s.observer],t)}(u.Component),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.d)(t,e),t.prototype.Cancel=function(){this.props.onCancel&&this.props.onCancel(),this.props.closeModal&&this.props.closeModal()},t.prototype.OK=function(){this.props.bOKDisabled||(this.props.onOK&&this.props.onOK(),this.props.closeModal&&this.props.closeModal())},t.prototype.render=function(){return u.createElement(S,{onEscKeypress:this.Cancel,bDestructiveWarning:this.props.bDestructiveWarning,bDisableBackgroundDismiss:this.props.bDisableBackgroundDismiss,bHideCloseIcon:this.props.bHideCloseIcon},u.createElement(d.g,{classNameContent:Object(c.a)("GenericConfirmDialog",this.props.bAllowFullSize&&"DialogContentFullSize",this.props.className),onSubmit:this.OK,bCenterVertically:!0},this.props.children))},Object(l.c)([r.a],t.prototype,"Cancel",null),Object(l.c)([r.a],t.prototype,"OK",null),Object(l.c)([s.observer],t)}(u.Component),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.d)(t,e),t.prototype.render=function(){var e=Object(l.a)({strTitle:Object(p.f)("#Error_FailureNotice"),strDescription:Object(p.f)("#Error_GenericFailureDescription"),bAlertDialog:!0,bDestructiveWarning:!0,onOK:function(){},onCancel:function(){}},this.props);return u.createElement(O,Object(l.a)({},e))},Object(l.c)([s.observer],t)}(u.Component),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.d)(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.ModalManager.modals;e&&e.length?document.body.classList.add(h.a.BodyNoScrollDialog):document.body.classList.remove(h.a.BodyNoScrollDialog)},t.prototype.componentDidMount=function(){this.props.ModalManager.RegisterOverlay(this)},t.prototype.componentWillUnmount=function(){this.props.ModalManager.UnregisterOverlay(this)},t.prototype.OnActiveRef=function(e){var t;!e||(t=e.firstChild)&&t.focus&&t.focus()},t.prototype.render=function(){var i=this,e=this.props,t=e.ModalManager,n=Object(l.f)(e,["ModalManager"]),r=t.modals;if(!r||!r.length)return null;var a=t.active_modal,o=r.map(function(e,t){var n=e==a,r=n?"active":"inactive";return u.createElement("div",{className:Object(c.a)("ModalOverlayContent",r),key:"modal-"+t,ref:n?i.OnActiveRef:null,tabIndex:-1},e.element)});return u.createElement("div",Object(l.a)({},n,{className:Object(c.a)(n.className,"FullModalOverlay")}),u.createElement("div",{className:"ModalOverlayContent ModalOverlayBackground"}),o)},t}(u.Component),I=function(){function e(){this.m_bUsePopups=!0,this.m_rgModals=[],this.m_ActiveOverlay=null}return e.prototype.RegisterOverlay=function(e){Object(f.a)(!this.m_ActiveOverlay,"Registering second overlay"),this.m_ActiveOverlay=e},e.prototype.UnregisterOverlay=function(e){Object(f.a)(this.m_ActiveOverlay==e,"Active overlay mismatch"),this.m_ActiveOverlay==e&&(this.m_ActiveOverlay=null)},e.prototype.ForceUpdate=function(){var e=this;this.m_ActiveOverlay?window.setTimeout(function(){return e.m_ActiveOverlay.forceUpdate()},1):Object(f.a)(!1,"Modal action was taken, but there is no <DialogOverlay> element to show it in")},Object.defineProperty(e.prototype,"modals",{get:function(){return this.m_rgModals},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active_modal",{get:function(){return this.m_rgModals.length?this.m_rgModals[this.m_rgModals.length-1]:void 0},enumerable:!1,configurable:!0}),e.prototype.ShowModal=function(e){var t=this,n={element:e};return this.m_rgModals.push(n),this.ForceUpdate(),{Close:function(){var e=t.m_rgModals.indexOf(n);-1!=e&&t.m_rgModals.splice(e,1),t.ForceUpdate()},Update:function(e){n.element=e,t.ForceUpdate()}}},e.prototype.SetUsePopups=function(e){this.m_bUsePopups=e},e.prototype.BUsePopups=function(){return this.m_bUsePopups},e}();function j(e){var t=D.get(e);return t||(t=new I,D.set(e,t)),t}var D=new WeakMap},"Ju+P":function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",TimedTrialBanner:"appdetailstimedtrialbanner_TimedTrialBanner_5wiyz",LeftColumn:"appdetailstimedtrialbanner_LeftColumn_FFW6K",HeaderArt:"appdetailstimedtrialbanner_HeaderArt_32qYX",RightColumn:"appdetailstimedtrialbanner_RightColumn_iLdNr",Header:"appdetailstimedtrialbanner_Header_3pfdM",Description:"appdetailstimedtrialbanner_Description_MDtiK",MasterSubLink:"appdetailstimedtrialbanner_MasterSubLink_2jIpX",StoreButton:"appdetailstimedtrialbanner_StoreButton_AHLW3"}},K9VO:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",InvalidOSType:"appdetailsinvalidostype_InvalidOSType_aAsFy",InvalidOSTypeBody:"appdetailsinvalidostype_InvalidOSTypeBody_1cFbg",Invalid:"appdetailsinvalidostype_Invalid_1EjuD",WarningText:"appdetailsinvalidostype_WarningText_3fDKK",WarningText2:"appdetailsinvalidostype_WarningText2_gqgMp",WarningText3:"appdetailsinvalidostype_WarningText3_3vpWT"}},KEpR:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return S});var r,i,a=n("mrSG"),o=n("2vnA"),s=n("kyHq"),c=n("5bld"),l=n("r64O"),u=n("lkRc"),p=n("O0NR"),d=n("5izx");(i=r=r||{}).k_ERecent="recent",i.k_ELibrary="library",i.k_EWishlist="wishlist",i.k_EFollowing="following",i.k_ERecommended="recommended",i.k_ESteam="steam",i.k_EFeatured="featured",i.k_ECurator="curator";var m,h,f=[r.k_ELibrary,r.k_EWishlist,r.k_EFollowing,r.k_ERecommended,r.k_ESteam,r.k_ECurator],b=Object(a.g)(f,[r.k_EFeatured]),_=[r.k_EFeatured];(h=m=m||{}).k_ENews="news",h.k_EEvents="events",h.k_EStreaming="streaming",h.k_EUpdates="updates",h.k_EReleases="releases",h.k_ESales="sales";var v=[m.k_ENews,m.k_EEvents,m.k_EStreaming,m.k_EUpdates,m.k_EReleases,m.k_ESales],g=new Map([[m.k_ENews,[28]],[m.k_EEvents,[9,27,22,23,24,35,25,26]],[m.k_EStreaming,[11]],[m.k_EUpdates,[12,13,14]],[m.k_EReleases,[10,29,16,15,32]],[m.k_ESales,[20,21,31,34]]]);function y(e){return new Map(e.map(function(e){return[e,!0]}))}var S=function(){function e(){this.m_mapEventTypeGroupsAllowed=new Map,this.m_mapGameSources=new Map,this.m_bCuratorUnhideOnFollowDialogDismissed=!1,this.m_eStorageType="session"}return e.prototype.GetGameSources=function(){return Array.from(this.m_mapGameSources.keys())},e.prototype.GetStorageObject=function(){return this.m_strStorageKey?"session"===this.m_eStorageType?window.sessionStorage:window.localStorage:null},e.prototype.GetPreferencesStorageKey=function(){return this.m_strStorageKey+"-event-calendar-prefs"},Object.defineProperty(e.prototype,"enabledEventTypeSet",{get:function(){for(var t=new Set,e=0,n=Array.from(this.m_mapEventTypeGroupsAllowed.keys());e<n.length;e++){var r=n[e];g.get(r).forEach(function(e){return t.add(e)})}return t},enumerable:!1,configurable:!0}),e.prototype.MapClanEventTypeToGroup=function(n){var r=null;return g.forEach(function(e,t){-1!==e.indexOf(n)&&(r=t)}),r||m.k_EEvents},e.prototype.InitDefaultCheckboxes=function(e,t){this.m_bInitializedForUpdatesOnly=t,this.m_mapEventTypeGroupsAllowed=y(t?[m.k_EUpdates]:v);var n=u.c.EREALM===s.p.k_ESteamRealmChina?b:f;this.m_mapGameSources=y(e?n:_)},e.prototype.Init=function(e,t,n,r){this.m_eStorageType=r,this.m_strStorageKey=n;var i=this.GetStorageObject(),a=i?i.getItem(this.GetPreferencesStorageKey()):null;if(a){var o=JSON.parse(a);if(o.rgEventTypeGroupsAllowed&&o.rgGameSources){var s=o.rgEventTypeGroupsAllowed,c=o.rgGameSources;return this.m_mapEventTypeGroupsAllowed=y(s),this.m_mapGameSources=y(c),void(void 0!==o.bCuratorUnhideOnFollowDismissed&&(this.m_bCuratorUnhideOnFollowDialogDismissed=o.bCuratorUnhideOnFollowDismissed))}}this.InitDefaultCheckboxes(e,t)},e.prototype.SaveFilterPreferences=function(){var e,t=this.GetStorageObject();t&&(e={rgEventTypeGroupsAllowed:Array.from(this.m_mapEventTypeGroupsAllowed.keys()),rgGameSources:Array.from(this.m_mapGameSources.keys()),bCuratorUnhideOnFollowDismissed:this.m_bCuratorUnhideOnFollowDialogDismissed},t.setItem(this.GetPreferencesStorageKey(),JSON.stringify(e)))},e.prototype.BCuratorUnhideOnFollowDialogDismissed=function(){return this.m_bCuratorUnhideOnFollowDialogDismissed},e.prototype.SetCuratorUnhideOnFollowDialogDismissed=function(e){this.m_bCuratorUnhideOnFollowDialogDismissed=e,this.SaveFilterPreferences()},e.prototype.BIsEventTypeGroupAllowed=function(e){return this.m_mapEventTypeGroupsAllowed.has(e)},e.prototype.BIsGameSourceAllowed=function(e){return!(e===r.k_EFollowing&&!d.a.bIsFollowingEnabled)&&(!(e===r.k_ECurator&&!d.a.bIsCuratorsEnabled)&&this.m_mapGameSources.has(e))},e.prototype.SetEventTypeGroupAllowed=function(e,t){t?this.m_mapEventTypeGroupsAllowed.set(e,!0):this.m_mapEventTypeGroupsAllowed.delete(e),this.SaveFilterPreferences(),p.b.RecordFilterChangeEvent(this)},e.prototype.SetGameSourceAllowed=function(e,t){t?(this.m_mapGameSources.set(e,!0),e==r.k_ERecent?this.m_mapGameSources.delete(r.k_ELibrary):e==r.k_ELibrary&&(Object(l.a)(!this.m_mapGameSources.has(r.k_ERecent),"Setting Library although Recent already set - illusion was broken"),this.m_mapGameSources.delete(r.k_ERecent))):(this.m_mapGameSources.delete(e),e==r.k_ERecent?this.m_mapGameSources.set(r.k_ELibrary,!0):e==r.k_ELibrary&&this.m_mapGameSources.delete(r.k_ERecent)),this.SaveFilterPreferences(),p.b.RecordFilterChangeEvent(this)},e.prototype.BShouldDisplayEvent=function(e){var t=e.GetSource(),n=Boolean(e.appInfo&&e.appInfo.last_played&&e.appInfo.last_played+15552e3>=d.a.GetTimeNowWithOverride());return!!(this.enabledEventTypeSet.has(e.event_type)||this.m_bInitializedForUpdatesOnly&&this.BIsEventTypeGroupAllowed(m.k_EUpdates)&&28==e.event_type&&e.start_time<1599202800)&&(!!(t&c.a.k_eRequired||t&c.a.k_eReposted)||Boolean(this.BIsGameSourceAllowed(r.k_ERecent)&&n||this.BIsGameSourceAllowed(r.k_ELibrary)&&t&c.a.k_eLibrary||this.BIsGameSourceAllowed(r.k_EWishlist)&&t&c.a.k_eWishlist||this.BIsGameSourceAllowed(r.k_EFollowing)&&t&c.a.k_eFollowing||this.BIsGameSourceAllowed(r.k_ERecommended)&&t&c.a.k_eRecommended||this.BIsGameSourceAllowed(r.k_ESteam)&&t&c.a.k_eSteam||this.BIsGameSourceAllowed(r.k_EFeatured)&&t&c.a.k_eFeatured||this.BIsGameSourceAllowed(r.k_ECurator)&&t&c.a.k_eCurator))},e.prototype.BAreAllEventsHidden=function(){return 0==this.m_mapEventTypeGroupsAllowed.size||0==this.m_mapGameSources.size},e.prototype.BAreAnyEventsFiltered=function(e){var t=this,n=u.c.EREALM===s.p.k_ESteamRealmChina?b:f;return(e?n:_).some(function(e){return!t.BIsGameSourceAllowed(e)})||v.some(function(e){return!t.BIsEventTypeGroupAllowed(e)})},Object(a.c)([o.observable],e.prototype,"m_mapEventTypeGroupsAllowed",void 0),Object(a.c)([o.observable],e.prototype,"m_mapGameSources",void 0),Object(a.c)([o.observable],e.prototype,"m_bCuratorUnhideOnFollowDialogDismissed",void 0),Object(a.c)([Object(o.computed)({keepAlive:!0,equals:o.comparer.structural})],e.prototype,"enabledEventTypeSet",null),Object(a.c)([o.action],e.prototype,"SetEventTypeGroupAllowed",null),Object(a.c)([o.action],e.prototype,"SetGameSourceAllowed",null),e}()},KFfG:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAgCAYAAABdP1tmAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4woKFwoTHjEn6AAAAwRJREFUWMPtmF1ojmEYx//XNh9jVj4L+VqRfAyTOWCSKBEHwoRQEkeOHElyYkXOlGz5agcTSkpJEpMJa1mUlGSHmoaDEWb2c3K9dff02va83ud9X7Wrnp7n+V/Xfd/X//64nut6pCEpbLF/7QAokjRfUrWkqZJGxeyiR1KnpFeSnptZT95mA1gKvCF70glszReZqcBHsi89QE0+CF1I48x54CDwZJDO3wQuAb8i+ItckxkNfEvj4FLXnxkEmZagv/o0+mWZ+FaUIadVGRz+qIz2gCJJ5Wn063O5QuEKnADW+lXu+tkBdifNNqv3bfYCeOD4DeAi0Ovvzbkk1B44uHIA27rAti3AGwL8aYBfcewHEHsXlGRAZqKkRQF0AFjhz41m9gFYLWm5Y2sC21FAiZn1ShoT4MOBIjPrC/ARklZKupf06tT2c9Cr3eZUPzbtwTa7BpzzUN0GNEdsTyW+QpKKJbVKWiipNIP2i/3eYma1PgEm6VAa27WJRzkzazKz5R6ZaiRdlNTt6lpgt6TBhNxyoNifx/+NPDAhqa22D/gKvAVuAUeBua4rA04C32NmBa+AxwPYbEuSUDppBTYDBlQAj7KcCtUnGRBGAguA7cBloCsY+CEwCygBzmaR0LuclQ/+ndgv6ZikSX6WdpnZbaBS0rBBdFMlqWEAmwoz68jlh3YCcN1ntBfYFbP9pQFWaWcSTi8EDgMbgTFp9OZpUKoEWBej73Kgox9Ce5IOCj1AEzCvn1SnE5gco/+aII8LpRuYklR1Wg+0AL99sJ/AkWhJDtx1/dWYY+zwiUjJyyCtSrxaPQf0+cB1Ef00r5f6UjVSzEi6BJiVj6p1U/Ax3RvRnXa88b/6beTbBOATMCnAZ/jW/AaUFqrzM4EtqUIuwG85qaMR/JnjGwqVTHdwWC0SoQDeRNqkyojjufIzTrZdJanMnysljQ10LZK+SJobWb3Xfp9TiITu+99NSbpsZp+DkgJJ7/11etCmy+9jC/UMGTDuL7opnm2PDLBSxyZrSIZEkvQHZrnGdTpH8/8AAAAASUVORK5CYII="},KKYZ:function(e,t,n){"use strict";n.r(t);var j=n("mrSG"),D=n("q1tI"),d=n.n(D),p=n("VeD8"),m=n("pQ8y"),o=n("TyAF"),r=(n("AAD4"),n("s4NR")),a=n.n(r),C=n("kyHq"),i=n("2lpH"),s=n.n(i),O=n("2vnA"),b=n("qD+2"),c=n("hRO2"),l=n("OS8t"),u=c.Message;var h=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.type||l.a(r.M()),u.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{type:{n:1,br:l.d.readEnum,bw:l.h.writeEnum},name:{n:2,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CAppOverview_AppAssociation"},r}(u),f=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.clientid||l.a(r.M()),u.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{clientid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},client_name:{n:2,br:l.d.readString,bw:l.h.writeString},display_status:{n:3,br:l.d.readEnum,bw:l.h.writeEnum},status_percentage:{n:4,d:0,br:l.d.readUint32,bw:l.h.writeUint32},active_beta:{n:5,br:l.d.readString,bw:l.h.writeString},installed:{n:6,br:l.d.readBool,bw:l.h.writeBool},bytes_downloaded:{n:7,d:"0",br:l.d.readUint64String,bw:l.h.writeUint64String},bytes_total:{n:8,d:"0",br:l.d.readUint64String,bw:l.h.writeUint64String},streaming_to_local_client:{n:9,br:l.d.readBool,bw:l.h.writeBool},is_available_on_current_platform:{n:10,br:l.d.readBool,bw:l.h.writeBool},is_invalid_os_type:{n:11,br:l.d.readBool,bw:l.h.writeBool},playtime_left:{n:12,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CAppOverview_PerClientData"},r}(u),_=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),u.initialize(t,e,0,-1,[19,20,23,43],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},display_name:{n:2,br:l.d.readString,bw:l.h.writeString},visible_in_game_list:{n:4,br:l.d.readBool,bw:l.h.writeBool},sort_as:{n:6,br:l.d.readString,bw:l.h.writeString},app_type:{n:7,br:l.d.readEnum,bw:l.h.writeEnum},mru_index:{n:13,br:l.d.readUint32,bw:l.h.writeUint32},rt_recent_activity_time:{n:14,d:0,br:l.d.readUint32,bw:l.h.writeUint32},minutes_playtime_forever:{n:16,d:0,br:l.d.readUint32,bw:l.h.writeUint32},minutes_playtime_last_two_weeks:{n:17,d:0,br:l.d.readUint32,bw:l.h.writeUint32},rt_last_time_played:{n:18,d:0,br:l.d.readUint32,bw:l.h.writeUint32},store_tag:{n:19,r:!0,q:!0,br:l.d.readUint32,bw:l.h.writeRepeatedUint32},association:{n:20,c:h,r:!0,q:!0},store_category:{n:23,r:!0,q:!0,br:l.d.readUint32,bw:l.h.writeRepeatedUint32},rt_original_release_date:{n:25,d:0,br:l.d.readUint32,bw:l.h.writeUint32},rt_steam_release_date:{n:26,d:0,br:l.d.readUint32,bw:l.h.writeUint32},icon_hash:{n:27,br:l.d.readString,bw:l.h.writeString},logo_hash:{n:30,br:l.d.readString,bw:l.h.writeString},controller_support:{n:31,br:l.d.readEnum,bw:l.h.writeEnum},vr_supported:{n:32,br:l.d.readBool,bw:l.h.writeBool},metacritic_score:{n:36,br:l.d.readUint32,bw:l.h.writeUint32},size_on_disk:{n:37,br:l.d.readUint64String,bw:l.h.writeUint64String},third_party_mod:{n:38,br:l.d.readBool,bw:l.h.writeBool},icon_data:{n:39,br:l.d.readString,bw:l.h.writeString},icon_data_format:{n:40,br:l.d.readString,bw:l.h.writeString},gameid:{n:41,br:l.d.readString,bw:l.h.writeString},library_capsule_filename:{n:42,br:l.d.readString,bw:l.h.writeString},per_client_data:{n:43,c:f,r:!0,q:!0},most_available_clientid:{n:44,br:l.d.readUint64String,bw:l.h.writeUint64String},selected_clientid:{n:45,br:l.d.readUint64String,bw:l.h.writeUint64String},rt_store_asset_mtime:{n:46,br:l.d.readUint32,bw:l.h.writeUint32},rt_custom_image_mtime:{n:47,br:l.d.readUint32,bw:l.h.writeUint32},optional_parent_app_id:{n:48,br:l.d.readUint32,bw:l.h.writeUint32},owner_account_id:{n:49,br:l.d.readUint32,bw:l.h.writeUint32},compat_mapping_enabled:{n:50,br:l.d.readBool,bw:l.h.writeBool},compat_mapping_priority:{n:51,br:l.d.readUint32,bw:l.h.writeUint32},compat_mapping_tool_name:{n:52,br:l.d.readString,bw:l.h.writeString},review_score_with_bombs:{n:53,br:l.d.readUint32,bw:l.h.writeUint32},review_percentage_with_bombs:{n:54,br:l.d.readUint32,bw:l.h.writeUint32},review_score_without_bombs:{n:55,br:l.d.readUint32,bw:l.h.writeUint32},review_percentage_without_bombs:{n:56,br:l.d.readUint32,bw:l.h.writeUint32},library_id:{n:57,br:l.d.readString,bw:l.h.writeString},vr_only:{n:58,br:l.d.readBool,bw:l.h.writeBool},mastersub_appid:{n:59,br:l.d.readUint32,bw:l.h.writeUint32},mastersub_includedwith_logo:{n:60,br:l.d.readString,bw:l.h.writeString},compat_allowlist_setting:{n:61,d:0,br:l.d.readUint32,bw:l.h.writeUint32},site_license_site_name:{n:62,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CAppOverview"},r}(u),v=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.app_overview||l.a(r.M()),u.initialize(t,e,0,-1,[1,2],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{app_overview:{n:1,c:_,r:!0,q:!0},removed_appid:{n:2,r:!0,q:!0,br:l.d.readUint32,bw:l.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CAppOverview_Change"},r}(u),g=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),u.initialize(t,e,0,-1,[3],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},hidden:{n:2,br:l.d.readBool,bw:l.h.writeBool},user_tag:{n:3,r:!0,q:!0,br:l.d.readString,bw:l.h.writeRepeatedString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CAppBootstrapData"},r}(u),y=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.app_data||l.a(r.M()),u.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{app_data:{n:1,c:g,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLibraryBootstrapData"},r}(u),w=n("r64O"),R=n("TLQK"),S=n("bDQf"),E=n("bxiW"),A=n("lkRc"),B=n("Fq2z"),I=function(){return function(){}}(),T=function(){return function(){this.trackInfo=new Map}}(),M=function(){return function(){}}(),N=function(){function e(e,t){var n;this.m_nAppID=e,t&&(n="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/apps/"+e+"/",t.strCoverImageAssetURL?this.m_strCoverImageAssetURL=n+t.strCoverImageAssetURL+".jpg":2==A.c.EUNIVERSE?this.m_strCoverImageAssetURL="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/apps/1195650/2aa7c5a47c2771c379d3481b2f9844c85d7b92c7.jpg":1==A.c.EUNIVERSE&&(this.m_strCoverImageAssetURL="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/apps/1195650/246e7e2a24c0aa965e505ac510d4e8e952f9a88a.jpg"),this.m_nTotalTrackCount=t.tracks.length,this.m_nTotalDurationSeconds=t.tracks.reduce(function(e,t){return e+t.durationSeconds},0),this.m_Metadata=new M,this.m_Metadata.m_strArtist=t.metadata.artist,this.m_vecAdditionalImageAssetURLs=t.vecAdditionalImageAssetURLs.map(function(e){return n+e+".jpg"}),this.m_DiscInfo=this.ConvertLinearTrackListIntoStructuredDiscs(t))}return e.prototype.ConvertLinearTrackListIntoStructuredDiscs=function(e){var t=new Map;return Array.from(new Set(e.tracks.map(function(e){return e.discNumber}))).forEach(function(n){var r=new T;e.tracks.forEach(function(e){var t;e.discNumber==n&&((t=new I).displayName=e.trackDisplayName,t.durationSeconds=e.durationSeconds,r.trackInfo.set(e.trackNumber,t))}),t.set(n,r)}),t},e}(),L=new(function(){function e(){this.m_mapSoundtrackDetailsData=new Map}return e.prototype.GetSoundtrackDetails=function(e){return this.m_mapSoundtrackDetailsData.has(e)||(this.m_mapSoundtrackDetailsData.set(e,new N(e,null)),this.FetchSoundtrackDetails(e)),this.m_mapSoundtrackDetailsData.get(e)},e.prototype.FetchSoundtrackDetails=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,SteamClient.Apps.GetSoundtrackDetails(n)];case 1:return t=e.sent(),this.m_mapSoundtrackDetailsData.set(n,new N(n,t)),[2]}})})},Object(j.c)([O.observable.shallow],e.prototype,"m_mapSoundtrackDetailsData",void 0),e}()),k=n("mgoM"),F=n("vDqi"),P=n.n(F),G=n("H7XF"),U=n("75qM"),x=n("bxBv"),z=n("NtSG"),H=n("kLLr"),W=n("mC9v"),V=n("2ErG"),q=(n("RD/U"),c.Message),Y=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.client_request_timestamp||l.a(r.M()),q.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{client_request_timestamp:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientServerTimestampRequest"},r}(q),Q=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.client_request_timestamp||l.a(r.M()),q.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{client_request_timestamp:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},server_timestamp_ms:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientServerTimestampResponse"},r}(q),Z=(c.Message,c.Message);var K=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.server_types_available||l.a(r.M()),Z.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{server_types_available:{n:1,c:J,r:!0,q:!0},server_type_for_auth_services:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientServersAvailable"},r}(Z),J=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.server||l.a(r.M()),Z.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{server:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},changed:{n:2,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientServersAvailable_Server_Types_Available"},r}(Z),X=n("qiKp");var $=function(){function e(e){void 0===e&&(e=!1),this.m_bRunOnce=!1,this.m_ClientConnectionCallbacks=new X.a,this.m_mapServerTypeCallbacks=new Map,this.m_bRunOnce=e}return e.prototype.RunCallbacks=function(e,t){void 0===e?(this.m_ClientConnectionCallbacks.Dispatch(t),this.m_bRunOnce&&this.m_ClientConnectionCallbacks.ClearAllCallbacks()):this.m_mapServerTypeCallbacks.has(e)&&(this.m_mapServerTypeCallbacks.get(e).Dispatch(),this.m_bRunOnce&&this.m_mapServerTypeCallbacks.delete(e))},e.prototype.RunAllCallbacks=function(e,t){var n=this;this.RunCallbacks(void 0,t),e.forEach(function(e){return n.RunCallbacks(e,t)})},e.prototype.AddCallback=function(e,t){var n=this.m_ClientConnectionCallbacks;return void 0!==t&&(this.m_mapServerTypeCallbacks.has(t)||this.m_mapServerTypeCallbacks.set(t,new X.a),n=this.m_mapServerTypeCallbacks.get(t)),n.Register(e)},e}();function ee(e,t){return function(){try{e()}catch(e){console.error("Error in "+t+" callback:",e)}}}var te=function(){function e(){var o=this;this.m_steamid=new H.a,this.m_bLoggedOn=!1,this.m_bCompletedInitialConnect=!1,this.m_unAccountFlags=0,this.m_strIPCountry="",this.m_strPersonaName="",this.m_steamidLastLoggedOn=new H.a,this.m_bConnected=!1,this.m_bConnectionFailed=!1,this.m_setConnectedServers=new Set,this.m_callbacksOnConnectOneTime=new $(!0),this.m_callbacksOnConnect=new $,this.m_callbacksOnDisconnect=new $,this.m_bForceDisconnect=!1,this.m_bPerformedInitialClockAdjustment=!1,this.m_nWallClockDriftMS=0,this.m_nPerfClockServerMSOffset=(new Date).getTime()-performance.now(),this.ClientServersAvailableHandler=ie(5501,K,function(e){for(var t=new Set(o.m_setConnectedServers),n=0,r=e.Body().server_types_available();n<r.length;n++){var i=r[n],a=i.server();void 0!==a&&(o.m_bLoggedOn&&(o.m_setConnectedServers.has(a)&&!i.changed()||(i.changed()&&o.m_setConnectedServers.has(a)&&o.m_callbacksOnDisconnect.RunCallbacks(a),o.m_callbacksOnConnect.RunCallbacks(a),o.m_callbacksOnConnectOneTime.RunCallbacks(a))),o.m_setConnectedServers.add(a),t.delete(a))}t.forEach(function(e){o.m_setConnectedServers.delete(e),o.m_bLoggedOn&&o.m_callbacksOnDisconnect.RunCallbacks(e)})}),this.m_ServiceTransport={SendMsg:function(e,t,n){return t.SetEMsg(151),t.Hdr().set_target_job_name(e),o.SendMsgAndAwaitResponse(t,n)},SendNotification:function(e,t){return t.SetEMsg(151),t.Hdr().set_target_job_name(e),o.Send(t)}},window&&window.addEventListener&&window.addEventListener("unload",function(e){o.ForceDisconnect()})}return Object.defineProperty(e.prototype,"steamid",{get:function(){return this.m_steamidLastLoggedOn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logged_on",{get:function(){return this.m_bLoggedOn},enumerable:!1,configurable:!0}),e.prototype.BDisconnected=function(){return!this.logged_on&&this.m_steamidLastLoggedOn.BIsValid()},e.prototype.BConnectedToServer=function(e){return void 0===e?this.m_bLoggedOn:this.m_setConnectedServers.has(e)},Object.defineProperty(e.prototype,"has_completed_initial_connect",{get:function(){return this.m_bCompletedInitialConnect},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"account_flags",{get:function(){return this.m_unAccountFlags},enumerable:!1,configurable:!0}),e.prototype.GetServiceTransport=function(){return this.m_ServiceTransport},e.prototype.GetAnonymousServiceTransport=function(){return this.m_ServiceTransport},e.prototype.RunWhenLoggedOn=function(e,t){var n=ee(e,"RunWhenLoggedOn");this.BConnectedToServer(t)?n():this.m_callbacksOnConnectOneTime.AddCallback(n,t)},e.prototype.WaitUntilLoggedOn=function(){var t=this;return new Promise(function(e){return t.RunWhenLoggedOn(e)})},e.prototype.AddOnLogonCallback=function(e,t){var n=ee(e,"AddOnLogonCallback");return this.BConnectedToServer(t)&&n(),this.m_callbacksOnConnect.AddCallback(n,t)},e.prototype.AddOnDisconnectCallback=function(e,t){var n,r,i=(n=e,r="AddOnDisconnectCallback",function(e){try{n(e)}catch(e){console.error("Error in "+r+" callback:",e)}});this.m_callbacksOnDisconnect.AddCallback(i,t)},e.prototype.ForceDisconnect=function(){this.m_bForceDisconnect=!0,this.Disconnect()},e.prototype.Send=function(e){return!!this.BIsConnected()&&(this.DEBUG_LogCMInterfaceActivity(e,"send"),this.SendInternal(e))},e.prototype.BInternalShouldDispatchMessage=function(e){return!0},e.prototype.ResolveAwaitWithTransportError=function(e,t,n,r){var i=x.b.Init(t);i.Hdr().set_eresult(2),i.Hdr().set_transport_error(n),r&&i.Hdr().set_error_message(r),e(i)},e.prototype.DispatchMessage=function(t){var n=this;try{if(!this.BInternalShouldDispatchMessage(t))return;t.BIsValid()?re.DispatchMsgToHandlers(t,function(e){e.Hdr().set_jobid_target(t.Hdr().jobid_source()),n.Send(e)})||this.DEBUG_LogCMInterfaceActivity(t,"receive",!1):console.error("CMInterface RECV could not parse message of type "+Object(z.a)(t.GetEMsg())+" "+t.GetEMsg())}catch(e){console.error("CMInterface RECV exception thrown while processing message of type "+Object(z.a)(t.GetEMsg()),e),t.DEBUG_LogToConsole()}},e.prototype.BIsConnected=function(){return this.m_bConnected},e.prototype.OnConnect=function(){this.m_bConnected=!0,this.m_bConnectionFailed=!1,this.m_bForceDisconnect=!1},e.prototype.OnLoggedOn=function(){this.m_bCompletedInitialConnect=!0,this.InternalAdjustClock(),this.m_callbacksOnConnect.RunAllCallbacks(this.m_setConnectedServers),this.m_callbacksOnConnectOneTime.RunAllCallbacks(this.m_setConnectedServers)},e.prototype.OnDisconnect=function(){this.m_bConnected;this.m_bConnected=!1,this.m_bConnectionFailed=!0,this.m_onConnect=void 0,this.m_steamid=new H.a,this.m_bLoggedOn=!1,this.m_unAccountFlags=0,this.m_strIPCountry="",this.m_strPersonaName="",this.m_callbacksOnDisconnect.RunAllCallbacks(this.m_setConnectedServers,this.m_bForceDisconnect),this.m_setConnectedServers.clear()},e.prototype.DEBUG_LogCMInterfaceActivity=function(e,t,n){void 0===n&&(n=!0)},e.prototype.DEBUG_LogMessage=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e.prototype.InternalAdjustClock=function(){return Object(j.b)(this,void 0,void 0,function(){var t,a=this;return Object(j.e)(this,function(e){return(t=x.b.Init(Y,9802)).Body().set_client_request_timestamp(Math.floor(performance.now()).toString()),[2,this.SendMsgAndAwaitResponse(t,Q).then(function(e){var t=performance.now(),n=new Date,r=parseInt(e.Body().client_request_timestamp()),i=parseInt(e.Body().server_timestamp_ms())-(t-r>>1);return i&&!isNaN(i)&&t&&!isNaN(t)?(a.m_bPerformedInitialClockAdjustment=!0,a.m_nPerfClockServerMSOffset=i-t,a.m_nWallClockDriftMS=n.getTime()-i):Object(w.a)(!1,"Error computing server time, server echo: "+r+" server time "+i),!0})]})})},e.prototype.BPerformedInitialClockAdjustment=function(){return this.m_bPerformedInitialClockAdjustment},e.prototype.GetServerTimeMS=function(){return performance.now()+this.m_nPerfClockServerMSOffset},e.prototype.GetServerRTime32=function(){return Math.floor((performance.now()+this.m_nPerfClockServerMSOffset)/1e3)},e.prototype.RTime32ToDate=function(e){return new Date(1e3*e+this.m_nWallClockDriftMS)},Object(j.c)([O.observable],e.prototype,"m_steamid",void 0),Object(j.c)([O.observable],e.prototype,"m_bLoggedOn",void 0),Object(j.c)([O.observable],e.prototype,"m_bCompletedInitialConnect",void 0),Object(j.c)([O.observable],e.prototype,"m_unAccountFlags",void 0),Object(j.c)([O.observable],e.prototype,"m_strIPCountry",void 0),Object(j.c)([O.observable],e.prototype,"m_strPersonaName",void 0),Object(j.c)([O.observable],e.prototype,"m_steamidLastLoggedOn",void 0),Object(j.c)([O.observable],e.prototype,"m_bPerformedInitialClockAdjustment",void 0),Object(j.c)([O.action],e.prototype,"DispatchMessage",null),Object(j.c)([O.action],e.prototype,"OnDisconnect",null),e}(),ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_setEMsgHandlers=new Set,e.m_setServiceMethodHandlers=new Set,e}return Object(j.d)(e,t),e.prototype.SendMsgAndAwaitResponse=function(n,i){var a=this;return new Promise(function(r,e){var t;a.m_hSharedConnection&&(a.DEBUG_LogCMInterfaceActivity(n,"send"),t=G.fromByteArray(n.Serialize()),void 0!==SteamClient.SharedConnection.SendMsgAndAwaitBinaryResponse?SteamClient.SharedConnection.SendMsgAndAwaitBinaryResponse(a.m_hSharedConnection,t).then(function(e){var t=new W.b(e),n=x.b.InitFromPacket(i,t);a.DEBUG_LogCMInterfaceActivity(n,"receive",!0),n.BIsValid()?r(n):a.ResolveAwaitWithTransportError(r,i,102,"Failed to parse response from server")}).catch(function(e){a.ResolveAwaitWithTransportError(r,i,2,e)}):SteamClient.SharedConnection.SendMsgAndAwaitResponse(a.m_hSharedConnection,t).then(function(e){var t=new W.b(G.toByteArray(e)),n=x.b.InitFromPacket(i,t);a.DEBUG_LogCMInterfaceActivity(n,"receive",!0),n.BIsValid()?r(n):a.ResolveAwaitWithTransportError(r,i,102,"Failed to parse response from server")}).catch(function(e){a.ResolveAwaitWithTransportError(r,i,2,e)}))})},e.prototype.SendInternal=function(e){var t=G.fromByteArray(e.Serialize());return SteamClient.SharedConnection.SendMsg(this.m_hSharedConnection,t),!0},e.prototype.OnMsgRecvd=function(e){var t=new W.b(e),n=x.a.InitHeaderFromPacket(t);this.DispatchMessage(n)},e.prototype.OnLogonInfoChanged=function(e){this.DEBUG_LogMessage("Login info from client: ",e),this.m_bLoggedOn=e.bLoggedOn,A.c.EUNIVERSE=e.eUniverse,A.c.MEDIA_CDN_COMMUNITY_URL=e.strCommunityImagesURL,e.strSteamid?(this.m_steamid=new H.a(e.strSteamid),this.m_steamidLastLoggedOn=this.m_steamid,A.h.logged_in=!0,A.h.steamid=e.strSteamid,A.h.accountid=this.m_steamid.GetAccountID(),A.h.account_name=e.strAccountName):0!=this.m_steamid.GetAccountID()&&(this.m_steamid=new H.a),this.m_bLoggedOn?(this.m_bConnected||this.OnConnect(),this.OnLoggedOn()):this.OnDisconnect()},e.prototype.Connect=function(){var r=this;return this.m_hSharedConnection?Promise.resolve():this.m_onConnect=new Promise(function(t,n){SteamClient.SharedConnection.AllocateSharedConnection().then(function(e){e?(r.OnSharedConnectionEstablished(e),r.DEBUG_LogMessage("obtained handle ",r.m_hSharedConnection),r.OnConnect(),t()):n()}).catch(n)})},e.prototype.OnSharedConnectionEstablished=function(e){var o=this;this.m_hSharedConnection=e,this.m_setEMsgHandlers.clear(),this.m_setServiceMethodHandlers.clear(),this.m_hEMsgRegistrationObserver&&this.m_hEMsgRegistrationObserver(),this.m_hEMsgRegistrationObserver=Object(O.autorun)(function(){if(o.m_hSharedConnection){for(var e=0,t=re.emsg_list;e<t.length;e++){var n=t[e];o.m_setEMsgHandlers.has(n)||(o.m_setEMsgHandlers.add(n),SteamClient.SharedConnection.SubscribeToEMsg(o.m_hSharedConnection,n))}for(var r=0,i=re.servicemethod_list;r<i.length;r++){var a=i[r];o.m_setServiceMethodHandlers.has(a)||(o.m_setServiceMethodHandlers.add(a),SteamClient.SharedConnection.SubscribeToClientServiceMethod(o.m_hSharedConnection,a))}}});var t=!1;SteamClient.SharedConnection.RegisterOnLogonInfoChanged(this.m_hSharedConnection,function(e){o.OnLogonInfoChanged(e),t||(t=!0,void 0!==SteamClient.SharedConnection.RegisterOnBinaryMessageReceived?SteamClient.SharedConnection.RegisterOnBinaryMessageReceived(o.m_hSharedConnection,o.OnMsgRecvd.bind(o)):SteamClient.SharedConnection.RegisterOnMessageReceived(o.m_hSharedConnection,function(e){return o.OnMsgRecvd(G.toByteArray(e))}))})},e.prototype.OnConnect=function(){t.prototype.OnConnect.call(this)},e.prototype.Disconnect=function(){var e;this.m_hSharedConnection&&((e=x.b.Init(V.a,716)).Body().set_persona_state(0),e.Body().set_persona_set_by_user(!1),this.Send(e),SteamClient.SharedConnection.Close(this.m_hSharedConnection),this.OnSharedConnectionClosed())},e.prototype.OnSharedConnectionClosed=function(){t.prototype.OnDisconnect.call(this),this.m_hSharedConnection=void 0,this.m_setEMsgHandlers.clear(),this.m_hEMsgRegistrationObserver&&(this.m_hEMsgRegistrationObserver(),this.m_hEMsgRegistrationObserver=void 0)},e.prototype.SendHeartbeat=function(){},e.prototype.ClearHeartbeatInterval=function(){},e.prototype.ResetHeartbeatInterval=function(){},Object(j.c)([O.action],e.prototype,"OnLogonInfoChanged",null),e}(te);n("16wW");var re=new(function(){function e(){this.m_mapCallbacks=new Map,this.m_rgRegisteredEMsgs=[],this.m_mapServiceMethodHandlers=new Map,this.m_rgRegisteredServiceMethodHandlers=[]}return e.prototype.DispatchMsgToHandlers=function(e,t){var n=e.GetEMsg();if(146==n){var r,i=e.Hdr().target_job_name();if(i)if(r=this.m_mapServiceMethodHandlers.get(i)){this.DEBUG_LogMessageDispatch(e,r[0]);for(var a=0,o=r;a<o.length;a++){o[a].invoke(e,t)}return!0}}else{if(r=this.m_mapCallbacks.get(n)){this.DEBUG_LogMessageDispatch(e,r[0]);for(var s=0,c=r;s<c.length;s++){c[s].invoke(e)}return!0}}return!1},e.prototype.DEBUG_LogMessageDispatch=function(e,t){},Object.defineProperty(e.prototype,"emsg_list",{get:function(){return this.m_rgRegisteredEMsgs},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"servicemethod_list",{get:function(){return this.m_rgRegisteredServiceMethodHandlers},enumerable:!1,configurable:!0}),e.prototype.AddCallback=function(n,e,r){var i=this,t=this.m_mapCallbacks.get(n);return t||(t=[],this.m_mapCallbacks.set(n,t),this.m_rgRegisteredEMsgs.push(n)),t.push({invoke:r,msgClass:e}),{invoke:r,unregister:function(){var e=i.m_mapCallbacks.get(n);if(e)for(var t=0;t<e.length;t++)e[t].invoke==r&&(e.splice(t,1),t--)}}},e.prototype.AddServiceMethodHandler=function(o,s){function n(e,t){function n(e){i.Hdr().set_eresult(e),t(i)}var r=x.b.InitFromMsg(o.request,e),i=x.b.Init(o.response,147),a=s(r,i);a instanceof Promise?a.then(n).catch(function(){n(2)}):n(a)}var r=this;return this.m_mapServiceMethodHandlers.has(o.name)?console.error("Duplicate registration for method "+o.name):(this.m_mapServiceMethodHandlers.set(o.name,[{invoke:n,msgClass:o.request}]),this.m_rgRegisteredServiceMethodHandlers.push(o.name)),{invoke:n,unregister:function(){var e=r.m_mapServiceMethodHandlers.get(o.name);if(e)for(var t=0;t<e.length;t++)e[t].invoke==n&&(e.splice(t,1),t--)}}},e.prototype.AddServiceNotificationHandler=function(r,i){function n(e,t){var n=x.b.InitFromMsg(r.request,e);i(n)}var a=this,e=this.m_mapServiceMethodHandlers.get(r.name);return e||(e=[],this.m_mapServiceMethodHandlers.set(r.name,e),this.m_rgRegisteredServiceMethodHandlers.push(r.name)),e.push({invoke:n,msgClass:r.request}),{invoke:n,unregister:function(){var e=a.m_mapServiceMethodHandlers.get(r.name);if(e)for(var t=0;t<e.length;t++)e[t].invoke==n&&(e.splice(t,1),t--)}}},Object(j.c)([O.observable],e.prototype,"m_rgRegisteredEMsgs",void 0),Object(j.c)([O.observable],e.prototype,"m_rgRegisteredServiceMethodHandlers",void 0),e}());function ie(e,t,n){return re.AddCallback(e,t,function(e){Object(O.runInAction)(function(){n(x.b.InitFromMsg(t,e))})})}function ae(e,n){return re.AddServiceNotificationHandler(e,function(e){var t;return Object(O.runInAction)(function(){t=n(e)}),t})}var oe,se,ce,le=c.Message,ue=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.key||l.a(r.M()),le.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{key:{n:1,br:l.d.readString,bw:l.h.writeString},is_deleted:{n:2,br:l.d.readBool,bw:l.h.writeBool},value:{n:3,br:l.d.readString,bw:l.h.writeString},timestamp:{n:4,br:l.d.readFixed32,bw:l.h.writeFixed32},version:{n:5,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCloudConfigStore_Entry"},r}(le),pe=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.enamespace||l.a(r.M()),le.initialize(t,e,0,-1,[3],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{enamespace:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},version:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},entries:{n:3,c:ue,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCloudConfigStore_NamespaceData"},r}(le),de=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.enamespace||l.a(r.M()),le.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{enamespace:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},version:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCloudConfigStore_NamespaceVersion"},r}(le),me=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.versions||l.a(r.M()),le.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{versions:{n:1,c:de,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCloudConfigStore_Download_Request"},r}(le),he=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.data||l.a(r.M()),le.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{data:{n:1,c:pe,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCloudConfigStore_Download_Response"},r}(le),fe=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.data||l.a(r.M()),le.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{data:{n:1,c:pe,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCloudConfigStore_Upload_Request"},r}(le),be=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.versions||l.a(r.M()),le.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{versions:{n:1,c:de,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCloudConfigStore_Upload_Response"},r}(le),_e=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.versions||l.a(r.M()),le.initialize(t,e,0,-1,[2],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{versions:{n:2,c:de,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCloudConfigStore_Change_Notification"},r}(le);(se=oe=oe||{}).Download=function(e,t){return e.SendMsg("CloudConfigStore.Download#1",t,he,{bConstMethod:!0,ePrivilege:1})},se.Upload=function(e,t){return e.SendMsg("CloudConfigStore.Upload#1",t,be,{ePrivilege:1})},(ce=ce||{}).NotifyChangeHandler={name:"CloudConfigStoreClient.NotifyChange#1",request:_e};var ve="cloud-storage-namespaces",ge="cloud-storage-namespace-",ye="no-version";function Se(e){return ge+e+".modified"}var we,Ce,Oe,Ee,Be=function(){function e(e,t,n,r,i,a){this.key=e,this.timestamp=t,Object(w.a)(n!=!!r,"Should only set bIsDeleted true XOR strValue."),Object(w.a)(i==Oe.CustomMethod==!!a,"Must include a resolution method ID if and only if selecting EConflictResolutionMethod.CustomMethod."),n?this.is_deleted=!0:this.value=r,i&&(this.conflictResolutionMethod=i)==Oe.CustomMethod&&(this.strMethodId=a)}return e.FromObject=function(t){if(t.key&&t.timestamp&&(t.is_deleted||t.value))try{return new e(t.key,t.timestamp,t.is_deleted,t.value,t.conflictResolutionMethod,t.strMethodId)}catch(e){console.warn("Could not parse CStorageEntry from:",t,e)}return null},e.prototype.ToProto=function(){var e=new ue;return e.set_key(this.key),e.set_timestamp(this.timestamp),this.is_deleted?e.set_is_deleted(!0):e.set_value(this.value),e},e}(),Ae=function(){function e(){this.m_nLatestEntryTimestamp=0,this.m_nRequestFailures=0,this.m_mapNamespaces=new Map,this.m_mapFirstSyncPromiseResolvers=new Map,this.m_mapStorage=new Map,this.m_mapDirtyKeys=new Map,this.m_mapCustomConflictResolutionMethods=new Map}return e.prototype.Init=function(v){return Object(j.b)(this,void 0,void 0,function(){var r,i,a,o,s,c,l,u,p,d,m,h,f,b,_;return Object(j.e)(this,function(e){switch(e.label){case 0:this.m_CMInterface=v,e.label=1;case 1:return e.trys.push([1,8,,9]),[4,Re(ve)];case 2:r=e.sent()||[],i=0,a=r,e.label=3;case 3:return i<a.length?(o=a[i],s=o[0],c=o[1],this.m_mapNamespaces.set(s,c),l=O.observable.map([],{deep:!1}),this.m_mapStorage.set(s,l),[4,Re(ge+s)]):[3,7];case 4:for(u=e.sent()||[],p=0,d=u;p<d.length;p++)h=(m=d[p])[0],f=m[1],(b=Be.FromObject(f))?(l.set(h,b),this.m_nLatestEntryTimestamp=Math.max(this.m_nLatestEntryTimestamp,b.timestamp)):console.error("Could not parse storage entry for "+s+" / "+h+"; skipping.");return[4,Re(Se(s))];case 5:_=e.sent()||[],this.m_mapDirtyKeys.set(s,new Set(_)),console.log("CloudStorage resuming with "+l.size+" entries ("+_.length+" modified) for namespace "+s),e.label=6;case 6:return i++,[3,3];case 7:return[3,9];case 8:return e.sent(),console.log("CloudStorage initializing from scratch."),[3,9];case 9:return v.AddOnLogonCallback(this.OnConnect),t=ce.NotifyChangeHandler,n=this.OnChangeNotification,re.AddServiceNotificationHandler(t,n),[2]}var t,n})})},e.prototype.RegisterCustomConflictResolutionMethod=function(e,t){Object(w.a)(!this.m_mapCustomConflictResolutionMethods.has(e),"Duplicate registration of conflict resolution method '"+e+"'."),this.m_mapCustomConflictResolutionMethods.set(e,t)},e.prototype.OnConnect=function(){var e=this.m_nLastSuccessfulSyncTime?"reconnect":0<this.m_mapNamespaces.size?"reload":"new";SteamClient.Stats.RecordActivationEvent("CloudStorage.Download",e),this.ScheduleDownload()},e.prototype.OnChangeNotification=function(e){for(var t=!1,n=0,r=e.Body().versions();n<r.length;n++){var i=r[n];this.m_mapNamespaces.get(i.enamespace())==i.version()?SteamClient.Stats.RecordActivationEvent("CloudStorage.Notification","ignored"):(SteamClient.Stats.RecordActivationEvent("CloudStorage.Notification","useful"),t=!0)}return t&&(SteamClient.Stats.RecordActivationEvent("CloudStorage.Download","notified"),this.ScheduleDownload(0)),1},e.prototype.EnsureSubscribedToNamespace=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_mapNamespaces.has(n)?[3,2]:(this.m_mapNamespaces.set(n,ye),[4,Te(ve,Array.from(this.m_mapNamespaces))]);case 1:if(1!=(t=e.sent()))return this.m_mapNamespaces.delete(n),[2,t];this.m_mapStorage.set(n,O.observable.map([],{deep:!1})),this.m_mapDirtyKeys.set(n,new Set),SteamClient.Stats.RecordActivationEvent("CloudStorage.Download","added-namespace"),this.ScheduleDownload(0),e.label=2;case 2:return this.m_mapNamespaces.get(n)!=ye?[3,4]:[4,this.WaitForSync(n)];case 3:e.sent(),e.label=4;case 4:return[2,1]}})})},e.prototype.WaitForSync=function(n){return Object(j.b)(this,void 0,void 0,function(){var t=this;return Object(j.e)(this,function(e){return[2,new Promise(function(e){t.m_mapFirstSyncPromiseResolvers.has(n)||(t.m_mapFirstSyncPromiseResolvers.set(n,[]),window.setTimeout(function(){t.m_mapNamespaces.get(n)==ye&&t.m_mapNamespaces.set(n,"0"),t.NotifySyncPromises(n,1)},1e4)),t.m_mapFirstSyncPromiseResolvers.get(n).push(e)})]})})},e.prototype.NotifySyncPromises=function(n,r){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){return(t=this.m_mapFirstSyncPromiseResolvers.get(n))&&(this.m_mapFirstSyncPromiseResolvers.delete(n),t.forEach(function(e){return e(r)})),[2]})})},e.prototype.WriteNamespaceToDisk=function(i,a){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,Te(Se(i),Array.from(this.m_mapDirtyKeys.get(i)))];case 1:return(t=e.sent(),a&&1==t)?(n=ge+i,r=Array.from(this.m_mapStorage.get(i)).map(function(e){var t=e[0],n=e[1];return[t,Object(O.toJS)(n)]}),[2,Te(n,r,3145728)]):[2,t]}})})},e.prototype.WriteNamespacesToDisk=function(r,i){return Object(j.b)(this,void 0,void 0,function(){var t,n=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=[],r.forEach(function(e){t.push(n.WriteNamespaceToDisk(e,i))}),[4,Promise.all(t)];case 1:return e.sent().some(function(e){return 1!=e})?[2,32]:[2,Te(ve,Array.from(this.m_mapNamespaces))]}})})},e.prototype.StoreEntry=function(i,a){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=this.m_mapStorage.get(i),n=t.get(a.key),1e4<=t.size&&n)?(SteamClient.Stats.RecordActivationEvent("CloudStorage.StoreEntry_Failure",54..toString()),[2,54]):(t.set(a.key,a),this.m_mapDirtyKeys.get(i).add(a.key),[4,this.WriteNamespaceToDisk(i,!0)]);case 1:return 1==(r=e.sent())?(SteamClient.Stats.RecordActivationEvent("CloudStorage.Upload","write"),SteamClient.Stats.RecordActivationEvent("CloudStorage.Upload","prefix-"+a.key.slice(0,12)),this.ScheduleUpload()):(n&&t.set(a.key,n),SteamClient.Stats.RecordActivationEvent("CloudStorage.StoreEntry_Failure",r.toString())),[2,r]}})})},e.prototype.Upsert=function(n,r,i,a,o){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){return t=new Be(r,this.GetCurrentTimestamp(),!1,i,a,o),[2,this.StoreEntry(n,t)]})})},e.prototype.Delete=function(n,r,i,a){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){return t=new Be(r,this.GetCurrentTimestamp(),!0,null,i,a),[2,this.StoreEntry(n,t)]})})},e.prototype.Get=function(e,t){var n=this.m_mapStorage.get(e).get(t);return n&&!n.is_deleted?n.value:null},e.prototype.GetByPrefix=function(e,n){var r=new Map,i=this.m_mapStorage.get(e);return Array.from(i.keys()).forEach(function(e){var t;e.startsWith(n)&&((t=i.get(e)).is_deleted||r.set(e,t.value))}),r},e.prototype.ScheduleDownload=function(e){this.m_CMInterface.BConnectedToServer()&&(this.m_downloadTimer||(0<this.m_nRequestFailures?e=5e3*Math.pow(4,this.m_nRequestFailures-1)*(.5+Math.random()):this.m_nLastSuccessfulSyncTime?void 0===e&&(e=18e5*(2*Math.random())):e=0,this.m_downloadTimer=window.setTimeout(this.DownloadFromServer,e)))},e.prototype.ScheduleUpload=function(e){this.m_nLastSuccessfulSyncTime&&(this.m_uploadTimer||(0<this.m_nRequestFailures&&(e=5e3*Math.pow(4,this.m_nRequestFailures-1)*(.5+Math.random())),void 0===e&&(e=2e3),this.m_uploadTimer=window.setTimeout(this.UploadToServer,e)))},e.prototype.DownloadFromServer=function(){return Object(j.b)(this,void 0,void 0,function(){var r,t,n,i,a,o,s,c,l,u,p,d,m,h,f,b,_,v,g;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_downloadTimer=null,r=x.b.Init(me),this.m_mapNamespaces.forEach(function(e,t){var n=r.Body().add_versions();n.set_enamespace(t),n.set_version(e==ye?"0":e)}),[4,oe.Download(this.m_CMInterface.GetServiceTransport(),r)];case 1:if(t=e.sent(),n=t.GetEResult(),i=new Set,1==n){for(a=0,o=t.Body().data();a<o.length;a++)if(s=o[a],c=s.enamespace(),this.m_mapNamespaces.has(c)&&(l=s.version(),this.m_mapNamespaces.get(c)!=l)){for(u=this.m_mapStorage.get(c),p=this.m_mapDirtyKeys.get(c),d=0,m=s.entries();d<m.length;d++){if(h=m[d],f=new Be(h.key(),h.timestamp(),h.is_deleted(),h.value()),b=f.key,p.has(b)){if(_=u.get(b),v=this.GetConflictResolver(_.conflictResolutionMethod,_.strMethodId),g=v(_,f)){u.set(b,g);continue}p.delete(b)}u.set(b,f)}i.add(c),this.m_mapNamespaces.set(c,l),this.NotifySyncPromises(c,1)}0<i.size&&this.WriteNamespacesToDisk(i,!0),this.m_nLastSuccessfulSyncTime=Date.now(),this.m_nRequestFailures=0,Array.from(this.m_mapDirtyKeys).some(function(e){e[0];return 0<e[1].size})&&(SteamClient.Stats.RecordActivationEvent("CloudStorage.Upload","after-download"),this.ScheduleUpload(0))}return 1!=n&&80!=n&&(this.m_nRequestFailures++,SteamClient.Stats.RecordActivationEvent("CloudStorage.Download","retry"),this.ScheduleDownload()),[2,n]}})})},e.prototype.GetConflictResolver=function(e,t){switch(e){case Oe.InitializationOnly:return function(){return null};case Oe.CustomMethod:var n=t&&this.m_mapCustomConflictResolutionMethods.get(t);if(n)return n;console.error("Missing conflict resolution method ID='"+t+"'");case Oe.LastWriteWins:default:return function(e,t){return e.timestamp>t.timestamp?e:null}}},e.prototype.UploadToServer=function(){return Object(j.b)(this,void 0,void 0,function(){var a,o,t,n,i,r,s,c,l,u,p=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return(this.m_uploadTimer=null,a=0,o=x.b.Init(fe),this.m_mapNamespaces.forEach(function(e,t){var n,r,i=p.m_mapDirtyKeys.get(t);0!=i.size&&((n=o.Body().add_data()).set_enamespace(t),n.set_version(e==ye?"0":e),r=p.m_mapStorage.get(t),i.forEach(function(e){var t=r.get(e);n.add_entries(t.ToProto()),a=Math.max(a,t.timestamp)}))}),0==o.Body().data().length)?(console.warn("Dropping empty upload request."),[2,29]):(this.GetCurrentTimestamp()<=a&&this.m_nLatestEntryTimestamp++,[4,oe.Upload(this.m_CMInterface.GetServiceTransport(),o)]);case 1:if(t=e.sent(),1==(n=t.GetEResult())){for(i=new Set,r=function(e){var t=e.enamespace();s.m_mapNamespaces.set(t,e.version());var n=s.m_mapDirtyKeys.get(t),r=s.m_mapStorage.get(t);n.forEach(function(e){r.get(e).timestamp<=a&&(n.delete(e),i.add(t))}),0<n.size&&(SteamClient.Stats.RecordActivationEvent("CloudStorage.Upload","second-batch"),s.ScheduleUpload())},s=this,c=0,l=t.Body().versions();c<l.length;c++)u=l[c],r(u);0<i.size&&this.WriteNamespacesToDisk(i,!1),this.m_nRequestFailures=0}else 60==n&&(SteamClient.Stats.RecordActivationEvent("CloudStorage.Download","conflict"),this.ScheduleDownload(0));return 1!=n&&(this.m_nRequestFailures++,SteamClient.Stats.RecordActivationEvent("CloudStorage.Upload","retry"),this.ScheduleUpload()),[2,n]}})})},e.prototype.GetCurrentTimestamp=function(){var e=this.m_CMInterface.GetServerRTime32();return e<this.m_nLatestEntryTimestamp?e=this.m_nLatestEntryTimestamp:this.m_nLatestEntryTimestamp=e,e},Object(j.c)([O.action],e.prototype,"Init",null),Object(j.c)([E.a],e.prototype,"OnConnect",null),Object(j.c)([E.a],e.prototype,"OnChangeNotification",null),Object(j.c)([E.a],e.prototype,"ScheduleDownload",null),Object(j.c)([E.a],e.prototype,"DownloadFromServer",null),Object(j.c)([E.a],e.prototype,"GetConflictResolver",null),Object(j.c)([E.a],e.prototype,"UploadToServer",null),e}();(Ce=we=we||{})[Ce.k_EUserConfigStoreNamespaceInvalid=0]="k_EUserConfigStoreNamespaceInvalid",Ce[Ce.k_EUserConfigStoreNamespaceLibrary=1]="k_EUserConfigStoreNamespaceLibrary",(Ee=Oe=Oe||{}).LastWriteWins="last-write",Ee.CustomMethod="custom",Ee.InitializationOnly="initial";var Ie=function(){function e(e,t){this.m_cloudStorage=e,this.m_strKeyPrefix=t}return Object.defineProperty(e.prototype,"mapInternal",{get:function(){var n=new Map,r=this.m_strKeyPrefix.length;return this.m_cloudStorage.GetByPrefix(this.m_strKeyPrefix).forEach(function(e,t){n.set(t.slice(r),e)}),n},enumerable:!1,configurable:!0}),e.prototype.OnChange=function(t){var e=this;Object(O.reaction)(function(){return e.mapInternal},function(e){return t()})},e.prototype.StoreString=function(t,n,r,i){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,this.m_cloudStorage.StoreString(this.m_strKeyPrefix+t,n,r,i)]})})},e.prototype.StoreObject=function(t,n,r,i){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,this.m_cloudStorage.StoreObject(this.m_strKeyPrefix+t,n,r,i)]})})},e.prototype.GetObject=function(e){var t=this.get(e);return t?JSON.parse(t):null},e.prototype.clear=function(n,r){var i=this;this.mapInternal.forEach(function(e,t){return i.m_cloudStorage.RemoveObject(i.m_strKeyPrefix+t,n,r)})},e.prototype.delete=function(e,t,n){return!!this.has(e)&&(this.m_cloudStorage.RemoveObject(this.m_strKeyPrefix+e,t,n),!0)},e.prototype.entries=function(){return this.mapInternal.entries()},e.prototype.forEach=function(e,t){for(var n=0,r=Array.from(this.entries());n<r.length;n++){var i=r[n],a=i[0],o=i[1];e.call(t,o,a,this)}},e.prototype.get=function(e){return this.mapInternal.get(e)},e.prototype.has=function(e){return this.mapInternal.has(e)},e.prototype.keys=function(){return this.mapInternal.keys()},e.prototype.set=function(e,t,n,r){return this.StoreString(e,t,n,r),this},Object.defineProperty(e.prototype,"size",{get:function(){return this.mapInternal.size},enumerable:!1,configurable:!0}),e.prototype.values=function(){return this.mapInternal.values()},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"CCloudStorageMap"},enumerable:!1,configurable:!0}),e.prototype[Symbol.iterator]=function(){return this.entries()},Object(j.c)([Object(O.computed)({keepAlive:!0,equals:O.comparer.structural})],e.prototype,"mapInternal",null),Object(j.c)([O.action],e.prototype,"clear",null),e}(),je=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(o,e),o.ForNamespace=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,o.s_internalState.EnsureSubscribedToNamespace(r)];case 1:if(1!=(t=e.sent()))throw new Error(t.toString());return(n=new o).m_eNamespace=r,[2,n]}})})},o.Init=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return window.cloudStorageInternalState=o.s_internalState,[2,o.s_internalState.Init(t)]})})},o.prototype.Get=function(e){return o.s_internalState.Get(this.m_eNamespace,e)},o.prototype.GetMapForPrefix=function(e){return new Ie(this,e)},o.prototype.GetByPrefix=function(e){return o.s_internalState.GetByPrefix(this.m_eNamespace,e)},o.prototype.GetString=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,this.Get(t)]})})},o.prototype.GetObject=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){return[2,(t=this.Get(n))?JSON.parse(t):null]})})},o.prototype.StoreString=function(n,r,i,a){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,o.s_internalState.Upsert(this.m_eNamespace,n,r,i,a)];case 1:if(1!=(t=e.sent()))throw new Error(t.toString());return[2]}})})},o.prototype.StoreObject=function(t,n,r,i){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,this.StoreString(t,JSON.stringify(n),r,i)]})})},o.prototype.RemoveObject=function(n,r,i){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,o.s_internalState.Delete(this.m_eNamespace,n,r,i)];case 1:if(1!=(t=e.sent()))throw new Error(t.toString());return[2]}})})},o.RegisterCustomConflictResolutionMethod=function(e,t){o.s_internalState.RegisterCustomConflictResolutionMethod(e,t)},o.s_internalState=new Ae,o}(U.a);function De(e){return"U"+A.h.accountid+"-"+e}function Re(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){try{if(t=window.localStorage.getItem(De(n)))return[2,JSON.parse(t)]}catch(e){}return[2,null]})})}function Te(n,r,i){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){return t=JSON.stringify(r),void 0!==i&&i<t.length?[2,54]:(window.localStorage.setItem(De(n),t),[2,1])})})}window.cloudStorage=je.ForNamespace;var Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.GetString=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,SteamClient.RoamingStorage.GetString(t)]})})},t.prototype.StoreString=function(t,n){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,SteamClient.RoamingStorage.SetString(t,n)]})})},t.prototype.RemoveObject=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,SteamClient.RoamingStorage.DeleteKey(t)]})})},t.prototype.GetObject=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,SteamClient.RoamingStorage.GetJSON(n)];case 1:return t=e.sent(),[2,JSON.parse(t)]}})})},t.prototype.StoreObject=function(t,n){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,SteamClient.RoamingStorage.SetObject(t,n)]})})},t}(U.a),Ne={nShowcaseId:-1,strCollectionId:"",eSortBy:1,bExpanded:!1},Le="sc-version",ke=function(){function n(){this.m_roamingStorage=new Me,this.m_mapShowcases=new Map}return n.prototype.Init=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return this.m_cloudStorage=t,this.m_mapCollectionStorage=this.m_cloudStorage.GetMapForPrefix("showcases."),[2,this.LoadShowcases()]})})},n.GetOrderForShowcase=function(e){return null==e.nOrder?e.nShowcaseId:e.nOrder},n.ShowcaseSortFunction=function(e,t){return n.GetOrderForShowcase(t)-n.GetOrderForShowcase(e)},Object.defineProperty(n.prototype,"showcases",{get:function(){return Array.from(this.m_mapShowcases.values()).sort(n.ShowcaseSortFunction)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxShowcases",{get:function(){return 20},enumerable:!1,configurable:!0}),n.prototype.SetSortBy=function(e,t){var n=this.m_mapShowcases.get(e);n&&(n.eSortBy=t,n.nLastChangedMS=Date.now(),this.SaveShowcase(n))},n.prototype.SetCollectionId=function(e,t){var n=this.m_mapShowcases.get(e);n&&(n.strCollectionId=t,n.nLastChangedMS=Date.now(),this.SaveShowcase(n))},n.prototype.SetExpanded=function(e,t){var n=this.m_mapShowcases.get(e);n&&(n.bExpanded=t,n.nLastChangedMS=Date.now(),this.SaveShowcase(n))},n.prototype.SetOrder=function(e,t){var n=this.m_mapShowcases.get(e);n&&(n.nOrder=t,this.SaveShowcase(n))},n.prototype.SetDeleting=function(e,t){var n=this.m_mapShowcases.get(e);n&&(n.bDeleting=t,this.SaveShowcase(n))},n.prototype.DeleteShowcase=function(e){this.m_mapShowcases.delete(e),SteamClient.Stats.RecordActivationEvent("Showcases","Delete"),this.m_mapCollectionStorage.delete(e.toString())},n.prototype.AddNewShowcase=function(e){void 0===e&&(e="");var t=Date.now(),n={nShowcaseId:t,strCollectionId:e,eSortBy:1,nLastChangedMS:Date.now()};this.m_mapShowcases.set(t,n),this.SaveShowcase(n)},n.prototype.BHasEmptyShowcase=function(){return-1!==this.showcases.findIndex(function(e){return!e.strCollectionId})},n.prototype.OnDeleteCollection=function(t){for(var e=0,n=Array.from(this.m_mapShowcases.values()).filter(function(e){return e.strCollectionId==t});e<n.length;e++){var r=n[e];this.DeleteShowcase(r.nShowcaseId)}},Object.defineProperty(n.prototype,"defaultShowcases",{get:function(){return[{nIntroducedInVersion:4,showcase:{nShowcaseId:2,strCollectionId:"recent-games",eSortBy:1,bExpanded:!1}},{nIntroducedInVersion:4,showcase:{nShowcaseId:1,strCollectionId:"recent-friend-activity",eSortBy:1,bExpanded:!1}},{nIntroducedInVersion:5,strInsertAfterCollectionId:"recent-games",showcase:{nShowcaseId:3,strCollectionId:"play-next",eSortBy:1,bExpanded:!1}},{nIntroducedInVersion:0,showcase:{nShowcaseId:0,strCollectionId:mi.GetCollectionForAppType(1).id,eSortBy:1,bExpanded:!0}},{nIntroducedInVersion:0,showcase:Ne}]},enumerable:!1,configurable:!0}),n.prototype.LoadShowcaseDataFromCloud=function(){var n=this;this.m_mapShowcases.clear(),this.m_mapCollectionStorage.forEach(function(e){var t=JSON.parse(e);-1!=t.nShowcaseId&&n.m_mapShowcases.set(t.nShowcaseId,t)})},n.prototype.LoadShowcases=function(){return Object(j.b)(this,void 0,void 0,function(){var r,i=this;return Object(j.e)(this,function(e){switch(e.label){case 0:if(this.m_mapCollectionStorage.OnChange(this.LoadShowcaseDataFromCloud),0<this.m_mapCollectionStorage.size)return this.LoadShowcaseDataFromCloud(),this.MaybeUpgrade(),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.m_roamingStorage.GetObject("showcases")];case 2:return r=e.sent(),Object(O.runInAction)(function(){for(var e=0,t=r;e<t.length;e++){var n=t[e];i.SaveShowcase(n,Oe.InitializationOnly)}i.SaveShowcase(Ne,Oe.InitializationOnly)}),[2];case 3:return e.sent(),[3,4];case 4:return Object(O.runInAction)(function(){for(var e=0,t=i.defaultShowcases;e<t.length;e++){var n=t[e];i.SaveShowcase(n.showcase,Oe.InitializationOnly)}}),[2]}})})},n.prototype.MaybeUpgrade=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,this.m_cloudStorage.GetObject(Le)];case 1:if((t=e.sent())<5){for(t<4&&(console.log("Performing sanity purge on dev-versioned showcase."),Array.from(this.m_mapShowcases.keys()).forEach(function(e){1e3<e&&("recent-friend-activity"==c.m_mapShowcases.get(e).strCollectionId||"recent-games"==c.m_mapShowcases.get(e).strCollectionId)&&c.DeleteShowcase(e)})),n=Date.now(),r=0,i=this.defaultShowcases;r<i.length;r++)if((a=i[r]).nIntroducedInVersion>t){if(console.log("Migrating showcase store for showcase "+a.showcase.nShowcaseId+", storage was on version "+t+" which predates "+a.nIntroducedInVersion),a.showcase.nOrder=n+100*a.showcase.nShowcaseId,a.strInsertAfterCollectionId)for(console.log("Attempting to place showcase after "+a.strInsertAfterCollectionId),o=this.showcases,s=0;s<o.length;s++)if(o[s].strCollectionId==a.strInsertAfterCollectionId){console.log("Found existing showcase at index "+s+" of "+o.length),s==o.length-1?a.showcase.nOrder=o[s].nOrder-50:a.showcase.nOrder=(o[s].nOrder+o[s+1].nOrder)/2;break}this.m_mapShowcases.set(a.showcase.nShowcaseId,a.showcase),this.SaveShowcase(a.showcase,Oe.InitializationOnly)}this.m_cloudStorage.StoreObject(Le,5)}return[2]}})})},n.prototype.SaveShowcase=function(e,t){var n=e.nShowcaseId.toString();return SteamClient.Stats.RecordActivationEvent("Showcases",this.m_mapCollectionStorage.has(n)?"Save-Modify":"Save-New"),this.m_mapCollectionStorage.StoreObject(n,e,t)},Object(j.c)([O.observable],n.prototype,"m_mapShowcases",void 0),Object(j.c)([O.computed],n.prototype,"showcases",null),Object(j.c)([E.a],n.prototype,"LoadShowcaseDataFromCloud",null),n}(),Fe=new ke;window.showcaseStore=Fe;var Pe,Ge,Ue,xe,ze,He,We,Ve,qe,Ye,Qe,Ze,Ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.GetString=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,SteamClient.Storage.GetString(t)];case 1:return[2,e.sent()];case 2:return e.sent(),[2,null];case 3:return[2]}})})},t.prototype.StoreString=function(t,n){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,SteamClient.Storage.SetString(t,n)]})})},t.prototype.RemoveObject=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,SteamClient.Storage.DeleteKey(t)]})})},t}(U.a),Je=12592,Xe=[12593,12594,12596,12599,12600,12601,12609,12610,12611,12613,12614,12615,12616,12617,12618,12619,12620,12621,12622],$e=[0,0,0,1,0,4,4,0,0,8,8,8,8,8,8,8,0,0,17,0,0,0,0,0,0,0,0,0],et=[-1,0,1,9,2,12,18,3,5,0,6,7,9,16,17,18,6,7,9,9,10,11,12,14,15,16,17,18],tt=[-1,0,1,-1,2,-1,-1,3,4,5,-1,-1,-1,-1,-1,-1,-1,6,7,8,-1,9,10,11,12,13,14,15,16,17,18,-1];function nt(e,t){if(0===e.length)return-1;var n,r=t.charCodeAt(t.length-1),i=(n=r)<Xe[0]||n>Xe[Xe.length-1]?-1:tt[n-Je];if(!(44032<=r&&r<=55203||0<=i))return-1;var a=t.slice(0,t.length-1),o=0<a.length?e.indexOf(a):0;if(-1===o)return-1;for(var s=o,c=e.slice(o,e.length),l=(r-44032)%28,u=44032+588*i;0<=o;){if(c.length<a.length+1)return-1;var p,d,m,h=c.charCodeAt(a.length),f=!1;if(0<=i)f=u<=h&&h<588+u;else if(r<=h)switch(l){case 0:f=h-r<28;break;case 1:f=h-r==2;break;case 4:f=h-r<3;break;case 8:f=h-r<8;break;case 17:f=h-r<2}else c.length>=a.length+2&&r-h<28&&((h-44032)%28!==$e[l]||0<=(p=et[l])&&(f=(d=44032+588*p)<=(m=c.charCodeAt(a.length+1))&&m<588+d));if(f)return s;if(0===(c=c.slice(1,c.length)).length)return-1;if(-1===(o=0<a.length?c.indexOf(a):0))return-1;s+=o+1,c=c.slice(o,c.length)}return-1}function rt(e,t){return Object.assign({rgOptions:[],bAcceptUnion:e},t||{})}function it(e,t){var n=t;switch(e){case Pe.kPlayState:return ot[n];case Pe.kAppFeature:return at[n];case Pe.kAppType:return function(e){switch(e){case 0:return"k_EAppTypeInvalid";case 1:return"k_EAppTypeGame";case 2:return"k_EAppTypeApplication";case 4:return"k_EAppTypeTool";case 8:return"k_EAppTypeDemo";case 16:return"k_EAppTypeDeprected";case 32:return"k_EAppTypeDLC";case 64:return"k_EAppTypeGuide";case 128:return"k_EAppTypeDriver";case 256:return"k_EAppTypeConfig";case 512:return"k_EAppTypeHardware";case 1024:return"k_EAppTypeFranchise";case 2048:return"k_EAppTypeVideo";case 4096:return"k_EAppTypePlugin";case 8192:return"k_EAppTypeMusicAlbum";case 16384:return"k_EAppTypeSeries";case 32768:return"k_EAppTypeComic";case 65536:return"k_EAppTypeBeta";case 1073741824:return"k_EAppTypeShortcut";case-2147483648:return"k_EAppTypeDepotOnly"}return"Unknown_EProtoAppType_"+e}(n);case Pe.kGenre:return function(e){switch(e){case qe.Action:return"Action";case qe.Adventure:return"Adventure";case qe.Casual:return"Casual";case qe.Indie:return"Indie";case qe.MMO:return"MMO";case qe.Racing:return"Racing";case qe.RPG:return"RPG";case qe.Simulation:return"Simulation";case qe.Sports:return"Sports";case qe.Strategy:return"Strategy"}return"Unknown_EGenre_"+e}(n);case Pe.kStoreTag:return function(e){switch(e){case ze.kMultiPlayer:return"MultiPlayer";case ze.kSinglePlayer:return"SinglePlayer";case ze.kCoOp:return"CoOp";case ze.kPartialController:return"PartialController";case ze.kMMO:return"MMO";case ze.kAchievements:return"Achievements";case ze.kSteamCloud:return"SteamCloud";case ze.kSplitScreen:return"SplitScreen";case ze.kCrossPlatformMultiPlayer:return"CrossPlatformMultiPlayer";case ze.kFullController:return"FullController";case ze.kTradingCards:return"TradingCards";case ze.kWorkshop:return"Workshop";case ze.kVRSupport:return"VRSupport";case ze.kOnlineMultiPlayer:return"OnlineMultiPlayer";case ze.kLocalMultiPlayer:return"LocalMultiPlayer";case ze.kOnlineCoOp:return"OnlineCoOp";case ze.kLocalCoOp:return"LocalCoOp";case ze.kRemotePlayTogether:return"RemotePlayTogether";case ze.kHighQualitySoundtrackAudio:return"HighQualitySoundtrackAudio"}return"Unknown_EStoreCategory_"+e}(n);case Pe.kPartner:return function(e){switch(e){case Qe.EASubscription:return"EAAccess"}}(n);default:return"Unknown_EFilterGroup_"+e+"_"+t}}(Ge=Pe=Pe||{})[Ge.kAppType=0]="kAppType",Ge[Ge.kPlayState=1]="kPlayState",Ge[Ge.kAppFeature=2]="kAppFeature",Ge[Ge.kGenre=3]="kGenre",Ge[Ge.kStoreTag=4]="kStoreTag",Ge[Ge.kPartner=5]="kPartner",(xe=Ue=Ue||{})[xe.FullControllerSupport=1]="FullControllerSupport",xe[xe.PartialControllerSupport=2]="PartialControllerSupport",xe[xe.VRSupport=3]="VRSupport",xe[xe.TradingCards=4]="TradingCards",xe[xe.Workshop=5]="Workshop",xe[xe.Achievements=6]="Achievements",xe[xe.SinglePlayer=7]="SinglePlayer",xe[xe.MultiPlayer=8]="MultiPlayer",xe[xe.CoOp=9]="CoOp",xe[xe.Cloud=10]="Cloud",xe[xe.RemotePlayTogether=11]="RemotePlayTogether",(He=ze=ze||{})[He.kMultiPlayer=1]="kMultiPlayer",He[He.kSinglePlayer=2]="kSinglePlayer",He[He.kCoOp=9]="kCoOp",He[He.kPartialController=18]="kPartialController",He[He.kMMO=20]="kMMO",He[He.kAchievements=22]="kAchievements",He[He.kSteamCloud=23]="kSteamCloud",He[He.kSplitScreen=24]="kSplitScreen",He[He.kCrossPlatformMultiPlayer=27]="kCrossPlatformMultiPlayer",He[He.kFullController=28]="kFullController",He[He.kTradingCards=29]="kTradingCards",He[He.kWorkshop=30]="kWorkshop",He[He.kVRSupport=31]="kVRSupport",He[He.kOnlineMultiPlayer=36]="kOnlineMultiPlayer",He[He.kLocalMultiPlayer=37]="kLocalMultiPlayer",He[He.kOnlineCoOp=38]="kOnlineCoOp",He[He.kLocalCoOp=39]="kLocalCoOp",He[He.kRemotePlayTogether=44]="kRemotePlayTogether",He[He.kHighQualitySoundtrackAudio=50]="kHighQualitySoundtrackAudio",(Ve=We=We||{})[Ve.InstalledLocally=1]="InstalledLocally",Ve[Ve.ReadyToPlay=2]="ReadyToPlay",Ve[Ve.PlayedPreviously=3]="PlayedPreviously",Ve[Ve.PlayedNever=4]="PlayedNever",Ve[Ve.ValidPlatform=5]="ValidPlatform",(Ye=qe=qe||{})[Ye.Action=19]="Action",Ye[Ye.Adventure=21]="Adventure",Ye[Ye.Casual=597]="Casual",Ye[Ye.Indie=492]="Indie",Ye[Ye.MMO=128]="MMO",Ye[Ye.Racing=699]="Racing",Ye[Ye.RPG=122]="RPG",Ye[Ye.Simulation=599]="Simulation",Ye[Ye.Sports=701]="Sports",Ye[Ye.Strategy=9]="Strategy",(Ze=Qe=Qe||{})[Ze.EASubscription=4e3]="EASubscription";var at=["ignored","FullControllerSupport","PartialControllerSupport","VR","TradingCards","Workshop","Achievements","SinglePlayer","MultiPlayer","CoOp","SteamCloud","RemotePlayTogether"],ot=["ignored","Installed","ReadyToPlay","PlayedPreviously","Unplayed","ValidPlatform"];function st(e,t){return 0==e.rgOptions.length||(e.bAcceptUnion?e.rgOptions.some(t):e.rgOptions.every(t))}function ct(t){return function(e){switch(e){case Ue.FullControllerSupport:return 2==t.controller_support||t.BHasStoreCategory(ze.kFullController);case Ue.PartialControllerSupport:return 2==t.controller_support||1==t.controller_support||t.BHasStoreCategory(ze.kFullController)||t.BHasStoreCategory(ze.kPartialController);case Ue.VRSupport:return t.vr_supported||t.BHasStoreCategory(ze.kVRSupport);case Ue.TradingCards:return t.BHasStoreCategory(ze.kTradingCards);case Ue.Workshop:return t.BHasStoreCategory(ze.kWorkshop);case Ue.Achievements:return t.BHasStoreCategory(ze.kAchievements);case Ue.SinglePlayer:return t.BHasStoreCategory(ze.kSinglePlayer);case Ue.MultiPlayer:return t.BHasStoreCategory(ze.kMultiPlayer)||t.BHasStoreCategory(ze.kOnlineMultiPlayer)||t.BHasStoreCategory(ze.kLocalMultiPlayer)||t.BHasStoreCategory(ze.kCrossPlatformMultiPlayer)||t.BHasStoreCategory(ze.kMMO)||t.BHasStoreCategory(ze.kSplitScreen);case Ue.CoOp:return t.BHasStoreCategory(ze.kCoOp)||t.BHasStoreCategory(ze.kOnlineCoOp)||t.BHasStoreCategory(ze.kLocalCoOp);case Ue.Cloud:return t.BHasStoreCategory(ze.kSteamCloud);case Ue.RemotePlayTogether:return t.BHasStoreCategory(ze.kRemotePlayTogether);default:return!1}}}function lt(e){return 1289670==e.mastersub_appid}var ut=function(){function t(e){this.m_filterSpec={nFormatVersion:2,strSearchText:e&&e.strSearchText||"",filterGroups:[rt(!0,e&&e.filterGroups[0]),rt(!1,e&&e.filterGroups[1]),rt(!1,e&&e.filterGroups[2]),rt(!1,e&&e.filterGroups[3]),rt(!1,e&&e.filterGroups[4]),rt(!1,e&&e.filterGroups[5])]}}return Object.defineProperty(t.prototype,"bIsEmpty",{get:function(){return 0==this.searchText.length&&this.m_filterSpec.filterGroups.every(function(e){return 0==e.rgOptions.length})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchText",{get:function(){return this.m_filterSpec.strSearchText},enumerable:!1,configurable:!0}),t.prototype.SetSearchText=function(e){this.m_filterSpec.strSearchText=e},t.prototype.GetSelectedOptions=function(e){return this.m_filterSpec.filterGroups[e].rgOptions},t.prototype.GetAllSelectedOptions=function(){var n=[];return this.GetSelectedOptions(Pe.kAppFeature).forEach(function(e){var t=it(Pe.kAppFeature,e);n.push({eGroup:Pe.kAppFeature,option:e,name:Object(R.f)("#FilterElement_"+t)})}),this.GetSelectedOptions(Pe.kPlayState).forEach(function(e){var t=it(Pe.kPlayState,e);n.push({eGroup:Pe.kPlayState,option:e,name:Object(R.f)("#FilterElement_"+t)})}),this.GetSelectedOptions(Pe.kStoreTag).forEach(function(e){var t=Xa.GetLocalizationForStoreTag(e);n.push({eGroup:Pe.kStoreTag,option:e,name:t})}),n},t.prototype.GetTagsString=function(){return 0<this.searchText.length?"":"?tags="+this.GetAllSelectedOptions().map(function(e){return e.option}).join(",")},t.prototype.BIsSelected=function(e,t){return 0<=this.GetSelectedOptions(e).indexOf(t)},t.prototype.SelectOption=function(e,t,n){var r=this.m_filterSpec.filterGroups[e].rgOptions,i=r.indexOf(t);n&&i<0?r.push(t):!n&&0<=i&&r.splice(i,1)},t.prototype.BAcceptsUnion=function(e){return this.m_filterSpec.filterGroups[e].bAcceptUnion},t.prototype.ToggleAcceptsUnion=function(e){this.m_filterSpec.filterGroups[e].bAcceptUnion=!this.m_filterSpec.filterGroups[e].bAcceptUnion},t.prototype.MatchesImpl=function(e){var t,n,r=this.m_filterSpec.filterGroups;if(!st(r[Pe.kPlayState],(t=e,function(e){switch(e){case We.ReadyToPlay:return t.installed;case We.InstalledLocally:return 2048!=t.canonicalAppType&&t.local_per_client_data&&!!t.local_per_client_data.installed;case We.PlayedPreviously:return 0<t.rt_last_time_played;case We.PlayedNever:return!t.rt_last_time_played;case We.ValidPlatform:return"windows"==A.c.PLATFORM||t.is_available_on_current_platform&&!t.is_invalid_os_type;default:return!1}})))return!1;if(!st(r[Pe.kAppFeature],ct(e)))return!1;if(!st(r[Pe.kStoreTag],e.BHasStoreTag))return!1;if(!st(r[Pe.kPartner],(n=e,function(e){switch(e){case Qe.EASubscription:return lt(n);default:return!1}})))return!1;if(this.m_filterSpec.strSearchText){if(Qa.searchSuggestions.has(e.appid))return!0;if(String(e.appid)==this.m_filterSpec.strSearchText)return!0;var i=this.m_filterSpec.strSearchText.toLowerCase(),a=e.display_name.toLowerCase();return a.includes(i)||e.sort_as.includes(i)?!0:-1!==nt(a,i)}return!0},t.prototype.Matches=function(e){return this.MatchesImpl(e)},t.prototype.ToStorageFormat=function(){return Object(O.toJS)(this.m_filterSpec)},t.FromStorageFormat=function(e){switch(e.nFormatVersion){case void 0:default:return null;case 2:return new t(e)}},t.ForPartner=function(e){switch(e){case"partner-ea-access":return new t({filterGroups:[{},{},{},{},{},{rgOptions:[Qe.EASubscription]}]});default:return console.warn("Unknown filter id",e),new t}},Object(j.c)([O.observable],t.prototype,"m_filterSpec",void 0),Object(j.c)([E.a],t.prototype,"SetSearchText",null),Object(j.c)([E.a],t.prototype,"GetSelectedOptions",null),Object(j.c)([E.a],t.prototype,"GetAllSelectedOptions",null),Object(j.c)([E.a],t.prototype,"GetTagsString",null),Object(j.c)([E.a],t.prototype,"BIsSelected",null),Object(j.c)([E.a],t.prototype,"SelectOption",null),Object(j.c)([E.a],t.prototype,"BAcceptsUnion",null),Object(j.c)([E.a],t.prototype,"ToggleAcceptsUnion",null),Object(j.c)([E.a],t.prototype,"Matches",null),Object(j.c)([E.a],t.prototype,"ToStorageFormat",null),t}(),pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.MatchesImpl=function(t){return!!this.m_filterSpec.filterGroups[Pe.kAppType].rgOptions.some(function(e){return e==t.canonicalAppType})&&!!e.prototype.MatchesImpl.call(this,t)},t.FromStorageFormat=function(e){switch(e.nFormatVersion){case void 0:default:return null;case 2:return new t(e)}},t}(ut),dt=n("Kw0F"),mt=n("Gp1o"),ht=n("8H1D");function ft(e){var t="offline";return e&&(e.is_ingame?t="ingame":e.m_broadcastAccountId?t="watchingbroadcast":e.is_online&&(t="online"),e.is_awayOrSnooze&&(t+=" awayOrSnooze")),t}var bt=function(){function e(e){this.m_bInitialized=!1,this.m_ePersonaState=0,this.m_unGamePlayedAppID=0,this.m_gameid="0",this.m_unPersonaStateFlags=0,this.m_strPlayerName="",this.m_strAvatarHash=ht.b,this.m_rtLastSeenOnline=0,this.m_strGameExtraInfo="",this.m_unGameServerIP=0,this.m_unGameServerPort=0,this.m_game_lobby_id="",this.m_bPlayerNamePending=!1,this.m_bAvatarPending=!1,this.m_mapRichPresence=O.observable.map(),this.m_bNameInitialized=!1,this.m_bStatusInitialized=!1,this.m_steamid=e}return e.prototype.Reset=function(){this.m_ePersonaState=0,this.m_unGamePlayedAppID=0,this.m_gameid="0",this.m_strGameExtraInfo="",this.m_unGameServerIP=0,this.m_unGameServerPort=0,this.m_game_lobby_id="",this.m_mapRichPresence.clear(),this.m_broadcastId=void 0,this.m_broadcastAccountId=void 0,this.m_broadcastAppId=void 0,this.m_broadcastViewerCount=void 0,this.m_strBroadcastTitle=void 0},e.prototype.GetAccountID=function(){return this.m_steamid.GetAccountID()},Object.defineProperty(e.prototype,"is_online",{get:function(){return 0!=this.m_ePersonaState&&7!=this.m_ePersonaState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_ingame",{get:function(){return this.is_online&&(0!=this.m_unGamePlayedAppID||"0"!=this.m_gameid)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_watchingbroadcast",{get:function(){return!!this.m_broadcastAccountId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_in_nonsteam_game",{get:function(){return 0==this.m_unGamePlayedAppID&&"0"!=this.m_gameid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_in_joinable_game",{get:function(){return this.has_joinable_game_flag||this.is_in_valid_lobby||this.has_server_ip},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"has_joinable_game_flag",{get:function(){return 0!=(2&this.m_unPersonaStateFlags)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connect_string",{get:function(){return this.m_mapRichPresence.get("connect")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_in_valid_lobby",{get:function(){return this.m_game_lobby_id&&"0"!=this.m_game_lobby_id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"has_server_ip",{get:function(){return 0!=this.m_unGameServerIP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_awayOrSnooze",{get:function(){return 3==this.m_ePersonaState||4==this.m_ePersonaState},enumerable:!1,configurable:!0}),e.prototype.HasStateFlag=function(e){return 0!=(this.m_unPersonaStateFlags&e)},Object.defineProperty(e.prototype,"last_seen_online",{get:function(){return this.m_rtLastSeenOnline},enumerable:!1,configurable:!0}),e.prototype.ClearStateOnDisconnect=function(){0!=this.m_ePersonaState&&this.Reset()},Object.defineProperty(e.prototype,"is_golden",{get:function(){return this.HasStateFlag(4)},enumerable:!1,configurable:!0}),e.prototype.GetCurrentGameName=function(){return this.m_strGameExtraInfo?this.m_strGameExtraInfo:this.m_unGamePlayedAppID?b.a.GetAppInfo(this.m_unGamePlayedAppID).name:""},e.prototype.GetCurrentGameIconURL=function(){return this.m_unGamePlayedAppID?b.a.GetAppInfo(this.m_unGamePlayedAppID).icon_url:""},e.prototype.GetCurrentGameLogoURL=function(){return this.m_unGamePlayedAppID?b.a.GetAppInfo(this.m_unGamePlayedAppID).logo_url:""},e.prototype.GetBroadcastGameLogoURL=function(){return this.m_broadcastAppId?b.a.GetAppInfo(this.m_broadcastAppId).logo_url:""},e.prototype.BIsAppInfoReady=function(){return!this.m_unGamePlayedAppID||b.a.GetAppInfo(this.m_unGamePlayedAppID).is_initialized},e.prototype.HasCurrentGameRichPresence=function(){return this.m_mapRichPresence.has("steam_display")},e.prototype.GetCurrentGameRichPresence=function(){if(this.HasCurrentGameRichPresence()){var e=b.a.GetRichPresenceLoc(this.m_unGamePlayedAppID);if(e){var t=this.m_mapRichPresence.get("steam_display");return e.Localize(t,this.m_mapRichPresence)}}else if(this.HasStateFlag(8))return Object(R.f)("#PersonaStateRemotePlayTogether");return""},e.prototype.GetOfflineStatusUpdateRate=function(){if(0==this.last_seen_online)return 3e4;var e=1e3,t=b.a.CMInterface.GetServerRTime32()-this.last_seen_online;return e*=86400<t?3600:7200<t?60:15},e.prototype.GetOfflineStatusTime=function(){if(0==this.last_seen_online)return Object(R.f)("#PersonaStateOffline");var e=this.GetOfflineStatusUpdateRate();(!A.c.IN_MOBILE||e<=60)&&Object(mt.d)(e);var t=b.a.CMInterface.GetServerRTime32()-this.last_seen_online;return t<60?Object(R.f)("#PersonaStateLastSeen_JustNow"):Object(R.f)("#PersonaStateLastSeen",Object(R.r)(t))},e.prototype.GetLocalizedOnlineStatus=function(){switch(this.m_ePersonaState){case 0:case 7:return this.GetOfflineStatusTime();case 1:return Object(R.f)("#PersonaStateOnline");case 2:return Object(R.f)("#PersonaStateBusy");case 3:return Object(R.f)("#PersonaStateAway");case 4:return Object(R.f)("#PersonaStateSnooze");case 5:return Object(R.f)("#PersonaStateLookingToTrade");case 6:return Object(R.f)("#PersonaStateLookingToPlay");default:return""}},Object.defineProperty(e.prototype,"has_public_party_beacon",{get:function(){return this.m_mapRichPresence.has("__beacon")&&this.is_ingame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"player_group",{get:function(){return this.m_mapRichPresence.has("steam_player_group")?this.m_mapRichPresence.get("steam_player_group"):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"player_group_size",{get:function(){return this.m_mapRichPresence.has("steam_player_group_size")?Number.parseInt(this.m_mapRichPresence.get("steam_player_group_size")):0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"online_state",{get:function(){return this.is_online?this.is_ingame?"in-game":this.m_broadcastAccountId?"watchingbroadcast":"online":"offline"},enumerable:!1,configurable:!0}),e.prototype.BHasAvatarSet=function(){return this.m_strAvatarHash!=ht.b},Object.defineProperty(e.prototype,"avatar_url",{get:function(){return Object(ht.a)(this.m_strAvatarHash)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"avatar_url_medium",{get:function(){return Object(ht.a)(this.m_strAvatarHash,"medium")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"avatar_url_full",{get:function(){return Object(ht.a)(this.m_strAvatarHash,"full")},enumerable:!1,configurable:!0}),e.SortStatusComparator=function(e,t,n){if(t.has_public_party_beacon){if(!n.has_public_party_beacon)return-1}else{if(n.has_public_party_beacon)return 1;if(t.is_ingame){if(!n.is_ingame)return-1;if(!e)return 0;if(t.is_awayOrSnooze){if(!n.is_awayOrSnooze)return 1}else if(n.is_awayOrSnooze)return-1}else if(n.is_ingame)return 1}if(t.is_online){if(!n.is_online)return-1}else if(n.is_online)return 1;if(e)if(t.is_awayOrSnooze){if(!n.is_awayOrSnooze)return 1}else if(n.is_awayOrSnooze)return-1;return 0},Object(j.c)([O.observable],e.prototype,"m_bInitialized",void 0),Object(j.c)([O.observable],e.prototype,"m_ePersonaState",void 0),Object(j.c)([O.observable],e.prototype,"m_unGamePlayedAppID",void 0),Object(j.c)([O.observable],e.prototype,"m_gameid",void 0),Object(j.c)([O.observable],e.prototype,"m_unPersonaStateFlags",void 0),Object(j.c)([O.observable],e.prototype,"m_strPlayerName",void 0),Object(j.c)([O.observable],e.prototype,"m_strAvatarHash",void 0),Object(j.c)([O.observable],e.prototype,"m_rtLastSeenOnline",void 0),Object(j.c)([O.observable],e.prototype,"m_strGameExtraInfo",void 0),Object(j.c)([O.observable],e.prototype,"m_unGameServerIP",void 0),Object(j.c)([O.observable],e.prototype,"m_unGameServerPort",void 0),Object(j.c)([O.observable],e.prototype,"m_game_lobby_id",void 0),Object(j.c)([O.observable],e.prototype,"m_bPlayerNamePending",void 0),Object(j.c)([O.observable],e.prototype,"m_bAvatarPending",void 0),Object(j.c)([O.observable],e.prototype,"m_broadcastId",void 0),Object(j.c)([O.observable],e.prototype,"m_broadcastAccountId",void 0),Object(j.c)([O.observable],e.prototype,"m_broadcastAppId",void 0),Object(j.c)([O.observable],e.prototype,"m_broadcastViewerCount",void 0),Object(j.c)([O.observable],e.prototype,"m_strBroadcastTitle",void 0),Object(j.c)([O.observable],e.prototype,"m_bCommunityBanned",void 0),e}(),_t=n("Wjsq"),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.UpdateFromMessage=function(e,t){var n,r;if(0!=(1&e)&&(this.m_bStatusInitialized=!0,this.m_ePersonaState=t.persona_state()||0,0!=this.m_ePersonaState?(this.m_unGamePlayedAppID=t.game_played_app_id()||0,this.m_gameid=t.gameid()||"0",this.m_strGameExtraInfo=t.game_name()||"",this.m_unGameServerIP=t.game_server_ip()||0,this.m_unGameServerPort=t.game_server_port()||0,this.m_game_lobby_id=t.game_lobby_id()||""):this.Reset()),0!=(2&e)&&(this.m_bNameInitialized=!0,n=t.player_name()||"",this.m_strPlayerName=n),0!=(64&e)&&(this.m_rtLastSeenOnline=t.last_seen_online()||t.last_logoff()||0),0!=(16&e)){var i=t.avatar_hash(),a=!0;if(i){for(var o=0;o<i.length&&a;o++)a=!i[o];this.m_strAvatarHash=a?ht.b:Object(W.a)(i)}}if(void 0!==t.persona_state_flags()&&(this.m_unPersonaStateFlags=t.persona_state_flags()),0!=(4096&e)){this.m_mapRichPresence.clear();for(var s=0,c=t.rich_presence();s<c.length;s++){var l=c[s];this.m_mapRichPresence.set(l.key().toLowerCase(),l.value())}}0!=(8192&e)&&(this.m_broadcastId=t.broadcast_id()),0!=(16384&e)&&((r=H.a.InitFromAccountID(t.watching_broadcast_accountid()).ConvertTo64BitString())&&_t.a.stream[r]?(this.m_broadcastAccountId=t.watching_broadcast_accountid(),this.m_broadcastAppId=t.watching_broadcast_appid(),this.m_broadcastViewerCount=t.watching_broadcast_viewers(),this.m_strBroadcastTitle=t.watching_broadcast_title()):(this.m_broadcastAccountId=0,this.m_broadcastAppId=0,this.m_broadcastViewerCount=0,this.m_strBroadcastTitle="")),this.m_bCommunityBanned=t.is_community_banned(),this.m_bNameInitialized&&this.m_bStatusInitialized&&(this.m_bInitialized=!0),void 0!==t.player_name_pending_review()&&(this.m_bPlayerNamePending=t.player_name_pending_review()),void 0!==t.avatar_pending_review()&&(this.m_bAvatarPending=t.avatar_pending_review())},t}(bt),gt=n("JnZK"),yt=n("oFam"),St=c.Message;var wt,Ct,Ot,Et,Bt,At=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChat_RequestFriendPersonaStates_Request"},r}(St),It=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChat_RequestFriendPersonaStates_Response"},r}(St),jt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.message||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{message:{n:1,br:l.d.readEnum,bw:l.h.writeEnum},string_param:{n:2,br:l.d.readString,bw:l.h.writeString},accountid_param:{n:3,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"ServerMessage"},r}(St),Dt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},state:{n:2,c:cn},user_chat_state:{n:3,c:ln}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_CreateChatRoomGroup_Response"},r}(St),Rt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.name||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{name:{n:1,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_RenameChatRoomGroup_Response"},r}(St),Tt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_SaveChatRoomGroup_Response"},r}(St),Mt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_SetChatRoomGroupTagline_Response"},r}(St),Nt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_SetChatRoomGroupAvatar_Response"},r}(St),Lt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_SetChatRoomGroupWatchingBroadcast_Response"},r}(St),kt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.minigame_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{minigame_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_JoinMiniGameForChatRoomGroup_Response"},r}(St),Ft=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_EndMiniGameForChatRoomGroup_Response"},r}(St),Pt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_MuteUser_Response"},r}(St),Gt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_KickUser_Response"},r}(St),Ut=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_SetUserBanState_Response"},r}(St),xt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_RevokeInvite_Response"},r}(St),zt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.role_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{role_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},name:{n:2,br:l.d.readString,bw:l.h.writeString},ordinal:{n:3,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRole"},r}(St),Ht=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.role_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{role_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},can_create_rename_delete_channel:{n:2,br:l.d.readBool,bw:l.h.writeBool},can_kick:{n:3,br:l.d.readBool,bw:l.h.writeBool},can_ban:{n:4,br:l.d.readBool,bw:l.h.writeBool},can_invite:{n:5,br:l.d.readBool,bw:l.h.writeBool},can_change_tagline_avatar_name:{n:6,br:l.d.readBool,bw:l.h.writeBool},can_chat:{n:7,br:l.d.readBool,bw:l.h.writeBool},can_view_history:{n:8,br:l.d.readBool,bw:l.h.writeBool},can_change_group_roles:{n:9,br:l.d.readBool,bw:l.h.writeBool},can_change_user_roles:{n:10,br:l.d.readBool,bw:l.h.writeBool},can_mention_all:{n:11,br:l.d.readBool,bw:l.h.writeBool},can_set_watching_broadcast:{n:12,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoleActions"},r}(St),Wt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.actions||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{actions:{n:2,c:Ht}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_CreateRole_Response"},r}(St),Vt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.app_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{app_id:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},steamid_owner:{n:2,br:l.d.readFixed64String,bw:l.h.writeFixed64String},beacon_id:{n:3,br:l.d.readFixed64String,bw:l.h.writeFixed64String},game_metadata:{n:4,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatPartyBeacon"},r}(St),qt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.roles||l.a(r.M()),St.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{roles:{n:1,c:zt,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetRoles_Response"},r}(St),Yt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_RenameRole_Response"},r}(St),Qt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_ReorderRole_Response"},r}(St),Zt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_DeleteRole_Response"},r}(St),Kt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.actions||l.a(r.M()),St.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{actions:{n:1,c:Ht,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetRoleActions_Response"},r}(St),Jt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_ReplaceRoleActions_Response"},r}(St),Xt=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_AddRoleToUser_Response"},r}(St),$t=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.role_ids||l.a(r.M()),St.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{role_ids:{n:1,r:!0,q:!0,br:l.d.readUint64String,bw:l.h.writeRepeatedUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetRolesForUser_Response"},r}(St),en=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_DeleteRoleFromUser_Response"},r}(St),tn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.header_state||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{header_state:{n:1,c:sn}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_ChatRoomHeaderState_Notification"},r}(St),nn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.accountid||l.a(r.M()),St.initialize(t,e,0,-1,[7],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{accountid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},state:{n:3,br:l.d.readEnum,bw:l.h.writeEnum},rank:{n:4,br:l.d.readEnum,bw:l.h.writeEnum},time_kick_expire:{n:6,br:l.d.readUint32,bw:l.h.writeUint32},role_ids:{n:7,r:!0,q:!0,br:l.d.readUint64String,bw:l.h.writeRepeatedUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoomMember"},r}(St),rn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,[6,10,14,15,18],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},chat_group_name:{n:2,br:l.d.readString,bw:l.h.writeString},active_member_count:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},active_voice_member_count:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},default_chat_id:{n:5,br:l.d.readUint64String,bw:l.h.writeUint64String},chat_rooms:{n:6,c:on,r:!0,q:!0},clanid:{n:7,br:l.d.readUint32,bw:l.h.writeUint32},chat_group_tagline:{n:8,br:l.d.readString,bw:l.h.writeString},accountid_owner:{n:9,br:l.d.readUint32,bw:l.h.writeUint32},top_members:{n:10,r:!0,q:!0,br:l.d.readUint32,bw:l.h.writeRepeatedUint32},chat_group_avatar_sha:{n:11,br:l.d.readBytes,bw:l.h.writeBytes},rank:{n:12,br:l.d.readEnum,bw:l.h.writeEnum},default_role_id:{n:13,br:l.d.readUint64String,bw:l.h.writeUint64String},role_ids:{n:14,r:!0,q:!0,br:l.d.readUint64String,bw:l.h.writeRepeatedUint64String},role_actions:{n:15,c:Ht,r:!0,q:!0},watching_broadcast_accountid:{n:16,br:l.d.readUint32,bw:l.h.writeUint32},appid:{n:17,br:l.d.readUint32,bw:l.h.writeUint32},party_beacons:{n:18,c:Vt,r:!0,q:!0},watching_broadcast_channel_id:{n:19,br:l.d.readUint64String,bw:l.h.writeUint64String},active_minigame_id:{n:20,br:l.d.readUint64String,bw:l.h.writeUint64String},avatar_ugc_url:{n:21,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetChatRoomGroupSummary_Response"},r}(St),an=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.result||l.a(r.M()),St.initialize(t,e,0,-1,[2],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{result:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},accounts_in_channel:{n:2,r:!0,q:!0,br:l.d.readUint32,bw:l.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_SetAppChatRoomGroupForceActive_Response"},r}(St),on=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_id||l.a(r.M()),St.initialize(t,e,0,-1,[4],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},chat_name:{n:2,br:l.d.readString,bw:l.h.writeString},voice_allowed:{n:3,br:l.d.readBool,bw:l.h.writeBool},members_in_voice:{n:4,r:!0,q:!0,br:l.d.readUint32,bw:l.h.writeRepeatedUint32},time_last_message:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},sort_order:{n:6,br:l.d.readUint32,bw:l.h.writeUint32},last_message:{n:7,br:l.d.readString,bw:l.h.writeString},accountid_last_message:{n:8,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoomState"},r}(St),sn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,[18,19,22],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},chat_name:{n:2,br:l.d.readString,bw:l.h.writeString},clanid:{n:13,br:l.d.readUint32,bw:l.h.writeUint32},accountid_owner:{n:14,br:l.d.readUint32,bw:l.h.writeUint32},appid:{n:21,br:l.d.readUint32,bw:l.h.writeUint32},tagline:{n:15,br:l.d.readString,bw:l.h.writeString},avatar_sha:{n:16,br:l.d.readBytes,bw:l.h.writeBytes},default_role_id:{n:17,br:l.d.readUint64String,bw:l.h.writeUint64String},roles:{n:18,c:zt,r:!0,q:!0},role_actions:{n:19,c:Ht,r:!0,q:!0},watching_broadcast_accountid:{n:20,br:l.d.readUint32,bw:l.h.writeUint32},party_beacons:{n:22,c:Vt,r:!0,q:!0},watching_broadcast_channel_id:{n:23,br:l.d.readUint64String,bw:l.h.writeUint64String},active_minigame_id:{n:24,br:l.d.readUint64String,bw:l.h.writeUint64String},avatar_ugc_url:{n:25,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoomGroupHeaderState"},r}(St),cn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.header_state||l.a(r.M()),St.initialize(t,e,0,-1,[2,5,7],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{header_state:{n:1,c:sn},members:{n:2,c:nn,r:!0,q:!0},default_chat_id:{n:4,br:l.d.readUint64String,bw:l.h.writeUint64String},chat_rooms:{n:5,c:on,r:!0,q:!0},kicked:{n:7,c:nn,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoomGroupState"},r}(St),ln=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,[3],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},time_joined:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},user_chat_room_state:{n:3,c:un,r:!0,q:!0},desktop_notification_level:{n:4,d:0,br:l.d.readEnum,bw:l.h.writeEnum},mobile_notification_level:{n:5,d:0,br:l.d.readEnum,bw:l.h.writeEnum},time_last_group_ack:{n:6,br:l.d.readUint32,bw:l.h.writeUint32},unread_indicator_muted:{n:7,d:!1,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserChatRoomGroupState"},r}(St),un=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},time_joined:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},time_last_ack:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},desktop_notification_level:{n:4,d:0,br:l.d.readEnum,bw:l.h.writeEnum},mobile_notification_level:{n:5,d:0,br:l.d.readEnum,bw:l.h.writeEnum},time_last_mention:{n:6,br:l.d.readUint32,bw:l.h.writeUint32},unread_indicator_muted:{n:7,d:!1,br:l.d.readBool,bw:l.h.writeBool},time_first_unread:{n:8,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserChatRoomState"},r}(St),pn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.user_chat_group_state||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{user_chat_group_state:{n:1,c:ln},group_summary:{n:2,c:rn}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoomSummaryPair"},r}(St),dn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_room||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_room:{n:1,c:on}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_CreateChatRoom_Response"},r}(St),mn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_DeleteChatRoom_Response"},r}(St),hn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_RenameChatRoom_Response"},r}(St),fn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_ReorderChatRoom_Response"},r}(St),bn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.mention_all||l.a(r.M()),St.initialize(t,e,0,-1,[3],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{mention_all:{n:1,br:l.d.readBool,bw:l.h.writeBool},mention_here:{n:2,br:l.d.readBool,bw:l.h.writeBool},mention_accountids:{n:3,r:!0,q:!0,br:l.d.readUint32,bw:l.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatMentions"},r}(St),_n=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.state||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{state:{n:1,c:cn}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetChatRoomGroupState_Response"},r}(St),vn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_room_groups||l.a(r.M()),St.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_room_groups:{n:1,c:pn,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetMyChatRoomGroups_Response"},r}(St),gn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.state||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{state:{n:1,c:cn},user_chat_state:{n:3,c:ln},join_chat_id:{n:4,br:l.d.readUint64String,bw:l.h.writeUint64String},time_expire:{n:5,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_JoinChatRoomGroup_Response"},r}(St),yn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_InviteFriendToChatRoomGroup_Response"},r}(St),Sn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_LeaveChatRoomGroup_Response"},r}(St),wn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.voice_chatid||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{voice_chatid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_JoinVoiceChat_Response"},r}(St),Cn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_LeaveVoiceChat_Response"},r}(St),On=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},chat_group_id:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_NotifyShouldRejoinChatRoomVoiceChat_Notification"},r}(St),En=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.modified_message||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{modified_message:{n:1,br:l.d.readString,bw:l.h.writeString},server_timestamp:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},ordinal:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},message_without_bb_code:{n:4,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_SendChatMessage_Response"},r}(St),Bn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},chat_id:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},steamid_sender:{n:3,br:l.d.readFixed64String,bw:l.h.writeFixed64String},message:{n:4,br:l.d.readString,bw:l.h.writeString},timestamp:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},mentions:{n:6,c:bn},ordinal:{n:7,br:l.d.readUint32,bw:l.h.writeUint32},server_message:{n:8,c:jt},message_no_bbcode:{n:9,br:l.d.readString,bw:l.h.writeString},chat_name:{n:10,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_IncomingChatMessage_Notification"},r}(St),An=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,[3],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},chat_id:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},messages:{n:3,c:In,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_ChatMessageModified_Notification"},r}(St),In=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.server_timestamp||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{server_timestamp:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},ordinal:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},deleted:{n:3,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_ChatMessageModified_Notification_ChatMessage"},r}(St),jn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.messages||l.a(r.M()),St.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{messages:{n:1,c:Dn,r:!0,q:!0},more_available:{n:4,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetMessageHistory_Response"},r}(St),Dn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.sender||l.a(r.M()),St.initialize(t,e,0,-1,[7],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{sender:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},server_timestamp:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},message:{n:3,br:l.d.readString,bw:l.h.writeString},ordinal:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},server_message:{n:5,c:jt},deleted:{n:6,br:l.d.readBool,bw:l.h.writeBool},reactions:{n:7,c:Rn,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetMessageHistory_Response_ChatMessage"},r}(St),Rn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.reaction_type||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{reaction_type:{n:1,br:l.d.readEnum,bw:l.h.writeEnum},reaction:{n:2,br:l.d.readString,bw:l.h.writeString},num_reactors:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},has_user_reacted:{n:4,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetMessageHistory_Response_ChatMessage_MessageReaction"},r}(St),Tn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},member:{n:2,c:nn},change:{n:3,br:l.d.readEnum,bw:l.h.writeEnum}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_MemberStateChange_Notification"},r}(St),Mn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,[3],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},default_chat_id:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},chat_rooms:{n:3,c:on,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_ChatRoomGroupRoomsChange_Notification"},r}(St),Nn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},chat_id:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},timestamp:{n:3,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_AckChatMessage_Notification"},r}(St),Ln=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.invite_code||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{invite_code:{n:1,br:l.d.readString,bw:l.h.writeString},seconds_valid:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_CreateInviteLink_Response"},r}(St),kn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid_sender||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid_sender:{n:3,br:l.d.readFixed64String,bw:l.h.writeFixed64String},time_expires:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},chat_id:{n:6,br:l.d.readUint64String,bw:l.h.writeUint64String},group_summary:{n:8,c:rn},user_chat_group_state:{n:9,c:ln},time_kick_expire:{n:10,br:l.d.readUint32,bw:l.h.writeUint32},banned:{n:11,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetInviteLinkInfo_Response"},r}(St),Fn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.group_summary||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{group_summary:{n:1,c:rn},time_kick_expire:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},banned:{n:3,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetInviteInfo_Response"},r}(St),Pn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.invite_links||l.a(r.M()),St.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{invite_links:{n:1,c:Gn,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetInviteLinksForGroup_Response"},r}(St),Gn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.invite_code||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{invite_code:{n:1,br:l.d.readString,bw:l.h.writeString},steamid_creator:{n:2,br:l.d.readFixed64String,bw:l.h.writeFixed64String},time_expires:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},chat_id:{n:4,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetInviteLinksForGroup_Response_LinkInfo"},r}(St),Un=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_DeleteInviteLink_Response"},r}(St),xn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.bans||l.a(r.M()),St.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{bans:{n:1,c:zn,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetBanList_Response"},r}(St),zn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.accountid||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{accountid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},accountid_actor:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},time_banned:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},ban_reason:{n:4,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetBanList_Response_BanInfo"},r}(St),Hn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.accountid||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{accountid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},accountid_actor:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},time_invited:{n:3,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoomGroupInvite"},r}(St),Wn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.invites||l.a(r.M()),St.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{invites:{n:1,c:Hn,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetInviteList_Response"},r}(St),Vn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_states||l.a(r.M()),St.initialize(t,e,0,-1,[1,2],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_states:{n:1,c:cn,r:!0,q:!0},virtualize_members_chat_group_ids:{n:2,r:!0,q:!0,br:l.d.readUint64String,bw:l.h.writeRepeatedUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_SetSessionActiveChatRoomGroups_Response"},r}(St),qn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_SetUserChatGroupPreferences_Response"},r}(St),Yn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CChatRoom_DeleteChatMessages_Response"},r}(St),Qn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.start||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{start:{n:3,br:l.d.readInt32,bw:l.h.writeInt32},end:{n:4,br:l.d.readInt32,bw:l.h.writeInt32},total_count:{n:5,br:l.d.readInt32,bw:l.h.writeInt32},client_changenumber:{n:6,br:l.d.readInt32,bw:l.h.writeInt32},server_changenumber:{n:7,br:l.d.readInt32,bw:l.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoomMemberListView"},r}(St),Zn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.ingame||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{ingame:{n:1,br:l.d.readInt32,bw:l.h.writeInt32},online:{n:2,br:l.d.readInt32,bw:l.h.writeInt32},offline:{n:3,br:l.d.readInt32,bw:l.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoomMemberSummaryCounts"},r}(St),Kn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.matching_members||l.a(r.M()),St.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{matching_members:{n:1,c:Jn,r:!0,q:!0},status_flags:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_SearchMembers_Response"},r}(St),Jn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.accountid||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{accountid:{n:1,br:l.d.readInt32,bw:l.h.writeInt32},persona:{n:2,c:V.f}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_SearchMembers_Response_MemberMatch"},r}(St),Xn=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.num_reactors||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{num_reactors:{n:1,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_UpdateMessageReaction_Response"},r}(St),$n=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},chat_id:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},server_timestamp:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},ordinal:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},reactor:{n:5,br:l.d.readFixed64String,bw:l.h.writeFixed64String},reaction_type:{n:6,br:l.d.readEnum,bw:l.h.writeEnum},reaction:{n:7,br:l.d.readString,bw:l.h.writeString},is_add:{n:8,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_MessageReaction_Notification"},r}(St),er=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.reactors||l.a(r.M()),St.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{reactors:{n:1,r:!0,q:!0,br:l.d.readUint32,bw:l.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoom_GetMessageReactionReactors_Response"},r}(St),tr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_summary||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_summary:{n:1,c:rn}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CClanChatRooms_GetClanChatRoomInfo_Response"},r}(St),nr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_room_private||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_room_private:{n:1,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CClanChatRooms_SetClanChatRoomPrivate_Response"},r}(St),rr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},user_chat_group_state:{n:2,c:ln},group_summary:{n:3,c:rn},user_action:{n:4,br:l.d.readEnum,bw:l.h.writeEnum}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"ChatRoomClient_NotifyChatGroupUserStateChanged_Notification"},r}(St),ir=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_ids||l.a(r.M()),St.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_ids:{n:1,r:!0,q:!0,br:l.d.readUint64String,bw:l.h.writeRepeatedUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"ChatRoomClient_NotifyChatRoomDisconnect_Notification"},r}(St),ar=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.chat_group_id||l.a(r.M()),St.initialize(t,e,0,-1,[4,7],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{chat_group_id:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},view_id:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},view:{n:3,c:Qn},members:{n:4,c:or,r:!0,q:!0},status_flags:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},member_summary:{n:6,c:Zn},subscribed_personas:{n:7,c:V.f,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoomClient_MemberListViewUpdated_Notification"},r}(St),or=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.rank||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{rank:{n:1,br:l.d.readInt32,bw:l.h.writeInt32},accountid:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},persona:{n:3,c:V.f}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatRoomClient_MemberListViewUpdated_Notification_MemberListViewEntry"},r}(St),sr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.metrics_run_id||l.a(r.M()),St.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{metrics_run_id:{n:1,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CChatUsability_RequestClientUsabilityMetrics_Notification"},r}(St);(wt||(wt={})).RequestFriendPersonaStates=function(e,t){return e.SendMsg("Chat.RequestFriendPersonaStates#1",t,It,{ePrivilege:1})},(Ct={}).CreateChatRoomGroup=function(e,t){return e.SendMsg("ChatRoom.CreateChatRoomGroup#1",t,Dt,{ePrivilege:3})},Ct.SaveChatRoomGroup=function(e,t){return e.SendMsg("ChatRoom.SaveChatRoomGroup#1",t,Tt,{ePrivilege:3})},Ct.RenameChatRoomGroup=function(e,t){return e.SendMsg("ChatRoom.RenameChatRoomGroup#1",t,Rt,{ePrivilege:3})},Ct.SetChatRoomGroupTagline=function(e,t){return e.SendMsg("ChatRoom.SetChatRoomGroupTagline#1",t,Mt,{ePrivilege:3})},Ct.SetChatRoomGroupAvatar=function(e,t){return e.SendMsg("ChatRoom.SetChatRoomGroupAvatar#1",t,Nt,{ePrivilege:3})},Ct.SetChatRoomGroupWatchingBroadcast=function(e,t){return e.SendMsg("ChatRoom.SetChatRoomGroupWatchingBroadcast#1",t,Lt,{ePrivilege:3})},Ct.JoinMiniGameForChatRoomGroup=function(e,t){return e.SendMsg("ChatRoom.JoinMiniGameForChatRoomGroup#1",t,kt,{ePrivilege:3})},Ct.EndMiniGameForChatRoomGroup=function(e,t){return e.SendMsg("ChatRoom.EndMiniGameForChatRoomGroup#1",t,Ft,{ePrivilege:3})},Ct.MuteUserInGroup=function(e,t){return e.SendMsg("ChatRoom.MuteUserInGroup#1",t,Pt,{ePrivilege:3})},Ct.KickUserFromGroup=function(e,t){return e.SendMsg("ChatRoom.KickUserFromGroup#1",t,Gt,{ePrivilege:3})},Ct.SetUserBanState=function(e,t){return e.SendMsg("ChatRoom.SetUserBanState#1",t,Ut,{ePrivilege:3})},Ct.RevokeInviteToGroup=function(e,t){return e.SendMsg("ChatRoom.RevokeInviteToGroup#1",t,xt,{ePrivilege:1})},Ct.CreateRole=function(e,t){return e.SendMsg("ChatRoom.CreateRole#1",t,Wt,{ePrivilege:3})},Ct.GetRoles=function(e,t){return e.SendMsg("ChatRoom.GetRoles#1",t,qt,{ePrivilege:1})},Ct.RenameRole=function(e,t){return e.SendMsg("ChatRoom.RenameRole#1",t,Yt,{ePrivilege:3})},Ct.ReorderRole=function(e,t){return e.SendMsg("ChatRoom.ReorderRole#1",t,Qt,{ePrivilege:3})},Ct.DeleteRole=function(e,t){return e.SendMsg("ChatRoom.DeleteRole#1",t,Zt,{ePrivilege:3})},Ct.GetRoleActions=function(e,t){return e.SendMsg("ChatRoom.GetRoleActions#1",t,Kt,{ePrivilege:1})},Ct.ReplaceRoleActions=function(e,t){return e.SendMsg("ChatRoom.ReplaceRoleActions#1",t,Jt,{ePrivilege:3})},Ct.AddRoleToUser=function(e,t){return e.SendMsg("ChatRoom.AddRoleToUser#1",t,Xt,{ePrivilege:3})},Ct.GetRolesForUser=function(e,t){return e.SendMsg("ChatRoom.GetRolesForUser#1",t,$t,{ePrivilege:1})},Ct.DeleteRoleFromUser=function(e,t){return e.SendMsg("ChatRoom.DeleteRoleFromUser#1",t,en,{ePrivilege:3})},Ct.JoinChatRoomGroup=function(e,t){return e.SendMsg("ChatRoom.JoinChatRoomGroup#1",t,gn,{ePrivilege:3})},Ct.InviteFriendToChatRoomGroup=function(e,t){return e.SendMsg("ChatRoom.InviteFriendToChatRoomGroup#1",t,yn,{ePrivilege:3})},Ct.LeaveChatRoomGroup=function(e,t){return e.SendMsg("ChatRoom.LeaveChatRoomGroup#1",t,Sn,{ePrivilege:1})},Ct.CreateChatRoom=function(e,t){return e.SendMsg("ChatRoom.CreateChatRoom#1",t,dn,{ePrivilege:3})},Ct.DeleteChatRoom=function(e,t){return e.SendMsg("ChatRoom.DeleteChatRoom#1",t,mn,{ePrivilege:3})},Ct.RenameChatRoom=function(e,t){return e.SendMsg("ChatRoom.RenameChatRoom#1",t,hn,{ePrivilege:3})},Ct.ReorderChatRoom=function(e,t){return e.SendMsg("ChatRoom.ReorderChatRoom#1",t,fn,{ePrivilege:3})},Ct.SendChatMessage=function(e,t){return e.SendMsg("ChatRoom.SendChatMessage#1",t,En,{ePrivilege:3})},Ct.JoinVoiceChat=function(e,t){return e.SendMsg("ChatRoom.JoinVoiceChat#1",t,wn,{ePrivilege:3})},Ct.LeaveVoiceChat=function(e,t){return e.SendMsg("ChatRoom.LeaveVoiceChat#1",t,Cn,{ePrivilege:1})},Ct.GetMessageHistory=function(e,t){return e.SendMsg("ChatRoom.GetMessageHistory#1",t,jn,{ePrivilege:3})},Ct.GetMyChatRoomGroups=function(e,t){return e.SendMsg("ChatRoom.GetMyChatRoomGroups#1",t,vn,{ePrivilege:1})},Ct.GetChatRoomGroupState=function(e,t){return e.SendMsg("ChatRoom.GetChatRoomGroupState#1",t,_n,{ePrivilege:3})},Ct.GetChatRoomGroupSummary=function(e,t){return e.SendMsg("ChatRoom.GetChatRoomGroupSummary#1",t,rn,{ePrivilege:2})},Ct.SetAppChatRoomGroupForceActive=function(e,t){return e.SendMsg("ChatRoom.SetAppChatRoomGroupForceActive#1",t,an,{ePrivilege:1})},Ct.SetAppChatRoomGroupStopForceActive=function(e,t){return e.SendNotification("ChatRoom.SetAppChatRoomGroupStopForceActive#1",t,{ePrivilege:1})},Ct.AckChatMessage=function(e,t){return e.SendNotification("ChatRoom.AckChatMessage#1",t,{ePrivilege:1})},Ct.CreateInviteLink=function(e,t){return e.SendMsg("ChatRoom.CreateInviteLink#1",t,Ln,{ePrivilege:3})},Ct.GetInviteLinkInfo=function(e,t){return e.SendMsg("ChatRoom.GetInviteLinkInfo#1",t,kn,{ePrivilege:2})},Ct.GetInviteInfo=function(e,t){return e.SendMsg("ChatRoom.GetInviteInfo#1",t,Fn,{ePrivilege:1})},Ct.GetInviteLinksForGroup=function(e,t){return e.SendMsg("ChatRoom.GetInviteLinksForGroup#1",t,Pn,{ePrivilege:3})},Ct.GetBanList=function(e,t){return e.SendMsg("ChatRoom.GetBanList#1",t,xn,{ePrivilege:3})},Ct.GetInviteList=function(e,t){return e.SendMsg("ChatRoom.GetInviteList#1",t,Wn,{ePrivilege:3})},Ct.DeleteInviteLink=function(e,t){return e.SendMsg("ChatRoom.DeleteInviteLink#1",t,Un,{ePrivilege:3})},Ct.SetSessionActiveChatRoomGroups=function(e,t){return e.SendMsg("ChatRoom.SetSessionActiveChatRoomGroups#1",t,Vn,{ePrivilege:1})},Ct.SetUserChatGroupPreferences=function(e,t){return e.SendMsg("ChatRoom.SetUserChatGroupPreferences#1",t,qn,{ePrivilege:1})},Ct.DeleteChatMessages=function(e,t){return e.SendMsg("ChatRoom.DeleteChatMessages#1",t,Yn,{ePrivilege:1})},Ct.UpdateMemberListView=function(e,t){return e.SendNotification("ChatRoom.UpdateMemberListView#1",t,{ePrivilege:1})},Ct.SearchMembers=function(e,t){return e.SendMsg("ChatRoom.SearchMembers#1",t,Kn,{ePrivilege:1})},Ct.UpdateMessageReaction=function(e,t){return e.SendMsg("ChatRoom.UpdateMessageReaction#1",t,Xn,{ePrivilege:1})},Ct.GetMessageReactionReactors=function(e,t){return e.SendMsg("ChatRoom.GetMessageReactionReactors#1",t,er,{ePrivilege:1})},(Ot={}).GetClanChatRoomInfo=function(e,t){return e.SendMsg("ClanChatRooms.GetClanChatRoomInfo#1",t,tr,{ePrivilege:2})},Ot.SetClanChatRoomPrivate=function(e,t){return e.SendMsg("ClanChatRooms.SetClanChatRoomPrivate#1",t,nr,{ePrivilege:3})},(Et={}).NotifyIncomingChatMessageHandler={name:"ChatRoomClient.NotifyIncomingChatMessage#1",request:Bn},Et.NotifyChatMessageModifiedHandler={name:"ChatRoomClient.NotifyChatMessageModified#1",request:An},Et.NotifyMemberStateChangeHandler={name:"ChatRoomClient.NotifyMemberStateChange#1",request:Tn},Et.NotifyChatRoomHeaderStateChangeHandler={name:"ChatRoomClient.NotifyChatRoomHeaderStateChange#1",request:tn},Et.NotifyChatRoomGroupRoomsChangeHandler={name:"ChatRoomClient.NotifyChatRoomGroupRoomsChange#1",request:Mn},Et.NotifyShouldRejoinChatRoomVoiceChatHandler={name:"ChatRoomClient.NotifyShouldRejoinChatRoomVoiceChat#1",request:On},Et.NotifyChatGroupUserStateChangedHandler={name:"ChatRoomClient.NotifyChatGroupUserStateChanged#1",request:rr},Et.NotifyAckChatMessageEchoHandler={name:"ChatRoomClient.NotifyAckChatMessageEcho#1",request:Nn},Et.NotifyChatRoomDisconnectHandler={name:"ChatRoomClient.NotifyChatRoomDisconnect#1",request:ir},Et.NotifyMemberListViewUpdatedHandler={name:"ChatRoomClient.NotifyMemberListViewUpdated#1",request:ar},Et.NotifyMessageReactionHandler={name:"ChatRoomClient.NotifyMessageReaction#1",request:$n},(Bt||{}).NotifyClientUsabilityMetrics=function(e,t){return e.SendNotification("ChatUsability.NotifyClientUsabilityMetrics#1",t,{ePrivilege:1})};var cr=n("exH9"),lr=n("WonJ"),ur=n.n(lr),pr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),Object.defineProperty(t,"hoverClass",{get:function(){return ur.a.hoverParent},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.persona,n=e.animating,r=e.className,i=e.size,a=e.dim,o=Object(j.f)(e,["persona","animating","className","size","dim"]),s="";return"medium"==i?s=ur.a.Medium:"large"==i&&(s=ur.a.Large),D.createElement("div",Object(j.a)({className:Object(cr.a)(ur.a.SnoozeContainer,t.online_state,r,n&&ur.a.animating,s,a&&ur.a.Dim)},o),D.createElement("div",{"data-text":"Z",className:Object(cr.a)(ur.a.SnoozeZ,ur.a.Z1)},"Z"),D.createElement("div",{"data-text":"Z",className:Object(cr.a)(ur.a.SnoozeZ,ur.a.Z2)},"Z"),D.createElement("div",{"data-text":"Z",className:Object(cr.a)(ur.a.SnoozeZ,ur.a.Z3)},"Z"))},Object(j.c)([o.observer],t)}(D.Component),dr=n("WeG9"),mr=n.n(dr),hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.strAvatarURL,n=e.size,r=e.className,i=e.statusStyle,a=e.statusPosition,o=e.children,s=Object(j.f)(e,["strAvatarURL","size","className","statusStyle","statusPosition","children"]);return D.createElement("div",Object(j.a)({className:Object(cr.a)(mr.a.avatarHolder,"avatarHolder","no-drag",n||"Medium",r)},s),D.createElement("div",{className:Object(cr.a)(mr.a.avatarStatus,"avatarStatus",a),style:i}),D.createElement("img",{className:Object(cr.a)(mr.a.avatar,"avatar"),src:t,draggable:!1}),o)},t}(D.Component),fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.persona,n=e.size,r=e.animatedAvatar,i=e.className,a=Object(j.f)(e,["persona","size","animatedAvatar","className"]),o="";return r&&r.image_small&&0!=r.image_small.length?o="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/"+r.image_small:t?(o=t.avatar_url_medium,"Small"==n||"X-Small"==n?o=t.avatar_url:"Large"!=n&&"X-Large"!=n&&"FillArea"!=n||(o=t.avatar_url_full)):(o="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/avatars/fe/fef49e7fa7e1997310d705b2a6158ff8dc1cdfeb_medium.jpg","Small"==n||"X-Small"==n?o="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/avatars/fe/fef49e7fa7e1997310d705b2a6158ff8dc1cdfeb.jpg":"Large"!=n&&"X-Large"!=n&&"FillArea"!=n||(o="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/avatars/fe/fef49e7fa7e1997310d705b2a6158ff8dc1cdfeb_full.jpg")),D.createElement(hr,Object(j.a)({strAvatarURL:o,size:n,className:Object(cr.a)(ft(t),i)},a))},Object(j.c)([o.observer],t)}(D.Component),br=Object(o.observer)(function(e){var t=e.profileItem,n=e.className,r=e.bDisableAnimation,i=Object(j.f)(e,["profileItem","className","bDisableAnimation"]);if(!t||!t.image_small||0==t.image_small.length)return null;var a=r?t.image_large:t.image_small;return(a=a||t.image_small).startsWith("https://")||(a="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/"+a),D.createElement("div",Object(j.a)({className:Object(cr.a)(mr.a.avatarFrame,n,"avatarFrame")},i),D.createElement("img",{className:mr.a.avatarFrameImg,src:a}))}),_r=(D.Component,n("6Y59")),vr=n("Xfd2"),gr=n.n(vr),yr=Object(o.observer)(function(e){var t=e.persona,n=e.className,r=Object(j.f)(e,["persona","className"]);if(!t)return null;if(!t.is_online)return null;var i=t.HasStateFlag(512),a=t.HasStateFlag(2048),o=!a&&t.HasStateFlag(1024);return D.createElement(D.Fragment,null,i&&D.createElement("div",Object(j.a)({className:Object(cr.a)(n,gr.a.PersonaStatusIcon,gr.a.MobilePhoneIcon,ft(t)),title:Object(R.f)("#Platform_Hint_Mobile")},r),D.createElement(_r.W,null)),a&&D.createElement("div",Object(j.a)({className:Object(cr.a)(n,gr.a.PersonaStatusIcon,gr.a.VRIcon,ft(t)),title:Object(R.f)("#Platform_Hint_VR")},r),D.createElement(_r.Bb,null)),o&&D.createElement("div",Object(j.a)({className:Object(cr.a)(n,gr.a.PersonaStatusIcon,gr.a.BigPictureIcon,ft(t)),title:Object(R.f)("#Platform_Hint_BigPicture")},r),D.createElement(_r.g,null)))}),Sr=n("EImw"),wr=n.n(Sr),Cr=n("CdLH"),Or=Cr.g.PerMinute,Er=function(){function e(e){this.m_bLoadingData=!1,this.m_rtLastLoad=0,this.m_accountid=e}return Object.defineProperty(e.prototype,"community_data",{get:function(){return this.m_communityData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"community_data_ready",{get:function(){return void 0!==this.m_communityData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"player_level",{get:function(){return this.m_communityData&&this.m_communityData.level},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"player_level_class",{get:function(){return this.m_communityData&&this.m_communityData.level_class},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"player_badge",{get:function(){return this.m_communityData&&this.m_communityData.favorite_badge},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"profile_background",{get:function(){return this.m_communityData&&this.m_communityData.profile_background},enumerable:!1,configurable:!0}),e.prototype.Reload=function(){this.m_rtLastLoad=0,this.EnsureCommunityDataLoaded()},e.prototype.EnsureCommunityDataLoaded=function(){var n=this,e=this.m_communityData||this.m_bLoadingData,t=Date.now()>this.m_rtLastLoad+1e3*Or;e&&(!t||this.m_bLoadingData)||(this.m_bLoadingData=!0,P.a.get(A.c.CHAT_BASE_URL+"miniprofile/"+this.m_accountid+"/json").then(function(e){var t=e.data;"number"==typeof t.level&&"string"==typeof t.level_class&&(n.m_communityData=t),n.m_bLoadingData=!1,n.m_rtLastLoad=Date.now()}).catch(function(e){n.m_bLoadingData=!1}))},Object(j.c)([O.observable],e.prototype,"m_communityData",void 0),e}(),Br=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props.community_data,t=e&&e.favorite_badge;return t?D.createElement("div",{className:Object(cr.a)(wr.a.miniProfileFeaturedContainer,this.props.className)},D.createElement("div",{className:wr.a.favoriteBadgeIcon},D.createElement("img",{src:t.icon,className:wr.a.badgeIcon})),D.createElement("div",{className:Object(cr.a)(wr.a.featuredLabels,wr.a.favoriteBadgeDescription)},D.createElement("div",{className:wr.a.featuredTitle},t.name),D.createElement("div",{className:wr.a.featuredSubTitle},Object(R.f)("#Hover_BadgeXP",t.xp)))):null},Object(j.c)([o.observer],t)}(D.Component),Ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.community_data,n=e.className;return t?D.createElement("div",{className:Object(cr.a)(wr.a.miniProfileFeaturedContainer,n)},D.createElement("div",{className:t.level_class},D.createElement("span",{className:wr.a.friendPlayerLevelNum},t.level)),D.createElement("div",{className:wr.a.featuredLabels},D.createElement("div",{className:wr.a.featuredTitle},Object(R.f)("#Hover_SteamLevel")+" "))):null},Object(j.c)([o.observer],t)}(D.Component),Ir=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props.persona;return D.createElement("div",{className:Object(cr.a)(wr.a.miniProfileGameContainer,this.props.className)},this.props.persona.GetCurrentGameLogoURL()&&D.createElement("img",{className:wr.a.gameLogo,src:this.props.persona.GetCurrentGameLogoURL()}),D.createElement("div",{className:Object(cr.a)(wr.a.gameContent,wr.a.persona,wr.a.ingame,wr.a.ellipsis)},D.createElement("div",{className:wr.a.gameState},Object(R.f)(e.is_in_nonsteam_game?"#PersonaStateInNonSteamGame":"#PersonaStateInGame")),this.props.persona.GetCurrentGameName(),this.props.persona.HasCurrentGameRichPresence()&&D.createElement("div",{className:wr.a.richPresence},this.props.persona.GetCurrentGameRichPresence()),this.props.in_game_section_additional))},Object(j.c)([o.observer],t)}(D.Component),jr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e,t,n=this.props.broadcast_description;return n&&(e=Object(R.f)("#PersonaStateWatchingBroadcast"),t=n),D.createElement("div",{className:Object(cr.a)(wr.a.miniProfileGameContainer,this.props.className)},this.props.persona.GetBroadcastGameLogoURL()&&D.createElement("img",{className:wr.a.gameLogo,src:this.props.persona.GetBroadcastGameLogoURL()}),D.createElement("div",{className:Object(cr.a)(wr.a.gameContent,wr.a.persona,wr.a.watchingbroadcast,wr.a.ellipsis)},D.createElement("div",{className:wr.a.gameState},e),t&&D.createElement("div",{className:wr.a.richPresence},t),D.createElement("div",{className:wr.a.watchingbroadcastThumbnail},this.props.broadcast_thumbnail)))},Object(j.c)([o.observer],t)}(D.Component),Dr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=(e.className,e.persona),n=e.data_loader,r=e.community_data_override,i=e.nickname,a=e.is_friend,o=e.is_blocked,s=(e.friend_relationship,e.broadcast_description,e.broadcast_thumbnail,e.mutual_friends,e.in_game_section_additional,e.bottom_section_additional),c=Object(j.f)(e,["className","persona","data_loader","community_data_override","nickname","is_friend","is_blocked","friend_relationship","broadcast_description","broadcast_thumbnail","mutual_friends","in_game_section_additional","bottom_section_additional"]),l=n.community_data;r&&(l=Object(j.a)(Object(j.a)({},l),r));var u=0<Object.keys(l&&l.profile_background||{}).length,p=void 0,d=wr.a.miniProfileContent;t.is_ingame?p=D.createElement(Ir,Object(j.a)({},this.props,{className:u?wr.a.miniProfileBackdropBlur:void 0})):t.is_watchingbroadcast?p=D.createElement(jr,Object(j.a)({},this.props,{className:u?wr.a.miniProfileBackdropBlur:void 0})):d+=" "+wr.a.notInOrWatchingGame;var m=!0,h=!1,f=!1;a||(d+=" "+wr.a.notFriends,m=!1),o&&(d+=" "+wr.a.communicationBlocked,f=!0);var b=void 0!==i,_=t.is_awayOrSnooze,v=void 0,v=b?D.createElement("div",null,D.createElement("div",{className:wr.a.personaAndIcons},D.createElement("div",{className:Object(cr.a)(wr.a.personaName,wr.a.nickName)},D.createElement("div",{className:wr.a.personaNameLabel},this.props.nickname),D.createElement("div",{className:wr.a.playerNicknameBracket,title:Object(R.f)("#isNickname")},"*")),D.createElement(yr,{persona:t})),D.createElement("div",{className:Object(cr.a)(wr.a.personaName,wr.a.hasNickname)},"(",D.createElement("div",{className:wr.a.personaNameLabel},t.m_strPlayerName),")")):D.createElement("div",{className:wr.a.personaAndIcons},D.createElement("div",{className:wr.a.personaName},D.createElement("div",{className:wr.a.personaNameLabel},t.m_strPlayerName)),D.createElement(yr,{persona:t}));return 2==this.props.friend_relationship&&(h=!0),D.createElement(D.Fragment,null,D.createElement("div",Object(j.a)({key:t.GetAccountID(),className:Object(cr.a)(this.props.className,wr.a.miniProfile)},c),D.createElement("div",{className:d},D.createElement(Rr,{community_data:l,persona:t}),D.createElement("div",{className:wr.a.miniProfileHeader},D.createElement("div",{className:Object(cr.a)(wr.a.miniProfilePlayer,t.online_state,_&&wr.a.isAway,ft(t))},D.createElement(Tr,{persona:this.props.persona,community_data:l}),_&&D.createElement(pr,{persona:t,animating:!0,className:wr.a.SnoozeContainer,size:"large"}),D.createElement("div",{className:wr.a.playerContent},D.createElement("div",{className:wr.a.playerName},D.createElement("div",{className:wr.a.persona},v,_&&D.createElement("div",{className:wr.a.awayStatusLabel},Object(R.f)("#PersonaStateAway")),!t.is_online&&D.createElement("div",{className:wr.a.awayStatusLabel},this.props.persona.GetLocalizedOnlineStatus()),"online"==t.online_state&&!_&&D.createElement("div",{className:wr.a.awayStatusLabel},Object(R.f)("#PersonaStateOnline")),!m&&D.createElement("div",{className:wr.a.miniProfileNotFriends},h?Object(R.f)("#Friend_Menu_NotAFriendRequesting"):Object(R.f)("#Friend_Menu_NotAFriendLabel")),f&&D.createElement("div",{className:wr.a.miniProfileBlocked},Object(R.f)("#PersonaStateBlocked"))))))),p,D.createElement("div",{className:Object(cr.a)(wr.a.miniProfileBottom,u&&wr.a.miniProfileBackdropBlur)},D.createElement(Br,{community_data:l}),D.createElement(Ar,{community_data:l})),s,D.createElement("div",{className:wr.a.mutualFriends},this.props.mutual_friends))))},Object(j.c)([o.observer],t)}(D.Component),Rr=function(e){var t=e.community_data,n=e.persona;if(t&&t.profile_background){var r=t.profile_background,i=r.image,a=Object(j.f)(r,["image"]);if(Object.keys(a).length)return D.createElement("div",{className:wr.a.miniProfileVideoBackgroundContainer,key:a["video/webm"]||a["video/mp4"]||"image"},D.createElement("video",{className:wr.a.miniProfileVideoBackground,playsInline:!0,muted:!0,autoPlay:!0,loop:!0,poster:i},Object.keys(a).map(function(e){return D.createElement("source",{key:e,src:a[e],type:e})})));if(i)return D.createElement("div",{className:wr.a.miniProfileVideoBackgroundContainer},D.createElement("img",{className:wr.a.miniProfileVideoBackground,src:i}))}return D.createElement("div",{className:wr.a.miniProfileBackground},D.createElement("img",{className:wr.a.miniProfileBackgroundBlur,src:n.avatar_url}))},Tr=function(e){var t=e.persona,n=e.community_data,r=n&&n.avatar_frame&&D.createElement("img",{src:n.avatar_frame,className:wr.a.Frame}),i=n&&n.animated_avatar,a={size:"X-Large",statusPosition:"bottom",className:wr.a.playerAvatar};return i?D.createElement(hr,Object(j.a)({strAvatarURL:i},a),r):D.createElement(fr,Object(j.a)({persona:t},a),r)},Mr=c.Message;var Nr,Lr,kr,Fr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.tags||l.a(r.M()),Mr.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{tags:{n:1,c:Pr,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStore_GetMostPopularTags_Response"},r}(Mr),Pr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.tagid||l.a(r.M()),Mr.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{tagid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},name:{n:2,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStore_GetMostPopularTags_Response_Tag"},r}(Mr),Gr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.tags||l.a(r.M()),Mr.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{tags:{n:1,c:Ur,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStore_GetLocalizedNameForTags_Response"},r}(Mr),Ur=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.tagid||l.a(r.M()),Mr.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{tagid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},english_name:{n:2,br:l.d.readString,bw:l.h.writeString},name:{n:3,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStore_GetLocalizedNameForTags_Response_Tag"},r}(Mr),xr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.primary_language||l.a(r.M()),Mr.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{primary_language:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},secondary_languages:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},platform_windows:{n:3,br:l.d.readBool,bw:l.h.writeBool},platform_mac:{n:4,br:l.d.readBool,bw:l.h.writeBool},platform_linux:{n:5,br:l.d.readBool,bw:l.h.writeBool},hide_adult_content_violence:{n:6,br:l.d.readBool,bw:l.h.writeBool},hide_adult_content_sex:{n:7,br:l.d.readBool,bw:l.h.writeBool},timestamp_updated:{n:8,br:l.d.readUint32,bw:l.h.writeUint32},hide_store_broadcast:{n:9,br:l.d.readBool,bw:l.h.writeBool},review_score_preference:{n:10,br:l.d.readEnum,bw:l.h.writeEnum},timestamp_content_descriptor_preferences_updated:{n:11,br:l.d.readInt32,bw:l.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStore_UserPreferences"},r}(Mr),zr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.tags_to_exclude||l.a(r.M()),Mr.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{tags_to_exclude:{n:1,c:Hr,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStore_UserTagPreferences"},r}(Mr),Hr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.tagid||l.a(r.M()),Mr.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{tagid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},name:{n:2,br:l.d.readString,bw:l.h.writeString},timestamp_added:{n:3,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStore_UserTagPreferences_Tag"},r}(Mr),Wr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.content_descriptors_to_exclude||l.a(r.M()),Mr.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{content_descriptors_to_exclude:{n:1,c:Vr,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStore_UserContentDescriptorPreferences"},r}(Mr),Vr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.content_descriptorid||l.a(r.M()),Mr.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{content_descriptorid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},timestamp_added:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStore_UserContentDescriptorPreferences_ContentDescriptor"},r}(Mr),qr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Mr.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CStore_GetStorePreferences_Request"},r}(Mr),Yr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.preferences||l.a(r.M()),Mr.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{preferences:{n:1,c:xr},tag_preferences:{n:2,c:zr},content_descriptor_preferences:{n:3,c:Wr}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStore_GetStorePreferences_Response"},r}(Mr),Qr=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.preferences||l.a(r.M()),Mr.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{preferences:{n:1,c:xr},tag_preferences:{n:2,c:zr},content_descriptor_preferences:{n:3,c:Wr}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStore_StorePreferencesChanged_Notification"},r}(Mr);(Lr=Nr=Nr||{}).GetMostPopularTags=function(e,t){return e.SendMsg("Store.GetMostPopularTags#1",t,Fr,{bConstMethod:!0,ePrivilege:0,eWebAPIKeyRequirement:1})},Lr.GetLocalizedNameForTags=function(e,t){return e.SendMsg("Store.GetLocalizedNameForTags#1",t,Gr,{ePrivilege:0})},Lr.GetStorePreferences=function(e,t){return e.SendMsg("Store.GetStorePreferences#1",t,Yr,{ePrivilege:1})},(kr=kr||{}).NotifyStorePreferencesChangedHandler={name:"StoreClient.NotifyStorePreferencesChanged#1",request:Qr};var Zr="CachedCommunityPreferences",Kr="CachedStorePreferences",Jr=new(function(){function e(){var t=this;this.m_localStorage=new Ke,this.m_FriendSettings=C.j(),this.m_CommunityPreferencesChangedHandler=ae(yt.m.NotifyCommunityPreferencesChangedHandler,function(e){return t.UpdateCommunityPreferences(e.Body().preferences()),1}),this.m_StorePreferencesChangeHandler=ae(kr.NotifyStorePreferencesChangedHandler,function(e){return t.UpdateStorePreferences(e.Body().preferences(),e.Body().content_descriptor_preferences()),1}),this.m_CommunityPreferences=new C.h;var e=new yt.a;this.m_CommunityPreferences.bBlurAdultContentViolence=e.hide_adult_content_violence(),this.m_CommunityPreferences.bBlurAdultContentSex=e.hide_adult_content_sex(),this.m_CommunityPreferences.bParenthesizeNicknames=e.parenthesize_nicknames(),this.m_StorePreferences=new C.u,this.m_StorePreferences.eReviewScorePreference=0,this.m_StorePreferences.content_descriptor_preferences=new C.i,this.m_StorePreferences.content_descriptor_preferences.content_descriptors_to_exclude=[],SteamClient.Settings.RegisterForSettingsChanges(this.OnClientSettingsChange)}return e.prototype.Init=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n=this;return Object(j.e)(this,function(e){return this.m_CMInterface=r,(t=[]).push(this.m_localStorage.GetObject(Zr).then(function(e){e&&(n.m_CommunityPreferences=e)})),t.push(this.m_localStorage.GetObject(Kr).then(function(e){e&&(n.m_StorePreferences=e)})),[2,Promise.all(t).catch().then(function(){n.m_CMInterface.AddOnLogonCallback(function(){var e=x.b.Init(yt.d);yt.n.GetCommunityPreferences(n.m_CMInterface.GetServiceTransport(),e).then(function(e){n.UpdateCommunityPreferences(e.Body().preferences())});var t=x.b.Init(qr);Nr.GetStorePreferences(n.m_CMInterface.GetServiceTransport(),t).then(function(e){n.UpdateStorePreferences(e.Body().preferences(),e.Body().content_descriptor_preferences())})}),SteamClient.FriendSettings.RegisterForSettingsChanges(n.OnClientFriendsSettingsChange),SteamClient.Messaging.RegisterForMessages("Settings",n.OnPostMessage)})]})})},e.prototype.OnPostMessage=function(e,t,n){var r;"Settings"==e&&"CommunityPreferences"==t&&(r=JSON.parse(n),this.SetCommunityPreferences(r))},Object.defineProperty(e.prototype,"communityPreferences",{get:function(){return this.m_CommunityPreferences},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storePreferences",{get:function(){return this.m_StorePreferences},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"friendSettings",{get:function(){return this.m_FriendSettings},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"settings",{get:function(){return this.m_Settings},enumerable:!1,configurable:!0}),e.prototype.SetCommunityPreferences=function(e){this.m_CommunityPreferences=e,this.m_localStorage.StoreObject(Zr,e)},e.prototype.OnClientSettingsChange=function(e){O.comparer.structural(this.m_Settings,e)||(this.m_Settings=e)},e.prototype.OnClientFriendsSettingsChange=function(e){var t=C.j(),n="string"!=typeof e?e.FriendsSettings:JSON.parse(e,function(e,t){return"b"==e.substring(0,1)&&"number"==typeof t?0!=t:t});Object.assign(t,n),this.m_FriendSettings=t},e.prototype.UpdateCommunityPreferences=function(e){var t=Object(j.a)({},this.m_CommunityPreferences);void 0!==e.hide_adult_content_violence()&&(t.bBlurAdultContentViolence=e.hide_adult_content_violence()),void 0!==e.hide_adult_content_sex()&&(t.bBlurAdultContentSex=e.hide_adult_content_sex()),void 0!==e.parenthesize_nicknames()&&(t.bParenthesizeNicknames=e.parenthesize_nicknames()),this.SetCommunityPreferences(t)},e.prototype.UpdateStorePreferences=function(e,t){this.m_StorePreferences.eReviewScorePreference=e.review_score_preference();for(var n=this.m_StorePreferences.content_descriptor_preferences.content_descriptors_to_exclude.length=0;n<t.content_descriptors_to_exclude().length;n++){var r=t.content_descriptors_to_exclude()[n];this.m_StorePreferences.content_descriptor_preferences.content_descriptors_to_exclude.push({content_descriptorid:r.content_descriptorid(),timestamp_added:r.timestamp_added()})}this.m_localStorage.StoreObject(Kr,this.m_StorePreferences)},Object(j.c)([O.observable],e.prototype,"m_CommunityPreferences",void 0),Object(j.c)([O.observable],e.prototype,"m_StorePreferences",void 0),Object(j.c)([O.observable],e.prototype,"m_FriendSettings",void 0),Object(j.c)([O.observable],e.prototype,"m_Settings",void 0),Object(j.c)([E.a],e.prototype,"OnPostMessage",null),Object(j.c)([E.a],e.prototype,"OnClientSettingsChange",null),Object(j.c)([E.a],e.prototype,"OnClientFriendsSettingsChange",null),Object(j.c)([O.action],e.prototype,"UpdateCommunityPreferences",null),Object(j.c)([O.action],e.prototype,"UpdateStorePreferences",null),e}());window.settingsStore=Jr;var Xr=n("bS9Q"),$r=function(){function e(e,t){this.m_persona=new vt(e),this.m_eFriendRelationship=t,this.m_miniProfileData=void 0}return Object.defineProperty(e.prototype,"persona",{get:function(){return this.m_persona},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mutable_persona",{get:function(){return this.m_persona},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nickname",{get:function(){return this.m_strNickname},set:function(e){this.m_strNickname=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"friendRelationship",{get:function(){return this.m_eFriendRelationship},set:function(e){this.m_eFriendRelationship=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayName",{get:function(){var e=!Jr.communityPreferences.bParenthesizeNicknames;return this.nickname&&e?this.nickname:this.persona&&this.persona.m_strPlayerName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miniProfileData",{get:function(){return null==this.m_miniProfileData&&(this.m_miniProfileData=new Er(this.persona.m_steamid.GetAccountID())),this.m_miniProfileData},enumerable:!1,configurable:!0}),e.compare=function(e,t){var n=Jr.communityPreferences.bParenthesizeNicknames,r=!Jr.friendSettings.bForceAlphabeticFriendSorting,i=bt.SortStatusComparator(r,e.persona,t.persona);return 0!=i?i:n?Object(Xr.f)(e.persona.m_strPlayerName,t.persona.m_strPlayerName):Object(Xr.f)(e.nickname?e.nickname:e.persona.m_strPlayerName,t.nickname?t.nickname:t.persona.m_strPlayerName)},Object(j.c)([O.observable],e.prototype,"m_persona",void 0),Object(j.c)([O.observable],e.prototype,"m_strNickname",void 0),Object(j.c)([O.observable],e.prototype,"m_eFriendRelationship",void 0),e}(),ei=new(function(){function e(){var s=this;this.m_mapPersonaCache=new O.ObservableMap,this.m_mapFriendsInGame=new O.ObservableMap,this.m_iIntervalSubscribeToPersonaStateUpdates=0,this.m_setFriendsNeedingPersonaStateLoad=new Set,this.m_nMissingPersonaStateRetryCount=0,this.m_nMissingPersonaStateMaxRetries=5,this.m_currentUserPersonaState=0,this.fnRecvMsgClientPersonaState=ie(766,V.e,function(o){Object(O.runInAction)(function(){for(var e=o.Body().status_flags(),t=0,n=o.Body().friends();t<n.length;t++){var r,i=n[t],a=new H.a(i.friendid());a.BIsIndividualAccount()&&(r=s.GetFriendState(a),s.bSignedIn&&s.UpdateInGameMapForFriendState(r,e,i),r.mutable_persona.UpdateFromMessage(e,i),s.bSignedIn||r.persona.Reset())}})}),this.fnRecvMsgClientFriendsList=ie(767,V.c,function(e){e.Body().bincremental()&&s.SetFriendsList(e.Body())})}return e.prototype.Init=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return this.m_CMInterface=t,SteamClient.Messaging.RegisterForMessages("PersonaState",this.OnCurrentUserPersonaStateMessage),SteamClient.Messaging.PostMessage("PersonaState","RequestPersonaState","{}"),this.GetFriendsList(),[2]})})},e.prototype.OnCurrentUserPersonaStateMessage=function(e,t,n){var r,i,a;"PersonaUpdate"==t&&(r=JSON.parse(n),i=0!=this.m_currentUserPersonaState&&0==r,a=0==this.m_currentUserPersonaState&&0!=r,console.log("Current user persona state is now",r),this.m_currentUserPersonaState=r,i?this.MakeAllFriendAppearOffline():a&&this.GetOnlineFriends())},Object.defineProperty(e.prototype,"bSignedIn",{get:function(){return 0!=this.m_currentUserPersonaState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentUserSteamID",{get:function(){return this.m_CMInterface.steamid},enumerable:!1,configurable:!0}),e.prototype.GetFriendsList=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=x.b.Init(gt.a),[4,gt.b.GetFriendsList(this.m_CMInterface.GetServiceTransport(),t)];case 1:return 1==(n=e.sent()).GetEResult()&&this.SetFriendsList(n.Body().friendslist()),[2]}})})},e.prototype.SetFriendsList=function(e){e.bincremental()||(this.m_mapPersonaCache.clear(),this.m_mapFriendsInGame.clear());for(var t=0,n=e.friends();t<n.length;t++){var r,i=n[t];2!=i.efriendrelationship()&&5!=i.efriendrelationship()&&(r=new H.a(i.ulfriendid()),this.m_mapPersonaCache.set(r.GetAccountID(),new $r(r,i.efriendrelationship())),this.m_setFriendsNeedingPersonaStateLoad.add(r.GetAccountID()))}var a=this.currentUserSteamID.GetAccountID();this.m_mapPersonaCache.set(a,new $r(this.currentUserSteamID)),this.m_setFriendsNeedingPersonaStateLoad.add(a),this.GetOnlineFriends(),this.RequestPerFriendPreferences(),this.SubscribeToMissingPersonaStates()},e.prototype.GetOnlineFriends=function(){var e=x.b.Init(At);wt.RequestFriendPersonaStates(this.m_CMInterface.GetServiceTransport(),e)},e.prototype.RequestPerFriendPreferences=function(){var a=this,e=x.b.Init(yt.g);yt.n.GetPerFriendPreferences(this.m_CMInterface.GetServiceTransport(),e).then(function(i){Object(O.runInAction)(function(){for(var e=0,t=i.Body().preferences();e<t.length;e++){var n=t[e],r=a.m_mapPersonaCache.get(n.accountid());r&&(r.nickname=n.nickname()||void 0)}})})},e.prototype.QueueMissingPersonaStateLoad=function(){this.m_iIntervalSubscribeToPersonaStateUpdates||(this.m_iIntervalSubscribeToPersonaStateUpdates=window.setTimeout(this.SubscribeToMissingPersonaStates.bind(this),50))},e.prototype.SubscribeToMissingPersonaStates=function(){var a=this;this.m_iIntervalSubscribeToPersonaStateUpdates&&(window.clearTimeout(this.m_iIntervalSubscribeToPersonaStateUpdates),this.m_iIntervalSubscribeToPersonaStateUpdates=0);var o=[];if(this.m_setFriendsNeedingPersonaStateLoad.forEach(function(e){var t=a.m_mapPersonaCache.get(e);t&&!t.persona.m_bInitialized&&o.push(t.persona.m_steamid.GetAccountID())}),this.m_setFriendsNeedingPersonaStateLoad.clear(),o.length){if(!this.m_CMInterface)return void console.error("FriendStore: Attempting to request persona states without a CM interface.");var e=x.b.Init(V.g,815);e.Body().set_persona_state_requested(1106);for(var t=0,n=o;t<n.length;t++){var r=n[t];e.Body().add_friends(H.a.InitFromAccountID(r).ConvertTo64BitString())}this.m_CMInterface.Send(e),window.setTimeout(function(){for(var e=0,t=0,n=o;t<n.length;t++){var r=n[t],i=a.m_mapPersonaCache.get(r);i&&!i.persona.m_bInitialized&&(i.persona.m_bNameInitialized||a.m_setFriendsNeedingPersonaStateLoad.add(r),e++)}0<e?a.m_nMissingPersonaStateRetryCount<a.m_nMissingPersonaStateMaxRetries?(a.m_nMissingPersonaStateRetryCount++,a.m_iIntervalSubscribeToPersonaStateUpdates||(a.m_iIntervalSubscribeToPersonaStateUpdates=window.setTimeout(a.SubscribeToMissingPersonaStates.bind(a),1e3))):console.log("Giving up persona state retries with",e,"still not filled",a.m_setFriendsNeedingPersonaStateLoad):a.m_nMissingPersonaStateRetryCount=0},500)}},e.prototype.GetFriendState=function(e){var t=this,n="number"==typeof e?e:e.GetAccountID(),r="number"==typeof e?H.a.InitFromAccountID(n):e;return this.m_mapPersonaCache.has(n)?this.m_mapPersonaCache.get(n):(setTimeout(function(){var e;t.m_mapPersonaCache.has(n)||(e=new $r(new H.a(r)),t.m_mapPersonaCache.set(n,e),t.m_setFriendsNeedingPersonaStateLoad.add(n),t.QueueMissingPersonaStateLoad())},0),new $r(new H.a(r)))},Object.defineProperty(e.prototype,"allFriends",{get:function(){return Array.from(this.m_mapPersonaCache.values()).filter(function(e){return e.persona.m_steamid.BIsIndividualAccount()&&Object(k.c)(e.friendRelationship)})},enumerable:!1,configurable:!0}),e.prototype.MakeAllFriendAppearOffline=function(){this.m_mapFriendsInGame.clear(),this.m_mapPersonaCache.forEach(function(e){0!=e.persona.m_ePersonaState&&e.persona.Reset()})},e.prototype.GetFriendsInGame=function(e){return this.m_mapFriendsInGame.get(e)||[]},e.prototype.UpdateInGameMapForFriendState=function(e,t,n){var r,i,a;0!=(1&t)&&(r=e.persona.m_unGamePlayedAppID,i=n.game_played_app_id()||0,0==(n.persona_state()||0)&&(i=0),i!=r&&(0!=r&&(a=this.m_mapFriendsInGame.get(r))&&(dt.c(a,e),0==a.length&&this.m_mapFriendsInGame.delete(r)),0!=i&&Object(k.c)(e.friendRelationship)&&(this.m_mapFriendsInGame.has(i)||this.m_mapFriendsInGame.set(i,[]),(a=this.m_mapFriendsInGame.get(i)).indexOf(e)<0&&a.push(e))))},Object(j.c)([O.observable],e.prototype,"m_currentUserPersonaState",void 0),Object(j.c)([E.a],e.prototype,"OnCurrentUserPersonaStateMessage",null),Object(j.c)([O.action],e.prototype,"SetFriendsList",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"allFriends",null),Object(j.c)([O.action],e.prototype,"MakeAllFriendAppearOffline",null),e}());function ti(e,t,n){return{id:e,displayName:t,apps:new Map(n.map(function(e){return[e.appid,e]})),allApps:n,visibleApps:n.filter(function(e){return mi.BIsVisible(e)}),bIsDynamic:!1,bIsDeletable:!1,AsDeletableCollection:function(){return null},bIsEditable:!1,AsEditableCollection:function(){return null},bAllowsDragAndDrop:!1,AsDragDropCollection:function(){return null}}}window.friendStore=ei;var ni,ri,ii=function(){function a(){}return Object.defineProperty(a.prototype,"id",{get:function(){return this.m_strId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"displayName",{get:function(){return this.m_strName},set:function(e){this.m_strName=e},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"apps",{get:function(){var t=new Map;return this.m_filter&&!this.m_filter.bIsEmpty&&Xa.allApps.filter(this.m_filter.Matches).forEach(function(e){return t.set(e.appid,e)}),this.m_rgAddedManually.forEach(function(e){return t.set(e.appid,e)}),this.m_rgRemovedManually.forEach(function(e){return t.delete(e.appid)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"allApps",{get:function(){return Array.from(this.apps.values()).sort(function(e,t){return Xa.CompareSortAs(e,t)})},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"visibleApps",{get:function(){var t=this;return this.allApps.filter(function(e){return t.id==ni.Hidden?!e.BIsAppBlocked():!(Qa.bIsGameListGroupedBySharedLibraries&&!t.id.startsWith(ni.Shared)&&e.owner_account_id)&&mi.BIsVisible(e)})},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bIsDynamic",{get:function(){return!!this.internalAppFilter},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bIsDeletable",{get:function(){return!mi.BIsSystemCollectionId(this.id)},enumerable:!1,configurable:!0}),a.prototype.AsDeletableCollection=function(){return this.bIsDeletable?this:null},Object.defineProperty(a.prototype,"bIsEditable",{get:function(){return!mi.BIsSystemCollectionId(this.id)&&!mi.BIsPartnerCollectionId(this.id)},enumerable:!1,configurable:!0}),a.prototype.AsEditableCollection=function(){return this.bIsEditable?this:null},Object.defineProperty(a.prototype,"bAllowsDragAndDrop",{get:function(){return!mi.BIsPartnerCollectionId(this.id)},enumerable:!1,configurable:!0}),a.prototype.AsDragDropCollection=function(){return this.bAllowsDragAndDrop?this:null},Object.defineProperty(a.prototype,"internalAppFilter",{get:function(){return this.m_filter},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"internalAddedList",{get:function(){return this.m_rgAddedManually},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"internalRemovedList",{get:function(){return this.m_rgRemovedManually},enumerable:!1,configurable:!0}),a.prototype.Save=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,mi.SaveCollection(this)];case 1:return e.sent(),[2]}})})},a.prototype.Delete=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,mi.DeleteCollection(this.id)];case 1:return e.sent(),[2]}})})},a.prototype.AddApps=function(e){for(var t=new Array,n=0,r=e;n<r.length;n++){var i=r[n];t.push(i.appid),li(i,this.m_rgAddedManually),pi(i,this.m_rgRemovedManually)}this.id==ni.Favorites?SteamClient.Apps.AddUserTagToApps(t,ci):this.id==ni.Hidden?t.forEach(function(e){return SteamClient.Apps.SetAppHidden(e,!0)}):SteamClient.Apps.AddUserTagToApps(t,this.displayName),this.Save()},a.prototype.RemoveApps=function(e){for(var t=new Array,n=0,r=e;n<r.length;n++){var i=r[n];t.push(i.appid),pi(i,this.m_rgAddedManually),this.bIsDynamic&&li(i,this.m_rgRemovedManually)}this.id==ni.Favorites?SteamClient.Apps.RemoveUserTagFromApps(t,ci):this.id==ni.Hidden?t.forEach(function(e){return SteamClient.Apps.SetAppHidden(e,!1)}):SteamClient.Apps.RemoveUserTagFromApps(t,this.displayName),this.Save()},a.prototype.FreezeToStatic=function(){var e=this.allApps;this.m_filter=void 0,this.m_rgAddedManually=e,this.m_rgRemovedManually=[],this.Save()},a.prototype.ToStorageFormat=function(){var e={id:this.m_strId,name:this.m_strName,added:[],removed:[]},t={id:this.m_strId,added:[],removed:[]};this.m_filter&&(e.filterSpec=this.m_filter.ToStorageFormat());for(var n=0,r=this.m_rgAddedManually;n<r.length;n++){((i=r[n]).BIsModOrShortcut()?t:e).added.push(i.appid)}for(var i,a=0,o=this.m_rgRemovedManually;a<o.length;a++){((i=o[a]).BIsModOrShortcut()?t:e).removed.push(i.appid)}return{roamingData:e,localData:t}},a.prototype.MergeFromStorageFormat=function(e){var t=e.roamingData,n=e.localData;this.m_strId=t.id,this.m_strName=String(t.name),this.m_rgAddedManually=[],this.m_rgRemovedManually=[],mi.BIsPartnerCollectionId(this.m_strId)?this.m_filter=ut.ForPartner(this.m_strId):(this.m_filter=t.filterSpec&&ut.FromStorageFormat(t.filterSpec),t.added&&ui(t.added,this.m_rgAddedManually),n&&n.added&&ui(n.added,this.m_rgAddedManually),this.bIsDynamic&&(t.removed&&ui(t.removed,this.m_rgRemovedManually),n&&n.removed&&ui(n.removed,this.m_rgRemovedManually)))},a.FromStorageFormat=function(e){var t=new a;return t.MergeFromStorageFormat(e),t},a.NewCollection=function(e,t,n){var r,i=new a;return i.m_strId=(r=new Uint8Array(9),window.crypto.getRandomValues(r),"uc-"+G.fromByteArray(r)),i.m_strName=e,i.m_filter=t,i.m_rgAddedManually=n,i.m_rgRemovedManually=[],i},a.FromUserTag=function(e,t){var n=new a;return n.m_strId="from-tag-"+e,n.m_strName=e,n.m_filter=void 0,n.m_rgAddedManually=t,n.m_rgRemovedManually=[],n},a.NewSystemCollection=function(e,t){var n=new a;return n.m_strId=e,n.m_strName=mi.SystemCollectionIdToName(e),n.m_filter=void 0,n.m_rgAddedManually=t,n.m_rgRemovedManually=[],n},Object(j.c)([O.observable],a.prototype,"m_strName",void 0),Object(j.c)([O.observable],a.prototype,"m_filter",void 0),Object(j.c)([O.observable],a.prototype,"m_rgAddedManually",void 0),Object(j.c)([O.observable],a.prototype,"m_rgRemovedManually",void 0),Object(j.c)([Object(O.computed)({keepAlive:!0})],a.prototype,"apps",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],a.prototype,"allApps",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],a.prototype,"visibleApps",null),Object(j.c)([E.a],a.prototype,"AddApps",null),Object(j.c)([E.a],a.prototype,"RemoveApps",null),Object(j.c)([O.action.bound],a.prototype,"FreezeToStatic",null),Object(j.c)([E.a],a.prototype,"ToStorageFormat",null),Object(j.c)([E.a],a.prototype,"MergeFromStorageFormat",null),a}(),ai="collection-bootstrap-complete",oi="user-collections",si="union-collections";(ri=ni=ni||{}).Favorites="favorite",ri.Uncategorized="uncategorized",ri.Hidden="hidden",ri.AllAppsAlpha="all-apps-alpha",ri.AllAppsRecent="all-apps-recent",ri.MyGames="my-games",ri.SiteLicense="site-license",ri.Recent="recent",ri.AppType="type-",ri.Shared="shared-",ri.NeptuneGames="neptune";var ci="favorite";function li(t,e){e.findIndex(function(e){return e.appid==t.appid})<0&&e.push(t)}function ui(e,t){for(var n=0,r=e;n<r.length;n++){var i=r[n],a=Xa.GetAppOverviewByAppID(i);a&&t.push(a)}}function pi(t,e){var n=e.findIndex(function(e){return e.appid==t.appid});0<=n&&e.splice(n,1)}function di(e,t){var n=t.timestamp>=e.timestamp;if(!e.is_deleted&&!t.is_deleted)try{var r=JSON.parse(n?t.value:e.value),i=JSON.parse(n?e.value:t.value);if(i.added){for(var a=0,o=i.added;a<o.length;a++){!function(t){(!r.added||r.added.findIndex(function(e){return e==t})<0)&&r.added.push(t);var e=r.removed&&r.removed.findIndex(function(e){return e==t});0<=e&&r.removed.splice(e,1)}(o[a])}return new Be(e.key,Math.max(t.timestamp,e.timestamp),!1,JSON.stringify(r),e.conflictResolutionMethod,e.strMethodId)}}catch(e){}return n?null:e}var mi=new(function(){function e(){this.m_localStorage=new Ke,this.m_shortcutCollectionInfo={}}return e.prototype.Register=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return je.RegisterCustomConflictResolutionMethod(si,di),[2]})})},e.prototype.Init=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_cloudStorage=n,this.InitSystemCollectionNameMap(),this.InitPartnerCollectionNameMap(),[4,(t=this).m_localStorage.GetObject(oi)];case 1:return t.m_shortcutCollectionInfo=e.sent()||{},this.m_mapCollectionStorage=this.m_cloudStorage.GetMapForPrefix(oi+"."),SteamClient.Messaging.RegisterForMessages("Collections",this.OnCollectionsMessage),[2]}})})},Object.defineProperty(e.prototype,"collectionsFromStorage",{get:function(){var r=this,e=new Map;if(!("true"===this.m_cloudStorage.Get(ai)))return setTimeout(function(){return r.BootstrapFromUserTags("initial run",!1)},0),e;if(0,!this.m_mapCollectionStorage.has(ni.Favorites)||!this.m_mapCollectionStorage.has(ni.Hidden))return setTimeout(function(){return r.BootstrapFromUserTags("missing system collections",!0)},0),e;var i=[];this.m_mapCollectionStorage.forEach(function(e,t){var n;try{n=JSON.parse(e)}catch(e){}n&&n.id&&n.name?(r.BIsSystemCollectionId(n.id)&&(n.name=r.SystemCollectionIdToName(n.id)),r.BIsPartnerCollectionId(n.id)&&(n.name=r.PartnerCollectionIdToName(n.id)),i.push(n)):(console.error("Could not parse collection '"+t+"' from JSON:'"+e+"'; deleting it."),setTimeout(function(){return r.m_mapCollectionStorage.delete(t)},0))});for(var t=0,n=i;t<n.length;t++){var a=n[t],o=a.id,s={roamingData:a,localData:this.m_shortcutCollectionInfo[o]};e.set(o,ii.FromStorageFormat(s))}return e},enumerable:!1,configurable:!0}),e.prototype.BootstrapFromUserTags=function(r,i){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return console.warn("Could not load stored collections; converting user tags instead."),console.warn("Reason:",r),[4,SteamClient.Apps.GetLibraryBootstrapData()];case 1:return t=e.sent(),n=y.deserializeBinary(t),[2,this.ImportUserTags(n,Oe.InitializationOnly,i)]}})})},e.prototype.ResetFromUserTags=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return console.log("Resetting all user collections"),this.m_mapCollectionStorage.clear(),[2,this.ImportUserTags(t,Oe.LastWriteWins)]})})},e.prototype.ImportUserTags=function(y,S,w){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,p,d,m,h,f,b,_,v,g;return Object(j.e)(this,function(e){switch(e.label){case 0:for(t=new Map,n=new Map,r=[],i=[],a=0,o=y.app_data();a<o.length;a++)if(s=o[a],c=Xa.GetAppOverviewByAppID(s.appid())){for(l=0,u=s.user_tag();l<u.length;l++)p=u[l],d=p.toLocaleLowerCase(),0==Xr.e(d,ci)?r.push(c):w||(n.has(d)||(n.set(d,p),t.set(p,[])),m=n.get(d),t.get(m).push(c));s.hidden()&&i.push(c)}else console.warn("Cannot import user tags from unknown app #",s.appid());for((h=[]).push(ii.NewSystemCollection(ni.Favorites,r)),t.forEach(function(e,t){h.push(ii.FromUserTag(t,e))}),h.push(ii.NewSystemCollection(ni.Hidden,i)),this.m_shortcutCollectionInfo={},f=[],b=0,_=h;b<_.length;b++)v=_[b],0<(g=v.ToStorageFormat()).localData.added.length+g.localData.removed.length&&(this.m_shortcutCollectionInfo[v.id]=g.localData),f.push(this.m_mapCollectionStorage.StoreObject(v.id,g.roamingData,S));return f.push(this.WriteLocalStorage()),[4,Promise.all(f)];case 1:return e.sent(),[4,this.m_cloudStorage.StoreString(ai,"true",S)];case 2:return e.sent(),[2]}})})},e.prototype.DumpCollectionsToUserTags=function(){for(var e=new Map,t=0,n=Xa.allApps;t<n.length;t++){var r=n[t];e.set(r.appid,[])}for(var i=0,a=Array.from(this.collectionsFromStorage.values());i<a.length;i++){var o=a[i];if(o.id!=ni.Hidden)for(var s=o.id==ni.Favorites?ci:o.displayName,c=0,l=o.allApps;c<l.length;c++){r=l[c];e.get(r.appid).push(s)}}e.forEach(function(e,t){return SteamClient.Apps.ClearAndSetUserTagsOnApp(t,e)});var u=this.GetCollection(ni.Hidden).allApps.map(function(e){return e.appid});SteamClient.Apps.ResetHiddenState(u)},e.prototype.OnCollectionsMessage=function(e,t,n){if("Collections"==e)switch(0,t){case"DumpToTags":return void this.DumpCollectionsToUserTags();case"AddAppToCollection":var r=JSON.parse(n),i=r&&r.name&&this.GetCollectionIDByUserTag(r.name);return void(i&&r.appid&&this.AddOrRemoveApp([r.appid],!0,i));case"RemoveAppFromCollection":var a=JSON.parse(n),o=a&&a.name&&this.GetCollectionIDByUserTag(a.name);return void(o&&a.appid&&this.AddOrRemoveApp([a.appid],!1,o));case"HideApp":var s=JSON.parse(n);return void(s.appid&&this.AddOrRemoveApp([s.appid],s.bHide,ni.Hidden));case"AddNewTag":var c=JSON.parse(n);return void(c&&c.name&&(this.GetCollectionIDByUserTag(c.name)||ii.FromUserTag(c.name,[]).Save()))}},Object.defineProperty(e.prototype,"uncategorizedCollection",{get:function(){var e,n=new Set;if(this.collectionsFromStorage.forEach(function(e,t){t!=ni.Hidden&&e.allApps.map(function(e){return n.add(e.appid)})}),null!==(e=Xa.siteLicenseApps)&&void 0!==e&&e.rgApps.forEach(function(e){return n.add(e.appid)}),Qa.bIsGameListGroupedBySharedLibraries&&this.sharedLibrariesCollections.forEach(function(e){e.allApps.map(function(e){return n.add(e.appid)})}),0<n.size){var t=Xa.allApps.filter(function(e){return!n.has(e.appid)});return ti(ni.Uncategorized,this.SystemCollectionIdToName(ni.Uncategorized),t)}return ti(ni.Uncategorized,this.SystemCollectionIdToName(ni.AllAppsAlpha),Xa.allApps)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"myGamesCollection",{get:function(){var e=this.GetCollectionForAppType(1).allApps.filter(function(e){return!e.owner_account_id});return ti(ni.MyGames,Object(R.f)("#GameList_View_MyOwnGames"),e)},enumerable:!1,configurable:!0}),e.prototype.BIncludeInSharedLibraryCollection=function(e){return e.owner_account_id&&(1==e.app_type||8==e.app_type)},Object.defineProperty(e.prototype,"sharedLibrariesCollections",{get:function(){for(var e=new Map,t=0,n=Xa.allApps;t<n.length;t++){var r,i=n[t];this.BIncludeInSharedLibraryCollection(i)&&((r=e.get(i.owner_account_id))||(r=[],e.set(i.owner_account_id,r)),r.push(i))}for(var a=0,o=Fe.showcases;a<o.length;a++){var s,c,l=o[a];l.strCollectionId.startsWith(ni.Shared)&&(s=l.strCollectionId.split("-"),(c=parseInt(s[1]))&&!e.has(c)&&e.set(c,[]))}var u=[];return e.forEach(function(e,t){return u.push(ti(""+ni.Shared+t,Object(R.f)("#GameList_View_GamesSharedByOther",ei.GetFriendState(t).displayName),e))}),u},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sharedLibrariesCollectionMap",{get:function(){return new Map(this.sharedLibrariesCollections.map(function(e){return[e.id,e]}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"siteLicenseCollection",{get:function(){if(!Xa.siteLicenseApps)return null;var e=Xa.siteLicenseApps,t=e.strSiteName,n=e.rgApps;return ti(ni.SiteLicense,Object(R.f)("#GameList_View_GamesProvidedByNamedCafe",t),n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"neptuneGamesCollection",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userCollections",{get:function(){var t=this,e=Array.from(this.collectionsFromStorage.values()).filter(function(e){return!t.BIsSystemCollectionId(e.id)}).sort(function(e,t){return Xr.g(e.displayName,t.displayName)}),n=this.collectionsFromStorage.get(ni.Favorites);return n&&e.unshift(n),e.push(this.uncategorizedCollection),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"recentAppCollections",{get:function(){var e,t=[],n=this.allRecentAppsCollection.allApps,r=0,i=new Date;i.setFullYear(i.getFullYear()-10);for(var a=i.getTime()/1e3,o=0;o<n.length;o++){var s=n[o],c=s.rt_recent_activity_time<a?Object(R.f)("#GameList_SectionHeader_NoRecentActivity"):Object(R.h)(s.rt_recent_activity_time);c!=e&&(e&&t.push(ti(ni.Recent+"-"+e,e,n.slice(r,o))),e=c,r=o)}return e&&t.push(ti(ni.Recent+"-"+e,e,n.slice(r,n.length))),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"recentAppCollectionMap",{get:function(){return new Map(this.recentAppCollections.map(function(e){return[e.id,e]}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appTypeCollections",{get:function(){for(var e=new Map,t=0,n=Xa.allApps;t<n.length;t++){var r=n[t],i=e.get(r.canonicalAppType);i||(i=[],e.set(r.canonicalAppType,i)),i.push(r)}return[ti(ni.AppType+"games",Object(R.f)("#AppType_1"),e.get(1)||[]),ti(ni.AppType+"software",Object(R.f)("#AppType_2"),e.get(2)||[]),ti(ni.AppType+"music",Object(R.f)("#AppType_2000"),e.get(8192)||[]),ti(ni.AppType+"videos",Object(R.f)("#AppType_800"),e.get(2048)||[]),ti(ni.AppType+"tools",Object(R.f)("#AppType_4"),e.get(4)||[])]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appTypeCollectionMap",{get:function(){return new Map(this.appTypeCollections.map(function(e){return[e.id,e]}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allAppsCollection",{get:function(){var e=Xa.allApps;return Qa.bIsGameListGroupedBySharedLibraries&&(e=e.filter(function(e){return!e.owner_account_id})),ti(ni.AllAppsAlpha,this.SystemCollectionIdToName(ni.AllAppsAlpha),e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allRecentAppsCollection",{get:function(){return ti(ni.AllAppsRecent,this.SystemCollectionIdToName(ni.AllAppsRecent),Xa.allApps.slice().sort(function(e,t){return t.rt_recent_activity_time-e.rt_recent_activity_time||t.appid-e.appid}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"recentAppsCollection",{get:function(){return ti(ni.Recent,this.SystemCollectionIdToName(ni.Recent),this.allRecentAppsCollection.allApps.filter(function(e){return void 0!==e.mru_index}))},enumerable:!1,configurable:!0}),e.prototype.GetCollection=function(e){return e==ni.AllAppsAlpha?this.allAppsCollection:e==ni.AllAppsRecent?this.allRecentAppsCollection:e==ni.Recent?this.recentAppsCollection:e==ni.Uncategorized?this.uncategorizedCollection:e==ni.MyGames?this.myGamesCollection:e==ni.NeptuneGames?this.neptuneGamesCollection:e==ni.SiteLicense?this.siteLicenseCollection:this.collectionsFromStorage.get(e)||this.recentAppCollectionMap.get(e)||this.appTypeCollectionMap.get(e)||this.sharedLibrariesCollectionMap.get(e)},e.prototype.GetCollectionIDByUserTag=function(e){if(0==Xr.f(e,ci))return ni.Favorites;for(var t=0,n=Array.from(this.collectionsFromStorage.values());t<n.length;t++){var r=n[t];if(e==r.displayName)return r.id}return null},e.prototype.GetCollectionForAppType=function(e){switch(e){case 1:return this.appTypeCollectionMap.get(ni.AppType+"games");case 8192:return this.appTypeCollectionMap.get(ni.AppType+"music");case 2:return this.appTypeCollectionMap.get(ni.AppType+"software");case 2048:return this.appTypeCollectionMap.get(ni.AppType+"videos");case 4:return this.appTypeCollectionMap.get(ni.AppType+"tools")}},e.prototype.AddOrRemoveApp=function(e,t,n){var r=this.GetCollection(n).AsDragDropCollection(),i=e.map(function(e){return Xa.GetAppOverviewByAppID(e)}).filter(function(e){return void 0!==e});t?r.AddApps(i):r.RemoveApps(i)},e.prototype.SetAppsAsFavorite=function(e,t){this.AddOrRemoveApp(e,t,ni.Favorites)},e.prototype.SetAppsAsHidden=function(e,t){this.AddOrRemoveApp(e,t,ni.Hidden)},e.prototype.BIsFavorite=function(e){var t="number"==typeof e?e:e.appid,n=this.collectionsFromStorage.get(ni.Favorites);return!n||n.apps.has(t)},e.prototype.BIsHidden=function(e){var t="number"==typeof e?e:e.appid,n=this.collectionsFromStorage.get(ni.Hidden);return!n||n.apps.has(t)},e.prototype.BIsVisible=function(e){var t="number"==typeof e?Xa.GetAppOverviewByAppID(e):e;return!(t&&(256==t.app_type||!t.visible_in_game_list))&&(t&&!t.BIsAppBlocked()&&!this.BIsHidden(t.appid))},e.prototype.InitSystemCollectionNameMap=function(){this.m_mapSystemCollectionIdToName=new Map,this.m_mapSystemCollectionIdToName.set(ni.Favorites,Object(R.f)("#GameList_Category_Favorites")),this.m_mapSystemCollectionIdToName.set(ni.Uncategorized,Object(R.f)("#GameList_Category_Uncategorized")),this.m_mapSystemCollectionIdToName.set(ni.Hidden,Object(R.f)("#GameList_Category_Hidden")),this.m_mapSystemCollectionIdToName.set(ni.AllAppsAlpha,Object(R.f)("#GameList_View_All")),this.m_mapSystemCollectionIdToName.set(ni.AllAppsRecent,Object(R.f)("#GameList_View_Recent")),this.m_mapSystemCollectionIdToName.set(ni.Recent,Object(R.f)("#GameList_View_Recent"))},e.prototype.InitPartnerCollectionNameMap=function(){this.m_mapPartnerCollectionIdToName=new Map,this.m_mapPartnerCollectionIdToName.set("partner-ea-access",Object(R.f)("#GameList_Category_EAAccess_Trademark"))},e.prototype.BIsSystemCollectionId=function(e){return this.m_mapSystemCollectionIdToName.has(e)||e.startsWith(ni.Recent)||e.startsWith(ni.AppType)||e.startsWith(ni.Shared)||e==ni.SiteLicense},e.prototype.BIsPartnerCollectionId=function(e){return this.m_mapPartnerCollectionIdToName.has(e)},e.prototype.SystemCollectionIdToName=function(e){return e==ni.AllAppsAlpha&&Qa.bIsGameListGroupedBySharedLibraries&&0<this.sharedLibrariesCollections.length?Object(R.f)("#GameList_View_MyOwnGames"):this.m_mapSystemCollectionIdToName.get(e)},e.prototype.PartnerCollectionIdToName=function(e){return this.m_mapPartnerCollectionIdToName.get(e)},e.prototype.BIsSystemCollectionName=function(t){return Array.from(this.m_mapSystemCollectionIdToName.values()).some(function(e){return 0==Xr.f(t,e)})},e.prototype.BIsPartnerCollectionName=function(t){return Array.from(this.m_mapPartnerCollectionIdToName.values()).some(function(e){return 0==Xr.f(t,e)})},e.prototype.GetUserCollectionsByName=function(t){return Array.from(this.collectionsFromStorage.values()).filter(function(e){return 0==Xr.f(t,e.displayName)})},e.prototype.AddPartnerCollection=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return t={id:n,name:"ea"},[4,this.m_mapCollectionStorage.StoreObject(n,t)];case 1:return e.sent(),SteamClient.Stats.RecordActivationEvent("Collection","Add-Partner"),[2]}})})},e.prototype.NewUnsavedCollection=function(e,t,n){return ii.NewCollection(e,t,n)},e.prototype.SaveCollection=function(s){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(j.e)(this,function(e){switch(e.label){case 0:if(!(t=!this.GetCollection(s.id)))return[3,4];if(this.BIsSystemCollectionName(s.displayName))throw new Error("Collection name collision.");n=this.GetUserCollectionsByName(s.displayName),r=0,i=n,e.label=1;case 1:return r<i.length?(a=i[r]).bIsDeletable?[4,a.AsDeletableCollection().Delete()]:[3,3]:[3,4];case 2:e.sent(),e.label=3;case 3:return r++,[3,1];case 4:return 0<(o=s.ToStorageFormat()).localData.added.length+o.localData.removed.length?this.m_shortcutCollectionInfo[s.id]=o.localData:delete this.m_shortcutCollectionInfo[s.id],[4,this.WriteLocalStorage()];case 5:return e.sent(),[4,this.m_mapCollectionStorage.StoreObject(s.id,o.roamingData,Oe.CustomMethod,si)];case 6:return e.sent(),SteamClient.Stats.RecordActivationEvent("Collection",t?"Save-New":"Save-Modify"),[2]}})})},e.prototype.DeleteCollection=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return(Object(w.a)(!this.BIsSystemCollectionId(n),"Cannot delete system collection "+n),t=this.GetCollection(n))?(Fe.OnDeleteCollection(n),SteamClient.Apps.RemoveUserTagFromApps(t.allApps.map(function(e){return e.appid}),t.displayName),delete this.m_shortcutCollectionInfo[n],[4,this.WriteLocalStorage()]):[2,9];case 1:return e.sent(),this.m_mapCollectionStorage.delete(n),SteamClient.Stats.RecordActivationEvent("Collection","Delete"),[2,1]}})})},e.prototype.WriteLocalStorage=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.m_localStorage.RemoveObject(oi)];case 1:return e.sent(),[3,3];case 2:return e.sent(),[3,3];case 3:return[2,this.m_localStorage.StoreObject(oi,this.m_shortcutCollectionInfo)]}})})},Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"collectionsFromStorage",null),Object(j.c)([E.a],e.prototype,"BootstrapFromUserTags",null),Object(j.c)([O.action.bound],e.prototype,"ResetFromUserTags",null),Object(j.c)([O.action],e.prototype,"ImportUserTags",null),Object(j.c)([E.a],e.prototype,"OnCollectionsMessage",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"uncategorizedCollection",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"myGamesCollection",null),Object(j.c)([Object(O.computed)({keepAlive:!0,equals:O.comparer.structural})],e.prototype,"sharedLibrariesCollections",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"sharedLibrariesCollectionMap",null),Object(j.c)([Object(O.computed)({keepAlive:!0,equals:O.comparer.structural})],e.prototype,"siteLicenseCollection",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"neptuneGamesCollection",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"userCollections",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"recentAppCollections",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"recentAppCollectionMap",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"appTypeCollections",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"appTypeCollectionMap",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"allAppsCollection",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"allRecentAppsCollection",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"recentAppsCollection",null),Object(j.c)([E.a],e.prototype,"GetCollection",null),Object(j.c)([E.a],e.prototype,"GetCollectionIDByUserTag",null),Object(j.c)([E.a],e.prototype,"GetCollectionForAppType",null),Object(j.c)([E.a],e.prototype,"SetAppsAsFavorite",null),Object(j.c)([E.a],e.prototype,"SetAppsAsHidden",null),Object(j.c)([E.a],e.prototype,"BIsFavorite",null),Object(j.c)([E.a],e.prototype,"BIsHidden",null),Object(j.c)([E.a],e.prototype,"BIsVisible",null),Object(j.c)([E.a],e.prototype,"BIsSystemCollectionId",null),Object(j.c)([E.a],e.prototype,"BIsPartnerCollectionId",null),Object(j.c)([E.a],e.prototype,"SystemCollectionIdToName",null),Object(j.c)([E.a],e.prototype,"PartnerCollectionIdToName",null),Object(j.c)([E.a],e.prototype,"BIsSystemCollectionName",null),Object(j.c)([E.a],e.prototype,"BIsPartnerCollectionName",null),Object(j.c)([E.a],e.prototype,"GetUserCollectionsByName",null),Object(j.c)([E.a],e.prototype,"AddPartnerCollection",null),Object(j.c)([E.a],e.prototype,"NewUnsavedCollection",null),Object(j.c)([E.a],e.prototype,"SaveCollection",null),Object(j.c)([E.a],e.prototype,"DeleteCollection",null),Object(j.c)([E.a],e.prototype,"WriteLocalStorage",null),e}());window.collectionStore=mi;var hi=new(function(){function e(){this.m_mapOfSelectedApps=new Map}return e.prototype.SetAnchor=function(e){this.m_anchor=e,this.m_bShouldAutoSelectAnchor=!0,this.m_lastRangeSelection=this.m_anchor},e.prototype.RemoveAnchor=function(e){this.m_anchor&&this.m_anchor.key==e.key&&(this.m_anchor=null,this.m_lastRangeSelection=this.m_anchor)},e.prototype.ToggleAppIsSelected=function(e){this.m_mapOfSelectedApps.has(e.key)?this.m_mapOfSelectedApps.delete(e.key):(0==this.m_mapOfSelectedApps.size&&this.m_anchor&&this.m_bShouldAutoSelectAnchor&&this.m_mapOfSelectedApps.set(this.m_anchor.key,this.m_anchor),this.m_mapOfSelectedApps.set(e.key,e)),this.m_anchor.key!=e.key&&(this.m_anchor=e,this.m_bShouldAutoSelectAnchor=!1,this.m_lastRangeSelection=this.m_anchor)},e.prototype.SelectRange=function(e,t){this.ClearSelection();var n=this.m_anchor&&t(this.m_anchor,e);if(!n)return this.m_anchor=e,void this.m_mapOfSelectedApps.set(e.key,e);this.m_lastRangeSelection=e;for(var r=0,i=n;r<i.length;r++){var a=i[r];this.m_mapOfSelectedApps.set(a.key,a)}},e.prototype.BIsSelectedApp=function(e){return this.m_mapOfSelectedApps.has(e.key)},e.prototype.ClearSelection=function(){this.m_mapOfSelectedApps.clear()},e.prototype.GetSelectedAppsInContext=function(){return Array.from(this.m_mapOfSelectedApps.values())},e.prototype.GetSelectedAppIds=function(){var t=new Set;return this.m_mapOfSelectedApps.forEach(function(e){return t.add(e.appid)}),Array.from(t)},e.prototype.GetLastRangeSelection=function(){return this.m_lastRangeSelection},Object(j.c)([O.observable],e.prototype,"m_mapOfSelectedApps",void 0),Object(j.c)([E.a],e.prototype,"SetAnchor",null),Object(j.c)([E.a],e.prototype,"RemoveAnchor",null),Object(j.c)([E.a],e.prototype,"ToggleAppIsSelected",null),Object(j.c)([O.action.bound],e.prototype,"SelectRange",null),Object(j.c)([E.a],e.prototype,"BIsSelectedApp",null),Object(j.c)([E.a],e.prototype,"ClearSelection",null),Object(j.c)([E.a],e.prototype,"GetSelectedAppsInContext",null),Object(j.c)([E.a],e.prototype,"GetSelectedAppIds",null),Object(j.c)([E.a],e.prototype,"GetLastRangeSelection",null),e}());window.multiSelectStore=hi;var fi=function(){function e(e,t){this.m_appid=e,this.m_strCollectionId=t}return Object.defineProperty(e.prototype,"appid",{get:function(){return this.m_appid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strCollectionId",{get:function(){return this.m_strCollectionId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.appid+":"+this.strCollectionId},enumerable:!1,configurable:!0}),e}(),bi=n("Jqb/"),_i=n("ka0M"),vi=n("Ty2a"),gi=n.n(vi);var yi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.ResetCollections=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:this.props.closeModal(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,mi.ResetFromUserTags(this.props.protoBootstrapData)];case 2:return e.sent(),[3,4];case 3:return e.sent(),Object(_i.d)(D.createElement(bi.e,{strDescription:Object(R.f)("#Collection_ResetFailed")}),window,{strTitle:this.props.strTitle}),[3,4];case 4:return SteamClient.Stats.RecordActivationEvent("Reset","Collections"),[2]}})})},t.prototype.GetAllUserTags=function(){for(var e=new Map,t=0,n=this.props.protoBootstrapData.app_data();t<n.length;t++)for(var r=0,i=n[t].user_tag();r<i.length;r++){var a=i[r],o=a.toLocaleLowerCase();e.has(o)||e.set(o,a)}return Array.from(e.values()).sort(Xr.g)},t.prototype.render=function(){var e=this.GetAllUserTags(),t=e.length;return D.createElement(bi.c,{strTitle:this.props.strTitle,bDestructiveWarning:!0,closeModal:this.props.closeModal,strDescription:Object(R.f)("#Collection_ResetConfirmation"),onOK:this.ResetCollections},D.createElement("div",{className:gi.a.AfterResetSummary},0==t?D.createElement("div",{className:gi.a.NoDataWarning},Object(R.f)("#Collection_AfterResetSummary_NoCollections")):Object(R.o)("#Collection_AfterResetSummary_CountAndNames",t,D.createElement("div",{className:gi.a.UserTagList},e.join(", ")))))},Object(j.c)([E.a],t.prototype,"ResetCollections",null),t}(D.Component),Si=n("Mgs7"),wi=n("HJp4"),Ci=n.n(wi),Oi=n("kxiX"),Ei=n.n(Oi);function Bi(e,t){var n=D.createElement("span",null,Object(R.o)("#FilterEdit_SaveDynamicCollectionWithIcon",D.createElement(_r.y,{height:32}))),r=Object(R.f)("#FilterEdit_SaveDynamicCollectionNoIcon");Object(_i.d)(D.createElement(Ii,{ownerWindow:e,rctTitle:n,appFilter:Qa.currentAppFilter,strCollectionSummary:t,strStatsTag:"saved-search"}),e,{strTitle:r})}function Ai(e,t,n){var r=Object(R.f)("#GameAction_NewCollectionDialogTitle");Object(_i.d)(D.createElement(Ii,{ownerWindow:e,rctTitle:r,rgManuallyAddedApps:t,strStatsTag:n}),e,{strTitle:r})}var Ii=function(n){function e(e){var t=n.call(this,e)||this;return t.m_strCollectionName="",e.strCollectionSummary&&e.strCollectionSummary.length<=32&&(t.m_strCollectionName=e.strCollectionSummary),t.state={bPulseReq:!1},t}return Object(j.d)(e,n),e.prototype.componentWillUnmount=function(){this.m_pulseTimer&&(clearTimeout(this.m_pulseTimer),this.m_pulseTimer=null)},e.prototype.OnTextChanged=function(e){this.m_strCollectionName=e.currentTarget.value},e.prototype.OnSuccessfulSave=function(e){this.props.closeModal&&this.props.closeModal(),Qa.ExitSearch(),Qa.NavigateToCollection(e.id),e.internalAppFilter&&!this.props.appFilter&&Qa.SetCollectionEditorOpen(!0),SteamClient.Stats.RecordActivationEvent("NewCollection",this.props.strStatsTag),1!=Qa.selectedGameListView||Qa.bIsGameListGroupedByCollection&&!Qa.bIsGameListSortedByRecent||Object(_i.d)(D.createElement(bi.c,{strTitle:Object(R.f)("#FilterEdit_CollectionsHiddenPromptTitle"),strDescription:Object(R.f)("#FilterEdit_CollectionsHiddenPrompt"),strOKButtonText:Object(R.f)("#FilterEdit_AcceptGameListViewChange"),onOK:function(){Qa.SelectGameListView(1),Qa.SetGameListGroupedByCollection(!0),Qa.SetGameListSortedByRecent(!1)},strCancelButtonText:Object(R.f)("#FilterEdit_RejectGameListViewChange"),onCancel:function(){return null}}),this.props.ownerWindow,{strTitle:Object(R.f)("#FilterEdit_CollectionsHiddenPromptTitle")})},e.prototype.SaveCollection=function(e){var t=this,n=this.props.appFilter;e&&!n&&(n=new ut);var r=mi.NewUnsavedCollection(this.m_strCollectionName.trim(),n,this.props.rgManuallyAddedApps||[]);Di(this.props.ownerWindow,r,!1,function(){return t.OnSuccessfulSave(r)})},e.prototype.PulseReq=function(){var e=this;this.setState({bPulseReq:!0}),this.m_pulseTimer=window.setTimeout(function(){e.setState({bPulseReq:!1})},300)},e.prototype.GetFilterTags=function(e){return e.GetAllSelectedOptions().map(function(e){return D.createElement("div",{key:e.eGroup+"-"+e.option,className:Ei.a.FilterTag},e.name)})},e.prototype.render=function(){var e=this,t=0==this.m_strCollectionName.trim().length,n=!!this.props.appFilter,r=n?D.createElement(Si.o,{bOKDisabled:t,strOKText:Object(R.f)("#Button_Save"),onCancel:this.props.closeModal}):D.createElement(D.Fragment,null,D.createElement(Si.n,{style:{marginTop:16}},Object(R.f)("#FilterEdit_SelectCollectionType")),D.createElement("div",{className:Ci.a.TwoOptionsContainer,onClick:this.PulseReq},D.createElement(ji,{isdynamic:!1,disabled:t,onClick:function(){return e.SaveCollection(!1)}}),D.createElement(ji,{isdynamic:!0,disabled:t,onClick:function(){return e.SaveCollection(!0)}})));return D.createElement(bi.d,{className:Ci.a.SaveCollectionContainer,onOK:function(){return e.SaveCollection(!1)},bOKDisabled:t,onCancel:this.props.closeModal},D.createElement(Si.l,null,this.props.rctTitle),D.createElement(Si.b,null,D.createElement(Si.c,null,n&&D.createElement(Si.n,{className:Ci.a.SelectedFilters},Object(R.f)("#FilterEdit_SelectedFilters")),n&&D.createElement("div",{className:Object(cr.a)(Ci.a.CollectionSummary,Ei.a.SearchFilterInput)},this.GetFilterTags(this.props.appFilter)),D.createElement("div",{className:Ci.a.InputContainer},D.createElement(Si.n,null,Object(R.f)("#FilterEdit_SaveCollectionNameInputPrompt")),D.createElement(Si.n,{className:Object(cr.a)(Ci.a.Required,t&&Ci.a.Visible,this.state.bPulseReq&&Ci.a.Pulse)},Object(R.f)("#FilterEdit_RequiredField"))),D.createElement(Si.m,{value:this.m_strCollectionName,onChange:this.OnTextChanged,maxLength:32,autoFocus:!0,bShowClearAction:!0}),n&&D.createElement("div",{className:Ci.a.SaveSearchDescription}," ",Object(R.f)("#FilterEdit_SaveCollectionVerbose")," "),n&&D.createElement("div",{className:Ci.a.SaveSearchDescription}," ",Object(R.f)("#FilterEdit_SaveDynamicCollectionButtonDesc")," ")),D.createElement(Si.i,null,r)))},Object(j.c)([O.observable],e.prototype,"m_strCollectionName",void 0),Object(j.c)([E.a],e.prototype,"OnTextChanged",null),Object(j.c)([E.a],e.prototype,"OnSuccessfulSave",null),Object(j.c)([E.a],e.prototype,"SaveCollection",null),Object(j.c)([E.a],e.prototype,"PulseReq",null),Object(j.c)([E.a],e.prototype,"GetFilterTags",null),Object(j.c)([o.observer],e)}(D.Component),ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props.isdynamic?Object(R.f)("#FilterEdit_SaveDynamicCollectionButtonDesc"):Object(R.f)("#FilterEdit_SaveStandardCollectionButtonDesc"),t=this.props.isdynamic?D.createElement("span",null,D.createElement(_r.y,null),Object(R.f)("#FilterEdit_SelectCollectionTypeButtonCreateDynamic")):Object(R.f)("#FilterEdit_SelectCollectionTypeButtonCreate");return D.createElement("div",{className:Object(cr.a)(Ci.a.Option,this.props.disabled&&Ci.a.Disabled)},D.createElement(Si.d,{className:Ci.a.ActionLabel,onClick:this.props.onClick,tabIndex:this.props.disabled?-1:0},t),D.createElement("div",{className:Ci.a.Description},e))},t}(D.Component);function Di(r,i,a,o,s){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:if(t=Object(R.f)(i.bIsDynamic?"#FilterEdit_SaveDynamicCollectionNoIcon":"#FilterEdit_SaveCollection"),mi.BIsSystemCollectionName(i.displayName)||mi.BIsPartnerCollectionName(i.displayName))return Object(_i.d)(D.createElement(bi.e,{strDescription:Object(R.f)("#CollectionAction_CannotOverwrite",i.displayName)}),r,{strTitle:t}),s&&s(),[2];if(n=mi.GetUserCollectionsByName(i.displayName).some(function(e){return e.id!=i.id}),!a&&n)return Object(_i.d)(D.createElement(Mi,{collection:i,ownerWindow:r,onOK:o,onCancel:s}),r,{strTitle:t}),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i.Save()];case 2:return e.sent(),o&&o(),[3,4];case 3:return e.sent(),Object(_i.d)(D.createElement(bi.e,{strDescription:Object(R.f)("#CollectionAction_SaveFailed",i.displayName)}),r,{strTitle:t}),s&&s(),[3,4];case 4:return[2]}})})}var Ri,Ti,Mi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnSuccessfulSave=function(){this.props.closeModal&&this.props.closeModal(),this.props.onOK&&this.props.onOK()},t.prototype.OnCancel=function(){this.props.closeModal&&this.props.closeModal(),this.props.onCancel&&this.props.onCancel()},t.prototype.SaveCollection=function(){Di(this.props.ownerWindow,this.props.collection,!0,this.OnSuccessfulSave,this.OnCancel)},t.prototype.render=function(){var e=Object(R.f)(this.props.collection.bIsDynamic?"#FilterEdit_SaveDynamicCollectionNoIcon":"#FilterEdit_SaveCollection");return D.createElement(bi.c,{strTitle:e,bDestructiveWarning:!0,strDescription:Object(R.f)("#FilterEdit_SaveOverwrite",this.props.collection.displayName),onOK:this.SaveCollection,onCancel:this.OnCancel})},Object(j.c)([E.a],t.prototype,"OnSuccessfulSave",null),Object(j.c)([E.a],t.prototype,"OnCancel",null),Object(j.c)([E.a],t.prototype,"SaveCollection",null),Object(j.c)([o.observer],t)}(D.Component),Ni=n("UPxs"),Li=function(){return function(){}}(),ki=n("M4wp");(Ti=Ri=Ri||{})[Ti.Initial=0]="Initial",Ti[Ti.Busy=1]="Busy",Ti[Ti.ShowEula=2]="ShowEula",Ti[Ti.ExternalSignup=3]="ExternalSignup",Ti[Ti.Complete=4]="Complete";var Fi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_eState=Ri.Initial,e.m_strError="",e.m_nGameActionID=0,e}return Object(j.d)(e,t),e.prototype.useInstallState=function(){var e=this;return Object(ki.a)(function(){return{state:e.m_eState,appid:e.m_appid,strError:e.m_strError,eulaWorkflow:e.m_eulaWorkflow}})},e.prototype.StartInstall=function(a){return Object(j.b)(this,void 0,void 0,function(){var n,t,r,i;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_eState=Ri.Initial,this.m_strError="",this.m_appid=a,t=new Promise(function(e,t){n=e}),r=SteamClient.Installs.RegisterForShowInstallWizard(function(){return n()}),SteamClient.Installs.OpenInstallWizard([a]),[4,t];case 1:return e.sent(),r.unregister(),SteamClient.Installs.SetWaitForContinue(!0),i=this,[4,SteamClient.Installs.StartInstall()];case 2:return i.m_nGameActionID=e.sent(),[2,this.m_nGameActionID]}})})},e.prototype.StartFromInProgress=function(e){console.log("install starting from in progress",e),this.m_eState=Ri.Initial,this.m_appid=parseInt(e.gameid),this.m_strError="",this.m_nGameActionID=e.nGameActionID,"ShowEula"===e.strTaskName||"ExternalSignup"===e.strTaskName?this.OnGameActionUserRequest(e.gameid,e.strActionName,e.strTaskName,e.strTaskDetails):"Initial state"===e.strTaskName&&SteamClient.Apps.ContinueGameAction(e.nGameActionID,"Initial state")},e.prototype.GetGameActionID=function(){return this.m_nGameActionID},e.prototype.SetComplete=function(e){console.log("install - Set Complete",e),this.m_strError=e||"",this.m_eState=Ri.Complete,this.m_nGameActionID=0},e.prototype.OnGameActionEnd=function(){this.SetComplete()},e.prototype.OnGameActionTaskChange=function(e,t,n,r){console.debug("Install task change",this.m_nGameActionID,e,t,n,r),"Complete"===n?this.SetComplete():"Canceled"===n&&this.SetComplete("Installation canceled")},e.prototype.OnGameActionUserRequest=function(e,t,n,r){var i=this;switch(console.debug("Install User request",this.m_nGameActionID,e,t,n,r),n){case"ShowEula":this.m_eulaWorkflow=new ya(e,this.m_nGameActionID,function(){SteamClient.Apps.ContinueGameAction(i.m_nGameActionID,"ShowEula"),i.m_eState=Ri.Busy,i.m_eulaWorkflow=void 0}),this.m_eulaWorkflow.Start(),this.m_eState=Ri.ShowEula;break;case"ExternalSignup":this.m_eState=Ri.ExternalSignup,SteamClient.Apps.ContinueGameAction(this.m_nGameActionID,"ExternalSignup");break;default:console.debug("Unknown installation user request",this.m_nGameActionID,e,t,n,r)}},e.prototype.OnGameActionShowError=function(e,t,n,r){var i;0==n.indexOf("AppError_")?(i=n.slice("AppError_".length),this.m_strError=Object(R.f)("#Steam_AppUpdateError_"+i)):this.m_strError=Object(R.f)("#UninstallDialog_UnknownError")},Object(j.c)([O.observable],e.prototype,"m_eState",void 0),Object(j.c)([O.action],e.prototype,"SetComplete",null),e}(Li),Pi=n("0OaU");n("O9Dg");var Gi=n("f/5U"),Ui=n.n(Gi);function xi(e){var t,n,r=e.appid,i=e.eulaWorkflow,a=e.onCancel,o=i.useEulaApprovalState(),s=D.useRef(o.cancelFn);s.current=o.cancelFn,D.useEffect(function(){return function(){s.current&&s.current()}},[]);var c=Object(R.f)("#Installer_Eula",null===(t=Xa.GetAppOverviewByAppID(r))||void 0===t?void 0:t.display_name);return o.bDone?(console.log("closing eula dialog normally"),e.closeModal&&e.closeModal(),null):D.createElement(D.Fragment,null,D.createElement(Si.c,null,D.createElement("div",{className:Ui.a.EulaText},c)),(null===(n=o.currentEula)||void 0===n?void 0:n.url)&&D.createElement("iframe",{className:Ui.a.Eula,src:o.currentEula.url}),D.createElement(Si.i,null,D.createElement(Si.o,{onCancel:function(){o.cancelFn&&o.cancelFn(),a&&a()},onOK:o.continueFn,strOKText:Object(R.f)("#Installer_EulaAccept")})))}var zi=n("TtDX"),Hi=n("y+6m");var Wi=n("z5gf"),Vi=new(function(){function e(){this.m_mapAppDetailsCache=new Map}return e.prototype.BHasDataForApp=function(e){return this.m_mapAppDetailsCache.has(e)},e.prototype.LookupCachedDataForApp=function(e,t,n){var r=this.m_mapAppDetailsCache.get(e).get(t);if(r){if(r.version===n)return r.data;console.warn("App data cache data mismatch",e,t,n,"Got version",r.version)}},e.prototype.GetCachedDataForApp=function(t,n,r){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return this.BHasDataForApp(t)?[3,2]:[4,this.FetchDataForApp(t)];case 1:e.sent(),e.label=2;case 2:return[2,this.LookupCachedDataForApp(t,n,r)]}})})},e.prototype.FetchDataForApp=function(i){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:if(this.m_mapAppDetailsCache.has(i))return[2];t=void 0,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,SteamClient.Apps.GetCachedAppDetails(i)];case 2:return n=e.sent(),t=JSON.parse(n),[3,4];case 3:return e.sent(),[3,4];case 4:return t?(r=new Map(t),this.m_mapAppDetailsCache.set(i,r)):(console.warn("Failed to load app details cache data for",i),this.m_mapAppDetailsCache.set(i,new Map)),[2]}})})},e.prototype.SetCachedDataForApp=function(n,r,i,a){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){return this.m_mapAppDetailsCache.has(n)||this.m_mapAppDetailsCache.set(n,new Map),this.m_mapAppDetailsCache.get(n).set(r,{version:i,data:a}),t=this.m_mapAppDetailsCache.get(n),[2,SteamClient.Apps.SetCachedAppDetails(n,JSON.stringify(Array.from(t)))]})})},Object(j.c)([O.observable.shallow],e.prototype,"m_mapAppDetailsCache",void 0),e}());window.appDetailsCache=Vi;var qi=c.Message;var Yi,Qi,Zi,Ki=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.count||l.a(r.M()),qi.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{count:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},starttime:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},endtime:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},language:{n:4,br:l.d.readString,bw:l.h.writeString},filterflags:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},filterappid:{n:6,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserNews_GetUserNews_Request"},r}(qi),Ji=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.news||l.a(r.M()),qi.initialize(t,e,0,-1,[1,2],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{news:{n:1,c:Xi,r:!0,q:!0},achievement_display_data:{n:2,c:$i,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserNews_GetUserNews_Response"},r}(qi),Xi=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.eventtype||l.a(r.M()),qi.initialize(t,e,0,-1,[8],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{eventtype:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},eventtime:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},steamid_actor:{n:3,br:l.d.readFixed64String,bw:l.h.writeFixed64String},steamid_target:{n:4,br:l.d.readFixed64String,bw:l.h.writeFixed64String},gameid:{n:5,br:l.d.readFixed64String,bw:l.h.writeFixed64String},packageid:{n:6,br:l.d.readUint32,bw:l.h.writeUint32},shortcutid:{n:7,br:l.d.readUint32,bw:l.h.writeUint32},achievement_names:{n:8,r:!0,q:!0,br:l.d.readString,bw:l.h.writeRepeatedString},clan_eventid:{n:9,br:l.d.readFixed64String,bw:l.h.writeFixed64String},clan_announcementid:{n:10,br:l.d.readFixed64String,bw:l.h.writeFixed64String},publishedfileid:{n:11,br:l.d.readFixed64String,bw:l.h.writeFixed64String},event_last_mod_time:{n:12,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserNews_Event"},r}(qi),$i=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),qi.initialize(t,e,0,-1,[2],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},achievements:{n:2,c:ea,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserNewsAchievementDisplayData"},r}(qi),ea=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.name||l.a(r.M()),qi.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{name:{n:1,br:l.d.readString,bw:l.h.writeString},display_name:{n:2,br:l.d.readString,bw:l.h.writeString},display_description:{n:3,br:l.d.readString,bw:l.h.writeString},icon:{n:4,br:l.d.readString,bw:l.h.writeString},unlocked_pct:{n:5,br:l.d.readFloat,bw:l.h.writeFloat},hidden:{n:6,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserNewsAchievementDisplayData_CAchievement"},r}(qi),ta=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),qi.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserNews_GetAppDetailsSpotlight_Request"},r}(qi),na=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.events||l.a(r.M()),qi.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{events:{n:1,c:ra,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserNews_GetAppDetailsSpotlight_Response"},r}(qi),ra=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.event_type||l.a(r.M()),qi.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{event_type:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},event_time:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},clan_id:{n:3,br:l.d.readFixed64String,bw:l.h.writeFixed64String},clan_announcementid:{n:4,br:l.d.readFixed64String,bw:l.h.writeFixed64String},appid:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},rtime32_last_modified:{n:6,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserNews_GetAppDetailsSpotlight_Response_FeaturedEvent"},r}(qi),ia=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.timestamp||l.a(r.M()),qi.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{timestamp:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},event_type:{n:3,br:l.d.readEnum,bw:l.h.writeEnum},event_sub_type:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},data1:{n:5,br:l.d.readInt64String,bw:l.h.writeInt64String},data2:{n:6,br:l.d.readInt64String,bw:l.h.writeInt64String},data3:{n:7,br:l.d.readInt64String,bw:l.h.writeInt64String},data4:{n:8,br:l.d.readInt64String,bw:l.h.writeInt64String},item_appid:{n:10,br:l.d.readUint32,bw:l.h.writeUint32},item_contextid:{n:11,br:l.d.readUint64String,bw:l.h.writeUint64String},item_assetid:{n:12,br:l.d.readUint64String,bw:l.h.writeUint64String},proto_data:{n:13,br:l.d.readBytes,bw:l.h.writeBytes}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserGameActivity_Event"},r}(qi),aa=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||l.a(r.M()),qi.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:l.d.readFixed64String,bw:l.h.writeFixed64String},appid:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},count:{n:3,br:l.d.readInt32,bw:l.h.writeInt32},starttime:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},endtime:{n:5,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserGameActivity_GetActivity_Request"},r}(qi),oa=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||l.a(r.M()),qi.initialize(t,e,0,-1,[3],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:l.d.readFixed64String,bw:l.h.writeFixed64String},appid:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},events:{n:3,c:ia,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserGameActivity_GetActivity_Response"},r}(qi);(Qi=Yi=Yi||{}).GetUserNews=function(e,t){return e.SendMsg("UserNews.GetUserNews#1",t,Ji,{ePrivilege:1})},Qi.GetAppDetailsSpotlight=function(e,t){return e.SendMsg("UserNews.GetAppDetailsSpotlight#1",t,na,{ePrivilege:1})},(Zi||(Zi={})).GetActivity=function(e,t){return e.SendMsg("UserGameActivity.GetActivity#1",t,oa,{ePrivilege:1})};var sa=function(){function e(){this.details=null,this.friendsWhoPlayData={dateLastRequested:null,data:null},this.socialMediaData=null,this.associationData=null,this.appDetailsSpotlight=null,this.descriptionsData=null,this.releaseData=null,this.customImageInfo=null,this.screenshots=null,this.customImageInfoRtime=0,this.cRegistered=0,this.listeners=[],this.hAppDetails=null,this.bLoadingAchievments=!1}return Object(j.c)([O.observable],e.prototype,"details",void 0),Object(j.c)([O.observable],e.prototype,"friendsWhoPlayData",void 0),Object(j.c)([O.observable.ref],e.prototype,"socialMediaData",void 0),Object(j.c)([O.observable.ref],e.prototype,"associationData",void 0),Object(j.c)([O.observable.ref],e.prototype,"appDetailsSpotlight",void 0),Object(j.c)([O.observable.ref],e.prototype,"descriptionsData",void 0),Object(j.c)([O.observable.ref],e.prototype,"releaseData",void 0),Object(j.c)([O.observable.ref],e.prototype,"customImageInfo",void 0),Object(j.c)([O.observable.ref],e.prototype,"screenshots",void 0),e}(),ca="socialmedia",la="associations",ua="descriptions",pa="achievements",da="releasedata",ma="customimage",ha=new(function(){function e(){this.m_mapAppData=new O.ObservableMap,this.m_setDetailsInProgress=new Set,this.m_mapRecentlyLaunchedApps=new O.ObservableMap}return e.prototype.Init=function(e){this.m_CMInterface=e},e.prototype.CMInterface=function(){return this.m_CMInterface},e.prototype.GetAppData=function(e){return this.m_mapAppData.has(e)||this.m_mapAppData.set(e,new sa),this.m_mapAppData.get(e)},e.prototype.RegisterForAppData=function(e,t){var n=this,r=this.GetAppData(e);return 0==r.cRegistered&&(r.hAppDetails=SteamClient.Apps.RegisterForAppDetails(e,this.AppDetailsChanged)),r.cRegistered++,t&&(r.listeners.push(t),t(r.details)),{unregister:function(){n.UnregisterForAppData(r,t)}}},e.prototype.UnregisterForAppData=function(e,t){e.cRegistered--,t&&(e.listeners=e.listeners.filter(function(e){return e!==t})),0==e.cRegistered&&e.hAppDetails.unregister()},e.prototype.AppDetailsChanged=function(t){this.m_mapAppData.has(t.unAppID)||console.log("AppDetailsStore error - received app details when we aren't subscribed?");var e=this.GetAppData(t.unAppID);e.details?Object.assign(e.details,t):e.details=t,t&&t.achievements&&void 0!==t.achievements.vecHighlight&&Vi.SetCachedDataForApp(t.unAppID,pa,2,t.achievements),t&&e.listeners.forEach(function(e){return e(t)})},e.prototype.GetAppDetails=function(e){return this.GetAppData(e).details},e.prototype.RequestAppDetails=function(a){return Object(j.b)(this,void 0,void 0,function(){var t,i=this;return Object(j.e)(this,function(e){return(t=this.GetAppDetails(a))?[2,t]:[2,new Promise(function(t){var n=!1,r=i.RegisterForAppData(a,function(e){e&&(n||(n=!0,t(e)),n&&r&&(r.unregister(),r=null))})})]})})},e.prototype.GetFriendsGameplayInfo=function(e){var t=this,n=this.GetAppData(e),r=new Date;return(!n.friendsWhoPlayData.dateLastRequested||60<r.getMinutes()-n.friendsWhoPlayData.dateLastRequested.getMinutes())&&setTimeout(function(){n.friendsWhoPlayData.dateLastRequested=r,t.RequestFriendsWhoPlayData(e)},0),n.friendsWhoPlayData.data},e.prototype.MarkFriendsGameplayInfoDirty=function(e){},e.prototype.RequestFriendsWhoPlayData=function(i){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=this.GetAppData(i)).friendsWhoPlayData.data?[3,2]:[4,Vi.GetCachedDataForApp(i,"friends",1)];case 1:(n=e.sent())&&(t.friendsWhoPlayData.data=n),e.label=2;case 2:return[4,this.GrabFriendsWhoPlayData(i)];case 3:return(r=e.sent())&&(t.friendsWhoPlayData.data=r.toObject(),Vi.SetCachedDataForApp(i,"friends",1,t.friendsWhoPlayData.data)),[2]}})})},e.prototype.GrabFriendsWhoPlayData=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(yt.f)).Body().set_appid(r),[4,yt.n.GetFriendsGameplayInfo(this.m_CMInterface.GetServiceTransport(),t)];case 1:return 1==(n=e.sent()).GetEResult()?[2,n.Body()]:(console.log("Failed to retrieve friends gameplay data for appid",r,"result was",n.GetEResult(),"msg",n.GetEMsg()),[2,null])}})})},e.prototype.GetAchievements=function(e){var t=this.GetAppData(e);return void 0===t.details.achievements.vecHighlight&&this.RequestAchievements(e),t.details.achievements},e.prototype.RequestAchievements=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=this.GetAppData(r)).bLoadingAchievments?[2]:void 0!==t.details.achievements.vecHighlight?[3,2]:(t.bLoadingAchievments=!0,[4,Vi.GetCachedDataForApp(r,pa,2)]);case 1:n=e.sent(),t.bLoadingAchievments=!1,n&&(t.details.achievements=n),e.label=2;case 2:return[2]}})})},e.prototype.BAchievementIsHiddenAndAchieved=function(e,t){var n=this.GetAchievements(e);if(!n)return!1;for(var r=0,i=n.vecAchievedHidden;r<i.length;r++){if(i[r].strName==t)return!0}return!1},e.prototype.GetSocialMediaData=function(e){var t=this.GetAppData(e);return t.socialMediaData||this.RequestSocialMediaData(e),t.socialMediaData},e.prototype.GetAssociations=function(e){var t=this.GetAppData(e);return t.associationData||this.RequestAssociationData(e),t.associationData},e.prototype.GetDescriptions=function(e){var t=this.GetAppData(e);return t.descriptionsData||this.RequestDescriptionsData(e),t.descriptionsData},e.prototype.GetReleaseData=function(e){var t=this.GetAppData(e);return t.releaseData||this.RequestReleaseData(e),t.releaseData},e.prototype.RequestSocialMediaData=function(i){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return null!==(t=this.GetAppData(i)).socialMediaData?[3,2]:[4,Vi.GetCachedDataForApp(i,ca,3)];case 1:(n=e.sent())&&(t.socialMediaData=n),e.label=2;case 2:return[4,this.GetAjaxLibraryAppDetails(i)];case 3:return(r=e.sent())&&this.SetAjaxLibraryAppDetails(i,t,r),[2]}})})},e.prototype.RequestAssociationData=function(i){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return null!==(t=this.GetAppData(i)).associationData?[3,2]:[4,Vi.GetCachedDataForApp(i,la,2)];case 1:(n=e.sent())&&(t.associationData=n),e.label=2;case 2:return[4,this.GetAjaxLibraryAppDetails(i)];case 3:return(r=e.sent())&&this.SetAjaxLibraryAppDetails(i,t,r),[2]}})})},e.prototype.RequestDescriptionsData=function(i){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return null!==(t=this.GetAppData(i)).descriptionsData?[3,2]:[4,Vi.GetCachedDataForApp(i,ua,1)];case 1:(n=e.sent())&&(t.descriptionsData=n),e.label=2;case 2:return[4,this.GetAjaxLibraryAppDetails(i)];case 3:return(r=e.sent())&&this.SetAjaxLibraryAppDetails(i,t,r),[2]}})})},e.prototype.RequestReleaseData=function(i){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return null!==(t=this.GetAppData(i)).releaseData?[3,2]:[4,Vi.GetCachedDataForApp(i,da,2)];case 1:(n=e.sent())&&(t.releaseData=n),e.label=2;case 2:return[4,this.GetAjaxLibraryAppDetails(i)];case 3:return(r=e.sent())&&this.SetAjaxLibraryAppDetails(i,t,r),[2]}})})},e.prototype.SetAjaxLibraryAppDetails=function(e,t,n){t.socialMediaData=[];for(var r=0,i=Object.keys(n.rgSocialMedia);r<i.length;r++){var a=i[r],o=Number(a),s=n.rgSocialMedia[a];s.is_valid&&t.socialMediaData.push({eType:o,strName:s.username,strURL:s.url})}if(Vi.SetCachedDataForApp(e,ca,3,t.socialMediaData),t.associationData={rgDevelopers:[],rgPublishers:[],rgFranchises:[]},n.rgDevelopers)for(var c=0,l=n.rgDevelopers;c<l.length;c++){var u=l[c];t.associationData.rgDevelopers.push({strName:u.name,strURL:u.url})}if(n.rgPublishers)for(var p=0,d=n.rgPublishers;p<d.length;p++){var m=d[p];t.associationData.rgPublishers.push({strName:m.name,strURL:m.url})}if(n.rgFranchises)for(var h=0,f=n.rgFranchises;h<f.length;h++){var b=f[h];t.associationData.rgFranchises.push({strName:b.name,strURL:b.url})}Vi.SetCachedDataForApp(e,la,2,t.associationData),t.releaseData=n.releasedata,Vi.SetCachedDataForApp(e,da,2,t.releaseData),t.descriptionsData={strFullDescription:n.strFullDescription,strSnippet:Object(Xr.b)(n.strSnippet)},Vi.SetCachedDataForApp(e,ua,1,t.descriptionsData)},e.prototype.GetAjaxLibraryAppDetails=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:if(this.m_setDetailsInProgress.has(n))return[2,null];this.m_setDetailsInProgress.add(n),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Wi.a.get(B.a.ResolveURL("LibraryAppDetails",n),{retrycount:1})];case 2:return t=e.sent(),this.m_setDetailsInProgress.delete(n),1==t.status?[2,t]:[2,null];case 3:return e.sent(),[2,null];case 4:return[2]}})})},e.prototype.GetAppDetailsSpotlight=function(e){var t=this.GetAppData(e);return t.appDetailsSpotlight?t.appDetailsSpotlight.data:(this.RequestAppDetailsSpotlight(e),null)},e.prototype.RequestAppDetailsSpotlight=function(i){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(ta)).Body().set_appid(i),[4,Yi.GetAppDetailsSpotlight(this.m_CMInterface.GetServiceTransport(),t)];case 1:return 1!=(n=e.sent()).GetEResult()?(console.log("Failed to load app details spotlight for "+i),[2]):(r=n.Body().toObject(),this.GetAppData(i).appDetailsSpotlight={dtLoaded:new Date,data:r},[2])}})})},e.prototype.GetCustomLogoPosition=function(e){var t=this.GetAppData(e.appid);return null!==t.customImageInfo&&t.customImageInfoRtime==e.rt_custom_image_mtime||this.RequestCustomImageInfo(e),t.customImageInfo&&t.customImageInfo.logoPosition},e.prototype.ValidateCustomImageInfo=function(e){if(!e)return!1;if(!e.nVersion||1!=e.nVersion)return!1;if(!e.logoPosition)return!1;var t=e.logoPosition,n=t.pinnedPosition;return("UpperLeft"==n||"BottomLeft"==n||"UpperCenter"==n||"CenterCenter"==n||"BottomCenter"==n)&&!(!t.nWidthPct||!t.nHeightPct||t.nWidthPct<0||100<t.nWidthPct||t.nHeightPct<0||100<t.nHeightPct)},e.prototype.RequestCustomImageInfo=function(s){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=s.appid,null!=(n=this.GetAppData(t)).customImageInfo?[3,2]:[4,Vi.GetCachedDataForApp(t,ma,1)];case 1:(r=e.sent())&&(n.customImageInfo=r,n.customImageInfoRtime=s.rt_custom_image_mtime),e.label=2;case 2:i=B.a.BuildCustomAssetURL(t,"","json",s.rt_custom_image_mtime),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,P.a.get(i,{withCredentials:!1})];case 4:return a=e.sent(),this.ValidateCustomImageInfo(a.data)?(o=a.data,JSON.stringify(o)!=JSON.stringify(n.customImageInfo)&&(n.customImageInfo=o,Vi.SetCachedDataForApp(t,ma,1,o)),n.customImageInfoRtime=s.rt_custom_image_mtime):(n.customImageInfo=void 0,n.customImageInfoRtime=s.rt_custom_image_mtime,Vi.SetCachedDataForApp(t,ma,1,void 0)),[3,6];case 5:return e.sent(),n.customImageInfo=void 0,n.customImageInfoRtime=s.rt_custom_image_mtime,Vi.SetCachedDataForApp(t,ma,1,void 0),[3,6];case 6:return[2]}})})},e.prototype.SaveCustomLogoPosition=function(r,i){return Object(j.b)(this,void 0,void 0,function(){var t,n=this;return Object(j.e)(this,function(e){return t={nVersion:1,logoPosition:i},[2,SteamClient.Apps.SetCustomLogoPositionForApp(r.appid,JSON.stringify(t)).then(function(){var e=n.GetAppData(r.appid);e.customImageInfo=t,e.customImageInfoRtime=r.rt_custom_image_mtime,Vi.SetCachedDataForApp(r.appid,ma,1,i)})]})})},e.prototype.ClearCustomLogoPosition=function(t){var n=this;return Vi.SetCachedDataForApp(t.appid,ma,1,void 0),SteamClient.Apps.ClearCustomLogoPositionForApp(t.appid).then(function(){var e=n.GetAppData(t.appid);e.customImageInfo=void 0,e.customImageInfoRtime=t.rt_custom_image_mtime})},e.prototype.GetHeroImages=function(e){var t=e.appid,n=e.rt_store_asset_mtime,r=Xa.GetCustomHeroImageURLs(e),i=this.GetHeroImagesForAppId(t,n),a=i.rgHeroImages,o=i.bHasHeroImage;return{rgHeroImages:Object(j.g)(r,a),bHasHeroImage:o}},e.prototype.GetHeroImagesForAppId=function(e,t){var n,r=[],i=!1,a=this.GetAppDetails(e);return a&&((n=a.libraryAssets)&&n.strHeroImage&&(i=!0,r.push(B.a.BuildCachedLibraryAssetURL(e,n.strHeroImage,t)),r.push(B.a.BuildLibraryAssetURL(e,n.strHeroImage,t))),a.strFallbackHeaderImage&&(r.push(B.a.BuildCachedLibraryAssetURL(e,"library_hero.jpg",t)),r.push(a.strFallbackHeaderImage))),{rgHeroImages:r,bHasHeroImage:i}},e.prototype.GetHeroBlurImages=function(e){var t,n=e.appid,r=e.rt_store_asset_mtime,i=Array(Xa.GetCustomHeroImageURLs(e).length).fill(""),a=this.GetAppDetails(n);return a&&((t=a.libraryAssets)&&t.strHeroBlurImage&&(i.push(B.a.BuildCachedLibraryAssetURL(n,t.strHeroBlurImage,r)),i.push(B.a.BuildLibraryAssetURL(n,t.strHeroBlurImage,r))),a.strFallbackHeaderImage&&(i.push(""),i.push(""))),i},e.prototype.GetLogoImages=function(e){var t=e.appid,n=e.rt_store_asset_mtime,r=this.GetLogoImagesForAppId(t,n),i=r.rgLogoImages,a=r.logoPosition,o=Xa.GetCustomLogoImageURLs(e);return{rgLogoImages:Object(j.g)(o,i),logoPosition:a}},e.prototype.GetLogoImagesForAppId=function(e,t){var n,r=[],i=null,a=this.GetAppDetails(e);return a&&a.libraryAssets&&a.libraryAssets.strLogoImage&&(i=(n=a.libraryAssets).logoPosition,r.push(B.a.BuildCachedLibraryAssetURL(e,n.strLogoImage,t)),r.push(B.a.BuildLibraryAssetURL(e,n.strLogoImage,t))),{rgLogoImages:r,logoPosition:i}},e.prototype.BHasRecentlyLaunched=function(e){return this.m_mapRecentlyLaunchedApps.has(e)},e.prototype.MarkAppAsRecentlyLaunched=function(e){var t,n=this,r=1172380==e?2e4:0;0!=r&&((t=this.m_mapRecentlyLaunchedApps.get(e))||(t=new X.b,this.m_mapRecentlyLaunchedApps.set(e,t)),t.Schedule(r,function(){return n.m_mapRecentlyLaunchedApps.delete(e)}))},e.prototype.GetAppScreenshots=function(e){var t=this.GetAppData(e);return t.screenshots?t.screenshots:(this.RequestAppScreenshots(e),[])},e.prototype.RequestAppScreenshots=function(o){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=this.GetAppData(o)).screenshots?[3,2]:(n=B.a.ResolveURL("AppHoverPublic",o),[4,Wi.a.get(n,{retrycount:0})]);case 1:r=e.sent(),i=[],Array.isArray(r.rgScreenshots)&&(a=r.rgScreenshots,i=a.map(function(e){return e.filename})),t.screenshots=i,e.label=2;case 2:return[2,t.screenshots]}})})},e.prototype.BIsWorkshopVisible=function(e){return!Object(k.a)(A.c.LAUNCHER_TYPE)&&e.bWorkshopVisible},e.prototype.BHasMarketPresence=function(e){return!Object(k.a)(A.c.LAUNCHER_TYPE)&&e.bCommunityMarketPresence},Object(j.c)([E.a],e.prototype,"AppDetailsChanged",null),Object(j.c)([E.a],e.prototype,"RequestFriendsWhoPlayData",null),Object(j.c)([E.a],e.prototype,"GrabFriendsWhoPlayData",null),Object(j.c)([E.a],e.prototype,"RequestAchievements",null),Object(j.c)([E.a],e.prototype,"RequestSocialMediaData",null),Object(j.c)([E.a],e.prototype,"RequestAssociationData",null),Object(j.c)([E.a],e.prototype,"RequestDescriptionsData",null),Object(j.c)([E.a],e.prototype,"RequestReleaseData",null),Object(j.c)([O.action.bound],e.prototype,"SetAjaxLibraryAppDetails",null),Object(j.c)([E.a],e.prototype,"GetAjaxLibraryAppDetails",null),e}());window.appDetailsStore=ha;var fa,ba,_a=new(function(){function a(){this.m_clientHandles=new C.g,this.m_mapGameActions=new Map}return a.prototype.Init=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return this.m_clientHandles.Add(SteamClient.Apps.RegisterForGameActionStart(this.OnGameActionStart)),this.m_clientHandles.Add(SteamClient.Apps.RegisterForGameActionEnd(this.OnGameActionEnd)),this.m_clientHandles.Add(SteamClient.Apps.RegisterForGameActionTaskChange(this.OnGameActionTaskChange)),this.m_clientHandles.Add(SteamClient.Apps.RegisterForGameActionUserRequest(this.OnGameActionUserRequest)),this.m_clientHandles.Add(SteamClient.Apps.RegisterForGameActionShowError(this.OnGameActionShowError)),[2]})})},a.prototype.SetShowUninstallDialogCallback=function(e){this.m_fnShowUninstallDialog=e,this.SyncGameActions()},a.prototype.SetShowInstallDialogCallback=function(e){this.m_fnShowInstallDialog=e,this.SyncGameActions()},a.prototype.SetShowDurationControlDialogCallback=function(e){this.m_fnShowDurationControlDialog=e,this.SyncGameActions()},a.prototype.SyncGameActions=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,SteamClient.Apps.GetActiveGameActions()];case 1:for(t=e.sent(),n=0,r=t;n<r.length;n++)i=r[n],this.m_mapGameActions.has(i.nGameActionID)||this.HandleUnknownAction(i);return[2]}})})},a.prototype.HandleUnknownAction=function(e){var t;return"UninstallApps"==e.strActionName?((t=new va).StartFromInProgress(e),this.m_mapGameActions.set(e.nGameActionID,t),void this.m_fnShowUninstallDialog(t)):(e.strActionName,"LaunchApp"==e.strActionName&&"ShowDurationControl"==e.strTaskName?((t=new ga).StartFromInProgress(e),this.m_mapGameActions.set(e.nGameActionID,t),void this.m_fnShowDurationControlDialog(t)):void e.strActionName)},a.prototype.UninstallApps=function(e,t){var n=this,r=new va;return r.StartUninstall(e,t).then(function(){var e=r.GetGameActionID();e&&n.m_mapGameActions.set(e,r),console.log("uninstall - started",e)}),r},a.prototype.InstallApp=function(e){var t=this,n=new Fi;return n.StartInstall(e).then(function(e){if(e){if(0==e)return void console.log("install - could not start",e);t.m_mapGameActions.set(e,n),SteamClient.Apps.ContinueGameAction(e,"Initial state")}console.log("install - started",e)}),n},a.GetEmptyAction=function(e,t,n){return{nGameActionID:e,gameid:t,strActionName:n,strTaskName:"",strTaskDetails:"",nSecondsRemaing:0,strNumDone:"",strNumTotal:"",bWaitingForUI:!1}},a.prototype.OnGameActionStart=function(e,t,n){var r,i;console.debug("game action start",e,t,n),this.m_mapGameActions.get(e)||("UninstallApps"==n&&this.m_fnShowUninstallDialog?((r=new va).StartFromInProgress(a.GetEmptyAction(e,t,n)),this.m_mapGameActions.set(e,r),this.m_fnShowUninstallDialog(r)):"InstallApps"==n&&this.m_fnShowInstallDialog&&((i=new Fi).StartFromInProgress(a.GetEmptyAction(e,t,n)),this.m_mapGameActions.set(e,i),this.m_fnShowInstallDialog(i)))},a.prototype.OnGameActionEnd=function(e){console.debug("game action end",e);var t=this.m_mapGameActions.get(e);t&&(t.OnGameActionEnd(),this.m_mapGameActions.delete(e))},a.prototype.OnGameActionTaskChange=function(e,t,n,r,i){console.debug("game action task change",e,t,n,r,i);var a=this.m_mapGameActions.get(e);a&&a.OnGameActionTaskChange(t,n,r,i)},a.prototype.OnGameActionUserRequest=function(e,t,n,r,i){console.debug("game action user request",e,t,n,r,i);var a,o,s=this.m_mapGameActions.get(e);s&&s.OnGameActionUserRequest(t,n,r,i),"LaunchApp"==n&&"ShowDurationControl"==r&&this.m_fnShowDurationControlDialog&&(a={nGameActionID:e,gameid:t,strActionName:n,strTaskName:"",strTaskDetails:"",nSecondsRemaing:0,strNumDone:"",strNumTotal:"",bWaitingForUI:!1},(o=new ga).StartFromInProgress(a),this.m_mapGameActions.set(e,o),this.m_fnShowDurationControlDialog(o))},a.prototype.OnGameActionShowError=function(e,t,n,r,i){console.debug("game action show error",e,t,n,r,i);var a=this.m_mapGameActions.get(e);a&&a.OnGameActionShowError(t,n,n,i)},Object(j.c)([E.a],a.prototype,"OnGameActionStart",null),Object(j.c)([E.a],a.prototype,"OnGameActionEnd",null),Object(j.c)([E.a],a.prototype,"OnGameActionTaskChange",null),Object(j.c)([E.a],a.prototype,"OnGameActionUserRequest",null),Object(j.c)([E.a],a.prototype,"OnGameActionShowError",null),a}());(ba=fa=fa||{})[ba.Idle=0]="Idle",ba[ba.ConfirmUninstall=1]="ConfirmUninstall",ba[ba.ConfirmPassword=2]="ConfirmPassword",ba[ba.Uninstalling=3]="Uninstalling",ba[ba.Complete=4]="Complete";var va=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_eState=fa.Idle,e.m_rgTargetApps=[],e.m_strError="",e.m_bSkipConfirmation=!1,e.m_nGameActionID=0,e}return Object(j.d)(e,t),e.prototype.StartUninstall=function(n,r){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_eState=fa.Idle,this.m_rgTargetApps=n.slice(),this.m_strError="",this.m_bSkipConfirmation=r,[4,SteamClient.Apps.UninstallApps(n)];case 1:return(t=e.sent()).bSuccess?(this.m_nGameActionID=t.nActionID,0==this.m_nGameActionID&&this.SetComplete(),[2]):(this.SetComplete(Object(R.f)("#UninstallDialog_Busy")),[2])}})})},e.prototype.StartFromInProgress=function(e){this.m_eState=fa.Idle,this.m_rgTargetApps=[],this.m_strError="",this.m_nGameActionID=e.nGameActionID,"ConfirmUninstall"==e.strTaskName&&this.OnGameActionUserRequest(e.gameid,e.strActionName,e.strTaskName,e.strTaskDetails)},e.prototype.GetGameActionID=function(){return this.m_nGameActionID},e.prototype.SetComplete=function(e){console.log("uninstall - Set Complete",e),this.m_strError=e||"",this.m_eState=fa.Complete,this.m_nGameActionID=0},e.prototype.OnGameActionEnd=function(){console.log("uninstall - OnGameActionEnd"),this.m_eState=fa.Complete,this.m_nGameActionID=0},e.prototype.OnGameActionTaskChange=function(e,t,n,r){console.log("uninstall - OnGameActionTaskChange",e,t,n,r),"StartNextApp"==n&&(this.m_nCurrentGameID=e,this.m_eState=fa.Uninstalling)},e.prototype.OnGameActionUserRequest=function(e,t,n,r){console.log("uninstall - OnGameActionUserRequest",e,t,n,r),"ConfirmUninstall"==n?(this.m_rgTargetApps=r.split(",").map(function(e){return parseInt(e)}),this.m_bSkipConfirmation?this.ConfirmUninstall():this.m_eState=fa.ConfirmUninstall):"ConfirmPassword"==n&&(this.m_eState=fa.ConfirmPassword)},e.prototype.OnGameActionShowError=function(e,t,n,r){var i,a;console.log("uninstall - OnGameActionShowError",e,t,n,r),"SecuROMRevokeError"==n?this.m_strError=Object(R.f)("#UninstallDialog_SecuROM"):0==n.indexOf("AppError_")?(i=n.slice("AppError_".length),a=Object(R.f)("#Steam_AppUpdateError_"+i),this.m_strError=Object(R.f)("#UninstallDialog_AppUpdateError",a)):this.m_strError=Object(R.f)("#UninstallDialog_UnknownError")},e.prototype.GetState=function(){return this.m_eState},e.prototype.GetError=function(){return this.m_strError},e.prototype.GetTargetApps=function(){return this.m_rgTargetApps},e.prototype.GetCurrentGameID=function(){return this.m_nCurrentGameID},e.prototype.ConfirmUninstall=function(){SteamClient.Apps.ContinueGameAction(this.m_nGameActionID,"ConfirmUninstall")},e.prototype.Cancel=function(){this.m_nGameActionID&&SteamClient.Apps.CancelGameAction(this.m_nGameActionID)},Object(j.c)([O.observable],e.prototype,"m_eState",void 0),Object(j.c)([O.observable],e.prototype,"m_nCurrentGameID",void 0),Object(j.c)([O.action],e.prototype,"SetComplete",null),Object(j.c)([O.action.bound],e.prototype,"OnGameActionEnd",null),Object(j.c)([O.action.bound],e.prototype,"OnGameActionTaskChange",null),Object(j.c)([O.action.bound],e.prototype,"OnGameActionUserRequest",null),Object(j.c)([O.action.bound],e.prototype,"OnGameActionShowError",null),Object(j.c)([E.a],e.prototype,"ConfirmUninstall",null),Object(j.c)([E.a],e.prototype,"Cancel",null),e}(Li),ga=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_nGameActionID=0,e}return Object(j.d)(e,t),e.prototype.StartFromInProgress=function(e){this.m_nGameActionID=e.nGameActionID,"ShowDurationControl"==e.strTaskName&&this.OnGameActionUserRequest(e.gameid,e.strActionName,e.strTaskName,e.strTaskDetails)},e.prototype.GetGameActionID=function(){return this.m_nGameActionID},e.prototype.OnGameActionEnd=function(){this.m_nGameActionID=0},e.prototype.OnGameActionTaskChange=function(e,t,n,r){},e.prototype.OnGameActionUserRequest=function(e,t,n,r){},e.prototype.OnGameActionShowError=function(e,t,n,r){},e.prototype.Cancel=function(){this.m_nGameActionID&&(SteamClient.Apps.CancelGameAction(this.m_nGameActionID),this.m_nGameActionID=0)},e.prototype.ConfirmContinue=function(){this.m_nGameActionID&&(console.trace("Suspect"),SteamClient.Apps.ContinueGameAction(this.m_nGameActionID,"ShowDurationControl"),this.m_nGameActionID=0)},Object(j.c)([O.action.bound],e.prototype,"OnGameActionEnd",null),Object(j.c)([O.action.bound],e.prototype,"OnGameActionTaskChange",null),Object(j.c)([O.action.bound],e.prototype,"OnGameActionUserRequest",null),Object(j.c)([O.action.bound],e.prototype,"OnGameActionShowError",null),Object(j.c)([E.a],e.prototype,"Cancel",null),Object(j.c)([E.a],e.prototype,"ConfirmContinue",null),e}(Li),ya=function(){function e(e,t,n){this.m_bDone=!1,this.m_currentEula=void 0,this.m_gameid=e,this.m_nGameActionID=t,this.m_onEulasDone=n}return e.prototype.useEulaApprovalState=function(){var e=this;return Object(ki.a)(function(){return{continueFn:e.m_stateContinueFn,cancelFn:e.m_stateCancelFn,currentEula:e.m_currentEula,bDone:e.m_bDone}})},e.prototype.CancelAction=function(){this.m_bDone||SteamClient.Apps.CancelGameAction(this.m_nGameActionID)},e.prototype.Start=function(){var n=this;SteamClient.Apps.LoadEula(parseInt(this.m_gameid)).then(function(t){function e(){n.m_currentEula&&(console.log("accepted eula",n.m_currentEula.id),SteamClient.Apps.MarkEulaAccepted(parseInt(n.m_gameid),n.m_currentEula.id,n.m_currentEula.version));var e=t.shift();if(e)return n.m_currentEula=e,void console.log("prompt for eula",n.m_currentEula.id);console.log("eulas complete",n.m_currentEula.id),n.m_bDone=!0,n.m_currentEula=void 0,n.m_stateContinueFn=void 0,n.m_stateCancelFn=void 0,n.m_onEulasDone()}n.m_stateContinueFn=e,n.m_stateCancelFn=n.CancelAction,e()})},Object(j.c)([O.observable],e.prototype,"m_stateContinueFn",void 0),Object(j.c)([O.observable],e.prototype,"m_stateCancelFn",void 0),Object(j.c)([O.observable],e.prototype,"m_currentEula",void 0),Object(j.c)([E.a],e.prototype,"CancelAction",null),e}(),Sa=n("P2h8"),wa=n.n(Sa);function Ca(e){Object(_i.d)(D.createElement(Oa,{installHandler:e}),window,{})}function Oa(e){var t,n=e.installHandler.useInstallState(),r=n.state,i=n.appid,a=n.strError,o=n.eulaWorkflow;if(console.log("render installer",i,r,o),!e.closeModal)return null;if(r===Ri.Complete&&(console.log("installer closing",a),e.closeModal()),!Xa.GetAppOverviewByAppID(i))return null;switch(r){case Ri.Complete:e.closeModal(),t=D.createElement(Ea,{installState:n,onCancel:e.closeModal});break;case Ri.Initial:t=D.createElement(Ea,{installState:n,onCancel:e.closeModal});break;case Ri.ShowEula:t=D.createElement(xi,{appid:i,eulaWorkflow:o,onCancel:e.closeModal});break;case Ri.ExternalSignup:console.error("External signup not handled");break;case Ri.Busy:t=D.createElement(Ea,{installState:n,onCancel:e.closeModal});break;default:return console.error("Unknown installer state: ",r),e.closeModal(),null}return D.createElement(bi.d,{onOK:null,onCancel:e.closeModal},D.createElement(Ni.a,{id:"install_dialog",onNavOut:function(){return!0},preferredNavStopWithin:!0,className:wa.a.InstallerModalContent},D.createElement(Si.l,null,Object(R.f)("#Installer_Install")),D.createElement(Si.b,null,t)))}function Ea(e){var t,n=e.installState,r=(e.onCancel,Object(R.f)("#Installer_Installing")),i=null===(t=Xa.GetAppOverviewByAppID(n.appid))||void 0===t?void 0:t.display_name;return i&&(r=Object(R.f)("#Installer_InstallingApp",i)),D.createElement(D.Fragment,null,D.createElement(Si.c,null,D.createElement("div",{className:wa.a.InstallingText},r)),D.createElement(Si.i,null,D.createElement(Pi.a,{size:"medium",position:"center"})))}var Ba=n("IHp6"),Aa=n.n(Ba);function Ia(e,t){ja(_a.UninstallApps(e,t))}function ja(e){Object(_i.d)(D.createElement(Da,{handler:e}),window,{strTitle:Da.Title()})}var Da=function(n){function e(e){var t=n.call(this,e)||this;return t.m_hHandleDispose=Object(O.autorun)(t.OnStateChange),t}var r;return Object(j.d)(e,n),(r=e).prototype.componentWillUnmount=function(){this.m_hHandleDispose&&this.m_hHandleDispose()},e.Title=function(){return Object(R.f)("#UninstallDialog_Title")},e.prototype.OnStateChange=function(){var e=this.props.handler;e.GetState()!=fa.Complete||e.GetError()||(console.log("closing due to complete state",e.GetError()),this.props.closeModal())},e.prototype.OnCancel=function(){var e=this.props.handler;e.GetState()!=fa.Uninstalling&&e.GetState()!=fa.ConfirmPassword&&(console.log("closing due to cancel"),e.Cancel(),this.props.closeModal&&this.props.closeModal())},e.prototype.render=function(){var e=this.props.handler,t=e.GetState(),n=this.OnCancel;return console.log("render - UninstallDialog",t),D.createElement(bi.d,{onOK:null,onCancel:n},D.createElement("div",{className:Aa.a.UninstallDialog},D.createElement(Si.l,null,r.Title()),D.createElement(Si.b,null,t==fa.Idle&&D.createElement(Ra,{handler:e,onCancel:n}),t==fa.ConfirmUninstall&&D.createElement(Ta,{handler:e,onCancel:n}),t==fa.ConfirmPassword&&D.createElement(Ma,{handler:e,onCancel:n}),t==fa.Uninstalling&&D.createElement(La,{handler:e,onCancel:n}),t==fa.Complete&&D.createElement(ka,{handler:e,onCancel:n}))))},Object(j.c)([E.a],e.prototype,"OnStateChange",null),Object(j.c)([E.a],e.prototype,"OnCancel",null),r=Object(j.c)([o.observer],e)}(D.Component);function Ra(e){return D.createElement(D.Fragment,null,D.createElement(Si.c,null),D.createElement(Si.i,null,D.createElement(Pi.a,{size:"medium",position:"center"})))}function Ta(e){var t,n,r=e.handler,i=r.GetTargetApps(),a="";return 1==i.length&&(t=i[0],(n=Xa.GetAppOverviewByAppID(t))&&(a=Object(R.f)("#UninstallDialog_Confirmation_Single",n.display_name))),a=a||Object(R.f)("#UninstallDialog_Confirmation_Multiple"),D.createElement(D.Fragment,null,D.createElement(Si.c,null,D.createElement("div",null,a)),D.createElement(Si.i,null,D.createElement(Si.o,{onOK:r.ConfirmUninstall,strOKText:Object(R.f)("#UninstallDialog_Uninstall"),onCancel:e.onCancel})))}function Ma(e){return D.createElement(D.Fragment,null,D.createElement(Si.c,null,D.createElement("div",{className:Aa.a.UninstallingText},Object(R.f)("#UninstallingDialog_WaitingForPassword"))),D.createElement(Si.i,null,D.createElement(Pi.a,{size:"medium",position:"center"})))}function Na(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n],a=Xa.GetAppOverviewByAppID(i);if(a&&a.gameid==e)return a.display_name}return""}var La=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props.handler,t=Object(R.f)("#UninstallingDialog_Uninstalling"),n=Na(e.GetCurrentGameID(),e.GetTargetApps());return n&&(t=Object(R.f)("#UninstallingDialog_UninstallingApp",n)),D.createElement(D.Fragment,null,D.createElement(Si.c,null,D.createElement("div",{className:Aa.a.UninstallingText},t)),D.createElement(Si.i,null,D.createElement(Pi.a,{size:"medium",position:"center"})))},Object(j.c)([o.observer],t)}(D.Component);function ka(e){var t=e.handler,n=t.GetError(),r=Na(t.GetCurrentGameID(),t.GetTargetApps());return n?D.createElement(D.Fragment,null,D.createElement(Si.c,null,D.createElement("div",null,Object(R.f)("#UninstallDialog_ErrorMessage",r)),D.createElement("div",{className:Aa.a.UninstallError},n)),D.createElement(Si.i,null,D.createElement(Si.s,{onClick:e.onCancel},Object(R.f)("#Button_Close")))):D.createElement(Si.i,null,D.createElement(Pi.a,{size:"medium",position:"center"}))}var Fa=n("X3Ds"),Pa=n("u4M+"),Ga=n.n(Pa);var Ua,xa,za,Ha,Wa=function(n){function e(e){var t=n.call(this,e)||this;return t.m_ref=D.createRef(),t.state={endTime:Date.now()+1e3*t.props.timeToShow,remaining:Number.POSITIVE_INFINITY},t.m_timer=0,t}return Object(j.d)(e,n),e.prototype.GetWindow=function(){return Object(Fa.m)(this.m_ref.current)},e.prototype.componentDidMount=function(){var e=this;this.GetWindow().requestAnimationFrame(function(){return e.GetWindow().requestAnimationFrame(function(){e.setState({endTime:Date.now()+1e3*e.props.timeToShow}),e.m_timer=e.GetWindow().setInterval(e.OnTick,e.props.wavelength)})})},e.prototype.componentWillUnmount=function(){0!=this.m_timer&&(clearInterval(this.m_timer),this.m_timer=0)},e.prototype.Done=function(){this.TimerFinished()?(this.props.handler.ConfirmContinue(),this.props.closeModal()):this.OnCancel()},e.prototype.OnCancel=function(){this.props.handler.Cancel(),this.props.closeModal()},e.prototype.OnTick=function(){this.TimerFinished()?this.Done():0!=this.m_timer&&this.setState({remaining:Math.max(0,this.state.endTime-Date.now())})},e.prototype.TimerFinished=function(){return Date.now()>=this.state.endTime},e.Title=function(){return Object(R.f)(" ")},e.prototype.render=function(){this.props.handler;return D.createElement(bi.d,{onOK:null,onCancel:this.OnCancel,className:Ga.a.DurationControlDialogBackground},D.createElement("div",{className:Ga.a.DurationControlDialog},D.createElement(Si.l,null,D.createElement("div",{className:Ga.a.TimerContainer,ref:this.m_ref},D.createElement("div",{className:Ga.a.TimerDisplay},D.createElement("span",{className:Ga.a.TimerText},Math.max(0,Math.ceil((this.state.endTime-Date.now())/1e3)))))),D.createElement(Si.c,{className:Ga.a.InfoContainer},D.createElement("div",{className:Ga.a.InfoContent},D.createElement("div",null,Object(R.f)("#SteamChina_DurationControl_Init_1")),D.createElement("div",null,Object(R.f)("#SteamChina_DurationControl_Init_2")),D.createElement("div",null,Object(R.f)("#SteamChina_DurationControl_Init_3")),D.createElement("div",null,Object(R.f)("#SteamChina_DurationControl_Init_4")),D.createElement("div",null,Object(R.f)("#SteamChina_DurationControl_Init_5"))))))},Object(j.c)([E.a],e.prototype,"GetWindow",null),Object(j.c)([E.a],e.prototype,"Done",null),Object(j.c)([E.a],e.prototype,"OnCancel",null),Object(j.c)([E.a],e.prototype,"OnTick",null),Object(j.c)([E.a],e.prototype,"TimerFinished",null),Object(j.c)([o.observer],e)}(D.Component);(xa=Ua=Ua||{}).ContextMenus="ContextMenus",xa.ModalDialogs="ModalDialogs",xa.Controls="Misc",xa.SteamPal="AppDetails",(Ha=za=za||{})[Ha.SteamUI=0]="SteamUI",Ha[Ha.BasicUI=1]="BasicUI";var Va=new(function(){function e(){var t=this;this.m_eSettingsPage="general",this.m_eSettingsZooPage=Ua.ContextMenus,this.m_flBatteryChargeLevel=.5,this.m_bIsBatteryCharging=!1,this.m_flSystemAudioVolumeLevel=.5,this.m_flWifiSignalStrength=.5,this.m_eNetworkDeviceState=C.n.NotPresent,this.m_eNetworkDeviceType=C.o.Unknown,this.m_appDetailsDisplayMode=za.BasicUI,SteamClient&&SteamClient.System&&SteamClient.System.RegisterForBatteryStateChanges?SteamClient.System.RegisterForBatteryStateChanges(this.HandleBatteryStateUpdate):window.navigator&&window.navigator.getBattery&&window.navigator.getBattery().then(function(e){t.SetIsBatteryCharging(e.charging),e.addEventListener("chargingchange",function(){return t.SetIsBatteryCharging(e.charging)}),t.SetBatteryChargeLevel(e.level),e.addEventListener("levelchange",function(){return t.SetBatteryChargeLevel(e.level)})}),SteamClient&&SteamClient.System&&(SteamClient.System.RegisterForAudioVolumeLevelChanges&&SteamClient.System.RegisterForAudioVolumeLevelChanges(this.HandleAudioVolumeLevelUpdate),SteamClient.System.RegisterForNetworkStateChanges&&SteamClient.System.RegisterForNetworkStateChanges(this.HandleNetworkStateUpdate),SteamClient.System.UI.RegisterForNotifications&&SteamClient.System.UI.RegisterForNotifications(this.HandleNotification))}return Object.defineProperty(e.prototype,"mainPanelMode",{get:function(){return Qa.mainPanelMode},enumerable:!1,configurable:!0}),e.prototype.NavigateToPanel=function(e,t,n){void 0===t&&(t="view",n="home"),n=null!=n?n:"",Qa.PushNavigationHistory("library",t,n),Qa.SetPanelMainPanelMode(e)},Object.defineProperty(e.prototype,"SettingsPage",{get:function(){return this.m_eSettingsPage},enumerable:!1,configurable:!0}),e.prototype.NavigateToSettings=function(e){void 0===e&&(e="general"),this.m_eSettingsPage=e,this.NavigateToPanel(103,"settings",e)},Object.defineProperty(e.prototype,"SettingsZooPage",{get:function(){return this.m_eSettingsZooPage},enumerable:!1,configurable:!0}),e.prototype.NavigateToSettingsZoo=function(e){void 0===e&&(e=Ua.ContextMenus),this.m_eSettingsZooPage=e,this.NavigateToPanel(104,"settingszoo",e)},e.prototype.NavigateToSearch=function(){this.NavigateToPanel(105,"search")},Object.defineProperty(e.prototype,"BatteryChargeLevel",{get:function(){return this.m_flBatteryChargeLevel},enumerable:!1,configurable:!0}),e.prototype.SetBatteryChargeLevel=function(e){this.m_flBatteryChargeLevel=e},Object.defineProperty(e.prototype,"IsBatteryCharging",{get:function(){return this.m_bIsBatteryCharging},enumerable:!1,configurable:!0}),e.prototype.SetIsBatteryCharging=function(e){this.m_bIsBatteryCharging=e},e.prototype.HandleBatteryStateUpdate=function(e){e.flLevel!=this.m_flBatteryChargeLevel&&this.SetBatteryChargeLevel(e.flLevel),e.bIsCharging!=this.IsBatteryCharging&&this.SetIsBatteryCharging(e.bIsCharging)},Object.defineProperty(e.prototype,"SystemAudioVolumeLevel",{get:function(){return this.m_flSystemAudioVolumeLevel},enumerable:!1,configurable:!0}),e.prototype.SetSystemAudioVolumeLevel=function(e){this.m_flSystemAudioVolumeLevel=e},e.prototype.HandleAudioVolumeLevelUpdate=function(e){e.flSystem!=this.m_flSystemAudioVolumeLevel&&this.SetSystemAudioVolumeLevel(e.flSystem)},Object.defineProperty(e.prototype,"WifiSignalStrength",{get:function(){return this.m_flWifiSignalStrength},enumerable:!1,configurable:!0}),e.prototype.SetWifiSignalStrength=function(e){this.m_flWifiSignalStrength=e},Object.defineProperty(e.prototype,"NetworkDeviceState",{get:function(){return this.m_eNetworkDeviceState},enumerable:!1,configurable:!0}),e.prototype.SetNetworkDeviceState=function(e){this.m_eNetworkDeviceState=e},Object.defineProperty(e.prototype,"NetworkDeviceType",{get:function(){return this.m_eNetworkDeviceType},enumerable:!1,configurable:!0}),e.prototype.SetNetworkDeviceType=function(e){this.m_eNetworkDeviceType=e},e.prototype.HandleNetworkStateUpdate=function(e){e.eNetworkDeviceState!=this.m_eNetworkDeviceState&&this.SetNetworkDeviceState(e.eNetworkDeviceState),e.flWifiSignalStrength!=this.m_flWifiSignalStrength&&this.SetWifiSignalStrength(e.flWifiSignalStrength),e.eNetworkDeviceType!=this.m_eNetworkDeviceType&&this.SetNetworkDeviceType(e.eNetworkDeviceType)},e.prototype.HandleNotification=function(e){console.log("***** Notification "+e.type,e)},e.prototype.BIsVrOnlyGame=function(e){return e.vr_only||e.appid==k.n||e.appid==k.o},e.prototype.ExcludedTitlesForPlatform=function(){return mi.GetCollection(ni.MyGames).allApps.filter(function(e){var t=!0,n=e.GetPerClientData("local");return n&&e.BIsPerClientDataLocal(n)&&14==n.display_status&&(t=!1),!t||Va.BIsVrOnlyGame(e)}).map(function(e){return e.appid})},e.prototype.DevSettings=function(){var t=this;return{appDetailDisplayMode:this.m_appDetailsDisplayMode,setAppDetailDisplayMode:function(e){t.m_appDetailsDisplayMode=e}}},Object(j.c)([O.observable],e.prototype,"m_eSettingsPage",void 0),Object(j.c)([O.observable],e.prototype,"m_eSettingsZooPage",void 0),Object(j.c)([O.observable],e.prototype,"m_flBatteryChargeLevel",void 0),Object(j.c)([O.observable],e.prototype,"m_bIsBatteryCharging",void 0),Object(j.c)([E.a],e.prototype,"SetBatteryChargeLevel",null),Object(j.c)([E.a],e.prototype,"SetIsBatteryCharging",null),Object(j.c)([E.a],e.prototype,"HandleBatteryStateUpdate",null),Object(j.c)([O.observable],e.prototype,"m_flSystemAudioVolumeLevel",void 0),Object(j.c)([E.a],e.prototype,"SetSystemAudioVolumeLevel",null),Object(j.c)([E.a],e.prototype,"HandleAudioVolumeLevelUpdate",null),Object(j.c)([O.observable],e.prototype,"m_flWifiSignalStrength",void 0),Object(j.c)([E.a],e.prototype,"SetWifiSignalStrength",null),Object(j.c)([O.observable],e.prototype,"m_eNetworkDeviceState",void 0),Object(j.c)([E.a],e.prototype,"SetNetworkDeviceState",null),Object(j.c)([O.observable],e.prototype,"m_eNetworkDeviceType",void 0),Object(j.c)([E.a],e.prototype,"SetNetworkDeviceType",null),Object(j.c)([E.a],e.prototype,"HandleNetworkStateUpdate",null),Object(j.c)([E.a],e.prototype,"HandleNotification",null),Object(j.c)([O.observable],e.prototype,"m_appDetailsDisplayMode",void 0),e}());var qa="UIStoreLocalState",Ya=function(){return function(){this.nVersion=1,this.eGameListView=1,this.bGroupedByCollection=!0,this.bSortedByRecent=[],this.mapCollapsedState=[],this.currentSelection={},this.bGroupBySharedLibraries=!1}}(),Qa=new(function(){function e(){this.m_localStorage=new Ke,this.m_nNavEpoch=0,this.m_currentNavEpochRecord=new Ni.d,this.m_recalledNavEpochRecord=void 0,this.m_rgNavEpochChronicles=[],this.m_navEpochToChroniclesIndexMap=new Map,this.m_eMainPanelMode=1,this.m_ePrevMainPanelMode=1,this.m_bIsCollectionEditorOpen=!1,this.m_bIsCollectionRenameOpen=!1,this.m_bIsSearchByTypePaneOpen=!1,this.m_setStoreSuggestions=new Set,this.m_bLowPerfMode=1,this.m_bSteamRootDialogFocused=!1,this.m_bSteamRootDialogHovered=!1,this.m_nNextNavEpoch=1,this.m_rfNavEpochWillChangeCallbacks=new Set,this.m_rsLibraryRouteHistory=[]}return e.prototype.Init=function(){return Object(j.b)(this,void 0,void 0,function(){var n,t,r=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return console.time("CUIStore Init"),_a.SetShowUninstallDialogCallback(this.ShowUnexpectedUninstallDialog),_a.SetShowDurationControlDialogCallback(this.ShowDurationControlDialog),[4,this.m_localStorage.GetObject(qa)];case 1:return(n=e.sent())&&1==n.nVersion||(n=new Ya),Object(O.runInAction)(function(){var e=n.eGameListView;r.m_eSelectedGameListView=e||1,r.m_bGameListGroupedByCollection=n.bGroupedByCollection,r.m_bGameListGroupedBySharedLibraries=n.bGroupBySharedLibraries,r.m_bGameListSortedByRecent=n.bSortedByRecent,r.m_mapLibrarySectionCollapseState=new Map(n.mapCollapsedState),r.m_gameListSelection=n.currentSelection;var t=n.collectionFilter;r.m_collectionsAppFilter=t&&pt.FromStorageFormat(t),r.m_collectionsAppFilter?(r.SelectCollectionsAppFilterOption(Pe.kPlayState,We.InstalledLocally,!1),r.SelectCollectionsAppFilterOption(Pe.kAppFeature,Ue.VRSupport,!1),0==r.m_collectionsAppFilter.GetSelectedOptions(Pe.kAppType).length&&(r.SelectCollectionsAppFilterOption(Pe.kAppType,1,!0),r.SelectCollectionsAppFilterOption(Pe.kAppType,2,!0),r.SelectCollectionsAppFilterOption(Pe.kAppType,8192,!0),r.SelectCollectionsAppFilterOption(Pe.kAppType,2048,!0),r.SelectCollectionsAppFilterOption(Pe.kAppType,4,!0))):(r.m_collectionsAppFilter=new pt,r.SelectCollectionsAppFilterOption(Pe.kAppType,1,!0),r.SelectCollectionsAppFilterOption(Pe.kAppType,2,!0)),r.m_currentAppFilter=r.m_collectionsAppFilter}),t=this.currentCollectionID&&mi.GetCollection(this.currentCollectionID),(3==this.m_eMainPanelMode&&!t||4==this.m_eMainPanelMode&&!this.currentGameListSelection.nAppId)&&this.NavigateToHome(),1==this.m_eSelectedGameListView||10==this.m_eSelectedGameListView&&t||this.SelectGameListView(1),SteamClient.Messaging.RegisterForMessages("PostToLibrary",this.OnPostMessage),Object(O.autorun)(function(){var e,t=mi.GetCollection(ni.Recent);!t||0==t.visibleApps.length||(e=t.visibleApps[0])&&e.appid!=r.m_latchedMostRecentApp&&(r.m_latchedMostRecentApp=e.appid,r.SetRecentGamesFirstApp(e.appid))}),SteamClient.UI.RegisterForRootDialogStateChanges(this.OnRootDialogStateChanged),console.timeEnd("CUIStore Init"),[2]}})})},e.prototype.AddNavEpochWillChangeListener=function(e){var t=this;return this.m_rfNavEpochWillChangeCallbacks.add(e),function(){return t.m_rfNavEpochWillChangeCallbacks.delete(e)}},e.prototype.SetNavEpoch=function(t){var n=this;this.m_rfNavEpochWillChangeCallbacks.forEach(function(e){return e(n.m_nNavEpoch,t)});var e=this.m_navEpochToChroniclesIndexMap.get(this.m_nNavEpoch),r=this.m_currentNavEpochRecord.Clone();null!=e?this.m_rgNavEpochChronicles[e].record=r:(this.m_navEpochToChroniclesIndexMap.set(this.m_nNavEpoch,this.m_rgNavEpochChronicles.length),this.m_rgNavEpochChronicles.push({epoch:this.m_nNavEpoch,record:r})),this.m_currentNavEpochRecord=new Ni.d;var i=this.m_navEpochToChroniclesIndexMap.get(t);if(null!=i)this.m_recalledNavEpochRecord=this.m_rgNavEpochChronicles[i].record;else{for(;this.m_rgNavEpochChronicles.length>e+1;){var a=this.m_rgNavEpochChronicles.pop().epoch;this.m_navEpochToChroniclesIndexMap.delete(a)}this.m_recalledNavEpochRecord=void 0}this.m_nNavEpoch=t},e.prototype.RestoreNavigation=function(){var e=window.history.state;if(e&&e.m_eMainPanelMode)for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this[r]=e[r]}},e.prototype.PreserveNavigation=function(){var t=this;Object(O.autorun)(function(){var e={m_eMainPanelMode:t.m_eMainPanelMode,m_RecentGamesFirstApp:t.m_RecentGamesFirstApp};window.history.replaceState(e,"")})},Object.defineProperty(e.prototype,"navEpoch",{get:function(){return this.m_nNavEpoch},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentNavEpochRecord",{get:function(){return this.m_currentNavEpochRecord},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"recalledNavEpochRecord",{get:function(){return this.m_recalledNavEpochRecord},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainPanelMode",{get:function(){return this.m_eMainPanelMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PrevMainPanelMode",{get:function(){return this.m_ePrevMainPanelMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentCollectionID",{get:function(){return this.m_gameListSelection.strCollectionId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentGameListSelection",{get:function(){return this.m_gameListSelection},enumerable:!1,configurable:!0}),e.prototype.SetGameListSelection=function(e,t,n){this.m_gameListSelection={strCollectionId:e,nAppId:t,gidEvent:n},this.SetMultiSelectHooksForGameListSelection(),this.SaveLocalState()},Object.defineProperty(e.prototype,"currentAppFilter",{get:function(){return this.m_currentAppFilter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collectionsAppFilter",{get:function(){return this.m_collectionsAppFilter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedGameListView",{get:function(){return this.BIsSearchActive()?11:this.m_eSelectedGameListView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bIsGameListGroupedByCollection",{get:function(){return this.m_bGameListGroupedByCollection},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bIsGameListGroupedBySharedLibraries",{get:function(){return this.m_bGameListGroupedBySharedLibraries},enumerable:!1,configurable:!0}),e.prototype.SetGameListGroupedByCollection=function(e){this.m_bGameListGroupedByCollection=!!e,this.SaveLocalState(),this.UpdateGameListSelection()},e.prototype.SetGameListGroupedBySharedLibrary=function(e){SteamClient.Stats.RecordActivationEvent("SetGameListGroupedBySharedLibrary",e?"Enabled":"Disabled"),this.m_bGameListGroupedBySharedLibraries=!!e,this.SaveLocalState(),this.UpdateGameListSelection()},Object.defineProperty(e.prototype,"bIsGameListSortedByRecent",{get:function(){return this.m_bGameListSortedByRecent},enumerable:!1,configurable:!0}),e.prototype.SetGameListSortedByRecent=function(e){this.m_bGameListSortedByRecent=!!e,this.SaveLocalState(),e||this.UpdateGameListSelection()},e.prototype.SelectCollectionsAppFilterOption=function(e,t,n){this.m_collectionsAppFilter.SelectOption(e,t,n),this.SaveLocalState()},e.prototype.SetMultiSelectHooksForGameListSelection=function(){var t,e,n=this;this.currentGameListSelection.nAppId&&this.currentGameListSelection.strCollectionId&&4==this.mainPanelMode&&(t=new fi(this.currentGameListSelection.nAppId,this.currentGameListSelection.strCollectionId),hi.SetAnchor(t),e=function(){return 4!=n.mainPanelMode||t.appid!=n.currentGameListSelection.nAppId||t.strCollectionId!=n.currentGameListSelection.strCollectionId},Object(O.when)(function(){return e()||0<hi.GetSelectedAppsInContext().filter(function(e){return e.key!=t.key}).length},function(){e()?hi.RemoveAnchor(t):n.NavigateToAllCollections()}))},e.prototype.SelectGameListView=function(e,t){e==this.selectedGameListView&&t==this.currentCollectionID||(Object(w.a)(11!=e,"Should not select kSearchResults explicitly; enter search instead."),11==this.selectedGameListView&&this.ExitSearch(),10==e&&(Object(w.a)(!!t,"Should not select single-collection mode without specifying the collection."),this.NavigateToCollection(t),this.SetIsCollapsed(t,!1)),this.m_eSelectedGameListView=e,this.SaveLocalState(),this.m_currentAppFilter=this.m_collectionsAppFilter,this.UpdateGameListSelection())},e.prototype.BIsTextSearchActive=function(){return this.BIsSearchActive()&&0<this.m_currentAppFilter.searchText.length},e.prototype.BIsSearchByTypeActive=function(){return this.BIsSearchActive()&&!this.BIsTextSearchActive()&&!this.m_currentAppFilter.bIsEmpty},e.prototype.BIsSearchActive=function(){return this.m_currentAppFilter!=this.m_collectionsAppFilter},e.prototype.BIsSearchByTypePaneOpen=function(){return this.m_bIsSearchByTypePaneOpen},e.prototype.SetSearchByTypePaneOpen=function(e){this.m_bIsSearchByTypePaneOpen=e},e.prototype.ResetSearch=function(){this.m_setStoreSuggestions=new Set,this.m_currentAppFilter=this.m_collectionsAppFilter,this.UpdateGameListSelection(),hi.ClearSelection(),this.SetIsCollapsed(ni.Hidden,!0)},e.prototype.ExitSearch=function(){this.ResetSearch(),this.SetSearchByTypePaneOpen(!1)},e.prototype.SetSearchText=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return!this.BIsSearchActive()&&0<t.length&&(Object(w.a)(!this.BIsSearchActive(),"Cannot start text search while other search is already active."),hi.ClearSelection(),this.m_currentAppFilter=new ut,SteamClient.Stats.RecordActivationEvent("Search","Text")),this.m_currentAppFilter.SetSearchText(t),0==t.length?this.ResetSearch():this.FetchSearchSuggestions(t),[2]})})},e.prototype.StartSearchByType=function(e){Object(w.a)(!this.BIsSearchActive(),"Cannot start search by type while other search is already active."),this.m_currentAppFilter=e,hi.ClearSelection(),SteamClient.Stats.RecordActivationEvent("Search","Advanced")},e.prototype.FetchSearchSuggestions=function(a){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(j.e)(this,function(e){switch(e.label){case 0:return a.length<2?[2]:(t={term:a,f:"json",cc:A.c.COUNTRY?A.c.COUNTRY:"US",l:A.c.LANGUAGE,origin:self.origin},n=A.c.STORE_BASE_URL+"search/suggest",[4,P.a.get(n,{params:t})]);case 1:return r=e.sent(),i=r.data.filter(function(e){return"game"===e.type||"software"===e.type}),this.m_setStoreSuggestions=new Set(i.map(function(e){return parseInt(""+e.id)})),[2]}})})},Object.defineProperty(e.prototype,"searchSuggestions",{get:function(){return this.m_setStoreSuggestions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCollectionEditorOpen",{get:function(){return this.m_bIsCollectionEditorOpen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCollectionRenameOpen",{get:function(){return this.m_bIsCollectionRenameOpen},enumerable:!1,configurable:!0}),e.prototype.SetCollectionEditorOpen=function(e){this.m_bIsCollectionEditorOpen=e},e.prototype.SetCollectionRenameOpen=function(e){this.m_bIsCollectionRenameOpen=e},e.prototype.IsCollapsed=function(e){var t;return this.m_mapLibrarySectionCollapseState.has(e)||(t=e==ni.Hidden,this.m_mapLibrarySectionCollapseState.set(e,t)),this.m_mapLibrarySectionCollapseState.get(e)},e.prototype.toggleCollapsed=function(e){this.SetIsCollapsed(e,!this.IsCollapsed(e))},e.prototype.SetIsCollapsed=function(e,t){this.m_mapLibrarySectionCollapseState.set(e,t),this.CleanupCollapseStateMap(),this.SaveLocalState()},e.prototype.ExpandAll=function(){this.ExpandOrCollapseAll(!1)},e.prototype.CollapseAll=function(){this.ExpandOrCollapseAll(!0)},e.prototype.ExpandOrCollapseAll=function(e){for(var t=0,n=this.GetVisibleCollections();t<n.length;t++){var r=n[t];this.m_mapLibrarySectionCollapseState.set(r.id,e)}this.CleanupCollapseStateMap(),this.SaveLocalState()},e.prototype.CleanupCollapseStateMap=function(){var n=this;this.m_mapLibrarySectionCollapseState.forEach(function(e,t){mi.GetCollection(t)||n.m_mapLibrarySectionCollapseState.delete(t)})},e.prototype.GetVisibleCollections=function(){return this.GetCollectionList().filter(function(e){return 0<e.visibleApps.filter(Qa.currentAppFilter.Matches).length})},e.prototype.GetCollectionList=function(){switch(this.selectedGameListView){case 10:var e=mi.GetCollection(this.currentCollectionID);return e?[e]:[];case 1:if(this.bIsGameListSortedByRecent)return mi.recentAppCollections;var t=this.bIsGameListGroupedByCollection?mi.userCollections:[mi.allAppsCollection];return mi.siteLicenseCollection&&(t=[mi.siteLicenseCollection].concat(t)),this.bIsGameListGroupedBySharedLibraries&&(t=t.concat(mi.sharedLibrariesCollections)),t;case 11:if(this.bIsGameListSortedByRecent)return mi.recentAppCollections;var n=mi.appTypeCollections.slice(),r=mi.GetCollection(ni.Hidden);return r&&n.push(r),n}},e.prototype.UpdateGameListSelection=function(){var e,t=this,n=this.m_gameListSelection.nAppId,r=n&&this.GetCollectionList();!n||this.currentCollectionID&&r.find(function(e){return e.id==t.currentCollectionID})||((e=r.find(function(e){return e.apps.has(n)}))&&(this.SetIsCollapsed(e.id,!1),this.SetGameListSelection(e.id,this.m_gameListSelection.nAppId,this.m_gameListSelection.gidEvent)),hi.ClearSelection())},e.prototype.PushNavigationHistory=function(e,t,n){var r=e+t+n;this.m_lastNavToken!=r&&(this.OnLibraryRouteChanged(t,n),this.m_lastNavToken=r,SteamClient.Browser.OpenURLForNavigation(e,t,n))},e.prototype.NavigateToApp=function(e,t,n){var r=Xa.GetAppOverviewByAppID(e);r&&256==r.app_type||(this.m_lastSelectedApp=e.toString(),null!=t&&""!=t&&(this.m_lastSelectedApp=this.m_lastSelectedApp+"|"+t),t||e!=this.m_gameListSelection.nAppId||(t=this.currentCollectionID),this.PushNavigationHistory("library","details",this.m_lastSelectedApp),this.SetPanelMainPanelMode(4),hi.ClearSelection(),this.SetGameListSelection(t,e,n),t||this.UpdateGameListSelection())},e.prototype.NavigateToAppEvents=function(e,t){this.NavigateToApp(e,void 0,t)},e.prototype.NavigateToCollection=function(e){this.PushNavigationHistory("library","collection",e),this.SetGameListSelection(e,null),this.SetPanelMainPanelMode(3)},e.prototype.NavigateToAllCollections=function(){this.PushNavigationHistory("library","view","all-collections"),this.SetPanelMainPanelMode(2)},e.prototype.NavigateToHome=function(e,t){this.PushNavigationHistory("library","view","home"),this.ExitSearch(),this.SetPanelMainPanelMode(1),this.SetGameListSelection(this.currentCollectionID,e,t),this.SelectGameListView(1)},e.prototype.NavigateToDownloads=function(){this.PushNavigationHistory("library","downloads",""),this.SetPanelMainPanelMode(5)},e.prototype.NavigateToHomeShowEvent=function(e,t){this.NavigateToHome(e,t)},e.prototype.NavigateToCollectionSaveDialog=function(s){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,function(i){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return"ignored"!=i?[3,1]:[2,null];case 1:return 0<=at.indexOf(i)?(t=Pe.kAppFeature,n=at.indexOf(i),r=Object(R.f)("#FilterElement_"+i),[3,5]):[3,2];case 2:return 0<=ot.indexOf(i)?(t=Pe.kPlayState,n=ot.indexOf(i),r=Object(R.f)("#FilterElement_"+i),[3,5]):[3,3];case 3:return(n=parseInt(i))?(t=Pe.kStoreTag,[4,Xa.AsyncGetLocalizationForStoreTag(n)]):[2,null];case 4:if(!(r=e.sent()))return[2,null];e.label=5;case 5:return[2,{eGroup:t,option:n,name:r}]}})})}(s)];case 1:return(t=e.sent())?(n=t.eGroup,r=t.option,(i=t.name)&&mi.BIsSystemCollectionName(i)?console.log("Ignoring system name",i):i&&0<mi.GetUserCollectionsByName(i).length?(a=mi.GetUserCollectionsByName(i)[0],console.log("Opening existing collection",i),this.NavigateToCollection(a.id)):(this.ExitSearch(),(o=new ut).SelectOption(n,r,!0),Qa.StartSearchByType(o),Bi(window,i)),[2]):(console.log("Ignoring unrecognized tag",s),[2])}})})},e.prototype.SetPanelMainPanelMode=function(e){this.m_ePrevMainPanelMode=this.m_eMainPanelMode,this.m_eMainPanelMode=e},e.prototype.ShowCollectionViewWithAppTypes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.SelectGameListView(1),this.SetGameListSortedByRecent(!1);for(var n=0,r=[1,2,8192,2048,4];n<r.length;n++){var i=r[n];this.SelectCollectionsAppFilterOption(Pe.kAppType,i,0<=e.indexOf(i))}},e.prototype.GetRecentGamesFirstApp=function(){return this.m_RecentGamesFirstApp},e.prototype.SetRecentGamesFirstApp=function(e){this.m_RecentGamesFirstApp=e},e.prototype.BSteamRootDialogFocused=function(){return this.m_bSteamRootDialogFocused},e.prototype.BSteamRootDialogHovered=function(){return this.m_bSteamRootDialogHovered},e.prototype.OnRootDialogStateChanged=function(e){e&&e.hover?this.m_bSteamRootDialogHovered=!0:this.m_bSteamRootDialogHovered=!1,e&&e.focus?this.m_bSteamRootDialogFocused=!0:this.m_bSteamRootDialogFocused=!1},e.prototype.OnLibraryRouteChanged=function(e,t){var n=e+"/"+t;2<=this.m_rsLibraryRouteHistory.length&&this.m_rsLibraryRouteHistory[this.m_rsLibraryRouteHistory.length-2].strRoute==n?(this.SetNavEpoch(this.m_rsLibraryRouteHistory[this.m_rsLibraryRouteHistory.length-2].nEpoch),this.m_rsLibraryRouteHistory.pop()):0!=this.m_rsLibraryRouteHistory.length&&this.m_rsLibraryRouteHistory[this.m_rsLibraryRouteHistory.length-1].strRoute==n||(this.SetNavEpoch(this.m_nNextNavEpoch++),this.m_rsLibraryRouteHistory.push({strRoute:n,nEpoch:this.m_nNavEpoch}))},e.prototype.OnPostMessage=function(e,t,n){switch(this.ExitSearch(),this.OnLibraryRouteChanged(t,n),t){case"view":switch(n){case"all":return this.ShowCollectionViewWithAppTypes(1,2,8192,2048,4),void this.SelectCollectionsAppFilterOption(Pe.kPlayState,We.ReadyToPlay,!1);case"games":return void this.ShowCollectionViewWithAppTypes(1);case"software":return void this.ShowCollectionViewWithAppTypes(2);case"videos":return void this.ShowCollectionViewWithAppTypes(2048);case"tools":return void this.ShowCollectionViewWithAppTypes(4);case"recent":return this.SelectGameListView(1),void this.SetGameListSortedByRecent(!0);case"installed":return this.SelectGameListView(1),void this.SelectCollectionsAppFilterOption(Pe.kPlayState,We.ReadyToPlay,!0);case"all-collections":return void this.NavigateToAllCollections();case"home":default:return void this.NavigateToHome()}case"collection":return void("hidden"==n?this.SelectGameListView(10,n):this.NavigateToCollection(n));case"details":var r=n.split("|"),i=+r[0],a=r[1];if(Xa.GetAppOverviewByAppID(i))return void this.NavigateToApp(i,a,void 0);break;case"downloads":return void this.NavigateToDownloads();case"reset":if("collections"==n)return void function(){Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,SteamClient.Apps.GetLibraryBootstrapData()];case 1:return t=e.sent(),n=y.deserializeBinary(t),r=Object(R.f)("#Collection_ResetDialogTitle"),Object(_i.d)(D.createElement(yi,{strTitle:r,protoBootstrapData:n}),window,{strTitle:r}),[2]}})})}();break;case"dynamic-collection":return void this.NavigateToCollectionSaveDialog(n)}console.error("Unrecognized request",t,n)},e.prototype.OnParentalStateChanged=function(){var e=Xa.GetAppOverviewByAppID(this.currentGameListSelection.nAppId);4!=this.m_eMainPanelMode||e&&!e.BIsAppBlocked()||this.NavigateToHome()},e.prototype.OnAppRemoved=function(e){4==this.m_eMainPanelMode&&e==this.currentGameListSelection.nAppId&&this.NavigateToHome()},e.prototype.BLowPerfMode=function(){return!!Jr.settings.bLibraryLowPerfMode},e.prototype.SaveLocalState=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){return(t=new Ya).eGameListView=this.m_eSelectedGameListView,t.collectionFilter=this.m_collectionsAppFilter.ToStorageFormat(),t.bGroupedByCollection=this.m_bGameListGroupedByCollection,t.bSortedByRecent=this.m_bGameListSortedByRecent,t.mapCollapsedState=Array.from(this.m_mapLibrarySectionCollapseState),t.currentSelection=this.m_gameListSelection,t.bGroupBySharedLibraries=this.m_bGameListGroupedBySharedLibraries,[2,this.m_localStorage.StoreObject(qa,t)]})})},e.prototype.ShowUnexpectedUninstallDialog=function(e){ja(e)},e.prototype.ShowUnexpectedInstallDialog=function(e){Ca(e)},e.prototype.ShowDurationControlDialog=function(e){var t,n,r;t=e,n=D.createElement(Wa,{timeToShow:5,wavelength:100,handler:t}),r={bForcePopOut:!0,strTitle:Wa.Title(),fnOnClose:t.Cancel,popupWidth:+window.screen.availWidth,popupHeight:+window.screen.availHeight},Object(_i.d)(n,window,r)},Object(j.c)([O.observable],e.prototype,"m_nNavEpoch",void 0),Object(j.c)([O.observable],e.prototype,"m_currentNavEpochRecord",void 0),Object(j.c)([O.observable],e.prototype,"m_recalledNavEpochRecord",void 0),Object(j.c)([O.observable],e.prototype,"m_eMainPanelMode",void 0),Object(j.c)([O.observable],e.prototype,"m_ePrevMainPanelMode",void 0),Object(j.c)([O.observable],e.prototype,"m_bIsCollectionEditorOpen",void 0),Object(j.c)([O.observable],e.prototype,"m_bIsCollectionRenameOpen",void 0),Object(j.c)([O.observable],e.prototype,"m_bIsSearchByTypePaneOpen",void 0),Object(j.c)([O.observable],e.prototype,"m_gameListSelection",void 0),Object(j.c)([O.observable],e.prototype,"m_eSelectedGameListView",void 0),Object(j.c)([O.observable],e.prototype,"m_currentAppFilter",void 0),Object(j.c)([O.observable],e.prototype,"m_bGameListGroupedByCollection",void 0),Object(j.c)([O.observable],e.prototype,"m_bGameListGroupedBySharedLibraries",void 0),Object(j.c)([O.observable],e.prototype,"m_bGameListSortedByRecent",void 0),Object(j.c)([O.observable],e.prototype,"m_mapLibrarySectionCollapseState",void 0),Object(j.c)([O.observable],e.prototype,"m_RecentGamesFirstApp",void 0),Object(j.c)([O.observable],e.prototype,"m_setStoreSuggestions",void 0),Object(j.c)([O.observable],e.prototype,"m_bLowPerfMode",void 0),Object(j.c)([O.observable],e.prototype,"m_bSteamRootDialogFocused",void 0),Object(j.c)([O.observable],e.prototype,"m_bSteamRootDialogHovered",void 0),Object(j.c)([O.action],e.prototype,"SetNavEpoch",null),Object(j.c)([O.computed],e.prototype,"navEpoch",null),Object(j.c)([O.computed],e.prototype,"currentNavEpochRecord",null),Object(j.c)([O.computed],e.prototype,"recalledNavEpochRecord",null),Object(j.c)([O.action.bound],e.prototype,"SetGameListGroupedByCollection",null),Object(j.c)([O.action.bound],e.prototype,"SetGameListGroupedBySharedLibrary",null),Object(j.c)([O.action.bound],e.prototype,"SetGameListSortedByRecent",null),Object(j.c)([O.action.bound],e.prototype,"SelectCollectionsAppFilterOption",null),Object(j.c)([O.action.bound],e.prototype,"SelectGameListView",null),Object(j.c)([E.a],e.prototype,"BIsTextSearchActive",null),Object(j.c)([E.a],e.prototype,"BIsSearchByTypeActive",null),Object(j.c)([E.a],e.prototype,"BIsSearchActive",null),Object(j.c)([E.a],e.prototype,"BIsSearchByTypePaneOpen",null),Object(j.c)([E.a],e.prototype,"SetSearchByTypePaneOpen",null),Object(j.c)([E.a],e.prototype,"ResetSearch",null),Object(j.c)([E.a],e.prototype,"ExitSearch",null),Object(j.c)([E.a],e.prototype,"SetSearchText",null),Object(j.c)([E.a],e.prototype,"StartSearchByType",null),Object(j.c)([E.a],e.prototype,"FetchSearchSuggestions",null),Object(j.c)([E.a],e.prototype,"IsCollapsed",null),Object(j.c)([E.a],e.prototype,"toggleCollapsed",null),Object(j.c)([E.a],e.prototype,"SetIsCollapsed",null),Object(j.c)([E.a],e.prototype,"ExpandAll",null),Object(j.c)([E.a],e.prototype,"CollapseAll",null),Object(j.c)([O.action.bound],e.prototype,"ExpandOrCollapseAll",null),Object(j.c)([O.action],e.prototype,"CleanupCollapseStateMap",null),Object(j.c)([E.a],e.prototype,"GetVisibleCollections",null),Object(j.c)([E.a],e.prototype,"GetCollectionList",null),Object(j.c)([E.a],e.prototype,"PushNavigationHistory",null),Object(j.c)([O.action.bound],e.prototype,"NavigateToApp",null),Object(j.c)([E.a],e.prototype,"NavigateToAppEvents",null),Object(j.c)([O.action.bound],e.prototype,"NavigateToCollection",null),Object(j.c)([O.action.bound],e.prototype,"NavigateToAllCollections",null),Object(j.c)([O.action.bound],e.prototype,"NavigateToHome",null),Object(j.c)([O.action.bound],e.prototype,"NavigateToDownloads",null),Object(j.c)([E.a],e.prototype,"NavigateToHomeShowEvent",null),Object(j.c)([O.action.bound],e.prototype,"NavigateToCollectionSaveDialog",null),Object(j.c)([O.action],e.prototype,"SetRecentGamesFirstApp",null),Object(j.c)([E.a],e.prototype,"OnRootDialogStateChanged",null),Object(j.c)([O.action],e.prototype,"OnLibraryRouteChanged",null),Object(j.c)([O.action.bound],e.prototype,"OnPostMessage",null),Object(j.c)([E.a],e.prototype,"ShowUnexpectedUninstallDialog",null),Object(j.c)([E.a],e.prototype,"ShowUnexpectedInstallDialog",null),Object(j.c)([E.a],e.prototype,"ShowDurationControlDialog",null),e}());window.uiStore=Qa;var Za=new(function(){function e(){this.m_ParentalState=new C.r}return e.prototype.Init=function(){return Object(j.b)(this,void 0,void 0,function(){var r=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e,t){var n=e;SteamClient.Parental.RegisterForParentalSettingsChanges(function(e){r.UpdateParentalState(e),n&&n(),n=null})})];case 1:return e.sent(),[2]}})})},e.prototype.UpdateParentalState=function(e){this.m_ParentalState=e,Qa.OnParentalStateChanged()},Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.m_ParentalState.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLocked",{get:function(){return this.m_ParentalState.locked},enumerable:!1,configurable:!0}),e.prototype.BIsFeatureBlocked=function(e){return this.m_ParentalState.locked&&0!=e&&0==(this.m_ParentalState.features&1<<e)},e.prototype.BIsAppBlocked=function(e){return!!this.isLocked&&this.BIsAppInBlockList(e)},e.prototype.BIsAppInBlockList=function(e){return!this.m_ParentalState.allowallapps&&(0!=e&&(!(e>=k.k&&e<=k.l)&&(-1===[k.r,k.n,k.o,k.q,k.p].indexOf(e)&&(null!=this.m_ParentalState.customlist&&null!=this.m_ParentalState.customlist["App_"+e]?!this.m_ParentalState.customlist["App_"+e]:null==this.m_ParentalState.baselist||null==this.m_ParentalState.baselist["App_"+e]||!this.m_ParentalState.baselist["App_"+e]))))},e.prototype.ToggleAppBlockedState=function(e){this.isLocked||SteamClient.Apps.ToggleAppFamilyBlockedState(e)},Object(j.c)([O.observable],e.prototype,"m_ParentalState",void 0),Object(j.c)([O.action],e.prototype,"UpdateParentalState",null),Object(j.c)([O.action],e.prototype,"ToggleAppBlockedState",null),e}());window.ParentalStore=Za;var Ka=function(){function e(){}return Object.defineProperty(e.prototype,"store_tag",{get:function(){return Array.from(this.m_setStoreTags)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"store_category",{get:function(){return Array.from(this.m_setStoreCategories)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameid",{get:function(){return this.GetGameID()},enumerable:!1,configurable:!0}),e.prototype.BHasStoreCategory=function(e){return this.m_setStoreCategories.has(e)},e.prototype.BHasStoreTag=function(e){return this.m_setStoreTags.has(e)},e.prototype.GetStoreTags=function(){return this.m_setStoreTags},e.prototype.BIsNewToLibrary=function(){var e=Date.now()/1e3-2592e3;return!this.rt_last_time_played_or_installed&&this.rt_recent_activity_time&&this.rt_recent_activity_time>e},e.prototype.GetCanonicalReleaseDate=function(){return this.rt_original_release_date?this.rt_original_release_date:this.rt_steam_release_date},e.prototype.GetCanonicalReleaseYear=function(){if(this.__cachedReleaseYearString)return this.__cachedReleaseYearString;var e=this.GetCanonicalReleaseDate();return this.__cachedReleaseYearString=e?Object(R.k)(new Date(1e3*e)):Object(R.f)("#GridSection_UnknownReleaseDate"),this.__cachedReleaseYearString},e.prototype.GetLastPlayedSectionName=function(){var e=this.GetLastTimePlayed();return this.__cachedLastPlayedSection&&this.__cachedLastPlayedTime==e||(this.__cachedLastPlayedSection=this.ComputeLastPlayedSectionName(e),this.__cachedLastPlayedTime=e),this.__cachedLastPlayedSection},e.prototype.BIsUnreleased=function(){return 13==this.display_status||10==this.display_status||16==this.display_status},e.prototype.GetLastTimePlayed=function(){return!this.rt_last_time_played||this.rt_last_time_played<31536e3?0:this.rt_last_time_played},e.prototype.BIsModOrShortcut=function(){return this.third_party_mod||1073741824==this.app_type},e.prototype.BIsApplicationOrTool=function(){return 4==this.app_type||2==this.app_type},e.prototype.GetPrimaryAppID=function(){return this.BIsModOrShortcut()?4095&this.m_ulGameId.low:this.appid},e.prototype.BIsAppInBlockList=function(){return Za.BIsAppInBlockList(this.GetPrimaryAppID())},e.prototype.BIsAppBlocked=function(){return Za.BIsAppBlocked(this.GetPrimaryAppID())},e.prototype.GetGameID=function(){return this.BIsModOrShortcut()?this.m_gameid:this.appid.toString()},e.prototype.BIsSelectedClientLocal=function(){return!this.selected_clientid||"0"==this.selected_clientid},e.prototype.BIsPerClientDataLocal=function(e){return!e.clientid||"0"==e.clientid},e.prototype.BHasCustomImages=function(){return 0<this.rt_custom_image_mtime},Object.defineProperty(e.prototype,"display_status",{get:function(){return this.most_available_per_client_data.display_status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status_percentage",{get:function(){return this.most_available_per_client_data.status_percentage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"installed",{get:function(){return this.most_available_per_client_data.installed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active_beta",{get:function(){return this.most_available_per_client_data.active_beta},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_available_on_current_platform",{get:function(){return this.local_per_client_data&&this.local_per_client_data.is_available_on_current_platform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_invalid_os_type",{get:function(){return this.most_available_per_client_data.is_invalid_os_type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"review_score",{get:function(){return 1==Jr.storePreferences.eReviewScorePreference?this.review_score_with_bombs:this.review_score_without_bombs},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"review_percentage",{get:function(){return 1==Jr.storePreferences.eReviewScorePreference?this.review_percentage_with_bombs:this.review_percentage_without_bombs},enumerable:!1,configurable:!0}),e.prototype.GetPerClientData=function(e){var t;switch(e){case"local":t=this.local_per_client_data;break;case"mostavailable":t=this.most_available_per_client_data;break;case"selected":default:t=this.selected_per_client_data}return t},e.prototype.BHasNonObservableChange=function(e){return!0},e.prototype.SanitizeSortAs=function(e){return e.toLowerCase().replace(/^(the |a |an )/,"").replace(/[^\p{L}\p{N}\p{Z}]/gu,"").trim()},e.prototype.InitFromProto=function(e,t){var n=this;void 0===t&&(t=!0),this.appid=e.appid(),this.display_name=e.display_name(),this.app_type=e.app_type(),this.mru_index=e.mru_index(),this.rt_recent_activity_time=e.rt_recent_activity_time(),this.minutes_playtime_forever=e.minutes_playtime_forever(),this.minutes_playtime_last_two_weeks=e.minutes_playtime_last_two_weeks(),this.rt_last_time_played_or_installed=e.rt_last_time_played(),0<this.minutes_playtime_forever||this.BIsModOrShortcut()?this.rt_last_time_played=this.rt_last_time_played_or_installed:this.rt_last_time_played=0,this.rt_original_release_date=e.rt_original_release_date(),this.rt_steam_release_date=e.rt_steam_release_date(),this.icon_hash=e.icon_hash(),this.logo_hash=e.logo_hash(),this.controller_support=e.controller_support(),this.vr_supported=e.vr_supported(),this.vr_only=e.vr_only(),this.metacritic_score=e.metacritic_score(),this.size_on_disk=e.size_on_disk(),this.library_id=e.library_id(),this.third_party_mod=e.third_party_mod(),this.icon_data=e.icon_data(),this.icon_data_format=e.icon_data_format(),this.mastersub_appid=e.mastersub_appid(),this.mastersub_includedwith_logo=e.mastersub_includedwith_logo(),this.m_gameid=e.gameid(),this.visible_in_game_list=e.visible_in_game_list(),this.m_gameid&&(this.m_ulGameId=s.a.fromString(this.m_gameid)),this.library_capsule_filename=e.library_capsule_filename(),this.most_available_clientid=e.most_available_clientid(),this.selected_clientid=e.selected_clientid(),this.rt_store_asset_mtime=e.rt_store_asset_mtime(),this.rt_custom_image_mtime=e.rt_custom_image_mtime(),this.sort_as=this.SanitizeSortAs(e.sort_as()?e.sort_as():e.display_name()),this.association=[];for(var r=0;r<e.association().length;r++)this.association.push(e.association()[r].toObject());if(this.m_setStoreCategories=new Set(e.store_category().values()),this.m_setStoreTags=new Set(e.store_tag().values()),t){this.per_client_data=[];for(r=0;r<e.per_client_data().length;r++)this.per_client_data.push(e.per_client_data()[r].toObject())}this.canonicalAppType=1073741824==this.app_type||65536==this.app_type||8==this.app_type?1:this.app_type;var i=this.per_client_data.find(function(e){return"0"==e.clientid});this.local_per_client_data=i;var a=(a=this.per_client_data.find(function(e){return e.clientid==n.most_available_clientid}))||this.per_client_data[0];this.most_available_per_client_data=a;var o=(o=this.per_client_data.find(function(e){return e.clientid==n.selected_clientid}))||a;this.selected_per_client_data=o,this.optional_parent_app_id=e.optional_parent_app_id(),this.owner_account_id=e.owner_account_id(),this.site_license_site_name=e.site_license_site_name(),this.compat_mapping_enabled=e.compat_mapping_enabled(),this.compat_mapping_priority=e.compat_mapping_priority(),this.compat_mapping_tool_name=e.compat_mapping_tool_name(),this.compat_allowlist_setting=e.compat_allowlist_setting(),this.review_score_with_bombs=e.review_score_with_bombs()||0,this.review_percentage_with_bombs=e.review_percentage_with_bombs()||0,this.review_score_without_bombs=e.review_score_without_bombs()||0,this.review_percentage_without_bombs=e.review_percentage_without_bombs()||0},e.prototype.ComputeLastPlayedSectionName=function(e){if(!e)return Object(R.f)("#GridSection_Never");var t=new Date(1e3*e).getFullYear();return(new Date).getFullYear()-10<=t?Object(R.h)(e):Object(R.f)("#GridSection_MoreThan10YearsAgo")},Object(j.c)([E.a],e.prototype,"BHasStoreTag",null),Object(j.c)([O.action],e.prototype,"InitFromProto",null),e}(),Ja=function(r){function e(){var e=null!==r&&r.apply(this,arguments)||this;return e.LOG_CHANGE=S.b.create(function(){return String(e.appid)},!1),e}return Object(j.d)(e,r),e.prototype.InitFromProto=function(e){this.m_strStoreTags=e.store_tag().toString(),this.m_strAssociations=e.association().toString(),this.m_strStoreCategories=e.store_category().toString();var t=e.per_client_data().toString(),n=!this.m_strPerClientData||this.m_strPerClientData!=t;this.m_strPerClientData=t,r.prototype.InitFromProto.call(this,e,n)},e.prototype.BHasNonObservableChange=function(e){if(this.display_name!=e.display_name())return this.LOG_CHANGE("Non-observable display_name changed"),!0;if(this.app_type!=e.app_type())return this.LOG_CHANGE("Non-observable app_type changed"),!0;if(this.rt_original_release_date!=e.rt_original_release_date())return this.LOG_CHANGE("Non-observable rt_original_release_date changed"),!0;if(this.rt_steam_release_date!=e.rt_steam_release_date())return this.LOG_CHANGE("Non-observable rt_steam_release_date changed"),!0;if(this.icon_hash!=e.icon_hash())return this.LOG_CHANGE("Non-observable icon_hash changed"),!0;if(this.logo_hash!=e.logo_hash())return this.LOG_CHANGE("Non-observable logo_hash changed"),!0;if(this.controller_support!=e.controller_support())return this.LOG_CHANGE("Non-observable controller_support changed"),!0;if(this.vr_supported!=e.vr_supported())return this.LOG_CHANGE("Non-observable vr_supported changed"),!0;if(this.vr_only!=e.vr_only())return this.LOG_CHANGE("Non-observable vr_only changed"),!0;if(this.metacritic_score!=e.metacritic_score())return this.LOG_CHANGE("Non-observable metacritic_score changed"),!0;if(this.size_on_disk!=e.size_on_disk())return this.LOG_CHANGE("Non-observable size_on_disk changed"),!0;if(this.library_id!=e.library_id())return this.LOG_CHANGE("Non-observable library_id changed"),!0;if(this.third_party_mod!=e.third_party_mod())return this.LOG_CHANGE("Non-observable third_party_mod changed"),!0;if(this.icon_data!=e.icon_data())return this.LOG_CHANGE("Non-observable icon_data changed"),!0;if(this.icon_data_format!=e.icon_data_format())return this.LOG_CHANGE("Non-observable icon_data_format changed"),!0;if(this.mastersub_appid!=e.mastersub_appid())return this.LOG_CHANGE("Non-observable mastersub_appid changed"),!0;if(this.mastersub_includedwith_logo!=e.mastersub_includedwith_logo())return this.LOG_CHANGE("Non-observable mastersub_includedwith_logo changed"),!0;if(this.library_capsule_filename!=e.library_capsule_filename())return this.LOG_CHANGE("Non-observable library_capsule_filename changed"),!0;if(this.rt_store_asset_mtime!=e.rt_store_asset_mtime())return this.LOG_CHANGE("Non-observable rt_store_asset_mtime changed"),!0;if(this.rt_custom_image_mtime!=e.rt_custom_image_mtime())return this.LOG_CHANGE("Non-observable rt_custom_image_mtime changed"),!0;if(this.m_gameid!=e.gameid())return this.LOG_CHANGE("Non-observable gameid changed"),!0;var t=e.sort_as()?e.sort_as().toLowerCase():e.display_name().toLowerCase();return this.sort_as!=t?(this.LOG_CHANGE("Non-observable sort_as changed"),!0):this.m_strStoreCategories!=e.store_category().toString()?(this.LOG_CHANGE("Non-observable store categories changed"),!0):this.m_strStoreTags!=e.store_tag().toString()?(this.LOG_CHANGE("Non-observable store tags changed"),!0):this.m_strAssociations!=e.association().toString()?(this.LOG_CHANGE("Non-observable associations changed"),!0):this.optional_parent_app_id!=e.optional_parent_app_id()?(this.LOG_CHANGE("Non-observable parent_app_id changed"),!0):this.owner_account_id!=e.owner_account_id()?(this.LOG_CHANGE("Non-observable owner_account_id changed"),!0):this.site_license_site_name!=e.site_license_site_name()?(this.LOG_CHANGE("Non-observable site_license_site_name changed"),!0):this.compat_mapping_enabled!=e.compat_mapping_enabled()?(this.LOG_CHANGE("Non-observable compat_mapping_enabled changed"),!0):this.compat_mapping_priority!=e.compat_mapping_priority()?(this.LOG_CHANGE("Non-observable compat_mapping_priority changed"),!0):this.compat_allowlist_setting!=e.compat_allowlist_setting()?(this.LOG_CHANGE("Non-observable compat_allowlist_setting changed"),!0):this.compat_mapping_tool_name!=e.compat_mapping_tool_name()?(this.LOG_CHANGE("Non-observable compat_mapping_tool_name changed"),!0):this.review_score_with_bombs!=e.review_score_with_bombs()?(this.LOG_CHANGE("Non-observable review_score changed"),!0):this.review_percentage_with_bombs!=e.review_percentage_with_bombs()?(this.LOG_CHANGE("Non-observable review_percentage changed"),!0):this.review_score_without_bombs!=e.review_score_without_bombs()?(this.LOG_CHANGE("Non-observable review_score_bombs changed"),!0):this.review_percentage_without_bombs!=e.review_percentage_without_bombs()&&(this.LOG_CHANGE("Non-observable review_percentage_bombs changed"),!0)},Object(j.c)([O.observable],e.prototype,"mru_index",void 0),Object(j.c)([O.observable],e.prototype,"rt_recent_activity_time",void 0),Object(j.c)([O.observable],e.prototype,"minutes_playtime_forever",void 0),Object(j.c)([O.observable],e.prototype,"minutes_playtime_last_two_weeks",void 0),Object(j.c)([O.observable],e.prototype,"rt_last_time_played",void 0),Object(j.c)([O.observable],e.prototype,"per_client_data",void 0),Object(j.c)([O.observable],e.prototype,"most_available_clientid",void 0),Object(j.c)([O.observable],e.prototype,"selected_clientid",void 0),Object(j.c)([O.observable],e.prototype,"selected_per_client_data",void 0),Object(j.c)([O.observable],e.prototype,"most_available_per_client_data",void 0),Object(j.c)([O.observable],e.prototype,"local_per_client_data",void 0),e}(Ka),Xa=new(function(){function e(){this.m_mapApps=new Map,this.m_bIsInitialized=!1,this.m_mapStoreTagLocalization=new Map}return e.prototype.Init=function(){return Object(j.b)(this,void 0,void 0,function(){var r,i=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return console.time("CAppStore Init"),this.m_collator=new Intl.Collator(R.e.GetPreferredLocales()),r=performance.now(),[4,new Promise(function(e,t){var n=e;SteamClient.Apps.RegisterForAppOverviewChanges(function(e){i.m_bIsInitialized||console.log("First UpdateAppOverview callback starting after",performance.now()-r,"ms"),i.UpdateAppOverview(e),i.m_bIsInitialized=!0,n&&n(),n=null})})];case 1:return e.sent(),SteamClient.Apps.RegisterForLocalizationChanges(this.OnLocalizationChanged),console.timeEnd("CAppStore Init"),[2]}})})},e.prototype.UpdateAppOverview=function(e){var t=this;console.time("UpdateAppOverview deserialize");var n=v.deserializeBinary(e);console.timeEnd("UpdateAppOverview deserialize"),console.time("UpdateAppOverview");var r=n.app_overview(),i=n.removed_appid();b.a.OnAppOverviewChange(r);var a=new Set;for(var o=0,s=r;o<s.length;o++){var c=s[o],l=this.m_mapApps.get(c.appid()),u=!l||l.BHasNonObservableChange(c);u&&(l=new(this.m_bIsInitialized?Ja:Ka)),l.InitFromProto(c),u&&this.m_mapApps.set(l.appid,l),l.GetStoreTags().forEach(function(e){return a.add(e)})}for(var p,d=0,m=i;d<m.length;d++){var h=m[d];this.m_mapApps.delete(h),Qa.OnAppRemoved(h)}this.m_bIsInitialized?((p=Array.from(a).filter(function(e){return!t.m_mapStoreTagLocalization.has(e)})).forEach(function(e){return t.m_mapStoreTagLocalization.set(e,null)}),this.GetStoreTagLocalization(p)):a.forEach(function(e){return t.m_mapStoreTagLocalization.set(e,null)}),console.timeEnd("UpdateAppOverview")},e.prototype.GetAppOverviewByAppID=function(e){return this.m_mapApps.has(e)?this.m_mapApps.get(e):null},e.prototype.CompareSortAs=function(e,t){return this.m_collator.compare(e.sort_as,t.sort_as)},Object.defineProperty(e.prototype,"allApps",{get:function(){var n=this;return Array.from(this.m_mapApps.values()).sort(function(e,t){return n.CompareSortAs(e,t)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storeTagCounts",{get:function(){var n=new Map;return this.m_mapApps.forEach(function(e){return e.GetStoreTags().forEach(function(e){var t=n.get(e)||0;n.set(e,t+1)})}),n},enumerable:!1,configurable:!0}),e.prototype.GetTopStoreTags=function(e){var n=e&&e.toLocaleLowerCase(),r=[];this.m_mapStoreTagLocalization.forEach(function(e,t){!e||n&&!e.toLowerCase().includes(n)||r.push(t)});var t=this.storeTagCounts;return r.map(function(e){return{nTagId:e,nCount:t.get(e)||0}}).sort(function(e,t){return t.nCount-e.nCount})},e.prototype.OnLocalizationChanged=function(){this.GetStoreTagLocalization(Array.from(this.m_mapStoreTagLocalization.keys()))},e.prototype.GetStoreTagLocalization=function(a){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(j.e)(this,function(e){switch(e.label){case 0:return 0==a.length?[2]:[4,SteamClient.Apps.GetStoreTagLocalization(a)];case 1:for(t=e.sent(),n=0,r=t;n<r.length;n++)(i=r[n]).string&&this.m_mapStoreTagLocalization.set(i.tag,i.string);return[2]}})})},e.prototype.GetLocalizationForStoreTag=function(e){var t=this.m_mapStoreTagLocalization.get(e);return void 0===t?(this.m_mapStoreTagLocalization.set(e,null),this.GetStoreTagLocalization([e]),null):t},e.prototype.AsyncGetLocalizationForStoreTag=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return void 0!==this.m_mapStoreTagLocalization.get(t)?[3,2]:(this.m_mapStoreTagLocalization.set(t,null),[4,this.GetStoreTagLocalization([t])]);case 1:e.sent(),e.label=2;case 2:return[2,this.m_mapStoreTagLocalization.get(t)]}})})},Object.defineProperty(e.prototype,"sharedLibraryAccountIds",{get:function(){var t=new Set;return this.allApps.forEach(function(e){return e.owner_account_id&&t.add(e.owner_account_id)}),Array.from(t).sort()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"siteLicenseApps",{get:function(){for(var e,t=[],n=0,r=this.allApps;n<r.length;n++){var i=r[n];if(i.site_license_site_name){if(e!=i.site_license_site_name){if(Object(w.a)(!e,"Found two site servers: "+e+" != "+i.site_license_site_name),e)continue;e=i.site_license_site_name}t.push(i)}}return e?{strSiteName:e,rgApps:t}:null},enumerable:!1,configurable:!0}),e.prototype.GetIconURLForApp=function(e){return e.icon_hash?"https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/apps/"+e.appid+"/"+e.icon_hash+".jpg":e.icon_data?"data:image/"+e.icon_data_format+";base64,"+e.icon_data:8192==e.app_type?L.GetSoundtrackDetails(e.appid).m_strCoverImageAssetURL:(e.BIsModOrShortcut()&&void 0===e.icon_data&&SteamClient.Apps.RequestIconDataForApp(e.appid),"")},e.prototype.GetLandscapeImageURLForApp=function(e){return "https://media.st.dl.pinyuncloud.com/steam/apps/"+e+"/header.jpg"},e.prototype.GetCachedLandscapeImageURLForApp=function(e){return B.a.BuildCachedLibraryAssetURL(e.appid,"header.jpg",e.rt_store_asset_mtime)},e.prototype.GetVerticalCapsuleURLForApp=function(e){var t=e.appid;return e.library_capsule_filename?B.a.BuildLibraryAssetURL(t,e.library_capsule_filename,e.rt_store_asset_mtime):B.a.BuildLibraryAssetURL(t,"library_600x900.jpg",e.rt_store_asset_mtime)},e.prototype.GetPregeneratedVerticalCapsuleForApp=function(e){var t=e.appid;return "https://media.st.dl.pinyuncloud.com/steam/apps/"+t+"/portrait.png?v=2"},e.prototype.GetCachedVerticalCapsuleURL=function(e){return B.a.BuildCachedLibraryAssetURL(e.appid,e.library_capsule_filename?e.library_capsule_filename:"library_600x900.jpg",e.rt_store_asset_mtime)},e.prototype.GetCustomImageURLs=function(t,n){return t.BHasCustomImages()?["jpg","png"].map(function(e){return B.a.BuildCustomAssetURL(t.appid,n,e,t.rt_custom_image_mtime)}):[]},e.prototype.GetCustomVerticalCapsuleURLs=function(e){return this.GetCustomImageURLs(e,"p")},e.prototype.GetCustomLandcapeImageURLs=function(e){return this.GetCustomImageURLs(e,"")},e.prototype.GetCustomHeroImageURLs=function(e){return this.GetCustomImageURLs(e,"_hero")},e.prototype.GetCustomLogoImageURLs=function(e){return this.GetCustomImageURLs(e,"_logo")},e.prototype.GetStorePageURLForApp=function(e){return e.BIsApplicationOrTool()?B.a.GetStoreURL()+"search/?term="+e.display_name:e.BIsModOrShortcut()?null:B.a.GetStoreURL()+"app/"+e.appid},Object(j.c)([O.observable.shallow],e.prototype,"m_mapApps",void 0),Object(j.c)([O.observable],e.prototype,"m_mapStoreTagLocalization",void 0),Object(j.c)([O.action.bound],e.prototype,"UpdateAppOverview",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"allApps",null),Object(j.c)([E.a],e.prototype,"OnLocalizationChanged",null),Object(j.c)([E.a],e.prototype,"GetLocalizationForStoreTag",null),Object(j.c)([E.a],e.prototype,"AsyncGetLocalizationForStoreTag",null),Object(j.c)([Object(O.computed)({keepAlive:!0,equals:O.comparer.structural})],e.prototype,"sharedLibraryAccountIds",null),e}());window.appStore=Xa,window.appInfoStore=b.a;var $a=n("UxvL"),eo=n("xZw+"),to=n.n(eo),no=n("YS4i"),ro=n.n(no),io=n("tjKp"),ao=n.n(io),oo=n("uJm7"),so=n.n(oo),co=function(n){function e(e){var t=n.call(this,e)||this;return t.m_refImage=D.createRef(),t.m_refFileInput=D.createRef(),t.state={bIsLoaded:!1},t}return Object(j.d)(e,n),Object.defineProperty(e.prototype,"src",{get:function(){return this.m_refImage.current.src},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_custom_image",{get:function(){return this.m_refImage.current&&this.m_refImage.current.src&&this.m_refImage.current.src.startsWith("customimages/")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_default_image",{get:function(){return this.m_refImage.current&&this.m_refImage.current.src&&this.m_refImage.current.src.startsWith("/images/default")},enumerable:!1,configurable:!0}),e.prototype.BDisplayTitle=function(){return!this.props.neverShowTitle&&(0==this.props.eAssetType||3==this.props.eAssetType)&&this.is_default_image},e.prototype.OnIncrementalError=function(e,t,n){var r=this.props.appid?this.props.appid:this.props.app.appid;t&&t.startsWith("assets/")&&SteamClient.Apps.ReportLibraryAssetCacheMiss(r,this.props.eAssetType),this.props.onIncrementalError&&this.props.onIncrementalError(e,t,n)},e.prototype.OnImageLoaded=function(e){this.props.onLoad&&this.props.onLoad(e),this.setState(function(){return{bIsLoaded:!0}})},e.prototype.OnError=function(e){this.props.onError&&this.props.onError(e),this.setState(function(){return{bIsLoaded:!0}})},e.prototype.GetSourcesForAsset=function(){switch(this.props.eAssetType){case 0:return 8192==this.props.app.app_type?(Object(w.a)(!this.props.app.BIsModOrShortcut(),"It doesn't make sense to have a shortcut/mod for a soundtrack. Unsure where to look for album cover art in this case."),[L.GetSoundtrackDetails(this.props.app.appid).m_strCoverImageAssetURL]):this.props.app.BIsModOrShortcut()?Object(j.g)(Xa.GetCustomVerticalCapsuleURLs(this.props.app),[ao.a]):Object(j.g)(Xa.GetCustomVerticalCapsuleURLs(this.props.app),[Xa.GetCachedVerticalCapsuleURL(this.props.app),Xa.GetVerticalCapsuleURLForApp(this.props.app),Xa.GetPregeneratedVerticalCapsuleForApp(this.props.app),ao.a]);case 3:return this.props.app.BIsModOrShortcut()?Object(j.g)(Xa.GetCustomLandcapeImageURLs(this.props.app),[to.a]):Object(j.g)(Xa.GetCustomLandcapeImageURLs(this.props.app),[Xa.GetCachedLandscapeImageURLForApp(this.props.app),Xa.GetLandscapeImageURLForApp(this.props.app.appid),to.a]);case 4:if(this.props.app.icon_hash)return["assets/"+this.props.app.appid+"_icon.jpg?v="+this.props.app.icon_hash,Xa.GetIconURLForApp(this.props.app),ro.a];var e=Xa.GetIconURLForApp(this.props.app);return e?[e,ro.a]:[ro.a];case 1:Object(w.a)(!this.props.app.BIsModOrShortcut(),"Can't get hero image for non-Steam game");var t=ha.GetHeroImages(this.props.app),n=t.rgHeroImages;t.bHasHeroImage;return Object(j.g)(n,[ao.a]);case 2:Object(w.a)(!this.props.app.BIsModOrShortcut(),"Can't get logo image for non-Steam game");var r=ha.GetLogoImages(this.props.app),i=r.rgLogoImages;r.logoPosition;return i;default:Object(w.a)(!1,"Need to pass manual source list for asset type")}return[]},e.prototype.OnChangeArtwork=function(e){var t=this;this.is_custom_image?SteamClient.Apps.ClearCustomArtworkForApp(this.props.app.appid,this.props.eAssetType).then(function(){t.setState({bIsLoaded:!1})}):this.m_refFileInput.current.click()},e.prototype.OnFileInputClick=function(e){e.stopPropagation()},e.prototype.OnFileInputChange=function(e){var t,n=this,r=Object(Fa.n)(e),i=this.m_refFileInput.current.files[0],a=i.type.match(/image\/(.+)/),o=a&&a[1];"jpeg"==o&&(o="jpg"),"jpg"==o||"png"==o?((t=new FileReader).onload=function(){var e=(e=t.result.toString()).slice(e.indexOf("base64,")+7);SteamClient.Apps.SetCustomArtworkForApp(n.props.app.appid,e,o,n.props.eAssetType).then(function(){n.setState({bIsLoaded:!1}),n.m_refFileInput.current.value=null}).catch(function(e){console.log("Set artwork failed",e),Object(_i.d)(D.createElement(bi.e,{strTitle:Object(R.f)("#CustomArt_ErrorTitle"),strDescription:Object(R.f)("#CustomArt_UnknownError")}),r,{strTitle:Object(R.f)("#CustomArt_ErrorTitle")}),n.m_refFileInput.current.value=null})},t.readAsDataURL(i)):Object(_i.d)(D.createElement(bi.e,{strTitle:Object(R.f)("#CustomArt_ErrorTitle"),strDescription:Object(R.f)("#CustomArt_BadFileType")}),r,{strTitle:Object(R.f)("#CustomArt_ErrorTitle")})},e.prototype.render=function(){var e=this.props,t=e.app,n=(e.appid,e.className),r=e.rgSources,i=e.eAssetType,a=(e.onIncrementalError,e.suppressTransitions,e.neverShowTitle,e.bShortDisplay,Object(j.f)(e,["app","appid","className","rgSources","eAssetType","onIncrementalError","suppressTransitions","neverShowTitle","bShortDisplay"]));Object(w.a)(r||t,"Either rgSources or app must be specified"),!r&&t&&(r=this.GetSourcesForAsset());var o=Object(cr.a)(so.a.Container,so.a.Visibility,this.state.bIsLoaded?so.a.Visible:so.a.Hidden,0==i&&so.a.PortraitImage,3==i&&so.a.LandscapeImage,this.is_custom_image&&so.a.CustomImage,n,this.props.suppressTransitions?so.a.NoTransitions:null,this.props.bShortDisplay?so.a.Short:null),s=t&&25<t.display_name.length,c=4!=i;return D.createElement("div",{className:o},c&&D.createElement("input",{type:"file",style:{display:"none"},name:"fileupload",ref:this.m_refFileInput,onClick:this.OnFileInputClick,onChange:this.OnFileInputChange}),!!t&&this.BDisplayTitle()&&D.createElement("span",{className:Object(cr.a)(so.a.Title,s&&so.a.LongTitles)},t.display_name),D.createElement($a.a,Object(j.a)({},a,{ref:this.m_refImage,className:so.a.Image,rgSources:r,onIncrementalError:this.OnIncrementalError,onLoad:this.OnImageLoaded,onError:this.OnError,alt:t&&t.display_name})))},Object(j.c)([E.a],e.prototype,"OnIncrementalError",null),Object(j.c)([E.a],e.prototype,"OnImageLoaded",null),Object(j.c)([E.a],e.prototype,"OnError",null),Object(j.c)([E.a],e.prototype,"GetSourcesForAsset",null),Object(j.c)([E.a],e.prototype,"OnChangeArtwork",null),Object(j.c)([E.a],e.prototype,"OnFileInputChange",null),Object(j.c)([o.observer],e)}(D.Component),lo=n("JqJm"),uo=new(function(){function e(){this.m_mapDropTargets=new Map,this.m_mapCurrentDragPayload=null,this.m_coordinator=new lo.a,this.m_rgEndPromises=[]}return e.prototype.GetCoordinator=function(){return this.m_coordinator},e.prototype.BIsDropTarget=function(e){return!!this.m_mapDropTargets.get(e)},e.prototype.AddDropTarget=function(e){var t=this.m_mapDropTargets.get(e)||0;this.m_mapDropTargets.set(e,t+1)},e.prototype.RemoveDropTarget=function(e){var t=this.m_mapDropTargets.get(e)||0;0<t&&this.m_mapDropTargets.set(e,t-1)},e.prototype.GetDragData=function(e){return this.m_mapCurrentDragPayload&&this.m_mapCurrentDragPayload.get(e)},e.prototype.BIsDragInProgress=function(){return!!this.m_mapCurrentDragPayload},e.prototype.WaitForDragToEnd=function(){return Object(j.b)(this,void 0,void 0,function(){var t=this;return Object(j.e)(this,function(e){return[2,new Promise(function(e){t.m_rgEndPromises.push(e)})]})})},e.prototype.StartDrag=function(e){this.m_mapCurrentDragPayload=e},e.prototype.ResetDrag=function(){this.m_mapCurrentDragPayload=null,this.m_mapDropTargets.clear(),this.m_rgEndPromises.forEach(function(e){return e()}),this.m_rgEndPromises=[]},Object(j.c)([O.observable],e.prototype,"m_mapDropTargets",void 0),Object(j.c)([O.observable],e.prototype,"m_mapCurrentDragPayload",void 0),e}());window.dragStore=uo;var po=n("tuJQ"),mo=n.n(po),ho=new(function(){function e(){this.m_nRightPanelWidth=0,this.m_nRightPanelHeight=0}return Object.defineProperty(e.prototype,"rightPanelWidth",{get:function(){return this.m_nRightPanelWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightPanelHeight",{get:function(){return this.m_nRightPanelHeight},enumerable:!1,configurable:!0}),e.prototype.SetDimensions=function(e,t){this.m_nRightPanelWidth=e,this.m_nRightPanelHeight=t},e.prototype.GetComputedDisplaySize=function(e){if(0,0!=e)return e;var t=this.m_nRightPanelWidth,n=this.m_nRightPanelHeight;return t<=parseInt(mo.a.RightBreakNarrow)||n<=parseInt(mo.a.BreakShort)?1:t>=parseInt(mo.a.RightBreakWide)?3:2},Object(j.c)([O.observable],e.prototype,"m_nRightPanelWidth",void 0),Object(j.c)([O.observable],e.prototype,"m_nRightPanelHeight",void 0),Object(j.c)([O.action],e.prototype,"SetDimensions",null),e}()),fo=n("hJxo"),bo=n("iBzj"),_o=n.n(bo),vo=new(function(){function e(){this.m_data=new Map}return e.prototype.get=function(e){return e&&this.m_data.get(e)},e.prototype.set=function(e,t){e&&this.m_data.set(e,t)},e}()),go=D.createContext(null);D.Component;var yo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.RestoreScrollPosition=function(){var e,t=this,n=vo.get(this.props.strRememberScrollKey);this.m_elTarget&&n&&((e=Object(Fa.m)(this.m_elTarget))&&e.requestAnimationFrame(function(){t.m_elTarget.scrollLeft=n[0],t.m_elTarget.scrollTop=n[1],t.m_elTarget.dispatchEvent(new Event("scroll")),t.m_elTarget.dispatchEvent(new Event("restorescroll"))}))},t.prototype.SaveScrollPosition=function(){var e,t;this.m_elTarget&&null!=this.props.strRememberScrollKey&&(e=this.m_elTarget.scrollLeft,t=this.m_elTarget.scrollTop,vo.set(this.props.strRememberScrollKey,[e,t]))},t.prototype.componentDidMount=function(){this.RestoreScrollPosition()},t.prototype.componentDidUpdate=function(e){this.props.strRememberScrollKey!==e.strRememberScrollKey&&this.RestoreScrollPosition()},t.prototype.componentWillUnmount=function(){this.SaveScrollPosition()},Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.m_elTarget.scrollTop},enumerable:!1,configurable:!0}),t.prototype.UpdateRef=function(e){this.m_elTarget=e,this.props.innerRef&&this.props.innerRef(e)},t.prototype.ScrollToTop=function(){this.ScrollTo(0)},t.prototype.ScrollToBottom=function(){this.ScrollTo(this.m_elTarget.scrollHeight)},t.prototype.ScrollTo=function(e){this.m_animation&&this.m_animation.Cancel();var t=Math.abs(this.m_elTarget.scrollTop-e),n=Math.max(Math.min(t/1e3*200,500),300);this.m_animation=new fo.a(this.m_elTarget,{scrollTop:e},{msDuration:n,timing:"sine",onComplete:function(){}}),this.m_animation.Start()},t.prototype.render=function(){var e=this.props,t=e.className,n=(e.innerRef,e.strRememberScrollKey,Object(j.f)(e,["className","innerRef","strRememberScrollKey"]));return D.createElement("div",Object(j.a)({className:Object(cr.a)(_o.a.Body,t)},n,{ref:this.UpdateRef}),this.props.children)},Object(j.c)([E.a],t.prototype,"UpdateRef",null),Object(j.c)([E.a],t.prototype,"ScrollToTop",null),t}(D.Component),So=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bScrollToTopButtonVisible:!1},e.m_nScrollTop=0,e.m_elTarget=D.createRef(),e}return Object(j.d)(e,t),e.prototype.OnScroll=function(e){this.props.onScroll&&this.props.onScroll(e),this.CheckScrollPosition()},e.prototype.CheckScrollPosition=function(){var e=Math.ceil(this.m_elTarget.current.scrollTop),t=this.props.scrollToTopThreshold<e;this.state.bScrollToTopButtonVisible!=t&&this.setState({bScrollToTopButtonVisible:t}),this.m_nScrollTop=e},Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.m_nScrollTop},enumerable:!1,configurable:!0}),e.prototype.ScrollToTop=function(){this.m_elTarget.current.ScrollToTop()},e.prototype.ScrollToBottom=function(){this.m_elTarget.current.ScrollToBottom()},e.prototype.ScrollTo=function(e){this.m_elTarget.current.ScrollTo(e)},e.prototype.componentDidMount=function(){this.context&&this.context.AddSmartScrollContainer(this),this.CheckScrollPosition()},e.prototype.componentWillUnmount=function(){this.context&&this.context.RemoveSmartScrollContainer(this)},e.prototype.render=function(){var e=this.props,t=e.className,n=(e.onScroll,e.scrollClassName),r=(e.scrollToTopThreshold,e.innerRef),i=e.strRememberScrollKey,a=Object(j.f)(e,["className","onScroll","scrollClassName","scrollToTopThreshold","innerRef","strRememberScrollKey"]);return D.createElement("div",Object(j.a)({className:Object(cr.a)(_o.a.Container,t)},a),D.createElement(yo,{className:n,ref:this.m_elTarget,onScroll:this.OnScroll,innerRef:r,strRememberScrollKey:i},this.props.children),D.createElement(wo,{action:this.ScrollToTop,visible:this.state.bScrollToTopButtonVisible}))},e.contextType=go,e.defaultProps={scrollToTopThreshold:1e3},Object(j.c)([O.observable],e.prototype,"m_nScrollTop",void 0),Object(j.c)([E.a],e.prototype,"OnScroll",null),Object(j.c)([O.computed],e.prototype,"scrollTop",null),Object(j.c)([E.a],e.prototype,"ScrollToTop",null),e}(D.Component),wo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.action,n=e.visible;return D.createElement("div",{className:Object(cr.a)(_o.a.ScrollToTopButton,n&&_o.a.Visible),onClick:t},D.createElement("div",null,Object(R.f)("#Generic_ScrollToTop")))},t}(D.Component),Co=n("5E+2"),Oo=n("Mp+T"),Eo=n.n(Oo),Bo=n("5qEA"),Ao=n.n(Bo),Io=function(n){function e(e){var t=n.call(this,e)||this;return t.m_fLastScrollTop=0,t.m_nItemsDisplayed=0,t.m_intersectionObserver=new IntersectionObserver(t.OnIntersection,{root:null}),t.m_resizeObserver=new ResizeObserver(t.OnResize),t.m_elGrid=D.createRef(),t.state={iFirstRenderableRow:0,iRows:0,iLastRenderableRow:0,iFirstRenderableChild:0,iLastRenderableChild:0,iItemsPerRow:0},t}return Object(j.d)(e,n),e.prototype.componentDidMount=function(){this.StartListening(),this.ComputeLayout()},e.prototype.componentWillUnmount=function(){this.StopListening(this.props.scrollElement)},e.prototype.componentDidUpdate=function(e){this.props.scrollElement!=e.scrollElement?(this.StopListening(e.scrollElement),this.StartListening(),this.ComputeLayout()):this.props.maxRows==e.maxRows&&this.props.childElements.length==e.childElements.length&&this.props.childWidth==e.childWidth&&this.props.childHeight==e.childHeight&&this.props.gridColumnGap==e.gridColumnGap&&this.props.gridRowGap==e.gridRowGap&&this.props.scaleGridItems==e.scaleGridItems&&this.props.paddingLeft==e.paddingLeft&&this.props.paddingRight==e.paddingRight||this.ComputeLayout()},e.prototype.OnScroll=function(e){var t,n;this.props.maxRows<2||(t=this.m_elGrid.current.getBoundingClientRect(),n=Math.abs(t.top-this.m_fLastScrollTop),this.props.childHeight*this.props.scaleGridItems/8<n&&(this.m_fLastScrollTop=t.top,t.top<window.innerHeight&&0<t.bottom&&this.ComputeLayout()))},e.prototype.OnRestoreScroll=function(){this.ComputeLayout()},e.prototype.OnResize=function(){this.ComputeLayout()},e.prototype.OnIntersection=function(e,t){e.length&&e[0].isIntersecting&&this.ComputeLayout()},e.prototype.StartListening=function(){this.props.scrollElement&&(this.props.scrollElement.addEventListener("scroll",this.OnScroll),this.props.scrollElement.addEventListener("restorescroll",this.OnRestoreScroll),this.m_resizeObserver.observe(this.props.scrollElement),this.m_intersectionObserver.observe(this.m_elGrid.current))},e.prototype.StopListening=function(e){e&&(e.removeEventListener("scroll",this.OnScroll),e.removeEventListener("restorescroll",this.OnRestoreScroll),this.m_resizeObserver.disconnect(),this.m_intersectionObserver.disconnect())},e.prototype.GetGridStyle=function(e,t){return{gridTemplateColumns:"repeat(auto-fill, "+e+"px)",gridAutoRows:t+"px",gridColumnGap:this.props.gridColumnGap,gridRowGap:this.props.gridRowGap,fontSize:t/11+"px",paddingLeft:this.props.paddingLeft,paddingRight:this.props.paddingRight}},Object.defineProperty(e.prototype,"fScaledChildWidth",{get:function(){return this.props.childWidth*this.props.scaleGridItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fScaledChildHeight",{get:function(){return this.props.childHeight*this.props.scaleGridItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fScaledPaddedChildWidth",{get:function(){return this.fScaledChildWidth+this.props.gridColumnGap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fScaledPaddedChildHeight",{get:function(){return this.fScaledChildHeight+this.props.gridRowGap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemsDisplayed",{get:function(){return this.m_nItemsDisplayed},enumerable:!1,configurable:!0}),e.prototype.ComputeLayout=function(){var e=this.fScaledPaddedChildWidth,t=this.fScaledPaddedChildHeight,n=this.m_elGrid.current.getBoundingClientRect(),r=n.width-this.props.paddingLeft-this.props.paddingRight,i=Math.max(1,Math.min(this.props.childElements.length,Math.floor((r+this.props.gridColumnGap)/e))),a=Math.ceil(this.props.childElements.length/i),o=Math.max(0,0-n.top),s=Math.max(0,Math.min(this.props.childElements.length,Math.round(o/t*i))),c=Math.max(0,window.innerHeight-n.top),l=Math.max(0,Math.min(this.props.childElements.length,Math.round(c/t*i))),u=Math.max(0,s-i*this.props.renderOutsideRows),p=Math.min(this.props.childElements.length,l+i*this.props.renderOutsideRows-1),d=Math.floor(u/i),m=Math.floor(p/i);d==this.state.iFirstRenderableRow&&a==this.state.iRows&&m==this.state.iLastRenderableRow&&u==this.state.iFirstRenderableChild&&p==this.state.iLastRenderableChild&&i==this.state.iItemsPerRow||this.setState({iFirstRenderableRow:d,iRows:a,iLastRenderableRow:m,iFirstRenderableChild:u,iLastRenderableChild:p,iItemsPerRow:i});var h=void 0!==this.props.maxRows?Math.min(this.props.childElements.length,i*this.props.maxRows):this.props.childElements.length;h!=this.m_nItemsDisplayed&&(this.m_nItemsDisplayed=h)},e.prototype.GetChildren=function(e,t,n){for(var r=this.props.childElements.slice(e,t+1),i=e%n,a=0;a<i;++a)r.unshift(D.createElement("div",{key:"_grid_pad_"+a}));return r},e.prototype.render=function(){var e=this.fScaledChildWidth,t=this.fScaledChildHeight,n=this.fScaledPaddedChildHeight;if(!this.m_elGrid.current)return D.createElement("div",{ref:this.m_elGrid,style:{width:"100%",height:n}});var r=this.state,i=r.iFirstRenderableRow,a=r.iRows,o=r.iLastRenderableRow,s=r.iFirstRenderableChild,c=r.iLastRenderableChild,l=r.iItemsPerRow,u=Math.max(this.props.minRows||0,a);void 0!==this.props.maxRows&&(u=Math.min(u,this.props.maxRows));var p={width:"100%",height:i*n},d={width:"100%",height:Math.max(0,u-o-1)*n},m=this.GetChildren(s,c,l);return Object(w.a)(m.length<=(o-i+1)*l,"Too many children for row count"),D.createElement("div",{ref:this.m_elGrid,className:Object(cr.a)(Ao.a.Container,this.props.animateExpansion&&Ao.a.Animate),style:{height:n*u+(0!=u?this.props.gridRowGap:0)+"px"}},D.createElement("div",{key:"cssgrid_upfront_padding",style:p}),D.createElement("div",{className:Object(cr.a)(Ao.a.CSSGrid,this.props.gridClassName),style:this.GetGridStyle(e,t)},m),D.createElement("div",{key:"cssgrid_end_padding",style:d}))},Object(j.c)([O.observable],e.prototype,"m_nItemsDisplayed",void 0),Object(j.c)([E.a,Object(E.b)("on_scroll","cssgrid")],e.prototype,"OnScroll",null),Object(j.c)([E.a],e.prototype,"OnRestoreScroll",null),Object(j.c)([E.a],e.prototype,"OnResize",null),Object(j.c)([E.a],e.prototype,"OnIntersection",null),Object(j.c)([Object(E.b)("compute_layout","cssgrid")],e.prototype,"ComputeLayout",null),Object(j.c)([Object(E.b)("get_children","cssgrid")],e.prototype,"GetChildren",null),Object(j.c)([Object(E.b)("render","cssgrid")],e.prototype,"render",null),Object(j.c)([o.observer],e)}(D.Component),jo=n("fKY7"),Do=n.n(jo),Ro="ea_dialog_seen",To=function(){function e(){}return e.prototype.Init=function(n){return Object(j.b)(this,void 0,void 0,function(){var t=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,n.GetString(Ro)];case 1:return"true"===e.sent()||Object(k.d)(A.c.LAUNCHER_TYPE)?[2]:[4,SteamClient.UI.GetUIMode()];case 2:return 1==e.sent()?[2]:(Object(C.d)(A.c.LAUNCHER_TYPE)||Object(O.reaction)(Mo,function(e){return e&&t.ShowPrompt(n)},{fireImmediately:!0}),[2])}})})},e.prototype.ShowPrompt=function(e){Object(_i.b)(D.createElement(ko,null),window,{strTitle:Object(R.f)("#WhatsNew_EAAccessCollection_Title")}),e.StoreString(Ro,"true")},e}();function Mo(){return Xa.allApps.some(lt)}function No(){mi.AddPartnerCollection("partner-ea-access")}function Lo(){Fe.AddNewShowcase("partner-ea-access")}var ko=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bHasPolitelyDeclined:!1},e}return Object(j.d)(e,t),e.prototype.DeclinePolitely=function(){this.setState({bHasPolitelyDeclined:!0})},e.prototype.Close=function(){this.props.closeModal&&this.props.closeModal()},e.prototype.render=function(){var e,t=this.state.bHasPolitelyDeclined,n=!!mi.GetCollection("partner-ea-access"),r=Fe.showcases.some(function(e){return"partner-ea-access"==e.strCollectionId}),i=n&&1==Qa.selectedGameListView&&(!Qa.bIsGameListGroupedByCollection||Qa.bIsGameListSortedByRecent),a=null;return t||(n?r||(a=D.createElement(D.Fragment,null,D.createElement("div",{className:Do.a.Description},Object(R.f)("#WhatsNew_EAAccessCollection_Description_2")),D.createElement("div",{className:Do.a.ButtonRow},D.createElement("div",{className:Object(cr.a)(Do.a.Button,Do.a.PrimaryButton),onClick:Lo},Object(R.f)("#WhatsNew_EAAccessCollection_AddShelf_Button")),D.createElement("div",{className:Do.a.Button,onClick:this.DeclinePolitely},Object(R.f)("#WhatsNew_EAAccessCollection_Cancel_Button"))))):a=D.createElement(D.Fragment,null,D.createElement("div",{className:Do.a.Description},Object(R.f)("#WhatsNew_EAAccessCollection_Description_1")),D.createElement("div",{className:Do.a.ButtonRow},D.createElement("div",{className:Object(cr.a)(Do.a.Button,Do.a.PrimaryButton),onClick:No},Object(R.f)("#WhatsNew_EAAccessCollection_AddCollection_Button")),D.createElement("div",{className:Do.a.Button,onClick:this.DeclinePolitely},Object(R.f)("#WhatsNew_EAAccessCollection_Cancel_Button"))))),a=a||(i?D.createElement(D.Fragment,null,D.createElement("div",{className:Do.a.Description},Object(R.f)("#FilterEdit_CollectionsHiddenPrompt")),D.createElement("div",{className:Do.a.ButtonRow},D.createElement("div",{className:Object(cr.a)(Do.a.Button,Do.a.PrimaryButton),onClick:function(){Qa.SelectGameListView(1),Qa.SetGameListGroupedByCollection(!0),Qa.SetGameListSortedByRecent(!1)}},Object(R.f)("#FilterEdit_AcceptGameListViewChange")),D.createElement("div",{className:Do.a.Button,onClick:this.Close},Object(R.f)("#FilterEdit_RejectGameListViewChange")))):(e=Object(R.f)(t?"#WhatsNew_EAAccessCollection_Description_Declined":"#WhatsNew_EAAccessCollection_Description_3"),D.createElement(D.Fragment,null,D.createElement("div",{className:Do.a.Description},e),D.createElement("div",{className:Do.a.Button,onClick:this.Close},Object(R.f)("#Button_Close"))))),D.createElement(bi.g,{onEscKeypress:this.Close},D.createElement("div",{className:Do.a.DialogContainer},D.createElement(Si.l,null," ",Object(R.f)("#WhatsNew_EAAccessCollection_Title")," "),D.createElement(Si.b,null,D.createElement(Si.c,{className:Do.a.DialogBody},a))))},Object(j.c)([E.a],e.prototype,"DeclinePolitely",null),Object(j.c)([E.a],e.prototype,"Close",null),Object(j.c)([o.observer],e)}(D.Component),Fo=new To,Po=n("i8i4"),Go=n("QYhk"),Uo=n.n(Go);var xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),Object.defineProperty(t.prototype,"draggedApps",{get:function(){var t=new fi(this.props.appid,this.props.strCollectionId);if(this.props.includeMultiSelect){var e=hi.GetSelectedAppsInContext();if(e.some(function(e){return e.key==t.key}))return e}return[t]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"draggedAppIds",{get:function(){var e=this.draggedApps;return 1==e.length?[e[0].appid]:hi.GetSelectedAppIds()},enumerable:!1,configurable:!0}),t.prototype.OnDragStart=function(){var e=new Map;e.set("apps",this.draggedApps),uo.StartDrag(e)},t.prototype.OnDragEnd=function(){uo.ResetDrag()},t.prototype.renderDragGhost=function(){var e=this.draggedAppIds.slice(0,12),t=document.createElement("div"),n=D.createElement(zo,{rgAppIds:e});Po.render(n,t);var r=80+22*(e.length-1);return D.createElement(lo.b,{elContent:t,className:Uo.a.GhostContainer,offsetX:r/2,width:r,offsetY:40,height:120})},t.prototype.render=function(){var e=this.props,t=(e.appid,e.strCollectionId,e.includeMultiSelect,e.className),n=e.children,r=Object(j.f)(e,["appid","strCollectionId","includeMultiSelect","className","children"]),i=uo.GetDragData("apps"),a=new fi(this.props.appid,this.props.strCollectionId),o=i&&i.some(function(e){return e.key==a.key}),s=function(e){var t=new Map;t.set("text/appids",e.map(function(e){return e.toString()}).join(" "));for(var n=[],r=[],i=0,a=e;i<a.length;i++){var o,s=a[i],c=Xa.GetAppOverviewByAppID(s);c&&((o=Xa.GetStorePageURLForApp(c))?(n.push(o),r.push(c.display_name+": "+o)):r.push(c.display_name))}return 0<n.length&&t.set("text/uri-list",n.join("\r\n")),0<r.length&&t.set("text/plain",r.join("\r\n")),t}(this.draggedAppIds);return D.createElement(lo.c,Object(j.a)({coordinator:uo.GetCoordinator(),data:this.draggedAppIds,bEnableHTMLDrag:!0,strHTMLDragData:s,fnOnDragStart:this.OnDragStart,fnOnDragEnd:this.OnDragEnd,fnRenderDragGhost:this.renderDragGhost,fnRenderDropGhost:function(){return null},className:Object(cr.a)(t,Uo.a.Draggable,o&&Uo.a.Active)},r),n)},Object(j.c)([O.computed],t.prototype,"draggedApps",null),Object(j.c)([O.computed],t.prototype,"draggedAppIds",null),Object(j.c)([E.a],t.prototype,"OnDragStart",null),Object(j.c)([E.a],t.prototype,"OnDragEnd",null),Object(j.c)([E.a],t.prototype,"renderDragGhost",null),Object(j.c)([o.observer],t)}(D.Component),zo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var t=this;return this.props.rgAppIds.reverse(),D.createElement("div",{className:Uo.a.Ghost},this.props.rgAppIds.map(function(e){return D.createElement("div",{key:e,style:{marginTop:"-"+6*t.props.rgAppIds.indexOf(e)+"px"},className:Object(cr.a)(Uo.a.GhostImageBox,t.props.rgAppIds.indexOf(e)==t.props.rgAppIds.length-1?Uo.a.First:"")},D.createElement(co,{key:e,className:Uo.a.Image,app:Xa.GetAppOverviewByAppID(e),eAssetType:0}))}))},t}(D.Component),Ho=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnDragIn=function(e,t){uo.AddDropTarget(t),this.props.fnOnTargetEntered&&this.props.fnOnTargetEntered()},t.prototype.OnDragOut=function(e,t){uo.RemoveDropTarget(t),this.props.fnOnTargetLeft&&this.props.fnOnTargetLeft()},t.prototype.render=function(){var t=this,e=this.props,n=e.strTargetId,r=e.fnBCanAcceptApps,i=e.fnOnDroppedApps,a=e.strEligibleClassName,o=e.strTargetedClassName,s=(e.fnOnTargetEntered,e.fnOnTargetLeft,e.className),c=e.children,l=Object(j.f)(e,["strTargetId","fnBCanAcceptApps","fnOnDroppedApps","strEligibleClassName","strTargetedClassName","fnOnTargetEntered","fnOnTargetLeft","className","children"]),u=r&&function(e){return r(e.props.data)},p=Object(cr.a)(s,uo.BIsDropTarget(n)&&o);return D.createElement(lo.d,Object(j.a)({coordinator:uo.GetCoordinator(),fnBAcceptDraggable:u,fnOnDrop:function(e){return i(e.props.data)},fnOnDragEnter:function(e){return t.OnDragIn(e,n)},fnOnDragLeave:function(e){return t.OnDragOut(e,n)},className:p,strActiveClassName:a},l),c)},Object(j.c)([E.a],t.prototype,"OnDragIn",null),Object(j.c)([E.a],t.prototype,"OnDragOut",null),Object(j.c)([o.observer],t)}(D.Component),Wo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.strCollectionId,n=Object(j.f)(e,["strCollectionId"]),r=t&&mi.GetCollection(t),i=r&&r.bAllowsDragAndDrop&&r.AsDragDropCollection();return D.createElement(Ho,Object(j.a)({strTargetId:t,fnBCanAcceptApps:function(e){return i&&e.some(function(e){return!i.apps.has(e)})},fnOnDroppedApps:function(e){return i&&i.AddApps(e.map(function(e){return Xa.GetAppOverviewByAppID(e)}))}},n),this.props.children)},Object(j.c)([o.observer],t)}(D.Component),Vo=n("k3ve"),qo=n.n(Vo),Yo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.ToggleGameListView=function(){10==Qa.selectedGameListView?Qa.SelectGameListView(1):Qa.SelectGameListView(10,this.props.strCollectionId)},t.prototype.ToggleCollapse=function(){Qa.toggleCollapsed(this.props.strCollectionId)},t.prototype.ShowEditView=function(){Qa.NavigateToCollection(this.props.strCollectionId),Qa.SetCollectionEditorOpen(!0)},t.prototype.ShowRenameView=function(){Qa.NavigateToCollection(this.props.strCollectionId),Qa.SetCollectionRenameOpen(!0)},t.prototype.DeleteCollection=function(e){var t=mi.GetCollection(this.props.strCollectionId);Object(w.a)(t.bIsDeletable,"Collection '"+t.displayName+"' should be deletable."),Object(_i.d)(D.createElement(Qo,{strDisplayName:this.props.strDisplayName,strCollectionId:this.props.strCollectionId}),Object(Fa.n)(e),{strTitle:Object(R.f)("#CollectionAction_DeleteDialog")})},t.prototype.render=function(){var e=Qa.IsCollapsed(this.props.strCollectionId)?Object(R.f)("#CollectionAction_Expand"):Object(R.f)("#CollectionAction_Collapse"),t=mi.GetCollection(this.props.strCollectionId),n=Object(R.f)("#CollectionAction_ViewOnlyThis");10==Qa.selectedGameListView?n=Object(R.f)("#GameList_View_ShowAllCollections"):t.id==ni.Favorites?n=Object(R.f)("#CollectionAction_ViewOnlyThisFavorites"):t.id==ni.Uncategorized&&(n=Object(R.f)("#CollectionAction_ViewOnlyThisUncategorized"));var r=Qa.BIsSearchActive(),i=1<Qa.GetVisibleCollections().length;return D.createElement(Hi.c,null,!this.props.bOnlyManagement&&D.createElement(Hi.d,{onSelected:this.ToggleGameListView,disabled:r},n),t.bIsEditable&&t.bIsDynamic&&D.createElement(Hi.d,{onSelected:this.ShowEditView},Object(R.f)("#CollectionAction_Edit")),t.bIsEditable&&D.createElement(Hi.d,{onSelected:this.ShowRenameView},Object(R.f)("#CollectionAction_Rename")),!this.props.bOnlyManagement&&D.createElement(Hi.d,{onSelected:this.ToggleCollapse},e),t.bIsDeletable&&D.createElement(Hi.d,{onSelected:this.DeleteCollection},Object(R.f)("#CollectionAction_Delete")),!this.props.bOnlyManagement&&i&&D.createElement(Hi.d,{onSelected:Qa.ExpandAll},Object(R.f)(11==Qa.selectedGameListView?"#CollectionAction_ExpandAll":"#CollectionAction_ExpandAllCollections")),!this.props.bOnlyManagement&&i&&D.createElement(Hi.d,{onSelected:Qa.CollapseAll},Object(R.f)(11==Qa.selectedGameListView?"#CollectionAction_CollapseAll":"#CollectionAction_CollapseAllCollections")))},Object(j.c)([E.a],t.prototype,"ToggleGameListView",null),Object(j.c)([E.a],t.prototype,"ToggleCollapse",null),Object(j.c)([E.a],t.prototype,"ShowEditView",null),Object(j.c)([E.a],t.prototype,"ShowRenameView",null),Object(j.c)([E.a],t.prototype,"DeleteCollection",null),Object(j.c)([o.observer],t)}(D.Component),Qo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_strError=null,e}return Object(j.d)(e,t),e.prototype.OnSubmit=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.props.closeModal(),Qa.currentCollectionID==this.props.strCollectionId&&(10==Qa.selectedGameListView&&Qa.SelectGameListView(1),3==Qa.mainPanelMode&&Qa.NavigateToHome()),t=mi.GetCollection(this.props.strCollectionId),Object(w.a)(t.bIsDeletable,"Collection '"+t.displayName+"' should be deletable."),[4,t.AsDeletableCollection().Delete()];case 1:return e.sent(),[3,3];case 2:return e.sent(),this.m_strError=Object(R.f)("#CollectionAction_DeleteFailed",this.props.strDisplayName),[3,3];case 3:return[2]}})})},e.prototype.render=function(){if(this.m_strError)return D.createElement(bi.e,{strDescription:this.m_strError,closeModal:this.props.closeModal});var e=D.createElement("span",{style:{color:"white",textTransform:"uppercase"}},this.props.strDisplayName);return D.createElement(bi.d,{bDestructiveWarning:!0,className:qo.a.CollectionDeleteContainer,onOK:this.OnSubmit,onCancel:this.props.closeModal},D.createElement("div",{className:qo.a.CollectionDelete},D.createElement(ns,{collection:mi.GetCollection(this.props.strCollectionId)}),D.createElement("div",{className:qo.a.CollectionDeleteIconOutline},D.createElement(_r.Jb,null)),D.createElement("div",{className:qo.a.CollectionDeleteIcon},D.createElement(_r.Jb,null))),D.createElement("div",{className:qo.a.CollectionDeleteRightSide},D.createElement(Si.l,null," ",Object(R.f)("#CollectionAction_DeleteDialog")," "),D.createElement(Si.b,null,D.createElement(Si.c,null,Object(R.o)("#CollectionAction_ConfirmDelete",e)),D.createElement(Si.i,null,D.createElement(Si.o,{strOKText:Object(R.f)("#Button_Remove"),onCancel:this.props.closeModal})))))},Object(j.c)([O.observable],e.prototype,"m_strError",void 0),Object(j.c)([E.a],e.prototype,"OnSubmit",null),Object(j.c)([o.observer],e)}(D.Component),Zo=n("o9Qn"),Ko=n.n(Zo),Jo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delay=e.props.delay||240,e}return Object(j.d)(e,t),e.prototype.render=function(){return D.createElement(Co.d,{direction:this.props.direction,nBodyAlignment:this.props.nBodyAlignment,nDelayShowMS:this.delay,toolTipContent:this.props.content,className:Ko.a.MoreInfoIcon},"?")},e}(D.Component),Xo=function(t){function e(e){return t.call(this,e)||this}return Object(j.d)(e,t),e.prototype.BindScrollElement=function(e){this.m_elScrollElement=e},e.prototype.ComputeChildSizes=function(){var e,t=ho.GetComputedDisplaySize(this.props.coverSize);return 1==t?e={childWidth:130,columnGap:12,rowGap:20}:2==t?e={childWidth:175,columnGap:18,rowGap:24}:3==t&&(e={childWidth:200,columnGap:24,rowGap:30}),e},e.prototype.render=function(){var e=mi.userCollections.filter(function(e){return e.id!=ni.Uncategorized}).map(function(e,t){return D.createElement(ns,{bStartFocused:0===t,key:e.id,collection:e})}),t=this.ComputeChildSizes();!Mo()||mi.GetCollection("partner-ea-access")||C.d(A.c.LAUNCHER_TYPE)||e.unshift(D.createElement(es,{key:"ea-button"})),e.unshift(D.createElement($o,{key:"new-collection-button"}));var n=D.createElement("span",{className:Eo.a.Highlight},Object(R.f)("#AllCollectionsView_InfoIconCollections")),r=D.createElement("span",{className:Eo.a.Highlight},D.createElement(_r.y,null),Object(R.f)("#AllCollectionsView_InfoIconDynamicCollections")),i=D.createElement("div",null,Object(R.o)("#AllCollectionsView_InfoIconFav",D.createElement("span",{className:Eo.a.Highlight},Object(R.f)("#AllCollectionsView_InfoIconFavorites")))),a=D.createElement(Co.b,null,D.createElement(Co.e,{toolTipContent:Object(R.o)("#AllCollectionsView_InfoIcon",n,r)}),D.createElement("br",null),D.createElement(Co.e,{toolTipContent:i,style:{marginTop:6}}));return D.createElement(So,{className:Eo.a.Container,scrollClassName:Eo.a.ScrollContainer,scrollToTopThreshold:1200,strRememberScrollKey:"all-collections",innerRef:this.BindScrollElement},D.createElement("div",{className:Eo.a.Header},D.createElement("div",{className:Eo.a.Label},Object(R.f)("#AllCollectionsView_Title")),D.createElement(Jo,{direction:"right",nBodyAlignment:0,content:a}),D.createElement("div",{className:Eo.a.Rule})),D.createElement(Io,{childWidth:t.childWidth,childHeight:t.childWidth,gridColumnGap:t.columnGap,gridRowGap:t.rowGap,scaleGridItems:1,renderOutsideRows:2,paddingLeft:0,paddingRight:0,gridClassName:Eo.a.Grid,scrollElement:this.m_elScrollElement,childElements:e}))},Object(j.c)([O.observable],e.prototype,"m_elScrollElement",void 0),Object(j.c)([E.a],e.prototype,"BindScrollElement",null),Object(j.c)([o.observer],e)}(D.Component),$o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_childRef=D.createRef(),e}return Object(j.d)(e,t),e.prototype.GetWindow=function(){return Object(Fa.m)(this.m_childRef.current)},e.prototype.render=function(){var t=this,e=hi.GetSelectedAppsInContext(),n=uo.GetDragData("apps"),r=0<e.length||n&&0<n.length;return D.createElement(Ho,{className:Object(cr.a)(Eo.a.Collection,Eo.a.NewCollection),strTargetId:"new-collection",strEligibleClassName:Object(cr.a)(Eo.a.DropOption),strTargetedClassName:Eo.a.DropTarget,fnOnDroppedApps:function(e){return Ai(t.GetWindow(),e.map(function(e){return Xa.GetAppOverviewByAppID(e)}),"drop")},onClick:function(e){return Ai(t.GetWindow(),[],"button")}},D.createElement("div",{className:Eo.a.BigPlus,ref:this.m_childRef},"+"),D.createElement("div",{className:Eo.a.CollectionLabel},Object(R.f)(r?"#AllCollectionsView_DragToAddCollection":"#AllCollectionsView_AddCollection")))},Object(j.c)([E.a],e.prototype,"GetWindow",null),Object(j.c)([o.observer],e)}(D.Component),es=function(e){return D.createElement("div",{className:Object(cr.a)(Eo.a.Collection,Eo.a.NewCollection),onClick:No},D.createElement("div",{className:Eo.a.BigPlus},"+"),D.createElement("div",{className:Eo.a.CollectionLabel},Object(R.f)("#EAAccessCollection_NewCollection_Button")))},ts=function(n){function e(e){var t=n.call(this,e)||this;return t.m_schHoverTimer=null,t.state={bTimerRunning:!1},t}return Object(j.d)(e,n),e.prototype.HoverEntered=function(){this.m_schHoverTimer=window.setTimeout(function(){Qa.NavigateToAllCollections()},600),this.setState({bTimerRunning:!0})},e.prototype.HoverLeft=function(){window.clearTimeout(this.m_schHoverTimer),this.setState({bTimerRunning:!1})},e.prototype.render=function(){return D.createElement(Ho,{className:Object(cr.a)(Eo.a.Collection,Eo.a.NewCollection,this.props.strClassName),strTargetId:"nav-to-collection",strEligibleClassName:Object(cr.a)(Eo.a.DropOption,this.props.strEligibleClassName),strTargetedClassName:Eo.a.DropTarget,fnOnDroppedApps:this.HoverLeft,fnOnTargetEntered:this.HoverEntered,fnOnTargetLeft:this.HoverLeft},D.createElement("div",{className:Object(cr.a)(Eo.a.NavTimer,this.state.bTimerRunning&&Eo.a.StartTimer)},D.createElement("div",{className:Eo.a.Message},Object(R.f)("#GameAction_NavigateToAllCollectionsWithDrag")),D.createElement(_r.db,{percentComplete:0})))},Object(j.c)([E.a],e.prototype,"HoverEntered",null),Object(j.c)([E.a],e.prototype,"HoverLeft",null),Object(j.c)([o.observer],e)}(D.Component),ns=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.ShowContextMenu=function(e){var t=this.props.collection;(t.bIsEditable||t.bIsDeletable)&&Object(zi.a)(D.createElement(Yo,{bOnlyManagement:!0,strCollectionId:t.id,strDisplayName:t.displayName}),e)},t.prototype.render=function(){if(this.props.bHide)return null;var e=this.props.collection,t=Object(cr.a)(Eo.a.Collection,this.props.bIsShowcase&&Eo.a.ShowcaseView,1==this.props.eCoverSize&&Eo.a.Small,2==this.props.eCoverSize&&Eo.a.Medium,3==this.props.eCoverSize&&Eo.a.Large);return D.createElement(Wo,{navKey:e.id,startFocused:this.props.bStartFocused,className:t,strCollectionId:e.id,strEligibleClassName:Eo.a.DropOption,strTargetedClassName:Eo.a.DropTarget,onContextMenu:this.ShowContextMenu,onClick:function(){return Qa.NavigateToCollection(e.id)}},D.createElement(rs,Object(j.a)({},this.props)),D.createElement("div",{className:Eo.a.CollectionLabel},D.createElement("div",null,e.displayName),D.createElement("div",{className:Eo.a.CollectionLabelCount},"( ",e.visibleApps.length," )")),e.bIsDynamic&&D.createElement(Co.d,{toolTipContent:Object(R.f)("#Collection_DynamicCollection"),nDelayShowMS:100},D.createElement(_r.y,null)))},Object(j.c)([E.a],t.prototype,"ShowContextMenu",null),Object(j.c)([o.observer],t)}(D.Component),rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e,t=this.props.collection.visibleApps,n=null;0<(t=t.slice().sort(function(e,t){return t.minutes_playtime_forever-e.minutes_playtime_forever}).slice(0,13)).length&&(e=t[0],n=D.createElement("div",{className:Eo.a.CollectionBG},D.createElement(co,{className:Eo.a.BackgroundImage,eAssetType:0,app:e})));var r=t.map(function(e){return D.createElement("div",{className:Eo.a.CapsuleImage,key:e.appid},D.createElement(co,{className:Eo.a.Image,eAssetType:0,app:e}))}),i=Eo.a["Has"+r.length+"Apps"];return D.createElement("div",{className:Object(cr.a)(Eo.a.CollectionImage,i)},n,D.createElement("div",{className:Eo.a.DisplayCaseContainerBounds},D.createElement("div",{className:Eo.a.DisplayCaseContainer},D.createElement("div",{className:Eo.a.AppGrid},r))))},Object(j.c)([o.observer],t)}(D.Component),is=n("0jpR"),as=n.n(is),os=n("5Aio"),ss=n.n(os),cs=n("cpga"),ls=n.n(cs),us=n("wAi4"),ps=n.n(us),ds=n("y6W+"),ms=n.n(ds),hs=n("eL5l"),fs=n.n(hs),bs=n("Dch3"),_s=n.n(bs),vs=n("3TYK"),gs=n.n(vs),ys=n("mMwe"),Ss=n.n(ys),ws=n("4sP7"),Cs=n.n(ws),Os=n("KFfG"),Es=n.n(Os),Bs=[{eID:Ue.MultiPlayer,sIcon:fs.a,sLoc:"#AppDetails_Feature_MultiPlayer"},{eID:Ue.SinglePlayer,sIcon:gs.a,sLoc:"#AppDetails_Feature_SinglePlayer"},{eID:Ue.CoOp,sIcon:ms.a,sLoc:"#AppDetails_Feature_CoOp"},{eID:Ue.Achievements,sIcon:ss.a,sLoc:"#AppDetails_Feature_SteamAchievements"},{eID:Ue.Cloud,sIcon:ls.a,sLoc:"#AppDetails_Feature_SteamCloud"},{eID:Ue.FullControllerSupport,sIcon:ps.a,sLoc:"#AppDetails_Feature_FullController"},{eID:Ue.PartialControllerSupport,sIcon:_s.a,sLoc:"#AppDetails_Feature_PartialController"},{eID:Ue.Workshop,sIcon:Ss.a,sLoc:"#AppDetails_Feature_SteamWorkshop"},{eID:Ue.VRSupport,sIcon:Cs.a,sLoc:"#AppDetails_Feature_VRSupport"},{eID:Ue.RemotePlayTogether,sIcon:Es.a,sLoc:"#AppDetails_Feature_RemotePlayTogether"}];function As(t){var e=Bs.find(function(e){return e.eID==t});return e||(Object(w.a)(!1,"Unable to find feature '"+t+"'. The structure for features likely needs to be expanded"),null)}var Is=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){if(!function(e,t){if(As(t)){var n=ct(e);return t==Ue.PartialControllerSupport?n(t)&&!n(Ue.FullControllerSupport):n(t)}}(this.props.overview,this.props.feature))return null;var e,t,n=(e=this.props.feature,(t=As(e))?{sDisplayName:Object(R.f)(t.sLoc),sIconURL:t.sIcon}:null);return D.createElement(Co.d,{direction:"left",className:as.a.Container,toolTipContent:n.sDisplayName,nDelayShowMS:0,bDisabled:this.props.suppresstooltip},n.sIconURL&&D.createElement("img",{className:as.a.Icon,src:n.sIconURL,alt:n.sDisplayName}),!this.props.minimode&&D.createElement("div",{className:as.a.Label},n.sDisplayName))},t}(D.Component),js=n("NgKn");function Ds(e){return"object"==typeof SteamClient&&e in SteamClient}var Rs,Ts,Ms=n("aFTR"),Ns=n.n(Ms),Ls={pinnedPosition:"BottomLeft",nWidthPct:50,nHeightPct:50},ks=function(n){function e(e){var t=n.call(this,e)||this;return t.m_refTopCapsule=D.createRef(),t.state={logoPosition:void 0},t}return Object(j.d)(e,n),e.prototype.componentDidUpdate=function(e){e.appid==this.props.appid&&e.editMode==this.props.editMode||this.setState({logoPosition:void 0})},Object.defineProperty(e.prototype,"background_src",{get:function(){return this.m_refTopCapsule.current&&this.m_refTopCapsule.current.background_src},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logo_src",{get:function(){return this.m_refTopCapsule.current&&this.m_refTopCapsule.current.logo_src},enumerable:!1,configurable:!0}),e.prototype.GetLogoPosition=function(){return this.state.logoPosition||this.props.logoPosition||Ls},e.prototype.SetPinnedPosition=function(e){this.setState({logoPosition:Object(j.a)(Object(j.a)({},this.GetLogoPosition()),{pinnedPosition:e})},this.PostPositionChangeCallback)},e.prototype.SetDimensions=function(e,t){this.setState({logoPosition:Object(j.a)(Object(j.a)({},this.GetLogoPosition()),{nWidthPct:e,nHeightPct:t})},this.PostPositionChangeCallback)},e.prototype.OnPositionChanged=function(e){this.SetDimensions(e.nWidthPct,e.nHeightPct)},e.prototype.PostPositionChangeCallback=function(){this.props.fnOnPositionChanged&&this.props.fnOnPositionChanged(this.GetLogoPosition())},e.prototype.render=function(){var e=this;if(!this.props.editMode)return D.createElement(Fs,Object(j.a)({ref:this.m_refTopCapsule},this.props));var t=this.props,n=t.children,r=(t.logoPosition,t.editMode,Object(j.f)(t,["children","logoPosition","editMode"])),i=this.GetLogoPosition();return D.createElement(Fs,Object(j.a)({ref:this.m_refTopCapsule},r,{editMode:!0,logoPosition:i,fnOnPositionChanged:this.OnPositionChanged}),D.createElement("div",{className:Ns.a.PinBox+" "+Ns.a.BottomLeft,onClick:function(){return e.SetPinnedPosition("BottomLeft")},title:"Pin to Bottom Left"}),D.createElement("div",{className:Ns.a.PinBox+" "+Ns.a.UpperCenter,onClick:function(){return e.SetPinnedPosition("UpperCenter")},title:"Pin to Top Center"}),D.createElement("div",{className:Ns.a.PinBox+" "+Ns.a.CenterCenter,onClick:function(){return e.SetPinnedPosition("CenterCenter")},title:"Pin to Center"}),D.createElement("div",{className:Ns.a.PinBox+" "+Ns.a.BottomCenter,onClick:function(){return e.SetPinnedPosition("BottomCenter")},title:"Pin to Bottom Center"}),n)},Object(j.c)([E.a],e.prototype,"SetDimensions",null),Object(j.c)([E.a],e.prototype,"OnPositionChanged",null),Object(j.c)([E.a],e.prototype,"PostPositionChangeCallback",null),e}(D.Component),Fs=function(n){function e(e){var t=n.call(this,e)||this;return t.m_refBackgroundImage=D.createRef(),t.m_refLogoImage=D.createRef(),Object(w.a)(!e.editMode||e.rgLogoImages.length<=1,"Can't use multiple logo images in edit mode"),t.state={bFallbackHeader:1==e.rgHeaderImages.length,bHasHeaderImage:0<e.rgHeaderImages.length,bHasLogoImage:0<e.rgLogoImages.length,bLogoLoaded:!1},t}return Object(j.d)(e,n),e.prototype.componentDidUpdate=function(e){JSON.stringify(e.rgHeaderImages)==JSON.stringify(this.props.rgHeaderImages)&&JSON.stringify(e.rgLogoImages)==JSON.stringify(this.props.rgLogoImages)&&JSON.stringify(e.rgBlurImages)==JSON.stringify(this.props.rgBlurImages)||this.setState({bFallbackHeader:1==this.props.rgHeaderImages.length,bHasHeaderImage:0<this.props.rgHeaderImages.length,bHasLogoImage:0<this.props.rgLogoImages.length,bLogoLoaded:!1})},e.prototype.OnHeaderIncrementalError=function(e,t,n){this.setState({bFallbackHeader:n==this.props.rgHeaderImages.length-1})},e.prototype.OnHeaderError=function(){this.setState({bHasHeaderImage:!1}),this.props.fnOnLoaded&&this.props.fnOnLoaded()},e.prototype.OnIncrementalLogoError=function(e,t,n){this.props.appid&&t&&t.startsWith("assets/")&&Ds("Apps")&&SteamClient.Apps.ReportLibraryAssetCacheMiss(this.props.appid,2),this.props.fnOnLoaded&&this.props.fnOnLoaded()},e.prototype.OnLogoError=function(){var e=this;this.setState({bHasLogoImage:!1},function(){e.props.fnOnLogoLoaded&&e.props.fnOnLogoLoaded()})},e.prototype.OnLogoLoad=function(){var e=this;this.setState({bLogoLoaded:!0},function(){e.props.fnOnLogoLoaded&&e.props.fnOnLogoLoaded()})},e.prototype.OnLoaded=function(){this.props.fnOnLoaded&&this.props.fnOnLoaded()},Object.defineProperty(e.prototype,"background_src",{get:function(){return this.state.bHasHeaderImage&&this.m_refBackgroundImage.current&&this.m_refBackgroundImage.current.src},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logo_src",{get:function(){return this.state.bLogoLoaded&&this.m_refLogoImage.current&&this.m_refLogoImage.current.src},enumerable:!1,configurable:!0}),e.prototype.render=function(){var e=this.props,t=e.rgLogoImages,n=e.editMode,r=e.logoPosition,i=e.className,a=e.classNameNoLogo,o=e.fnOnPositionChanged,s=e.height,c=this.state,l=c.bFallbackHeader,u=c.bHasLogoImage,p=[i,Ns.a.TopCapsule,!this.state.bHasHeaderImage&&Ns.a.NoArt,(!this.props.hasHeroImage||l)&&Ns.a.FallbackArt,!u&&a];return D.createElement("div",{className:cr.a.apply(void 0,p),style:null==s?void 0:{height:s+"px"}},D.createElement(Ps,{ref:this.m_refBackgroundImage,bLowPerfMode:this.props.bLowPerfMode,appid:this.props.appid,rgHeaderImages:this.props.rgHeaderImages,rgBlurImages:this.props.rgBlurImages,onIncrementalError:this.OnHeaderIncrementalError,onError:this.OnHeaderError,onLoad:this.OnLoaded}),u&&D.createElement(Gs,{key:t[0],strLogoImageURL:t[0],editMode:n,logoPosition:r||Ls,fnOnPositionChanged:n&&o},D.createElement($a.a,{ref:this.m_refLogoImage,className:Object(cr.a)(Ns.a.TitleLogo,this.state.bLogoLoaded&&Ns.a.Loaded),rgSources:t,onLoad:this.OnLogoLoad,onIncrementalError:this.OnIncrementalLogoError,onError:this.OnLogoError})),this.props.children)},Object(j.c)([E.a],e.prototype,"OnHeaderIncrementalError",null),Object(j.c)([E.a],e.prototype,"OnHeaderError",null),Object(j.c)([E.a],e.prototype,"OnIncrementalLogoError",null),Object(j.c)([E.a],e.prototype,"OnLogoError",null),Object(j.c)([E.a],e.prototype,"OnLogoLoad",null),Object(j.c)([E.a],e.prototype,"OnLoaded",null),Object(j.c)([o.observer],e)}(D.Component),Ps=function(n){function e(e){var t=n.call(this,e)||this;return t.m_refBackgroundImage=D.createRef(),t.state={bBackgroundLoaded:!1,nBlurImageIndex:0,bUseCanvasBlur:!t.HasBlurImages()},t}return Object(j.d)(e,n),e.prototype.componentDidMount=function(){!this.HasHeaderImages()&&this.props.onLoad&&this.props.onLoad()},e.prototype.componentDidUpdate=function(e){e.appid==this.props.appid&&JSON.stringify(e.rgHeaderImages)==JSON.stringify(this.props.rgHeaderImages)&&JSON.stringify(e.rgBlurImages)==JSON.stringify(this.props.rgBlurImages)&&this.props.bLowPerfMode==e.bLowPerfMode||(this.setState({bBackgroundLoaded:!1,nBlurImageIndex:0,bUseCanvasBlur:!this.HasBlurImages()}),!this.HasHeaderImages()&&this.props.onLoad&&this.props.onLoad())},Object.defineProperty(e.prototype,"src",{get:function(){return this.m_refBackgroundImage.current&&this.m_refBackgroundImage.current.src},enumerable:!1,configurable:!0}),e.prototype.OnIncrementalError=function(e,t,n){this.props.appid&&t&&t.startsWith("assets/")&&Ds("Apps")&&SteamClient.Apps.ReportLibraryAssetCacheMiss(this.props.appid,1),this.props.rgBlurImages&&0<this.props.rgBlurImages.length&&this.setState({nBlurImageIndex:this.state.nBlurImageIndex+1})},e.prototype.OnHeaderLoad=function(){this.props.onLoad&&this.props.onLoad(),this.m_refCanvasBlurImage=this.m_refBackgroundImage.current.imgRef.current,this.props.rgBlurImages[this.state.nBlurImageIndex]||this.setState({bUseCanvasBlur:!0}),this.setState({bBackgroundLoaded:!0})},e.prototype.OnBlurImageFailed=function(){this.setState({bUseCanvasBlur:!0})},e.prototype.HasHeaderImages=function(){var e=this.props.rgHeaderImages;return e&&0<e.length},e.prototype.HasBlurImages=function(){var e=this.props.rgBlurImages;return e&&0<e.length},e.prototype.render=function(){Object(w.a)(!this.props.rgBlurImages||this.props.rgBlurImages.length==this.props.rgHeaderImages.length,"Blur image count doesn't match header image count");var e=null,e=D.createElement(D.Fragment,null,!this.state.bUseCanvasBlur&&this.state.bBackgroundLoaded&&this.props.rgBlurImages[this.state.nBlurImageIndex]&&D.createElement("img",{src:this.props.rgBlurImages[this.state.nBlurImageIndex],className:Object(cr.a)(Ns.a.ImgSrc,Ns.a.ImgBlur,Ns.a.ImgBlurBackdrop),onError:this.OnBlurImageFailed}),this.state.bUseCanvasBlur&&this.state.bBackgroundLoaded&&!this.props.bLowPerfMode&&D.createElement(js.a,{className:Object(cr.a)(Ns.a.ImgSrc,Ns.a.ImgBlur,Ns.a.ImgBlurBackdrop),elementRef:this.m_refCanvasBlurImage,updateRate:0,width:192,height:62,reductionFactor:10,blurAmount:3}));return D.createElement("div",{className:Object(cr.a)(Ns.a.HeaderBackgroundImage,Ns.a.Glassy)},!this.state.bUseCanvasBlur&&this.state.bBackgroundLoaded&&this.props.rgBlurImages[this.state.nBlurImageIndex]&&D.createElement("img",{src:this.props.rgBlurImages[this.state.nBlurImageIndex],className:Object(cr.a)(Ns.a.ImgSrc,Ns.a.ImgBlur),onError:this.OnBlurImageFailed}),this.state.bUseCanvasBlur&&this.state.bBackgroundLoaded&&!this.props.bLowPerfMode&&D.createElement(js.a,{className:Object(cr.a)(Ns.a.ImgSrc,Ns.a.ImgBlur),elementRef:this.m_refCanvasBlurImage,updateRate:0,width:192,height:62,reductionFactor:10,blurAmount:3}),D.createElement("div",{className:Ns.a.ImgContainer},this.HasHeaderImages()&&D.createElement($a.a,{ref:this.m_refBackgroundImage,rgSources:this.props.rgHeaderImages,className:Ns.a.ImgSrc,onLoad:this.OnHeaderLoad,onIncrementalError:this.OnIncrementalError,onError:this.props.onError})),e)},Object(j.c)([E.a],e.prototype,"OnIncrementalError",null),Object(j.c)([E.a],e.prototype,"OnHeaderLoad",null),Object(j.c)([E.a],e.prototype,"OnBlurImageFailed",null),e}(D.Component),Gs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.logoPosition,n=e.strLogoImageURL,r=e.children,i=e.fnOnPositionChanged,a=Us(t.pinnedPosition,t.nWidthPct,t.nHeightPct),o=(a.nBottomPct,a.nTopPct),s=a.nLeftPct;a.nRightPct;return D.createElement("div",{className:Ns.a.BoxSizerContainer},D.createElement("div",{className:Ns.a.BoxSizerValidRegion},this.props.editMode?null:D.createElement("div",{className:Object(cr.a)(Ns.a.BoxSizer,Ns.a[t.pinnedPosition]),style:{left:s+"%",top:o+"%",width:t.nWidthPct+"%",height:t.nHeightPct+"%"}},D.createElement("div",{className:Ns.a.TitleImageContainer},r)),this.props.editMode&&D.createElement(zs,{id:n,pinType:t.pinnedPosition,index:0,widthPct:t.nWidthPct,heightPct:t.nHeightPct,fnOnPositionChanged:i},r)))},t}(D.Component);function Us(e,t,n){var r,i,a,o;switch(e){case"BottomLeft":i=100-n,a=r=0,o=100-t;break;case"UpperLeft":r=100-n,a=i=0,o=100-t;break;case"CenterCenter":i=r=(100-n)/2,o=a=(100-t)/2;break;case"UpperCenter":r=100-n,i=0,o=a=(100-t)/2;break;case"BottomCenter":r=0,i=100-n,o=a=(100-t)/2}return{nBottomPct:r,nTopPct:i,nLeftPct:a,nRightPct:o}}(Ts=Rs=Rs||{}).topleft="Topleft",Ts.top="Top",Ts.topright="TopRight",Ts.left="Left",Ts.middle="Middle",Ts.right="Right",Ts.bottomleft="BottomLeft",Ts.bottom="Bottom",Ts.bottomright="BottomRight";function xs(e){var t=e.title,n=e.className,r=26;return 8<t.length&&(r=Math.max(r-(t.length-5)/2,5.8)),D.createElement("svg",{className:Object(cr.a)(Ns.a.SVGTitle,n),viewBox:"0 0 300 14"},D.createElement("defs",null,D.createElement("linearGradient",{id:"gradient",x1:"0",x2:"0",y1:"0",y2:"100%",gradientUnits:"userSpaceOnUse"},D.createElement("stop",{stopColor:"#fff",offset:"0%"}),D.createElement("stop",{stopColor:"#fff",offset:"20%"}),D.createElement("stop",{stopColor:"#fff",offset:"40%"}),D.createElement("stop",{stopColor:"#eee",offset:"60%"}),D.createElement("stop",{stopColor:"#ddd",offset:"80%"}),D.createElement("stop",{stopColor:"#ccc",offset:"100%"}))),D.createElement("text",{x:"-1",y:14,fontSize:r,textAnchor:"bottom",fontWeight:"200",fill:"url(#gradient)"},t))}var zs=function(n){function e(e){var t=n.call(this,e)||this;return t.m_fnMouseUp=null,t.m_fnMouseMove=null,t.m_listeners=new X.c,t.state={},t}return Object(j.d)(e,n),e.prototype.componentWillUnmount=function(){this.m_listeners.Unregister()},e.prototype.componentDidUpdate=function(){this.props.pinType!=this.state.pinType&&(this.m_pinType=this.props.pinType,this.setState({pinType:this.props.pinType}),this.UpdateBoxPosition())},e.getDerivedStateFromProps=function(e,t){var n=e.pinType,r=e.widthPct,i=e.heightPct,a=e.id;if(t&&t.id==a)return null;var o=Us(n,r,i);return{id:a,curBottomPosPct:o.nBottomPct,curTopPosPct:o.nTopPct,curLeftPosPct:o.nLeftPct,curRightPosPct:o.nRightPct,curWidthPct:r,curHeightPct:i,EdgeDown:null,pinType:n}},e.prototype.LinkRegionBoxRef=function(e){this.m_elLinkRegionBox=e},e.prototype.OnMouseDown=function(e,t){var n=this;this.m_fnMouseUp=function(e){n.OnMouseUp(e,t)},this.m_fnMouseMove=function(e){n.OnMouseMove(e,t)},this.setState({EdgeDown:t}),this.m_rectLinkRegion=this.m_elLinkRegionBox.parentElement.getBoundingClientRect(),this.m_nLocalOffsetXPct=(e.clientX-this.m_rectLinkRegion.left)/(this.m_rectLinkRegion.right-this.m_rectLinkRegion.left)*100-this.state.curLeftPosPct,this.m_nLocalOffsetYPct=(e.clientY-this.m_rectLinkRegion.top)/(this.m_rectLinkRegion.bottom-this.m_rectLinkRegion.top)*100-this.state.curTopPosPct,this.m_listeners.AddEventListener(this.m_elLinkRegionBox.ownerDocument.defaultView,"mousemove",this.m_fnMouseMove),this.m_listeners.AddEventListener(this.m_elLinkRegionBox.ownerDocument.defaultView,"mouseup",this.m_fnMouseUp),e.preventDefault(),e.stopPropagation()},e.prototype.UpdateBoxPosition=function(){var e=Us(this.m_pinType,this.state.curWidthPct,this.state.curHeightPct),t=e.nBottomPct,n=e.nTopPct,r=e.nLeftPct,i=e.nRightPct;this.setState({curBottomPosPct:t,curTopPosPct:n,curLeftPosPct:r,curRightPosPct:i})},e.prototype.OnMouseMove=function(e,t){if(void 0!==this.state.EdgeDown){switch(e.shiftKey&&this.m_fnMouseUp(),t){case Rs.left:this.setState({curLeftPosPct:this.CalcLeftEdge(e.clientX)}),this.CheckLeftEdge();break;case Rs.right:this.setState({curRightPosPct:this.CalcRightEdge(e.clientX)}),this.CheckRightEdge();break;case Rs.top:this.setState({curTopPosPct:this.CalcTopEdge(e.clientY)}),this.CheckTopEdge();break;case Rs.bottom:this.setState({curBottomPosPct:this.CalcBottomEdge(e.clientY)}),this.CheckBottomEdge();break;case Rs.topleft:this.setState({curTopPosPct:this.CalcTopEdge(e.clientY)}),this.setState({curLeftPosPct:this.CalcLeftEdge(e.clientX)}),this.CheckTopEdge(),this.CheckLeftEdge();break;case Rs.topright:this.setState({curTopPosPct:this.CalcTopEdge(e.clientY)}),this.setState({curRightPosPct:this.CalcRightEdge(e.clientX)}),this.CheckTopEdge(),this.CheckRightEdge();break;case Rs.bottomleft:this.setState({curBottomPosPct:this.CalcBottomEdge(e.clientY)}),this.setState({curLeftPosPct:this.CalcLeftEdge(e.clientX)}),this.CheckBottomEdge(),this.CheckLeftEdge();break;case Rs.bottomright:this.setState({curBottomPosPct:this.CalcBottomEdge(e.clientY)}),this.setState({curRightPosPct:this.CalcRightEdge(e.clientX)}),this.CheckBottomEdge(),this.CheckRightEdge();break;case Rs.middle:this.setState({curRightPosPct:this.CalcRightEdge(e.clientX),curBottomPosPct:this.CalcBottomEdge(e.clientY)}),"CenterCenter"!=this.state.pinType&&this.setState({curTopPosPct:this.CalcTopEdge(e.clientY)}),"CenterCenter"!=this.state.pinType&&"BottomCenter"!=this.state.pinType&&"UpperCenter"!=this.state.pinType&&this.setState({curLeftPosPct:this.CalcLeftEdge(e.clientX)}),this.CheckTopEdge(),this.CheckBottomEdge(),this.CheckLeftEdge(),this.CheckRightEdge()}98<this.state.curTopPosPct?this.setState({curTopPosPct:98}):98<this.state.curBottomPosPct&&this.setState({curBottomPosPct:98}),99<this.state.curLeftPosPct?this.setState({curLeftPosPct:99}):99<this.state.curRightPosPct&&this.setState({curRightPosPct:99}),this.state.curRightPosPct<0?this.setState({curRightPosPct:0}):this.state.curLeftPosPct<0&&this.setState({curLeftPosPct:0}),this.state.curBottomPosPct<0?this.setState({curBottomPosPct:0}):this.state.curTopPosPct<0&&this.setState({curTopPosPct:0}),e.preventDefault(),e.stopPropagation()}},e.prototype.CheckBottomEdge=function(){this.state.curBottomPosPct>98-this.state.curTopPosPct&&this.setState({curBottomPosPct:98-this.state.curTopPosPct})},e.prototype.CheckRightEdge=function(){this.state.curRightPosPct>99-this.state.curLeftPosPct&&this.setState({curRightPosPct:99-this.state.curLeftPosPct})},e.prototype.CheckTopEdge=function(){this.state.curTopPosPct>98-this.state.curBottomPosPct&&this.setState({curTopPosPct:98-this.state.curBottomPosPct})},e.prototype.CheckLeftEdge=function(){this.state.curLeftPosPct>99-this.state.curRightPosPct&&this.setState({curLeftPosPct:99-this.state.curRightPosPct})},e.prototype.CalcLeftEdge=function(e){var t=(e-this.m_rectLinkRegion.left)/(this.m_rectLinkRegion.right-this.m_rectLinkRegion.left)*100-this.m_nLocalOffsetXPct;if("UpperLeft"==this.props.pinType||"BottomLeft"==this.props.pinType)return 0;if("CenterCenter"!=this.props.pinType&&"BottomCenter"!=this.props.pinType&&"UpperCenter"!=this.props.pinType)return t;var n=Math.min(Math.max(t,0),45);return this.setState({curRightPosPct:n}),n},e.prototype.CalcRightEdge=function(e){var t=100-((e-this.m_rectLinkRegion.left)/(this.m_rectLinkRegion.right-this.m_rectLinkRegion.left)*100+(this.state.curWidthPct-this.m_nLocalOffsetXPct));if("CenterCenter"!=this.props.pinType&&"BottomCenter"!=this.props.pinType&&"UpperCenter"!=this.props.pinType)return t;var n=Math.min(Math.max(t,0),45);return this.setState({curLeftPosPct:n}),n},e.prototype.CalcTopEdge=function(e){var t=(e-this.m_rectLinkRegion.top)/(this.m_rectLinkRegion.bottom-this.m_rectLinkRegion.top)*100-this.m_nLocalOffsetYPct;if("UpperCenter"==this.props.pinType||"UpperLeft"==this.props.pinType)return 0;if("CenterCenter"!=this.props.pinType)return t;var n=Math.min(Math.max(t,0),45);return this.setState({curBottomPosPct:n}),n},e.prototype.CalcBottomEdge=function(e){var t=100-((e-this.m_rectLinkRegion.top)/(this.m_rectLinkRegion.bottom-this.m_rectLinkRegion.top)*100+(this.state.curHeightPct-this.m_nLocalOffsetYPct));if("BottomLeft"==this.props.pinType||"BottomCenter"==this.props.pinType)return 0;if("CenterCenter"!=this.props.pinType)return t;var n=Math.min(Math.max(t,0),45);return this.setState({curTopPosPct:n}),n},e.prototype.OnMouseUp=function(e,t){this.setState({curWidthPct:100-this.state.curRightPosPct-this.state.curLeftPosPct,curHeightPct:100-this.state.curBottomPosPct-this.state.curTopPosPct},this.OnResizeComplete),this.setState({EdgeDown:void 0}),this.m_listeners.Unregister()},e.prototype.OnResizeComplete=function(){this.props.fnOnPositionChanged&&this.props.fnOnPositionChanged({pinnedPosition:this.state.pinType,nWidthPct:this.state.curWidthPct,nHeightPct:this.state.curHeightPct})},e.prototype.render=function(){var t=this,e={left:this.state.curLeftPosPct+"%",top:this.state.curTopPosPct+"%",right:this.state.curRightPosPct+"%",bottom:this.state.curBottomPosPct+"%"},n=Object(cr.a)(Ns.a.BoxSizerDragBox,this.state.EdgeDown&&Object(cr.a)(Ns.a.EdgeDown,Ns.a[this.state.EdgeDown]),Ns.a[this.props.pinType]);return D.createElement("div",{className:n,style:e,ref:this.LinkRegionBoxRef,draggable:!1},D.createElement("div",{className:Ns.a.BoxSizerGridBox},D.createElement("div",{className:Ns.a.BoxSizerEdge+" "+Ns.a.TopLeft,onMouseDown:function(e){t.OnMouseDown(e,Rs.topleft)},draggable:!1}),D.createElement("div",{className:Ns.a.BoxSizerEdge+" "+Ns.a.Top,onMouseDown:function(e){t.OnMouseDown(e,Rs.top)}}),D.createElement("div",{className:Ns.a.BoxSizerEdge+" "+Ns.a.TopRight,onMouseDown:function(e){t.OnMouseDown(e,Rs.topright)},draggable:!1}),D.createElement("div",{className:Ns.a.BoxSizerEdge+" "+Ns.a.Left,onMouseDown:function(e){t.OnMouseDown(e,Rs.left)},draggable:!1}),D.createElement("div",{className:Ns.a.BoxSizerEdge+" "+Ns.a.Middle,onMouseDown:function(e){t.OnMouseDown(e,Rs.middle)},draggable:!1},D.createElement("div",{className:Ns.a.TitleImageContainer},this.props.children)),D.createElement("div",{className:Ns.a.BoxSizerEdge+" "+Ns.a.Right,onMouseDown:function(e){t.OnMouseDown(e,Rs.right)},draggable:!1}),D.createElement("div",{className:Ns.a.BoxSizerEdge+" "+Ns.a.BottomLeft,onMouseDown:function(e){t.OnMouseDown(e,Rs.bottomleft)},draggable:!1}),D.createElement("div",{className:Ns.a.BoxSizerEdge+" "+Ns.a.Bottom,onMouseDown:function(e){t.OnMouseDown(e,Rs.bottom)},draggable:!1}),D.createElement("div",{className:Ns.a.BoxSizerEdge+" "+Ns.a.BottomRight,onMouseDown:function(e){t.OnMouseDown(e,Rs.bottomright)},draggable:!1})))},Object(j.c)([E.a],e.prototype,"LinkRegionBoxRef",null),Object(j.c)([E.a],e.prototype,"OnMouseDown",null),Object(j.c)([E.a],e.prototype,"UpdateBoxPosition",null),Object(j.c)([E.a],e.prototype,"OnMouseMove",null),Object(j.c)([E.a],e.prototype,"CheckBottomEdge",null),Object(j.c)([E.a],e.prototype,"CheckRightEdge",null),Object(j.c)([E.a],e.prototype,"CheckTopEdge",null),Object(j.c)([E.a],e.prototype,"CheckLeftEdge",null),Object(j.c)([E.a],e.prototype,"CalcLeftEdge",null),Object(j.c)([E.a],e.prototype,"CalcRightEdge",null),Object(j.c)([E.a],e.prototype,"CalcTopEdge",null),Object(j.c)([E.a],e.prototype,"CalcBottomEdge",null),Object(j.c)([E.a],e.prototype,"OnMouseUp",null),Object(j.c)([E.a],e.prototype,"OnResizeComplete",null),e}(D.Component);function Hs(e){var t=e.title,n=e.children;return D.createElement("div",{className:Object(cr.a)(Ns.a.TitleSection,t?Ns.a.NoLogo:"")},D.createElement("div",{className:Ns.a.TextNameSpace},!!t&&D.createElement(xs,{title:t})),D.createElement("div",{className:Ns.a.Features},n))}var Ws=n("m0wJ"),Vs=n.n(Ws),qs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this,t=this.props.collection.id;return D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:function(){return Qa.NavigateToCollection(t)}},Object(R.f)("#GameDetails_CollectionContext_GoTo")),D.createElement(Hi.d,{onSelected:function(){return e.props.collection.AsDragDropCollection().RemoveApps([e.props.app])}},Object(R.f)("#GameDetails_CollectionContext_Remove")))},Object(j.c)([o.observer],t)}(D.Component),Ys=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this;return D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:function(){return mi.SetAppsAsHidden([e.props.app.appid],!1)}},Object(R.f)("#GameAction_RemoveFromHidden")))},Object(j.c)([o.observer],t)}(D.Component),Qs=function(n){function e(e){var t=n.call(this,e)||this;return t.m_refFileInputHero=D.createRef(),t.m_refFileInputLogo=D.createRef(),t.m_refTopCapsule=D.createRef(),t.state=Object(j.a)({bEditMode:!1,bLogoFailedToLoad:!1,bCustomLogoLoaded:!1,customLogoPosition:void 0},r.getDerivedStateFromProps(e)),t}var r;return Object(j.d)(e,n),(r=e).prototype.componentDidMount=function(){this.props.overview.BHasCustomImages()&&this.FetchCustomLogoPosition()},e.prototype.componentDidUpdate=function(e){var t=this;e.overview.appid!=this.props.overview.appid&&this.setState({bEditMode:!1,bLogoFailedToLoad:!1,customLogoPosition:void 0},function(){t.props.overview.BHasCustomImages()&&t.FetchCustomLogoPosition()})},e.prototype.componentWillUnmount=function(){this.m_disposer&&this.m_disposer()},e.getDerivedStateFromProps=function(e){var t=e.overview,n=ha.GetHeroImages(t),r=n.rgHeroImages,i=n.bHasHeroImage,a=ha.GetLogoImages(t);return{rgHeroImages:r,bHasHeroImage:i,rgLogoImages:a.rgLogoImages,logoPosition:a.logoPosition,rgHeaderBlurImages:ha.GetHeroBlurImages(t)}},e.prototype.FetchCustomLogoPosition=function(){return Object(j.b)(this,void 0,void 0,function(){var t=this;return Object(j.e)(this,function(e){return this.m_disposer&&this.m_disposer(),this.m_disposer=Object(O.autorun)(function(){var e=ha.GetCustomLogoPosition(t.props.overview);Object(O.runInAction)(function(){e?t.setState({customLogoPosition:e}):t.setState({customLogoPosition:void 0})})}),[2]})})},e.prototype.GetAppsCollectionList=function(n){var r=this,e=[];if(mi.BIsHidden(n.appid))return e.push(D.createElement(Co.d,{nDelayShowMS:10,toolTipContent:Object(R.f)("#GameList_Category_Hidden_Tooltip"),className:Object(cr.a)(Vs.a.InCollection,Vs.a.InHidden),key:n.appid,onClick:function(e){return r.ShowHiddenContextMenu(e,n)},onContextMenu:function(e){r.ShowHiddenContextMenu(e,n),e.preventDefault(),e.stopPropagation()}},Object(R.f)("#GameList_Category_Hidden"))),e;if(mi.userCollections)for(var t=0,i=mi.userCollections;t<i.length;t++){!function(t){if(mi.BIsSystemCollectionId(t.id))return;t.apps.has(n.appid)&&e.push(D.createElement(Co.d,{key:t.id,direction:"left",nDelayShowMS:10,toolTipContent:Object(R.f)("#GameList_View_ThisCollection")},D.createElement("div",{className:Vs.a.InCollection,onClick:function(){return Qa.NavigateToCollection(t.id)},onContextMenu:function(e){r.ShowCollectionContextMenu(e,t,n),e.preventDefault(),e.stopPropagation()}},t.displayName)))}(i[t])}return e},e.prototype.ShowCollectionContextMenu=function(e,t,n){Object(zi.a)(D.createElement(qs,{collection:t,app:n}),e.currentTarget,{bOverlapHorizontal:!0,bOverlapVertical:!1})},e.prototype.ShowHiddenContextMenu=function(e,t){Object(zi.a)(D.createElement(Ys,{app:t}),e.currentTarget,{bOverlapHorizontal:!0,bOverlapVertical:!1})},e.prototype.ShowContextMenu=function(e){var t=!this.state.bLogoFailedToLoad&&0<this.state.rgLogoImages.length;Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:this.OnChangeHero},Object(R.f)(this.is_hero_custom_image?"#CustomArt_ClearCustomBackground":"#CustomArt_SetCustomBackground")),D.createElement(Hi.d,{onSelected:this.OnChangeLogo},Object(R.f)(this.is_logo_custom_image?"#CustomArt_ClearCustomLogo":"#CustomArt_SetCustomLogo")),t&&!this.state.bEditMode&&D.createElement(Hi.d,{onSelected:this.OnToggleEditMode},Object(R.f)("#CustomArt_EditLogoPosition")),t&&this.state.customLogoPosition&&this.state.logoPosition&&D.createElement(Hi.d,{onSelected:this.OnResetLogoPosition},Object(R.f)("#CustomArt_ResetLogoPosition"))),e)},Object.defineProperty(e.prototype,"is_hero_custom_image",{get:function(){return this.m_refTopCapsule.current&&this.m_refTopCapsule.current.background_src&&this.m_refTopCapsule.current.background_src.startsWith("customimages/")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_logo_custom_image",{get:function(){return this.m_refTopCapsule.current&&this.m_refTopCapsule.current.logo_src&&this.m_refTopCapsule.current.logo_src.startsWith("customimages/")},enumerable:!1,configurable:!0}),e.prototype.OnChangeArtwork=function(e,t,n){e?SteamClient.Apps.ClearCustomArtworkForApp(this.props.overview.appid,n):t.current.click()},e.prototype.OnChangeHero=function(e){this.OnChangeArtwork(this.is_hero_custom_image,this.m_refFileInputHero,1)},e.prototype.OnChangeLogo=function(e){this.OnChangeArtwork(this.is_logo_custom_image,this.m_refFileInputLogo,2)},e.prototype.OnToggleEditMode=function(e){this.state.bEditMode&&(console.log("Saving",this.state.customLogoPosition),ha.SaveCustomLogoPosition(this.props.overview,this.state.customLogoPosition)),this.setState({bEditMode:!this.state.bEditMode})},e.prototype.OnResetLogoPosition=function(e){ha.ClearCustomLogoPosition(this.props.overview),this.setState({bEditMode:!1,customLogoPosition:void 0})},e.prototype.OnFileInputClick=function(e){e.stopPropagation()},e.prototype.OnLogoLoaded=function(){this.m_refTopCapsule.current&&!this.m_refTopCapsule.current.logo_src?this.setState({bLogoFailedToLoad:!0}):this.setState({bLogoFailedToLoad:!1,bCustomLogoLoaded:this.is_logo_custom_image})},e.prototype.OnFileInputChange=function(e,t){var n,r=this,i=Object(Fa.n)(e),a=e.target,o=a.files[0],s=o.type.match(/image\/(.+)/),c=s&&s[1];"jpeg"==c&&(c="jpg"),"jpg"==c||"png"==c?((n=new FileReader).onload=function(){var e=(e=n.result.toString()).slice(e.indexOf("base64,")+7);SteamClient.Apps.SetCustomArtworkForApp(r.props.overview.appid,e,c,t).then(function(){a.value=null}).catch(function(e){console.log("Set artwork failed",e),Object(_i.d)(D.createElement(bi.e,{strTitle:Object(R.f)("#CustomArt_ErrorTitle"),strDescription:Object(R.f)("#CustomArt_UnknownError")}),i,{strTitle:Object(R.f)("#CustomArt_ErrorTitle")}),a.value=null})},n.readAsDataURL(o)):Object(_i.d)(D.createElement(bi.e,{strTitle:Object(R.f)("#CustomArt_ErrorTitle"),strDescription:Object(R.f)("#CustomArt_BadFileType")}),i,{strTitle:Object(R.f)("#CustomArt_ErrorTitle")})},e.prototype.OnHeroFileInputChange=function(e){this.OnFileInputChange(e,1)},e.prototype.OnLogoFileInputChange=function(e){this.OnFileInputChange(e,2)},e.prototype.OnLogoPositionChange=function(e){this.setState({customLogoPosition:e})},e.prototype.render=function(){var e=this,t=this.props.overview,n=this.state,r=n.rgHeroImages,i=n.bHasHeroImage,a=n.rgLogoImages,o=n.logoPosition,s=n.rgHeaderBlurImages,c=n.customLogoPosition,l=!this.state.bLogoFailedToLoad&&0<a.length,u=ho.rightPanelWidth/3;return D.createElement("div",{className:Object(cr.a)(this.props.className,Vs.a.Container),onContextMenu:this.ShowContextMenu},D.createElement("input",{type:"file",style:{display:"none"},name:"fileuploadhero",ref:this.m_refFileInputHero,onClick:this.OnFileInputClick,onChange:this.OnHeroFileInputChange}),D.createElement("input",{type:"file",style:{display:"none"},name:"fileuploadlogo",ref:this.m_refFileInputLogo,onClick:this.OnFileInputClick,onChange:this.OnLogoFileInputChange}),D.createElement(ks,{height:u,editMode:this.state.bEditMode,ref:this.m_refTopCapsule,bLowPerfMode:Qa.BLowPerfMode(),fnOnLoaded:this.props.fnOnLoaded,fnOnLogoLoaded:this.OnLogoLoaded,appid:this.props.overview.appid,hasHeroImage:i,rgHeaderImages:r,rgBlurImages:s,rgLogoImages:a,classNameNoLogo:!l&&Vs.a.NoLogoImage,logoPosition:c||o,fnOnPositionChanged:this.OnLogoPositionChange},D.createElement(Zs,{overview:t,haslogo:l,editMode:this.state.bEditMode,onExitEditMode:function(){e.OnToggleEditMode(void 0)}}),!this.state.bEditMode&&D.createElement("div",{className:Vs.a.HeaderFeatures},this.GetAppsCollectionList(t))))},Object(j.c)([E.a],e.prototype,"FetchCustomLogoPosition",null),Object(j.c)([E.a],e.prototype,"ShowCollectionContextMenu",null),Object(j.c)([E.a],e.prototype,"ShowHiddenContextMenu",null),Object(j.c)([E.a],e.prototype,"ShowContextMenu",null),Object(j.c)([E.a],e.prototype,"OnChangeHero",null),Object(j.c)([E.a],e.prototype,"OnChangeLogo",null),Object(j.c)([E.a],e.prototype,"OnToggleEditMode",null),Object(j.c)([E.a],e.prototype,"OnResetLogoPosition",null),Object(j.c)([E.a],e.prototype,"OnLogoLoaded",null),Object(j.c)([E.a],e.prototype,"OnFileInputChange",null),Object(j.c)([E.a],e.prototype,"OnHeroFileInputChange",null),Object(j.c)([E.a],e.prototype,"OnLogoFileInputChange",null),Object(j.c)([E.a],e.prototype,"OnLogoPositionChange",null),r=Object(j.c)([o.observer],e)}(D.Component),Zs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.haslogo,n=e.overview,r=e.editMode;return D.createElement(Hs,{title:t?null:n.display_name},!r&&D.createElement(D.Fragment,null,D.createElement(Is,{overview:n,feature:Ue.SinglePlayer,minimode:!0}),D.createElement(Is,{overview:n,feature:Ue.MultiPlayer,minimode:!0}),D.createElement(Is,{overview:n,feature:Ue.CoOp,minimode:!0}),D.createElement(Is,{overview:n,feature:Ue.RemotePlayTogether,minimode:!0}),D.createElement(Is,{overview:n,feature:Ue.FullControllerSupport,minimode:!0}),D.createElement(Is,{overview:n,feature:Ue.PartialControllerSupport,minimode:!0}),D.createElement(Is,{overview:n,feature:Ue.VRSupport,minimode:!0})),r&&D.createElement(D.Fragment,null,D.createElement(Si.s,{className:Vs.a.ExitEditModeButton,onClick:this.props.onExitEditMode},Object(R.f)("#CustomArt_DoneEditingLogo"))))},t}(D.Component),Ks=n("IjL/"),Js=n("DVqS"),Xs=n.n(Js),$s=n("+jbA"),ec=n.n($s),tc=n("iP4P"),nc=n.n(tc),rc=c.Message;var ic,ac,oc,sc,cc,lc,uc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.promotions||l.a(r.M()),rc.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{promotions:{n:1,c:pc,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserAccount_GetAvailableValveDiscountPromotions_Response"},r}(rc),pc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.promotionid||l.a(r.M()),rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{promotionid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},promotion_description:{n:2,br:l.d.readString,bw:l.h.writeString},minimum_cart_amount:{n:3,br:l.d.readInt64String,bw:l.h.writeInt64String},minimum_cart_amount_for_display:{n:4,br:l.d.readInt64String,bw:l.h.writeInt64String},discount_amount:{n:5,br:l.d.readInt64String,bw:l.h.writeInt64String},currency_code:{n:6,br:l.d.readInt32,bw:l.h.writeInt32},available_use_count:{n:7,br:l.d.readInt32,bw:l.h.writeInt32},promotional_discount_type:{n:8,br:l.d.readInt32,bw:l.h.writeInt32},loyalty_reward_id:{n:9,br:l.d.readInt32,bw:l.h.writeInt32},localized_name_token:{n:10,br:l.d.readString,bw:l.h.writeString},max_use_count:{n:11,br:l.d.readInt32,bw:l.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserAccount_GetAvailableValveDiscountPromotions_Response_ValveDiscountPromotionDetails"},r}(rc),dc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.pwid||l.a(r.M()),rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{pwid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},identity_verification:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},performed_age_verification:{n:3,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserAccount_GetAccountLinkStatus_Response"},r}(rc),mc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserAccount_CancelLicenseForApp_Request"},r}(rc),hc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CUserAccount_CancelLicenseForApp_Response"},r}(rc),fc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.invite_token||l.a(r.M()),rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{invite_token:{n:1,br:l.d.readString,bw:l.h.writeString},invite_limit:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},invite_duration:{n:3,br:l.d.readUint64String,bw:l.h.writeUint64String},time_created:{n:4,br:l.d.readFixed32,bw:l.h.writeFixed32},valid:{n:5,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserAccount_CreateFriendInviteToken_Response"},r}(rc),bc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.tokens||l.a(r.M()),rc.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{tokens:{n:1,c:fc,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserAccount_GetFriendInviteTokens_Response"},r}(rc),_c=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.valid||l.a(r.M()),rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{valid:{n:1,br:l.d.readBool,bw:l.h.writeBool},steamid:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},invite_duration:{n:3,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserAccount_ViewFriendInviteToken_Response"},r}(rc),vc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CUserAccount_RedeemFriendInviteToken_Response"},r}(rc),gc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CUserAccount_RevokeFriendInviteToken_Response"},r}(rc),yc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CUserAccount_RegisterCompatTool_Response"},r}(rc),Sc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.external_accounts||l.a(r.M()),rc.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{external_accounts:{n:1,c:wc,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CAccountLinking_GetLinkedAccountInfo_Response"},r}(rc),wc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.external_type||l.a(r.M()),rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{external_type:{n:1,br:l.d.readEnum,bw:l.h.writeEnum},external_id:{n:2,br:l.d.readString,bw:l.h.writeString},external_user_name:{n:3,br:l.d.readString,bw:l.h.writeString},external_url:{n:4,br:l.d.readString,bw:l.h.writeString},access_token:{n:5,br:l.d.readString,bw:l.h.writeString},access_token_secret:{n:6,br:l.d.readString,bw:l.h.writeString},is_valid:{n:7,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CAccountLinking_GetLinkedAccountInfo_Response_CExternalAccountTuple_Response"},r}(rc),Cc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||l.a(r.M()),rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:l.d.readFixed64String,bw:l.h.writeFixed64String},client_token:{n:2,br:l.d.readBytes,bw:l.h.writeBytes},expiry:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},deviceid:{n:4,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CEmbeddedClient_Token"},r}(rc),Oc=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.result||l.a(r.M()),rc.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{result:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},token:{n:2,c:Cc}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CEmbeddedClient_AuthorizeDevice_Response"},r}(rc);(ac=ic=ic||{}).GetAvailableValveDiscountPromotions=function(e,t){return e.SendMsg("UserAccount.GetAvailableValveDiscountPromotions#1",t,uc,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},ac.GetAccountLinkStatus=function(e,t){return e.SendMsg("UserAccount.GetAccountLinkStatus#1",t,dc,{ePrivilege:1})},ac.CancelLicenseForApp=function(e,t){return e.SendMsg("UserAccount.CancelLicenseForApp#1",t,hc,{ePrivilege:1})},ac.CreateFriendInviteToken=function(e,t){return e.SendMsg("UserAccount.CreateFriendInviteToken#1",t,fc,{ePrivilege:3})},ac.GetFriendInviteTokens=function(e,t){return e.SendMsg("UserAccount.GetFriendInviteTokens#1",t,bc,{ePrivilege:1})},ac.ViewFriendInviteToken=function(e,t){return e.SendMsg("UserAccount.ViewFriendInviteToken#1",t,_c,{ePrivilege:1})},ac.RedeemFriendInviteToken=function(e,t){return e.SendMsg("UserAccount.RedeemFriendInviteToken#1",t,vc,{ePrivilege:1})},ac.RevokeFriendInviteToken=function(e,t){return e.SendMsg("UserAccount.RevokeFriendInviteToken#1",t,gc,{ePrivilege:1})},ac.RegisterCompatTool=function(e,t){return e.SendMsg("UserAccount.RegisterCompatTool#1",t,yc,{ePrivilege:1})},(oc||{}).GetLinkedAccountInfo=function(e,t){return e.SendMsg("AccountLinking.GetLinkedAccountInfo#1",t,Sc,{bConstMethod:!0,ePrivilege:0,eWebAPIKeyRequirement:1})},(sc||{}).AuthorizeCurrentDevice=function(e,t){return e.SendMsg("EmbeddedClient.AuthorizeCurrentDevice#1",t,Oc,{ePrivilege:1})},(lc=cc=cc||{})[lc.Verification=0]="Verification",lc[lc.Removing=1]="Removing",lc[lc.Error=2]="Error";var Ec=function(t){function a(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={eStep:cc.Verification},e}return Object(j.d)(a,t),a.Title=function(){return Object(R.f)("#RemoveFreeApp_Title")},a.prototype.OnRemoveLicense=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.state.eStep!=cc.Verification?[2]:(t=this.props.details,n=Xa.GetAppOverviewByAppID(t.unAppID),this.setState({eStep:cc.Removing}),[4,function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(mc)).Body().set_appid(n),[4,ic.CancelLicenseForApp(ha.CMInterface().GetServiceTransport(),t)];case 1:return[2,e.sent().GetEResult()]}})})}(t.unAppID)]);case 1:if(1!=e.sent())return this.setState({eStep:cc.Error}),[2];for(r=0,i=mi.userCollections;r<i.length;r++)(a=i[r]).bAllowsDragAndDrop&&a.apps.has(t.unAppID)&&a.AsDragDropCollection().RemoveApps([n]);return Ia([t.unAppID],!0),this.props.closeModal(),[2]}})})},a.prototype.OnCancel=function(){this.state.eStep!=cc.Removing&&this.props.closeModal&&this.props.closeModal()},a.prototype.render=function(){var e=this.OnRemoveLicense,t=this.OnCancel,n=this.state.eStep,r=this.props.details,i=r.strDisplayName;return D.createElement(bi.d,{onOK:this.OnRemoveLicense,onCancel:t},D.createElement(Si.l,null,a.Title()),D.createElement(Si.b,null,n==cc.Verification&&D.createElement(Bc,{details:r,onOK:e,onCancel:t}),n==cc.Removing&&D.createElement(Ac,{appName:i,onOK:e,onCancel:t}),n==cc.Error&&D.createElement(Ic,{appName:i,onOK:e,onCancel:t})))},Object(j.c)([E.a],a.prototype,"OnRemoveLicense",null),Object(j.c)([E.a],a.prototype,"OnCancel",null),a}(D.Component);function Bc(e){var t=e.details,n=t.strDisplayName,r="",r=t.unMasterSubAppID?Object(R.f)("#RemoveFreeApp_Description_MasterSub",n,t.strMasterSubAppName):Object(R.f)("#RemoveFreeApp_Description",n);return D.createElement(D.Fragment,null,D.createElement(Si.c,null,D.createElement("div",null,r),D.createElement("div",{className:nc.a.Question},Object(R.f)("#RemoveFreeApp_Question",n))),D.createElement(Si.i,null,D.createElement(Si.o,{onOK:e.onOK,strOKText:Object(R.f)("#RemoveFreeApp_Remove"),onCancel:e.onCancel})))}function Ac(e){return D.createElement(D.Fragment,null,D.createElement(Si.c,null,D.createElement("div",{className:nc.a.RemovingText},Object(R.f)("#RemoveFreeApp_Removing",e.appName))),D.createElement(Si.i,null,D.createElement(Pi.a,{size:"medium",position:"center"})))}function Ic(e){return D.createElement(D.Fragment,null,D.createElement(Si.c,null,D.createElement("div",null,Object(R.f)("#RemoveFreeApp_Error",e.appName))),D.createElement(Si.i,null,D.createElement(Si.s,{onClick:e.onCancel},Object(R.f)("#Button_Close"))))}function jc(e,t){var n=t?"#DisplayStatus_Compact_":"#DisplayStatus_",r="";switch(e){case 0:r="Invalid";break;case 1:r="Launching";break;case 2:r="Uninstalling";break;case 3:r="Installing";break;case 4:r="Running";break;case 5:r="Validating";break;case 6:r="Updating";break;case 7:r="Downloading";break;case 8:r="Synchronizing";break;case 9:r="ReadyToInstall";break;case 10:r="ReadyToPreload";break;case 11:r="ReadyToLaunch";break;case 12:r="RegionRestricted";break;case 13:r="PresaleOnly";break;case 14:r="InvalidPlatform";break;case 16:r="PreloadComplete";break;case 17:r="BorrowerLocked";break;case 18:r="UpdatePaused";break;case 19:r="UpdateQueued";break;case 20:r="UpdateRequired";break;case 21:r="UpdateDisabled";break;case 22:r="DownloadPaused";break;case 23:r="DownloadQueued";break;case 24:r="DownloadRequired";break;case 25:r="DownloadDisabled";break;case 26:r="LicensePending";break;case 27:r="LicenseExpired";break;case 28:r="AvailForFree";break;case 29:r="AvailToBorrow";break;case 30:r="AvailGuestPass";break;case 31:r="Purchase";break;case 32:r="Unavailable"}return Object(R.f)(n+r)}function Dc(e,t){var n=1<t;return Object(R.f)((n?"#GameActionPlural_":"#GameAction_")+e)}var Rc="DEBUG_LibrarySettingsZoo_",Tc=new(function(){function e(){}return e.prototype.Init=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return this.m_mapToggles=new O.ObservableMap([[0,{strLabel:'"Sticky" Hovers',strDescription:"Hovers will remain open to facilitate debugging and styling.",fnOnChange:function(e){Object(Co.a)(e)}}],[9,{strLabel:"Sticky Context Menus",strDescription:"Context menus will remain open to facilitate debugging and styling.",fnOnChange:function(e){Object(Hi.i)(e)}}],[1,{strLabel:"Enable MobX Dev Tools",strDescription:"Display MobX devtools in the top right of each window"}],[2,{strLabel:"Apps Have Tons of Friends",strDescription:"If an app shows friends, duplicate entries in the list of friends so there are a ton of them (useful for testing display/styling)."}],[3,{strLabel:"Allow Repeat Apps",strDescription:"When the next query happens, ask the server to allow multiple instances of apps to appear.",eShowInPanel:1}],[4,{strLabel:"No Minimum",strDescription:"When the next query happens, ask the server to ignore the per-category minimum number of friends that we normally require.",eShowInPanel:1}],[5,{strLabel:"Slow Query",strDescription:"When the next query happens, delay sending the query message for 10s, to make sure the throbber shows up.",eShowInPanel:1}],[6,{strLabel:"Break Images",strDescription:"Use broken image URLs for logos and headers in friends activity app components.",eShowInPanel:1}],[7,{strLabel:"Debug Spew",strDescription:"Emit extra debugging info.",eShowInPanel:1}],[8,{strLabel:"Force Showing Owned DLC",strDescription:"This will only show DLC that you have added to your account for the currently selected app. Civ 5 and Stellaris are good games to test with.",eShowInPanel:0}],[10,{strLabel:"Force Empty",strDescription:"Force the section to be empty, as though the user had no qualifying results.",eShowInPanel:1}],[11,{strLabel:"Ignore App History",strDescription:"When the next query happens, ask the server to ignore all previous history of displayed apps.",eShowInPanel:1}],[12,{strLabel:"Force Fresh Query",strDescription:"When the next query happens, ask the server to ignore memoized results and re-run the job.",eShowInPanel:1}],[13,{strLabel:"Ignore Unowned Limit",strDescription:"Don't impose a limit on how many unowned titles are returned in the results.",eShowInPanel:1}],[14,{strLabel:"Don't Filter",strDescription:"Don't filter Play Next results to eliminate blocked or recently-played games.",eShowInPanel:2}],[15,{strLabel:"Slow Query",strDescription:"Artifically delay next Play Next query, to exercise loading/throbber codepath.",eShowInPanel:2}]]),this.m_mapToggles.forEach(function(e,t){e.currentValue=!!e.defaultValue}),[2]})})},e.prototype.GetToggle=function(e){return this.GetToggleSetting(e).currentValue},e.prototype.GetToggleSetting=function(e){return Object(w.a)(this.m_mapToggles.has(e),"Invalid toggle '"+e+"' -- did someone forget to add it to the map?"),this.m_mapToggles.get(e)},e.prototype.GetAllToggles=function(){return Array.from(this.m_mapToggles.entries())},e.prototype.GetTogglesForPanel=function(t){return this.GetAllToggles().filter(function(e){e[0];return e[1].eShowInPanel==t})},e.prototype.SetToggle=function(e,t){Object(w.a)(this.m_mapToggles.has(e),"Invalid toggle '"+e+"' -- did someone forget to add it to the map?");var n=this.m_mapToggles.get(e);n.currentValue=!!t;var r=Rc+n.strLabel;window.sessionStorage.setItem(r,n.currentValue.toString()),n.fnOnChange&&n.fnOnChange(n.currentValue)},Object(j.c)([O.observable],e.prototype,"m_mapToggles",void 0),Object(j.c)([O.action.bound],e.prototype,"SetToggle",null),e}());window.settingsZooStore=Tc;var Mc="playnextstore_storage",Nc=new(function(){function e(){this.m_nLastFetchTime=0,this.m_nNextAllowableRetry=0,this.m_bFresh=!1,this.m_nIgnoredChecksum=0}return e.prototype.Init=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_CMInterface=t,this.m_LocalStorage=new Ke,[4,this.LoadCacheFromLocalStorage()];case 1:return e.sent(),[2]}})})},e.prototype.GetPlayNext=function(){this.MaybeUpdatePlayNextAsync();var e={response:this.m_cachedPlayNext,bLoadInFlight:this.m_bPlayNextRequestInFlight,bFresh:this.m_bFresh};return this.m_bFresh=!1,e},e.prototype.DebugClearCache=function(){this.m_cachedPlayNext=null,this.m_nNextAllowableRetry=0,console.log("Cleared PlayNextStore cache.")},e.prototype.AddIgnoredApp=function(e){this.m_rgLocalIgnoredAppIDs.push(e),this.m_nNextAllowableRetry=0,this.MaybeUpdatePlayNextAsync()},e.prototype.ClearIgnoredApps=function(){this.m_rgLocalIgnoredAppIDs=[],this.m_nNextAllowableRetry=0,this.MaybeUpdatePlayNextAsync()},e.prototype.RemoveIgnoredApp=function(t){var e=this.m_rgLocalIgnoredAppIDs.findIndex(function(e){return e==t});-1!=e&&(this.m_rgLocalIgnoredAppIDs.splice(e),this.m_nNextAllowableRetry=0,this.MaybeUpdatePlayNextAsync())},e.prototype.LastIgnoredApps=function(e){var t=[],n=this.m_rgLocalIgnoredAppIDs.length;if(0<n)for(var r=this.m_rgLocalIgnoredAppIDs.length-1;t.length<n&&t.length<e&&0<=r;)t.push(this.m_rgLocalIgnoredAppIDs[r]),r--;return t},e.prototype.LoadCacheFromLocalStorage=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,this.m_LocalStorage.GetObject(Mc)];case 1:return(t=e.sent())&&3==t.nVersion?(this.m_cachedPlayNext=t.cachedPlayNext,this.m_nLastFetchTime=t.nLastFetchTime,this.m_rgLocalIgnoredAppIDs=t.rgIgnoredApps):(this.m_cachedPlayNext=null,this.m_nLastFetchTime=0,this.m_rgLocalIgnoredAppIDs=[]),this.m_nNextAllowableRetry=0,[2]}})})},e.prototype.SaveCacheToLocalStorage=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,this.m_LocalStorage.StoreObject(Mc,{nVersion:3,cachedPlayNext:this.m_cachedPlayNext,rgIgnoredApps:this.m_rgLocalIgnoredAppIDs})]})})},e.prototype.MaybeUpdatePlayNextAsync=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c;return Object(j.e)(this,function(e){switch(e.label){case 0:return A.c.OFFLINE_MODE?[2]:(t=Cr.g.PerDay,n=1e3*Cr.g.PerHour,this.m_bPlayNextRequestInFlight?[2]:(r=mi.GetCollection(ni.Hidden),i=r.allApps.map(function(e){return e.appid}),a=Object(j.g)(this.m_rgLocalIgnoredAppIDs,i),o=a.reduce(function(e,t){return e+t},0),this.m_cachedPlayNext&&o==this.m_nIgnoredChecksum&&Date.now()/1e3-this.m_nLastFetchTime<t||Date.now()<this.m_nNextAllowableRetry&&o==this.m_nIgnoredChecksum?[2]:(this.m_bPlayNextRequestInFlight=!0,this.m_nIgnoredChecksum=o,(s=x.b.Init(yt.h)).Body().set_ignore_appids(a),console.log("Fetching PlayNext with ignore list: "+a),[4,yt.n.GetPlayNext(this.m_CMInterface.GetServiceTransport(),s)])));case 1:return c=e.sent(),Tc.GetToggle(15)?[4,Object(Cr.h)(1e4)]:[3,3];case 2:e.sent(),e.label=3;case 3:return this.m_bPlayNextRequestInFlight=!1,1==c.GetEResult()?(this.m_cachedPlayNext=c.Body().toObject(),this.m_nNextAllowableRetry=Date.now()+1e3*t,this.m_nLastFetchTime=Date.now()/1e3,this.m_bFresh=!0,this.SaveCacheToLocalStorage()):(console.warn("Couldn't fetch Play Next suggestions: result = ",c.GetEResult()),this.m_cachedPlayNext=null,this.m_nNextAllowableRetry=Date.now()+n),[2]}})})},Object(j.c)([O.observable],e.prototype,"m_cachedPlayNext",void 0),Object(j.c)([O.action.bound],e.prototype,"DebugClearCache",null),Object(j.c)([O.action.bound],e.prototype,"AddIgnoredApp",null),Object(j.c)([O.action.bound],e.prototype,"ClearIgnoredApps",null),Object(j.c)([O.action.bound],e.prototype,"RemoveIgnoredApp",null),e}());window.playNextStore=Nc;var Lc,kc,Fc=n("7C8f"),Pc=n.n(Fc),Gc=n("sUmc"),Uc=n("DWPT"),xc=function(){function e(){this.m_embeddedElements=new Gc.a("LibraryHover")}return e.prototype.IsElementChildOfHover=function(e,t){return this.m_embeddedElements.GetEmbeddedElement(t).instance.BIsChildElement(e)},e.prototype.ShowHover=function(e,t,n){this.m_embeddedElements.ShowElement(e,t,n)},e.prototype.HideHover=function(e,t){this.m_embeddedElements.HideElement(e,t)},e}();(kc=Lc=Lc||{})[kc.kHidden=0]="kHidden",kc[kc.kVisible=1]="kVisible",kc[kc.kWaitingToShow=2]="kWaitingToShow",kc[kc.kWaitingToHide=3]="kWaitingToHide";var zc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_HoverState=Lc.kHidden,e}return Object(j.d)(e,t),e.prototype.componentDidMount=function(){Hc(window)},e.prototype.componentWillUnmount=function(){this.HideHover(window.document)},e.prototype.Show=function(o,s){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_HoverState==Lc.kVisible?[2]:this.m_HoverState==Lc.kWaitingToHide?(this.m_HoverState=Lc.kVisible,[2]):(t=o.currentTarget,this.m_HoverState=Lc.kWaitingToShow,[4,Object(Cr.h)(s)]);case 1:return(e.sent(),this.m_HoverState!==Lc.kWaitingToShow)?[2]:((n=this.props.renderHover())&&(r={target:t,bEnablePointerEvents:this.props.bInteractiveHover,direction:this.props.direction,nBodyAlignment:this.props.nBodyAlignment,nBodyDistance:this.props.nBodyDistance,nAllowOffscreenPx:this.props.nAllowOffscreenPx,nMaxLateralMoveOnScreen:this.props.nMaxLateralMoveOnScreen},i=D.createElement(Uc.a,Object(j.a)({},r),D.createElement("div",{onMouseLeave:function(e){a.MaybeHideHover(e.currentTarget.ownerDocument)},onMouseEnter:function(e){a.m_HoverState==Lc.kWaitingToHide&&(a.m_HoverState=Lc.kVisible)},onScroll:this.OnScroll},n)),Vc.ShowHover(t.ownerDocument,i,this.props.strKey),this.OnShown()),[2])}})})},e.prototype.OnShown=function(){this.m_HoverState=Lc.kVisible,this.props.visibilityObserver&&(this.props.visibilityObserver.visible=!0)},e.prototype.MaybeHideHover=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.state==Lc.kHidden||this.state==Lc.kWaitingToHide?[2]:(this.m_HoverState=Lc.kWaitingToHide,0===(t=void 0!==this.props.hoverHideDelay?this.props.hoverHideDelay:80)?[3,2]:[4,Object(Cr.h)(t)]);case 1:e.sent(),e.label=2;case 2:return this.m_HoverState==Lc.kWaitingToHide&&this.HideHover(n),[2]}})})},e.prototype.HideHover=function(e){this.m_HoverState=Lc.kHidden,Vc.HideHover(e,this.props.strKey),this.props.visibilityObserver&&(this.props.visibilityObserver.visible=!1)},e.prototype.OnScroll=function(e){this.MaybeHideHover(e.currentTarget.ownerDocument)},e.prototype.render=function(){var f=this,e=this.props,b=(e.strKey,e.renderHover,e.hoverDelay,e.hoverHideDelay,e.visibilityObserver,e.bInteractiveHover,e.bOnlyIfOverflowing,e.bDisabled,e.onMouseEnter),t=e.onMouseLeave,n=Object(j.f)(e,["strKey","renderHover","hoverDelay","hoverHideDelay","visibilityObserver","bInteractiveHover","bOnlyIfOverflowing","bDisabled","onMouseEnter","onMouseLeave"]);return D.createElement(Ni.c,Object(j.a)({},n,{navStop:!!n.onClick,onMouseEnter:this.props.bDisabled?null:function(e){var t,n,r,i,a,o,s,c,l,u,p,d,m,h;b&&b(e),f.props.bOnlyIfOverflowing&&(t=e.currentTarget,n=t.parentElement,r=t.offsetLeft,i=t.offsetTop,a=r+t.offsetWidth,o=i+t.offsetHeight,s=n.scrollLeft,c=n.scrollTop,l=s+n.clientWidth,u=c+n.clientHeight,s<=r&&a<=l&&c<=i&&o<=u)||f.m_HoverState!=Lc.kVisible&&(p=void 0!==f.props.hoverDelay?f.props.hoverDelay:300,m=Fa.n(e),Hc(h=m),d=Date.now()-h.lastScrollTime,f.Show(e,Math.max(0,p,1e3-d)))},onMouseLeave:function(e){t&&t(e),Tc.GetToggle(0)||f.m_HoverState!=Lc.kHidden&&f.MaybeHideHover(e.currentTarget.ownerDocument)}}),this.props.children)},Object(j.c)([E.a],e.prototype,"OnScroll",null),e}(D.Component);function Hc(e){var t=e;t.libraryScrollListener!==Wc&&(t.removeEventListener("mousewheel",t.libraryScrollListener),t.addEventListener("mousewheel",Wc),t.libraryScrollListener=Wc,t.lastScrollTime=0)}function Wc(e){e.view&&(e.view.lastScrollTime=Date.now())}var Vc=new xc;window.libraryHoverStore=Vc;var qc=n("ZMhZ"),Yc=n.n(qc),Qc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.blurElement,r=Object(j.f)(e,["className","blurElement"]);return D.createElement("div",Object(j.a)({className:Object(cr.a)(Yc.a.AppDetailsHover,t)},r),D.createElement("div",{className:Yc.a.Background},n&&D.createElement("div",{className:Yc.a.BlurContainer},n)),this.props.children)},t}(D.Component),Zc=n("tqBI"),Kc=n.n(Zc),Jc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_elDropDownRef=D.createRef(),e}return Object(j.d)(e,t),e.prototype.ShowMenu=function(){var e=this.props.renderContextMenu();this.m_iMenuInstance=Object(zi.a)(e,this.m_elDropDownRef.current,{bOverlapHorizontal:!0}),this.m_iMenuInstance.SetOnHideCallback(this.HideMenu)},e.prototype.HideMenu=function(){},e.prototype.render=function(){var e=this.props,t=e.className,n=e.label,r=e.tooltip,i=e.showRule,a=e.renderContextMenu,o=Object(j.f)(e,["className","label","tooltip","showRule","renderContextMenu"]);return D.createElement("div",Object(j.a)({className:Object(cr.a)(Kc.a.SectionHeader,t)},o),D.createElement("div",{className:Kc.a.Label,onClick:a&&this.ShowMenu,ref:this.m_elDropDownRef},D.createElement("div",{className:Kc.a.LabelText},n),r&&D.createElement(Jo,{direction:"right",nBodyAlignment:0,content:r}),a&&D.createElement("div",{className:Kc.a.Arrow},D.createElement(_r.w,null))),i&&D.createElement("div",{className:Kc.a.SectionRule}))},Object(j.c)([E.a],e.prototype,"ShowMenu",null),Object(j.c)([E.a],e.prototype,"HideMenu",null),e}(D.PureComponent),Xc=n("gsSj"),$c=n.n(Xc),el=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=Object(j.f)(e,["className"]);return D.createElement("div",Object(j.a)({className:Object(cr.a)($c.a.Body,t)},n),this.props.children)},t}(D.Component),tl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=Object(j.f)(e,["className"]);return D.createElement("div",Object(j.a)({className:Object(cr.a)($c.a.Highlight,t)},n),this.props.children)},t}(D.Component),nl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.label,r=e.tooltip,i=e.showRule,a=e.highlight,o=e.feature,s=e.availableOffline,c=e.rightColumnSection,l=e.headerClass,u=Object(j.f)(e,["className","label","tooltip","showRule","highlight","feature","availableOffline","rightColumnSection","headerClass"]);return o&&Za.BIsFeatureBlocked(o)||!s&&A.c.OFFLINE_MODE?null:D.createElement(Ni.a,Object(j.a)({className:Object(cr.a)($c.a.AppDetailsSection,t)},u),n&&D.createElement(Jc,{label:n,tooltip:r,showRule:i,className:l}),D.createElement("div",{className:Object(cr.a)($c.a.AppDetailsSectionContainer,n&&$c.a.AppDetailsSectionHasLabel,c&&$c.a.RightColumnSection)},a,this.props.children))},t.Body=el,t.Highlight=tl,Object(j.c)([o.observer],t)}(D.Component),rl=n("1mkr"),il=n.n(rl),al=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=Object(j.f)(e,["className"]);return D.createElement(Si.d,Object(j.a)({className:Object(cr.a)(il.a.AppDetailsButton,t)},n),this.props.children)},t}(D.PureComponent);function ol(e){return D.createElement(al,Object(j.a)({},e))}function sl(e){var t=e.className,n=Object(j.f)(e,["className"]);return D.createElement(al,Object(j.a)({className:Object(cr.a)(il.a.BottomRight,t)},n))}function cl(e){var t=e.className,n=Object(j.f)(e,["className"]);return D.createElement(al,Object(j.a)({className:Object(cr.a)(il.a.Center,t)},n))}function ll(e){var t=e.className,n=Object(j.f)(e,["className"]);return D.createElement(al,Object(j.a)({className:Object(cr.a)(il.a.Left,t)},n))}function ul(e){var t=e.className,n=Object(j.f)(e,["className"]);return D.createElement(al,Object(j.a)({className:Object(cr.a)(il.a.MoreVisible,t)},n))}var pl,dl,ml=n("ccan"),hl=n.n(ml),fl=n("8d7U"),bl=n.n(fl),_l=function(n){function e(e){var t=n.call(this,e)||this;return t.state={bAnyImageLoaded:!1,bImageFailed:!1,bFallbackFailed:!1},t}return Object(j.d)(e,n),e.prototype.OnImageLoad=function(){this.setState({bAnyImageLoaded:!0})},e.prototype.OnImageError=function(e,t,n){this.setState({bImageFailed:1==n,bFallbackFailed:2==n})},e.prototype.render=function(){var e=this.props,t=e.className,n=(e.fallbackImage,e.item),r=e.size,i=(e.bHideBanner,Object(j.f)(e,["className","fallbackImage","item","size","bHideBanner"]));return this.state.bFallbackFailed?D.createElement("div",Object(j.a)({className:Object(cr.a)(t,bl.a.DLCArt,"Large"==r&&bl.a.Fullsize,"Unlimited"==r&&bl.a.UnlimitedSize)},i),D.createElement("div",{className:bl.a.Title},this.props.item.strName)):D.createElement("div",Object(j.a)({className:Object(cr.a)(t,bl.a.DLCArt,"Large"==r&&bl.a.Fullsize,"Unlimited"==r&&bl.a.UnlimitedSize)},i),!this.props.bHideBanner&&this.state.bImageFailed&&this.state.bAnyImageLoaded&&D.createElement("img",{className:bl.a.Banner,src:hl.a}),D.createElement(co,{appid:n.unAppID,eAssetType:3,className:bl.a.Art,rgSources:[B.a.BuildCachedStoreAssetURL(this.props.item.unAppID,"header.jpg",this.props.item.rtStoreAssetModifyTime),B.a.BuildStoreAssetURL(this.props.item.unAppID,"header.jpg",this.props.item.rtStoreAssetModifyTime),this.props.fallbackImage],onLoad:this.OnImageLoad,onIncrementalError:this.OnImageError}),this.state.bAnyImageLoaded&&D.createElement("div",{className:bl.a.Gloss}))},Object(j.c)([E.a],e.prototype,"OnImageLoad",null),Object(j.c)([E.a],e.prototype,"OnImageError",null),e}(D.PureComponent),vl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_visibilityObserver={visible:!1},e}return Object(j.d)(e,t),e.prototype.BIsDLCInstalled=function(e){return"notinstalled"!==e.strState},e.prototype.RenderHover=function(){return this.props.item.bAvailableOnStore?D.createElement(gl,{item:this.props.item,fallbackImage:this.props.fallbackImage,visibilityObserver:this.m_visibilityObserver}):D.createElement(yl,{item:this.props.item,fallbackImage:this.props.fallbackImage})},e.prototype.ToggleDLCEnabled=function(){SteamClient.Apps.SetDLCEnabled(this.props.appid,this.props.item.unAppID,!this.props.item.bEnabled)},e.prototype.ShowContextMenu=function(e){var t=this;this.props.item.bAvailableOnStore?Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:function(){B.a.NavigateToStoreAppPage(t.props.item.unAppID,"dlccapsule")}},Object(R.f)("#AppDetails_ViewStoreDLC"))),e):e.preventDefault()},e.prototype.render=function(){return D.createElement(zc,{className:Object(cr.a)(bl.a.Item,this.BIsDLCInstalled(this.props.item)?bl.a.Installed:bl.a.Notinstalled,this.props.item.bAvailableOnStore&&bl.a.AvailableOnStore),strKey:"DLC_"+this.props.item.unAppID,renderHover:this.RenderHover,onContextMenu:this.ShowContextMenu,visibilityObserver:this.props.item.bAvailableOnStore?this.m_visibilityObserver:void 0,hoverDelay:this.props.item.bAvailableOnStore?0:void 0},D.createElement(_l,{fallbackImage:this.props.fallbackImage,item:this.props.item,size:this.props.bFullSize?"Large":void 0}),this.props.bShowDate&&D.createElement("div",{className:bl.a.DateAdded},Object(R.f)("#DLC_DateAdded",Object(R.p)(this.props.item.rtPurchaseDate))))},Object(j.c)([O.observable],e.prototype,"m_visibilityObserver",void 0),Object(j.c)([E.a],e.prototype,"RenderHover",null),Object(j.c)([E.a],e.prototype,"ToggleDLCEnabled",null),Object(j.c)([E.a],e.prototype,"ShowContextMenu",null),e}(D.PureComponent),gl=function(n){function e(e){var t=n.call(this,e)||this;return window.addEventListener("message",t.OnMessage),t.state={style:{}},t}return Object(j.d)(e,n),e.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.OnMessage)},e.prototype.OnMessage=function(e){e.data.height&&(this.setState({style:{height:e.data.height}}),this.props.visibilityObserver.visible=!0)},e.prototype.render=function(){return D.createElement("iframe",{style:this.state.style,className:Object(cr.a)(bl.a.StoreHover),src:B.a.ResolveURL("StoreAppHover",this.props.item.unAppID)})},Object(j.c)([E.a],e.prototype,"OnMessage",null),e}(D.PureComponent),yl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement(Qc,{className:Object(cr.a)(bl.a.Hover),blurElement:D.createElement(_l,{item:this.props.item,fallbackImage:this.props.fallbackImage})},D.createElement("div",{className:bl.a.TopSection},this.props.bShowArt&&D.createElement(_l,{item:this.props.item,fallbackImage:this.props.fallbackImage}),D.createElement("div",null,this.props.item.strName)),D.createElement("div",{className:bl.a.Purchased},Object(R.f)("#DLC_DateAdded",Object(R.p)(this.props.item.rtPurchaseDate))))},t}(D.PureComponent),Sl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.ManageDLC=function(e){Cl(this.props.details.unAppID,Object(Fa.n)(e),pl.Dlc)},t.prototype.ViewStoreDLC=function(e){B.a.NavigateToSteamURL("StoreDlcPage",this.props.details.unAppID)},t.prototype.RenderContextMenu=function(){return D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:this.ViewStoreDLC},Object(R.f)("#AppDetails_ViewStoreDLC")),D.createElement(Hi.d,{onSelected:this.ManageDLC},Object(R.f)("#AppDetails_ManageMyDLC")))},t.prototype.render=function(){if(0==this.props.details.vecDLC.length)return null;(t=this.props.details.vecDLC.slice()).sort(function(e,t){return e.bAvailableOnStore&&!t.bAvailableOnStore?-1:t.bAvailableOnStore&&!e.bAvailableOnStore?1:e.rtPurchaseDate==t.rtPurchaseDate?Object(Xr.f)(e.strName,t.strName):t.rtPurchaseDate-e.rtPurchaseDate});var e=this.props.details.strStoreHeaderImage,t=t.slice(0,6),n=new Set;n.add(this.props.details.rtPurchased),t.forEach(function(e){e.bAvailableOnStore&&n.add(e.rtPurchaseDate)});var r=t.filter(function(e){return e.bAvailableOnStore||!n.has(e.rtPurchaseDate)});0==r.length&&(r=[t[0]]);for(var i=[],a=0,o=r;a<o.length;a++){var s=o[a];i.push(D.createElement(vl,{key:s.unAppID,appid:this.props.details.unAppID,fallbackImage:e,item:s,bShowHover:!0}))}return D.createElement(nl,{className:bl.a.DLCSection,label:Object(R.f)("#AppDetails_SectionTitle_DLC"),rightColumnSection:!0,availableOffline:!0},D.createElement(nl.Body,null,i&&D.createElement("div",{className:bl.a.DLC},i),D.createElement("div",{className:bl.a.ButtonContainer},D.createElement(ll,{className:bl.a.SpacedButton,onClick:this.ViewStoreDLC},Object(R.f)("#AppDetails_ViewStoreDLC",this.props.details.vecDLC.length)),D.createElement(sl,{onClick:this.ManageDLC},Object(R.f)("#AppDetails_ManageDLC",this.props.details.vecDLC.length)))))},Object(j.c)([E.a],t.prototype,"ManageDLC",null),Object(j.c)([E.a],t.prototype,"ViewStoreDLC",null),Object(j.c)([E.a],t.prototype,"RenderContextMenu",null),Object(j.c)([o.observer],t)}(D.Component),wl=n("o+8i");function Cl(r,i,a){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:if("number"==typeof r){if(!(t=Xa.GetAppOverviewByAppID(r)))throw"App not found"}else t=r;return[4,ha.RequestAppDetails(t.appid)];case 1:return e.sent(),n=Object(R.f)("#AppProperties_Title",t.display_name),[2,Object(_i.b)(D.createElement(Ol,{overview:t,startingPage:a}),i||document.defaultView,{strTitle:n,bForcePopOut:!0,popupWidth:842,popupHeight:601})]}})})}function Ol(e){var t,n,r,i,a=e.overview,o=(t=a.appid,n=D.useState(ha.GetAppDetails(t)),r=n[0],i=n[1],D.useEffect(function(){return ha.RegisterForAppData(t,i).unregister},[t]),r),s=[];return o?1073741824===a.app_type?(s.push({title:Object(R.f)("#AppProperties_ShortcutPage"),identifier:pl.Shortcut,content:D.createElement(Vl,{appId:o.unAppID})}),"linux"===A.c.PLATFORM&&s.push({title:Object(R.f)("#AppProperties_CompatibilityPage"),identifier:pl.Compatibility,content:D.createElement(Al,{details:o})})):(s.push({title:Object(R.f)("#AppProperties_GeneralPage"),identifier:pl.General,content:D.createElement(El,{details:o})}),"linux"===A.c.PLATFORM&&s.push({title:Object(R.f)("#AppProperties_CompatibilityPage"),identifier:pl.Compatibility,content:D.createElement(Al,{details:o})}),s.push({title:Object(R.f)("#AppProperties_UpdatesPage"),identifier:pl.Updates,content:D.createElement(Il,{details:o})}),o.bHasAnyLocalContent&&s.push({title:Object(R.f)("#AppProperties_LocalFilesPage"),identifier:pl.LocalFiles,content:D.createElement(Tl,{details:o})}),1<o.vecLanguages.length&&7!==A.c.LAUNCHER_TYPE&&s.push({title:Object(R.f)("#AppProperties_LanguagePage"),identifier:pl.Language,content:D.createElement(Ml,{details:o})}),(0<o.vecBetas.length||o.bHasLockedPrivateBetas)&&s.push({title:Object(R.f)("#AppProperties_BetasPage"),identifier:pl.Betas,content:D.createElement(Nl,{details:o})}),s.push({title:Object(R.f)("#AppProperties_ControllerPage"),identifier:pl.Controller,content:D.createElement(Fl,{details:o})}),0<o.vecDLC.length&&s.push({title:Object(R.f)("#AppProperties_DLCPage"),identifier:pl.Dlc,content:D.createElement(zl,{details:o})})):s.push({title:Object(R.f)("#AppProperties_GeneralPage"),content:null}),D.createElement(bi.g,{onEscKeypress:e.closeModal},D.createElement(Si.r,{className:Pc.a.AppProperties,title:a.display_name,pages:s,startingPage:e.startingPage}))}function El(e){var t=e.details,n=Object(ki.a)(function(){return Jr.settings.bEnableGameOverlay}),r=t.bIsExcludedFromSharing&&!(262144&t.eAppOwnershipFlags);return D.createElement(Si.b,null,D.createElement(Yl,{label:Object(R.f)("#AppProperties_EnableOverlay"),checked:t.bOverlayEnabled&&n,onChange:function(){return SteamClient.Apps.ToggleEnableSteamOverlayForApp(t.unAppID)},disabled:!n}),D.createElement(Yl,{className:Pc.a.TopGap,label:Object(R.f)("#AppProperties_UseTheatreWhileVR"),checked:t.bVRGameTheatreEnabled,onChange:function(){return SteamClient.Apps.ToggleEnableDesktopTheatreForApp(t.unAppID)}}),D.createElement(Bl,{details:t}),D.createElement(ql,{className:Pc.a.SectionTopLine,title:Object(R.f)("#AppProperties_LaunchOptionsSection"),details:Object(R.f)("#AppProperties_LaunchOptionsDescription"),value:t.strLaunchOptions,setValue:function(e){return SteamClient.Apps.SetAppLaunchOptions(t.unAppID,e)}}),r&&D.createElement("div",{className:Pc.a.SectionTopLine},Object(R.f)("#AppProperties_SharingNotSupported")))}function Bl(e){var t=e.details,n=Object(ki.a)(function(){return Jr.settings.bCloudEnabled});return t.bCloudAvailable?D.createElement("div",{className:Object(cr.a)(Pc.a.SectionTopLine,Pc.a.SteamCloudSection)},D.createElement("div",{className:Pc.a.Title},Object(R.f)("#AppProperties_SteamCloudSection")),D.createElement("div",{className:Object(cr.a)(Pc.a.Detail)},Object(R.f)("#AppProperties_SteamCloudDescription")),D.createElement(Yl,{className:Pc.a.TopGapSmall,label:Object(R.f)("#AppProperties_EnableSteamCloud",t.strDisplayName),disabled:!n,checked:t.bCloudEnabledForApp&&n,onChange:function(){return SteamClient.Apps.ToggleAppSteamCloudEnabled(t.unAppID)}}),D.createElement("div",{className:Object(cr.a)(Pc.a.SteamCloudUsage,Pc.a.TopGapSmall)},D.createElement("span",null,Object(R.f)("#AppProperties_SteamCloudStored",t.strCloudBytesUsed))," / ",D.createElement("span",{className:Pc.a.BlueHighlight},Object(R.f)("#AppProperties_SteamCloudAvailable",t.strCloudBytesAvailable))),!n&&D.createElement("div",null,Object(R.f)("#AppProperties_SteamCloudGlobalDisabled"))):null}function Al(e){var t,n,r,i,a=e.details,o=(t=a.unAppID,n=D.useState([]),r=n[0],i=n[1],D.useEffect(function(){SteamClient.Apps.GetAvailableCompatTools(t).then(i)},[t]),r),s=Object(ki.a)(function(){return Jr.settings.bCompatEnabled}),c=s&&!!a.strCompatToolName,l=o.length?o[0].strToolName:"",u=o.map(function(e){return{data:e.strToolName,label:e.strDisplayName}});return D.createElement(Si.b,null,D.createElement(Yl,{label:Object(R.f)("#AppProperties_CompatilibityForceTool"),checked:s&&!!a.strCompatToolName,onChange:function(){return SteamClient.Apps.SpecifyCompatTool(a.unAppID,c?"":l)},disabled:!s||0===o.length}),c&&0<o.length&&D.createElement(Si.h,{strClassName:Pc.a.TopGap,rgOptions:u,selectedOption:a.strCompatToolName,onChange:function(e){return SteamClient.Apps.SpecifyCompatTool(a.unAppID,e.data)}}))}function Il(e){var t=e.details;return D.createElement(Si.b,null,D.createElement(jl,{details:t}),D.createElement(Dl,{details:t}),D.createElement("div",null,Object(R.f)("#AppProperties_AppID",t.unAppID)),D.createElement("div",null,Object(R.f)("#AppProperties_AutoUpdateBuild",t.nBuildID)),0<t.rtLastUpdated&&D.createElement("div",null,Object(R.f)("#AppProperties_AutoUpdateDate",Object(R.p)(t.rtLastUpdated),Object(R.n)(t.rtLastUpdated))))}function jl(e){var t=e.details,n=[{data:0,label:D.createElement(Rl,{title:Object(R.f)("#AppProperties_AutoUpdateAlways"),description:Object(R.f)("#AppProperties_AutoUpdateAlways_Description")})},{data:1,label:D.createElement(Rl,{title:Object(R.f)("#AppProperties_AutoUpdateOnLaunch"),description:Object(R.f)("#AppProperties_AutoUpdateOnLaunch_Description")})},{data:2,label:D.createElement(Rl,{title:Object(R.f)("#AppProperties_AutoUpdateHighPriority"),description:Object(R.f)("#AppProperties_AutoUpdateHighPriority_Description")})}];return D.createElement("div",{className:Pc.a.AutomaticUpdatesSection},D.createElement("div",{className:Pc.a.Title},Object(R.f)("#AppProperties_AutoUpdateSection")),D.createElement(Si.h,{strClassName:Pc.a.TopGapSmall,rgOptions:n,selectedOption:t.eAutoUpdateValue,onChange:function(e){return SteamClient.Apps.SetAppAutoUpdateBehavior(t.unAppID,e.data)}}))}function Dl(e){var t=e.details,n=Object(ki.a)(function(){return Jr.settings.bAllowDownloadsWhileAnyAppRunning}),r=Object(R.f)(n?"#AppProperties_BackgroundDownloadGlobal_Allow":"#AppProperties_BackgroundDownloadGlobal_Pause"),i=[{data:0,label:D.createElement(Rl,{title:r,description:Object(R.f)("#AppProperties_BackgroundDownloadGlobal_Description")})},{data:1,label:D.createElement(Rl,{title:Object(R.f)("#AppProperties_BackgroundDownloadAlways")})},{data:2,label:D.createElement(Rl,{title:Object(R.f)("#AppProperties_BackgroundDownloadNever")})}];return D.createElement(D.Fragment,null,D.createElement("div",{className:Pc.a.Title},Object(R.f)("#AppProperties_BackgroundDownloadsSection")),D.createElement("div",{className:Pc.a.Detail},Object(R.f)("#AppProperties_BackgroundDownloadsDescription",t.strDisplayName)),D.createElement(Si.h,{strClassName:Pc.a.TopGapSmall,rgOptions:i,selectedOption:t.eBackgroundDownloads,onChange:function(e){return SteamClient.Apps.SetAppBackgroundDownloadsBehavior(t.unAppID,e.data)}}))}function Rl(e){return D.createElement("div",{className:Pc.a.Option},D.createElement("div",{className:Pc.a.OptionTitle},e.title),e.description&&D.createElement("div",{className:Pc.a.OptionDescription},e.description))}function Tl(e){var t=e.details,n=Xa.GetAppOverviewByAppID(t.unAppID),r=n&&n.app_type?Object(C.c)(n.app_type):"game";return D.createElement(Si.b,null,D.createElement("div",{className:Pc.a.BrowseDiskRow},D.createElement("div",{className:Pc.a.BrowseDiskSizeLabel},Object(R.f)("#AppProperties_LocalFilesSize")),D.createElement("div",{className:Object(cr.a)(Pc.a.BlueHighlight,Pc.a.BrowseDiskSize)},t.strDiskUsageDriveLetter?Object(R.f)("#AppProperties_LocalFilesSizeOnDrive",Object(wl.a)(t.lDiskUsageBytes,2),t.strDiskUsageDriveLetter):Object(wl.a)(t.lDiskUsageBytes,2)),D.createElement(Si.d,{className:Pc.a.BrowseDiskButton,onClick:function(){return SteamClient.Apps.BrowseLocalFilesForApp(t.unAppID)}},Object(R.f)("#AppProperties_LocalFilesBrowse"))),D.createElement("div",{className:Pc.a.SectionTopLine},D.createElement(Si.d,{onClick:function(){return SteamClient.Apps.BackupFilesForApp(t.unAppID)}},Object(R.f)("#AppProperties_LocalFilesBackup_"+r)),D.createElement(Si.d,{className:Pc.a.TopGapLarge,onClick:function(){return SteamClient.Apps.VerifyFilesForApp(t.unAppID)}},Object(R.f)("#AppProperties_LocalFilesVerify_"+r)),t.bCanMoveInstallFolder&&D.createElement(Si.d,{className:Pc.a.TopGapLarge,onClick:function(){return SteamClient.Apps.MoveInstallFolderForApp(t.unAppID)}},Object(R.f)("#AppProperties_LocalFilesMove"))))}function Ml(e){var t=e.details,n=t.vecLanguages.map(function(e){return{label:"none"!==(t=e.strShortName)?Object(R.f)("#language_selection_"+t):"None",data:e.strShortName};var t});return D.createElement(Si.b,null,D.createElement("div",null,Object(R.f)("#AppProperties_SelectLanguage")),D.createElement(Si.h,{strClassName:Pc.a.TopGapSmall,rgOptions:n,selectedOption:t.selectedLanguage.strShortName,onChange:function(e){return SteamClient.Apps.SetAppCurrentLanguage(t.unAppID,e.data)}}))}function Nl(e){var t=e.details,n=D.useState(""),r=n[0],i=n[1],a=D.useState(null),o=a[0],s=a[1],c=t.vecBetas.find(function(e){return e.strName===o}),l=Object(j.g)([{label:Object(R.f)("#AppProperties_Beta_SelectNoBeta"),data:""}],t.vecBetas.map(function(e){return{label:Ll(e),data:e.strName}}));return D.createElement(Si.b,null,D.createElement("div",null,Object(R.f)("#AppProperties_Beta_SelectionDescription")),D.createElement(Si.h,{strClassName:Pc.a.TopGapSmall,strDropDownClassName:Pc.a.BetasDropDown,rgOptions:l,selectedOption:t.strSelectedBeta,onChange:function(e){e.data!==t.strSelectedBeta&&(SteamClient.Apps.JoinAppContentBeta(t.unAppID,e.data),s(null))}}),D.createElement("div",null,Object(R.f)("#AppProperties_Beta_AccessCode")),D.createElement("div",{className:Object(cr.a)(Pc.a.BetaAccessCodeRow,Pc.a.TopGapSmall)},D.createElement(Si.m,{className:Pc.a.AccessCodeInput,value:r,onChange:function(e){i(e.currentTarget.value),s(null)},onKeyDown:function(e){"string"!=typeof o&&"Enter"===e.key&&(kl(t.unAppID,r,s),s(null))}}),D.createElement(Si.d,{className:Pc.a.CheckButton,onClick:function(){return kl(t.unAppID,r,s)}},Object(R.f)("#AppProperties_Beta_CheckCode"))),!1===o&&D.createElement("div",{className:Pc.a.Detail},Object(R.f)("#AppProperties_Beta_AccessCodeInvalid")),c&&D.createElement(D.Fragment,null,D.createElement("div",{className:Pc.a.Detail},Object(R.f)("#AppProperties_Beta_AccessCodeSuccess")),t.strSelectedBeta!==c.strName&&D.createElement(Si.d,{className:Object(cr.a)("Primary",Pc.a.BetaOptIntoButton),onClick:function(){SteamClient.Apps.JoinAppContentBeta(t.unAppID,c.strName),i(""),s(null)}},Object(R.f)("#AppProperties_Beta_OptInto",Ll(c)))))}function Ll(e){return Object(C.d)(A.c.LAUNCHER_TYPE)?e.strDescription:e.strName&&e.strDescription?e.strName+" - "+e.strDescription:e.strDescription||e.strName}function kl(e,t,n){SteamClient.Apps.JoinAppContentBetaByPassword(e,t).then(function(e){return n(e.strName)},function(){return n(!1)})}function Fl(e){var t,n,r,i=e.details,a=Object(ki.a)(function(){return Jr.settings.nEnabledControllerMask}),o=(t=D.useState([]),n=t[0],r=t[1],D.useEffect(function(){return SteamClient.Input.RegisterForControllerListChanges(r).unregister},[]),n),s=[{data:0,label:D.createElement(Rl,{title:Object(R.f)("#AppProperties_SteamInputOff")})},{data:1,label:D.createElement(Rl,{title:Object(R.f)("#AppProperties_SteamInputDefaultSettings")})},{data:2,label:D.createElement(Rl,{title:Object(R.f)("#AppProperties_SteamInputOn")})}];return D.createElement(Si.b,null,D.createElement("div",null,Object(R.f)("#AppProperties_SteamInput")),D.createElement("div",{className:Pc.a.TopGap},Object(R.o)("#AppProperties_SteamInputGeneralSetting",D.createElement("span",{className:Pc.a.SteamInputLink,onClick:function(){return SteamClient.Input.ShowControllerSettings()}},Object(R.f)("#AppProperties_SteamInputGeneralSetting_Link")))),D.createElement("div",{className:Object(cr.a)(Pc.a.TopGapLarge,Pc.a.SteamInputComboHeader)},D.createElement("div",{className:Pc.a.PerGameName},Object(R.f)("#AppProperties_SteamInputOverride",i.strDisplayName)),D.createElement("div",{className:Pc.a.Detail},Object(R.f)("#AppProperties_SteamInputRequiresRestart"))),D.createElement(Si.h,{strClassName:Pc.a.TopGapSmall,rgOptions:s,selectedOption:i.eEnableThirdPartyControllerConfiguration,onChange:function(e){return SteamClient.Apps.SetThirdPartyControllerConfiguration(i.unAppID,e.data)}}),D.createElement("div",{className:Pc.a.SteamInputStatus},Object(R.f)("#AppProperties_SteamInputStatus")),D.createElement("div",{className:Object(cr.a)(Pc.a.TopGapSmall,Pc.a.SteamInputStatusGrid)},Pl.map(function(e){return D.createElement(D.Fragment,{key:e},D.createElement(Gl,{strType:e,rgConnected:o}),D.createElement(Ul,{controller:e,globalMask:a,appMask:i.eSteamInputControllerMask,perGameSupport:i.eEnableThirdPartyControllerConfiguration}))})))}(dl=pl=pl||{}).General="general",dl.Compatibility="compatibility",dl.Updates="updates",dl.LocalFiles="localfiles",dl.Language="language",dl.Betas="betas",dl.Controller="controller",dl.Shortcut="shortcut",dl.Dlc="dlc";var Pl=["Xbox","PlayStation","NintendoSwitch","Generic","Steam","Remote"];function Gl(e){var t,n=e.strType,r=0<e.rgConnected.filter(function(e){return function(e){switch(e){case 31:case 32:case 46:return"Xbox";case 33:case 34:case 45:return"PlayStation";case 39:case 40:case 41:case 38:case 42:return"NintendoSwitch";case 2:case 3:case 4:return"Steam";default:return"Generic"}}(e.eControllerType)===n}).length;return D.createElement("div",{className:Pc.a.Controller,title:r?Object(R.f)("#AppProperties_SteamInput_Connected"):null},D.createElement("div",{className:Object(cr.a)(((t={})[Pc.a.ControllerPip]=!0,t[Pc.a.ControllerConnected]=r,t))}),Object(R.f)("#AppProperties_Controller_"+n))}function Ul(e){var t=e.controller,n=e.globalMask,r=e.appMask,i=e.perGameSupport,a=!1,o="";return"Steam"===t||"Remote"===t?(a=!0,o=Object(R.f)("#AppProperties_SteamInput_ReasonRequired")):2===i?(a=!0,o=Object(R.f)("#AppProperties_SteamInput_ReasonGameOverride")):0===i?(a=!1,o=Object(R.f)("#AppProperties_SteamInput_ReasonGameOverride")):xl(t,n)?(a=!0,o=Object(R.f)("#AppProperties_SteamInput_ReasonGeneralSetting")):xl(t,r)&&(a=!0,o=Object(R.f)("#AppProperties_SteamInput_ReasonDeveloperSetting")),o?D.createElement("div",null,D.createElement("span",{className:Pc.a.SteamInputStatus},Object(R.f)(a?"#AppProperties_SteamInput_Enabled":"#AppProperties_SteamInput_Disabled")),D.createElement("span",null,o)):D.createElement("div",null)}function xl(e,t){switch(e){case"Xbox":return 0!=(2&t);case"PlayStation":return 0!=(1&t);case"NintendoSwitch":return 0!=(8&t);case"Generic":return 0!=(4&t);default:return}}function zl(e){var a=e.details,t=D.useState(""),o=t[0],n=t[1],r=D.useState(!0),s=r[0],i=r[1],c=D.useState("added"),l=c[0],u=c[1];function p(e){l===e?i(!s):(u(e),i(!0))}var d=D.useMemo(function(){var t,e,n,r,i=a.vecDLC.slice();return o&&(t=o.toLocaleLowerCase(),i=i.filter(function(e){return e.strName.toLocaleLowerCase().includes(t)})),e=i,r=s,"install"===(n=l)?e.sort(function(e){var n=Wl(!0),r=e?1:-1;return function(e,t){return e.bEnabled==t.bEnabled?n(e,t):e.bEnabled?-r:r}}(r)):"name"===n?e.sort(Wl(r)):"size"===n?e.sort(function(e){var n=e?1:-1;return function(e,t){return n*(t.lDiskUsageBytes-e.lDiskUsageBytes)}}(r)):e.sort(function(e){var n=Wl(!0),r=e?1:-1;return function(e,t){return e.rtPurchaseDate==t.rtPurchaseDate?n(e,t):r*(e.rtPurchaseDate-t.rtPurchaseDate)}}(r)),i},[a.vecDLC,o,s,l]),m=50<=a.vecDLC.length,h=d.map(function(t){return D.createElement(D.Fragment,{key:t.unAppID},D.createElement("div",{className:Pc.a.Install},D.createElement(Si.e,{checked:t.bEnabled,onChange:function(e){return SteamClient.Apps.SetDLCEnabled(a.unAppID,t.unAppID,e)}})),D.createElement("div",{className:Object(cr.a)(Pc.a.Name,m&&Pc.a.HideImages)},!m&&D.createElement(_l,{className:Pc.a.DlcArt,item:t,fallbackImage:a.strStoreHeaderImage}),D.createElement("div",{className:Pc.a.NameText},t.strName)),D.createElement("div",{className:Pc.a.Added},Object(R.p)(t.rtPurchaseDate)),D.createElement("div",{className:Pc.a.SizeDisk}," ",t.lDiskUsageBytes?Object(wl.a)(t.lDiskUsageBytes,2):""))});return D.createElement(Si.b,{className:Pc.a.NoScroll},D.createElement("div",{className:Pc.a.DlcTopRow},D.createElement(Si.d,{className:Pc.a.ViewMore,onClick:function(){return window.open("steam://url/StoreDlcPage/"+a.unAppID)}},Object(R.f)("#AppProperties_Dlc_ViewInStore")),D.createElement(Si.m,{className:Pc.a.Search,value:o,onChange:function(e){return n(e.currentTarget.value)},bShowClearAction:!0,placeholder:Object(R.f)("#AppProperties_Dlc_Search")})),D.createElement("div",{className:Pc.a.DlcGrid},D.createElement("div",{className:Pc.a.DlcHeader,onClick:function(){return p("install")}},Object(R.f)("#AppProperties_Dlc_Installed"),D.createElement(Hl,{hide:"install"!==l,ascending:s})),D.createElement("div",{className:Pc.a.DlcHeader,onClick:function(){return p("name")}},Object(R.f)("#AppProperties_Dlc_Name"),D.createElement(Hl,{hide:"name"!==l,ascending:s})),D.createElement("div",{className:Pc.a.DlcHeader,onClick:function(){return p("added")}},Object(R.f)("#AppProperties_Dlc_DateAdded"),D.createElement(Hl,{hide:"added"!==l,ascending:s})),D.createElement("div",{className:Pc.a.DlcHeader,onClick:function(){return p("size")}},Object(R.f)("#AppProperties_Dlc_SizeDisk"),D.createElement(Hl,{hide:"size"!==l,ascending:s})),h))}function Hl(e){return D.createElement("div",{className:e.hide?Pc.a.TriangleHide:e.ascending?Pc.a.TriangleDown:Pc.a.TriangleUp})}function Wl(e){var n=e?1:-1;return function(e,t){return n*Object(Xr.f)(e.strName,t.strName)}}var Vl=Object(o.observer)(function(e){var t=e.appId,n=Xa.GetAppOverviewByAppID(t),r=ha.GetAppDetails(t);return D.createElement(Si.b,null,D.createElement("div",{className:Pc.a.ShortcutRow},D.createElement("div",{className:Pc.a.Icon,onClick:function(){return SteamClient.Apps.PromptToSelectShortcutIcon(r.unAppID)}},D.createElement(co,{app:n,eAssetType:4,className:Pc.a.AssetImage})),D.createElement(ql,{className:Pc.a.Name,value:r.strDisplayName,setValue:function(e){return SteamClient.Apps.SetShortcutName(t,e)}})),D.createElement(ql,{className:Pc.a.SectionTopLine,value:r.strShortcutExe,setValue:function(e){return SteamClient.Apps.SetShortcutExe(t,e)},title:Object(R.f)("#AppProperties_Shortcut_TargetExecutable")}),D.createElement(ql,{className:Pc.a.TopGap,value:r.strShortcutStartDir,setValue:function(e){return SteamClient.Apps.SetShortcutStartDir(t,e)},title:Object(R.f)("#AppProperties_Shortcut_StartInFolder")}),D.createElement(Si.d,{className:Pc.a.ShortcutChange,onClick:function(){return SteamClient.Apps.PromptToChangeShortcut(r.unAppID)}},Object(R.f)("#AppProperties_Shortcut_BrowseFiles")),D.createElement(ql,{className:Pc.a.SectionTopLine,value:r.strLaunchOptions,setValue:function(e){return SteamClient.Apps.SetShortcutLaunchOptions(t,e)},title:Object(R.f)("#AppProperties_LaunchOptionsSection")}),D.createElement(Yl,{className:Pc.a.TopGapLarge,label:Object(R.f)("#AppProperties_Shortcut_InVR"),checked:r.bShortcutIsVR,onChange:function(){return SteamClient.Apps.SetShortcutIsVR(t,!r.bShortcutIsVR)}}))});function ql(n){var e=D.useState(n.value),t=e[0],r=e[1],i=D.useRef([]);return D.useEffect(function(){var e;0<i.current.length?-1===(e=i.current.indexOf(n.value))?(i.current=[],r(n.value)):i.current.splice(0,e+1):n.value!==t&&(i.current=[],r(n.value))},[n.value]),D.createElement("div",{className:n.className},n.title&&D.createElement("div",{className:Pc.a.Title},n.title+(t!==n.value?"...":"")),n.details&&D.createElement("div",{className:Pc.a.Detail},n.details),D.createElement(Si.m,{className:n.title?Pc.a.TopGapSmall:"",value:t,onChange:function(e){var t=e.currentTarget.value;i.current.push(t),r(t),n.setValue(t)}}))}function Yl(e){var t=e.checked,n=e.onChange,r=e.className,i=e.disabled,a=e.label;return D.createElement(Si.e,{classname:Object(cr.a)(Pc.a.Checkbox,r,i&&Pc.a.Disabled),label:a,checked:t,onChange:n,disabled:i})}function Ql(e,t){if(e.BIsAppBlocked())return null;var n=e.GetPerClientData(t);if(!n)return null;if(e.BIsPerClientDataLocal(n))switch(n.display_status){case 32:return"Uninstall";case 11:switch(e.app_type){case 8192:return"PlayMusic";case 1:case 1073741824:case 2048:case 8:case 65536:return"Play";case 2:case 4:default:return"Launch"}case 28:return e.installed?"Play":"Install";case 1:return"Cancel";case 4:return"Stop";case 7:case 6:return"Pause";case 22:case 18:return"Resume";case 23:case 24:return"Download";case 19:case 20:return"Update";case 9:return"Install";case 10:return"PreLoad";case 29:return"BorrowApp";case 31:case 27:case 30:case 17:return"PurchaseApp";case 3:case 5:case 8:case 2:case 26:return null;case 25:case 21:return null;case 12:case 13:case 14:case 16:default:return null}else switch(n.display_status){case 32:return"Uninstall";case 11:return"Stream";case 1:return"Cancel";case 4:return n.streaming_to_local_client?"Stop":"Connect";case 7:case 6:case 22:case 18:case 23:case 24:case 19:case 20:return null;case 9:case 28:return"Install";case 10:return"PreLoad";case 29:return null;case 31:case 27:case 30:case 17:return"PurchaseApp";case 3:case 5:case 8:case 2:case 26:return null;case 25:case 21:return null;case 12:case 13:case 14:case 16:default:return null}}function Zl(e,t){var n=e.GetPerClientData(t);if(e.BIsPerClientDataLocal(n))switch(n.display_status){case 3:case 13:return"Install";case 2:return"Uninstall";case 5:case 8:return null;case 25:return"Download";case 21:return"Update";case 12:case 14:return"Install";case 16:case 26:switch(e.app_type){case 1:case 1073741824:case 8192:case 2048:case 8:case 65536:return"Play";case 2:case 4:default:return"Launch"}default:return null}else switch(n.display_status){case 3:case 13:return"Install";case 5:case 8:return null;case 7:case 6:case 22:case 18:case 23:case 24:case 19:case 20:case 10:case 29:case 2:case 25:case 21:return"Stream";case 12:case 14:return"Install";case 16:case 26:return"Stream";default:return null}}function Kl(e,t){var n=e.GetPerClientData(t);if(!e.BIsPerClientDataLocal(n))return[];if(e.BIsAppBlocked())return[];switch(e.app_type){case 8192:return n.installed?["Uninstall"]:[];case 2048:return[];case 1073741824:return["RemoveShortcut","CreateDesktopShortcut"];case 1:case 2:case 4:case 8:case 65536:switch(n.display_status){case 11:case 7:case 22:case 23:case 24:case 25:case 6:case 18:case 19:case 20:case 21:case 3:case 1:case 4:case 5:case 8:case 2:case 16:case 29:case 31:case 17:return["CreateDesktopShortcut","Uninstall"];case 32:case 28:case 27:return n.installed?["Uninstall"]:[];case 9:case 10:case 26:case 30:case 12:case 13:case 14:return[]}}return[]}function Jl(r){Qa.currentGameListSelection.nAppId==r&&4==Qa.mainPanelMode&&Qa.NavigateToHome(),window.setTimeout(function(){SteamClient.Apps.RemoveShortcut(r);for(var e=0,t=mi.userCollections;e<t.length;e++){var n=t[e];n.bAllowsDragAndDrop&&n.apps.has(r)&&n.AsDragDropCollection().RemoveApps([Xa.GetAppOverviewByAppID(r)])}},500)}function Xl(e,t,n,r){ha.BHasRecentlyLaunched(e.appid)||(ha.MarkAppAsRecentlyLaunched(e.appid),SteamClient.Apps.RunGame(e.GetGameID(),"",-1,r))}function $l(e,t,n,r){var i=t.GetPerClientData(n);switch(e){case"Play":case"Launch":return Object(w.a)(t.BIsPerClientDataLocal(i),"Local-only app action for non-local client data"),function(){return Xl(t,0,0,r)};case"Connect":case"Stream":return function(){return SteamClient.Apps.StreamGame(t.appid,i.clientid,-1)};case"Cancel":return Object(w.a)(t.BIsPerClientDataLocal(i),"Local-only app action for non-local client data"),function(){return SteamClient.Apps.CancelLaunch(t.GetGameID())};case"Stop":return function(){return SteamClient.Apps.ShutdownApp(t.GetGameID())};case"Pause":return Object(w.a)(t.BIsPerClientDataLocal(i),"Local-only app action for non-local client data"),function(){return SteamClient.Downloads.PauseAppUpdate(t.appid)};case"Download":case"Resume":case"Update":return Object(w.a)(t.BIsPerClientDataLocal(i),"Local-only app action for non-local client data"),function(){return SteamClient.Downloads.ResumeAppUpdate(t.appid)};case"PreLoad":case"Install":return t.BIsPerClientDataLocal(i)?function(){return SteamClient.Installs.OpenInstallWizard([t.appid])}:function(){return SteamClient.Apps.StreamGame(t.appid,i.clientid,-1)};case"Uninstall":return Object(w.a)(t.BIsPerClientDataLocal(i),"Local-only app action for non-local client data"),function(){return Ia([t.appid])};case"RemoveShortcut":return Object(w.a)(t.BIsPerClientDataLocal(i),"Local-only app action for non-local client data"),function(){return Jl(t.appid)};case"BorrowApp":return Object(w.a)(t.BIsPerClientDataLocal(i),"Local-only app action for non-local client data"),function(){return Xl(t,0,0,r)};case"PurchaseApp":return function(){return SteamClient.Apps.ShowStore(t.appid)};case"GameProperties":return function(){return SteamClient.Apps.OpenAppSettingsDialog(t.appid,"")};case"CreateDesktopShortcut":return function(){return SteamClient.Apps.CreateDesktopShortcutForApp(t.appid).catch(function(e){return console.error("CreateDesktopShortcutForApp failed:",e)})};case"BrowseLocalFiles":return function(){return SteamClient.Apps.BrowseLocalFilesForApp(t.appid)};case"PlayMusic":return function(){return window.location.href="steam://musicplayer/playappalbum/"+t.appid};default:return null}}function eu(e){switch(e){case"Play":case"PlayMusic":case"Launch":case"Stream":case"Connect":return D.createElement(_r.ab,null);case"Cancel":case"Stop":return D.createElement(_r.Jb,null);case"Pause":return D.createElement(_r.Z,null);case"Download":case"Resume":case"PreLoad":case"Install":return D.createElement(_r.x,null);case"Update":return D.createElement(_r.gb,null);case"Uninstall":case"RemoveShortcut":return D.createElement(_r.yb,null);case"PurchaseApp":return D.createElement(_r.I,null);case"BorrowApp":case"GameProperties":case"CreateDesktopShortcut":case"BackUpFiles":case"Launching":default:return null}}function tu(e){var t="PurchaseApp";return D.createElement(Hi.c,null,D.createElement(Hi.d,{className:Object(cr.a)(t,Xs.a.ContextMenuAction),onSelected:function(){return SteamClient.Apps.ShowStore(e.appid)}},eu(t),Object(R.f)("#Library_FriendsActivity_UnownedMenu_Store")),D.createElement(Hi.d,{onSelected:function(){return B.a.NavigateToSteamURL("GameHub",e.appid)}},Object(R.f)("#Library_FriendsActivity_UnownedMenu_Hub")),D.createElement(Hi.d,{onSelected:function(){return window.location.href=B.a.ResolveURL("GameHubReviews",e.appid)}},Object(R.f)("#Library_FriendsActivity_UnownedMenu_Reviews")),D.createElement(Hi.d,{onSelected:function(){return window.location.href=B.a.ResolveURL("GameHubDiscussions",e.appid)}},Object(R.f)("#Library_FriendsActivity_UnownedMenu_Discussions")))}var nu=function(n){function e(e){var t=n.call(this,e)||this;return t.m_hAppDetails=null,t.m_hAppDetails=ha.RegisterForAppData(t.props.overview.appid),t}return Object(j.d)(e,n),e.prototype.componentWillUnmount=function(){this.m_hAppDetails&&this.m_hAppDetails.unregister()},e.prototype.GetTargetApps=function(){var t=this;if(this.props.includeMultiSelect&&hi.GetSelectedAppsInContext().some(function(e){return e.appid==t.props.overview.appid&&e.strCollectionId==t.props.strCollectionId}))return hi.GetSelectedAppIds().map(function(e){return Xa.GetAppOverviewByAppID(e)});return[this.props.overview]},e.prototype.AddToFavorites=function(e){mi.SetAppsAsFavorite(e,!0)},e.prototype.RemoveFromFavorites=function(e){mi.SetAppsAsFavorite(e,!1)},e.prototype.AddToHidden=function(e){mi.SetAppsAsHidden(e,!0)},e.prototype.RemoveFromHidden=function(e){mi.SetAppsAsHidden(e,!1)},e.prototype.RemoveLicense=function(){var e,t,n,r=this.GetTargetApps();1==r.length&&(e=r[0],t=ha.GetAppDetails(e.appid),n=t,Object(_i.d)(D.createElement(Ec,{details:n}),window,{strTitle:Ec.Title()}))},e.prototype.AddToNewCollection=function(e,t){Ai(Object(Fa.n)(e),t,"context-menu")},e.prototype.ToggleFamilyBlockedState=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];Za.ToggleAppBlockedState(r)}},e.prototype.ShowCDKeys=function(){window.location.href="steam://cdkeys/"+this.props.overview.appid},e.prototype.ShowControllerConfig=function(){window.location.href="steam://currentcontrollerconfig/"+this.props.overview.appid},e.prototype.DismissFromPlayNext=function(){Nc.AddIgnoredApp(this.props.overview.appid)},e.prototype.GetCollectionManagementActions=function(i){for(var t=this,a=[],o=[],e=0,n=mi.userCollections;e<n.length;e++){!function(e){if(!e.bAllowsDragAndDrop||mi.BIsSystemCollectionId(e.id)||mi.BIsPartnerCollectionId(e.id))return;var t=e.AsDragDropCollection(),n=i.some(function(e){return t.apps.has(e.appid)}),r=i.some(function(e){return!t.apps.has(e.appid)});n&&o.push(D.createElement(Hi.d,{key:"remove-from-"+e.id,onSelected:function(){return t.RemoveApps(i)},className:ec.a.UpperCase},e.displayName)),a.push(D.createElement(Hi.d,{key:"add-to-"+e.id,disabled:!r,onSelected:function(){return t.AddApps(i)},className:ec.a.UpperCase},e.displayName))}(n[e])}return a.push(D.createElement(Hi.d,{key:"add-all-to-new",className:0<a.length&&ec.a.StrongerSeparation,onSelected:function(e){return t.AddToNewCollection(e,i)}},D.createElement(_r.cb,null),Object(R.f)("#GameAction_AddToCollectionOption_NewCollection"))),{rgCanAdd:a,rgCanRemove:o}},e.prototype.GetPrimaryActionMenuItem=function(e,t){if(1==e.length){var n=Ql(e[0],t),r=n;return n&&D.createElement(Hi.d,{className:Object(cr.a)(r,Xs.a.ContextMenuAction),onSelected:$l(n,e[0],t,this.props.launchSource)},eu(n),Dc(n,1))}var i=e.filter(function(e){return"Install"==Ql(e,"local")}),a=e.filter(function(e){return"Download"==Ql(e,"local")}),o=e.filter(function(e){return"Update"==Ql(e,"local")}),s=e.filter(function(e){return"Resume"==Ql(e,"local")}),c=e.filter(function(e){return"PreLoad"==Ql(e,"local")}),l=i.length+a.length+o.length+s.length+c.length;if(0==l)return null;var u=a.length==l?"Download":o.length==l?"Update":s.length==l?"Resume":c.length==l?"PreLoad":"Install",p=i.concat(c).map(function(e){return e.appid});return D.createElement(Hi.d,{onSelected:function(){0<p.length&&SteamClient.Installs.OpenInstallWizard(p);for(var e=0,t=a.concat(o).concat(s);e<t.length;e++){var n=t[e];SteamClient.Downloads.ResumeAppUpdate(n.appid)}}},eu(u),Dc(u,e.length))},e.prototype.GetOnSelectFunctionForAppActions=function(e,t,n){return 1==t.length?$l(e,t[0],n,this.props.launchSource):function(t,e,n){Object(w.a)("local"==n,"Bulk management actions currently only supported on local clients");var r=e.filter(function(e){return-1!=Kl(e,n).indexOf(t)}).map(function(e){return e.appid});switch(t){case"Uninstall":return function(){return Ia(r)};case"RemoveShortcut":return function(){return r.forEach(Jl)};case"CreateDesktopShortcut":return function(){return r.forEach(function(e){return SteamClient.Apps.CreateDesktopShortcutForApp(e).catch(function(e){return console.error("CreateDesktopShortcutForApp failed:",e)})})};default:return console.error("Unsupported bulk operation",t),function(){}}}(e,t,"local")},e.prototype.BuildManageSubmenu=function(e,t,n){var r=this,i=1==e.length&&ha.GetAppDetails(e[0].appid),a=1==e.length&&8==e[0].app_type,o=e.filter(function(e){return e.BIsAppInBlockList()&&!e.BIsModOrShortcut()}).map(n),s=e.filter(function(e){return!e.BIsAppInBlockList()&&!e.BIsModOrShortcut()}).map(n),c=e.map(n).filter(function(e){return mi.BIsHidden(e)}),l=e.map(n).filter(function(e){return!mi.BIsHidden(e)}),u=i&&this.props.overview.installed,p=1==e.length?Kl(e[0],t):function(e,t){for(var n=new Set,r=0,i=e;r<i.length;r++)for(var a=0,o=Kl(i[r],t);a<o.length;a++){var s=o[a];n.add(s)}return["RemoveShortcut","CreateDesktopShortcut","Uninstall"].filter(function(e){return n.has(e)})}(e,t),d=p.includes("CreateDesktopShortcut"),m=p.includes("RemoveShortcut"),h=p.includes("Uninstall"),f="play-next"==this.props.strCollectionId,b=!1;return i&&(i.bFreeRemovableLicense&&!a&&(b=!0),i.unMasterSubAppID&&(b=!0)),D.createElement(Hi.e,{label:Object(R.f)("#GameAction_Manage")},0<c.length&&D.createElement(Hi.d,{onSelected:function(){return r.RemoveFromHidden(c)}},Dc("RemoveFromHidden",e.length)),d&&D.createElement(Hi.d,{key:"AddDesktopShortcut",onSelected:this.GetOnSelectFunctionForAppActions("CreateDesktopShortcut",e,t)},Dc("CreateDesktopShortcut",e.length)),Za.isEnabled&&!Za.isLocked&&0<o.length&&D.createElement(Hi.d,{onSelected:function(){return r.ToggleFamilyBlockedState(o)}},Dc("AddToFamilyGames",e.length)),Za.isEnabled&&!Za.isLocked&&0<s.length&&D.createElement(Hi.d,{onSelected:function(){return r.ToggleFamilyBlockedState(s)}},Dc("RemoveFromFamilyGames",e.length)),i&&i.bShowCDKeyInMenus&&D.createElement(Hi.d,{onSelected:this.ShowCDKeys},Object(R.f)("#GameAction_ViewCDKeys")),i&&i.bShowControllerConfig&&D.createElement(Hi.d,{onSelected:this.ShowControllerConfig},Object(R.f)("#GameAction_ControllerConfiguration")),i&&f&&D.createElement(Hi.d,{onSelected:this.DismissFromPlayNext},Object(R.f)("#GameAction_DismissPlayNext")),this.props.onChangeArtwork&&D.createElement(Hi.d,{onSelected:this.props.onChangeArtwork},Dc(this.props.hasCustomArtwork?"ClearCustomArtwork":"SetCustomArtwork")),u&&D.createElement(Hi.d,{onSelected:$l("BrowseLocalFiles",e[0],t,this.props.launchSource)},Object(R.f)("#GameAction_BrowseLocalFiles")),0<l.length&&D.createElement(Hi.d,{onSelected:function(){return r.AddToHidden(l)}},Dc("AddToHidden",e.length)),b&&D.createElement(Hi.d,{onSelected:this.RemoveLicense},Object(R.f)("#GameAction_RemoveGameLicense")),m&&D.createElement(Hi.d,{key:"RemoveShortcut",onSelected:this.GetOnSelectFunctionForAppActions("RemoveShortcut",e,t)},Dc("RemoveShortcut",e.length)),h&&D.createElement(Hi.d,{key:"Uninstall",onSelected:this.GetOnSelectFunctionForAppActions("Uninstall",e,t)},Dc("Uninstall",e.length)))},e.prototype.render=function(){function e(e){return e.appid}var t=this,n=this.GetTargetApps(),r=n.map(e).filter(function(e){return mi.BIsFavorite(e)}),i=n.map(e).filter(function(e){return!mi.BIsFavorite(e)}),a=this.GetCollectionManagementActions(n),o=a.rgCanAdd,s=a.rgCanRemove,c=this.props.client;return D.createElement(Hi.c,{label:1==n.length?n[0].display_name:null},!this.props.omitPrimaryAction&&this.GetPrimaryActionMenuItem(n,c),0<r.length&&D.createElement(Hi.d,{onSelected:function(){return t.RemoveFromFavorites(r)}},Dc("RemoveFromFavorites",n.length)),0<i.length&&D.createElement(Hi.d,{onSelected:function(){return t.AddToFavorites(i)}},Dc("AddToFavorites",n.length)),0<o.length&&D.createElement(Hi.e,{label:Dc("AddToCollection",n.length)},o),0<s.length&&D.createElement(Hi.e,{label:Dc("RemoveFromCollection",n.length)},s),this.BuildManageSubmenu(n,c,e),D.createElement(iu,{rgApps:n}),1==n.length&&D.createElement(Hi.d,{className:ec.a.StrongerSeparation,onSelected:function(e){return Cl(n[0],e.currentTarget.ownerDocument.defaultView)}},Object(R.f)("#GameAction_GameProperties")))},Object(j.c)([E.a],e.prototype,"GetTargetApps",null),Object(j.c)([E.a],e.prototype,"AddToFavorites",null),Object(j.c)([E.a],e.prototype,"RemoveFromFavorites",null),Object(j.c)([E.a],e.prototype,"AddToHidden",null),Object(j.c)([E.a],e.prototype,"RemoveFromHidden",null),Object(j.c)([E.a],e.prototype,"RemoveLicense",null),Object(j.c)([E.a],e.prototype,"AddToNewCollection",null),Object(j.c)([E.a],e.prototype,"ToggleFamilyBlockedState",null),Object(j.c)([E.a],e.prototype,"ShowCDKeys",null),Object(j.c)([E.a],e.prototype,"ShowControllerConfig",null),Object(j.c)([E.a],e.prototype,"DismissFromPlayNext",null),Object(j.c)([E.a],e.prototype,"GetPrimaryActionMenuItem",null),Object(j.c)([o.observer],e)}(D.Component);function ru(){return{bFitToWindow:!0,strClassName:Object(cr.a)(ec.a.contextMenu,Xs.a.LibraryContextMenu)}}function iu(e){return null}var au=n("pb2U"),ou=n.n(au),su=["#StreamingClient_Select_RemotePlayTVMobile","#StreamingClient_Select_RemotePlayPhone","#StreamingClient_Select_RemotePlayTablet","#StreamingClient_Select_RemotePlayMobile","#StreamingClient_Select_RemotePlayTV","#StreamingClient_Select_RemotePlayTVPhone","#StreamingClient_Select_RemotePlayTVTablet","#StreamingClient_Select_RemotePlayTVMobile"],cu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_elDropDownRef=D.createRef(),e.m_bShowRemotePlayAppOptions=!0,e}return Object(j.d)(e,t),e.prototype.OnClick=function(e){var t=$l(Ql(this.props.overview,"selected"),this.props.overview,"selected",100);t&&t(),this.props.bNavigateToApp&&11==this.props.overview.selected_per_client_data.display_status&&Qa.NavigateToApp(this.props.overview.appid),e.stopPropagation(),e.preventDefault()},e.prototype.GetRemotePlayAnywhereSupportBitFlags=function(){for(var e=0,t=0,n=this.props.overview.store_category;t<n.length;t++){switch(n[t]){case 41:e|=1;break;case 42:e|=2}}return e},e.prototype.ShowStreamingMenu=function(e){for(var t=this,n=[],r=function(e){return D.createElement(Hi.d,Object(j.a)({},e,{className:ou.a.StreamingContextMenuItem}))},i=this,a=0,o=this.props.overview.per_client_data;a<o.length;a++){!function(e){n.push(D.createElement(r,{key:e.clientid,onSelected:function(){SteamClient.Apps.SetStreamingClientForApp(t.props.overview.appid,e.clientid)}},(i.props.overview.selected_clientid==e.clientid||i.props.overview.BIsSelectedClientLocal()&&"0"==e.clientid)&&D.createElement(_r.n,null)," ","0"==e.clientid?Object(R.f)("#StreamingClient_Select_ThisMachine"):e.client_name))}(o[a])}var s=this.GetRemotePlayAnywhereSupportBitFlags();this.m_bShowRemotePlayAppOptions&&0!==s&&n.push(D.createElement(r,{key:-1,onSelected:function(){window.location.href=A.c.STORE_BASE_URL+"remoteplay#anywhere_how"}},D.createElement(_r.K,null)," ",Object(R.f)(su[s])));var c=D.createElement(Hi.c,null,n);Object(zi.a)(c,this.m_elDropDownRef.current,{bOverlapHorizontal:!0}),e.stopPropagation(),e.preventDefault()},e.prototype.render=function(){if(13==this.props.overview.selected_per_client_data.display_status)return null;var e=this.props,t=e.overview,n=e.buttonStyle,r=e.className,i=e.bShowStreamingSelector,a=(e.strGameActionDetailsOverride,e.bFakeActions),o=(e.bNavigateToApp,e.onFocus),s=Object(j.f)(e,["overview","buttonStyle","className","bShowStreamingSelector","strGameActionDetailsOverride","bFakeActions","bNavigateToApp","onFocus"]),c="long"==n,l=Ql(t,"selected"),u=Zl(t,"selected"),p=!(l||u),d=i&&(1<t.per_client_data.length||this.m_bShowRemotePlayAppOptions&&0!==this.GetRemotePlayAnywhereSupportBitFlags());ha.BHasRecentlyLaunched(t.appid)&&(u="Launching",p=!(l=null));var m="";return(l||u)&&(m=Dc(l||u)),D.createElement("div",Object(j.a)({className:Object(cr.a)(r,c&&ou.a.LongButton,ou.a.PlayButtonContainer,!l&&ou.a.Disabled,("Play"==l||"Launch"==l||"Stream"==l||"Connect"==l)&&ou.a.Green,d&&ou.a.ShowingStreaming)},s),D.createElement(Ni.c,{navStop:!0,tabStop:!0,startFocused:!0,className:Object(cr.a)(ou.a.PlayButton,ou.a.ButtonChild,!l&&!u&&ou.a.NoAction),onMouseUp:a?this.OnClick:void 0,onClick:a?void 0:this.OnClick,onFocus:o},l&&eu(l),!l&&u&&eu(u),0<m.length&&D.createElement("div",{className:Object(cr.a)(ou.a.ButtonText,p&&ou.a.ButtonThrobberPadding)},m),p&&D.createElement("div",{className:ou.a.ThrobberContainer},D.createElement(Pi.a,{className:ou.a.Throbber,position:"center",size:"small"}))),d&&D.createElement(Ni.c,{navStop:!0,className:Object(cr.a)(ou.a.StreamingSelector,ou.a.ButtonChild),onMouseUp:a?this.ShowStreamingMenu:void 0,onClick:a?void 0:this.ShowStreamingMenu,htmlElementRef:this.m_elDropDownRef},D.createElement(_r.G,{angle:180})))},Object(j.c)([E.a],e.prototype,"OnClick",null),Object(j.c)([E.a],e.prototype,"GetRemotePlayAnywhereSupportBitFlags",null),Object(j.c)([E.a],e.prototype,"ShowStreamingMenu",null),Object(j.c)([o.observer],e)}(D.Component);function lu(e,t){if(void 0===t&&(t="#Played_"),120<=e){var n=e/60,n=Math.floor(10*n)/10,r=R.e.GetPreferredLocales(),i=n.toLocaleString(r,{minimumFractionDigits:0,maximumFractionDigits:1});return Object(R.f)(t+"Hours",i)}return Object(R.f)(t+"Minutes",e)}var uu=n("ksWZ"),pu=n.n(uu);function du(e){return D.createElement(D.Fragment,null,D.createElement("span",{className:pu.a.partyBeaconJoin},Object(R.f)("#User_WantsToPlay"))," – ",e.persona.GetCurrentGameName())}var mu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.onContextMenu,r=e.persona,i=e.eFriendRelationship,a=e.bIsSelf,o=e.bParenthesizeNicknames,s=e.strNickname,c=e.bCompactView,l=e.bHideGameName,u=e.bHideEnhancedRichPresenceLabel,p=e.bHideSnooze,d=e.renderStatus,m=e.renderRichPresence,h=e.bHidePersona,f=e.bDNDSet,b=e.bHasPartyBeacon,_=e.bHasGamePrivacy,v=e.bNoMask,g=Object(j.f)(e,["className","onContextMenu","persona","eFriendRelationship","bIsSelf","bParenthesizeNicknames","strNickname","bCompactView","bHideGameName","bHideEnhancedRichPresenceLabel","bHideSnooze","renderStatus","renderRichPresence","bHidePersona","bDNDSet","bHasPartyBeacon","bHasGamePrivacy","bNoMask"]),y=null,S=null,w=null,C=[t,pu.a.personaNameAndStatusLabel,ft(r),c&&pu.a.compactView,v&&pu.a.NoMask];d?S=d():b||r.has_public_party_beacon?S=D.createElement(du,{persona:r}):Object(k.b)(i)?(S=Object(R.f)("#PersonaStateBlocked"),C.push(pu.a.blocked)):r.is_ingame?(S=!r.is_in_nonsteam_game||a||Object(k.c)(i)?r.GetCurrentGameName():Object(R.f)("#PersonaStateInNonSteamGame"),a||h?a&&r.is_awayOrSnooze&&(w=Object(R.f)("#PersonaStateAway")):w=r.GetCurrentGameRichPresence()):r.m_broadcastAccountId&&(S=Object(R.f)("#PersonaStateWatchingBroadcast")),S=S||r.GetLocalizedOnlineStatus();var O=!1===p?!0:!h&&!p;r.is_awayOrSnooze&&O&&(y=D.createElement(pr,{persona:r}));var E=null;n?E=D.createElement("div",{className:"ContextMenuButton",onClick:n},D.createElement(_r.w,null)):C.push(pu.a.noContextMenu),h&&C.push(pu.a.hidePersona),m&&(w=m()),!l&&w||C.push(pu.a.twoLine);var B=s&&!o,A=B?s:r.m_strPlayerName,I=!h&&(!l||!w)&&!u&&w;return D.createElement("div",Object(j.a)({},g,{className:cr.a.apply(void 0,C),onContextMenu:n}),D.createElement("div",{className:Object(cr.a)(pu.a.statusAndName,I&&pu.a.threeLines)},D.createElement("div",{className:pu.a.playerName},A||" ",o&&s&&D.createElement("span",{className:pu.a.playerNickname},"(",s,")")),f&&D.createElement("div",{className:pu.a.DNDContainer,title:Object(R.f)("#User_ToggleDoNotDisturb")},D.createElement(_r.u,null)),B&&D.createElement("span",{className:pu.a.playerNicknameBracket,title:Object(R.f)("#isNickname")}," *"),D.createElement(yr,{persona:r}),y,(r.m_bPlayerNamePending||r.m_bAvatarPending)&&D.createElement("div",{className:pu.a.PendingPersona,title:Object(R.f)("#SteamChina_PendingPersonaName")},D.createElement(_r.o,null)),E),!h&&D.createElement("div",{className:pu.a.richPresenceContainer},(!l||!w)&&D.createElement("div",{className:Object(cr.a)(pu.a.gameName,pu.a.richPresenceLabel,"no-drag")},_&&D.createElement("div",{className:pu.a.gameIsPrivateIcon,title:Object(R.f)("#User_GameInfoHidden")},D.createElement(_r.J,null)),S),!u&&w&&D.createElement("div",{className:Object(cr.a)(pu.a.richPresenceLabel,"no-drag")},w," ")))},Object(j.c)([o.observer],t)}(D.Component),hu=Object(o.observer)(function(e){var t=e.persona,n=e.bParenthesizeNicknames,r=e.strNickname,i=e.className,a=Object(j.f)(e,["persona","bParenthesizeNicknames","strNickname","className"]),o=r&&!n?r:t.m_strPlayerName;return D.createElement("span",Object(j.a)({},a,{className:Object(cr.a)(i,ft(t))}),D.createElement("span",{className:pu.a.playerName},o||" ",n&&r&&D.createElement("span",{className:pu.a.playerNickname},"(",r,")")))});function fu(e,t){e.shiftKey||(ei.bSignedIn?SteamClient.Messaging.PostMessage("ContextMenus","ShowFriendContextMenu",JSON.stringify({steamid:t.persona.m_steamid.ConvertTo64BitString(),x:e.screenX,y:e.screenY})):Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:function(){window.location.href="steam://open/friends"}},Object(R.f)("#FriendContextMenu_OpenFriends")),D.createElement(Hi.d,{onSelected:function(){B.a.NavigateToSteamURL("SteamIDPage",t.persona.m_steamid.ConvertTo64BitString())}},Object(R.f)("#FriendContextMenu_ViewProfile"))),e),e.stopPropagation(),e.preventDefault())}function bu(e){SteamClient.Messaging.PostMessage("LibraryCommands","ShowFriendChatDialog",JSON.stringify({steamid:e.persona.m_steamid.ConvertTo64BitString()}))}var _u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props.friend;e.miniProfileData.EnsureCommunityDataLoaded();var t,n,r,i={persona:this.props.friend.persona,data_loader:e.miniProfileData,is_friend:!0};return e.nickname&&(i.nickname=e.nickname),this.props.renderPlaytime&&(n=(t=this.props.renderPlaytime())[0],(r=t[1])&&(n?i.in_game_section_additional=r:i.bottom_section_additional=r)),D.createElement(Dr,Object(j.a)({},i))},Object(j.c)([o.observer],t)}(D.Component),vu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.RenderMiniProfile=function(){return this.props.friend.miniProfileData.EnsureCommunityDataLoaded(),D.createElement(_u,{friend:this.props.friend,renderPlaytime:this.props.renderPlaytime})},t.prototype.OnMouseEnter=function(e){this.props.friend.miniProfileData.EnsureCommunityDataLoaded()},t.prototype.render=function(){var e=this.props,t=e.friend,n=e.size,r=e.onClick,i=e.statusStyle,a=e.statusPosition,o=(e.renderPlaytime,Object(j.f)(e,["friend","size","onClick","statusStyle","statusPosition","renderPlaytime"])),s=t.persona,c=r?void 0:function(e){bu(t)};return D.createElement(zc,Object(j.a)({},o,{strKey:"avatar_"+s.m_steamid.GetAccountID(),onMouseEnter:this.OnMouseEnter,renderHover:this.RenderMiniProfile,style:{width:"fit-content"}}),D.createElement(fr,{persona:s,size:n,statusStyle:i,statusPosition:a,onClick:r,onDoubleClick:c,onContextMenu:function(e){fu(e,t)}}))},Object(j.c)([E.a],t.prototype,"RenderMiniProfile",null),Object(j.c)([E.a],t.prototype,"OnMouseEnter",null),Object(j.c)([o.observer],t)}(D.Component),gu=n("fWuz"),yu=n("Ri1+"),Su=n.n(yu),wu=n("D4wO"),Cu=function(n){function e(e){var t=n.call(this,e)||this;return t.m_resizeObserver=new ResizeObserver(t.OnResize),t.state={bExpanded:void 0,bHeightOverflows:!0,nItemsHidden:0,nBoxHeight:1},t.m_contentRef=D.createRef(),t}return Object(j.d)(e,n),e.prototype.SetOverflowState=function(){var t,e=this.CalculateMaxHeight(),n=e.nBoxHeight,r=e.nItemsHidden;this.m_contentRef.current&&((t=this.m_contentRef.current.scrollHeight>n)==this.state.bHeightOverflows&&r==this.state.nItemsHidden&&n==this.state.nBoxHeight||this.setState(function(e){return{bHeightOverflows:t,nItemsHidden:r,nBoxHeight:n}}))},e.prototype.ButtonText=function(){if(this.state.bExpanded)return this.props.collapseString||Object(R.f)("#OverflowBox_Action_Collapse");var e=this.props.expandString||Object(R.f)("#OverflowBox_Action_Expand");return this.props.nMaxRows&&(e+=" "+Object(R.f)("#OverflowBox_More",this.state.nItemsHidden)),e},e.prototype.componentDidMount=function(){this.forceUpdate(),this.m_contentRef.current&&this.m_resizeObserver.observe(this.m_contentRef.current),this.SetOverflowState()},e.prototype.componentWillUnmount=function(){this.m_resizeObserver.disconnect()},e.prototype.OnResize=function(){this.SetOverflowState()},e.prototype.getBoxHeight=function(){return this.m_contentRef?this.m_contentRef.current.scrollHeight:220},e.prototype.CalculateMaxHeight=function(){if(this.props.nMaxRows){var e,t,n,r,i=D.Children.count(this.props.children),a=void 0,o=1,s=0,c=1;return this.m_contentRef.current&&0!=this.m_contentRef.current.getClientRects().length?(e=this.m_contentRef.current.getClientRects()[0].width,t=Math.floor(e),n=this.m_contentRef.current.children[0].getClientRects()[0].width,r=Math.floor(n),o=Math.max(1,Math.floor(t/r)),a=Math.min(i,this.props.nMaxRows*o),s=this.m_contentRef.current.children[0].getClientRects()[0].height,c=Math.floor(s)):a=1,{nBoxHeight:Math.ceil(a/o)*c,nItemsHidden:i-a}}return{nBoxHeight:this.props.pxOverflowHeight||220,nItemsHidden:0}},e.prototype.render=function(){var e,t,n,r=this.props,i=r.classNameWhenHidden,a=r.classNameWhenExpanded,o=r.buttonClass,s=r.suppressTransitions,c=r.suppressMask,l=r.className,u=Object(cr.a)(o,Su.a.ButtonContainer),p={maxHeight:this.state.bExpanded?this.getBoxHeight():this.CalculateMaxHeight().nBoxHeight+"px"};return this.props.nMaxRows&&(p.display="flex",p.flexDirection="row",p.flexWrap="wrap"),n=this.state.bHeightOverflows?(t=this.state.bExpanded?(e=a,Su.a.BoxExpanded):(e=i,Su.a.BoxCollapsed),D.createElement("div",{className:Su.a.ButtonContainer},D.createElement(gu.r,{className:Object(cr.a)(u,Su.a.ShorterButton),onClick:this.ToggleExpanded},this.ButtonText()))):(e=a,null),D.createElement("div",{className:Object(cr.a)(Su.a.OverflowBox,void 0!==this.state.bExpanded&&Su.a.ExplicitlyCollapsed,l)},D.createElement("div",{ref:this.m_contentRef,className:Object(cr.a)(e,Su.a.OverflowBoxContent,t,s&&Su.a.NoTransitions,c&&Su.a.NoMask),style:p},this.props.children),n)},e.prototype.ToggleExpanded=function(){this.setState(function(e){return{bExpanded:!e.bExpanded}})},Object(j.c)([E.a,Object(wu.a)(100)],e.prototype,"OnResize",null),Object(j.c)([E.a],e.prototype,"ToggleExpanded",null),e}(D.Component),Ou=n("WI8n"),Eu=n.n(Ou);var Bu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.friend,r=e.appid,i=e.bHideRichPresence,a=e.renderStatus,o=e.renderPlaytime,s=e.onAvatarClick,c=Object(j.f)(e,["className","friend","appid","bHideRichPresence","renderStatus","renderPlaytime","onAvatarClick"]),l=n.persona,u=n.nickname;return D.createElement("div",Object(j.a)({},c,{className:Object(cr.a)(t,Eu.a.AvatarAndLabel),onDoubleClick:function(e){bu(n)},onContextMenu:function(e){fu(e,n)}}),D.createElement(vu,{friend:n,size:"Medium",statusPosition:"right",onClick:s,renderPlaytime:o}),D.createElement(mu,{className:Eu.a.LabelHolder,persona:l,eFriendRelationship:3,bIsSelf:!1,bCompactView:!1,strNickname:u,bParenthesizeNicknames:Jr.communityPreferences.bParenthesizeNicknames,bHideGameName:l.m_unGamePlayedAppID==r,renderStatus:a,bHideEnhancedRichPresenceLabel:i,bNoMask:!0}))},Object(j.c)([o.observer],t)}(D.Component),Au=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_elContainer=D.createRef(),e}return Object(j.d)(e,t),e.prototype.VisitWishlist=function(e,t){window.location.href=B.a.GetStoreURL()+("wishlist/profiles/"+t.persona.m_steamid.ConvertTo64BitString())+"/#sort=order&term="+this.props.details.strDisplayName},e.prototype.SortByPlaytime=function(e,t){var n=Jr.communityPreferences.bParenthesizeNicknames,r=!Jr.friendSettings.bForceAlphabeticFriendSorting,i=0;if("ingame"==this.props.type&&0!=(i=bt.SortStatusComparator(r,e.friend.persona,t.friend.persona)))return i;if("wishlist"!=this.props.type){if("ever"!=this.props.type&&0!=(i=t.playtime.minutes_played-e.playtime.minutes_played))return i;if(0!=(i=t.playtime.minutes_played_forever-e.playtime.minutes_played_forever))return i}return n?Object(Xr.f)(e.friend.persona.m_strPlayerName,t.friend.persona.m_strPlayerName):Object(Xr.f)(e.friend.nickname?e.friend.nickname:e.friend.persona.m_strPlayerName,t.friend.nickname?t.friend.nickname:t.friend.persona.m_strPlayerName)},e.prototype.RenderPlaytimeStatus=function(e){var t="ever"==this.props.type?lu(e.playtime.minutes_played_forever,"#Playtime_Total_"):lu(e.playtime.minutes_played,"#Playtime_TwoWeeks_");return D.createElement("div",{className:Eu.a.PlaytimeStatus},t)},e.prototype.render=function(){var s=this,e=this.props,t=e.className,c=e.details,n=e.strHeaderTag,r=e.vecFriends,l=e.bIncludePersonaName,i=e.nMaxRows,a=(e.onExpand,e.strExpandTag),o=Object(j.f)(e,["className","details","strHeaderTag","vecFriends","bIncludePersonaName","nMaxRows","onExpand","strExpandTag"]),u=r.filter(function(e){return 3==e.friend.friendRelationship});if(0==u.length)return null;u.sort(this.SortByPlaytime);for(var p=[],d="wishlist"==this.props.type,m=function(e){function t(){return function(e,t){var n=t.playtime,r=b.a.GetAppInfo(e);if(!r||!n.minutes_played_forever)return[!1,null];var i=r.header_image_url,a=t.friend.persona.m_unGamePlayedAppID==e,o=D.createElement("span",{className:Eu.a.TimePlayed},lu(n.minutes_played,"#Playtime_")),s=D.createElement("span",{className:Eu.a.TimePlayed},lu(n.minutes_played_forever,"#Playtime_")),c="playtime-section-"+t.friend.persona.m_steamid.GetAccountID();return[a,D.createElement("div",{key:c,className:Object(cr.a)(Eu.a.PlaytimeSection,a&&Eu.a.ForCurrentGame)},!a&&i&&D.createElement("img",{className:Eu.a.GameLogo,src:i}),D.createElement("div",{className:Eu.a.PlaytimeContent},n.minutes_played&&D.createElement("div",null,Object(R.o)("#Playtime_Recently",o)," "),n.minutes_played!=n.minutes_played_forever&&D.createElement("div",null,Object(R.o)("#Playtime_Total",s))))]}(c.unAppID,r)}var n,r=u[e],i=r.friend,a=i.persona,o="ingame"!=h.props.type?function(){return s.RenderPlaytimeStatus(r)}:void 0;l?(n=function(){return B.a.NavigateToSteamURL("SteamIDPage",i.persona.m_steamid.ConvertTo64BitString())},p.push(D.createElement(Bu,{key:a.m_steamid.GetAccountID(),friend:i,appid:c.unAppID,onAvatarClick:n,renderStatus:o,renderPlaytime:t}))):(n=d?function(e){s.VisitWishlist(e,i)}:function(){return B.a.NavigateToSteamURL("SteamIDPage",i.persona.m_steamid.ConvertTo64BitString())},p.push(D.createElement(vu,{key:a.m_steamid.GetAccountID(),friend:i,size:"Small",statusPosition:"bottom",onClick:n,renderPlaytime:t})))},h=this,f=0;f<u.length;f++)m(f);return D.createElement("div",Object(j.a)({},o,{className:Object(cr.a)(Eu.a.Subsection,t)}),D.createElement("div",{className:Eu.a.SubsectionHeader},Object(R.m)(n,u.length,this.props.details.strDisplayName)),D.createElement("div",{className:Object(cr.a)(!this.m_elContainer.current&&Eu.a.Measuring,Eu.a.Friends),ref:this.m_elContainer},i?D.createElement(Cu,{className:Eu.a.FriendsOverflow,nMaxRows:this.props.nMaxRows,classNameWhenHidden:Object(cr.a)(Eu.a.FriendsActivityOverFlow,"ingame"==this.props.type&&Eu.a.FriendsInGame),classNameWhenExpanded:Object(cr.a)(Eu.a.FriendsActivityOverFlow,"ingame"==this.props.type&&Eu.a.FriendsInGame,Eu.a.Expanded),collapseString:Object(R.f)("#AppDetails_FriendsLess"),expandString:Object(R.f)(a),suppressMask:!0,buttonClass:Eu.a.ShowMore},p):p))},Object(j.c)([E.a],e.prototype,"VisitWishlist",null),Object(j.c)([E.a],e.prototype,"SortByPlaytime",null),Object(j.c)([o.observer],e)}(D.Component),Iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnViewAllFriends=function(){B.a.NavigateToSteamURL("CommunityFriendsThatPlay",this.props.details.unAppID)},t.prototype.SignInToFriends=function(){SteamClient.Messaging.PostMessage("FriendsLoader","SignInToFriends","{}")},t.prototype.IsAppOrTool=function(){return Xa.GetAppOverviewByAppID(this.props.details.unAppID).BIsApplicationOrTool()},t.prototype.render=function(){var e=this;if(!ei.bSignedIn){var t=this.IsAppOrTool()?Object(R.f)("#AppDetails_SectionTitle_Friends_Software"):Object(R.f)("#AppDetails_SectionTitle_Friends");return D.createElement(nl,{feature:4,className:Eu.a.FriendsSection,label:t,rightColumnSection:!0},D.createElement(nl.Body,null,D.createElement(cl,{onClick:this.SignInToFriends},Object(R.o)("#AppDetails_SectionTitle_SignIn",D.createElement("span",{style:{color:"white"}},Object(R.f)("#AppDetails_SectionTitle_SignIn_Pre"))))))}var n=ha.GetFriendsGameplayInfo(this.props.details.unAppID);if(!n)return null;for(var r=[],i=[],a=[],o=[],s=0,c=n.in_game;s<c.length;s++){var l=c[s];(b=ei.GetFriendState(new H.a(l.steamid))).persona.m_unGamePlayedAppID!=this.props.details.unAppID?i.push({friend:b,playtime:l}):r.push({friend:b,playtime:l})}for(var u=0,p=n.played_recently;u<p.length;u++){l=p[u];(b=ei.GetFriendState(new H.a(l.steamid))).persona.m_unGamePlayedAppID==this.props.details.unAppID?r.push({friend:b,playtime:l}):i.push({friend:b,playtime:l})}for(var d=0,m=n.played_ever;d<m.length;d++){l=m[d];(b=ei.GetFriendState(new H.a(l.steamid))).persona.m_unGamePlayedAppID==this.props.details.unAppID?(r.push({friend:b,playtime:l}),setTimeout(function(){ha.MarkFriendsGameplayInfoDirty(e.props.details.unAppID)},0)):a.push({friend:b,playtime:l})}for(var h=0,f=n.in_wishlist;h<f.length;h++){var b,l=f[h];(b=ei.GetFriendState(new H.a(l.steamid))).persona.m_unGamePlayedAppID==this.props.details.unAppID?(r.push({friend:b,playtime:l}),setTimeout(function(){ha.MarkFriendsGameplayInfoDirty(e.props.details.unAppID)},0)):o.push({friend:b,playtime:l})}if(r.length+i.length+a.length+o.length==0)return null;var _=this.IsAppOrTool()?Object(R.f)("#AppDetails_SectionTitle_Friends_Software"):Object(R.f)("#AppDetails_SectionTitle_Friends");return D.createElement(nl,{feature:4,className:Eu.a.FriendsSection,label:_,rightColumnSection:!0},D.createElement(nl.Body,null,D.createElement(Au,{className:Eu.a.InGame,details:this.props.details,type:"ingame",strHeaderTag:"#AppDetails_FriendsInGameNow",vecFriends:r,bIncludePersonaName:!0}),D.createElement(Au,{className:Eu.a.Recent,details:this.props.details,type:"recent",nMaxRows:5,strExpandTag:"#AppDetails_FriendsPlayedRecentlyExpand",strHeaderTag:"#AppDetails_FriendsPlayedRecently",vecFriends:i,bIncludePersonaName:!0}),D.createElement(Au,{className:Eu.a.Ever,details:this.props.details,type:"ever",nMaxRows:r.length+i.length<5?6:2,strExpandTag:"#AppDetails_FriendsPlayedExpand",strHeaderTag:"#AppDetails_FriendsPlayed",vecFriends:a,bIncludePersonaName:!1}),D.createElement(Au,{className:Eu.a.Wishlist,details:this.props.details,type:"wishlist",nMaxRows:2,strExpandTag:"#AppDetails_FriendsWishlistExpand",strHeaderTag:"#AppDetails_FriendsWishlisted",vecFriends:o,bIncludePersonaName:!1}),D.createElement(sl,{onClick:this.OnViewAllFriends},Object(R.f)("#AppDetails_Friends_ViewAll"))))},Object(j.c)([E.a],t.prototype,"OnViewAllFriends",null),Object(j.c)([E.a],t.prototype,"SignInToFriends",null),Object(j.c)([E.a],t.prototype,"IsAppOrTool",null),Object(j.c)([o.observer],t)}(D.Component),ju=function(){return function(){this.sample_time=Date.now(),this.disc_bytes_per_second=0,this.network_bytes_per_second=0}}(),Du=function(){function e(){this.historyItems=[],this.peakNetworkBytesPerSecond=0,this.peakDiskBytesPerSecond=0,this.totalBytes=0}return Object(j.c)([O.observable],e.prototype,"historyItems",void 0),Object(j.c)([O.observable],e.prototype,"peakNetworkBytesPerSecond",void 0),Object(j.c)([O.observable],e.prototype,"peakDiskBytesPerSecond",void 0),Object(j.c)([O.observable],e.prototype,"totalBytes",void 0),e}(),Ru=new(function(){function e(){this.m_DownloadOverview=new C.k,this.m_DownloadHistory=new Du,this.m_DownloadsItems=[],SteamClient.Downloads.RegisterForDownloadOverview(this.OnDownloadOverview),SteamClient.Downloads.RegisterForDownloadItems(this.OnDownloadItems);var e=new ju;e.disc_bytes_per_second=0;for(var t=e.network_bytes_per_second=0;t<120;t++)this.m_DownloadHistory.historyItems.push(e)}return e.prototype.OnDownloadOverview=function(t){this.m_DownloadOverview=t;var e=new ju;e.disc_bytes_per_second=t.update_disc_bytes_per_second,e.network_bytes_per_second=t.update_network_bytes_per_second,this.m_DownloadHistory.historyItems.shift(),this.m_DownloadHistory.historyItems.push(e),this.m_DownloadHistory.peakNetworkBytesPerSecond=Math.max.apply(Math,this.m_DownloadHistory.historyItems.map(function(e){return e.network_bytes_per_second})),this.m_DownloadHistory.peakDiskBytesPerSecond=Math.max.apply(Math,this.m_DownloadHistory.historyItems.map(function(e){return e.disc_bytes_per_second})),this.m_DownloadHistory.totalBytes=this.m_DownloadsItems.map(function(e){return t.update_app_id==e.appid&&t.update_bytes_downloaded?0:e.downloaded_bytes}).reduce(function(e,t){return e+t},0)+t.update_bytes_downloaded},e.prototype.OnDownloadItems=function(e){var t=this;this.m_DownloadsItems=e,this.m_DownloadHistory.totalBytes=this.m_DownloadsItems.map(function(e){return t.m_DownloadOverview.update_app_id==e.appid&&t.m_DownloadOverview.update_bytes_downloaded?0:e.downloaded_bytes}).reduce(function(e,t){return e+t},0)+this.m_DownloadOverview.update_bytes_downloaded},Object.defineProperty(e.prototype,"report",{get:function(){return this.m_DownloadsItems.map(function(e){console.log("item: "+e.appid)}),"num downloads: "+this.m_DownloadsItems.length+" paused: "+this.m_DownloadOverview.paused},enumerable:!1,configurable:!0}),e.prototype.GetDownloadItemForAppId=function(t){return this.m_DownloadsItems.find(function(e){return e.appid==t})},Object.defineProperty(e.prototype,"DownloadOverview",{get:function(){return this.m_DownloadOverview},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DownloadHistory",{get:function(){return this.m_DownloadHistory},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ActiveDownloads",{get:function(){return this.m_DownloadsItems.filter(function(e){return e.active})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"QueuedDownloads",{get:function(){var e=this.m_DownloadsItems.filter(function(e){return!e.active&&-1!==e.queue_index});return e.sort(function(e,t){return e.queue_index-t.queue_index}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ScheduledDownloads",{get:function(){return this.m_DownloadsItems.filter(function(e){return-1===e.queue_index&&!e.paused&&!e.completed})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PausedDownloads",{get:function(){return this.m_DownloadsItems.filter(function(e){return 1==e.paused})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CompletedDownloads",{get:function(){return this.m_DownloadsItems.filter(function(e){return 1==e.completed})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this.m_DownloadOverview.paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeRestrict",{get:function(){return this.m_DownloadOverview.time_restrict},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeRestrictStart",{get:function(){return this.m_DownloadOverview.time_restrict_start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeRestrictEnd",{get:function(){return this.m_DownloadOverview.time_restrict_end},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"throttle",{get:function(){return this.m_DownloadOverview.throttle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"throttleDetails",{get:function(){return this.m_DownloadOverview.throttle_details},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"networkRateBytesPerSecond",{get:function(){return this.m_DownloadOverview.update_network_bytes_per_second},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diskRateBytesPerSecond",{get:function(){return this.m_DownloadOverview.update_disc_bytes_per_second},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"countDownloads",{get:function(){return this.m_DownloadsItems.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"downloadTimeRemaining",{get:function(){return-1==this.m_DownloadOverview.update_seconds_remaining?"":this.m_DownloadOverview.update_seconds_remaining<=60?Object(R.f)("#Downloads_State_SecondsRemaining",this.m_DownloadOverview.update_seconds_remaining):Object(R.f)("#Downloads_State_MinutesRemaining",Math.floor(this.m_DownloadOverview.update_seconds_remaining/60))},enumerable:!1,configurable:!0}),Object(j.c)([O.observable],e.prototype,"m_DownloadOverview",void 0),Object(j.c)([O.observable],e.prototype,"m_DownloadHistory",void 0),Object(j.c)([O.observable],e.prototype,"m_DownloadsItems",void 0),Object(j.c)([O.action.bound],e.prototype,"OnDownloadOverview",null),Object(j.c)([O.action.bound],e.prototype,"OnDownloadItems",null),e}());window.downloadsStore=Ru;var Tu=n("7d6q"),Mu=n.n(Tu),Nu=n("jcby"),Lu=n.n(Nu),ku=n("Eqfr"),Fu=n.n(ku),Pu=n("1gQr"),Gu=n.n(Pu),Uu={linux:Mu.a,osx:Lu.a,windows:Fu.a},xu=function(r){function e(e){var t=r.call(this,e)||this,n=void 0;return t.state={bShowGameInfo:e.overview.BIsModOrShortcut()||i.s_setGameInfoVisible.has(t.props.overview.appid),nGameActionDetailsOverride:0,fakeOverview:n,gameInfoHeight:0,suppressTransition:!0},t}var i;return Object(j.d)(e,r),(i=e).prototype.OnMouseUp=function(e){},e.prototype.OnContextMenu=function(e){0},e.prototype.render=function(){var e=this.props,t=e.className,n=e.overview,r=(e.details,e.stickyheader),i=e.bInPage,a=(e.strGameActionDetailsOverride,e.onGameInfoToggle,e.onSeek,e.bShowInfoExpanded,Object(j.f)(e,["className","overview","details","stickyheader","bInPage","strGameActionDetailsOverride","onGameInfoToggle","onSeek","bShowInfoExpanded"])),n=this.props.overview,o=Object(R.f)("#GameAction_ViewDetails");return this.props.bShowInfoExpanded&&!this.props.stickyheader?o=Object(R.f)("#GameAction_ViewDetails_Collapse"):this.props.stickyheader&&(o=Object(R.f)("#GameAction_ViewDetails_ScrollUp")),D.createElement("div",Object(j.a)({className:Object(cr.a)(t,Gu.a.Container,i&&Gu.a.InPage,r&&Gu.a.StickyHeader,13==n.display_status&&Gu.a.Presale)},a),D.createElement("div",{className:Object(cr.a)(Gu.a.PlayBar,Gu.a.Glassy),onMouseUp:void 0,onContextMenu:void 0},D.createElement(Ni.a,{className:Gu.a.InnerContainer},D.createElement("div",{className:Gu.a.Row},D.createElement(ep,{overview:n,strGameActionDetailsOverride:!1}),D.createElement(zu,{overview:n,details:this.props.details,strGameActionDetailsOverride:!1,onSeek:this.props.onSeek}),D.createElement("div",{className:Gu.a.RightControls},D.createElement("div",{className:Gu.a.AppButtonsContainer},!1,D.createElement(Hu,Object(j.a)({},this.props)),!n.BIsModOrShortcut()&&D.createElement(Co.d,{direction:"bottom",className:Object(cr.a)(Gu.a.MenuButton,this.props.bShowInfoExpanded&&Gu.a.MenuActive),onClick:this.props.onGameInfoToggle,toolTipContent:o},D.createElement("div",{className:Gu.a.DotDotDot},this.props.stickyheader?D.createElement(_r.d,{angle:0}):D.createElement(_r.K,null))),D.createElement(Wu,Object(j.a)({},this.props))))),D.createElement(Ku,Object(j.a)({},this.props)))),D.createElement("div",{className:Object(cr.a)(Gu.a.StickyHeaderShadow,this.props.stickyheader?Gu.a.Visible:"")}))},e.s_setGameInfoVisible=new Set,e.s_rgFakeDetails=["","UpdatingAppInfo","ShowEula","UpdatingDRM","GettingLegacyKey","SynchronizingCloud","VerifyingFiles","CreatingProcess","WaitingGameWindow","DownloadingDepots","DownloadingWorkshop","DelayLaunch","RunningInstallScript"],Object(j.c)([E.a],e.prototype,"OnMouseUp",null),i=Object(j.c)([o.observer],e)}(D.Component),zu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.BIsPermanentlyUnavailable=function(){if(this.props.overview.BIsAppBlocked())return!0;switch(this.props.overview.display_status){case 12:case 13:case 14:case 17:return!0}return!1},t.prototype.render=function(){return D.createElement("div",{className:Object(cr.a)(Gu.a.StatusAndStats,this.BIsPermanentlyUnavailable()&&Gu.a.PermanentlyUnavailable)},D.createElement(Ju,{overview:this.props.overview,details:this.props.details,strGameActionDetailsOverride:this.props.strGameActionDetailsOverride}),!A.c.OFFLINE_MODE&&!this.BIsPermanentlyUnavailable()&&D.createElement("div",{className:Gu.a.StatusNameContainer},D.createElement(Xu,Object(j.a)({},this.props)),D.createElement($u,Object(j.a)({},this.props))))},Object(j.c)([o.observer],t)}(D.Component),Hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.ShowContextMenu=function(e){var t=Object(j.a)(Object(j.a)({},ru()),{bOverlapHorizontal:!0,bOverlapVertical:!1});Object(zi.a)(D.createElement(nu,Object(j.a)({},this.props,{client:"selected",launchSource:100,omitPrimaryAction:!0})),e.currentTarget,t)},t.prototype.render=function(){return D.createElement(Co.d,{direction:"bottom",className:Gu.a.MenuButton,onClick:this.ShowContextMenu,toolTipContent:Object(R.f)("#GameAction_Manage")},D.createElement(_r.lb,null))},Object(j.c)([E.a],t.prototype,"ShowContextMenu",null),t}(D.Component),Wu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.ToggleFavorite=function(){var e=this.props.overview.appid;mi.SetAppsAsFavorite([e],!mi.BIsFavorite(e))},t.prototype.render=function(){var e=mi.BIsFavorite(this.props.overview.appid),t=e?Object(R.f)("#GameAction_UnFavorite"):Object(R.f)("#GameAction_Favorite");return D.createElement(Co.d,{direction:"bottom",className:Object(cr.a)(Gu.a.MenuButton,Gu.a.FavoriteButton,e&&Gu.a.Favorited),onClick:this.ToggleFavorite,toolTipContent:t},D.createElement(_r.qb,{filled:e}))},Object(j.c)([E.a],t.prototype,"ToggleFavorite",null),Object(j.c)([o.observer],t)}(D.Component),Vu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.progressPct,r=Object(j.f)(e,["className","progressPct"]);return D.createElement("div",Object(j.a)({className:Object(cr.a)(Gu.a.DetailsProgressContainer,t)},r),D.createElement("div",{className:Gu.a.DetailsProgressBar,style:{width:n+"%"}}))},t}(D.Component);var qu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this,t=ha.GetAchievements(this.props.details.unAppID);if(!t.nTotal)return null;if(Za.BIsFeatureBlocked(3))return null;if(!this.props.overview.installed&&0==t.nAchieved)return null;var n=t.nAchieved/t.nTotal==1;return D.createElement("div",{className:Object(cr.a)(Gu.a.GameStat,Gu.a.MiniAchievements),onClick:function(){e.props.onSeek("achievements")}},D.createElement("div",{className:Object(cr.a)(Gu.a.GameStatIcon,Gu.a.AchievementIcon)},D.createElement(_r.a,{fullcolor:n})),D.createElement("div",{className:Object(cr.a)(Gu.a.GameStatRight,Gu.a.AchievementRight)},D.createElement("div",{className:Object(cr.a)(Gu.a.PlayBarLabel,Gu.a.AchievementLabel)},Object(R.f)("#AppDetails_SectionTitle_Achievements")),D.createElement("div",{className:Gu.a.AchievementProgressRow},D.createElement("div",{className:Object(cr.a)(Gu.a.PlayBarDetailLabel,Gu.a.AchievementCountLabel)},t.nAchieved,"/",t.nTotal),D.createElement(Vu,{progressPct:100*t.nAchieved/t.nTotal}))))},Object(j.c)([o.observer],t)}(D.Component),Yu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.getLastPlayed=function(){return this.props.details.rtLastTimePlayed<31536e3||0==this.props.details.nPlaytimeForever?null:Object(R.q)(this.props.details.rtLastTimePlayed)},t.prototype.render=function(){return this.getLastPlayed()?D.createElement("div",{className:Object(cr.a)(Gu.a.GameStat,Gu.a.LastPlayed)},D.createElement("div",{className:Object(cr.a)(Gu.a.GameStatRight,Gu.a.LastPlayedRight)},D.createElement("div",{className:Object(cr.a)(Gu.a.PlayBarLabel,Gu.a.LastPlayedLabel)},this.props.bIsApplicationOrTool?Object(R.f)("#AppDetails_SectionTitle_LastLaunched"):Object(R.f)("#AppDetails_SectionTitle_LastPlayed")),D.createElement("div",{className:Object(cr.a)(Gu.a.PlayBarDetailLabel,Gu.a.LastPlayedInfo)},this.getLastPlayed()))):null},Object(j.c)([o.observer],t)}(D.Component),Qu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return this.props.details.nPlaytimeForever?D.createElement("div",{className:Object(cr.a)(Gu.a.GameStat,Gu.a.Playtime)},D.createElement("div",{className:Object(cr.a)(Gu.a.GameStatIcon,Gu.a.PlaytimeIcon)},D.createElement(_r.bb,null)),D.createElement("div",{className:Object(cr.a)(Gu.a.GameStatRight,Gu.a.PlaytimeRight)},D.createElement("div",{className:Object(cr.a)(Gu.a.PlayBarLabel,Gu.a.PlaytimeLabel)},this.props.bIsApplicationOrTool?Object(R.f)("#AppDetails_SectionTitle_UsageTime"):Object(R.f)("#AppDetails_SectionTitle_PlayTime")),D.createElement("div",{className:Object(cr.a)(Gu.a.PlayBarDetailLabel,Gu.a.PlaytimeInfo)},lu(this.props.details.nPlaytimeForever)))):null},Object(j.c)([o.observer],t)}(D.Component),Zu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement("div",{className:Object(cr.a)(Gu.a.GameStat,Gu.a.Playtime)},D.createElement("div",{className:Object(cr.a)(Gu.a.GameStatIcon,Gu.a.PlaytimeIcon)},D.createElement(_r.bb,null)),D.createElement("div",{className:Object(cr.a)(Gu.a.GameStatRight,Gu.a.PlaytimeRight)},D.createElement("div",{className:Object(cr.a)(Gu.a.PlayBarLabel,Gu.a.PlaytimeLabel)},Object(R.f)("#AppDetails_SectionTitle_PlayTimeLeft")),D.createElement("div",{className:Object(cr.a)(Gu.a.PlayBarDetailLabel,Gu.a.PlaytimeInfo)},lu(this.props.timeLeftMin))))},Object(j.c)([o.observer],t)}(D.Component),Ku=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.BIsOwnerCurrentUser=function(){return new H.a(this.props.details.strOwnerSteamID).GetAccountID()==ei.currentUserSteamID.GetAccountID()},t.prototype.render=function(){var e=new H.a(this.props.details.strLibraryInUseSteamID);if(A.c.OFFLINE_MODE)return null;Object(w.a)(this.BIsOwnerCurrentUser()||!e.BIsValid(),"Both an owner and a locked by are set, how did this happen?");var t=e,n="#AppDetails_LibraryInUse";if(this.BIsOwnerCurrentUser()||(t=new H.a(this.props.details.strOwnerSteamID),n="#AppDetails_InSharedLibrary"),!t.BIsValid())return null;var r=ei.GetFriendState(t);return D.createElement("div",{className:Object(cr.a)(Gu.a.Row,Gu.a.SharedLibrary)},D.createElement("span",{className:Gu.a.Label},Object(R.f)(n)),!1,D.createElement(Bu,{className:Gu.a.AvatarAndPersona,friend:r,appid:0,bHideRichPresence:!0}))},Object(j.c)([o.observer],t)}(D.Component),Ju=function(n){function e(e){var t=n.call(this,e)||this;return t.m_hRegisterForGameActionStart=null,t.m_hRegisterForGameActionEnd=null,t.state={unGameActionID:0,strGameActionDetails:""},t.m_TimerID=0,t}return Object(j.d)(e,n),e.prototype.componentDidMount=function(){this.m_hRegisterForGameActionStart=SteamClient.Apps.RegisterForGameActionStart(this.onGameActionStart),this.m_hRegisterForGameActionEnd=SteamClient.Apps.RegisterForGameActionEnd(this.onGameActionEnd),SteamClient.Apps.GetGameActionForApp(this.props.overview.GetGameID(),this.onGameActionStart)},e.prototype.componentWillUnmount=function(){this.setState({unGameActionID:0,strGameActionDetails:""}),clearInterval(this.m_TimerID),this.m_TimerID=0,this.m_hRegisterForGameActionStart&&(this.m_hRegisterForGameActionStart.unregister(),this.m_hRegisterForGameActionStart=null),this.m_hRegisterForGameActionEnd&&(this.m_hRegisterForGameActionEnd.unregister(),this.m_hRegisterForGameActionEnd=null)},e.prototype.onTimerTick=function(){SteamClient.Apps.GetGameActionDetails(this.state.unGameActionID,this.onGetGameActionDetails)},e.prototype.onGameActionStart=function(e,t,n){t==this.props.overview.GetGameID()&&0!=e&&(this.setState({unGameActionID:e,strGameActionDetails:""}),SteamClient.Apps.GetGameActionDetails(this.state.unGameActionID,this.onGetGameActionDetails),0==this.m_TimerID&&(this.m_TimerID=window.setInterval(this.onTimerTick,250)))},e.prototype.onGetGameActionDetails=function(e){var t="",n=0,r=parseInt(e.strNumDone),i=parseInt(e.strNumTotal);if(0<i&&r<=i&&(n=Math.floor(100*r/i)),"LaunchApp"==e.strActionName)switch(e.strTaskName){case"UpdatingAppInfo":case"ShowEula":case"UpdatingDRM":case"GettingLegacyKey":case"SynchronizingCloud":case"VerifyingFiles":case"CreatingProcess":case"WaitingGameWindow":t=Object(R.f)("#LaunchApp_Action_"+e.strTaskName);break;case"DownloadingDepots":case"DownloadingWorkshop":case"DelayLaunch":t=Object(R.f)("#LaunchApp_Action_"+e.strTaskName,n);break;case"RunningInstallScript":t=Object(R.f)("#LaunchApp_Action_"+e.strTaskName,e.strTaskDetails)}this.setState({strGameActionDetails:t})},e.prototype.onGameActionEnd=function(e){this.state.unGameActionID==e&&(this.setState({unGameActionID:0,strGameActionDetails:""}),clearInterval(this.m_TimerID),this.m_TimerID=0)},e.prototype.GetStatus=function(){if(this.props.overview.BIsAppBlocked())return Object(R.f)("#DisplayStatus_ParentalBlocked");switch(this.props.overview.selected_per_client_data.display_status){case 1:case 2:case 3:case 5:case 23:case 19:case 22:case 18:case 25:case 21:case 24:case 20:case 12:case 17:case 26:return jc(this.props.overview.selected_per_client_data.display_status);case 10:case 13:case 16:var e=ha.GetReleaseData(this.props.details.unAppID);if(e){if(e.bCustomReleaseMessage&&e.strSteamReleaseDate)return Object(R.f)("#DisplayStatus_CustomReleaseDate",e.strSteamReleaseDate);if(e.strSteamReleaseDate)return Object(R.f)("#DisplayStatus_ReleaseDate",e.strSteamReleaseDate)}return Object(R.f)("#DisplayStatus_PresaleOnly");case 14:return D.createElement("div",{className:Gu.a.InvalidPlatform},D.createElement("span",null,Object(R.f)("#DisplayStatus_InvalidPlatform")),D.createElement("div",{className:Gu.a.Icons},this.props.details.vecPlatforms.map(function(e){return D.createElement("img",{className:Gu.a.Icon,key:e,src:Uu[e]})})));case 7:case 6:if(Ru.DownloadOverview.update_app_id==this.props.details.unAppID)switch(Ru.DownloadOverview.update_state){case"Preallocating":return Object(R.f)("#DisplayStatus_Preallocating");case"Validating":return Object(R.f)("#DisplayStatus_Validating");case"Committing":return Object(R.f)("#DisplayStatus_Committing");case"Verifying":return Object(R.f)("#DisplayStatus_Verifying");case"Staging":return Object(R.f)("#DisplayStatus_Unpacking");case"Downloading":return jc(this.props.overview.selected_per_client_data.display_status)}return jc(this.props.overview.selected_per_client_data.display_status)}return""},e.prototype.BIsDownloading=function(){switch(this.props.overview.selected_per_client_data.display_status){case 6:case 7:case 22:case 18:case 23:case 19:case 24:case 20:return!0}return!(!this.props.overview.BIsSelectedClientLocal()||Ru.DownloadOverview.update_app_id!=this.props.details.unAppID)},e.prototype.GetProgressBarPct=function(){if(!this.props.overview.BIsSelectedClientLocal())return 0<this.props.overview.selected_per_client_data.status_percentage?this.props.overview.selected_per_client_data.status_percentage:-1;if(Ru.DownloadOverview.update_app_id==this.props.details.unAppID)switch(Ru.DownloadOverview.update_state){case"Preallocating":case"Validating":case"Staging":case"Committing":case"Verifying":if(0<Ru.DownloadOverview.update_bytes_to_process)return 100*Ru.DownloadOverview.update_bytes_processed/Ru.DownloadOverview.update_bytes_to_process;break;case"Downloading":if(0<Ru.DownloadOverview.update_bytes_to_download)return 100*Ru.DownloadOverview.update_bytes_downloaded/Ru.DownloadOverview.update_bytes_to_download}switch(this.props.overview.selected_per_client_data.display_status){case 23:case 19:case 22:case 18:return this.props.overview.selected_per_client_data.status_percentage}return-1},e.prototype.GetDetailsText=function(){if(this.props.strGameActionDetailsOverride)return this.props.strGameActionDetailsOverride;if(0!=this.state.unGameActionID)return this.state.strGameActionDetails;if(this.props.overview.BIsSelectedClientLocal()&&Ru.DownloadOverview.update_app_id==this.props.details.unAppID)switch(Ru.DownloadOverview.update_state){case"Preallocating":case"Validating":case"Committing":case"Verifying":case"Reconfiguring":case"Stopping":return Object(R.f)("#Downloads_State_"+Ru.DownloadOverview.update_state);case"Staging":case"Downloading":if(0<Ru.DownloadOverview.update_bytes_to_download)return Object(R.f)("#Downloads_State_Bytes_Of_Bytes",Object(wl.a)(Ru.DownloadOverview.update_bytes_downloaded),Object(wl.a)(Ru.DownloadOverview.update_bytes_to_download))}var e=this.props.overview.GetPerClientData("selected");if(Number(e.bytes_total))switch(e.display_status){case 7:case 6:if(this.props.overview.BIsPerClientDataLocal(e))return"";case 23:case 19:case 22:case 18:case 24:case 20:return Object(R.f)("#Downloads_State_Bytes_Of_Bytes",Object(wl.a)(Number(e.bytes_downloaded)),Object(wl.a)(Number(e.bytes_total)))}return""},e.prototype.GoToDownloads=function(){window.location.href="steam://open/downloads"},e.prototype.render=function(){var e=this.GetStatus(),t=this.GetDetailsText(),n=this.GetProgressBarPct(),r=this.props.overview.BIsUnreleased(),i=A.c.OFFLINE_MODE,a=22==this.props.overview.selected_per_client_data.display_status||18==this.props.overview.selected_per_client_data.display_status,o=this.BIsDownloading();if(!e&&!t)return null;var s=Object(cr.a)(Gu.a.PlayBarLabel,Gu.a.DetailsSectionStatus);return r&&(s=Object(cr.a)(Gu.a.DetailsSectionStatus,Gu.a.ComingSoon)),D.createElement("div",{className:Object(cr.a)(Gu.a.DetailsSection,o&&Gu.a.Downloading,i&&Gu.a.OfflineMode),onClick:o?this.GoToDownloads:void 0},D.createElement("div",{className:s},e),(o||0<n)&&D.createElement(Vu,{className:a&&Gu.a.DownloadPaused,progressPct:n<0?0:n}),!r&&0<t.length&&D.createElement("div",{className:Object(cr.a)(Gu.a.PlayBarDetailLabel,Gu.a.DetailsSectionExtra)},t))},Object(j.c)([E.a],e.prototype,"onTimerTick",null),Object(j.c)([E.a],e.prototype,"onGameActionStart",null),Object(j.c)([E.a],e.prototype,"onGetGameActionDetails",null),Object(j.c)([E.a],e.prototype,"onGameActionEnd",null),Object(j.c)([o.observer],e)}(D.Component),Xu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=Xa.GetAppOverviewByAppID(this.props.details.unAppID).BIsApplicationOrTool(),t=this.props.overview,n=this.props.details,r=void 0;"number"==typeof t.selected_per_client_data.playtime_left&&(r=t.selected_per_client_data.playtime_left),"number"==typeof n.unTimedTrialSecondsAllowed&&(r=Math.ceil((n.unTimedTrialSecondsAllowed-n.unTimedTrialSecondsPlayed)/60));var i=void 0!==r;return D.createElement("div",{className:Gu.a.GameStatsSection},D.createElement(Yu,Object(j.a)({},this.props,{bIsApplicationOrTool:e})),!i&&D.createElement(Qu,Object(j.a)({},this.props,{bIsApplicationOrTool:e})),i&&D.createElement(Zu,{timeLeftMin:r}),D.createElement(qu,Object(j.a)({},this.props,{onSeek:this.props.onSeek})))},Object(j.c)([o.observer],t)}(D.Component),$u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement("div",{className:Gu.a.PlayBarIconAndGame},D.createElement(co,{app:this.props.overview,eAssetType:4,className:Gu.a.PlayBarGameIcon}),D.createElement("span",{className:Gu.a.PlayBarGameName},this.props.details.strDisplayName))},t}(D.Component),ep=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement("div",{className:Gu.a.ActionSection},D.createElement(cu,Object(j.a)({},this.props,{bShowStreamingSelector:!0,bFakeActions:!1})))},Object(j.c)([o.observer],t)}(D.Component),tp=n("ionH"),np=n("QIS/"),rp=n.n(np),ip=D.lazy(function(){return n.e(2).then(n.bind(null,"bQ+M"))}),ap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),Object.defineProperty(t.prototype,"has_broadcasts",{get:function(){var e=tp.a.GetBroadcastList(this.props.overview.appid);return e.bHasData&&0!=e.broadcasts.length},enumerable:!1,configurable:!0}),t.prototype.render=function(){return this.has_broadcasts?D.createElement(nl,{feature:2,label:!this.props.bTheaterMode&&Object(R.f)("#AppDetails_SectionTitle_Stream"),className:Object(cr.a)(this.props.bTheaterMode&&rp.a.TheaterMode),rightColumnSection:!0},D.createElement(nl.Body,{className:rp.a.Body},D.createElement(D.Suspense,{fallback:null},D.createElement(ip,{key:this.props.overview.appid,overview:this.props.overview,onTheaterMode:this.props.onTheaterMode,isTheaterMode:this.props.bTheaterMode})))):null},Object(j.c)([O.computed],t.prototype,"has_broadcasts",null),Object(j.c)([o.observer],t)}(D.Component),op=n("yrgw"),sp=n.n(op),cp=n("Ux06"),lp=n.n(cp),up=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_resizeObserver=new ResizeObserver(e.OnResize),e}return Object(j.d)(e,t),e.prototype.BindContainer=function(e){(this.m_elContainer=e)&&this.m_resizeObserver.observe(e)},e.prototype.BindItem=function(e){this.m_elItem=e},e.prototype.componentDidMount=function(){this.forceUpdate()},e.prototype.componentWillUnmount=function(){this.m_resizeObserver.disconnect()},e.prototype.OnResize=function(){this.forceUpdate()},e.prototype.render=function(){var e=this.props,t=e.keyExtractor,n=e.itemRenderer,r=e.remainderRenderer,i=e.items,a=e.totalItemOverride,o=Object(j.f)(e,["keyExtractor","itemRenderer","remainderRenderer","items","totalItemOverride"]),s=[];if(0==i.length){if(!(0<a))return null;s.push(D.createElement("div",{className:lp.a.ItemWrapper,key:"remaining"},r(a)))}else{var c,l,u,p=Math.min(1,i.length),d=a||i.length;this.m_elContainer&&this.m_elItem&&(c=this.m_elContainer.clientWidth,l=this.m_elItem.offsetWidth,u=r?1:0,p=Math.min(i.length,Math.floor(c/l)-u),u&&d-p==1&&(p=i.length));for(var m,h=0;h<p;h++){var f=i[h];s.push(D.createElement("div",{className:lp.a.ItemWrapper,key:t(f),ref:0==h?this.BindItem:void 0},n(f)))}r&&p<d&&this.m_elItem&&(m=p<d?i[p]:void 0,s.push(D.createElement("div",{className:lp.a.ItemWrapper,key:"remaining"},r(d-p,m))))}return 0<s.length?D.createElement("div",Object(j.a)({},o),D.createElement("div",{className:lp.a.InnerContainer,ref:this.BindContainer},s)):null},Object(j.c)([E.a],e.prototype,"BindContainer",null),Object(j.c)([E.a],e.prototype,"BindItem",null),Object(j.c)([E.a,Object(wu.a)(100)],e.prototype,"OnResize",null),Object(j.c)([o.observer],e)}(D.Component),pp=n("+nzZ"),dp=n.n(pp);function mp(e){return e.flAchieved||0===e.flAchieved?Math.max(e.flAchieved,.1).toFixed(1):""}var hp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e,t=this.props.achievement,n=t.flAchieved<10;e=t.bAchieved&&t.rtUnlocked?b.a.CMInterface.RTime32ToDate(t.rtUnlocked).toLocaleDateString(R.e.GetPreferredLocales(),{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):"";var r,i,a=mp(t),o=void 0;return 1<t.flMaxProgress&&(r=Math.min(t.flMaxProgress,t.flCurrentProgress),i=Math.min(100,100*r/t.flMaxProgress),o=D.createElement("div",{className:dp.a.SingleAchievementProgressContainer},D.createElement("div",{className:dp.a.ProgressLabel},r+" / "+t.flMaxProgress),D.createElement("div",{className:dp.a.SingleAchievementProgressBar},D.createElement("div",{className:dp.a.AchievementProgress,style:{width:i+"%"}})))),D.createElement(Qc,{className:Object(cr.a)(dp.a.Hover,t.bAchieved?dp.a.Achieved:dp.a.NotAchieved),blurElement:D.createElement("img",{src:t.strImage})},D.createElement("div",{className:dp.a.TopSection},D.createElement(bp,{achievement:t,hidden:this.props.hidden,canGlow:!0}),D.createElement("div",{className:dp.a.TextSection},D.createElement("div",{className:dp.a.Name},t.strName),D.createElement("div",{className:dp.a.Desc},t.strDescription),o)),(e||a)&&D.createElement("div",{className:dp.a.Unlocked},e&&D.createElement("div",null,Object(R.f)("#AppDetails_Achievements_Unlocked",e)),a&&D.createElement("div",{className:Object(cr.a)(n&&dp.a.RareLabel)},Object(R.f)("#AppDetails_PctUnlocked",a))))},t}(D.Component),fp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.RenderHover=function(){return this.BIsHidden()?null:D.createElement(hp,{achievement:this.props.achievement,hidden:this.BIsHidden()})},t.prototype.BIsHidden=function(){return this.props.achievement.bHidden&&!ha.BAchievementIsHiddenAndAchieved(this.props.appid,this.props.achievement.strName)},t.prototype.render=function(){var e=this.props,t=(e.appid,e.className),n=e.achievement,r=e.featured,i=e.showStats,a=(e.iconClassNames,Object(j.f)(e,["appid","className","achievement","featured","showStats","iconClassNames"])),o=mp(n),s=Qa.BSteamRootDialogFocused()||Qa.BSteamRootDialogHovered(),c=this.BIsHidden(),l=n.strName,u=n.strDescription;return c&&(l=Object(R.f)("#AppDetailsAchievement_Hidden"),u=Object(R.f)("#AppDetailsAchievement_HiddenDesc")),D.createElement("div",Object(j.a)({className:Object(cr.a)(t,n.bAchieved?dp.a.Achieved:dp.a.NotAchieved,r&&dp.a.Featured)},a),D.createElement(zc,{strKey:"Achievement"+n.strName,renderHover:this.RenderHover,className:dp.a.AchievementHoverContainer},D.createElement(bp,{className:this.props.iconClassNames,achievement:n,hidden:c,canGlow:s})),r&&D.createElement("div",{className:dp.a.TextSection},D.createElement("div",{className:dp.a.Name},l),D.createElement("div",{className:dp.a.Desc},u),i&&o&&D.createElement("div",{className:dp.a.Stats},Object(R.f)("#AppDetails_PctUnlocked",o))))},Object(j.c)([E.a],t.prototype,"RenderHover",null),Object(j.c)([o.observer],t)}(D.Component);function bp(e){var t=e.achievement,n=t.strImage;return e.hidden?D.createElement("div",{className:dp.a.HiddenLabel},"?"):!t.bAchieved||void 0===t.flAchieved||10<=t.flAchieved?D.createElement("img",{className:Object(cr.a)(dp.a.Icon,e.className),src:n}):D.createElement("div",{className:Object(cr.a)(dp.a.RareAchievementIconWrapper,e.className,e.canGlow?"":dp.a.RareAchievementNoAnimation)},D.createElement("div",{className:dp.a.RareAchievementIconGlowContainerRoot},D.createElement("div",{className:dp.a.RareAchievementIconGlowContainer},D.createElement("div",{className:dp.a.RareAchievementIconGlow}))),D.createElement("img",{className:Object(cr.a)(dp.a.Icon,dp.a.IconGlow),src:n}))}function _p(e){var t=e.className,n=e.nRemaining,r=e.bShowLabel,i=e.children,a=e.eventActorName,o=Object(j.f)(e,["className","nRemaining","bShowLabel","children","eventActorName"]);return D.createElement("div",Object(j.a)({},o,{className:Object(cr.a)(r&&dp.a.Featured,t,dp.a.RemainderContainer)}),D.createElement("div",{className:Object(cr.a)(dp.a.Remainder)},i,D.createElement("div",{className:dp.a.RemainderText},"+",n)),r&&D.createElement("div",{className:dp.a.TextSection},D.createElement("div",{className:dp.a.Name},Object(R.f)("#AppActivity_Achieved_PlusMore",n)),a&&D.createElement("div",{className:dp.a.Desc},Object(R.f)("#AppActivity_Achieved_PlusMore_Label",a))))}var vp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.KeyExtractor=function(e){return this.props.details.unAppID+"_"+e.strID},t.prototype.RenderItem=function(e){return D.createElement(fp,{className:dp.a.AdditionalItem,appid:this.props.details.unAppID,achievement:e,onClick:this.ViewAllAchievements})},t.prototype.RenderRest=function(e){return D.createElement(_p,{className:dp.a.AdditionalItem,nRemaining:e,onClick:this.ViewAllAchievements})},t.prototype.ViewAllAchievements=function(){B.a.NavigateToSteamURL("SteamIDAchievementsPage",this.props.details.unAppID)},t.prototype.ViewGlobalAchievements=function(){B.a.NavigateToSteamURL("GlobalAchievementStatsPage",this.props.details.unAppID)},t.prototype.RenderContextMenu=function(){return D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:this.ViewAllAchievements},Object(R.f)("#AppDetails_ViewAllAchievements")),D.createElement(Hi.d,{onSelected:this.ViewGlobalAchievements},Object(R.f)("#AppDetails_ViewGlobalAchievements")))},t.prototype.render=function(){var e=this,t=ha.GetAchievements(this.props.details.unAppID);if(0==t.nTotal||!t.vecHighlight)return null;var n=0<t.vecHighlight.length&&t.vecHighlight[0],r=Math.floor(t.nAchieved/t.nTotal*100),i=100==r,a=D.createElement(nl.Highlight,{className:Object(cr.a)(dp.a.HighlightDiv,i&&dp.a.AllAchieved)},D.createElement("div",{className:dp.a.UnlockedLabel},D.createElement("span",null," ",Object(R.f)(i?"#AppDetails_PlayerUnlockedPercentAll":"#AppDetails_PlayerUnlockedPercent",t.nAchieved,t.nTotal)),D.createElement("span",{className:dp.a.UnlockedLabelPercent}," ("+r+"%)")),D.createElement("div",{className:dp.a.AchievementProgressContainer},D.createElement("div",{className:dp.a.AchievementProgress,style:{width:r+"%"}})),i&&D.createElement(_r.a,{fullcolor:!0}),D.createElement("div",{className:dp.a.GlobalStatLabel,onClick:function(){return B.a.NavigateToSteamURL("GlobalAchievementStatsPage",e.props.details.unAppID)}},!1));return D.createElement(nl,{feature:3,label:Object(R.f)("#AppDetails_SectionTitle_Achievements"),highlight:a,rightColumnSection:!0,availableOffline:!0},D.createElement(nl.Body,null,n&&D.createElement(fp,{className:dp.a.RightAchievementSection,appid:this.props.details.unAppID,featured:!0,achievement:n,onClick:this.ViewAllAchievements}),2==t.vecHighlight.length&&D.createElement(fp,{className:dp.a.RightAchievementSection,appid:this.props.details.unAppID,featured:!0,achievement:t.vecHighlight[1],onClick:this.ViewAllAchievements}),2<t.vecHighlight.length&&D.createElement(up,{className:dp.a.Additional,keyExtractor:this.KeyExtractor,itemRenderer:this.RenderItem,remainderRenderer:this.RenderRest,items:t.vecHighlight.slice(1),totalItemOverride:t.nAchieved-1}),0<t.vecUnachieved.length&&D.createElement("div",{className:Object(cr.a)(dp.a.UnachievedSection,(n||1<t.vecHighlight.length)&&dp.a.ShowDivider)},D.createElement("div",{className:dp.a.Label},Object(R.f)("#AppDetails_Achievements_Locked")),D.createElement(up,{className:Object(cr.a)(dp.a.Additional,dp.a.UnachievedList),keyExtractor:this.KeyExtractor,itemRenderer:this.RenderItem,remainderRenderer:this.RenderRest,items:t.vecUnachieved,totalItemOverride:t.nTotal-t.nAchieved})),D.createElement(sl,{onClick:this.ViewAllAchievements},Object(R.f)("#AppDetails_ViewAllAchievements"))))},Object(j.c)([E.a],t.prototype,"KeyExtractor",null),Object(j.c)([E.a],t.prototype,"RenderItem",null),Object(j.c)([E.a],t.prototype,"RenderRest",null),Object(j.c)([E.a],t.prototype,"ViewAllAchievements",null),Object(j.c)([E.a],t.prototype,"ViewGlobalAchievements",null),Object(j.c)([E.a],t.prototype,"RenderContextMenu",null),Object(j.c)([o.observer],t)}(D.Component),gp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.event,n=e.details,r=e.maxshown,i=t.achievements,a=A.c.COMMUNITY_BASE_URL+"profiles/"+t.steamIDActor.ConvertTo64BitString()+"/stats/appid/"+n.unAppID+"/achievements",o=[],s=ei.GetFriendState(t.steamIDActor),c=s.nickname&&!Jr.communityPreferences.bParenthesizeNicknames?s.nickname:s.persona.m_strPlayerName,l="";i.length<3?l="repeat(auto-fit, [col-start] minmax( 49%, 260px ) [col-end])":3==i.length&&(l="repeat(auto-fit, [col-start] minmax( 32%, 260px ) [col-end])");i.length,this.props.maxshown;return i.forEach(function(e){var t=i.indexOf(e);if(t<r)o.push(D.createElement(fp,{key:""+e.strID+t,appid:n.unAppID,achievement:e,featured:!0,className:sp.a.PrimaryAchievement}));else{if(t!=r)return null;o.push(D.createElement(_p,{onClick:function(){return window.location.href=a},key:""+e.strID+t,nRemaining:i.length-r,eventActorName:c,bShowLabel:!0},D.createElement("div",{className:sp.a.AchievementRemainder,style:{backgroundImage:"url('"+e.strImage+"')"}})))}}),D.createElement(D.Fragment,null,D.createElement("div",{className:Object(cr.a)(sp.a.ActivityAchievementUnlocked,sp.a.AchievementRows),style:{gridTemplateColumns:l}},o))},Object(j.c)([o.observer],t)}(D.Component),yp=c.Message,Sp=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.count_new_items||l.a(r.M()),yp.initialize(t,e,0,-1,[2],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{count_new_items:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},unseen_items:{n:2,c:wp,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientItemAnnouncements"},r}(yp),wp=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),yp.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},context_id:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},asset_id:{n:3,br:l.d.readUint64String,bw:l.h.writeUint64String},amount:{n:4,br:l.d.readUint64String,bw:l.h.writeUint64String},rtime32_gained:{n:5,br:l.d.readFixed32,bw:l.h.writeFixed32},source_appid:{n:6,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgClientItemAnnouncements_UnseenItem"},r}(yp),Cp=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),yp.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},badge_level:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgBadgeCraftedNotification"},r}(yp),Op=c.Message;var Ep,Bp,Ap=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.communityitemid||l.a(r.M()),Op.initialize(t,e,0,-1,[5],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{communityitemid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},item_type:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},appid:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},owner:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},attributes:{n:5,c:Ip,r:!0,q:!0},used:{n:6,br:l.d.readBool,bw:l.h.writeBool},owner_origin:{n:7,br:l.d.readUint32,bw:l.h.writeUint32},amount:{n:8,br:l.d.readInt64String,bw:l.h.writeInt64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CQuest_CommunityItem"},r}(Op),Ip=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.attributeid||l.a(r.M()),Op.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{attributeid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},value:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CQuest_CommunityItem_Attribute"},r}(Op),jp=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.items||l.a(r.M()),Op.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{items:{n:1,c:Ap,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CQuest_GetCommunityInventory_Response"},r}(Op),Dp=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),Op.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},item_type:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},language:{n:4,br:l.d.readString,bw:l.h.writeString},broadcast_channel_id:{n:5,br:l.d.readUint64String,bw:l.h.writeUint64String},keyvalues_as_json:{n:6,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CQuest_GetCommunityItemDefinitions_Request"},r}(Op),Rp=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.item_definitions||l.a(r.M()),Op.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{item_definitions:{n:1,c:Tp,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CQuest_GetCommunityItemDefinitions_Response"},r}(Op),Tp=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.item_type||l.a(r.M()),Op.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{item_type:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},appid:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},item_name:{n:3,br:l.d.readString,bw:l.h.writeString},item_title:{n:4,br:l.d.readString,bw:l.h.writeString},item_description:{n:5,br:l.d.readString,bw:l.h.writeString},item_image_small:{n:6,br:l.d.readString,bw:l.h.writeString},item_image_large:{n:7,br:l.d.readString,bw:l.h.writeString},item_key_values:{n:8,br:l.d.readString,bw:l.h.writeString},item_series:{n:9,br:l.d.readUint32,bw:l.h.writeUint32},item_class:{n:10,br:l.d.readUint32,bw:l.h.writeUint32},editor_accountid:{n:11,br:l.d.readUint32,bw:l.h.writeUint32},active:{n:12,br:l.d.readBool,bw:l.h.writeBool},item_image_composed:{n:13,br:l.d.readString,bw:l.h.writeString},item_image_composed_foil:{n:14,br:l.d.readString,bw:l.h.writeString},deleted:{n:15,br:l.d.readBool,bw:l.h.writeBool},item_last_changed:{n:16,br:l.d.readUint32,bw:l.h.writeUint32},broadcast_channel_id:{n:17,br:l.d.readUint64String,bw:l.h.writeUint64String},item_movie_webm:{n:18,br:l.d.readString,bw:l.h.writeString},item_movie_mp4:{n:19,br:l.d.readString,bw:l.h.writeString},item_movie_webm_small:{n:20,br:l.d.readString,bw:l.h.writeString},item_movie_mp4_small:{n:21,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CQuest_GetCommunityItemDefinitions_Response_ItemDefinition"},r}(Op),Mp=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Op.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CQuest_ActivateProfileModifierItem_Response"},r}(Op);(Bp=Ep=Ep||{}).GetCommunityInventory=function(e,t){return e.SendMsg("Quest.GetCommunityInventory#1",t,jp,{bConstMethod:!0,ePrivilege:1})},Bp.GetCommunityItemDefinitions=function(e,t){return e.SendMsg("Quest.GetCommunityItemDefinitions#1",t,Rp,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:4})},Bp.ActivateProfileModifierItem=function(e,t){return e.SendMsg("Quest.ActivateProfileModifierItem#1",t,Mp,{ePrivilege:1})};var Np="community_items",Lp=new(function(){function e(){var i=this;this.m_mapBadgeData=new Map,this.m_mapCommunityItemDefs=new Map,this.OnBadgeCraftedNotification=ie(5625,Cp,function(e){var t=e.Body().appid();t&&i.InvalidateBadgeData(t)}),this.OnInvalidateItemsForApp=ie(5576,Sp,function(e){for(var t=new Map,n=0;n<e.Body().unseen_items().length;++n){var r=e.Body().unseen_items()[n].source_appid();0!=r&&t.set(r,r)}t.forEach(function(e){return i.InvalidateBadgeData(e)})})}return e.prototype.Init=function(e){this.m_CMInterface=e},e.prototype.FetchBadgeData=function(l){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,Vi.GetCachedDataForApp(l,"badge",1)];case 1:return(t=e.sent())&&this.m_mapBadgeData.set(l,t),n=B.a.ResolveURL("SteamIDBadgeInfo",l),[4,Wi.a.get(n,{retrycount:1})];case 2:if((r=e.sent()).badgedata){for((i={bHasBadgeData:!0}).strName=r.badgedata.name,i.strIconURL=r.badgedata.iconurl,i.nLevel=r.badgedata.level,i.nMaxLevel=r.badgedata.maxlevel,i.nXP=r.badgedata.xp,i.bMaxed=r.badgedata.bMaxed,i.strNextLevelName=r.badgedata.nextlevelname,i.nNextLevelXP=r.badgedata.nextlevelxp,i.rgCards=[],a=0,o=r.badgedata.rgCards;a<o.length;a++)s=o[a],c={strName:s.name,strTitle:s.title,strImgURL:s.imgurl,strArtworkURL:s.arturl,strMarketHash:s.markethash,nOwned:s.owned},i.rgCards.push(c);this.m_mapBadgeData.set(l,i),Vi.SetCachedDataForApp(l,"badge",1,i)}return[2]}})})},e.prototype.GetBadgeData=function(e){return this.m_mapBadgeData.has(e)||(this.m_mapBadgeData.set(e,{bHasBadgeData:!1}),this.FetchBadgeData(e)),this.m_mapBadgeData.get(e)},e.prototype.FetchCommunityItemDefinitions=function(i){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,Vi.GetCachedDataForApp(i,Np,1)];case 1:return(t=e.sent())&&this.m_mapCommunityItemDefs.set(i,t),(n=x.b.Init(Dp)).Body().set_appid(i),n.Body().set_language(A.c.LANGUAGE),n.Body().set_keyvalues_as_json(!0),[4,Ep.GetCommunityItemDefinitions(this.m_CMInterface.GetServiceTransport(),n)];case 2:return 1==(r=e.sent()).GetEResult()&&(t=r.Body().toObject().item_definitions,this.m_mapCommunityItemDefs.set(i,t),Vi.SetCachedDataForApp(i,Np,1,t)),[2]}})})},e.prototype.GetCommunityItemDefinitions=function(e){return this.m_mapCommunityItemDefs.has(e)||(this.m_mapCommunityItemDefs.set(e,[]),this.FetchCommunityItemDefinitions(e)),this.m_mapCommunityItemDefs.get(e)},e.prototype.InvalidateBadgeData=function(e){this.FetchBadgeData(e)},Object(j.c)([O.observable.shallow],e.prototype,"m_mapBadgeData",void 0),Object(j.c)([O.observable.shallow],e.prototype,"m_mapCommunityItemDefs",void 0),e}());window.badgeStore=Lp;var kp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.NavigateToBadgePage=function(){B.a.NavigateToSteamURL("SteamIDAppTradingCardsPage",this.props.details.unAppID)},t.prototype.render=function(){var e=Lp.GetCommunityItemDefinitions(this.props.details.unAppID);if(null==e||0==e.length)return"";for(var t=this.props.event.m_nNewBadgeLevel,n=void 0,r=0,i=e;r<i.length;r++){var a=i[r];if(a.item_class==this.props.event.m_nItemClass){n=a;break}}if(!n)return"";var o=JSON.parse(n.item_key_values),s=o.level_images,c=o.level_names,l="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/items/"+this.props.details.unAppID+"/"+s[t],u=c[t],p="object"==typeof u?(p=u[A.c.LANGUAGE])||u[Object(C.m)(0)]:u,d=D.createElement("div",{className:sp.a.BadgeSection},D.createElement("img",{className:sp.a.Badge,src:l,onClick:this.NavigateToBadgePage}),D.createElement("div",{className:sp.a.BadgeInfo},D.createElement("div",{className:sp.a.BadgeName},p),D.createElement("div",{className:sp.a.BadgeLevel},Object(R.f)("#AppDetails_BadgeLevelNoXP",t))));return D.createElement(Ks.a,null,d)},Object(j.c)([E.a],t.prototype,"NavigateToBadgePage",null),Object(j.c)([o.observer],t)}(D.Component),Fp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.NavigateToInventory=function(){B.a.NavigateToSteamURL("CommunityInventory")},t.prototype.render=function(){var e=Lp.GetCommunityItemDefinitions(this.props.details.unAppID);Lp.GetBadgeData(this.props.details.unAppID);if(null==e||0==e.length)return"";new Array;for(var t=void 0,n=0,r=e;n<r.length;n++){var i=r[n];if(i.item_class==this.props.event.m_nItemClass&&i.item_type==this.props.event.m_nItemType){t=i;break}}if(!t)return"";var a="https://steamcommunity-a.akamaihd.net/economy/boosterpack/"+this.props.details.unAppID+"?l="+A.c.LANGUAGE;return D.createElement(Ks.a,null,D.createElement("div",{className:sp.a.TradingCardSection},D.createElement("img",{className:sp.a.BoosterPack,src:a,onClick:this.NavigateToInventory})))},Object(j.c)([o.observer],t)}(D.Component),Pp=n("wUwH"),Gp=function(e){function t(){var p=null!==e&&e.apply(this,arguments)||this;return p.fnRecvEmoticonList=ie(9331,V.b,function(e){for(var t=[],n=0,r=e.Body().emoticons();n<r.length;n++){var i,a,o=r[n],s=o.name();s.startsWith("^")?t.push({name:s}):((a=(i={name:s.substr(1,s.length-2)}).name.toLowerCase())!=i.name&&(i.name_normalized=a),o.time_last_used()&&(i.last_used=o.time_last_used()),o.use_count()&&(i.use_count=o.use_count()),o.time_received()&&(i.time_received=o.time_received()),o.appid()&&(i.appid=o.appid()),t.push(i))}p.OnEmoticonListReceived(t);var c=e.Body().toObject();c.stickers&&(p.m_rgStickers=c.stickers.map(function(e){return e})),c.effects&&(p.m_rgEffects=c.effects.map(function(e){var t=e.name,n=Object(j.f)(e,["name"]);return Object(j.a)({name:t},n)}));var l=p.m_rgStickers.map(function(e){return e.time_received}).reduce(function(e,t){return Math.max(e,t)},Number.MIN_SAFE_INTEGER),u=p.m_rgEffects.map(function(e){return e.time_received}).reduce(function(e,t){return Math.max(e,t)},Number.MIN_SAFE_INTEGER);p.m_rtLastStickerOrEffect=Math.max(l,u)}),p}return Object(j.d)(t,e),t.prototype.Init=function(e){this.m_CMInterface=e},t.prototype.BInitialized=function(){return!!this.m_CMInterface},t.prototype.GetServerTime=function(){return this.m_CMInterface.GetServerRTime32()},t.prototype.RequestEmoticonListInternal=function(){var t=this;this.m_CMInterface.RunWhenLoggedOn(function(){var e=x.b.Init(V.d,9330);t.m_CMInterface.Send(e)})},t}(Pp.a),Up=n("a5LV"),xp=n("ZeAL"),zp=n("MCLT"),Hp=n("qRNb"),Wp=n.n(Hp),Vp=n("Gorr"),qp=n("+d9t");function Yp(e,t){return Object(zp.isNullOrUndefined)(t)?e[""]:e[t]}function Qp(e){return D.createElement("div",{className:Wp.a.Bold},e.children)}function Zp(e){return D.createElement("div",{className:Wp.a.Italic},e.children)}function Kp(e){return D.createElement("div",{className:Wp.a.Underline},e.children)}function Jp(e){return D.createElement("div",{className:Wp.a.Strike},e.children)}function Xp(e){return D.createElement("div",{className:Wp.a.Header1},e.children)}function $p(e){return D.createElement("span",{className:Wp.a.Spoiler},D.createElement("span",{className:Wp.a.SpoilerText},e.children))}function ed(e){return D.createElement(qp.a,{href:Yp(e.args)},e.children)}function td(e){return D.createElement("a",{className:Wp.a.DisabledMouseEvents,href:Yp(e.args)},e.children)}function nd(e){var t=Yp(e.args);return t?D.createElement("blockquote",{className:Wp.a.BlockQuote},D.createElement("div",{className:Wp.a.QuoteAuthor},Object(R.f)("#Bbcode_Originally_Posted_By")+" "," ",D.createElement("b",null,t+":")),e.children):D.createElement("blockquote",{className:Wp.a.BlockQuote},e.children)}function rd(e){return D.createElement("div",{className:Wp.a.Code},e.children)}function id(e){return D.createElement("ul",{className:Wp.a.List},e.children)}function ad(e){return D.createElement("ol",{className:Wp.a.OrderedList},e.children)}function od(e){return D.createElement("li",{className:Wp.a.ListItem},e.children)}function sd(e){var n="";return"string"==typeof e.children?n=e.children:D.Children.forEach(e.children,function(e){var t;"string"==typeof e&&(n+=e),"object"!=typeof e||!e.props||(t=e.props["bbcode-text"])&&(n+=t)}),n?D.createElement(Vp.b,{emoticon:n,emoticonHoverStore:Sd.EmoticonHoverStore}):null}function cd(e){return e.children}var ld,ud,pd,dd,md=n("nrKv"),hd=n("MUT6"),fd={koreana:"korean",schinese:"simplified chinese",tchinese:"traditional chinese",brazilian:"portuguese (brazilian)",latam:"spanish"};function bd(e){switch(e){case ld.k_ECommentThreadTypeInvalid:return"Invalid";case ld.k_ECommentThreadTypeScreenshot_Deprecated:return"Screenshot";case ld.k_ECommentThreadTypeWorkshopAccount_Developer:return"WorkshopAccount_Developer";case ld.k_ECommentThreadTypeWorkshopAccount_Public:return"WorkshopAccount_Public";case ld.k_ECommentThreadTypePublishedFile_Developer:return"PublishedFile_Developer";case ld.k_ECommentThreadTypePublishedFile_Public:return"PublishedFile_Public";case ld.k_ECommentThreadTypeTest:return"Test";case ld.k_ECommentThreadTypeForumTopic:return"ForumTopic";case ld.k_ECommentThreadTypeRecommendation:return"Recommendation";case ld.k_ECommentThreadTypeVideo_Deprecated:return"Video";case ld.k_ECommentThreadTypeProfile:return"Profile";case ld.k_ECommentThreadTypeNewsPost:return"NewsPost";case ld.k_ECommentThreadTypeClan:return"Clan";case ld.k_ECommentThreadTypeClanAnnouncement:return"ClanAnnouncement";case ld.k_ECommentThreadTypeClanEvent:return"ClanEvent";case ld.k_ECommentThreadTypeUserStatusPublished:return"UserStatusPublished";case ld.k_ECommentThreadTypeUserReceivedNewGame:return"UserReceivedNewGame";case ld.k_ECommentThreadTypePublishedFile_Announcement:return"PublishedFile_Announcement";case ld.k_ECommentThreadTypeModeratorMessage:return"ModeratorMessage";case ld.k_ECommentThreadTypeClanCuratedApp:return"ClanCuratedApp";default:return"Invalid"}}(ud=ld=ld||{})[ud.k_ECommentThreadTypeInvalid=0]="k_ECommentThreadTypeInvalid",ud[ud.k_ECommentThreadTypeScreenshot_Deprecated=1]="k_ECommentThreadTypeScreenshot_Deprecated",ud[ud.k_ECommentThreadTypeWorkshopAccount_Developer=2]="k_ECommentThreadTypeWorkshopAccount_Developer",ud[ud.k_ECommentThreadTypeWorkshopAccount_Public=3]="k_ECommentThreadTypeWorkshopAccount_Public",ud[ud.k_ECommentThreadTypePublishedFile_Developer=4]="k_ECommentThreadTypePublishedFile_Developer",ud[ud.k_ECommentThreadTypePublishedFile_Public=5]="k_ECommentThreadTypePublishedFile_Public",ud[ud.k_ECommentThreadTypeTest=6]="k_ECommentThreadTypeTest",ud[ud.k_ECommentThreadTypeForumTopic=7]="k_ECommentThreadTypeForumTopic",ud[ud.k_ECommentThreadTypeRecommendation=8]="k_ECommentThreadTypeRecommendation",ud[ud.k_ECommentThreadTypeVideo_Deprecated=9]="k_ECommentThreadTypeVideo_Deprecated",ud[ud.k_ECommentThreadTypeProfile=10]="k_ECommentThreadTypeProfile",ud[ud.k_ECommentThreadTypeNewsPost=11]="k_ECommentThreadTypeNewsPost",ud[ud.k_ECommentThreadTypeClan=12]="k_ECommentThreadTypeClan",ud[ud.k_ECommentThreadTypeClanAnnouncement=13]="k_ECommentThreadTypeClanAnnouncement",ud[ud.k_ECommentThreadTypeClanEvent=14]="k_ECommentThreadTypeClanEvent",ud[ud.k_ECommentThreadTypeUserStatusPublished=15]="k_ECommentThreadTypeUserStatusPublished",ud[ud.k_ECommentThreadTypeUserReceivedNewGame=16]="k_ECommentThreadTypeUserReceivedNewGame",ud[ud.k_ECommentThreadTypePublishedFile_Announcement=17]="k_ECommentThreadTypePublishedFile_Announcement",ud[ud.k_ECommentThreadTypeModeratorMessage=18]="k_ECommentThreadTypeModeratorMessage",ud[ud.k_ECommentThreadTypeClanCuratedApp=19]="k_ECommentThreadTypeClanCuratedApp",ud[ud.k_ECommentThreadTypeMax=20]="k_ECommentThreadTypeMax",(dd=pd=pd||{})[dd.Invalid=0]="Invalid",dd[dd.FriendAdded=1]="FriendAdded",dd[dd.AchievementUnlocked=2]="AchievementUnlocked",dd[dd.ReceivedNewGame=3]="ReceivedNewGame",dd[dd.JoinedGroup=4]="JoinedGroup",dd[dd.CommentByMe=5]="CommentByMe",dd[dd.FriendRemoved=6]="FriendRemoved",dd[dd.GroupCreated=7]="GroupCreated",dd[dd.CommentOnMe=8]="CommentOnMe",dd[dd.AddedGameToWishlist=9]="AddedGameToWishlist",dd[dd.RecommendedGame=10]="RecommendedGame",dd[dd.ScreenshotPublished_Deprecated=11]="ScreenshotPublished_Deprecated",dd[dd.VideoPublished_Deprecated=12]="VideoPublished_Deprecated",dd[dd.FilePublished_Screenshot=13]="FilePublished_Screenshot",dd[dd.FilePublished_Video=14]="FilePublished_Video",dd[dd.FilePublished_WorkshopItem=15]="FilePublished_WorkshopItem",dd[dd.UserStatus=16]="UserStatus",dd[dd.FilePublished_Collection=17]="FilePublished_Collection",dd[dd.FilePublished_GreenlightGame=18]="FilePublished_GreenlightGame",dd[dd.FilePublished_WorkshopAnnouncement=19]="FilePublished_WorkshopAnnouncement",dd[dd.FilePublished_WebGuide=20]="FilePublished_WebGuide",dd[dd.FilePublished_Screenshot_Tagged=21]="FilePublished_Screenshot_Tagged",dd[dd.FilePublished_Art=22]="FilePublished_Art",dd[dd.FileFavorited=23]="FileFavorited",dd[dd.PlayedGameFirstTime=30]="PlayedGameFirstTime",dd[dd.ClanAchievement=1001]="ClanAchievement",dd[dd.PostedAnnouncement=1002]="PostedAnnouncement",dd[dd.ScheduledEvent=1003]="ScheduledEvent",dd[dd.SelectedNewPOTW=1004]="SelectedNewPOTW",dd[dd.PromotedNewAdmin=1005]="PromotedNewAdmin",dd[dd.MessageOnClanPage=1006]="MessageOnClanPage",dd[dd.CuratorRecommendedGame=1007]="CuratorRecommendedGame";var _d,vd,gd=function(){function e(e,t,n,r){this.m_rgComments=[],this.m_bUpdating=!1,this.m_eThreadType=e,this.m_steamIDActor=t,this.m_gidfeature=n,this.m_gidfeature2=r;this.FetchPastComments(5)}return e.prototype.GetUpVoters=function(){var n=new Array;return this.m_threadInfo.upvoters&&this.m_threadInfo.upvoters.forEach(function(e){var t=H.a.InitFromAccountID(e);t.ConvertTo64BitString()!=Sd.CMInterface.steamid.ConvertTo64BitString()&&n.push(t)}),n},e.prototype.FetchPastComments=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_bUpdating?[2]:(this.m_bUpdating=!0,(t=x.b.Init(hd.f)).Body().set_steamid(this.m_steamIDActor.ConvertTo64BitString()),t.Body().set_comment_thread_type(this.m_eThreadType),t.Body().set_gidfeature(this.m_gidfeature),this.m_gidfeature2&&t.Body().set_gidfeature2(this.m_gidfeature2),t.Body().set_start(this.m_rgComments.length),t.Body().set_count(r),t.Body().set_upvoters(3),t.Body().set_oldest_first(!1),[4,hd.o.GetCommentThread(Sd.CMInterface.GetServiceTransport(),t)]);case 1:return 1==(n=e.sent()).GetEResult()?(this.m_threadInfo=n.Body().toObject(),this.m_rgComments=n.Body().comments().reverse().map(function(e){return e.toObject()}).concat(this.m_rgComments)):console.log("Failed to fetch past comments: "+n.GetEResult()),this.m_bUpdating=!1,[2]}})})},e.prototype.FetchRecentComments=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_bUpdating?[2]:(this.m_bUpdating=!0,(t=x.b.Init(hd.f)).Body().set_steamid(this.m_steamIDActor.ConvertTo64BitString()),t.Body().set_comment_thread_type(this.m_eThreadType),t.Body().set_gidfeature(this.m_gidfeature),this.m_gidfeature2&&t.Body().set_gidfeature2(this.m_gidfeature2),t.Body().set_start(this.m_threadInfo?this.m_threadInfo.total_count:0),t.Body().set_count(50),t.Body().set_upvoters(3),t.Body().set_oldest_first(!0),[4,hd.o.GetCommentThread(Sd.CMInterface.GetServiceTransport(),t)]);case 1:return 1!=(n=e.sent()).GetEResult()?(console.log("Failed to update comments: "+n.GetEResult()),[2]):(this.m_rgComments=this.m_rgComments.concat(n.Body().comments().map(function(e){return e.toObject()})),this.m_threadInfo=n.Body().toObject(),this.m_bUpdating=!1,[2])}})})},e.prototype.PostCommentToThread=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return""==r?[2]:((t=x.b.Init(hd.l)).Body().set_steamid(this.m_steamIDActor.ConvertTo64BitString()),t.Body().set_comment_thread_type(this.m_eThreadType),t.Body().set_gidfeature(this.m_gidfeature),this.m_gidfeature2&&t.Body().set_gidfeature2(this.m_gidfeature2),t.Body().set_text(r),[4,hd.o.PostCommentToThread(Sd.CMInterface.GetServiceTransport(),t)]);case 1:return 1==(n=e.sent()).GetEResult()?(this.FetchRecentComments(),this.m_threadInfo.total_count++):console.log("Failed to post comment: "+n.GetEResult()),[2]}})})},e.prototype.RateCommentOrThread=function(r,i){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(hd.n)).Body().set_steamid(this.m_steamIDActor.ConvertTo64BitString()),t.Body().set_commentthreadtype(bd(this.m_eThreadType)),t.Body().set_gidfeature(this.m_gidfeature),this.m_gidfeature2&&t.Body().set_gidfeature2(this.m_gidfeature2),t.Body().set_rate_up(r),i&&t.Body().set_gidcomment(i.gidcomment),[4,hd.o.RateCommentThread(Sd.CMInterface.GetServiceTransport(),t)];case 1:return 1==(n=e.sent()).GetEResult()?i?(i.upvoted_by_user=r,i.upvotes?i.upvotes+=r?1:-1:i.upvotes=r?1:-1):(this.m_threadInfo.user_upvoted=n.Body().has_upvoted(),this.m_threadInfo.upvotes=n.Body().upvotes()):1!=n.GetEResult()&&console.log("Failed to rate comment or thread: "+n.GetEResult()),[2]}})})},e.prototype.DeleteComment=function(i){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(hd.b)).Body().set_steamid(this.m_steamIDActor.ConvertTo64BitString()),t.Body().set_comment_thread_type(this.m_eThreadType),t.Body().set_gidfeature(this.m_gidfeature),t.Body().set_gidcomment(i.gidcomment),[4,hd.o.DeleteCommentFromThread(Sd.CMInterface.GetServiceTransport(),t)];case 1:return 1==(n=e.sent()).GetEResult()?(-1<(r=this.m_rgComments.indexOf(i))&&this.m_rgComments.splice(r,1),this.m_threadInfo.total_count--,this.FetchRecentComments()):console.log("Failed to delete comment: "+n.GetEResult()),[2]}})})},e.prototype.BLocalUserOwnsThread=function(){return this.m_steamIDActor.ConvertTo64BitString()==Sd.CMInterface.steamid.ConvertTo64BitString()},Object(j.c)([O.observable],e.prototype,"m_threadInfo",void 0),Object(j.c)([O.observable],e.prototype,"m_rgComments",void 0),Object(j.c)([E.a],e.prototype,"RateCommentOrThread",null),e}(),yd=function(){function o(){this.m_mapThreads=new Map}return o.Key=function(e,t,n,r){return bd(e)+"|"+t.ConvertTo64BitString()+"|"+n+"|"+r},o.prototype.FindOrLoadThread=function(e,t,n,r){var i=o.Key(e,t,n,r),a=this.m_mapThreads.get(i);return a||(a=new gd(e,t,n,r),this.m_mapThreads.set(i,a)),a},o.prototype.FindOrLoadThreadByPublishedFileID=function(e,t){return this.FindOrLoadThread(ld.k_ECommentThreadTypePublishedFile_Public,e,t)},o}(),Sd=new(function(){function e(){this.m_CommentThreadStore=new yd,this.m_EmoticonStore=new Gp,this.m_EmoticonHoverStore=new Up.a}return e.prototype.Init=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return this.m_CMInterface=t,this.m_EmoticonStore.Init(t),[2]})})},Object.defineProperty(e.prototype,"CMInterface",{get:function(){return this.m_CMInterface},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ThreadStore",{get:function(){return this.m_CommentThreadStore},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"EmoticonStore",{get:function(){return this.m_EmoticonStore},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"EmoticonHoverStore",{get:function(){return this.m_EmoticonHoverStore},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"UserStatusBBCodeParser",{get:function(){return this.m_UserStatusPostBBCodeParser||(this.m_UserStatusPostBBCodeParser=new xp.a(e.s_mapStatusPostBBCodeDictionary,function(){return new md.c(new md.b)})),this.m_UserStatusPostBBCodeParser},enumerable:!1,configurable:!0}),e.prototype.FormatAndParseUserStatusBBCode=function(e,t){void 0===t&&(t={});var n=(n=e.replace(Pp.a.GetEmoticonReplaceRegex(),"[emoticon]$1[/emoticon]")).replace(/(^|[^='"])(https?:[\/\\\]+[^\S\[]*[^\s\[\).?])/gi,"[url=$2]$2[/url]");return this.UserStatusBBCodeParser.ParseBBCode(n,t)},e.s_mapStatusPostBBCodeDictionary=new Map([["b",{Constructor:Qp,autocloses:!1}],["i",{Constructor:Zp,autocloses:!1}],["u",{Constructor:Kp,autocloses:!1}],["strike",{Constructor:Jp,autocloses:!1}],["spoiler",{Constructor:$p,autocloses:!1}],["noparse",{Constructor:cd,autocloses:!1}],["url",{Constructor:ed,autocloses:!1}],["emoticon",{Constructor:sd,autocloses:!1}]]),e}());function wd(o,s){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(j.e)(this,function(e){switch(e.label){case 0:if(t="",s==_d.Up?t="voteup":s==_d.Down&&(t="votedown"),!t)throw new Error("Invalid direction");return n=B.a.GetCommunityURL(),r=n+"sharedfiles/"+t,(i=new URLSearchParams).append("id",o),i.append("sessionid",A.c.SESSIONID),[4,Wi.a.post(r,i,{retrycount:1})];case 1:if(!(a=e.sent()).success)throw new Error("Invalid response");if(1!=a.success)throw a.success;return[2,a.success]}})})}window.communityStore=Sd,(vd=_d=_d||{})[vd.None=0]="None",vd[vd.Up=1]="Up",vd[vd.Down=2]="Down";var Cd=n("0QoN"),Od=n("4Yh8"),Ed=n.n(Od),Bd=function(n){function e(e){var t=n.call(this,e)||this;return t.m_bHasText=!1,t.m_TextAreaRef=D.createRef(),t.m_elPostControlsRef=D.createRef(),t.state={strText:"",bHaveFocus:!1},t}return Object(j.d)(e,n),e.prototype.OnPostClicked=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return this.SetInputValue(""),[4,this.props.OnPostClicked(this.state.strText)];case 1:return e.sent(),[2]}})})},e.prototype.OnChange=function(e){this.m_bHasText=""!=e.currentTarget.value,this.SetInputValue(e.currentTarget.value)},e.prototype.SetInputValue=function(e,t){this.setState({strText:e},t)},e.prototype.InsertEmoticon=function(e,t){t||this.m_TextAreaRef.current.focus(),this.InsertAtCursor(":"+e+":")},e.prototype.OnFocus=function(e){var t=this;this.setState({bHaveFocus:!0});var n=this.m_elPostControlsRef.current;this.m_iTimeOutVoiceSettingsScroll=window.setTimeout(function(){n&&n.getBoundingClientRect().top>window.innerHeight&&n.scrollIntoView({behavior:"smooth",block:"end",inline:"end"}),window.clearTimeout(t.m_iTimeOutVoiceSettingsScroll)},200)},e.prototype.OnBlur=function(e){e.relatedTarget&&Fa.c(Po.findDOMNode(this),e.relatedTarget)||this.setState({bHaveFocus:!1})},e.prototype.InsertAtCursor=function(e){var t=this.m_TextAreaRef.current.textarea,n=t.value,r=n.substr(0,t.selectionStart)+e+n.substr(t.selectionEnd),i=t.selectionStart+e.length;this.SetInputValue(r,function(){t.selectionStart=t.selectionEnd=i})},e.prototype.render=function(){var e=this.state,t=e.bHaveFocus,n=e.strText,r=this.props,i=r.className,a=(r.OnPostClicked,r.placeholder,Object(j.f)(r,["className","OnPostClicked","placeholder"])),o=t||!!n;return D.createElement("div",Object(j.a)({className:Object(cr.a)(Ed.a.PostTextEntry,i)},a),D.createElement(Si.a,{ref:this.m_TextAreaRef,className:Ed.a.PostTextEntryArea,nMinHeight:o?40:20,value:n,onChange:this.OnChange,placeholder:this.props.placeholder,onFocus:this.OnFocus,onBlur:this.OnBlur,onContextMenu:Hi.h}),D.createElement("div",{className:Object(cr.a)(Ed.a.Controls,o&&Ed.a.Active),ref:this.m_elPostControlsRef},D.createElement(Cd.a,{className:Ed.a.EmoticonButton,disabled:!1,OnEmoticonSelected:this.InsertEmoticon,emoticonHoverStore:Sd.EmoticonHoverStore,emoticonStore:Sd.EmoticonStore}),D.createElement("div",{className:Object(cr.a)(Ed.a.PostButton,this.m_bHasText&&Ed.a.Enabled),onClick:this.OnPostClicked},D.createElement("p",{className:Ed.a.Label},Object(R.f)("#AppActivity_PostStatusUpdate")))))},Object(j.c)([O.observable],e.prototype,"m_bHasText",void 0),Object(j.c)([E.a],e.prototype,"OnPostClicked",null),Object(j.c)([E.a],e.prototype,"OnChange",null),Object(j.c)([E.a],e.prototype,"SetInputValue",null),Object(j.c)([E.a],e.prototype,"InsertEmoticon",null),Object(j.c)([E.a],e.prototype,"OnFocus",null),Object(j.c)([E.a],e.prototype,"OnBlur",null),e}(D.Component),Ad=n("ARGL"),Id=n("WBba"),jd=c.Message;var Dd,Rd,Td,Md=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:l.d.readFixed64String,bw:l.h.writeFixed64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetSummary_Request"},r}(jd),Nd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.summary||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{summary:{n:1,c:Ld},timestamp_updated:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},auditid_highwater:{n:3,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetSummary_Response"},r}(jd),Ld=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.points||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{points:{n:1,br:l.d.readInt64String,bw:l.h.writeInt64String},points_earned:{n:2,br:l.d.readInt64String,bw:l.h.writeInt64String},points_spent:{n:3,br:l.d.readInt64String,bw:l.h.writeInt64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetSummary_Response_Summary"},r}(jd),kd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.points||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{points:{n:1,br:l.d.readInt64String,bw:l.h.writeInt64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetPointsForSpend_Response"},r}(jd),Fd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.communityitemid||l.a(r.M()),jd.initialize(t,e,0,-1,[2],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{communityitemid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},bundle_community_item_ids:{n:2,r:!0,q:!0,br:l.d.readUint64String,bw:l.h.writeRepeatedUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_RedeemPoints_Response"},r}(jd),Pd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.purchaseid||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{purchaseid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_RedeemPointsForProfileCustomization_Response"},r}(jd),Gd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CLoyaltyRewards_RedeemPointsForProfileCustomizationUpgrade_Response"},r}(jd),Ud=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.target_type||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{target_type:{n:1,br:l.d.readEnum,bw:l.h.writeEnum},targetid:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},reactionid:{n:3,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_AddReaction_Request"},r}(jd),xd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CLoyaltyRewards_AddReaction_Response"},r}(jd),zd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.target_type||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{target_type:{n:1,br:l.d.readEnum,bw:l.h.writeEnum},targetid:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetReactions_Request"},r}(jd),Hd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.reactionids||l.a(r.M()),jd.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{reactionids:{n:1,r:!0,q:!0,br:l.d.readUint32,bw:l.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetReactions_Response"},r}(jd),Wd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.total||l.a(r.M()),jd.initialize(t,e,0,-1,[1,2,3,4,5,6],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{total:{n:1,c:Vd,r:!0,q:!0},user_reviews:{n:2,c:Vd,r:!0,q:!0},ugc:{n:3,c:Vd,r:!0,q:!0},profile:{n:4,c:Vd,r:!0,q:!0},forum_topics:{n:5,c:Vd,r:!0,q:!0},comments:{n:6,c:Vd,r:!0,q:!0},total_given:{n:7,br:l.d.readUint32,bw:l.h.writeUint32},total_received:{n:8,br:l.d.readUint32,bw:l.h.writeUint32},total_points_given:{n:9,br:l.d.readInt64String,bw:l.h.writeInt64String},total_points_received:{n:10,br:l.d.readInt64String,bw:l.h.writeInt64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetReactionsSummaryForUser_Response"},r}(jd),Vd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.reactionid||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{reactionid:{n:1,br:l.d.readEnum,bw:l.h.writeEnum},given:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},received:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},points_given:{n:4,br:l.d.readInt64String,bw:l.h.writeInt64String},points_received:{n:5,br:l.d.readInt64String,bw:l.h.writeInt64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetReactionsSummaryForUser_Response_Breakdown"},r}(jd),qd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetReactionConfig_Request"},r}(jd),Yd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.reactions||l.a(r.M()),jd.initialize(t,e,0,-1,[3],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{reactions:{n:3,c:Qd,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetReactionConfig_Response"},r}(jd),Qd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.reactionid||l.a(r.M()),jd.initialize(t,e,0,-1,[4,5],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{reactionid:{n:1,br:l.d.readEnum,bw:l.h.writeEnum},points_cost:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},points_transferred:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},valid_target_types:{n:4,r:!0,q:!0,br:l.d.readEnum,bw:l.h.writeRepeatedEnum},valid_ugc_types:{n:5,r:!0,q:!0,br:l.d.readUint32,bw:l.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetReactionConfig_Response_ReactionConfig"},r}(jd),Zd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.points_cost||l.a(r.M()),jd.initialize(t,e,0,-1,[3,4],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{points_cost:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},upgrade_points_cost:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},purchasable_customization_types:{n:3,r:!0,q:!0,br:l.d.readEnum,bw:l.h.writeRepeatedEnum},upgradable_customization_types:{n:4,r:!0,q:!0,br:l.d.readEnum,bw:l.h.writeRepeatedEnum},max_slots_per_type:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},max_upgradable_level:{n:6,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetProfileCustomizationsConfig_Response"},r}(jd),Kd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.apps||l.a(r.M()),jd.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{apps:{n:1,c:Jd,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetEligibleApps_Response"},r}(jd),Jd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},has_items_anyone_can_purchase:{n:2,br:l.d.readBool,bw:l.h.writeBool},event_app:{n:3,br:l.d.readBool,bw:l.h.writeBool},hero_carousel_image:{n:4,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetEligibleApps_Response_EligibleApp"},r}(jd),Xd=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),jd.initialize(t,e,0,-1,[15],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},defid:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},type:{n:3,br:l.d.readEnum,bw:l.h.writeEnum},community_item_class:{n:4,br:l.d.readInt32,bw:l.h.writeInt32},community_item_type:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},point_cost:{n:6,br:l.d.readInt64String,bw:l.h.writeInt64String},timestamp_created:{n:7,br:l.d.readUint32,bw:l.h.writeUint32},timestamp_updated:{n:8,br:l.d.readUint32,bw:l.h.writeUint32},timestamp_available:{n:9,br:l.d.readUint32,bw:l.h.writeUint32},timestamp_available_end:{n:14,br:l.d.readUint32,bw:l.h.writeUint32},quantity:{n:10,br:l.d.readInt64String,bw:l.h.writeInt64String},internal_description:{n:11,br:l.d.readString,bw:l.h.writeString},active:{n:12,br:l.d.readBool,bw:l.h.writeBool},community_item_data:{n:13,c:$d},bundle_defids:{n:15,r:!0,q:!0,br:l.d.readUint32,bw:l.h.writeRepeatedUint32},usable_duration:{n:16,br:l.d.readUint32,bw:l.h.writeUint32},bundle_discount:{n:17,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"LoyaltyRewardDefinition"},r}(jd),$d=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.item_name||l.a(r.M()),jd.initialize(t,e,0,-1,[9],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{item_name:{n:1,br:l.d.readString,bw:l.h.writeString},item_title:{n:2,br:l.d.readString,bw:l.h.writeString},item_description:{n:3,br:l.d.readString,bw:l.h.writeString},item_image_small:{n:4,br:l.d.readString,bw:l.h.writeString},item_image_large:{n:5,br:l.d.readString,bw:l.h.writeString},item_movie_webm:{n:6,br:l.d.readString,bw:l.h.writeString},item_movie_mp4:{n:7,br:l.d.readString,bw:l.h.writeString},item_movie_webm_small:{n:10,br:l.d.readString,bw:l.h.writeString},item_movie_mp4_small:{n:11,br:l.d.readString,bw:l.h.writeString},animated:{n:8,br:l.d.readBool,bw:l.h.writeBool},badge_data:{n:9,c:em,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"LoyaltyRewardDefinition_CommunityItemData"},r}(jd),em=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.level||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{level:{n:1,br:l.d.readInt32,bw:l.h.writeInt32},image:{n:2,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"LoyaltyRewardDefinition_BadgeData"},r}(jd),tm=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.bonusid||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{bonusid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},appid:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},active:{n:3,br:l.d.readBool,bw:l.h.writeBool},points:{n:4,br:l.d.readInt32,bw:l.h.writeInt32},timestamp_start:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},timestamp_end:{n:6,br:l.d.readUint32,bw:l.h.writeUint32},internal_description:{n:7,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"LoyaltyRewardPurchaseBonus"},r}(jd),nm=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.bonuses||l.a(r.M()),jd.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{bonuses:{n:1,c:tm,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_GetActivePurchaseBonuses_Response"},r}(jd),rm=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.definitions||l.a(r.M()),jd.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{definitions:{n:1,c:Xd,r:!0,q:!0},total_count:{n:2,br:l.d.readInt32,bw:l.h.writeInt32},count:{n:3,br:l.d.readInt32,bw:l.h.writeInt32},next_cursor:{n:4,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_QueryRewardItems_Response"},r}(jd),im=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.responses||l.a(r.M()),jd.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{responses:{n:1,c:am,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_BatchedQueryRewardItems_Response"},r}(jd),am=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.eresult||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{eresult:{n:1,br:l.d.readInt32,bw:l.h.writeInt32},response:{n:2,c:rm}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CLoyaltyRewards_BatchedQueryRewardItems_Response_Response"},r}(jd),om=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.communityitemid||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{communityitemid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},next_claim_time:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},reward_item:{n:3,c:Xd}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CSaleItemRewards_ClaimItem_Response"},r}(jd),sm=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.can_claim||l.a(r.M()),jd.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{can_claim:{n:1,br:l.d.readBool,bw:l.h.writeBool},next_claim_time:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},reward_item:{n:3,c:Xd}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CSaleItemRewards_CanClaimItem_Response"},r}(jd);(Rd=Dd=Dd||{}).GetPointsForSpend=function(e,t){return e.SendMsg("LoyaltyRewards.GetPointsForSpend#1",t,kd,{bConstMethod:!0,ePrivilege:0,eWebAPIKeyRequirement:1})},Rd.GetSummary=function(e,t){return e.SendMsg("LoyaltyRewards.GetSummary#1",t,Nd,{bConstMethod:!0,ePrivilege:1})},Rd.RedeemPoints=function(e,t){return e.SendMsg("LoyaltyRewards.RedeemPoints#1",t,Fd,{ePrivilege:1})},Rd.RedeemPointsForBadgeLevel=function(e,t){return e.SendMsg("LoyaltyRewards.RedeemPointsForBadgeLevel#1",t,Fd,{ePrivilege:1})},Rd.RedeemPointsToUpgradeItem=function(e,t){return e.SendMsg("LoyaltyRewards.RedeemPointsToUpgradeItem#1",t,Fd,{ePrivilege:1})},Rd.RedeemPointsForProfileCustomization=function(e,t){return e.SendMsg("LoyaltyRewards.RedeemPointsForProfileCustomization#1",t,Pd,{ePrivilege:1})},Rd.RedeemPointsForProfileCustomizationUpgrade=function(e,t){return e.SendMsg("LoyaltyRewards.RedeemPointsForProfileCustomizationUpgrade#1",t,Gd,{ePrivilege:1})},Rd.AddReaction=function(e,t){return e.SendMsg("LoyaltyRewards.AddReaction#1",t,xd,{ePrivilege:1})},Rd.GetReactions=function(e,t){return e.SendMsg("LoyaltyRewards.GetReactions#1",t,Hd,{bConstMethod:!0,ePrivilege:1})},Rd.GetReactionsSummaryForUser=function(e,t){return e.SendMsg("LoyaltyRewards.GetReactionsSummaryForUser#1",t,Wd,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},Rd.GetReactionConfig=function(e,t){return e.SendMsg("LoyaltyRewards.GetReactionConfig#1",t,Yd,{bConstMethod:!0,ePrivilege:0,eWebAPIKeyRequirement:1})},Rd.GetProfileCustomizationsConfig=function(e,t){return e.SendMsg("LoyaltyRewards.GetProfileCustomizationsConfig#1",t,Zd,{bConstMethod:!0,ePrivilege:0,eWebAPIKeyRequirement:1})},Rd.GetEligibleApps=function(e,t){return e.SendMsg("LoyaltyRewards.GetEligibleApps#1",t,Kd,{bConstMethod:!0,ePrivilege:0,eWebAPIKeyRequirement:1})},Rd.GetActivePurchaseBonuses=function(e,t){return e.SendMsg("LoyaltyRewards.GetActivePurchaseBonuses#1",t,nm,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},Rd.QueryRewardItems=function(e,t){return e.SendMsg("LoyaltyRewards.QueryRewardItems#1",t,rm,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},Rd.BatchedQueryRewardItems=function(e,t){return e.SendMsg("LoyaltyRewards.BatchedQueryRewardItems#1",t,im,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},(Td={}).ClaimItem=function(e,t){return e.SendMsg("SaleItemRewards.ClaimItem#1",t,om,{ePrivilege:1})},Td.CanClaimItem=function(e,t){return e.SendMsg("SaleItemRewards.CanClaimItem#1",t,sm,{bConstMethod:!0,ePrivilege:1})};function cm(e){var t=e.className,n=Object(j.f)(e,["className"]);return d.a.createElement("button",Object(j.a)({className:Object(cr.a)(t,dm.UnstyledButton)},n))}var lm,um,pm=function(){function e(e){this.m_lPointsAvailable=null,this.m_bPointsBalanceLoadedOrInFlight=!1,this.m_mapReactionConfiguration=new Map,this.m_bReactionConfigurationLoadedOrInFlight=!1,this.m_mapExistingReactions=new Map,this.m_transport=e}return e.prototype.BIsLoggedIn=function(){return A.h.logged_in},e.prototype.SetTarget=function(e,t){this.m_targetID=e,this.m_eTargetType=t,this.LoadExistingReactions()},e.prototype.AddReaction=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.BIsLoggedIn()?((t=x.b.Init(Ud)).Body().set_target_type(this.m_eTargetType),t.Body().set_targetid(this.m_targetID),t.Body().set_reactionid(r),console.log(" ProtoBuf sending..."),console.log(t),console.log("Target ID is..."+t.Body().targetid()),[4,Dd.AddReaction(this.m_transport,t)]):[2,{eResult:21,strMessage:"Not logged on"}];case 1:return 1!=(n=e.sent()).GetEResult()?console.error("Error when calling LoyaltyRewardsService.AddReaction: EResult="+n.GetEResult()):this.m_bPointsBalanceLoadedOrInFlight=!1,[2,{eResult:n.GetEResult(),strMessage:""}]}})})},e.prototype.GetUserPointBalance=function(){return this.BIsLoggedIn()?(this.m_bPointsBalanceLoadedOrInFlight||this.LoadUserPointBalance(),this.m_lPointsAvailable):null},e.prototype.LoadUserPointBalance=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.BIsLoggedIn()?(this.m_bPointsBalanceLoadedOrInFlight=!0,(t=x.b.Init(Md)).SetBodyFields({steamid:A.h.steamid}),[4,Dd.GetSummary(this.m_transport,t)]):[2,Promise.resolve(null)];case 1:return 1==(n=e.sent()).GetEResult()?this.m_lPointsAvailable=s.a.fromString(n.Body().summary().points()):console.error("Error when calling LoyaltyRewardsService.GetSummary: EResult="+n.GetEResult()),[2]}})})},e.prototype.GetAwardConfigurations=function(){return this.m_bReactionConfigurationLoadedOrInFlight||this.LoadAwardsConfiguration(),this.m_mapReactionConfiguration},e.prototype.LoadAwardsConfiguration=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_bReactionConfigurationLoadedOrInFlight=!0,t=x.b.Init(qd),[4,Dd.GetReactionConfig(this.m_transport,t)];case 1:if(1==(n=e.sent()).GetEResult())for(r=n.Body().toObject().reactions,i=0,a=r;i<a.length;i++)o=a[i],this.m_mapReactionConfiguration.set(o.reactionid,o);else console.error("Error when calling LoyaltyRewardsService.GetReactionConfig: EResult="+n.GetEResult());return[2]}})})},e.prototype.GetExistingReactions=function(){return this.m_mapExistingReactions},e.prototype.LoadExistingReactions=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_mapExistingReactions.clear(),(t=x.b.Init(zd)).Body().set_target_type(this.m_eTargetType),t.Body().set_targetid(this.m_targetID),[4,Dd.GetReactions(this.m_transport,t)];case 1:return 1==(n=e.sent()).GetEResult()?n.Body().reactionids().map(function(e){return r.m_mapExistingReactions.set(e,!0)}):console.error("Error when calling LoyaltyRewardsService.GetReactions: EResult="+n.GetEResult()),[2]}})})},Object(j.c)([O.observable.ref],e.prototype,"m_lPointsAvailable",void 0),Object(j.c)([O.observable.deep],e.prototype,"m_mapReactionConfiguration",void 0),Object(j.c)([O.observable.deep],e.prototype,"m_mapExistingReactions",void 0),e}(),dm=n("Dsqm"),mm=n("ascj"),hm=n("ZO3Q"),fm=n("YyVH");function bm(e,t){var n=[];if(!e)return n;for(var r=e.width,i=e.height,a=0;a<200;a++){var o=Math.random(),s=Math.random()*o,c=Math.random()*s,l=4*(Math.random()-.5)*Math.PI*20,u=Math.random()+.5,p=[Math.random()*i-i-20,i+20+Math.random()*i*u],d=u*(r<=1e3?1:r/1e3)*(t==lm.Gold?2:1),m=(Math.random()-.5)*r,h=(Math.random()-.5)*r,f=[h,m+h],b=function(e){switch(e){case lm.Gold:case lm.LNY2020:return"hsl("+(51+-16*Math.random())+", 93%, 54%)";default:return"hsl("+360*Math.random()+", 100%, 40%)"}}(t),_=t==lm.LNY2020?"hue-rotate("+(360+Object(fm.b)(-30,10))+"deg)":"";n.push({rotationCoefficient:l,rotationRatioY:s,rotationRatioX:o,rotationRatioZ:c,yRange:p,xRange:f,scale:d,colorHue:b,filter:_})}return n}(um=lm=lm||{})[um.Default=0]="Default",um[um.Gold=1]="Gold",um[um.LNY2020=2]="LNY2020";function _m(t,n){var r=Object(hm.useSpring)({anim:1,from:{anim:0},config:{duration:8e3}}).anim;return Object(D.useMemo)(function(){var e=bm(t,n);return{rgParticleStyles:e.map(function(e){return function(e,t){lm.Default;var a=e.rotationCoefficient,o=e.rotationRatioY,s=e.rotationRatioX,c=e.rotationRatioZ,l=e.yRange,u=e.xRange,p=e.scale,n=e.colorHue;return{backgroundColor:n,fill:n,filter:e.filter,flRandom:0,transform:t.interpolate(function(e){var t=e*a*o,n=e*a*s,r=e*a*c,i=e*(l[1]-l[0])+l[0];return"translate("+(e*(u[1]-u[0])+u[0])+"px, "+i+"px) rotateY("+t+"rad) rotateX("+n+"rad) rotateZ("+r+"rad) scale("+p+")"})}}(e,r)}),rgStreamerStyles:e.map(function(e){return function(e,t){if(.1<Math.random())return null;var r=e.rotationCoefficient,i=e.rotationRatioZ,a=e.yRange,o=e.xRange,s=e.scale;return{backgroundColor:void 0,fill:e.colorHue,filter:e.filter,flRandom:Math.random(),transform:t.interpolate(function(e){var t=e*r/4*i,n=e*(a[1]-a[0])+a[0];return"translate("+(e*(o[1]-o[0])+o[0])+"px, "+n+"px) rotateZ("+t+"rad) scale("+s+")"})}}(e,r)}).filter(function(e){return!!e})}},[t,n,r])}function vm(e){var t,n,r,i,a,o=e.eType,s=(lm.Gold,lm.LNY2020,t=Object(D.useState)(null),n=t[0],r=t[1],i=Object(D.useCallback)(function(e){e&&"function"==typeof e.getBoundingClientRect&&r(e.getBoundingClientRect())},[]),[n,i]),c=s[1],l=_m(s[0],o),u=l.rgParticleStyles,p=l.rgStreamerStyles;switch(o){case lm.Gold:a=u.map(function(e,t){return d.a.createElement(wm,{key:t,style:e})});break;case lm.LNY2020:a=u.map(function(e,t){return t%2?d.a.createElement(Sm,{key:t,style:e}):d.a.createElement(Cm,{key:t,style:e})});break;case lm.Default:a=u.map(function(e,t){return d.a.createElement(Sm,{key:t,style:e})})}return d.a.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},ref:c},a,p.map(function(e,t){return.5<e.flRandom?d.a.createElement(Em,{key:t,style:e}):d.a.createElement(Om,{key:t,style:e})}))}var gm={position:"absolute",left:"50%",top:0},ym=Object(j.a)(Object(j.a)({},gm),{width:10,height:5,borderWidth:1,borderColor:"black"}),Sm=function(e){var t=e.style;return d.a.createElement(hm.animated.div,{style:Object(j.a)(Object(j.a)({},ym),t)})},wm=function(e){var t=e.style,n=Object(D.useState)(Math.floor(Math.random()*Bm.length))[0],r=Bm[n];return d.a.createElement(r,{style:Object(j.a)(Object(j.a)(Object(j.a)({},gm),t),{backgroundColor:void 0})})},Cm=function(e){var t=e.style,n=Object(D.useState)(Math.floor(Math.random()*Am.length))[0],r=Am[n];return d.a.createElement(r,{style:Object(j.a)(Object(j.a)(Object(j.a)({},gm),t),{backgroundColor:void 0})})},Om=function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{viewBox:"0 0 80 620",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object(j.a)({width:10,height:70},t)},d.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.53418 0.446363C4.80788 7.96949 8.99436 15.2008 13.0073 22.1324C35.0383 60.1862 51.8397 89.2071 49.1318 107.895C48.8475 101.617 47.1164 95.1506 43.6182 89.4997C22.9652 56.1375 -2.34054 7.06674 0.53418 0.446363ZM56.8207 188.805C55.1885 180.279 48.7591 170.011 41.3806 161.521C37.204 156.715 9.25983 141.889 7.31883 141.711L7.31474 141.711L7.31468 141.71L7.31452 141.71L7.11268 139.174L6.5244 131.791L6.5251 131.791L6.52505 131.79L6.52672 131.791C34.8022 129.659 47.1567 121.526 49.1318 107.895C49.6795 119.989 44.859 131.385 36.9599 134.917C33.2606 136.571 29.1329 137.843 25.1609 138.813C32.3599 142.599 44.0294 149.927 51.5956 160.751C60.8324 173.966 58.2537 184.901 56.8207 188.805ZM14.1541 214.387C28.3318 211.43 49.5183 206.914 54.7559 200.428C57.1974 197.404 57.6912 193.352 56.8207 188.805C56.4544 189.804 56.163 190.342 56.163 190.342C50.7646 194.114 26.0806 200.624 11.3908 204.497L11.3906 204.497L11.3904 204.497C7.40758 205.548 4.15949 206.404 2.22967 206.96L2.67009 212.483L3.21786 219.36C12.4021 224.467 20.8538 228.732 28.2879 232.483C70.3706 253.717 79.8458 258.498 5.02032 306.544C5.02047 306.546 5.02063 306.548 5.02078 306.55C5.01989 306.548 5.019 306.547 5.01812 306.545C5.24371 309.369 5.53845 312.547 5.79092 315.269C5.89859 316.43 5.99858 317.508 6.08223 318.44C6.15188 319.464 6.19564 320.436 6.20554 321.424C6.20464 321.331 6.23688 321.223 6.30064 321.101C6.31949 321.398 6.32799 321.609 6.32408 321.719C6.27561 321.616 6.23528 321.518 6.20333 321.425C6.28038 321.817 6.31788 321.895 6.32408 321.719C7.33553 323.874 11.894 328.285 17.8731 334.069C41.6329 357.056 87.8264 401.748 23.0228 412.886C23.5764 419.833 23.1631 419.992 23.1631 419.992C23.1631 419.992 24.3205 419.752 26.2506 419.305C34.1052 423.989 55.3095 438.589 58.8169 442.625C66.1955 451.115 72.6248 461.382 74.2571 469.909C73.8908 470.907 73.5993 471.446 73.5993 471.446C68.4367 475.053 42.2327 481.635 25.7172 485.783L25.7152 485.783L25.7147 485.784L25.7135 485.784L25.7028 485.787C20.6602 487.053 16.5222 488.093 14.1645 488.751L13.6222 488.439L13.6585 488.894L13.653 488.896L13.6602 488.916L14.4124 498.36C47.1778 516.58 73.923 535.597 77.6114 557.121C77.1891 558.457 76.6366 559.776 75.9628 561.084C62.5946 587.039 41.1874 608.612 24.1016 619.88C66.6744 596.331 80.8095 575.784 77.6114 557.121C81.823 543.801 73.0945 528.757 42.6319 505.104L26.8056 496.013C27.3301 495.908 27.8664 495.802 28.4133 495.693L28.4153 495.693C43.5756 492.685 66.9267 488.052 72.1923 481.531C74.6338 478.508 75.1275 474.456 74.2571 469.909C75.69 466.004 78.2687 455.069 69.032 441.855C57.4339 425.262 36.1944 416.886 36.1944 416.886L35.6563 416.927C41.635 415.285 48.7178 413.074 54.4334 410.519C66.4332 405.154 68.2307 384.374 57.9941 367.838C51.515 357.372 43.7231 350.194 35.4751 342.596C27.6489 335.386 19.4122 327.798 11.4967 316.664C12.7089 315.779 14.0928 314.791 15.6091 313.709C40.2963 296.086 100.082 253.407 25.4758 221.439L14.1541 214.387Z",fill:t.fill}))},Em=function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{viewBox:"0 0 203 295",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object(j.a)({width:10,height:20},t)},d.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.427 22.6009L104.428 22.6013C125.146 59.4015 140.687 87.0059 133.282 102.839C134.662 95.3303 133.62 86.4659 129.246 79.1843C112.124 50.6796 91.1453 8.75528 93.5285 3.10091C97.2525 9.85693 100.914 16.3611 104.427 22.6009ZM142.726 166.38C141.373 159.096 136.043 150.323 129.926 143.069C127.078 139.691 110.154 127.651 103.342 123.396C101.494 123.638 100.371 123.725 100.371 123.725C100.371 123.725 100.713 123.589 100.254 117.655C119.247 116.187 129.407 111.125 133.282 102.839C131.985 109.898 128.547 115.759 123.726 117.978C120.124 119.637 116.182 120.838 112.579 121.699C116.941 123.721 130.418 130.653 138.395 142.414C146.052 153.705 143.914 163.045 142.726 166.38ZM103.389 188.664C103.824 188.575 104.268 188.484 104.721 188.392L104.722 188.392C117.291 185.827 136.649 181.876 141.015 176.307C143.039 173.725 143.448 170.264 142.726 166.38C142.423 167.232 142.181 167.693 142.181 167.693C137.901 170.772 116.177 176.387 102.486 179.926C98.3006 181.007 94.8659 181.895 92.9093 182.457L92.4596 182.191L92.4896 182.579C92.4878 182.58 92.486 182.58 92.4842 182.581L92.4914 182.602L93.1147 190.665C120.278 206.239 142.45 222.491 145.508 240.879C145.158 242.02 144.7 243.146 144.141 244.263C133.059 266.43 115.312 284.852 101.148 294.472C136.441 274.369 148.16 256.821 145.508 240.879C149 229.501 141.764 216.649 116.509 196.435L103.389 188.664Z",fill:t.fill}))},Bm=[function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{viewBox:"0 0 48 102",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object(j.a)({width:5,height:10},t)},d.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.8382 77.0734L24 0L2.16179 77.0734C0.773631 79.3013 0 81.7786 0 84.3885C0 84.4894 0.00115761 84.5902 0.00346361 84.6908L0 84.703H0.00374963C0.23239 94.2845 10.8883 102 24 102C37.1117 102 47.7676 94.2845 47.9963 84.703H48L47.9965 84.6908C47.9988 84.5902 48 84.4894 48 84.3885C48 81.7786 47.2264 79.3013 45.8382 77.0734Z",fill:"#F7D51E"}))},function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{viewBox:"0 0 50 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object(j.a)({width:10,height:7},t)},d.a.createElement("path",{d:"M48.444 16.0525L32.7132 0.633915C20.0884 16.8827 7.13568 21.7989 0.597293 21.9904C7.33478 28.5984 14.1472 37.4728 14.1472 37.4728C31.6473 38.7751 44.3035 23.7352 48.444 16.0525Z",fill:"#C4C4C4"}),d.a.createElement("path",{d:"M48.444 16.0525L32.7132 0.633915C20.0884 16.8827 7.13568 21.7989 0.597293 21.9904C7.33478 28.5984 14.1472 37.4728 14.1472 37.4728C31.6473 38.7751 44.3035 23.7352 48.444 16.0525Z",fill:t.fill}))},function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{viewBox:"0 0 68 69",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object(j.a)({width:10,height:10},t)},d.a.createElement("rect",{y:"34.6389",width:"48",height:"48",transform:"rotate(-45 0 34.6389)",fill:t.fill}))},function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object(j.a)({width:10,height:10},t)},d.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 0L0 24L24 47.9999L48 24L24 0ZM23.7089 8.48533L8.48527 23.7089L23.7089 38.9325L38.9324 23.7089L23.7089 8.48533Z",fill:t.fill}))},function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{viewBox:"0 0 48 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object(j.a)({width:10,height:8},t)},d.a.createElement("ellipse",{cx:"24",cy:"15",rx:"24",ry:"15",fill:t.fill}))},function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{viewBox:"0 0 48 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object(j.a)({width:10,height:8},t)},d.a.createElement("ellipse",{cx:"24",cy:"15",rx:"24",ry:"15",fill:t.fill}))},function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{viewBox:"0 0 48 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object(j.a)({width:10,height:8},t)},d.a.createElement("ellipse",{cx:"24",cy:"15",rx:"24",ry:"15",fill:t.fill}))},function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{viewBox:"0 0 48 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object(j.a)({width:10,height:8},t)},d.a.createElement("path",{d:"M33.8287 29.6914L24.9705 21.1201C23.199 24.5487 23.4612 24.5487 21.4282 27.9773C19.3952 31.4058 13.4557 29.6914 12.57 27.9773C7.25553 22.8344 10.7985 17.6914 12.57 15.9773C19.656 5.69155 36.5247 4.54869 48 5.69155C47.4095 4.54865 45.5199 1.92 42.6855 0.548571C39.1425 -1.16571 1.94169 0.548571 0.170191 14.2629C-1.60131 27.9771 10.7992 38.2629 21.4282 38.2629C29.9314 38.2629 33.2382 32.5486 33.8287 29.6914Z",fill:t.fill}))},function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{width:"48",height:"35",viewBox:"0 0 48 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object(j.a)({width:10,height:7},t)},d.a.createElement("path",{d:"M48 0H0L24 35L48 0Z",fill:t.fill}))}],Am=[function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 54 47.18",style:Object(j.a)({width:28,height:28},t)},d.a.createElement("polygon",{fill:"#60000e",points:"10.02 14.06 10.02 14.06 10.02 14.06 10.02 14.06"}),d.a.createElement("path",{fill:"#f93838",d:"M54,9.53A9.52,9.52,0,0,0,37.74,2.79a10.82,10.82,0,0,0-2.25,3.54,21.52,21.52,0,0,0-1.19,4.08A16.55,16.55,0,0,0,27,8.73h-.24a16.38,16.38,0,0,0-7,1.69,22.41,22.41,0,0,0-1.2-4.09,10.82,10.82,0,0,0-2.25-3.54A9.52,9.52,0,1,0,2.79,16.26h0a10.82,10.82,0,0,0,3.54,2.25,23.87,23.87,0,0,0,5,1.36,16.34,16.34,0,0,0-.94,5.48h0v0a16.57,16.57,0,0,0,4.92,11.81A7.36,7.36,0,0,1,17.05,40a10.5,10.5,0,0,0,10,7.15,10.38,10.38,0,0,0,6.17-2,10.57,10.57,0,0,0,3.77-5.11,7.48,7.48,0,0,1,1.79-2.89,16.66,16.66,0,0,0,4-17.3l.65-.12a22.44,22.44,0,0,0,4.31-1.24,10.82,10.82,0,0,0,3.54-2.25L50.9,16l.31.31A9.5,9.5,0,0,0,54,9.53ZM32.11,21.28a9.27,9.27,0,0,1,2.68-.38,9.06,9.06,0,0,1,2.87.44.44.44,0,0,1,.28.56.44.44,0,0,1-.56.27,8.4,8.4,0,0,0-2.59-.39,8.59,8.59,0,0,0-2.43.34h0a.44.44,0,1,1-.26-.84Zm-7.88,8.64a9.27,9.27,0,0,1,2.68-.38,9.06,9.06,0,0,1,2.87.44.44.44,0,0,1,.28.56.44.44,0,0,1-.56.27,8.35,8.35,0,0,0-2.59-.39,8.46,8.46,0,0,0-2.42.34h0a.44.44,0,1,1-.26-.84ZM24.31,33a.45.45,0,0,1,.54-.32l2.16.55,2.14-.55a.45.45,0,0,1,.54.32.44.44,0,0,1-.32.53l-2.25.58a.41.41,0,0,1-.22,0l-2.27-.58h0A.44.44,0,0,1,24.31,33ZM21.9,21.34a.44.44,0,0,1,.28.56.44.44,0,0,1-.56.27A8.35,8.35,0,0,0,19,21.78a8.46,8.46,0,0,0-2.42.34h0a.44.44,0,0,1-.26-.84A9.27,9.27,0,0,1,19,20.9,9.06,9.06,0,0,1,21.9,21.34Zm-1.6,8.08h0v0a.41.41,0,0,1,0-.1c0-.08-.06-.19-.12-.33a4.39,4.39,0,0,0-.47-.95,2.16,2.16,0,0,0-.43-.5,1.11,1.11,0,0,0-.24-.16.7.7,0,0,0-.25-.05.88.88,0,0,0-.29.05,1.82,1.82,0,0,0-.4.24,5,5,0,0,0-1.16,1.3.66.66,0,0,1-.92.17.65.65,0,0,1-.17-.91,7.44,7.44,0,0,1,1.1-1.32A3.45,3.45,0,0,1,18,26.13a2.21,2.21,0,0,1,.75-.14,2,2,0,0,1,.87.21,2.37,2.37,0,0,1,.66.49,4.41,4.41,0,0,1,.84,1.21,7.08,7.08,0,0,1,.3.72c.1.27.14.45.15.46h0a.67.67,0,0,1-.47.81A.66.66,0,0,1,20.3,29.42Zm12.19,8.86a4.18,4.18,0,0,1-.92.52,7.57,7.57,0,0,1-1.11,2.55A4.85,4.85,0,0,1,28.58,43a3.56,3.56,0,0,1-3.16,0,4.71,4.71,0,0,1-1.33-1,7.14,7.14,0,0,1-1.66-3.24,4.18,4.18,0,0,1-.92-.52.44.44,0,0,1-.1-.61.45.45,0,0,1,.62-.1,2.89,2.89,0,0,0,1.76.61,3,3,0,0,0,1.58-.47,4.28,4.28,0,0,0,1.26-1.31.43.43,0,0,1,.74,0,4.28,4.28,0,0,0,1.26,1.31,3,3,0,0,0,1.58.47A2.89,2.89,0,0,0,32,37.57h0a.45.45,0,0,1,.62.1A.44.44,0,0,1,32.49,38.28ZM38,29.07a.66.66,0,0,1-.92-.17,6.25,6.25,0,0,0-.9-1.09,2.25,2.25,0,0,0-.66-.45.88.88,0,0,0-.29-.05.58.58,0,0,0-.28.07,1,1,0,0,0-.31.23,3.29,3.29,0,0,0-.58.84c-.1.21-.19.42-.25.59s-.12.37-.13.38h0a.66.66,0,0,1-.8.47.67.67,0,0,1-.47-.81s.07-.25.2-.58a6.91,6.91,0,0,1,.59-1.2,3.66,3.66,0,0,1,.69-.79,2.3,2.3,0,0,1,.56-.35,1.82,1.82,0,0,1,.78-.17,2.21,2.21,0,0,1,.75.14,3,3,0,0,1,.73.41,6.6,6.6,0,0,1,1.46,1.62A.65.65,0,0,1,38,29.07Z"}),d.a.createElement("path",{fill:"#f93838",d:"M27,40.35c1.12,0,1.55-.37,1.89-1.53a4.17,4.17,0,0,1-.73-.37A5,5,0,0,1,27,37.39a5,5,0,0,1-1.16,1.06,4.17,4.17,0,0,1-.73.37C25.45,40,25.88,40.35,27,40.35Z"}))},function(e){var t=e.style;return d.a.createElement(hm.animated.svg,{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 14.5 22",style:Object(j.a)({width:28,height:28},t)},d.a.createElement("path",{fill:"#fc1010",d:"M1.6,10.1c0,0-0.1,0-0.4-0.1C1,10,0.8,9.9,0.8,9.9c-0.1,0-0.2-0.1-0.2-0.2c0-0.2,0.1-0.4,0.3-0.6v0L1,9c0.1-0.1,0.2-0.3,0.5-0.6C1.8,8.1,2,7.8,2.2,7.5c0-0.1,0.1-0.1,0.1-0.2s0.1-0.1,0.1-0.2C2.6,7,2.7,6.8,2.8,6.5c0-0.1,0.1-0.2,0.1-0.3C3,6.1,3,6,3,5.9c0-0.2-0.1-0.4-0.2-0.5C2.6,5.3,2.4,5.3,2.1,5.3c-0.2,0-0.4,0-0.6,0.1c-0.1,0-0.4,0.1-0.7,0.3c0,0,0,0,0,0c0,0,0-0.1,0-0.1c0-0.2,0-0.4-0.1-0.8l0-0.6l0-0.3l0-0.2V3.5l0.5-0.2C1.6,3.2,2,3.1,2.5,3c0.5-0.1,0.9-0.1,1.4-0.1c0.4,0,0.8,0,1.1,0.1c0.4,0.1,0.7,0.2,0.9,0.4c0.6,0.4,0.9,1,0.9,1.8c0,0.4-0.1,0.8-0.4,1.2C6.1,6.8,5.7,7.2,5.1,7.6h0.5h0.5c0.2,0,0.4,0,0.5,0c0.2,0.1,0.3,0.1,0.3,0.3c0,0.2,0,0.5,0,0.8V9v0.3c0,0.2,0,0.4-0.1,0.5C6.6,10,6.5,10,6.2,10c0,0-0.1,0-0.2,0c-0.1,0-0.4,0-0.9,0H4H3.6H3.1H2.6C1.9,10.1,1.6,10.1,1.6,10.1z"}),d.a.createElement("path",{fill:"#fc1010",d:"M9.8,10.3c-0.1,0-0.2,0-0.3,0l-0.6-0.1c0,0-0.1,0-0.1-0.1c0,0-0.1,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0-0.1c-0.1,0-0.2-0.1-0.3-0.1C8.1,9.8,8,9.8,8,9.7L7.8,9.6c-0.1,0-0.1-0.1-0.2-0.1C7.4,9.3,7.2,9,7.1,8.6C7,8.3,6.9,8,6.9,7.6c0-0.2,0-0.6,0-0.9c0-0.5,0-0.8,0.1-1.1c0-0.3,0.1-0.7,0.3-1.1c0.1,0,0.1-0.2,0.3-0.5c0,0,0.1-0.1,0.1-0.1s0-0.1,0.1-0.1c0,0,0,0,0-0.1s0-0.1,0.1-0.1c0.1,0,0.2-0.1,0.3-0.2c0,0,0.1-0.1,0.2-0.1c0.1-0.1,0.1-0.1,0.2-0.1C8.5,3.1,8.8,3,9.1,2.9c0.1,0,0.1,0,0.2,0c0.1,0,0.2,0,0.2,0c0.1,0,0.2,0,0.3,0c0.1,0,0.1,0,0.2,0c0.5,0,0.9,0,1.3,0.1c0.3,0,0.7,0.1,1.1,0.2c0,0,0.1,0,0.1,0c0.3,0.1,0.5,0.2,0.6,0.2c0.1,0,0.1,0.1,0.1,0.1v0.1c0.1,0,0.2,0,0.3,0.1s0.2,0.2,0.3,0.3c0.1,0.1,0.2,0.2,0.2,0.4c0,0.1,0.1,0.2,0.1,0.3c0.1,0,0.1,0,0.1,0s0,0,0,0.1c0,0.2,0.1,0.4,0.1,0.5c0,0.1,0,0.1,0.1,0.2c0,0.1,0,0.2,0.1,0.3l0,0.1l0,0.4v0.3c0,0.6,0,1.1-0.1,1.4C14.2,8.6,14,9,13.7,9.3c-0.1,0.1-0.3,0.2-0.4,0.3l-0.4,0.3c-0.2,0.1-0.4,0.1-0.5,0.2l-0.5,0.2c-0.3,0-0.6,0-0.9,0.1c-0.3,0-0.6,0.1-0.9,0.1C9.9,10.3,9.9,10.3,9.8,10.3z M11.2,8.3c0-0.1,0.1-0.2,0.1-0.3c0-0.1,0-0.2,0-0.2l0-0.3c0-0.2,0-0.5,0-0.7c0-0.1,0-0.2,0-0.3c0-0.2,0-0.4-0.1-0.6c0-0.2-0.1-0.3-0.1-0.5c0-0.2-0.1-0.3-0.1-0.3c0-0.1,0-0.3-0.1-0.3c-0.1-0.1-0.1-0.1-0.3-0.1c-0.2,0-0.4,0.1-0.5,0.4c0,0.1-0.1,0.2-0.1,0.3c0,0,0,0.2,0,0.3L10,6.2C9.9,6.4,9.9,6.6,9.9,6.8c0,0.3,0,0.5,0.1,0.8c0,0.1,0,0.2,0.1,0.4s0.1,0.2,0.1,0.3c0,0.1,0.1,0.2,0.2,0.2c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0,0.1,0C10.9,8.6,11.1,8.5,11.2,8.3z"}),d.a.createElement("path",{fill:"#fc1010",d:"M1.6,17.5c0,0-0.1,0-0.4-0.1c-0.2,0-0.4-0.1-0.4-0.1c-0.1,0-0.2-0.1-0.2-0.2c0-0.2,0.1-0.4,0.3-0.6v0L1,16.4c0.1-0.1,0.2-0.3,0.5-0.6c0.2-0.2,0.4-0.5,0.7-0.9c0-0.1,0.1-0.1,0.1-0.2s0.1-0.1,0.1-0.2c0.1-0.1,0.2-0.3,0.3-0.6c0-0.1,0.1-0.2,0.1-0.3C3,13.5,3,13.4,3,13.3c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.4-0.1-0.7-0.1c-0.2,0-0.4,0-0.6,0.1c-0.1,0-0.4,0.1-0.7,0.3c0,0,0,0,0,0c0,0,0-0.1,0-0.1c0-0.2,0-0.4-0.1-0.8l0-0.6l0-0.3l0-0.2v-0.1l0.5-0.2c0.4-0.1,0.9-0.2,1.3-0.3c0.5-0.1,0.9-0.1,1.4-0.1c0.4,0,0.8,0,1.1,0.1c0.4,0.1,0.7,0.2,0.9,0.4c0.6,0.4,0.9,1,0.9,1.8c0,0.4-0.1,0.8-0.4,1.2c-0.3,0.4-0.7,0.8-1.3,1.2h0.5h0.5c0.2,0,0.4,0,0.5,0c0.2,0.1,0.3,0.1,0.3,0.3c0,0.2,0,0.5,0,0.8v0.3v0.3c0,0.2,0,0.4-0.1,0.5c-0.1,0.1-0.3,0.2-0.5,0.2c0,0-0.1,0-0.2,0c-0.1,0-0.4,0-0.9,0H4H3.6H3.1H2.6C1.9,17.5,1.6,17.5,1.6,17.5z"}),d.a.createElement("path",{fill:"#fc1010",d:"M9.8,17.7c-0.1,0-0.2,0-0.3,0l-0.6-0.1c0,0-0.1,0-0.1-0.1c0,0-0.1,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0-0.1c-0.1,0-0.2-0.1-0.3-0.1c-0.1,0-0.2-0.1-0.3-0.1L7.8,17c-0.1,0-0.1-0.1-0.2-0.1c-0.2-0.2-0.4-0.5-0.5-0.9C7,15.7,6.9,15.4,6.9,15c0-0.2,0-0.6,0-0.9c0-0.5,0-0.8,0.1-1.1c0-0.3,0.1-0.7,0.3-1.1c0.1,0,0.1-0.2,0.3-0.5c0,0,0.1-0.1,0.1-0.1s0-0.1,0.1-0.1c0,0,0,0,0-0.1s0-0.1,0.1-0.1c0.1,0,0.2-0.1,0.3-0.2c0,0,0.1-0.1,0.2-0.1c0.1-0.1,0.1-0.1,0.2-0.1c0.2-0.1,0.5-0.2,0.8-0.3c0.1,0,0.1,0,0.2,0c0.1,0,0.2,0,0.2,0c0.1,0,0.2,0,0.3,0c0.1,0,0.1,0,0.2,0c0.5,0,0.9,0,1.3,0.1c0.3,0,0.7,0.1,1.1,0.2c0,0,0.1,0,0.1,0c0.3,0.1,0.5,0.2,0.6,0.2c0.1,0,0.1,0.1,0.1,0.1v0.1c0.1,0,0.2,0,0.3,0.1s0.2,0.2,0.3,0.3c0.1,0.1,0.2,0.2,0.2,0.4c0,0.1,0.1,0.2,0.1,0.3c0.1,0,0.1,0,0.1,0s0,0,0,0.1c0,0.2,0.1,0.4,0.1,0.5c0,0.1,0,0.1,0.1,0.2c0,0.1,0,0.2,0.1,0.3l0,0.1l0,0.4v0.3c0,0.6,0,1.1-0.1,1.4c-0.1,0.5-0.3,0.9-0.7,1.2c-0.1,0.1-0.3,0.2-0.4,0.3l-0.4,0.3c-0.2,0.1-0.4,0.1-0.5,0.2l-0.5,0.2c-0.3,0-0.6,0-0.9,0.1c-0.3,0-0.6,0.1-0.9,0.1C9.9,17.7,9.9,17.7,9.8,17.7z M11.2,15.7c0-0.1,0.1-0.2,0.1-0.3c0-0.1,0-0.2,0-0.2l0-0.3c0-0.2,0-0.5,0-0.7c0-0.1,0-0.2,0-0.3c0-0.2,0-0.4-0.1-0.6c0-0.2-0.1-0.3-0.1-0.5c0-0.2-0.1-0.3-0.1-0.3c0-0.1,0-0.3-0.1-0.3C10.9,12,10.8,12,10.7,12c-0.2,0-0.4,0.1-0.5,0.4c0,0.1-0.1,0.2-0.1,0.3c0,0,0,0.2,0,0.3L10,13.6c-0.1,0.2-0.1,0.4-0.1,0.6c0,0.3,0,0.5,0.1,0.8c0,0.1,0,0.2,0.1,0.4s0.1,0.2,0.1,0.3c0,0.1,0.1,0.2,0.2,0.2c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0,0.1,0C10.9,16,11.1,15.9,11.2,15.7z"}))}];var Im,jm;n("idvb");(jm=Im=Im||{})[jm.SELECTING=0]="SELECTING",jm[jm.CONFIRM=1]="CONFIRM",jm[jm.SUBMITTING=2]="SUBMITTING",jm[jm.DONE=3]="DONE",jm[jm.ERROR=4]="ERROR";function Dm(e){return D.createElement("svg",Object(j.a)({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),D.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM10.9577 17.254L18.8038 10.0384L16.773 7.83022L10.0706 13.9941L7.71092 11.2399L5.43271 13.1918L8.80323 17.1259C9.06802 17.4349 9.44701 17.6231 9.85327 17.6473C10.2595 17.6715 10.6582 17.5295 10.9577 17.254Z"}))}var Rm=function(n){function e(e){var t=n.call(this,e)||this;return t.state={bHovered:!1},t}return Object(j.d)(e,n),e.prototype.handleMouseOver=function(e){this.setState({bHovered:!0})},e.prototype.handleMouseOut=function(){this.setState({bHovered:!1})},e.prototype.render=function(){var e=Object(mm.b)(this.props.reactionType,!this.props.bDisableAnimation&&(this.state.bHovered||this.props.bForceAnimated));return D.createElement("img",{className:this.props.className,src:e,onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut})},Object(j.c)([E.a],e.prototype,"handleMouseOver",null),Object(j.c)([E.a],e.prototype,"handleMouseOut",null),e}(D.PureComponent);D.Component;var Tm=function(t){function e(e){return t.call(this,e)||this}var c;return Object(j.d)(e,t),(c=e).Initialize=function(e){null===this.s_LoyaltyAwardModalStore&&(this.s_LoyaltyAwardModalStore=new pm(e.GetServiceTransport()))},e.prototype.render=function(){var e=this.props,t=e.targetType,n=e.targetid,r=e.bShowModal,i=e.ugcType,a=e.initialSelectedReaction,o=e.onDismiss,s=c.s_LoyaltyAwardModalStore;if(null===s)return console.log("Store not initialized yet."),null;s.GetAwardConfigurations();return D.createElement(Mm,{key:n,targetid:n,active:r,targetType:t,ugcType:i,onDismiss:o,onSuccess:o,store:c.s_LoyaltyAwardModalStore,initialSelectedReaction:a})},e.s_LoyaltyAwardModalStore=null,c=Object(j.c)([o.observer],e)}(D.Component),Mm=function(n){function e(e){var t=n.call(this,e)||this;return e.store.SetTarget(e.targetid,e.targetType),t.state={selectedReaction:e.initialSelectedReaction||0,ePhase:Im.SELECTING},t}return Object(j.d)(e,n),e.prototype.render=function(){var t=this,e=this.props,n=e.active,r=e.targetType,i=e.ugcType,a=e.store,o=e.onDismiss,s=this.state,c=s.selectedReaction,l=s.ePhase,u=s.celebrate;if(!n)return null;var p,d,m,h=a.GetExistingReactions(),f=a.GetAwardConfigurations(),b=a.GetUserPointBalance(),_=(p=r,d=i,m=[],f.forEach(function(e){if(e.valid_target_types.includes(p))switch(p){case 1:m.push(e.reactionid);break;case 2:e.valid_ugc_types.includes(d)&&m.push(e.reactionid);break;case 3:case 4:case 5:m.push(e.reactionid)}}),m),v=0===c?null:f.get(c),g=v?v.points_cost:0,y=v?v.points_transferred:0,S="";switch(r){case 1:S=Object(R.f)("#GrantAwardDescription_Review");break;case 2:S=Object(R.f)("#GrantAwardDescription_UGC");break;case 3:S=Object(R.f)("#GrantAwardDescription_Profile");break;case 4:S=Object(R.f)("#GrantAwardDescription_ForumTopic");break;case 5:S=Object(R.f)("#GrantAwardDescription_Comment")}switch(l){case Im.SELECTING:var w=0===c||h.get(c),C=!b||b.greaterThanOrEqual(g),O=D.createElement(Si.s,{onClick:function(){return t.setState({ePhase:Im.CONFIRM})},disabled:w,title:Object(R.f)(w?"#GrantAward_PromptTooltip":"#GrantAward_SubmitTooltip")},Object(R.f)(w?"#GrantAward_SelectAward":"#GrantAward_Next")),E=D.createElement(D.Fragment,null,D.createElement(Nm,{description:S}),D.createElement(km,null),D.createElement("div",{className:Ad.ButtonContainer},_.map(function(e){return D.createElement(Fm,{key:e,reaction:e,selected:e===c&&!h.get(e),cost:f.get(e).points_cost,alreadyAwarded:h.get(e),onClick:function(){h.get(e)||t.setState({selectedReaction:e===c?0:e})}})})),D.createElement(km,null),D.createElement(Lm,{store:a},w||C?O:[D.createElement("div",{key:"msg",className:Ad.NotEnoughPoints},Object(R.f)("#GrantAward_CantAfford",b.negate().add(g).toNumber().toLocaleString())),D.createElement("a",{key:"button",href:A.c.STORE_BASE_URL+"points/howitworks"},D.createElement(Si.d,{key:"button"},Object(R.f)("#GrantAward_HowToGetPoints")))]));break;case Im.CONFIRM:case Im.SUBMITTING:case Im.DONE:E=D.createElement(D.Fragment,null,D.createElement(Nm,{description:S}),D.createElement(km,null),D.createElement("div",{style:{position:"relative"}},D.createElement("div",{className:Object(cr.a)(Ad.ConfirmContainer,l===Im.CONFIRM&&Ad.Visible)},D.createElement(Rm,{className:Ad.ConfirmAwardImage,reactionType:c}),D.createElement("div",{className:Ad.ConfirmText},Object(R.o)("#GrantAward_Confirm",D.createElement(Gm,null,g.toLocaleString()),D.createElement("span",{className:Ad.AwardName},Object(mm.a)(c)))),D.createElement("div",{className:Ad.ConfirmText},Object(R.o)("#GrantAward_Confirm_Details",D.createElement(Gm,null,y.toLocaleString()),D.createElement("span",{className:Ad.TimePeriod},Object(R.f)("#GrantAward_Confirm_DetailsTimePeriod"))))),D.createElement("div",{className:Object(cr.a)(Ad.LoadingContainer,l===Im.SUBMITTING&&Ad.Visible)},D.createElement(Pm,null)),D.createElement("div",{className:Object(cr.a)(Ad.SuccessContainer,l===Im.DONE&&Ad.Visible)},D.createElement(Rm,{className:Ad.ConfirmAwardImage,reactionType:c}),D.createElement("div",{className:Ad.SuccessText},Object(R.f)("#GrantAward_Success")))),D.createElement(km,null),D.createElement(Lm,{store:a},D.createElement(Si.d,{onClick:function(){return t.setState({ePhase:Im.SELECTING})},disabled:l!==Im.CONFIRM},Object(R.f)("#GrantAward_Back")),D.createElement(Si.s,{onClick:this.GrantAward,title:Object(R.f)("#GrantAward_SubmitTooltip"),disabled:l!==Im.CONFIRM},Object(R.f)("#GrantAwardNowButton"))));break;case Im.ERROR:var B="";switch(this.state.eResult){case 10:B=Object(R.f)("#GrantAwardError_Busy");break;case 32:B=Object(R.f)("#GrantAwardError_PersistFailed");break;case 8:B=Object(R.f)("#GrantAwardError_InvalidParam");break;case 42:B=Object(R.f)("#GrantAwardError_NoMatch");break;case 107:B=Object(R.f)("#GrantAwardError_InsufficientFunds");break;case 15:B=Object(R.f)("#GrantAwardError_AccessDenied");break;case 21:B=Object(R.f)("#GrantAwardError_NotLoggedOn");break;default:B=Object(R.f)("#GrantAwardError_Fail")}E=D.createElement(D.Fragment,null,D.createElement(Nm,{description:S}),D.createElement(km,null),D.createElement("div",{style:{position:"relative"}},D.createElement("div",{className:Ad.ErrorContainer},D.createElement("div",{className:Ad.ErrorText},B))),D.createElement(km,null),D.createElement(Lm,{store:a},D.createElement(Si.d,{onClick:function(){return t.setState({ePhase:Im.SELECTING})}},Object(R.f)("#GrantAward_Back"))))}return D.createElement(bi.a,{className:Ad.GrantAwardModal,active:n,onDismiss:o},u&&D.createElement(vm,{eType:lm.Default}),E)},e.prototype.GrantAward=function(){var n=this,e=this.props,r=e.targetid,t=e.store,i=e.onSuccess,a=this.state.selectedReaction;null!==a&&0!=a&&(this.setState({ePhase:Im.SUBMITTING}),t.AddReaction(a).then(function(e){var t=e.eResult;e.strMessage;1==t?n.setState({ePhase:Im.DONE,celebrate:!0},function(){return setTimeout(function(){i&&i(r,a)},2e3)}):n.setState({ePhase:Im.ERROR,eResult:t})}))},Object(j.c)([E.a],e.prototype,"GrantAward",null),Object(j.c)([o.observer],e)}(D.Component),Nm=function(e){var t=e.description;return D.createElement("div",{className:Ad.Header},D.createElement("div",{className:Ad.Title},Object(R.f)("#GrantAwardTitle")),D.createElement("div",{className:Ad.Description},t))},Lm=Object(o.observer)(function(e){var t=e.store,n=e.children,r=t.GetUserPointBalance(),i=r&&r.toNumber().toLocaleString();return D.createElement("div",{className:Ad.Footer},D.createElement("div",{className:Ad.Left},D.createElement(_r.Q,{className:Ad.BalanceIcon}),D.createElement("div",{className:Ad.BalanceDetails},D.createElement("div",{className:Ad.BalanceLabel},Object(R.f)("#YourBalance")),D.createElement("div",{className:Ad.BalanceAmount},i))),D.createElement("div",{className:Ad.Right},D.createElement("div",{className:Ad.Actions},D.Children.map(n,function(e){return D.createElement("div",{className:Ad.Action},e)})),D.createElement("a",{className:Ad.FooterLink,href:A.c.STORE_BASE_URL+"points/howitworks"},Object(R.f)("#GrantAward_PointsLink"))))}),km=function(){return D.createElement("div",{className:Ad.Divider})},Fm=function(n){function e(e){var t=n.call(this,e)||this;return t.state={bHovered:!1},t}return Object(j.d)(e,n),e.prototype.handleMouseOver=function(e){this.setState({bHovered:!0})},e.prototype.handleMouseOut=function(){this.setState({bHovered:!1})},e.prototype.render=function(){var e=this.props,t=e.reaction,n=e.selected,r=e.alreadyAwarded,i=e.cost,a=Object(j.f)(e,["reaction","selected","alreadyAwarded","cost"]);return D.createElement(cm,Object(j.a)({type:"button",onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,className:Object(cr.a)(Ad.Button,n&&Ad.Selected,r&&Ad.Disabled)},a),D.createElement("div",{className:Ad.IconCtn},D.createElement(Rm,{reactionType:t,bForceAnimated:this.state.bHovered,bDisableAnimation:r})),D.createElement("div",{className:Ad.Label},Object(mm.a)(t)),D.createElement(Gm,{className:Ad.Points},i.toLocaleString()),r&&D.createElement(Dm,{className:Ad.IconCheckMark}))},Object(j.c)([E.a],e.prototype,"handleMouseOver",null),Object(j.c)([E.a],e.prototype,"handleMouseOut",null),e}(D.PureComponent),Pm=function(){return D.createElement(Pi.a,{size:"large",className:Ad.Loading})},Gm=function(e){var t=e.children,n=e.className,r=Object(j.f)(e,["children","className"]);return D.createElement("span",Object(j.a)({},r,{className:Object(cr.a)(n,Ad.PointsAmount)}),D.createElement(_r.Q,{className:Ad.PointsAmountIcon}),t)},Um=c.Message;var xm,zm,Hm,Wm,Vm=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.publishedfileid||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{publishedfileid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},list_type:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},appid:{n:3,br:l.d.readInt32,bw:l.h.writeInt32},notify_client:{n:4,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_Subscribe_Request"},r}(Um),qm=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_Subscribe_Response"},r}(Um),Ym=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.publishedfileid||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{publishedfileid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},list_type:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},appid:{n:3,br:l.d.readInt32,bw:l.h.writeInt32},notify_client:{n:4,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_Unsubscribe_Request"},r}(Um),Qm=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_Unsubscribe_Response"},r}(Um),Zm=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.can_subscribe||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{can_subscribe:{n:1,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_CanSubscribe_Response"},r}(Um),Km=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.publishedfileid||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{publishedfileid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},redirect_uri:{n:2,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_Publish_Response"},r}(Um),Jm=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.result||l.a(r.M()),Um.initialize(t,e,0,-1,[51,52,53,54,69,70],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{result:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},publishedfileid:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},creator:{n:3,br:l.d.readFixed64String,bw:l.h.writeFixed64String},creator_appid:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},consumer_appid:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},consumer_shortcutid:{n:6,br:l.d.readUint32,bw:l.h.writeUint32},filename:{n:7,br:l.d.readString,bw:l.h.writeString},file_size:{n:8,br:l.d.readUint64String,bw:l.h.writeUint64String},preview_file_size:{n:9,br:l.d.readUint64String,bw:l.h.writeUint64String},file_url:{n:10,br:l.d.readString,bw:l.h.writeString},preview_url:{n:11,br:l.d.readString,bw:l.h.writeString},youtubevideoid:{n:12,br:l.d.readString,bw:l.h.writeString},url:{n:13,br:l.d.readString,bw:l.h.writeString},hcontent_file:{n:14,br:l.d.readFixed64String,bw:l.h.writeFixed64String},hcontent_preview:{n:15,br:l.d.readFixed64String,bw:l.h.writeFixed64String},title:{n:16,br:l.d.readString,bw:l.h.writeString},file_description:{n:17,br:l.d.readString,bw:l.h.writeString},short_description:{n:18,br:l.d.readString,bw:l.h.writeString},time_created:{n:19,br:l.d.readUint32,bw:l.h.writeUint32},time_updated:{n:20,br:l.d.readUint32,bw:l.h.writeUint32},visibility:{n:21,br:l.d.readUint32,bw:l.h.writeUint32},flags:{n:22,br:l.d.readUint32,bw:l.h.writeUint32},workshop_file:{n:23,br:l.d.readBool,bw:l.h.writeBool},workshop_accepted:{n:24,br:l.d.readBool,bw:l.h.writeBool},show_subscribe_all:{n:25,br:l.d.readBool,bw:l.h.writeBool},num_comments_developer:{n:26,br:l.d.readInt32,bw:l.h.writeInt32},num_comments_public:{n:27,br:l.d.readInt32,bw:l.h.writeInt32},banned:{n:28,br:l.d.readBool,bw:l.h.writeBool},ban_reason:{n:29,br:l.d.readString,bw:l.h.writeString},banner:{n:30,br:l.d.readFixed64String,bw:l.h.writeFixed64String},can_be_deleted:{n:31,br:l.d.readBool,bw:l.h.writeBool},incompatible:{n:32,br:l.d.readBool,bw:l.h.writeBool},app_name:{n:33,br:l.d.readString,bw:l.h.writeString},file_type:{n:34,br:l.d.readUint32,bw:l.h.writeUint32},can_subscribe:{n:35,br:l.d.readBool,bw:l.h.writeBool},subscriptions:{n:36,br:l.d.readUint32,bw:l.h.writeUint32},favorited:{n:37,br:l.d.readUint32,bw:l.h.writeUint32},followers:{n:38,br:l.d.readUint32,bw:l.h.writeUint32},lifetime_subscriptions:{n:39,br:l.d.readUint32,bw:l.h.writeUint32},lifetime_favorited:{n:40,br:l.d.readUint32,bw:l.h.writeUint32},lifetime_followers:{n:41,br:l.d.readUint32,bw:l.h.writeUint32},lifetime_playtime:{n:62,br:l.d.readUint64String,bw:l.h.writeUint64String},lifetime_playtime_sessions:{n:63,br:l.d.readUint64String,bw:l.h.writeUint64String},views:{n:42,br:l.d.readUint32,bw:l.h.writeUint32},image_width:{n:43,br:l.d.readUint32,bw:l.h.writeUint32},image_height:{n:44,br:l.d.readUint32,bw:l.h.writeUint32},image_url:{n:45,br:l.d.readString,bw:l.h.writeString},spoiler_tag:{n:46,br:l.d.readBool,bw:l.h.writeBool},shortcutid:{n:47,br:l.d.readUint32,bw:l.h.writeUint32},shortcutname:{n:48,br:l.d.readString,bw:l.h.writeString},num_children:{n:49,br:l.d.readUint32,bw:l.h.writeUint32},num_reports:{n:50,br:l.d.readUint32,bw:l.h.writeUint32},previews:{n:51,c:$m,r:!0,q:!0},tags:{n:52,c:Xm,r:!0,q:!0},children:{n:53,c:eh,r:!0,q:!0},kvtags:{n:54,c:th,r:!0,q:!0},vote_data:{n:55,c:nh},playtime_stats:{n:64,c:ih},time_subscribed:{n:56,br:l.d.readUint32,bw:l.h.writeUint32},for_sale_data:{n:57,c:rh},metadata:{n:58,br:l.d.readString,bw:l.h.writeString},language:{n:61,d:0,br:l.d.readInt32,bw:l.h.writeInt32},maybe_inappropriate_sex:{n:65,br:l.d.readBool,bw:l.h.writeBool},maybe_inappropriate_violence:{n:66,br:l.d.readBool,bw:l.h.writeBool},revision_change_number:{n:67,br:l.d.readUint64String,bw:l.h.writeUint64String},revision:{n:68,br:l.d.readEnum,bw:l.h.writeEnum},available_revisions:{n:69,r:!0,q:!0,br:l.d.readEnum,bw:l.h.writeRepeatedEnum},reactions:{n:70,c:ah,r:!0,q:!0},ban_text_check_result:{n:71,br:l.d.readEnum,bw:l.h.writeEnum}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"PublishedFileDetails"},r}(Um),Xm=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.tag||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{tag:{n:1,br:l.d.readString,bw:l.h.writeString},adminonly:{n:2,br:l.d.readBool,bw:l.h.writeBool},display_name:{n:3,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"PublishedFileDetails_Tag"},r}(Um),$m=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.previewid||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{previewid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},sortorder:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},url:{n:3,br:l.d.readString,bw:l.h.writeString},size:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},filename:{n:5,br:l.d.readString,bw:l.h.writeString},youtubevideoid:{n:6,br:l.d.readString,bw:l.h.writeString},preview_type:{n:7,br:l.d.readUint32,bw:l.h.writeUint32},external_reference:{n:8,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"PublishedFileDetails_Preview"},r}(Um),eh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.publishedfileid||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{publishedfileid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},sortorder:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},file_type:{n:3,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"PublishedFileDetails_Child"},r}(Um),th=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.key||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{key:{n:1,br:l.d.readString,bw:l.h.writeString},value:{n:2,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"PublishedFileDetails_KVTag"},r}(Um),nh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.score||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{score:{n:1,br:l.d.readFloat,bw:l.h.writeFloat},votes_up:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},votes_down:{n:3,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"PublishedFileDetails_VoteData"},r}(Um),rh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.is_for_sale||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{is_for_sale:{n:1,br:l.d.readBool,bw:l.h.writeBool},price_category:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},estatus:{n:3,br:l.d.readEnum,bw:l.h.writeEnum},price_category_floor:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},price_is_pay_what_you_want:{n:5,br:l.d.readBool,bw:l.h.writeBool},discount_percentage:{n:6,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"PublishedFileDetails_ForSaleData"},r}(Um),ih=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.playtime_seconds||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{playtime_seconds:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},num_sessions:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"PublishedFileDetails_PlaytimeStats"},r}(Um),ah=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.reactionid||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{reactionid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},count:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"PublishedFileDetails_Reaction"},r}(Um),oh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.publishedfileids||l.a(r.M()),Um.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{publishedfileids:{n:1,r:!0,q:!0,br:l.d.readFixed64String,bw:l.h.writeRepeatedFixed64String},includetags:{n:2,br:l.d.readBool,bw:l.h.writeBool},includeadditionalpreviews:{n:3,br:l.d.readBool,bw:l.h.writeBool},includechildren:{n:4,br:l.d.readBool,bw:l.h.writeBool},includekvtags:{n:5,br:l.d.readBool,bw:l.h.writeBool},includevotes:{n:6,br:l.d.readBool,bw:l.h.writeBool},short_description:{n:8,br:l.d.readBool,bw:l.h.writeBool},includeforsaledata:{n:10,br:l.d.readBool,bw:l.h.writeBool},includemetadata:{n:11,br:l.d.readBool,bw:l.h.writeBool},language:{n:12,d:0,br:l.d.readInt32,bw:l.h.writeInt32},return_playtime_stats:{n:13,br:l.d.readUint32,bw:l.h.writeUint32},appid:{n:14,br:l.d.readUint32,bw:l.h.writeUint32},strip_description_bbcode:{n:15,br:l.d.readBool,bw:l.h.writeBool},desired_revision:{n:16,d:0,br:l.d.readEnum,bw:l.h.writeEnum},includereactions:{n:17,d:!1,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetDetails_Request"},r}(Um),sh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.publishedfiledetails||l.a(r.M()),Um.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{publishedfiledetails:{n:1,c:Jm,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetDetails_Response"},r}(Um),ch=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.update_time||l.a(r.M()),Um.initialize(t,e,0,-1,[2,3],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{update_time:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},workshop_items:{n:2,c:lh,r:!0,q:!0},private_items:{n:3,r:!0,q:!0,br:l.d.readFixed64String,bw:l.h.writeRepeatedFixed64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetItemInfo_Response"},r}(Um),lh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.published_file_id||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{published_file_id:{n:1,br:l.d.readFixed64String,bw:l.h.writeFixed64String},time_updated:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},manifest_id:{n:3,br:l.d.readFixed64String,bw:l.h.writeFixed64String},flags:{n:4,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetItemInfo_Response_WorkshopItemInfo"},r}(Um),uh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.total||l.a(r.M()),Um.initialize(t,e,0,-1,[3,4],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{total:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},startindex:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},publishedfiledetails:{n:3,c:Jm,r:!0,q:!0},apps:{n:4,c:ph,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetUserFiles_Response"},r}(Um),ph=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},name:{n:2,br:l.d.readString,bw:l.h.writeString},shortcutid:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},private:{n:4,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetUserFiles_Response_App"},r}(Um),dh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_Update_Response"},r}(Um),mh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.change_description||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{change_description:{n:1,br:l.d.readString,bw:l.h.writeString},language:{n:2,br:l.d.readInt32,bw:l.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetChangeHistoryEntry_Response"},r}(Um),hh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.changes||l.a(r.M()),Um.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{changes:{n:1,c:fh,r:!0,q:!0},total:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetChangeHistory_Response"},r}(Um),fh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.timestamp||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{timestamp:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},change_description:{n:2,br:l.d.readString,bw:l.h.writeString},language:{n:3,br:l.d.readInt32,bw:l.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetChangeHistory_Response_ChangeLog"},r}(Um),bh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_RefreshVotingQueue_Response"},r}(Um),_h=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.query_type||l.a(r.M()),Um.initialize(t,e,0,-1,[6,7,9,10,34,42,25,26,27,29],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{query_type:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},page:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},cursor:{n:39,br:l.d.readString,bw:l.h.writeString},numperpage:{n:3,d:1,br:l.d.readUint32,bw:l.h.writeUint32},creator_appid:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},appid:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},requiredtags:{n:6,r:!0,q:!0,br:l.d.readString,bw:l.h.writeRepeatedString},excludedtags:{n:7,r:!0,q:!0,br:l.d.readString,bw:l.h.writeRepeatedString},match_all_tags:{n:8,d:!0,br:l.d.readBool,bw:l.h.writeBool},required_flags:{n:9,r:!0,q:!0,br:l.d.readString,bw:l.h.writeRepeatedString},omitted_flags:{n:10,r:!0,q:!0,br:l.d.readString,bw:l.h.writeRepeatedString},search_text:{n:11,br:l.d.readString,bw:l.h.writeString},filetype:{n:12,br:l.d.readUint32,bw:l.h.writeUint32},child_publishedfileid:{n:13,br:l.d.readFixed64String,bw:l.h.writeFixed64String},days:{n:14,br:l.d.readUint32,bw:l.h.writeUint32},include_recent_votes_only:{n:15,br:l.d.readBool,bw:l.h.writeBool},cache_max_age_seconds:{n:31,d:0,br:l.d.readUint32,bw:l.h.writeUint32},language:{n:33,d:0,br:l.d.readInt32,bw:l.h.writeInt32},required_kv_tags:{n:34,c:vh,r:!0,q:!0},taggroups:{n:42,c:gh,r:!0,q:!0},totalonly:{n:16,br:l.d.readBool,bw:l.h.writeBool},ids_only:{n:35,br:l.d.readBool,bw:l.h.writeBool},return_vote_data:{n:17,br:l.d.readBool,bw:l.h.writeBool},return_tags:{n:18,br:l.d.readBool,bw:l.h.writeBool},return_kv_tags:{n:19,br:l.d.readBool,bw:l.h.writeBool},return_previews:{n:20,br:l.d.readBool,bw:l.h.writeBool},return_children:{n:21,br:l.d.readBool,bw:l.h.writeBool},return_short_description:{n:22,br:l.d.readBool,bw:l.h.writeBool},return_for_sale_data:{n:30,br:l.d.readBool,bw:l.h.writeBool},return_metadata:{n:32,d:!1,br:l.d.readBool,bw:l.h.writeBool},return_playtime_stats:{n:36,br:l.d.readUint32,bw:l.h.writeUint32},return_details:{n:37,br:l.d.readBool,bw:l.h.writeBool},strip_description_bbcode:{n:38,br:l.d.readBool,bw:l.h.writeBool},desired_revision:{n:40,d:0,br:l.d.readEnum,bw:l.h.writeEnum},return_reactions:{n:43,d:!1,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_QueryFiles_Request"},r}(Um),vh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.key||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{key:{n:1,br:l.d.readString,bw:l.h.writeString},value:{n:2,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_QueryFiles_Request_KVTag"},r}(Um),gh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.tags||l.a(r.M()),Um.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{tags:{n:1,r:!0,q:!0,br:l.d.readString,bw:l.h.writeRepeatedString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_QueryFiles_Request_TagGroup"},r}(Um),yh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.total||l.a(r.M()),Um.initialize(t,e,0,-1,[2],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{total:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},publishedfiledetails:{n:2,c:Jm,r:!0,q:!0},next_cursor:{n:3,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_QueryFiles_Response"},r}(Um),Sh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_AddAppRelationship_Response"},r}(Um),wh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_RemoveAppRelationship_Response"},r}(Um),Ch=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.app_relationships||l.a(r.M()),Um.initialize(t,e,0,-1,[3],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{app_relationships:{n:3,c:Oh,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetAppRelationships_Response"},r}(Um),Oh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},relationship:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetAppRelationships_Response_AppRelationship"},r}(Um),Eh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_StartPlaytimeTracking_Response"},r}(Um),Bh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_StopPlaytimeTracking_Response"},r}(Um),Ah=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_StopPlaytimeTrackingForAllAppItems_Response"},r}(Um),Ih=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_SetPlaytimeForControllerConfigs_Response"},r}(Um),jh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_AddChild_Response"},r}(Um),Dh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPublishedFile_RemoveChild_Response"},r}(Um),Rh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||l.a(r.M()),Um.initialize(t,e,0,-1,[2],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},publishedfileids:{n:2,r:!0,q:!0,br:l.d.readFixed64String,bw:l.h.writeRepeatedFixed64String},listtype:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},filetype:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},workshopfiletype:{n:5,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_AreFilesInSubscriptionList_Request"},r}(Um),Th=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.files||l.a(r.M()),Um.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{files:{n:1,c:Mh,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_AreFilesInSubscriptionList_Response"},r}(Um),Mh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.publishedfileid||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{publishedfileid:{n:1,br:l.d.readFixed64String,bw:l.h.writeFixed64String},inlist:{n:2,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_AreFilesInSubscriptionList_Response_InList"},r}(Um),Nh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.publishedfileids||l.a(r.M()),Um.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{publishedfileids:{n:1,r:!0,q:!0,br:l.d.readFixed64String,bw:l.h.writeRepeatedFixed64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetUserVoteSummary_Request"},r}(Um),Lh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.summaries||l.a(r.M()),Um.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{summaries:{n:1,c:kh,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetUserVoteSummary_Response"},r}(Um),kh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.publishedfileid||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{publishedfileid:{n:1,br:l.d.readFixed64String,bw:l.h.writeFixed64String},vote_for:{n:2,br:l.d.readBool,bw:l.h.writeBool},vote_against:{n:3,br:l.d.readBool,bw:l.h.writeBool},reported:{n:4,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_GetUserVoteSummary_Response_VoteSummary"},r}(Um),Fh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.published_file_id||l.a(r.M()),Um.initialize(t,e,0,-1,[8],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{published_file_id:{n:1,br:l.d.readFixed64String,bw:l.h.writeFixed64String},app_id:{n:2,br:l.d.readUint32,bw:l.h.writeUint32},file_hcontent:{n:3,br:l.d.readFixed64String,bw:l.h.writeFixed64String},file_size:{n:4,br:l.d.readUint32,bw:l.h.writeUint32},rtime_subscribed:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},is_depot_content:{n:6,br:l.d.readBool,bw:l.h.writeBool},rtime_updated:{n:7,br:l.d.readUint32,bw:l.h.writeUint32},revisions:{n:8,c:Ph,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_FileSubscribed_Notification"},r}(Um),Ph=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.revision||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{revision:{n:1,br:l.d.readEnum,bw:l.h.writeEnum},file_hcontent:{n:2,br:l.d.readFixed64String,bw:l.h.writeFixed64String},rtime_updated:{n:3,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_FileSubscribed_Notification_RevisionData"},r}(Um),Gh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.published_file_id||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{published_file_id:{n:1,br:l.d.readFixed64String,bw:l.h.writeFixed64String},app_id:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_FileUnsubscribed_Notification"},r}(Um),Uh=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.published_file_id||l.a(r.M()),Um.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{published_file_id:{n:1,br:l.d.readFixed64String,bw:l.h.writeFixed64String},app_id:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPublishedFile_FileDeleted_Client_Notification"},r}(Um);(zm=xm=xm||{}).Subscribe=function(e,t){return e.SendMsg("PublishedFile.Subscribe#1",t,qm,{ePrivilege:1,eWebAPIKeyRequirement:2})},zm.Unsubscribe=function(e,t){return e.SendMsg("PublishedFile.Unsubscribe#1",t,Qm,{ePrivilege:1,eWebAPIKeyRequirement:2})},zm.CanSubscribe=function(e,t){return e.SendMsg("PublishedFile.CanSubscribe#1",t,Zm,{bConstMethod:!0,ePrivilege:1,eWebAPIKeyRequirement:2})},zm.Publish=function(e,t){return e.SendMsg("PublishedFile.Publish#1",t,Km,{ePrivilege:3})},zm.GetDetails=function(e,t){return e.SendMsg("PublishedFile.GetDetails#1",t,sh,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:2})},zm.GetItemInfo=function(e,t){return e.SendMsg("PublishedFile.GetItemInfo#1",t,ch,{ePrivilege:2})},zm.GetUserFiles=function(e,t){return e.SendMsg("PublishedFile.GetUserFiles#1",t,uh,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:2})},zm.AreFilesInSubscriptionList=function(e,t){return e.SendMsg("PublishedFile.AreFilesInSubscriptionList#1",t,Th,{bConstMethod:!0,ePrivilege:1})},zm.Update=function(e,t){return e.SendMsg("PublishedFile.Update#1",t,dh,{ePrivilege:3})},zm.GetChangeHistoryEntry=function(e,t){return e.SendMsg("PublishedFile.GetChangeHistoryEntry#1",t,mh,{bConstMethod:!0,ePrivilege:0})},zm.GetChangeHistory=function(e,t){return e.SendMsg("PublishedFile.GetChangeHistory#1",t,hh,{bConstMethod:!0,ePrivilege:0})},zm.RefreshVotingQueue=function(e,t){return e.SendMsg("PublishedFile.RefreshVotingQueue#1",t,bh,{ePrivilege:1,eWebAPIKeyRequirement:5})},zm.QueryFiles=function(e,t){return e.SendMsg("PublishedFile.QueryFiles#1",t,yh,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:2})},zm.AddAppRelationship=function(e,t){return e.SendMsg("PublishedFile.AddAppRelationship#1",t,Sh,{ePrivilege:1})},zm.RemoveAppRelationship=function(e,t){return e.SendMsg("PublishedFile.RemoveAppRelationship#1",t,wh,{ePrivilege:1})},zm.GetAppRelationships=function(e,t){return e.SendMsg("PublishedFile.GetAppRelationships#1",t,Ch,{bConstMethod:!0,ePrivilege:0})},zm.StartPlaytimeTracking=function(e,t){return e.SendMsg("PublishedFile.StartPlaytimeTracking#1",t,Eh,{ePrivilege:1})},zm.StopPlaytimeTracking=function(e,t){return e.SendMsg("PublishedFile.StopPlaytimeTracking#1",t,Bh,{ePrivilege:1})},zm.StopPlaytimeTrackingForAllAppItems=function(e,t){return e.SendMsg("PublishedFile.StopPlaytimeTrackingForAllAppItems#1",t,Ah,{ePrivilege:1})},zm.SetPlaytimeForControllerConfigs=function(e,t){return e.SendMsg("PublishedFile.SetPlaytimeForControllerConfigs#1",t,Ih,{ePrivilege:1})},zm.AddChild=function(e,t){return e.SendMsg("PublishedFile.AddChild#1",t,jh,{ePrivilege:1})},zm.RemoveChild=function(e,t){return e.SendMsg("PublishedFile.RemoveChild#1",t,Dh,{ePrivilege:1})},zm.GetUserVoteSummary=function(e,t){return e.SendMsg("PublishedFile.GetUserVoteSummary#1",t,Lh,{bConstMethod:!0,ePrivilege:1})},(Wm=Hm=Hm||{}).NotifyFileSubscribedHandler={name:"PublishedFileClient.NotifyFileSubscribed#1",request:Fh},Wm.NotifyFileUnsubscribedHandler={name:"PublishedFileClient.NotifyFileUnsubscribed#1",request:Gh},Wm.NotifyFileDeletedHandler={name:"PublishedFileClient.NotifyFileDeleted#1",request:Uh};var xh="workshop_hidden_items",zh=new(function(){function e(){var t=this;this.m_mapWorkshopItems=new Map,this.m_mapPublishedFiles=new Map,this.m_LoadQueue=new Array,this.m_LoadTimer=0,this.m_LoadDelayMS=25,this.m_FileSubscribedHandler=ae(Hm.NotifyFileSubscribedHandler,function(e){return t.InvalidateWorkshopItems(e.Body().app_id()),1}),this.m_FileUnsubscribedHandler=ae(Hm.NotifyFileUnsubscribedHandler,function(e){return t.InvalidateWorkshopItems(e.Body().app_id()),1}),this.m_FileDeletedHandler=ae(Hm.NotifyFileDeletedHandler,function(e){return t.InvalidateWorkshopItems(e.Body().app_id()),1})}return e.prototype.Init=function(e){this.m_CMInterface=e},Object.defineProperty(e.prototype,"CMInterface",{get:function(){return this.m_CMInterface},enumerable:!1,configurable:!0}),e.prototype.FetchTrendyItems=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(_h)).Body().set_appid(n),t.Body().set_query_type(3),t.Body().set_include_recent_votes_only(!0),t.Body().set_days(7),[4,this.FetchItemDataUsingRequest(t)];case 1:return[2,e.sent()]}})})},e.prototype.FetchTopClassicItems=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(_h)).Body().set_appid(n),t.Body().set_query_type(11),[4,this.FetchItemDataUsingRequest(t)];case 1:return[2,e.sent()]}})})},e.prototype.FetchItemDataUsingRequest=function(v){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,p,d,m,h,f,b,_;return Object(j.e)(this,function(e){switch(e.label){case 0:return n=30,r=t=1,[4,Vi.GetCachedDataForApp(v.Body().appid(),xh,1)];case 1:i=e.sent(),v.Body().set_numperpage(n),v.Body().set_return_vote_data(!0),v.Body().set_return_short_description(!0),v.Body().set_return_tags(!0),v.Body().set_strip_description_bbcode(!0),a=new Array,s=!(o=1),e.label=2;case 2:return a.length<t&&!s?(v.Body().set_page(o),[4,xm.QueryFiles(this.m_CMInterface.GetServiceTransport(),v)]):[3,8];case 3:if(1!=(c=e.sent()).GetEResult())return[3,6];for(s=c.Body().publishedfiledetails().length<n,l=new Map,u=function(t){return 1!=t.result()||t.flags()&r||t.banned()||i&&i.find(function(e){return t.publishedfileid()==e})?"continue":void l.set(t.publishedfileid(),t.toObject())},p=0,d=c.Body().publishedfiledetails();p<d.length;p++)_=d[p],u(_);return 0<l.size?((m=x.b.Init(Rh)).Body().set_appid(v.Body().appid()),m.Body().set_listtype(1),m.Body().set_publishedfileids(Array.from(l.keys())),[4,xm.AreFilesInSubscriptionList(this.m_CMInterface.GetServiceTransport(),m)]):[3,5];case 4:if(1!=(h=e.sent()).GetEResult())return console.error("Error when calling PublishedFileService.AreFilesInSubscriptionList: EResult="+h.GetEResult()+", Msg="+h.Hdr().error_message()),[3,8];for(f=0,b=h.Body().files();f<b.length&&((_=b[f]).inlist()||(a.push(l.get(_.publishedfileid())),a.length!=t));f++);e.label=5;case 5:return o++,[3,7];case 6:return console.error("Error when calling PublishedFileService.QueryFiles: EResult="+c.GetEResult()+", Msg="+c.Hdr().error_message()),[3,8];case 7:return[3,2];case 8:return[2,a]}})})},e.prototype.FetchWorkshopItems=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,Vi.GetCachedDataForApp(r,"workshop",2)];case 1:return(t=e.sent())&&this.m_mapWorkshopItems.set(r,t),[4,this.FetchTrendyItems(r)];case 2:return 0!=(n=e.sent()).length?[3,4]:[4,this.FetchTopClassicItems(r)];case 3:n=e.sent(),e.label=4;case 4:return this.m_mapWorkshopItems.set(r,n),Vi.SetCachedDataForApp(r,"workshop",2,t),[2]}})})},e.prototype.GetWorkshopItems=function(e){return this.m_mapWorkshopItems.has(e)||(this.m_mapWorkshopItems.set(e,new Array),this.FetchWorkshopItems(e)),this.m_mapWorkshopItems.get(e)},e.prototype.InvalidateWorkshopItems=function(e){this.FetchWorkshopItems(e)},e.prototype.HideWorkshopItem=function(i,a){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:if(!this.m_mapWorkshopItems.has(i))return[2];for(t=this.m_mapWorkshopItems.get(i),n=0;n<t.length;++n)t[n].publishedfileid==a&&t.splice(n,1);return this.m_mapWorkshopItems.set(i,t.slice()),[4,Vi.GetCachedDataForApp(i,xh,1)];case 1:return(r=(r=e.sent())||new Array).push(a),Vi.SetCachedDataForApp(i,xh,1,r),[2]}})})},e.prototype.Subscribe=function(n,r){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(Vm)).Body().set_appid(n),t.Body().set_publishedfileid(r),t.Body().set_list_type(1),t.Body().set_notify_client(!0),[4,xm.Subscribe(this.m_CMInterface.GetServiceTransport(),t)];case 1:return[2,e.sent().GetEResult()]}})})},e.prototype.Unsubscribe=function(n,r){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(Ym)).Body().set_appid(n),t.Body().set_publishedfileid(r),t.Body().set_list_type(1),t.Body().set_notify_client(!0),[4,xm.Unsubscribe(this.m_CMInterface.GetServiceTransport(),t)];case 1:return[2,e.sent().GetEResult()]}})})},e.prototype.GetPublishedFiles=function(e){for(var t=this,n=[],r=0,i=e;r<i.length;r++){var a=i[r],o=this.m_mapPublishedFiles.get(a);o?n.push(o):o||this.m_LoadQueue.push(a)}return this.m_LoadQueue.length&&(clearTimeout(this.m_LoadTimer),this.m_LoadTimer=window.setTimeout(function(){return t.LoadPublishedFiles(t.m_LoadQueue)},this.m_LoadDelayMS)),n},e.prototype.LoadPublishedFiles=function(s){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_LoadQueue=new Array,(t=x.b.Init(oh)).Body().set_publishedfileids(s.slice()),t.Body().set_includevotes(!0),t.Body().set_includetags(!0),[4,xm.GetDetails(this.m_CMInterface.GetServiceTransport(),t)];case 1:for(n=e.sent(),r=new Array,i=0,a=n.Body().publishedfiledetails();i<a.length;i++)1==(o=a[i]).result()&&(this.m_mapPublishedFiles.set(o.publishedfileid(),{file:o.toObject()}),r.push(o.publishedfileid()));return[4,this.RefreshVoteSummary(r)];case 2:return e.sent(),[2]}})})},e.prototype.RefreshVoteSummary=function(o){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(Nh)).Body().set_publishedfileids(o.slice()),[4,xm.GetUserVoteSummary(this.m_CMInterface.GetServiceTransport(),t)];case 1:for(n=e.sent(),r=0,i=n.Body().summaries();r<i.length;r++)a=i[r],this.m_mapPublishedFiles.get(a.publishedfileid()).user_vote_summary=a.toObject();return[2]}})})},e.prototype.VoteOnPublishedFile=function(r,i){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_mapPublishedFiles.has(r)?(t=this.m_mapPublishedFiles.get(r)).user_vote_summary.vote_for&&i==_d.Up||t.user_vote_summary.vote_against&&i==_d.Down?[2,1]:[4,wd(r,i)]:[2,8];case 1:return n=e.sent(),i==_d.Down?(t.user_vote_summary.vote_for&&t.file.vote_data.votes_up--,t.user_vote_summary.vote_for=!1,t.user_vote_summary.vote_against=!0,t.file.vote_data.votes_down++):i==_d.Up&&(t.user_vote_summary.vote_against&&t.file.vote_data.votes_down--,t.user_vote_summary.vote_for=!0,t.user_vote_summary.vote_against=!1,t.file.vote_data.votes_up++),[2,n]}})})},Object(j.c)([O.observable.shallow],e.prototype,"m_mapWorkshopItems",void 0),Object(j.c)([O.observable],e.prototype,"m_mapPublishedFiles",void 0),e}());window.workshopStore=zh;var Hh=n("LdHN"),Wh=n.n(Hh),Vh=function(n){function e(e){var t=n.call(this,e)||this;return t.state={bPlayParticle:!1},t}return Object(j.d)(e,n),e.prototype.OnMaximize=function(){this.props.fnMaximizeParent&&this.props.fnMaximizeParent()},e.prototype.OnRateClicked=function(){this.props.upvoted_by_user?(this.props.fnOnRateDownClicked(),this.setState({bPlayParticle:!1})):(this.props.fnOnRateUpClicked(),this.setState({bPlayParticle:!0}))},e.prototype.render=function(){var e,t=this.props,n=t.upvotes,r=t.upvoted_by_user,i=t.upvoters,a=(t.fnOnRateUpClicked,t.fnOnRateDownClicked,t.fnOnAwardClicked),o=t.nReactionCount,s=t.comment_count,c=t.fnMaximizeParent,l=t.bIsVisible,u=n,p=i.map(function(e){return ei.GetFriendState(e)}).map(function(t){return D.createElement(hu,{key:"friend"+t.persona.m_steamid.ConvertTo64BitString(),className:Wh.a.ActorName,persona:t.persona,strNickname:t.nickname,bParenthesizeNicknames:Jr.communityPreferences.bParenthesizeNicknames,onContextMenu:function(e){fu(e,t)}})});return 1==n?r?e=Object(R.f)("#AppActivity_RatingDetails_User"):0<p.length&&(e=Object(R.o)("#AppActivity_RatingDetails_1Other",p[0])):1<n&&(0==p.length||(e=r?2==n?Object(R.o)("#AppActivity_RatingDetails_User_1Other",n,p[0]):Object(R.o)("#AppActivity_RatingDetails_User_2Others",n,p[0],p[1]):Object(R.o)("#AppActivity_RatingDetails_2Others",n,p[0],p[1]))),D.createElement("div",{className:Object(cr.a)(Wh.a.RatingBar,l&&Wh.a.IsVisible)},D.createElement("div",{className:Wh.a.RatingDetails},e),null!=o&&a&&D.createElement("div",{className:Object(cr.a)(Wh.a.Reactions,Wh.a.CanClick),onClick:a},D.createElement("div",{className:Wh.a.ReactionCount},o),D.createElement("div",{className:Wh.a.ReactionIcon},D.createElement(_r.e,{className:Wh.a.ReactionSvg}))),D.createElement("div",{className:Wh.a.ButtonSpacer}),!C.d(A.c.LAUNCHER_TYPE)&&D.createElement(qh,{count:s,onClick:c}),D.createElement("div",{className:Wh.a.ButtonSpacer}),D.createElement("div",{className:Object(cr.a)(Wh.a.LikeButton,!r&&Wh.a.CanClick),onClick:this.OnRateClicked},D.createElement("div",{className:Wh.a.LikeCount},Number(u).toLocaleString()),D.createElement("div",{className:Object(cr.a)(Wh.a.BackgroundEffects,this.state.bPlayParticle&&Wh.a.UserRated)}),D.createElement("div",{className:Wh.a.LikeIcon},D.createElement(_r.wb,{className:Object(cr.a)(Wh.a.RatingIcon,r&&Wh.a.UserRated)}))))},Object(j.c)([E.a],e.prototype,"OnMaximize",null),Object(j.c)([E.a],e.prototype,"OnRateClicked",null),Object(j.c)([o.observer],e)}(D.Component);function qh(e){var t=e.count,n=e.onClick;return D.createElement("div",{className:Object(cr.a)(Wh.a.CommentButton,n&&Wh.a.CanClick),onClick:n},D.createElement("div",{className:Wh.a.CommentCount},Number(t).toLocaleString()),D.createElement("div",{className:Wh.a.CommentIcon},D.createElement(_r.q,{className:Object(cr.a)(Wh.a.RatingIcon)})))}var Yh=function(n){function e(e){var t=n.call(this,e)||this;return t.state={bPlayParticle:!1},t}return Object(j.d)(e,n),e.prototype.OnDeleteComment=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return this.props.commentThread.DeleteComment(this.props.comment),[2]})})},e.prototype.OnRateComment=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return this.props.commentThread.RateCommentOrThread(!this.props.comment.upvoted_by_user,this.props.comment),this.setState({bPlayParticle:!this.props.comment.upvoted_by_user}),[2]})})},e.prototype.OnMaybeDeleteComment=function(){Object(_i.d)(D.createElement(bi.c,{strTitle:Object(R.f)("#AppActivity_ConfirmDeleteCommentTitle"),strDescription:Object(R.f)("#AppActivity_ConfirmDeleteCommentTitle_Desc"),onOK:this.OnDeleteComment,onCancel:function(){return null}}),window,{strTitle:Object(R.f)("#AppActivity_ConfirmDeleteCommentTitle")})},e.prototype.render=function(){var e=this.props,t=e.comment,n=(e.commentThread,ei.GetFriendState(new H.a(t.steamid))),r=Object(R.p)(t.timestamp)+" @ "+Object(R.n)(t.timestamp),i=t.steamid==Sd.CMInterface.steamid.ConvertTo64BitString(),a=0<t.upvotes,o=t.upvoted_by_user;return D.createElement("div",{className:Wh.a.Comment},D.createElement(vu,{className:Wh.a.CommentAvatar,friend:n,size:"Small",statusPosition:"right",onClick:function(){return B.a.NavigateToSteamURL("SteamIDPage",t.steamid)}}),D.createElement("div",{className:Wh.a.HeaderandBody},D.createElement("div",{className:Wh.a.CommentHeader},D.createElement("div",{className:Wh.a.CommenterandTime},D.createElement(hu,{className:Wh.a.ActorName,persona:n.persona,strNickname:n.nickname,bParenthesizeNicknames:Jr.communityPreferences.bParenthesizeNicknames,onContextMenu:function(e){fu(e,n)},onClick:function(){return B.a.NavigateToSteamURL("SteamIDPage",t.steamid)}}),D.createElement("div",{className:Wh.a.CommentTime},r))),D.createElement("div",{className:Wh.a.CommentBody},D.createElement("div",{className:Wh.a.CommentText},Sd.FormatAndParseUserStatusBBCode(t.text),D.createElement("div",{className:Wh.a.CommentControls},D.createElement("div",{className:Wh.a.CommentRatingButton,onClick:this.OnRateComment},D.createElement("div",{className:Object(cr.a)(Wh.a.CommentRating,a&&Wh.a.HasRating)},D.createElement("div",{className:Object(cr.a)(Wh.a.BackgroundEffects,this.state.bPlayParticle&&Wh.a.UserRated)}),a&&t.upvotes+" ",D.createElement(_r.wb,{className:Object(cr.a)(Wh.a.ThumbsUpComment,o&&Wh.a.UserRated)}))),i&&D.createElement("div",{className:Wh.a.DeleteButton,onClick:this.OnMaybeDeleteComment},D.createElement(_r.s,{className:Wh.a.DeleteUserNews})))))))},Object(j.c)([E.a],e.prototype,"OnDeleteComment",null),Object(j.c)([E.a],e.prototype,"OnRateComment",null),Object(j.c)([E.a],e.prototype,"OnMaybeDeleteComment",null),Object(j.c)([o.observer],e)}(D.Component),Qh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bShowPointsModal:!1},e.m_bMinimized=e.props.bDefaultMinimized,e}return Object(j.d)(e,t),Object.defineProperty(e.prototype,"m_publishedFile",{get:function(){if(this.props.publishedfileid){var e=zh.GetPublishedFiles([this.props.publishedfileid]);return 0<e.length?e[0]:null}return null},enumerable:!1,configurable:!0}),e.prototype.OnRateUpCommentThreadClicked=function(){this.props.commentThread.RateCommentOrThread(!0)},e.prototype.OnRateDownCommentThreadClicked=function(){this.props.commentThread.RateCommentOrThread(!1)},e.prototype.OnRateUpPublishedFileClicked=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return zh.VoteOnPublishedFile(this.props.publishedfileid,_d.Up),[2]})})},e.prototype.OnRateDownPublishedFileClicked=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return zh.VoteOnPublishedFile(this.props.publishedfileid,_d.Down),[2]})})},e.prototype.OnMaximize=function(){this.m_bMinimized=!1},e.prototype.OnMinimize=function(){this.m_bMinimized=!0},e.prototype.OnShowMoreComments=function(){this.props.commentThread.FetchPastComments(10)},e.prototype.OnPostCommentClicked=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return this.props.commentThread.PostCommentToThread(t),[2]})})},e.prototype.OnBlur=function(e){},e.prototype.ShowAwardModal=function(){this.setState({bShowPointsModal:!0})},e.prototype.HideAwardModal=function(){this.setState({bShowPointsModal:!1})},e.prototype.render=function(){var e,t,n=this.props,r=n.commentThread,i=(n.publishedfileid,n.bDefaultMinimized,n.bMaxHeight),a=n.bDontAutoMaximize,o=n.bIsPopup,s=n.bVisible;if(!r)return null;if(null==r.m_threadInfo)return D.createElement("div",{className:Wh.a.CommentThread},D.createElement("div",{className:Wh.a.ThreadLoading}));var c=0<r.m_threadInfo.total_count,l=r.m_threadInfo.total_count>r.m_rgComments.length,u=r.m_threadInfo.total_count-r.m_rgComments.length,p=r?r.m_threadInfo.upvotes:0,d=!!r&&r.m_threadInfo.user_upvoted,m=r?r.GetUpVoters():[],h=this.OnRateUpCommentThreadClicked,f=this.OnRateDownCommentThreadClicked,b=r?r.m_threadInfo.total_count:0,_=s||d,v=void 0,g=void 0,y=void 0,S=void 0;this.m_publishedFile?(this.m_publishedFile.file&&(p=this.m_publishedFile.file.vote_data?this.m_publishedFile.file.vote_data.votes_up:0,v=null===(e=this.m_publishedFile.file.reactions)||void 0===e?void 0:e.reduce(function(e,t){return e+t.count},0),y=this.m_publishedFile.file.file_type),this.m_publishedFile.user_vote_summary&&(d=this.m_publishedFile.user_vote_summary.vote_for),m=[],h=this.OnRateUpPublishedFileClicked,f=this.OnRateDownPublishedFileClicked,g=this.props.publishedfileid,S=2):this.props.recommendation&&(v=null===(t=this.props.recommendation.reactions)||void 0===t?void 0:t.reduce(function(e,t){return e+t.count},0),g=this.props.recommendation.recommendationid,S=1);var w=D.createElement(Tm,{bShowModal:this.state.bShowPointsModal,targetType:S,targetid:g,ugcType:y,onDismiss:this.HideAwardModal});return!this.m_bMinimized||c&&!a?D.createElement("div",{className:Object(cr.a)(Wh.a.CommentThread,Wh.a.Shown)},D.createElement("div",{className:Object(cr.a)(Wh.a.ActivityCommentThread,o?Wh.a.IsPopup:null),onBlur:this.OnBlur},D.createElement("div",{className:Object(cr.a)(Wh.a.RatingContainer,c&&Wh.a.HasComments)},D.createElement(Vh,{upvotes:p,upvoted_by_user:d,upvoters:m,fnOnRateUpClicked:h,fnOnRateDownClicked:f,comment_count:b,fnMaximizeParent:this.props.bIsPopup?null:this.OnMinimize,nReactionCount:v,fnOnAwardClicked:this.ShowAwardModal,bIsVisible:_})),l&&D.createElement("div",{className:Wh.a.MakeCommentsVisible,onClick:this.OnShowMoreComments},Object(R.f)("#AppActivity_MakeCommentsVisible",u)),c&&D.createElement("div",{className:Object(cr.a)(Wh.a.CommentsTransitionGroup,i&&Wh.a.NeedsMaxHeight)},r.m_rgComments.map(function(e){return D.createElement(Yh,{key:""+e.gidcomment,comment:e,commentThread:r})})),D.createElement(Bd,{className:Wh.a.AddReply,OnPostClicked:this.OnPostCommentClicked,placeholder:Object(R.f)("#AppActivity_Comment_Reply")})),w):D.createElement("div",{className:Object(cr.a)(Wh.a.CommentThread,Wh.a.Shown)},D.createElement("div",{className:Object(cr.a)(Wh.a.ActivityCommentThreadMinimized,o?Wh.a.IsPopup:null,_&&Wh.a.IsVisible)},D.createElement(Vh,{upvotes:p,upvoted_by_user:d,upvoters:m,fnOnRateUpClicked:h,fnOnRateDownClicked:f,comment_count:b,fnMaximizeParent:this.props.bIsPopup?null:this.OnMaximize,nReactionCount:v,fnOnAwardClicked:this.ShowAwardModal,bIsVisible:_})),w)},Object(j.c)([O.observable],e.prototype,"m_bMinimized",void 0),Object(j.c)([E.a],e.prototype,"OnRateUpCommentThreadClicked",null),Object(j.c)([E.a],e.prototype,"OnRateDownCommentThreadClicked",null),Object(j.c)([E.a],e.prototype,"OnRateUpPublishedFileClicked",null),Object(j.c)([E.a],e.prototype,"OnRateDownPublishedFileClicked",null),Object(j.c)([E.a],e.prototype,"OnMaximize",null),Object(j.c)([E.a],e.prototype,"OnMinimize",null),Object(j.c)([E.a],e.prototype,"OnShowMoreComments",null),Object(j.c)([E.a],e.prototype,"OnPostCommentClicked",null),Object(j.c)([E.a],e.prototype,"OnBlur",null),Object(j.c)([E.a],e.prototype,"ShowAwardModal",null),Object(j.c)([E.a],e.prototype,"HideAwardModal",null),Object(j.c)([o.observer],e)}(D.Component);function Zh(e,t){if(e=Math.round(e),t=Math.round(t),e&&t)return"?imw="+e+"&imh="+t+"&ima=fit&impolicy=Letterbox&imcolor=%23000000&letterbox=true";var n="",r="";return e&&(n="imw="+e),t&&(r="imh="+t),"?"+n+"&"+r+"&ima=fit&impolicy=Letterbox&imcolor=%23000000&letterbox=false"}function Kh(e){var t=e.width,n=e.height,r=e.orig_width,i=e.orig_height,a=e.src,o=Object(j.f)(e,["width","height","orig_width","orig_height","src"]),s=a+Zh(t,n),c=void 0,l=6;if(t&&r&&(l=Math.min(l,Math.ceil(r/t))),n&&i&&(l=Math.min(l,Math.ceil(i/n))),l)for(var u=0,p=[2,4,6];u<p.length;u++){var d=p[u];if(l<d)break;c?c+=", ":c="",c+=""+a+Zh(t&&t*d,n&&n*d)+" "+d+"x"}return D.createElement("img",Object(j.a)(Object(j.a)({},o),{src:s,srcSet:c}))}var Jh=n("LDQU"),Xh=n("RS4j"),$h=n.n(Xh),ef=n("ckHM"),tf=n.n(ef),nf=n("AlO6"),rf=n.n(nf),af=c.Message;var of,sf,cf=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.recommendationid||l.a(r.M()),af.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{recommendationid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},review_text:{n:2,br:l.d.readString,bw:l.h.writeString},voted_up:{n:3,br:l.d.readBool,bw:l.h.writeBool},is_public:{n:4,br:l.d.readBool,bw:l.h.writeBool},language:{n:5,br:l.d.readString,bw:l.h.writeString},is_in_early_access:{n:6,br:l.d.readBool,bw:l.h.writeBool},received_compensation:{n:7,br:l.d.readBool,bw:l.h.writeBool},comments_disabled:{n:8,br:l.d.readBool,bw:l.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserReviews_Update_Request"},r}(af),lf=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return af.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CUserReviews_Update_Response"},r}(af),uf=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.reaction_type||l.a(r.M()),af.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{reaction_type:{n:1,br:l.d.readUint32,bw:l.h.writeUint32},count:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserReviews_Recommendation_LoyaltyReaction"},r}(af),pf=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.recommendationid||l.a(r.M()),af.initialize(t,e,0,-1,[40],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{recommendationid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},steamid:{n:2,br:l.d.readUint64String,bw:l.h.writeUint64String},appid:{n:3,br:l.d.readUint32,bw:l.h.writeUint32},review:{n:4,br:l.d.readString,bw:l.h.writeString},time_created:{n:5,br:l.d.readUint32,bw:l.h.writeUint32},time_updated:{n:6,br:l.d.readUint32,bw:l.h.writeUint32},votes_up:{n:7,br:l.d.readUint32,bw:l.h.writeUint32},votes_down:{n:8,br:l.d.readUint32,bw:l.h.writeUint32},vote_score:{n:9,br:l.d.readFloat,bw:l.h.writeFloat},language:{n:10,br:l.d.readString,bw:l.h.writeString},comment_count:{n:11,br:l.d.readUint32,bw:l.h.writeUint32},voted_up:{n:12,br:l.d.readBool,bw:l.h.writeBool},is_public:{n:13,br:l.d.readBool,bw:l.h.writeBool},moderator_hidden:{n:14,br:l.d.readBool,bw:l.h.writeBool},flagged_by_developer:{n:15,br:l.d.readEnum,bw:l.h.writeEnum},report_score:{n:16,br:l.d.readUint32,bw:l.h.writeUint32},steamid_moderator:{n:17,br:l.d.readUint64String,bw:l.h.writeUint64String},steamid_developer:{n:18,br:l.d.readUint64String,bw:l.h.writeUint64String},steamid_dev_responder:{n:19,br:l.d.readUint64String,bw:l.h.writeUint64String},developer_response:{n:20,br:l.d.readString,bw:l.h.writeString},time_developer_responded:{n:21,br:l.d.readUint32,bw:l.h.writeUint32},developer_flag_cleared:{n:22,br:l.d.readBool,bw:l.h.writeBool},written_during_early_access:{n:23,br:l.d.readBool,bw:l.h.writeBool},votes_funny:{n:24,br:l.d.readUint32,bw:l.h.writeUint32},received_compensation:{n:25,br:l.d.readBool,bw:l.h.writeBool},unverified_purchase:{n:26,br:l.d.readBool,bw:l.h.writeBool},review_quality:{n:27,br:l.d.readEnum,bw:l.h.writeEnum},weighted_vote_score:{n:28,br:l.d.readFloat,bw:l.h.writeFloat},moderation_note:{n:29,br:l.d.readString,bw:l.h.writeString},payment_method:{n:30,br:l.d.readInt32,bw:l.h.writeInt32},playtime_2weeks:{n:31,br:l.d.readInt32,bw:l.h.writeInt32},playtime_forever:{n:32,br:l.d.readInt32,bw:l.h.writeInt32},last_playtime:{n:33,br:l.d.readInt32,bw:l.h.writeInt32},comments_disabled:{n:34,br:l.d.readBool,bw:l.h.writeBool},playtime_at_review:{n:35,br:l.d.readInt32,bw:l.h.writeInt32},approved_for_china:{n:36,br:l.d.readBool,bw:l.h.writeBool},ban_check_result:{n:37,br:l.d.readEnum,bw:l.h.writeEnum},refunded:{n:38,br:l.d.readBool,bw:l.h.writeBool},account_score_spend:{n:39,br:l.d.readInt32,bw:l.h.writeInt32},reactions:{n:40,c:uf,r:!0,q:!0},ipaddress:{n:41,br:l.d.readString,bw:l.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"RecommendationDetails"},r}(af),df=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.requests||l.a(r.M()),af.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{requests:{n:1,c:mf,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserReviews_GetIndividualRecommendations_Request"},r}(af),mf=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||l.a(r.M()),af.initialize(t,e,0,-1,void 0,null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:l.d.readUint64String,bw:l.h.writeUint64String},appid:{n:2,br:l.d.readUint32,bw:l.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserReviews_GetIndividualRecommendations_Request_RecommendationRequest"},r}(af),hf=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.recommendations||l.a(r.M()),af.initialize(t,e,0,-1,[1],null),t}return Object(j.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{recommendations:{n:1,c:pf,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=l.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return l.g(r.M(),e,t)},r.fromObject=function(e){return l.c(r.M(),e)},r.deserializeBinary=function(e){var t=new c.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return l.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new c.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){l.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CUserReviews_GetIndividualRecommendations_Response"},r}(af);(sf=of=of||{}).Update=function(e,t){return e.SendMsg("UserReviews.Update#1",t,lf,{ePrivilege:3})},sf.GetIndividualRecommendations=function(e,t){return e.SendMsg("UserReviews.GetIndividualRecommendations#1",t,hf,{bConstMethod:!0,ePrivilege:1})};var ff=new(function(){function e(){this.m_mapRecommendationDetailsByApp=new Map}return e.prototype.Init=function(e){this.m_CMInterface=e},Object.defineProperty(e.prototype,"CMInterface",{get:function(){return this.m_CMInterface},enumerable:!1,configurable:!0}),e.prototype.FetchRecommendationDetails=function(i,a){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=x.b.Init(df),(n=t.Body().add_requests()).set_steamid(i),n.set_appid(a),[4,of.GetIndividualRecommendations(ff.CMInterface.GetServiceTransport(),t)];case 1:return 1!=(r=e.sent()).GetEResult()||1!=r.Body().recommendations().length?[2,null]:[2,r.Body().recommendations()[0].toObject()]}})})},e.prototype.GetReview=function(a,o,s){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(j.e)(this,function(e){switch(e.label){case 0:return(null==s&&(s=ff.CMInterface.steamid),t=null,n=s.ConvertTo64BitString(),this.m_mapRecommendationDetailsByApp.has(a))?[3,2]:(r=Object(O.observable)(new Map,{deep:!1}),this.m_mapRecommendationDetailsByApp.set(a,r),[4,this.FetchRecommendationDetails(n,a)]);case 1:return t=e.sent(),r.set(n,t),[2,t];case 2:return(i=this.m_mapRecommendationDetailsByApp.get(a),o||!i.has(n))?[3,3]:(t=i.get(n),[3,5]);case 3:return[4,this.FetchRecommendationDetails(n,a)];case 4:t=e.sent(),i.set(n,t),e.label=5;case 5:return[2,t]}})})},e.prototype.GetStoredReview=function(e,t){var n;null==t&&(t=ff.CMInterface.steamid);var r=t.ConvertTo64BitString();return null===(n=this.m_mapRecommendationDetailsByApp.get(e))||void 0===n?void 0:n.get(r)},Object(j.c)([O.observable.shallow],e.prototype,"m_mapRecommendationDetailsByApp",void 0),e}());window.appBroadcastStore=ff;var bf=n("BVKn"),_f=(n("6oCP"),n("9w6b")),vf=new bf.a;window.partnerEventStore=vf;var gf=new(function(){function e(){this.m_GetBestEventsForUserErrorMS=0,this.m_schScheduledUpdateBestEventsForUser=new X.b,this.m_rgEventsHiddenLocally=Array(),this.m_vecHomeBestEventsForUser=Array(),this.m_vecHomeTakeOverEventsForUser=Array(),this.m_vecAppsShowingMore=Array(),this.m_vecAppsShowingLess=Array(),this.m_bNoMoreOrLessDataFetched=!0,this.m_mapFailedImagesThisSession=new Map,this.m_mapAppEventPriorities=new Map,this.m_bEventsNotYetLoaded=!0,this.m_nEventsReturnedLastTime=0,this.m_nAppIDJustChangedPriority=0,this.m_bLastPriorityChangeWasLower=!1,this.m_TimeoutJustChangedPriority=void 0}return e.prototype.Init=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_CMInterface=r,this.m_nEventsReturnedLastTime=window.localStorage.getItem("EventsLastFetch_"+this.m_CMInterface.steamid.GetAccountID()),t=window.localStorage.getItem("EventsHiddenLocally_"+this.m_CMInterface.steamid.GetAccountID()),null!=(n=JSON.parse(t))&&n.length&&(this.m_rgEventsHiddenLocally=n),this.UpdateBestEventsForCurrentUser(),[4,_f.a.InitGlobal(r)];case 1:return e.sent(),[2]}})})},e.prototype.BNotYetLoaded=function(){return this.m_bEventsNotYetLoaded},e.prototype.GetEventsCountLastTime=function(){return this.m_nEventsReturnedLastTime},e.prototype.ImageFailureCallback=function(e){this.m_mapFailedImagesThisSession.set(e,!0)},e.prototype.FilterImageURLsForKnownFailures=function(e){var t=this;return e.filter(function(e){return!t.m_mapFailedImagesThisSession.has(e)})},e.prototype.GetJustChangedPriorityAppID=function(){return this.m_nAppIDJustChangedPriority},e.prototype.GetWasJustChangedPriorityLower=function(){return this.m_bLastPriorityChangeWasLower},e.prototype.ClearJustChangedPriority=function(){this.m_nAppIDJustChangedPriority=0},e.prototype.GetTakeOverEvents=function(){return this.m_vecHomeTakeOverEventsForUser.filter(function(e){return 593110==e.appid||mi.BIsVisible(e.appid)})},e.prototype.GetLibraryHomeBestEventsForUser=function(){return this.m_vecHomeBestEventsForUser.filter(function(e){return 593110==e.appid||mi.BIsVisible(e.appid)})},e.prototype.TrackEventShownToUser=function(e,t){_f.a.Get().GetTracker().MarkEventShown(e.GID,e.clanSteamID.GetAccountID(),t)},e.prototype.TrackEventClickedByUser=function(e,t){_f.a.Get().GetTracker().MarkEventRead(e.GID,e.clanSteamID.GetAccountID(),t)},e.prototype.ClearJustChangedAppPriority=function(){this.m_nAppIDJustChangedPriority=0,this.m_bLastPriorityChangeWasLower=!1},e.prototype.ResetUserAppPriorityForApp=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(hd.a)).Body().set_appid(r),[4,hd.o.ClearSinglePartnerEventsAppPriority(this.m_CMInterface.GetServiceTransport(),t)];case 1:return 1==e.sent().GetEResult()?(this.FetchUpdatedEventAppPrioritiesForUser(),this.m_schScheduledUpdateBestEventsForUser.Schedule(300,function(){return n.UpdateBestEventsForCurrentUser()}),[2,!0]):[2,!1]}})})},e.prototype.FetchUpdatedEventAppPrioritiesForUser=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=x.b.Init(hd.g),[4,hd.o.GetUserPartnerEventsAppPriorities(this.m_CMInterface.GetServiceTransport(),t)];case 1:if(1==(n=e.sent()).GetEResult()){for(this.m_vecAppsShowingMore=[],this.m_vecAppsShowingLess=[],r=0,i=n.Body().priorities();r<i.length;r++)0<(a=i[r]).user_app_priority()?this.m_vecAppsShowingMore.push(a.appid()):a.user_app_priority()<0&&this.m_vecAppsShowingLess.push(a.appid());this.m_bNoMoreOrLessDataFetched=!1}return[2]}})})},e.prototype.BNoShowMoreOrLessDataFetched=function(){return this.m_bNoMoreOrLessDataFetched},e.prototype.GetAppsShowingLess=function(){return this.m_vecAppsShowingLess},e.prototype.GetAppsShowingMore=function(){return this.m_vecAppsShowingMore},e.prototype.ScheduleUpdateBestEventsForUser=function(e){var t=this;this.m_schScheduledUpdateBestEventsForUser.Schedule(e,function(){return t.UpdateBestEventsForCurrentUser()})},e.prototype.RaiseAppPriorityForApp=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(hd.k)).Body().set_appid(r),[4,hd.o.PartnerEventsShowMoreForApp(this.m_CMInterface.GetServiceTransport(),t)];case 1:return n=e.sent(),this.UpdateBestEventsForCurrentUser(),this.m_TimeoutJustChangedPriority&&clearTimeout(this.m_TimeoutJustChangedPriority),this.m_nAppIDJustChangedPriority=r,this.m_bLastPriorityChangeWasLower=!1,this.m_TimeoutJustChangedPriority=window.setTimeout(this.ClearJustChangedPriority,3e4),1==n.GetEResult()?(this.FetchUpdatedEventAppPrioritiesForUser(),[2,!0]):[2,!1]}})})},e.prototype.LowerAppPriorityForApp=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(hd.j)).Body().set_appid(r),[4,hd.o.PartnerEventsShowLessForApp(this.m_CMInterface.GetServiceTransport(),t)];case 1:return n=e.sent(),this.UpdateBestEventsForCurrentUser(),this.m_TimeoutJustChangedPriority&&clearTimeout(this.m_TimeoutJustChangedPriority),this.m_nAppIDJustChangedPriority=r,this.m_bLastPriorityChangeWasLower=!0,this.m_TimeoutJustChangedPriority=window.setTimeout(this.ClearJustChangedPriority,3e4),1==n.GetEResult()?(this.FetchUpdatedEventAppPrioritiesForUser(),[2,!0]):[2,!1]}})})},e.prototype.AddToDoNotShowList=function(e){var t;-1==this.m_rgEventsHiddenLocally.indexOf(e)&&(this.m_rgEventsHiddenLocally.push(e),t=JSON.stringify(this.m_rgEventsHiddenLocally),window.localStorage.setItem("EventsHiddenLocally_"+this.m_CMInterface.steamid.GetAccountID(),t))},e.prototype.ResetDoNotShowList=function(){var e;0<this.m_rgEventsHiddenLocally.length&&(this.m_rgEventsHiddenLocally=[],e=JSON.stringify(this.m_rgEventsHiddenLocally),window.localStorage.setItem("EventsHiddenLocally_"+this.m_CMInterface.steamid.GetAccountID(),e),this.UpdateBestEventsForCurrentUser())},e.prototype.RemoveEvent=function(e){for(var t=0;t<this.m_vecHomeTakeOverEventsForUser.length;++t)this.m_vecHomeTakeOverEventsForUser[t].GID==e&&(this.m_vecHomeTakeOverEventsForUser.splice(t,1),this.AddToDoNotShowList(e));for(t=0;t<this.m_vecHomeBestEventsForUser.length;++t)this.m_vecHomeBestEventsForUser[t].GID==e&&(this.m_vecHomeBestEventsForUser.splice(t,1),this.AddToDoNotShowList(e))},e.prototype.GetUserAppPrioritySetting=function(e){var t=this.m_mapAppEventPriorities.get(e);return void 0===t?0:t},e.prototype.UpdateBestEventsForCurrentUser=function(){var e,n=this;A.c.OFFLINE_MODE?this.m_bEventsNotYetLoaded=!1:(e=!1,Jr.settings.bLibraryWhatsNewShowOnlyProductUpdates&&(e=!0),vf.GetBestEventsForCurrentUser(0,e).then(function(e){n.m_vecHomeBestEventsForUser=[],e.forEach(function(e){var t=e.event;-1===n.m_rgEventsHiddenLocally.indexOf(t.GID)&&(Xa.GetAppOverviewByAppID(t.appid)&&(e.bPossibleTakeOver?n.m_vecHomeTakeOverEventsForUser.push(t):n.m_vecHomeBestEventsForUser.push(t)),n.m_mapAppEventPriorities.set(t.appid,e.nAppPriority)),window.localStorage.setItem("EventsLastFetch_"+n.m_CMInterface.steamid.GetAccountID(),n.GetLibraryHomeBestEventsForUser().length+n.GetTakeOverEvents().length)}),n.m_bEventsNotYetLoaded=!1,n.m_GetBestEventsForUserErrorMS=0,n.m_schScheduledUpdateBestEventsForUser.Schedule(432e5,function(){return n.UpdateBestEventsForCurrentUser()})}).catch(function(e){n.m_bEventsNotYetLoaded=!1,void 0!==e.response&&void 0!==e.response.data?console.log("Error calling GetBestEventsForCurrentUser: "+e.response.data.err_msg):console.log("Error calling GetBestEventsForCurrentUser Generic: "+e),0==n.m_GetBestEventsForUserErrorMS?n.m_GetBestEventsForUserErrorMS=1e4:n.m_GetBestEventsForUserErrorMS=Math.min(2*n.m_GetBestEventsForUserErrorMS,72e5),console.log("Will retry GetBestEventsForCurrentUser in "+n.m_GetBestEventsForUserErrorMS+"ms"),n.m_schScheduledUpdateBestEventsForUser.Schedule(n.m_GetBestEventsForUserErrorMS,function(){return n.UpdateBestEventsForCurrentUser()})}))},Object(j.c)([O.observable.shallow],e.prototype,"m_vecHomeBestEventsForUser",void 0),Object(j.c)([O.observable.shallow],e.prototype,"m_vecHomeTakeOverEventsForUser",void 0),Object(j.c)([O.observable.shallow],e.prototype,"m_vecAppsShowingMore",void 0),Object(j.c)([O.observable.shallow],e.prototype,"m_vecAppsShowingLess",void 0),Object(j.c)([O.observable],e.prototype,"m_bNoMoreOrLessDataFetched",void 0),Object(j.c)([O.observable],e.prototype,"m_mapAppEventPriorities",void 0),Object(j.c)([O.observable],e.prototype,"m_bEventsNotYetLoaded",void 0),Object(j.c)([O.observable],e.prototype,"m_nEventsReturnedLastTime",void 0),Object(j.c)([O.observable],e.prototype,"m_nAppIDJustChangedPriority",void 0),Object(j.c)([O.observable],e.prototype,"m_bLastPriorityChangeWasLower",void 0),Object(j.c)([E.a],e.prototype,"ImageFailureCallback",null),Object(j.c)([E.a],e.prototype,"FilterImageURLsForKnownFailures",null),Object(j.c)([E.a,O.action],e.prototype,"ClearJustChangedPriority",null),e}());window.libraryEventStore=gf;var yf,Sf,wf="achievementmap",Cf=2*Cr.g.PerMonth,Of="gameactivity",Ef=function(){function i(){this.commentThreads=[],this.activeThread=0}return i.prototype.InitFromUserNewsEvent=function(e,t,n,r){this.bIsGameActivity=!1,this.eEventType=e,this.rtEventTime=t,this.steamIDActor=n,this.steamIDTarget=r,this.unUniqueID=++i.sm_unLastUniqueID},i.prototype.InitFromGameActivity=function(e,t,n,r){this.bIsGameActivity=!0,this.eGameActivityType=e,this.eEventSubType=t,this.rtEventTime=n,this.steamIDActor=r,this.unUniqueID=++i.sm_unLastUniqueID},i.prototype.GetCommentThreadType=function(){if(this.bIsGameActivity)return ld.k_ECommentThreadTypeInvalid;switch(this.eEventType){case pd.FilePublished_Screenshot:case pd.FilePublished_Video:return ld.k_ECommentThreadTypePublishedFile_Public;case pd.UserStatus:return ld.k_ECommentThreadTypeUserStatusPublished;case pd.ReceivedNewGame:case pd.PlayedGameFirstTime:case pd.AddedGameToWishlist:case pd.AchievementUnlocked:return ld.k_ECommentThreadTypeUserReceivedNewGame;case pd.PostedAnnouncement:return ld.k_ECommentThreadTypeNewsPost;case pd.RecommendedGame:return ld.k_ECommentThreadTypeRecommendation;default:return ld.k_ECommentThreadTypeInvalid}},i.prototype.AddCommentThread=function(e,t){this.GetCommentThreadType()!=ld.k_ECommentThreadTypeInvalid&&this.commentThreads.push({eCommentThreadType:this.GetCommentThreadType(),gidFeature:e,gidFeature2:t})},i.prototype.UpdateCommentThreads=function(){this.commentThreads.map(function(e){e.bNeedsUpdate=!0})},i.prototype.SetActiveCommentThread=function(e){0<=e&&e<this.commentThreads.length&&(this.activeThread=e)},i.prototype.GetActiveCommentThread=function(){if(!this.commentThreads||0==this.commentThreads.length||Za.BIsFeatureBlocked(2))return null;var e=this.commentThreads[this.activeThread];return e.commentThread||(e.commentThread=Sd.ThreadStore.FindOrLoadThread(e.eCommentThreadType,this.steamIDActor,e.gidFeature,e.gidFeature2)),e.bNeedsUpdate&&(e.commentThread.FetchRecentComments(),e.bNeedsUpdate=!1),e.commentThread},i.prototype.BIsValid=function(){return!0},i.prototype.DeleteOnServer=function(){console.log("No delete method implemented for events of type "+this.eEventType)},i.prototype.GetParentalFeature=function(){return this.steamIDActor.ConvertTo64BitString()==Uf.CMInterface.steamid.ConvertTo64BitString()?3:2},i.sm_unLastUniqueID=0,Object(j.c)([O.observable.shallow],i.prototype,"commentThreads",void 0),Object(j.c)([O.observable],i.prototype,"activeThread",void 0),i}(),Bf=function(r){function e(e,t){var n=r.call(this)||this;return n.m_rgAchievements=[],n.InitFromUserNewsEvent(pd.AchievementUnlocked,e,t),n}return Object(j.d)(e,r),e.prototype.AddAchievement=function(t,e){null==this.m_rgAchievements.find(function(e){return e==t})&&(this.m_rgAchievements.push(Object(j.a)(Object(j.a)({},t),{rtUnlocked:e})),0==this.commentThreads.length&&this.AddCommentThread(""+this.rtEventTime,""+this.eEventType))},Object.defineProperty(e.prototype,"achievements",{get:function(){return this.m_rgAchievements},enumerable:!1,configurable:!0}),e}(Ef);(Sf=yf=yf||{})[Sf.k_ETradingCardActivity_Invalid=0]="k_ETradingCardActivity_Invalid",Sf[Sf.k_ETradingCardActivity_CardDrop=1]="k_ETradingCardActivity_CardDrop",Sf[Sf.k_ETradingCardActivity_BoosterDrop=2]="k_ETradingCardActivity_BoosterDrop",Sf[Sf.k_ETradingCardActivity_BadgeCraft=3]="k_ETradingCardActivity_BadgeCraft";var Af=function(r){function e(e,t){var n=r.call(this)||this;return n.m_nItemClass=0,n.m_nNewBadgeLevel=0,n.InitFromGameActivity(2,yf.k_ETradingCardActivity_BadgeCraft,e.timestamp(),t),n.m_nItemClass=parseInt(e.data1()),n.m_nNewBadgeLevel=parseInt(e.data3()),n}return Object(j.d)(e,r),e.prototype.BIsValid=function(){return!0},e.prototype.GetHeadline=function(){return"#AppActivity_SteamTradingCards_BadgeCrafted"},e}(Ef),If=function(r){function e(e,t){var n=r.call(this)||this;return n.m_nItemClass=0,n.m_nItemType=0,n.InitFromGameActivity(2,yf.k_ETradingCardActivity_BoosterDrop,e.timestamp(),t),n.m_nItemClass=parseInt(e.data1()),n.m_nItemType=parseInt(e.data2()),n}return Object(j.d)(e,r),e.prototype.BIsValid=function(){return!0},e.prototype.GetHeadline=function(){return"#AppActivity_SteamTradingCards_EarnedBoosterPack"},e}(Ef),jf=function(r){function e(e,t){var n=r.call(this)||this;return n.m_rgTradingCards=[],n.m_cardAssetIDs=[],n.InitFromGameActivity(2,yf.k_ETradingCardActivity_CardDrop,e.timestamp(),t),n}return Object(j.d)(e,r),e.prototype.BIsValid=function(){return!0},e.prototype.GetHeadline=function(){return 1==this.m_rgTradingCards.length?"#AppActivity_SteamTradingCards_EarnedTradingCard":"#AppActivity_SteamTradingCards_EarnedTradingCards"},e.prototype.AddTradingCard=function(e){var t,n=e.item_assetid();this.m_cardAssetIDs.includes(n)||(this.m_cardAssetIDs.push(n),t=parseInt(e.data2()),this.m_rgTradingCards.push(t))},Object.defineProperty(e.prototype,"tradingCards",{get:function(){return this.m_rgTradingCards},enumerable:!1,configurable:!0}),Object(j.c)([O.observable],e.prototype,"m_rgTradingCards",void 0),e}(Ef),Df=function(r){function e(e,t){var n=r.call(this)||this;return n.m_rgScreenshots=[],n.m_bIsValid=!0,n.InitFromUserNewsEvent(pd.FilePublished_Screenshot,e,t),n.m_bIsValid=!1,n}return Object(j.d)(e,r),e.prototype.AddScreenshot=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(oh)).Body().set_publishedfileids([r]),[4,xm.GetDetails(Uf.CMInterface.GetServiceTransport(),t)];case 1:return 0<(n=e.sent()).Body().publishedfiledetails().length&&1==n.Body().publishedfiledetails()[0].result()&&(this.m_bIsValid=!0,this.m_rgScreenshots.push(r),this.AddCommentThread(r)),[2]}})})},e.prototype.GetCurrentPublishedFileID=function(){return this.activeThread>=this.m_rgScreenshots.length?null:this.m_rgScreenshots[this.activeThread]},Object.defineProperty(e.prototype,"publishedfileids",{get:function(){return this.m_rgScreenshots},enumerable:!1,configurable:!0}),e.prototype.AddInitialCommentThread=function(){},e.prototype.BIsValid=function(){return this.m_bIsValid},Object(j.c)([O.observable],e.prototype,"m_rgScreenshots",void 0),Object(j.c)([O.observable],e.prototype,"m_bIsValid",void 0),e}(Ef),Rf=function(r){function e(e,t){var n=r.call(this)||this;return n.m_rgVideos=[],n.m_bIsValid=!0,n.InitFromUserNewsEvent(pd.FilePublished_Video,e,t),n.m_bIsValid=!1,n}return Object(j.d)(e,r),e.prototype.AddVideo=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(oh)).Body().set_publishedfileids([r]),[4,xm.GetDetails(Uf.CMInterface.GetServiceTransport(),t)];case 1:return 0<(n=e.sent()).Body().publishedfiledetails().length&&1==n.Body().publishedfiledetails()[0].result()&&(this.m_bIsValid=!0,this.m_rgVideos.push(r),this.AddCommentThread(r)),[2]}})})},e.prototype.GetCurrentPublishedFileID=function(){return this.activeThread>=this.m_rgVideos.length?null:this.m_rgVideos[this.activeThread]},Object.defineProperty(e.prototype,"publishedfileids",{get:function(){return this.m_rgVideos},enumerable:!1,configurable:!0}),e.prototype.BIsValid=function(){return this.m_bIsValid},Object(j.c)([O.observable],e.prototype,"m_rgVideos",void 0),Object(j.c)([O.observable],e.prototype,"m_bIsValid",void 0),e}(Ef),Tf=function(r){function e(e,t){var n=r.call(this)||this;return n.m_RecommendationDetails=null,n.InitFromUserNewsEvent(pd.RecommendedGame,e,t),n}return Object(j.d)(e,r),e.prototype.AddRecommendation=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=this,[4,ff.GetReview(n,!1,this.steamIDActor)];case 1:return t.m_RecommendationDetails=e.sent(),[2]}})})},e.prototype.BIsValid=function(){return null!=this.m_RecommendationDetails},e.prototype.GetRecommendationDetails=function(){return this.m_RecommendationDetails},Object(j.c)([O.observable.shallow],e.prototype,"m_RecommendationDetails",void 0),e}(Ef),Mf=function(){function e(){}return Object(j.c)([O.observable],e.prototype,"statusText",void 0),Object(j.c)([O.observable],e.prototype,"time",void 0),e}(),Nf=function(r){function e(e,t){var n=r.call(this)||this;return n.m_bIsValid=!0,n.InitFromUserNewsEvent(pd.UserStatus,e,t),n}return Object(j.d)(e,r),e.prototype.AddUserStatus=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(yt.i)).Body().set_steamid(this.steamIDActor.ConvertTo64BitString()),t.Body().set_postid(r.toString()),[4,yt.n.GetPostedStatus(Uf.CMInterface.GetServiceTransport(),t)];case 1:return 1!=(n=e.sent()).GetEResult()||n.Body().deleted()?this.m_bIsValid=!1:(this.m_userStatus=new Mf,this.m_userStatus.statusText=n.Body().status_text(),this.m_userStatus.time=r),[2]}})})},e.prototype.GetUserStatus=function(){return this.m_userStatus},e.prototype.BIsValid=function(){return this.m_bIsValid},e.prototype.DeleteOnServer=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_userStatus?((t=x.b.Init(yt.b)).Body().set_postid(this.m_userStatus.time.toString()),[4,yt.n.DeletePostedStatus(b.a.CMInterface.GetServiceTransport(),t)]):[3,2];case 1:1==e.sent().GetEResult()&&(this.m_bIsValid=!1),e.label=2;case 2:return[2]}})})},Object(j.c)([O.observable.shallow],e.prototype,"m_userStatus",void 0),Object(j.c)([O.observable],e.prototype,"m_bIsValid",void 0),e}(Ef),Lf=function(a){function e(e,t,n,r){var i=a.call(this)||this;return i.m_gidAnnouncement="",i.m_unTimeLastMod=0,i.m_gidForumTopic="",i.InitFromUserNewsEvent(pd.PostedAnnouncement,e,t),i.m_gidAnnouncement=n,i.m_unTimeLastMod=r,i}return Object(j.d)(e,a),e.prototype.GetParentalFeature=function(){return 0},Object.defineProperty(e.prototype,"upvotes",{get:function(){return this.m_EventModel.nVotesUp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"downvotes",{get:function(){return this.m_EventModel.nVotesDown},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"comment_count",{get:function(){return this.m_EventModel.nCommentCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"announcementGID",{get:function(){return this.m_gidAnnouncement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"forumTopicGID",{get:function(){return this.m_gidForumTopic},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appid",{get:function(){return this.m_appID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rtPartnerEventSortDate",{get:function(){var e;return null===(e=this.m_EventModel)||void 0===e?void 0:e.rtime32_moderator_reviewed},enumerable:!1,configurable:!0}),e.prototype.BIsValid=function(){return!0},e.prototype.IsEventLoaded=function(){return void 0!==this.m_EventModel&&null!==this.m_EventModel},e.prototype.GetEvent=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:if(this.m_EventModel)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,vf.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(this.steamIDActor,this.m_gidAnnouncement,this.m_unTimeLastMod)];case 2:return(t=e.sent())&&(this.m_gidForumTopic=t.forumTopicGID,this.m_appID=t.appid),this.m_EventModel=t,[3,4];case 3:return e.sent(),this.m_EventModel=null,[3,4];case 4:return[2,this.m_EventModel]}})})},e.prototype.ReloadEvent=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return vf.FlushEventFromCache(null,this.m_gidAnnouncement),this.m_EventModel=null,[2,this.GetEvent()]})})},Object(j.c)([O.observable.shallow],e.prototype,"m_EventModel",void 0),e}(Ef),kf=function(){function e(){this.m_rgEvents=O.observable.array(),this.m_mapAchievementsByUser=new Map,this.m_mapScreenshotsByUser=new Map,this.m_mapVideosByUser=new Map,this.m_mapTradingCardsByUser=new Map}return e.prototype.AddEvent=function(e){this.m_rgEvents.push(e)},e.prototype.AddActivityEvent=function(e,t,n){var r=new Ef;r.InitFromUserNewsEvent(n,e.eventtime(),t),r.AddCommentThread(""+e.eventtime(),""+n),this.AddEvent(r)},e.prototype.AddScreenshotEvent=function(r,i){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=i.GetAccountID(),(n=this.m_mapScreenshotsByUser.get(t))||(n=new Df(r.eventtime(),i),this.m_mapScreenshotsByUser.set(t,n),this.AddEvent(n)),[4,n.AddScreenshot(r.publishedfileid())];case 1:return e.sent(),[2]}})})},e.prototype.AddVideoEvent=function(r,i){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=i.GetAccountID(),(n=this.m_mapVideosByUser.get(t))||(n=new Rf(r.eventtime(),i),this.m_mapVideosByUser.set(t,n),this.AddEvent(n)),[4,n.AddVideo(r.publishedfileid())];case 1:return e.sent(),[2]}})})},e.prototype.AddAchievementEvent=function(s,c,l){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(j.e)(this,function(e){for(t=c.GetAccountID(),(n=this.m_mapAchievementsByUser.get(t))||(n=new Bf(s.eventtime(),c),this.m_mapAchievementsByUser.set(t,n),this.AddEvent(n)),r=0,i=s.achievement_names();r<i.length;r++)a=i[r],(o=l.get(a))?n.AddAchievement(o,s.eventtime()):Object(w.a)(o,"Achievement "+a+" missing from map");return[2]})})},e.prototype.AddUserStatusEvent=function(n,r){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=new Nf(n.eventtime(),r)).AddCommentThread(""+n.eventtime()),this.AddEvent(t),[4,t.AddUserStatus(n.eventtime())];case 1:return e.sent(),[2]}})})},e.prototype.AddRecommendedGameEvent=function(n,r,i){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=new Tf(n.eventtime(),r)).AddCommentThread(""+i),this.AddEvent(t),[4,t.AddRecommendation(i)];case 1:return e.sent(),[2]}})})},e.prototype.AddPartnerEvent=function(n,r){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){return t=new Lf(n.eventtime(),r,n.clan_announcementid(),n.event_last_mod_time()),this.AddEvent(t),[2,t]})})},e.prototype.AddSteamTradingCardEvent=function(e,t){switch(e.event_sub_type()){case yf.k_ETradingCardActivity_BadgeCraft:this.AddEvent(new Af(e,t));break;case yf.k_ETradingCardActivity_CardDrop:var n=t.GetAccountID(),r=this.m_mapTradingCardsByUser.get(n);r||(r=new jf(e,t),this.m_mapTradingCardsByUser.set(n,r),this.AddEvent(r)),r.AddTradingCard(e);break;case yf.k_ETradingCardActivity_BoosterDrop:this.AddEvent(new If(e,t))}},e.prototype.RemoveEvent=function(e){for(var t=0;t<this.m_rgEvents.length;++t)if(this.m_rgEvents[t].unUniqueID===e.unUniqueID)return this.m_rgEvents.splice(t,1),!0;return!1},Object.defineProperty(e.prototype,"isValid",{get:function(){for(var e=!1,t=0,n=this.m_rgEvents;t<n.length;t++)var r=n[t],e=e||r.BIsValid();return e},enumerable:!1,configurable:!0}),e.prototype.BHasEvents=function(){return 0<this.events.length},Object.defineProperty(e.prototype,"events",{get:function(){return this.m_rgEvents.filter(function(e){return e.BIsValid()&&!Za.BIsFeatureBlocked(e.GetParentalFeature())})},enumerable:!1,configurable:!0}),e.prototype.GetLatestEventTime=function(){return this.m_rgEvents.length?this.m_rgEvents[0].rtEventTime:C.x},e.prototype.GetEarliestEventTime=function(){return this.m_rgEvents.length?this.m_rgEvents[this.m_rgEvents.length-1].rtEventTime:C.x},Object.defineProperty(e.prototype,"dayBegin",{get:function(){return this.m_rtDayBegin},set:function(e){this.m_rtDayBegin=e},enumerable:!1,configurable:!0}),e.prototype.SortEvents=function(){this.m_rgEvents.replace(this.m_rgEvents.slice().sort(function(e,t){return t.rtEventTime-e.rtEventTime}))},Object(j.c)([O.observable.shallow],e.prototype,"m_rgEvents",void 0),Object(j.c)([O.action],e.prototype,"AddEvent",null),Object(j.c)([O.action],e.prototype,"AddActivityEvent",null),Object(j.c)([O.action],e.prototype,"AddScreenshotEvent",null),Object(j.c)([O.action],e.prototype,"AddVideoEvent",null),Object(j.c)([O.action],e.prototype,"AddAchievementEvent",null),Object(j.c)([O.action],e.prototype,"AddUserStatusEvent",null),Object(j.c)([O.action],e.prototype,"AddRecommendedGameEvent",null),Object(j.c)([O.action],e.prototype,"AddPartnerEvent",null),Object(j.c)([O.action],e.prototype,"AddSteamTradingCardEvent",null),Object(j.c)([O.action],e.prototype,"RemoveEvent",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"isValid",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"events",null),e}(),Ff=function(){function o(e){this.m_rtEarliestUserNewsTime=4294967295,this.m_rtEarliestGameActivityTime=4294967295,this.m_rtLatestUserNewsTime=0,this.m_rtLatestGameActivityTime=0,this.m_rgCachedUserNewsEvents=[],this.m_rgCachedGameActivityEvents=[],this.m_bNoMoreHistoryAvailable=!1,this.m_mapActivityByDay=new Map,this.m_AchievementMap=new Map,this.m_unAppID=e,this.m_mapActivityByDay.clear(),this.m_AchievementMap.clear()}return Object.defineProperty(o.prototype,"earliest_user_news_time",{get:function(){return this.m_rtEarliestUserNewsTime},set:function(e){this.m_rtEarliestUserNewsTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"earliest_game_activity_time",{get:function(){return this.m_rtEarliestGameActivityTime},set:function(e){this.m_rtEarliestGameActivityTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"latest_user_news_time",{get:function(){return this.m_rtLatestUserNewsTime},set:function(e){this.m_rtLatestUserNewsTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"latest_game_activity_time",{get:function(){return this.m_rtLatestGameActivityTime},set:function(e){this.m_rtLatestGameActivityTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"last_update_time",{get:function(){return Math.max(this.latest_game_activity_time,this.latest_user_news_time)},enumerable:!1,configurable:!0}),o.prototype.BHasEvents=function(){return 0<this.m_rgCachedGameActivityEvents.length||0<this.m_rgCachedUserNewsEvents.length},Object.defineProperty(o.prototype,"lastAddedEventType",{get:function(){var e=this.appActivityByDay&&this.appActivityByDay[0];return e&&0<e.events.length?e.events[0].eEventType:pd.Invalid},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"lastAddedPartnerEvent",{get:function(){for(var e=0,t=this.appActivityByDay;e<t.length;e++){var n=t[e].events.find(function(e){return e.eEventType==pd.PostedAnnouncement});if(n)return n}return null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"appActivityByDay",{get:function(){var n=[],r=this.m_mapActivityByDay;return Array.from(r.keys()).sort(function(e,t){return t-e}).forEach(function(e){var t=r.get(e);t&&t.BHasEvents()&&n.push(t)}),n},enumerable:!1,configurable:!0}),o.prototype.SortEvents=function(){this.m_mapActivityByDay.forEach(function(e){return e.SortEvents()})},o.prototype.MergeUserNews=function(e){if(0!=e.news().length){var t=o.BuildAchievementMapFromProto(this.m_unAppID,e.achievement_display_data());this.m_AchievementMap=new Map(Object(j.g)(Array.from(this.m_AchievementMap),Array.from(t)));for(var n=0,r=e.news();n<r.length;n++){var i=r[n];this.AddUserNewsEvent(i)}this.SortEvents()}},o.prototype.AddUserNewsEvent=function(a){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(j.e)(this,function(e){switch(e.label){case 0:switch(this.CacheUserNewsEvent(a),t=o.GetLocalMidnightInRTime32(a.eventtime()),(n=this.m_mapActivityByDay.get(t))||(n=new kf,this.m_mapActivityByDay.set(t,n)),this.earliest_user_news_time=Math.min(a.eventtime(),this.earliest_user_news_time),a.eventtime()>this.latest_user_news_time&&(this.latest_user_news_time=a.eventtime()),r=a.eventtype(),i=new H.a(a.steamid_actor()),r){case pd.AchievementUnlocked:return[3,1];case pd.FilePublished_Screenshot:return[3,3];case pd.FilePublished_Video:return[3,5];case pd.UserStatus:return[3,7];case pd.RecommendedGame:return[3,9];case pd.ReceivedNewGame:case pd.AddedGameToWishlist:case pd.PlayedGameFirstTime:return[3,11];case pd.PostedAnnouncement:return[3,13]}return[3,15];case 1:return[4,n.AddAchievementEvent(a,i,this.m_AchievementMap)];case 2:return e.sent(),[3,16];case 3:return[4,n.AddScreenshotEvent(a,i)];case 4:return e.sent(),[3,16];case 5:return[4,n.AddVideoEvent(a,i)];case 6:return e.sent(),[3,16];case 7:return[4,n.AddUserStatusEvent(a,i)];case 8:return e.sent(),[3,16];case 9:return[4,n.AddRecommendedGameEvent(a,i,this.m_unAppID)];case 10:return e.sent(),[3,16];case 11:return[4,n.AddActivityEvent(a,i,r)];case 12:return e.sent(),[3,16];case 13:return[4,n.AddPartnerEvent(a,i)];case 14:return e.sent(),[3,16];case 15:return console.log("Unknown Event Type "+pd[r]),[3,16];case 16:return[2]}})})},o.prototype.DeleteEvent=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,t.DeleteOnServer()];case 1:return e.sent(),[2]}})})},o.prototype.MergeGameActivity=function(e,t){for(var n=0,r=e.events();n<r.length;n++){var i=r[n];this.AddGameActivityEvent(i,t)}},o.prototype.AddGameActivityEvent=function(i,a){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(this.CacheGameActivityEvent(i),t=o.GetLocalMidnightInRTime32(i.timestamp()),(n=this.m_mapActivityByDay.get(t))||(n=new kf,this.m_mapActivityByDay.set(t,n)),this.earliest_game_activity_time=Math.min(this.earliest_game_activity_time,i.timestamp()),this.latest_game_activity_time=Math.max(this.latest_game_activity_time,i.timestamp()),r=i.event_type()){case 1:break;case 2:n.AddSteamTradingCardEvent(i,a);break;default:console.log("Unknown game activity type: "+r)}return[2]})})},o.GetLocalMidnightInRTime32=function(e){void 0===o.sm_tzOffset&&(o.sm_tzOffset=60*(new Date).getTimezoneOffset(),Object(w.a)(o.sm_tzOffset||0===o.sm_tzOffset,"Computed invalid timezone offset "+o.sm_tzOffset));var t=o.sm_tzOffset||0,n=e-t;return 86400*Math.floor(n/86400)+t},o.BuildAchievementMapFromProto=function(e,t){var n=new Map;if(t&&1==t.length){var r=t[0];Object(w.a)(r.appid()==e,"unexpected app data in achievement display map");for(var i=0,a=r.achievements();i<a.length;i++){var o=a[i],s=new C.b;s.strName=o.display_name(),s.strDescription=o.display_description(),s.strImage="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/apps/"+e+"/"+o.icon(),s.bAchieved=!0,s.flAchieved=o.unlocked_pct(),s.bHidden=o.hidden(),n.set(o.name(),s)}}return n},o.prototype.UpdateCommentThreads=function(){this.m_mapActivityByDay.forEach(function(e){e.events.map(function(e){e.UpdateCommentThreads()})})},o.prototype.BEventIsTooOldToCache=function(e){return e<Math.floor(Date.now()/1e3)-Cf},o.prototype.CacheUserNewsEvent=function(e){this.m_rgCachedUserNewsEvents.push(e)},o.prototype.GetUserNewsCache=function(){for(var e=[],t=0,n=this.m_rgCachedUserNewsEvents;t<n.length;t++){var r,i,a=n[t];this.BEventIsTooOldToCache(a.eventtime())||(r=a.serializeBinary(),i=G.fromByteArray(r),e.push(i))}return e},o.prototype.CacheGameActivityEvent=function(e){this.m_rgCachedGameActivityEvents.push(e)},o.prototype.GetGameActivityCache=function(){for(var e=[],t=0,n=this.m_rgCachedGameActivityEvents;t<n.length;t++){var r,i,a=n[t];this.BEventIsTooOldToCache(a.timestamp())?console.log("old game activity "+a.timestamp()):(r=a.serializeBinary(),i=G.fromByteArray(r),e.push(i))}return e},o.prototype.GetAchievementMapCache=function(){return JSON.stringify(Array.from(this.m_AchievementMap))},o.prototype.RestoreAchievementMapFromCache=function(e){this.m_AchievementMap.clear();for(var t=0,n=JSON.parse(e);t<n.length;t++){var r=n[t];this.m_AchievementMap.set(r[0],r[1])}},Object(j.c)([O.observable],o.prototype,"m_bNoMoreHistoryAvailable",void 0),Object(j.c)([O.observable.shallow],o.prototype,"m_mapActivityByDay",void 0),Object(j.c)([Object(O.computed)({keepAlive:!0})],o.prototype,"lastAddedEventType",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],o.prototype,"lastAddedPartnerEvent",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],o.prototype,"appActivityByDay",null),Object(j.c)([O.action],o.prototype,"MergeUserNews",null),Object(j.c)([O.action],o.prototype,"AddUserNewsEvent",null),Object(j.c)([O.action],o.prototype,"MergeGameActivity",null),o}(),Pf=void 0;function Gf(){if(void 0!==Pf)return Pf;for(var e=[pd.AchievementUnlocked,pd.FilePublished_Screenshot,pd.FilePublished_Video,pd.UserStatus,pd.RecommendedGame,pd.ReceivedNewGame,pd.AddedGameToWishlist,pd.PlayedGameFirstTime,pd.PostedAnnouncement],t=Pf=0,n=e;t<n.length;t++){Pf|=function(e){switch(e){case pd.FriendAdded:return 1;case pd.AchievementUnlocked:return 2;case pd.ReceivedNewGame:case pd.PlayedGameFirstTime:return 4;case pd.JoinedGroup:return 8;case pd.AddedGameToWishlist:return 128;case pd.RecommendedGame:return 256;case pd.ScreenshotPublished_Deprecated:return 512;case pd.VideoPublished_Deprecated:return 1024;case pd.FilePublished_Screenshot:return 512;case pd.FilePublished_Video:return 1024;case pd.FilePublished_WorkshopItem:return 8192;case pd.UserStatus:return 4096;case pd.FilePublished_Collection:case pd.FilePublished_WebGuide:case pd.FilePublished_Art:return 8192;case pd.ClanAchievement:return 65536;case pd.PostedAnnouncement:return 131072;case pd.ScheduledEvent:return 262144;case pd.SelectedNewPOTW:return 524288;case pd.PromotedNewAdmin:return 1048576;case pd.MessageOnClanPage:return 2097152;case pd.CuratorRecommendedGame:return 4194304;case pd.FileFavorited:return 16384;default:console.log("Unknown user news type",e)}return 0}(n[t])}return Pf}var Uf=new(function(){function e(){this.m_mapAppActivity=new Map,this.m_bUpdateLock=!1,this.RestoreCachedActivity=Object(O.flow)(function(t){var n,r,i,a,o,s,c,l;return Object(j.e)(this,function(e){switch(e.label){case 0:return n=new Ff(t),[4,Vi.GetCachedDataForApp(t,wf,2)];case 1:return(r=e.sent())&&n.RestoreAchievementMapFromCache(r),i=[],a=[],[4,Vi.GetCachedDataForApp(t,"usernews",2)];case 2:if((o=e.sent())&&o.length)try{for(s=0;s<o.length;++s)c=G.toByteArray(o[s]),l=Xi.deserializeBinary(c),i.push(n.AddUserNewsEvent(l))}catch(e){}return[4,Vi.GetCachedDataForApp(t,Of,3)];case 3:if((o=e.sent())&&o.length)try{for(s=0;s<o.length;++s)c=G.toByteArray(o[s]),l=ia.deserializeBinary(c),a.push(n.AddGameActivityEvent(l,this.m_CMInterface.steamid))}catch(e){console.log("FAILED to restore the game activity cache.")}return[4,Promise.all(Object(j.g)(i,a))];case 4:return e.sent(),n.SortEvents(),n.BHasEvents()&&this.m_mapAppActivity.set(t,n),[2]}})})}return e.prototype.Init=function(e){this.m_CMInterface=e,SteamClient.GameSessions.RegisterForAppLifetimeNotifications(this.OnAppLifetimeNotification),SteamClient.GameSessions.RegisterForScreenshotNotification(this.OnScreenshotNotification),SteamClient.GameSessions.RegisterForAchievementNotification(this.OnAchievementNotification)},Object.defineProperty(e.prototype,"CMInterface",{get:function(){return this.m_CMInterface},enumerable:!1,configurable:!0}),e.prototype.OnAppLifetimeNotification=function(e){0!=e.unAppID&&(e.bRunning||this.FetchLatestActivity(e.unAppID))},e.prototype.OnScreenshotNotification=function(e){0!=e.unAppID&&this.FetchLatestActivity(e.unAppID,!0)},e.prototype.OnAchievementNotification=function(e){0!=e.unAppID&&this.FetchLatestActivity(e.unAppID,!0)},e.prototype.GetAppActivity=function(e){var t=this.m_mapAppActivity.get(e);return t||this.RestoreActivity(e),t},e.prototype.RestoreActivity=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,this.RestoreCachedActivity(t)];case 1:return e.sent(),this.m_mapAppActivity.get(t)?[3,3]:[4,this.FetchLatestActivity(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.FetchLatestActivity=function(d,m){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,p;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=(t=this.m_mapAppActivity.get(d))||new Ff(d),n=this.m_CMInterface.GetServerRTime32(),!m&&n-t.last_update_time<900)?[2]:this.m_bUpdateLock?[2]:(this.m_bUpdateLock=!0,(r=x.b.Init(Ki)).Body().set_filterappid(d),r.Body().set_language(A.c.LANGUAGE),r.Body().set_count(0),r.Body().set_starttime(t.latest_user_news_time+1),r.Body().set_endtime(0),r.Body().set_filterflags(Gf()),i=Yi.GetUserNews(this.m_CMInterface.GetServiceTransport(),r),(a=x.b.Init(aa)).Body().set_steamid(this.m_CMInterface.steamid.ConvertTo64BitString()),a.Body().set_appid(d),a.Body().set_count(0),a.Body().set_starttime(t.latest_game_activity_time+1),a.Body().set_endtime(0),o=Zi.GetActivity(this.m_CMInterface.GetServiceTransport(),a),[4,i]);case 1:return s=e.sent(),t.MergeUserNews(s.Body()),[4,o];case 2:return c=e.sent(),t.MergeGameActivity(c.Body(),this.m_CMInterface.steamid),t.UpdateCommentThreads(),this.m_mapAppActivity.set(d,t),l=[],u=t.GetAchievementMapCache(),l.push(Vi.SetCachedDataForApp(d,wf,2,u)),p=t.GetUserNewsCache(),l.push(Vi.SetCachedDataForApp(d,"usernews",2,p)),p=t.GetGameActivityCache(),l.push(Vi.SetCachedDataForApp(d,Of,3,p)),[4,Promise.all(l)];case 3:return e.sent(),this.m_bUpdateLock=!1,[2]}})})},e.prototype.FetchActivityHistory=function(c,l){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,this.GetAppActivity(c)];case 1:return(t=e.sent()).m_bNoMoreHistoryAvailable?[2]:((n=x.b.Init(Ki)).Body().set_filterappid(c),n.Body().set_language(A.c.LANGUAGE),n.Body().set_count(l),n.Body().set_starttime(0),n.Body().set_endtime(t.earliest_user_news_time-1),n.Body().set_filterflags(Gf()),[4,Yi.GetUserNews(this.m_CMInterface.GetServiceTransport(),n)]);case 2:return r=e.sent(),i=r.Body().news().reduce(function(e,t){return Math.min(e,t.eventtime())},4294967295),(a=x.b.Init(aa)).Body().set_steamid(this.m_CMInterface.steamid.ConvertTo64BitString()),a.Body().set_appid(c),a.Body().set_count(l),a.Body().set_starttime(i),a.Body().set_endtime(t.earliest_game_activity_time-1),[4,Zi.GetActivity(this.m_CMInterface.GetServiceTransport(),a)];case 3:return o=e.sent(),Object(O.runInAction)(function(){t.MergeUserNews(r.Body()),s.m_mapAppActivity.get(c).MergeGameActivity(o.Body(),s.m_CMInterface.steamid),r.Body().news().length<l&&(t.m_bNoMoreHistoryAvailable=!0)}),[2]}})})},Object(j.c)([O.observable.shallow],e.prototype,"m_mapAppActivity",void 0),Object(j.c)([O.action.bound],e.prototype,"OnAppLifetimeNotification",null),Object(j.c)([O.action.bound],e.prototype,"OnScreenshotNotification",null),Object(j.c)([O.action.bound],e.prototype,"OnAchievementNotification",null),Object(j.c)([O.action],e.prototype,"FetchLatestActivity",null),e}());window.appActivityStore=Uf;var xf,zf,Hf=function(){function e(){this.strCaption="",this.ePrivacy=8,this.bSpoiler=!1}return Object(j.c)([O.observable],e.prototype,"strCaption",void 0),Object(j.c)([O.observable],e.prototype,"ePrivacy",void 0),Object(j.c)([O.observable],e.prototype,"bSpoiler",void 0),e}();(zf=xf=xf||{})[zf.Invalid=0]="Invalid",zf[zf.Confirmation=1]="Confirmation",zf[zf.Uploading=2]="Uploading",zf[zf.Error=3]="Error";var Wf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={eStep:xf.Confirmation,strError:""},e.m_metadata=new Hf,e}return Object(j.d)(e,t),e.prototype.OnUploadConfirmed=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.state.eStep!=xf.Confirmation?[2]:(this.setState({eStep:xf.Uploading}),[4,function(i,a){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,SteamClient.Apps.SetLocalScreenshotCaption(i.nAppID,i.hHandle,a.strCaption)];case 1:return e.sent(),[4,SteamClient.Apps.SetLocalScreenshotSpoiler(i.nAppID,i.hHandle,a.bSpoiler)];case 2:return e.sent(),[4,SteamClient.Apps.UploadLocalScreenshot(i.nAppID,i.hHandle,a.ePrivacy)];case 3:switch(t=e.sent(),n="",t){case 1:break;case 24:case 17:n=Object(R.f)("#ShareUploadScreenshot_PermissionDenied");break;default:n=Object(R.f)("#ShareUploadScreenshot_UnexpectedError")}return(r=1==t)&&Uf.FetchLatestActivity(i.nAppID,!0),[2,{bSuccess:r,strError:n}]}})})}(this.props.screenshot,this.m_metadata)]);case 1:return(t=e.sent()).bSuccess?(this.props.onCancel(),[2]):(this.setState({eStep:xf.Error,strError:t.strError}),[2])}})})},e.prototype.OnCancel=function(){this.state.eStep!=xf.Uploading&&this.props.onCancel&&this.props.onCancel()},e.prototype.render=function(){var e=this.props.screenshot,t=this.state.eStep;return D.createElement("div",{className:rf.a.ShareScreenshotDialog},t==xf.Confirmation&&D.createElement(Vf,{screenshot:e,metadata:this.m_metadata,onOK:this.OnUploadConfirmed,onCancel:this.OnCancel}),t==xf.Uploading&&D.createElement(Yf,{screenshot:e,onCancel:this.OnCancel}),t==xf.Error&&D.createElement(Qf,{error:this.state.strError,onCancel:this.OnCancel}))},Object(j.c)([E.a],e.prototype,"OnUploadConfirmed",null),Object(j.c)([E.a],e.prototype,"OnCancel",null),e}(D.Component);var Vf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refTextArea=D.createRef(),e}return Object(j.d)(e,t),e.prototype.componentDidMount=function(){this.UpdateDetails()},e.prototype.UpdateDetails=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:t=this.props.screenshot,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,SteamClient.Apps.GetDetailsForScreenshotUpload(t.nAppID,t.hHandle)];case 2:return n=e.sent(),this.m_preUploadDetails=n,[3,4];case 3:return r=e.sent(),console.log("Getting upload screenshot details failed",r),[3,4];case 4:return[2]}})})},e.prototype.OnCaptionChange=function(e){this.props.metadata.strCaption=e.currentTarget.value},e.prototype.OnPrivacyChange=function(e){var t=parseInt(e.currentTarget.value);this.props.metadata.ePrivacy=t},e.prototype.OnSpoilerChange=function(e){this.props.metadata.bSpoiler=e},e.prototype.render=function(){var e,t=this.props.metadata,n=t.strCaption,r=t.ePrivacy,i=t.bSpoiler,a="&nbsp;";return this.m_preUploadDetails&&(e=this.m_preUploadDetails,a=Object(R.f)("#ShareUploadScreenshot_CloudUsage",e.strSizeOnDisk,e.strCloudUsed,e.strCloudTotal)),D.createElement(D.Fragment,null,D.createElement(Si.c,null,D.createElement("div",null,Object(R.f)("#ShareUploadScreenshot_Description")),D.createElement("div",{className:rf.a.CaptionHeader},Object(R.f)("#ShareUploadScreenshot_CaptionHeader")),D.createElement(Si.a,{ref:this.m_refTextArea,className:rf.a.CaptionTextArea,nMinHeight:40,value:n,onChange:this.OnCaptionChange,placeholder:Object(R.f)("#ShareUploadScreenshot_AddCaption"),autoFocus:!0}),D.createElement(Si.n,{className:rf.a.VisibilityHeader},Object(R.f)("Visibility")),D.createElement(Si.u,{className:rf.a.RadioButtonGroup},D.createElement(qf,{text:Object(R.f)("#Privacy_Public"),value:8,current:r,onClick:this.OnPrivacyChange}),D.createElement(qf,{text:Object(R.f)("#Privacy_FriendsOnly"),value:4,current:r,onClick:this.OnPrivacyChange}),D.createElement(qf,{text:Object(R.f)("#Privacy_Private"),value:2,current:r,onClick:this.OnPrivacyChange})),D.createElement(Si.q,{classname:rf.a.Spoiler,label:Object(R.f)("#ShareUploadScreenshot_TagSpoiler"),onChange:this.OnSpoilerChange,checked:i}),D.createElement("div",{className:rf.a.CloudStorageMessage},a)),D.createElement(Si.i,null,D.createElement(Si.o,{onOK:this.props.onOK,strOKText:Object(R.f)("#Generic_Upload"),onCancel:this.props.onCancel})))},Object(j.c)([O.observable],e.prototype,"m_preUploadDetails",void 0),Object(j.c)([E.a],e.prototype,"OnCaptionChange",null),Object(j.c)([E.a],e.prototype,"OnPrivacyChange",null),Object(j.c)([E.a],e.prototype,"OnSpoilerChange",null),Object(j.c)([o.observer],e)}(D.Component);function qf(e){var t=e.value==e.current?"Primary":"";return D.createElement(Si.d,{className:t,value:e.value,onClick:e.onClick},e.text)}var Yf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=Object(R.f)("#ShareUploadScreenshot_Uploading");return D.createElement(D.Fragment,null,D.createElement(Si.c,{className:rf.a.MinDialogSize},D.createElement("div",{className:rf.a.UploadingText},e)),D.createElement(Si.i,null,D.createElement(Pi.a,{size:"medium",position:"center"})))},Object(j.c)([o.observer],t)}(D.Component);function Qf(e){var t=e.error;return D.createElement(D.Fragment,null,D.createElement(Si.c,null,D.createElement("div",null,t)),D.createElement(Si.i,null,D.createElement(Si.s,{onClick:e.onCancel},Object(R.f)("#Button_Close"))))}function Zf(e){var t=e.className,n=(e.src,Object(j.f)(e,["className","src"])),r=Object(cr.a)($h.a.ShareIcon,t);return D.createElement("img",Object(j.a)({className:r,src:tf.a},n))}function Kf(e){var t=e.className,n=Object(j.f)(e,["className"]),r=Object(cr.a)($h.a.ShareButton,t);return D.createElement("div",Object(j.a)({className:r},n),D.createElement(Zf,null),D.createElement("span",null,Object(R.f)("#Generic_Share")))}function Jf(e,t){Object(_i.d)(D.createElement(Xf,{screenshot:e}),t,{strTitle:Xf.Title()})}var Xf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return Object(j.d)(t,e),(n=t).Title=function(){return Object(R.f)("#ShareDialog_Title")},t.prototype.OnCancel=function(){this.props.closeModal&&this.props.closeModal()},t.prototype.render=function(){var e=this.props.screenshot;return D.createElement(bi.d,{onOK:null,onCancel:this.OnCancel},D.createElement("div",{className:$h.a.UninstallDialog},D.createElement(Si.l,null,n.Title()),D.createElement(Si.b,null,D.createElement(Wf,{screenshot:e,onCancel:this.OnCancel}))))},Object(j.c)([E.a],t.prototype,"OnCancel",null),n=Object(j.c)([o.observer],t)}(D.Component),$f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnCancel=function(){this.props.closeModal&&this.props.closeModal()},t.prototype.OnOK=function(){this.props.closeModal&&this.props.closeModal()},t.prototype.BrowseScreenshot=function(){var e=this.props.screenshot;SteamClient.Apps.BrowseScreenshotForApp(e.nAppID,e.hHandle)},t.prototype.SaveScreenshot=function(){SteamClient.Browser.StartDownload(this.props.strArtworkURL)},t.prototype.ShowContextMenu=function(e){var t=this.props.screenshot?D.createElement(Hi.d,{onSelected:this.BrowseScreenshot},Object(R.f)("#ContextMenu_BrowseScreenshot")):D.createElement(Hi.d,{onSelected:this.SaveScreenshot},Object(R.f)("#ContextMenu_SaveScreenshot"));Object(zi.a)(D.createElement(Hi.c,null,t),e)},t.prototype.OnShare=function(e){var t=this.props.screenshot;t&&Jf(t,Object(Fa.n)(e))},t.prototype.render=function(){var e=this.props.window.screen.availHeight*(this.props.nMaxScreenPercentage?this.props.nMaxScreenPercentage:.8),t=this.props.window.screen.availWidth*(this.props.nMaxScreenPercentage?this.props.nMaxScreenPercentage:.8),n="",r="";this.props.details&&(n=this.props.details?this.props.details.strDisplayName:"",r=Xa.GetIconURLForApp(Xa.GetAppOverviewByAppID(this.props.details.unAppID)));var i="",a=null,o=!1,s=this.props.file_details;s&&(a=ei.GetFriendState(new H.a(s.creator)),i=Object(R.p)(s.time_created)+" @ "+Object(R.n)(s.time_created),o=0<s.file_description.length);var c=s?Object(R.f)("#ArtworkModal_ScrollForMore"):Object(R.f)("#ArtworkModal_ScrollForDetails"),l=!!this.props.children,u=this.props.screenshot;return D.createElement(bi.g,{onEscKeypress:this.OnCancel,className:Jh.ArtworkModal},D.createElement("div",{className:Jh.ModalBox},D.createElement("div",{className:Jh.ArtworkModalContainer},D.createElement("div",{className:Jh.ArtworkContainer},D.createElement("img",{className:Jh.ArtworkImage,style:{maxWidth:t,maxHeight:e},src:this.props.strArtworkURL,onLoad:this.props.onImageLoad,onError:this.props.onImageError,onContextMenu:this.ShowContextMenu}),s&&D.createElement("div",{className:Jh.Body},D.createElement("div",{className:Jh.FileInfo},D.createElement("div",{className:Jh.CreatedBy},Object(R.f)("#ArtworkModal_CreatedBy")),D.createElement("div",{className:Jh.Creator},D.createElement(vu,{className:Jh.Avatar,friend:a,size:"Small",statusPosition:"right"}),D.createElement(hu,{className:Jh.ActorName,persona:a.persona,strNickname:a.nickname,bParenthesizeNicknames:Jr.communityPreferences.bParenthesizeNicknames,onContextMenu:function(e){fu(e,a)}}))),D.createElement("div",{className:Jh.Top},o&&D.createElement("div",{className:Jh.CaptionQuoteContainer},D.createElement("span",{className:Jh.CaptionQuote},"❝"),D.createElement("span",null,this.props.strTitle),D.createElement("span",{className:Jh.CaptionQuote},"❞"))),D.createElement("div",{className:Jh.FileInfo},this.props.details&&D.createElement("div",{className:Jh.AppSummary},D.createElement("div",{className:Jh.AppTitle},D.createElement("img",{className:Jh.AppIcon,src:r}),D.createElement("div",{className:Jh.AppName},n," "))),D.createElement("div",{className:Jh.Details},D.createElement("div",{className:Jh.Values},i))))),D.createElement("div",{className:Jh.ArtworkModalDetails},D.createElement("div",{className:Jh.Header},u&&!C.d(A.c.LAUNCHER_TYPE)&&D.createElement(Kf,{className:Jh.ShareButton,onClick:this.OnShare}),D.createElement(Si.s,{className:Jh.ModalArtCloseButton,onClick:this.OnOK},Object(R.f)("#Generic_Close")),l&&D.createElement("div",{className:Jh.ScrollForMore},D.createElement(_r.d,{angle:180}),c,D.createElement(_r.d,{angle:180}))),D.createElement("div",{className:Jh.ChildrenContainer},this.props.children)))))},Object(j.c)([E.a],t.prototype,"OnCancel",null),Object(j.c)([E.a],t.prototype,"OnOK",null),Object(j.c)([E.a],t.prototype,"BrowseScreenshot",null),Object(j.c)([E.a],t.prototype,"SaveScreenshot",null),Object(j.c)([E.a],t.prototype,"ShowContextMenu",null),Object(j.c)([E.a],t.prototype,"OnShare",null),t}(D.Component);function eb(a,o,s,c,l,u,p,d){return Object(j.b)(this,void 0,void 0,function(){var n,r,t,i;return Object(j.e)(this,function(e){switch(e.label){case 0:t=new Promise(function(e,t){n=e,r=t}),i=s||window,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(_i.b)(D.createElement($f,{strArtworkURL:a,strTitle:o,window:i,nMaxScreenPercentage:c,onImageLoad:n,onImageError:r,details:u,file_details:p,screenshot:d},l),i,{strTitle:o,promiseRenderComplete:t})];case 2:return e.sent(),[3,4];case 3:return e.sent(),console.error("ERROR DISPLAYING ARTWORK"),[3,4];case 4:return[2]}})})}var tb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnScreenshotChanged=function(e){this.props.event.SetActiveCommentThread(e)},t.prototype.render=function(){var e=this.props,t=e.details,n=e.event,r=zh.GetPublishedFiles(n.publishedfileids).filter(function(e){return!!e.file});return D.createElement("div",{className:sp.a.ActivityPublishedScreenshot},D.createElement(nb,{screenshots:r,onScreenshotChanged:this.OnScreenshotChanged,details:t,event:n}))},Object(j.c)([E.a],t.prototype,"OnScreenshotChanged",null),Object(j.c)([o.observer],t)}(D.Component),nb=function(n){function e(e){var t=n.call(this,e)||this;return t.state={iActiveScreenshot:0},t}return Object(j.d)(e,n),e.getDerivedStateFromProps=function(e,t){return t.iActiveScreenshot<e.screenshots.length?t:Object(j.a)(Object(j.a)({},t),{iActiveScreenshot:0})},e.prototype.ChangeScreenshot=function(e){e!=this.state.iActiveScreenshot&&(this.setState({iActiveScreenshot:e}),this.props.onScreenshotChanged&&this.props.onScreenshotChanged(e))},e.prototype.FullScreenImage=function(e){var t=this.props.screenshots[this.state.iActiveScreenshot].file;eb(t.file_url,t.file_description?t.file_description:Object(R.f)("#AppDetails_Screenshot"),Object(Fa.n)(e),0,D.createElement(Qh,{commentThread:this.props.event.GetActiveCommentThread(),bDefaultMinimized:!1,bMaxHeight:!1,bIsPopup:!0,publishedfileid:t.publishedfileid}),this.props.details,t)},e.prototype.SaveActiveScreenshot=function(){var e=this.props.screenshots[this.state.iActiveScreenshot].file.file_url;SteamClient.Browser.StartDownload(e)},e.prototype.ShowContextMenu=function(e){Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:this.SaveActiveScreenshot},Object(R.f)("#ContextMenu_SaveScreenshot"))),e)},e.prototype.render=function(){var e=this.props.screenshots;if(!e.length)return null;var t=e[this.state.iActiveScreenshot].file,n=Object(R.f)("#AppDetails_Screenshot_Uploaded",Object(R.p)(t.time_created),Object(R.n)(t.time_created)),r=t.file_description&&D.createElement("div",{className:sp.a.CaptionQuoteContainer},D.createElement("div",{className:sp.a.CaptionQuote},"❝"),t.file_description," ",D.createElement("div",{className:sp.a.CaptionQuote},"❞"));return D.createElement("div",{className:sp.a.ScreenshotCarousel},D.createElement("div",{className:sp.a.ActiveScreenshot},D.createElement("div",{className:sp.a.ImageWrapper},D.createElement(Kh,{src:t.file_url,width:640,onClick:this.FullScreenImage,onContextMenu:this.ShowContextMenu,orig_width:t.image_width,orig_height:t.image_height}),t.spoiler_tag&&D.createElement("div",{className:sp.a.SpoilerOverlay},Object(R.f)("#AppDetails_Screenshot_SpoilerAlert"))),D.createElement("div",{className:sp.a.TimeStamp},n),D.createElement("div",{className:Object(cr.a)(sp.a.ScreenshotCaption,t.file_description&&sp.a.HasCaption)},r)),D.createElement(rb,{screenshots:e,iActiveScreenshot:this.state.iActiveScreenshot,fnSelectScreenshot:this.ChangeScreenshot}))},Object(j.c)([E.a],e.prototype,"ChangeScreenshot",null),Object(j.c)([E.a],e.prototype,"FullScreenImage",null),Object(j.c)([E.a],e.prototype,"SaveActiveScreenshot",null),Object(j.c)([E.a],e.prototype,"ShowContextMenu",null),e}(D.Component);function rb(e){var t=e.screenshots,n=e.iActiveScreenshot,r=e.fnSelectScreenshot;return t.length<2?null:D.createElement("div",{className:sp.a.CarouselThumbs},t.map(function(e,t){return D.createElement("div",{key:e.file.publishedfileid,onClick:function(){return r(t)},className:Object(cr.a)(sp.a.CarouselThumb,t==n&&sp.a.Active)},D.createElement("img",{src:e.file.preview_url}))}))}var ib,ab,ob=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_elContainerRef=D.createRef(),e}return Object(j.d)(e,t),Object.defineProperty(e.prototype,"clientWidth",{get:function(){return this.m_elContainerRef.current.clientWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientHeight",{get:function(){return this.m_elContainerRef.current.clientHeight},enumerable:!1,configurable:!0}),e.prototype.render=function(){var e=this.props,t=e.width,n=e.height,r=e.children,i=e.className,a=e.wrapperClassName,o=e.style,s=Object(j.f)(e,["width","height","children","className","wrapperClassName","style"]),c=a||"",l={width:"100%",position:"relative"};return l.paddingBottom=(n/t*100).toFixed(2)+"%",(o=o||{}).position="absolute",o.top=0,o.right=0,o.bottom=0,o.left=0,D.createElement("div",Object(j.a)({ref:this.m_elContainerRef,style:l,className:c},s),D.createElement("div",{style:o,className:i},r))},e}(D.PureComponent),sb=function(n){function r(e){var t=n.call(this,e)||this;return t.parser=new xp.a(r.BBCodeDictionary,r.ElementAccumulator),t}return Object(j.d)(r,n),r.ElementAccumulator=function(){return new md.c(new md.b)},r.prototype.render=function(){return this.parser.ParseBBCode(this.props.text,{})},r.BBCodeDictionary=new Map([["b",{Constructor:Qp,autocloses:!1}],["i",{Constructor:Zp,autocloses:!1}],["h1",{Constructor:Xp,autocloses:!1}],["u",{Constructor:Kp,autocloses:!1}],["strike",{Constructor:Jp,autocloses:!1}],["spoiler",{Constructor:$p,autocloses:!1}],["noparse",{Constructor:cd,autocloses:!1}],["url",{Constructor:td,autocloses:!1}],["quote",{Constructor:nd,autocloses:!1}],["code",{Constructor:rd,autocloses:!1}],["list",{Constructor:id,autocloses:!1}],["olist",{Constructor:ad,autocloses:!1}],["*",{Constructor:od,autocloses:!0}]]),r}(D.Component),cb=n("uuth"),lb=n("AeJZ"),ub=n("f96J"),pb=n.n(ub),db=function(n){function e(e){var t=n.call(this,e)||this;return t.state={strReportText:"",strErrorText:""},t}return Object(j.d)(e,n),Object.defineProperty(e,"Title",{get:function(){return Object(R.f)("#ReportItem_Title")},enumerable:!1,configurable:!0}),e.prototype.OnReportTextChange=function(e){this.setState({strReportText:e.currentTarget.value})},e.prototype.NavigateToDMCAItem=function(){window.location.href=B.a.GetCommunityURL()+"dmca/create/"+this.props.published_file_id,this.CloseModal()},e.prototype.ReportItem=function(){var t=this;(function(a,o){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=B.a.GetCommunityURL(),n=t+"sharedfiles/reportitem",(r=new FormData).append("id",a),r.append("sessionid",A.c.SESSIONID),r.append("description",o),[4,Wi.a.post(n,r,{retrycount:1})];case 1:if(!(i=e.sent()).success)throw new Error("Invalid response");if(1!=i.success)throw i.success;return[2,i.success]}})})})(this.props.published_file_id,this.state.strReportText).then(function(e){t.props.onReported(),t.CloseModal()}).catch(function(e){console.error("ReportItem failed",e),t.setState({strErrorText:Object(R.f)("#ReportItem_Error")})})},e.prototype.CloseModal=function(){this.props.closeModal&&this.props.closeModal()},e.prototype.render=function(){return D.createElement(bi.c,{strTitle:e.Title,onOK:this.ReportItem,onCancel:this.CloseModal,bOKDisabled:!this.state.strReportText,strOKButtonText:Object(R.f)("#ReportItem_SubmitReport")},D.createElement("div",{className:pb.a.FormContainer},D.createElement("div",{className:pb.a.Description},Object(R.f)("#ReportItem_Description")),D.createElement("div",{className:pb.a.Description2},Object(R.f)("#ReportItem_Description_Line2")),D.createElement("textarea",{className:pb.a.InputBox,value:this.state.strReportText,onChange:this.OnReportTextChange,autoFocus:!0}),this.state.strErrorText&&D.createElement("div",{className:pb.a.ErrorText},this.state.strErrorText),D.createElement("div",{className:pb.a.DMCA},Object(R.o)("#ReportItem_DMCA",D.createElement("a",{onClick:this.NavigateToDMCAItem},Object(R.f)("#ReportItem_DMCA_LinkText"))))))},Object(j.c)([E.a],e.prototype,"OnReportTextChange",null),Object(j.c)([E.a],e.prototype,"NavigateToDMCAItem",null),Object(j.c)([E.a],e.prototype,"ReportItem",null),Object(j.c)([E.a],e.prototype,"CloseModal",null),e}(D.Component),mb=n("/0IZ"),hb=n.n(mb);(ab=ib=ib||{})[ab.Init=0]="Init",ab[ab.Loading=1]="Loading",ab[ab.MoreContent=2]="MoreContent",ab[ab.OutOfContent=3]="OutOfContent",ab[ab.Errored=4]="Errored";var fb=[{eSize:36,nWidth:1,item:void 0,eVoteDirection:_d.None},{eSize:36,nWidth:1,item:void 0,eVoteDirection:_d.None},{eSize:36,nWidth:1,item:void 0,eVoteDirection:_d.None},{eSize:36,nWidth:1,item:void 0,eVoteDirection:_d.None},{eSize:36,nWidth:1,item:void 0,eVoteDirection:_d.None},{eSize:65,nWidth:1,item:void 0,eVoteDirection:_d.None},{eSize:65,nWidth:1,item:void 0,eVoteDirection:_d.None},{eSize:65,nWidth:1,item:void 0,eVoteDirection:_d.None},{eSize:65,nWidth:1,item:void 0,eVoteDirection:_d.None},{eSize:65,nWidth:1,item:void 0,eVoteDirection:_d.None},{eSize:8,nWidth:2,item:void 0,eVoteDirection:_d.None},{eSize:8,nWidth:2,item:void 0,eVoteDirection:_d.None},{eSize:20,nWidth:3,item:void 0,eVoteDirection:_d.None},{eSize:130,nWidth:0,item:void 0,eVoteDirection:_d.None}],bb=function(){function e(e){this.m_rows=Array(),this.m_loadingState=ib.Init,this.m_nWidth=0,this.m_vecRowTemplates=[],this.m_nNextPage=1,this.m_unAppID=0,this.m_cancelAxios=null,this.m_nResizeTimer=void 0,this.m_vecCards=[],this.m_unAppID=e}return e.prototype.CancelRequests=function(){this.m_cancelAxios&&(this.m_cancelAxios.cancel(),this.m_cancelAxios=null),this.m_nResizeTimer&&window.clearTimeout(this.m_nResizeTimer)},Object.defineProperty(e.prototype,"rows",{get:function(){return this.m_rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loadingState",{get:function(){return this.m_loadingState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasEmptyRows",{get:function(){return this.m_bHasEmptyRows},enumerable:!1,configurable:!0}),e.prototype.OnBind=function(e){this.m_nWidth=e,this.m_vecRowTemplates=yb(this.m_nWidth),this.ResetContent()},e.prototype.ResetContent=function(){if(!Jr.settings.bLibraryDisableCommunityContent){for(var e=[],t=0,n=fb.concat(fb,fb);t<n.length;t++){var r=n[t];e.push(Object.assign({},r))}var i=this.BuildRowsForCards(e);this.m_rows=i,this.m_bHasEmptyRows=!0}},e.prototype.OnResize=function(e){var t=this;this.m_nWidth=e,this.m_nResizeTimer&&window.clearTimeout(this.m_nResizeTimer),this.m_nResizeTimer=window.setTimeout(function(){t.CheckAndRebuildTemplates()},500)},e.prototype.CheckAndRebuildTemplates=function(){this.m_nResizeTimer=void 0;var e,t=yb(this.m_nWidth);JSON.stringify(t)!=JSON.stringify(this.m_vecRowTemplates)&&(console.log("Community templates changed, regenerating all content"),this.m_vecRowTemplates=t,e=this.BuildRowsForCards(this.m_vecCards.slice()),this.m_rows=e)},e.prototype.LoadAdditionalContent=function(){var t=this;this.m_loadingState!=ib.MoreContent&&this.m_loadingState!=ib.Init||(this.m_loadingState=ib.Loading,this.LoadCommunityContentAndVotes(this.m_unAppID,this.m_nNextPage++).then(function(e){t.m_loadingState=ib.MoreContent,0==e.vecContent.length?(t.hasEmptyRows&&(t.m_rows.length=0,t.m_bHasEmptyRows=!1),t.m_loadingState=ib.OutOfContent):t.AddCommunityContent(e)}).catch(function(e){console.log("Feed load error",e),t.hasEmptyRows&&(t.m_rows.length=0,t.m_bHasEmptyRows=!1),t.m_loadingState=ib.Errored}))},e.prototype.LoadCommunityContentAndVotes=function(a,o){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_cancelAxios=P.a.CancelToken.source(),[4,function(c,l,u){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=B.a.GetCommunityURL(),n=fd[A.c.LANGUAGE]||A.c.LANGUAGE,r={p:l,rgSections:[2,4,3,9],filterLanguage:A.c.LANGUAGE,languageTag:n,nMaxInappropriateScore:1},[4,Wi.a.get(t+"library/appcommunityfeed/"+c,{params:r,retrycount:1,cancelToken:u?u.token:void 0})];case 1:if(!(i=e.sent())||!i.hub)throw console.log("LoadAppHubContent error",i),new Error("Invalid response");for(a=0,o=i.hub;a<o.length;a++)(s=o[a]).maybe_inappropriate_sex=!!s.maybe_inappropriate_sex,s.maybe_inappropriate_violence=!!s.maybe_inappropriate_violence,s.spoiler_tag=!!s.spoiler_tag;return[2,i.hub]}})})}(a,o,this.m_cancelAxios)];case 1:return t=e.sent(),n=new Set(this.m_vecCards.map(function(e){return e.item.published_file_id})),t=t.filter(function(e){return!n.has(e.published_file_id)}),r=t.map(function(e){return e.published_file_id}),this.m_cancelAxios=P.a.CancelToken.source(),[4,function(d,m){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,p;return Object(j.e)(this,function(e){switch(e.label){case 0:return 0==d.length?[2,new Map]:(t=B.a.GetCommunityURL(),n=t+"sharedfiles/ajaxgetvotes",r={retrycount:1},m&&(r.cancelToken=m.token),i=new FormData,d.forEach(function(e){return i.append("publishedfileids[]",e)}),[4,Wi.a.post(n,i,r)]);case 1:if(1!=(a=e.sent()).success)throw new Error("Failed to get user votes");for(o=new Map,s=0,c=a.votes;s<c.length;s++)l=c[s],u=_d.None,p=0<l.reports,l.votesfor?u=_d.Up:l.votesagainst&&(u=_d.Down),o.set(l.publishedfileid,{vote:u,bReported:p});return[2,o]}})})}(r,this.m_cancelAxios)];case 2:return i=e.sent(),this.m_cancelAxios=null,[2,{vecContent:t,mapVotes:i}]}})})},e.prototype.BuildRowsForCards=function(e){for(var t=[];0<e.length&&0<this.m_vecRowTemplates.length;){var n=function(e,t){if(0==e.length)return null;var n=function(e,t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];0!=(e.eSize&a.eMatch)&&n.push(a)}return n}(e[0],t);if(0==n.length)return console.log("No matching template for:",e[0]),null;dt.g(n);for(var r=null,i=0,a=n;i<a.length;i++){var o=a[i],s=wb(e,o);if(s){r={rowTemplate:o,vecItems:[]};for(var c=0,l=s;c<l.length;c++){var u=l[c];r.vecItems.push(e[u]),e.splice(u,1)}break}}null==r&&e.splice(0,1);return r}(e,this.m_vecRowTemplates);n?t.push(n):e.splice(0,1)}return t},e.prototype.AddCommunityContent=function(e){for(var t,n=e.vecContent,r=e.mapVotes,i=[],a=0,o=n;a<o.length;a++){var s,c=function(e){if(4==e.type)return 8;if(9==e.type||10==e.type)return 65;if(!e.image_width||!e.image_height)return 0;var t=0,n=0,r=e.image_width,i=e.image_height,a=r/i;t=2.5<a?16:1.4<a?32:64;a<=.8&&(t=128);n=1024<=r?4:512<r?2:1;return t|n}(f=o[a]),l=Sb(c),u=_d.None,p=!1,d=r.get(f.published_file_id);void 0!==d&&(u=d.vote,p=d.bReported),p?console.log("Filtering reported item",f.published_file_id):(s={eSize:c,nWidth:l,item:f,eVoteDirection:u},this.m_vecCards.push(s),i.push(s))}if(this.m_bHasEmptyRows){for(var m=0;m<this.m_rows.length;m++){var h=this.m_rows[m];if(h.vecItems.every(function(e){return null==e.item})){for(var f,b=[],_=this,v=0,g=h.vecItems;v<g.length;v++){if("break"===function(t){var e=i.findIndex(function(e){return e.eSize==t.eSize&&e.nWidth==t.nWidth});if(-1===e)return console.warn("No match for item",t,", deleting row",m,h),i.splice.apply(i,Object(j.g)([0,0],b)),b.length=0,_.m_rows.splice(m,1),m--,"break";var n=i[e];b.push(n),i.splice(e,1)}(f=g[v]))break}if(b.length){Object(w.a)(b.length==h.vecItems.length,"Row length mismatch");for(var y=0;y<h.vecItems.length;y++)h.vecItems[y].eVoteDirection=b[y].eVoteDirection,h.vecItems[y].item=b[y].item}}}this.m_bHasEmptyRows=!1}var S=this.BuildRowsForCards(i);(t=this.m_rows).push.apply(t,S)},Object(j.c)([O.observable.shallow],e.prototype,"m_rows",void 0),Object(j.c)([O.observable],e.prototype,"m_loadingState",void 0),Object(j.c)([O.observable],e.prototype,"m_bHasEmptyRows",void 0),Object(j.c)([E.a],e.prototype,"CheckAndRebuildTemplates",null),Object(j.c)([O.action.bound],e.prototype,"LoadAdditionalContent",null),e}(),_b=function(n){function e(e){var t=n.call(this,e)||this;return t.m_loader=null,t.m_resizeObserver=new ResizeObserver(t.OnResize),t.m_intersectionObserver=new IntersectionObserver(t.OnIntersection,{root:null}),t.m_bOnScreen=void 0,t.m_nContentLoadTimeout=void 0,t.m_loader=new bb(t.props.appid),t}return Object(j.d)(e,n),e.prototype.componentDidUpdate=function(e){e.appid!=this.props.appid&&(this.m_nContentLoadTimeout&&window.clearTimeout(this.m_nContentLoadTimeout),this.m_bOnScreen=void 0,this.m_loader.ResetContent(),this.DelayCheckAndLoadInitialContent())},e.prototype.componentWillUnmount=function(){this.m_resizeObserver.disconnect(),this.m_intersectionObserver.disconnect(),this.m_loader&&this.m_loader.CancelRequests(),this.m_nContentLoadTimeout&&window.clearTimeout(this.m_nContentLoadTimeout)},e.prototype.DelayCheckAndLoadInitialContent=function(){this.m_nContentLoadTimeout=window.setTimeout(this.CheckAndLoadInitialContent,1e3)},e.prototype.CheckAndLoadInitialContent=function(){this.m_nContentLoadTimeout=void 0,this.m_bOnScreen&&this.AutoLoadAdditionalContent()},e.prototype.BindInnerContainer=function(e){(this.m_elInnerContainer=e)&&(this.m_resizeObserver.observe(e),this.m_intersectionObserver.observe(e),this.m_loader.OnBind(this.m_elInnerContainer.clientWidth),this.DelayCheckAndLoadInitialContent())},e.prototype.OnResize=function(){this.m_loader&&this.m_elInnerContainer&&!this.m_elInnerContainer.ownerDocument.fullscreenElement&&this.m_loader.OnResize(this.m_elInnerContainer.clientWidth)},e.prototype.OnIntersection=function(e,t){e.length&&(e[0].isIntersecting&&!1===this.m_bOnScreen&&this.m_loader.loadingState==ib.Init&&this.AutoLoadAdditionalContent(),this.m_bOnScreen=e[0].isIntersecting)},e.prototype.AutoLoadAdditionalContent=function(){console.log("Loading content",this.props.appid),Jr.settings.bLibraryDisableCommunityContent||this.m_loader.LoadAdditionalContent()},e.prototype.LoadAdditionalContent=function(){this.m_loader.LoadAdditionalContent()},e.prototype.render=function(){var e=D.createElement("span",{className:hb.a.Highlight},Object(R.f)("#AppDetails_Community_Tooltip1")),t=D.createElement("span",{className:hb.a.Highlight},Object(R.f)("#AppDetails_Community_Tooltip2")),n=D.createElement(Co.b,null,D.createElement(Co.e,{toolTipContent:e}),D.createElement("br",null),D.createElement(Co.e,{toolTipContent:t,style:{marginTop:6}})),r=this.m_loader.rows.map(function(e,t){return D.createElement(vb,{key:t,row:e})});return D.createElement(nl,{feature:2,className:hb.a.CommunityContentContainer,label:Object(R.f)("#AppDetails_SectionTitle_Community"),tooltip:n,headerClass:hb.a.HeaderStyles,showRule:!0},D.createElement("div",{className:Object(cr.a)(hb.a.InnerContainer,this.m_loader.hasEmptyRows&&hb.a.HasBlanks),ref:this.BindInnerContainer},r,this.m_loader.loadingState==ib.Loading&&D.createElement("div",{className:hb.a.ThrobberBox},D.createElement(Pi.a,{size:"large",position:"center"})),this.m_loader.loadingState==ib.MoreContent&&D.createElement(cb.a,{onEnter:this.AutoLoadAdditionalContent}),(this.m_loader.loadingState==ib.OutOfContent||this.m_loader.loadingState==ib.Errored)&&D.createElement("div",{className:hb.a.NoContent},Object(R.f)("#AppDetails_CommunityFeed_OutOfContent")),Jr.settings.bLibraryDisableCommunityContent&&D.createElement("div",{className:hb.a.LoadContentButton,onClick:this.LoadAdditionalContent},Object(R.f)("#AppDetails_CommunityFeed_LoadCommunity"))))},Object(j.c)([E.a],e.prototype,"DelayCheckAndLoadInitialContent",null),Object(j.c)([E.a],e.prototype,"CheckAndLoadInitialContent",null),Object(j.c)([E.a],e.prototype,"BindInnerContainer",null),Object(j.c)([E.a],e.prototype,"OnResize",null),Object(j.c)([E.a],e.prototype,"OnIntersection",null),Object(j.c)([E.a],e.prototype,"AutoLoadAdditionalContent",null),Object(j.c)([E.a],e.prototype,"LoadAdditionalContent",null),Object(j.c)([o.observer],e)}(D.Component),vb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={nColumns:0},e.m_resizeObserver=new ResizeObserver(e.OnResize),e.m_nResizeTimer=void 0,e}return Object(j.d)(e,t),e.prototype.BindRow=function(e){(this.m_elRow=e)&&(this.m_resizeObserver.observe(this.m_elRow),this.CalculateColumns())},e.prototype.componentWillUnmount=function(){this.m_resizeObserver.disconnect()},e.prototype.OnResize=function(){var e=this;this.m_elRow&&this.m_elRow.ownerDocument.fullscreenElement||(this.m_nResizeTimer&&window.clearTimeout(this.m_nResizeTimer),this.m_nResizeTimer=window.setTimeout(function(){e.CalculateColumns()},500))},e.prototype.CalculateColumns=function(){var e;this.m_nResizeTimer=void 0,!this.m_elRow||(e=gb(this.m_elRow.clientWidth))!=this.state.nColumns&&this.setState({nColumns:e})},e.prototype.render=function(){var e=this.props.row,t=this.state.nColumns,t=Math.min(t||e.rowTemplate.nColumns,e.rowTemplate.nColumns),n=e.vecItems;if(t!=e.rowTemplate.nColumns){var r=e.vecItems.slice(),i={strName:Object(cr.a)(hb.a.AutoRow,hb.a.Singles,hb.a.Truncated),eMatch:7,vecCards:[{nItemSpace:t}],nColumns:t,nRows:1},a=wb(r,i);if(!a&&!(a=wb(r.sort(function(e,t){return Sb(t.eSize)-Sb(e.eSize)}),i)))return null;n=[];for(var o=0,s=a;o<s.length;o++){var c=s[o];n.push(r[c]),r.splice(c,1)}}for(var l=[],u=0;u<n.length;u++){var p=n[u],d=p.item;l.push(D.createElement(Cb,{key:d?d.published_file_id:"blank"+u,index:u,card:p}))}return D.createElement("div",{ref:this.BindRow,className:Object(cr.a)(hb.a.AppOverviewRow,e.rowTemplate.strName),style:{gridTemplateColumns:"repeat( "+t+", minmax( "+hb.a.AutoRowColumnWidth+", 1fr ) )"}},l)},Object(j.c)([E.a],e.prototype,"BindRow",null),Object(j.c)([E.a],e.prototype,"OnResize",null),Object(j.c)([E.a],e.prototype,"CalculateColumns",null),e}(D.Component);function gb(e){var t=parseInt(hb.a.AutoRowColumnGap),n=parseInt(hb.a.AutoRowColumnWidth);return Object(fm.a)(Math.floor((e+t)/(n+t)),1,10)}function yb(e){var t=gb(e),n=[],r={strName:Object(cr.a)(hb.a.AutoRow,hb.a.Singles),eMatch:31,vecCards:[{nItemSpace:t}],nColumns:t,nRows:1};n.push(r);for(var i=0;i<t;i++)r={strName:Object(cr.a)(hb.a.AutoRow,hb.a.OneTall),eMatch:135,vecCards:[{nItemSpace:i},{eFixedCard:128},{nItemSpace:t-i-1},{nItemSpace:i},{nItemSpace:t-i-1}],nColumns:t,nRows:2},n.push(r);return n}function Sb(e){return 128&e?0:16&e?3:8&e?2:1}function wb(e,t){for(var n=[],r=t.vecCards.slice(),i=e.slice(),a=0;a<r.length;a++){var o=r[a];if(o.eFixedCard){for(var s=!1,c=o.eFixedCard,l=0;l<i.length;l++){if(0!=(i[l].eSize&c)){n.push(l),i.splice(l,1),s=!0;break}}if(!s)return null}else if(o.nItemSpace)for(var u=o.nItemSpace;u;){for(s=!1,l=0;l<i.length;l++){var p=Sb(i[l].eSize);if(p&&p<=u){n.push(l),i.splice(l,1),s=!0,u-=p;break}}if(!s)return null}}return n}var Cb=function(n){function e(e){var t=n.call(this,e)||this;return t.state={bDismissedInappropriate:!1,bReported:!1},t}return Object(j.d)(e,n),e.prototype.componentDidUpdate=function(e){(this.props.index!=e.index||this.props.card.item&&!e.card.item||this.props.card.item&&this.props.card.item.published_file_id!=e.card.item.published_file_id)&&this.setState({bDismissedInappropriate:!1})},e.prototype.DismissInappropriate=function(){this.setState({bDismissedInappropriate:!0})},e.prototype.OnReported=function(){this.setState({bReported:!0})},e.prototype.GetCardClasses=function(){var e=this.props.card.eSize,t=this.props.index,n=[];return 1&e&&n.push(hb.a.Small),2&e&&n.push(hb.a.Medium),4&e&&n.push(hb.a.Large),8&e&&n.push(hb.a.VideoAspect),16&e&&n.push(hb.a.Panoramic),32&e&&n.push(hb.a.Wide),64&e&&n.push(hb.a.Narrow),128&e&&n.push(hb.a.Tall),n.push("Index"+t),n},e.prototype.render=function(){var e=this,t=this.props,n=t.index,r=t.card,i=(t.className,Object(j.f)(t,["index","card","className"])),a=r.item,o=void 0,s=!this.state.bDismissedInappropriate&&a&&a.maybe_inappropriate_sex&&Jr.communityPreferences.bBlurAdultContentSex,c=!this.state.bDismissedInappropriate&&a&&a.maybe_inappropriate_violence&&Jr.communityPreferences.bBlurAdultContentViolence,l=s||c,u=a&&a.spoiler_tag,p=a?r.item.published_file_id:void 0,d=!1,m=void 0;if(a){switch(this.props.card.item.type){case 9:case 10:o=D.createElement(Ob,{index:n,card:r,inappropriate:l,onDismissInappropriate:this.DismissInappropriate}),m=function(){return B.a.NavigateToSteamURL("CommunityFilePage",e.props.card.item.published_file_id)};break;case 3:case 5:case 4:o=D.createElement(Bb,{index:n,card:r,inappropriate:l,onDismissInappropriate:this.DismissInappropriate}),m=function(e){return Ab(e,o)},d=!0}if(!o)return null}return D.createElement("div",Object(j.a)({className:cr.a.apply(void 0,Object(j.g)([hb.a.CommunityItem,!a&&hb.a.Blank],this.GetCardClasses(),[s&&hb.a.InappropriateSex,c&&hb.a.InappropriateViolence,u&&hb.a.Spoiler,this.state.bReported&&hb.a.Reported])),"data-size":r.eSize,"data-width":r.nWidth,"data-id":p},i),D.createElement("div",{className:hb.a.ChildItem},o),D.createElement(Ib,Object(j.a)({},this.props)),!l&&a&&D.createElement(jb,Object(j.a)({},this.props,{onReported:this.OnReported})),!l&&a&&D.createElement(Db,Object(j.a)({},this.props,{showVotingControls:d,fnNav:m})))},Object(j.c)([E.a],e.prototype,"DismissInappropriate",null),Object(j.c)([E.a],e.prototype,"OnReported",null),e}(D.PureComponent),Ob=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.NavigateToGuide=function(){B.a.NavigateToSteamURL("CommunityFilePage",this.props.card.item.published_file_id)},t.prototype.render=function(){var e=this.props.card.item,t=new sb({text:e.description});return D.createElement("div",{className:hb.a.Guide,onClick:this.props.inappropriate?void 0:this.NavigateToGuide},D.createElement("div",{className:hb.a.GuideTitle}," ",Object(R.f)("#AppDetails_Community_Guide")," "),D.createElement("div",{className:hb.a.Body},D.createElement("div",{className:hb.a.TopSection},D.createElement("div",{className:hb.a.TopSectionInner},D.createElement("div",{className:hb.a.PreviewContainer},D.createElement("img",{className:hb.a.Preview,src:e.preview_image_url})),D.createElement("div",{className:hb.a.Header},D.createElement("div",{className:hb.a.Title},D.createElement("span",null,e.title))))),D.createElement("div",{className:hb.a.BottomSection},D.createElement("div",{className:hb.a.Description},t.render()))),this.props.inappropriate&&D.createElement(Eb,Object(j.a)({},this.props)),e.spoiler_tag&&D.createElement("div",{className:hb.a.SpoilerOverlay},Object(R.f)("#AppDetails_Screenshot_SpoilerAlert")))},Object(j.c)([E.a],t.prototype,"NavigateToGuide",null),t}(D.PureComponent),Eb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.EditCommunityPreferences=function(){var e=B.a.ResolveURL("SteamPreferences");e+="#CommunityContentPreferences",window.location.href=e},t.prototype.render=function(){return D.createElement("div",{className:hb.a.InappropriateOverlay},D.createElement("div",null,Object(R.f)("#AppDetails_CommunityFeed_Inappropriate")),D.createElement("div",{className:hb.a.InappropriateLinks},D.createElement("div",{onClick:this.props.onDismissInappropriate},Object(R.f)("#AppDetails_CommunityFeed_ViewContent")),D.createElement("div",{onClick:this.EditCommunityPreferences},Object(R.f)("#AppDetails_CommunityFeed_EditPreferences"))))},t}(D.PureComponent),Bb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.ShowFullscreen=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return Ab(t,this),[2]})})},t.prototype.SaveScreenshot=function(){SteamClient.Browser.StartDownload(this.props.card.item.full_image_url)},t.prototype.ShowContextMenu=function(e){Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:this.SaveScreenshot},Object(R.f)("#ContextMenu_SaveScreenshot"))),e)},t.prototype.render=function(){var e=this.props.card.item,t=4==e.type;return D.createElement("div",{className:hb.a.ArtItem},D.createElement("div",{className:hb.a.PreviewContainer},!t&&D.createElement("img",{className:hb.a.Preview,src:e.preview_image_url,onClick:this.props.inappropriate?void 0:this.ShowFullscreen,onContextMenu:this.ShowContextMenu}),t&&D.createElement(Mb,{strPreviewURL:e.preview_image_url,strVideoID:e.youtube_video_id,inappropriate:this.props.inappropriate}),e.spoiler_tag&&D.createElement("div",{className:hb.a.SpoilerOverlay},Object(R.f)("#AppDetails_Screenshot_SpoilerAlert"))),this.props.inappropriate&&D.createElement(Eb,Object(j.a)({},this.props)),e.title&&D.createElement("div",{className:hb.a.BottomSection},D.createElement("div",{className:hb.a.DescriptionRow},e.title)))},Object(j.c)([E.a],t.prototype,"ShowFullscreen",null),Object(j.c)([E.a],t.prototype,"SaveScreenshot",null),Object(j.c)([E.a],t.prototype,"ShowContextMenu",null),t}(D.PureComponent);function Ab(p,d){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u;return Object(j.e)(this,function(e){switch(e.label){case 0:switch(t=d.props.card,n=p.currentTarget.ownerDocument.defaultView,r=Object(R.f)("#AppDetails_CommunityItem"),d.props.card.item.type){case 3:r=Object(R.f)("#AppDetails_Artwork");break;case 5:r=Object(R.f)("#AppDetails_Screenshot");break;case 4:r=Object(R.f)("#AppDetails_Video");break;default:r=Object(R.f)("#AppDetails_CommunityItem")}return(i=x.b.Init(oh)).Body().set_publishedfileids([t.item.published_file_id]),[4,xm.GetDetails(Sd.CMInterface.GetServiceTransport(),i)];case 1:return 0<(a=e.sent()).Body().publishedfiledetails().length&&1==(s=a.Body().publishedfiledetails()[0]).result()&&(o=s.toObject()),c=o?ha.GetAppDetails(o.creator_appid):null,l=new H.a(t.item.creator.steamid),u=Sd.ThreadStore.FindOrLoadThreadByPublishedFileID(l,t.item.published_file_id),eb(t.item.full_image_url,t.item.title?t.item.title:r,n,.8,D.createElement(Qh,{commentThread:u,bDefaultMinimized:!1,bMaxHeight:!1,publishedfileid:t.item.published_file_id}),c,o),[2]}})})}var Ib=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props.card.item;return D.createElement("div",{className:hb.a.AuthorSection},e&&D.createElement(hr,{className:hb.a.Avatar,strAvatarURL:e.creator.avatar,size:"Small",onClick:function(){return B.a.NavigateToSteamURL("SteamIDPage",e.creator.steamid)}}),e&&D.createElement("div",{className:hb.a.AuthorName},e.creator.name))},t}(D.Component),jb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OpenReportItemModal=function(e){var t=db.Title;Object(_i.b)(D.createElement(db,{published_file_id:this.props.card.item.published_file_id,onReported:this.props.onReported}),Object(Fa.n)(e),{strTitle:t})},t.prototype.OpenMenu=function(e){Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:this.OpenReportItemModal},Object(R.f)("#CommunityItem_Menu_Report"))),e)},t.prototype.render=function(){return D.createElement("div",{className:hb.a.MenuButton,onClick:this.OpenMenu},D.createElement(_r.lb,null))},Object(j.c)([E.a],t.prototype,"OpenReportItemModal",null),Object(j.c)([E.a],t.prototype,"OpenMenu",null),t}(D.Component),Db=function(n){function e(e){var t=n.call(this,e)||this;return t.VoteUp=t.Vote.bind(t,_d.Up),t.VoteDown=t.Vote.bind(t,_d.Down),t.state={eVotedDirection:_d.None,bShowPointsModal:!1},t}return Object(j.d)(e,n),e.prototype.componentDidUpdate=function(e){this.props.card.item.published_file_id!=e.card.item.published_file_id&&this.setState({eVotedDirection:_d.None})},e.prototype.Vote=function(t){var n=this;wd(this.props.card.item.published_file_id,t).then(function(e){n.setState({eVotedDirection:t})}).catch(function(e){console.log("Failed to vote",e)})},e.prototype.ShowAwardModal=function(){this.setState({bShowPointsModal:!0})},e.prototype.HideAwardModal=function(){this.setState({bShowPointsModal:!1})},e.prototype.render=function(){var e,t=this.props.card,n=t.item,r=t.eVoteDirection;this.state.eVotedDirection!=_d.None&&(r=this.state.eVotedDirection);var i=Object(cr.a)(hb.a.Icon16,hb.a.ThumbsUp,r==_d.Up&&hb.a.Selected),a=Object(cr.a)(hb.a.Icon16,hb.a.ThumbsDown,r==_d.Down&&hb.a.Selected),o=Object(cr.a)(hb.a.Icon16,hb.a.Comments),s=Object(cr.a)(hb.a.Icon16,hb.a.Reactions),c=null===(e=n.reactions)||void 0===e?void 0:e.reduce(function(e,t){return e+t.count},0);return D.createElement("div",{className:hb.a.Controls},this.props.showVotingControls&&D.createElement(Tb,{icon:D.createElement(_r.e,{className:s,color:"#2A83CF"}),count:0==c?void 0:c,onClick:this.ShowAwardModal}),this.props.showVotingControls&&D.createElement(Tm,{targetType:2,bShowModal:this.state.bShowPointsModal,onDismiss:this.HideAwardModal,ugcType:n.type,targetid:n.published_file_id}),this.props.showVotingControls&&D.createElement(Rb,{iconClass:i,count:n.votes_for,onClick:this.VoteUp}),this.props.showVotingControls&&D.createElement(Rb,{iconClass:a,onClick:this.VoteDown}),D.createElement(Rb,{iconClass:o,count:n.comment_count,onClick:this.props.fnNav}))},Object(j.c)([E.a],e.prototype,"ShowAwardModal",null),Object(j.c)([E.a],e.prototype,"HideAwardModal",null),Object(j.c)([o.observer],e)}(D.Component);function Rb(e){return D.createElement("div",{className:hb.a.Control,onClick:e.onClick},null!=e.count&&D.createElement("div",{className:hb.a.Count},Number(e.count).toLocaleString()),D.createElement("div",{className:hb.a.Button},D.createElement("span",{className:Object(cr.a)(e.iconClass,e.onClick&&hb.a.HasClickEvent)})))}function Tb(e){return D.createElement("div",{className:hb.a.Control,onClick:e.onClick},null!=e.count&&D.createElement("div",{className:hb.a.Count},Number(e.count).toLocaleString()),D.createElement("div",{className:hb.a.Button},e.icon))}var Mb=function(n){function e(e){var t=n.call(this,e)||this;return t.m_elContainerRef=D.createRef(),t.state={bPlay:!1},t}return Object(j.d)(e,n),e.prototype.componentDidUpdate=function(e){e.strVideoID!=this.props.strVideoID&&this.setState({bPlay:!1})},e.prototype.PlayVideo=function(e){this.setState({bPlay:!0})},e.prototype.render=function(){var e=this.props,t=e.strPreviewURL,n=e.strVideoID,r=e.className,i=e.style,a=(e.onClick,e.inappropriate),o=Object(j.f)(e,["strPreviewURL","strVideoID","className","style","onClick","inappropriate"]);if(this.state.bPlay)return D.createElement(ob,Object(j.a)({ref:this.m_elContainerRef,className:Object(cr.a)(r,hb.a.Preview,hb.a.VideoPlaying),width:16,height:9,style:i},o),D.createElement(lb.b,{video:n,width:this.m_elContainerRef.current.clientWidth,height:this.m_elContainerRef.current.clientHeight,autoplay:!0,controls:!0,showFullscreenBtn:!0}));(i=i||{}).backgroundImage="url( "+t+" )";var s=B.a.GetCommunityURL()+"public/shared/images/apphubs/play_icon80.png";return D.createElement(ob,Object(j.a)({ref:this.m_elContainerRef,className:Object(cr.a)(r,hb.a.VideoPreview),width:16,height:9,onClick:a?void 0:this.PlayVideo,style:i},o),D.createElement("img",{className:hb.a.PlayLogo,src:s}))},Object(j.c)([E.a],e.prototype,"PlayVideo",null),e}(D.PureComponent),Nb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnVideoChanged=function(e){this.props.event.SetActiveCommentThread(e)},t.prototype.render=function(){var e=this.props.event,t=zh.GetPublishedFiles(e.publishedfileids).filter(function(e){return!!e.file});return D.createElement("div",{className:sp.a.ActivityPublishedVideo},D.createElement(Lb,{videos:t,onVideoChanged:this.OnVideoChanged}))},Object(j.c)([E.a],t.prototype,"OnVideoChanged",null),Object(j.c)([o.observer],t)}(D.Component),Lb=function(n){function e(e){var t=n.call(this,e)||this;return t.state={iActiveVideo:0},t}return Object(j.d)(e,n),e.getDerivedStateFromProps=function(e,t){return t.iActiveVideo<e.videos.length?t:Object(j.a)(Object(j.a)({},t),{iActiveVideo:0})},e.prototype.ChangeVideo=function(e){e!=this.state.iActiveVideo&&(this.setState({iActiveVideo:e}),this.props.onVideoChanged&&this.props.onVideoChanged(e))},e.prototype.render=function(){var e=this.props.videos;if(!e.length)return null;var t=e[this.state.iActiveVideo].file;return D.createElement("div",{className:sp.a.VideoCarousel},D.createElement("div",{className:sp.a.ActiveVideo},D.createElement(Mb,{strPreviewURL:t.preview_url,strVideoID:t.youtubevideoid,inappropriate:!1})),D.createElement("div",{className:Object(cr.a)(sp.a.VideoTitle,t.title&&sp.a.HasTitle)},t.title),D.createElement(kb,{videos:e,iActiveVideo:this.state.iActiveVideo,fnSelectVideo:this.ChangeVideo}))},Object(j.c)([E.a],e.prototype,"ChangeVideo",null),e}(D.Component);function kb(e){var t=e.videos,n=e.iActiveVideo,r=e.fnSelectVideo;return t.length<2?null:D.createElement("div",{className:sp.a.CarouselThumbs},t.map(function(e,t){return D.createElement("div",{key:e.file.publishedfileid,onClick:function(){return r(t)},className:Object(cr.a)(sp.a.CarouselThumb,t==n&&sp.a.Active)},D.createElement("img",{src:e.file.preview_url}))}))}var Fb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.NavigateToReviewPage=function(){B.a.NavigateToSteamURL("RecommendGame",this.props.details.unAppID)},t.prototype.render=function(){var e=this.props.event.GetRecommendationDetails();if(!e)return null;var t=new sb({text:e.review});return D.createElement("div",{className:sp.a.ActivityRecommendedGame},D.createElement("div",{className:sp.a.ReviewMetadata},e.voted_up?D.createElement(_r.vb,{className:Object(cr.a)(sp.a.ReviewIcon,sp.a.ReviewIconThumbsUp,sp.a.ReviewIconThumbsUpColor)}):D.createElement("div",{className:Object(cr.a)(sp.a.ReviewIcon,sp.a.ReviewIconThumbsDownBox)},D.createElement(_r.vb,{className:Object(cr.a)(sp.a.ReviewIconThumbsDown,sp.a.ThumbsDown,sp.a.ReviewIconThumbsDownColor)})),D.createElement("div",{className:sp.a.ReviewDescription},D.createElement("div",{className:sp.a.ReviewDescriptionRecommended},e.voted_up?Object(R.f)("#AppDetails_Review_Recommended"):Object(R.f)("#AppDetails_Review_NotRecommended")),D.createElement("div",{className:sp.a.PlayedForTime},Object(R.f)("#AppDetails_Review_PlaytimeAtReview",lu(e.playtime_at_review)))),0<e.comment_count&&D.createElement("div",{className:sp.a.CommentsGroup,onClick:this.NavigateToReviewPage},D.createElement("div",{className:sp.a.CommentsContainer},D.createElement("div",{className:sp.a.UpVotesIcon}),D.createElement("div",{className:sp.a.CommentsLabel},Object(R.f)("#AppDetails_Review_UpVotes")),D.createElement("div",{className:sp.a.CommentCount},e.votes_up)),D.createElement("div",{className:sp.a.CommentsContainer},D.createElement("div",{className:sp.a.CommentIcon}),D.createElement("div",{className:sp.a.CommentsLabel},Object(R.f)("#AppDetails_Review_Comments")),D.createElement("div",{className:sp.a.CommentCount},e.comment_count)))),D.createElement(Cu,{pxOverflowHeight:200,classNameWhenHidden:sp.a.ReviewText,classNameWhenExpanded:Object(cr.a)(sp.a.ReviewText,sp.a.ReviewTextExpanded)},D.createElement("div",{className:sp.a.ReviewTextContainer}," ",t.render())))},Object(j.c)([E.a],t.prototype,"NavigateToReviewPage",null),Object(j.c)([o.observer],t)}(D.Component),Pb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props.event,t=e.GetUserStatus();if(!t||!t.statusText)return null;return e.steamIDActor&&(e.steamIDActor.GetAccountID(),ei.currentUserSteamID.GetAccountID()),D.createElement("div",{className:sp.a.ActivityPublishedStatus},D.createElement("span",{className:sp.a.StatusText},Sd.FormatAndParseUserStatusBBCode(t.statusText)))},Object(j.c)([o.observer],t)}(D.Component),Gb=n("U+Q5"),Ub=n("MnIK"),xb=n("lypr");function zb(e){gf.TrackEventClickedByUser(e,5),Qa.NavigateToAppEvents(e.appid,e.GID)}var Hb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnVisible=function(e){var t;e&&(t=this.props.event,gf.TrackEventShownToUser(t,5))},t.prototype.render=function(){return D.createElement(xb.a,{onVisibiltyChange:this.OnVisible,trigger:"once"},this.props.children)},Object(j.c)([E.a],t.prototype,"OnVisible",null),t}(D.Component),Wb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bUserVotedUp:!1},e.m_bRatingBarVisible=!1,e.m_cancelSignal=P.a.CancelToken.source(),e}return Object(j.d)(e,t),e.prototype.componentDidMount=function(){this.LoadMyVoteInformation();var t=this.props.event;t.GetEvent().then(function(e){t.rtEventTime>e.rtime32_moderator_reviewed&&t.ReloadEvent()})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventDiscussionWidget is being unmounted")},e.prototype.LoadMyVoteInformation=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=this.props.event,r=Boolean,a=(i=_f.a.Get()).LoadMyVote,[4,t.GetEvent()];case 1:return[4,a.apply(i,[e.sent(),this.m_cancelSignal])];case 2:return n=r.apply(void 0,[e.sent()]),this.setState({bUserVotedUp:n}),[2]}})})},e.prototype.OnViewThread=function(){this.props.event.forumTopicGID&&(window.location.href=A.c.COMMUNITY_BASE_URL+"app/"+this.props.event.appid+"/eventcomments/"+this.props.event.forumTopicGID)},e.prototype.OnRateUpClicked=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return t=this.props.event,r=(n=_f.a.Get()).Vote,[4,t.GetEvent()];case 1:return r.apply(n,[e.sent(),!0,this.m_cancelSignal]),[2]}})})},e.prototype.render=function(){var e=this,t=this.props.event,n=t.IsEventLoaded();return n&&t.rtEventTime<t.rtPartnerEventSortDate?null:D.createElement(Ub.a,{className:this.props.className,placeholderHeight:200,rootMargin:"0px 0px 100% 0px",onRender:null,onMouseEnter:function(){e.m_bRatingBarVisible=!0},onMouseLeave:function(){e.m_bRatingBarVisible=!1}},D.createElement(Vb,{event:t}),n&&D.createElement(Vh,{upvotes:t.upvotes,upvoted_by_user:this.state.bUserVotedUp,upvoters:[],fnOnRateUpClicked:this.OnRateUpClicked,fnMaximizeParent:this.OnViewThread,comment_count:t.comment_count,bIsVisible:this.m_bRatingBarVisible}))},Object(j.c)([O.observable],e.prototype,"m_bRatingBarVisible",void 0),Object(j.c)([E.a],e.prototype,"OnViewThread",null),Object(j.c)([E.a],e.prototype,"OnRateUpClicked",null),Object(j.c)([o.observer],e)}(D.Component),Vb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_ldrEvent=null,e}return Object(j.d)(e,t),e.prototype.render=function(){var e=this.props.event;if(this.m_ldrEvent||(this.m_ldrEvent=Object(mt.c)(e.GetEvent())),"pending"==this.m_ldrEvent.state)return D.createElement(qb,null,D.createElement(Pi.a,null));if("rejected"==this.m_ldrEvent.state)return D.createElement(qb,null,Object(R.f)("#AppDetails_PartnerEventFailedLoad"));var t=this.m_ldrEvent.value;return t?14==t.type?D.createElement(Qb,{event:t}):12==t.type?D.createElement(Kb,{event:t}):D.createElement(Zb,{event:t}):D.createElement(qb,null,Object(R.f)("#AppDetails_PartnerEventFailedLoad"))},Object(j.c)([o.observer],e)}(D.Component);function qb(e){return D.createElement("div",{className:sp.a.PartnerEventPlaceholder},e.children)}function Yb(e){return e.rTime>Object(Cr.d)(new Date).getTime()/1e3?D.createElement("span",{className:sp.a.PartnerEventTextOnly_Time}," - ",Object(R.n)(e.rTime)):null}var Qb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnClick=function(){zb(this.props.event)},t.prototype.render=function(){var e=this.props.event,t=Object(R.f)("#PartnerEvent_"+e.type),n=Object(k.h)(A.c.LANGUAGE),r=gf.FilterImageURLsForKnownFailures(e.GetImageForSizeAsArrayWithFallback("capsule",n,Gb.c.capsule_main)),i=e.GetNameWithFallback(n),a=e.GetSummaryWithFallback(n);return D.createElement(Hb,{event:e},D.createElement("div",{className:Object(cr.a)(sp.a.PartnerEventLargeImage,sp.a.PartnerEventLargeUpdate,sp.a.Event)},D.createElement("div",{className:sp.a.PartnerEventLargeImage_Container,onClick:this.OnClick},D.createElement("div",{className:sp.a.PartnerEventLargeImage_Contents},D.createElement("div",{className:sp.a.ImageContainer},D.createElement($a.a,{className:sp.a.PartnerEventLargeImage_Image,rgSources:r,onIncrementalError:function(e,t,n){return gf.ImageFailureCallback(t)}}),D.createElement($a.a,{className:Object(cr.a)(sp.a.PartnerEventLargeImage_Image,sp.a.Blur),rgSources:r,onIncrementalError:function(e,t,n){return gf.ImageFailureCallback(t)}})),D.createElement("div",{className:sp.a.PartnerEventLargeImage_TextColumn},D.createElement("div",{className:Object(cr.a)(sp.a.PartnerEventType,14==e.type&&sp.a.PartnerEventTypeUpdate)},t,D.createElement(Yb,{rTime:e.postTime})),D.createElement("div",{className:sp.a.PartnerEventLargeImage_Title},i),D.createElement("div",{className:sp.a.PartnerEventLargeImage_Summary},a))))))},Object(j.c)([E.a],t.prototype,"OnClick",null),t}(D.Component),Zb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnClick=function(){zb(this.props.event)},t.prototype.render=function(){var e=this.props.event,t=Object(R.f)("#PartnerEvent_"+e.type),n=Object(k.h)(A.c.LANGUAGE),r=gf.FilterImageURLsForKnownFailures(e.GetImageForSizeAsArrayWithFallback("capsule",n,Gb.c.capsule_main)),i=e.GetNameWithFallback(n),a=e.GetSummaryWithFallback(n),o=null;return 0<r.length&&(o=D.createElement("div",{className:sp.a.MediumImageContainer},D.createElement($a.a,{className:sp.a.PartnerEventMediumImage_Image,rgSources:r,onIncrementalError:function(e,t,n){return gf.ImageFailureCallback(t)}}))),D.createElement(Hb,{event:e},D.createElement("div",{className:Object(cr.a)(sp.a.PartnerEventMediumImage,sp.a.PartnerEvent,(12==e.type||13==e.type)&&sp.a.PartnerEventUpdate,sp.a.Event)},D.createElement("div",{className:sp.a.PartnerEventMediumImage_Container,onClick:this.OnClick},D.createElement("div",{className:sp.a.PartnerEventMediumImage_Contents},o,D.createElement("div",{className:sp.a.PartnerEventMediumImage_TextColumn},D.createElement("div",{className:Object(cr.a)(sp.a.PartnerEventType)},t,D.createElement(Yb,{rTime:e.postTime})),D.createElement("div",{className:sp.a.PartnerEventMediumImage_Title},i),D.createElement(Jb,{text:a}))))))},Object(j.c)([E.a],t.prototype,"OnClick",null),t}(D.Component),Kb=(D.Component,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnClick=function(){zb(this.props.event)},t.prototype.render=function(){var e=this.props.event,t=e.GetCategoryAsString(),n=Object(k.h)(A.c.LANGUAGE),r=e.GetNameWithFallback(n),i=e.GetSubTitleWithLanguageFallback(n);return D.createElement(Hb,{event:e},D.createElement("div",{className:Object(cr.a)(sp.a.PartnerEventTextOnly,sp.a.PartnerEvent,sp.a.Event)},D.createElement("div",{className:sp.a.PartnerEventTextOnly_Container,onClick:this.OnClick},D.createElement("div",{className:sp.a.PartnerEventTextOnly_Icon},D.createElement(_r.Y,null)),D.createElement("div",{className:sp.a.PartnerEventTextOnly_TextColumn},D.createElement("div",{className:sp.a.PartnerEventType},t,D.createElement(Yb,{rTime:e.postTime})),D.createElement("div",{className:sp.a.PartnerEventTextOnly_Title},r),i&&D.createElement("div",{className:sp.a.PartnerEventTextOnly_LimitedSummary},D.createElement("span",{className:sp.a.PartnerEventTextOnly_Summary},i))))))},Object(j.c)([E.a],t.prototype,"OnClick",null),t}(D.Component)),Jb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={nLines:0},e.m_refContainer=D.createRef(),e}return Object(j.d)(e,t),e.prototype.componentDidMount=function(){this.UpdateLineCount()},e.prototype.UpdateLineCount=function(){if(!this.state.nLines){var e=this.m_refContainer.current,t=e.innerHTML,n=e.style.cssText,r=e.clientHeight;e.style.cssText=n+";overflow: visible",e.innerText="Y";for(var i=0;i<10&&!(e.clientHeight>r);)i++,e.innerHTML+="<br>Y";e.innerText=t,e.style.cssText=n,this.setState({nLines:i})}},e.prototype.render=function(){var e={overflow:"hidden"};return 0<this.state.nLines&&(e={WebkitLineClamp:this.state.nLines,display:"-webkit-box",WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"}),D.createElement("div",{ref:this.m_refContainer,className:sp.a.PartnerEventMediumImage_Summary,style:e},this.props.text)},e}(D.Component),Xb=n("o6Wi"),$b=n.n(Xb),e_=n("4+kh"),t_=n.n(e_),n_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hoverActive:!1,mouseX:0,mouseY:0,bImageLoading:!0,bImageLoadFailed:!1,nLeftShift:0},e}return Object(j.d)(e,t),e.prototype.componentDidUpdate=function(e){this.props.data.strMarketHash!=e.data.strMarketHash&&this.setState({hoverActive:!1,mouseX:0,mouseY:0,bImageLoading:!0,bImageLoadFailed:!1,nLeftShift:0})},e.prototype.sigmoid=function(e){return 1/(1+Math.pow(Math.E,-e))},e.prototype.DampenValues=function(e){return+Math.log(e/(1-e))},e.prototype.ShowArtwork=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,eb(this.props.data.strArtworkURL,this.props.data.strTitle,t.currentTarget.ownerDocument.defaultView)]})})},e.prototype.ShowContextMenu=function(e){var t=this;this.props.data.strMarketHash&&Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:function(){B.a.NavigateToSteamURL("CommunityMarketSearch",k.m,encodeURIComponent(t.props.data.strMarketHash))}},Object(R.f)("#AppDetails_SearchCard"))),e)},e.prototype.OnCardEnter=function(e){var t,n,r,i;this.m_OwnerWindow=e.currentTarget.ownerDocument.defaultView,this.m_nCurrentCardHeight=e.currentTarget.clientHeight,this.m_nCurrentCardWidth=e.currentTarget.clientWidth,this.state.hoverActive||(t=0<this.props.data.nOwned||this.props.bMaxed,n=e.currentTarget.getBoundingClientRect(),r=t?2.5:1.5,this.props.cardScale&&(r=this.props.cardScale),(i=n.left+n.width/2+n.width*r/2)>this.m_OwnerWindow.innerWidth-30&&this.setState({nLeftShift:this.m_OwnerWindow.innerWidth-i-30})),this.setState({hoverActive:!0}),this.m_OwnerWindow.addEventListener("mousemove",this.HandleMouseMove)},e.prototype.OnCardLeave=function(e){this.m_OwnerWindow.removeEventListener("mousemove",this.HandleMouseMove),this.setState({hoverActive:!1})},e.prototype.HandleMouseMove=function(e){this.InternalAdjustHover(e.offsetX,e.offsetY)},e.prototype.OnImageLoad=function(e){this.setState({bImageLoading:!1})},e.prototype.OnImageLoadFailed=function(e,t,n){this.setState({bImageLoadFailed:!0})},e.prototype.InternalAdjustHover=function(e,t){var n=fm.c(e,0,this.m_nCurrentCardWidth,-1,1),r=fm.c(t,0,this.m_nCurrentCardHeight,1,-1),n=this.sigmoid(n),r=this.sigmoid(r);n=fm.c(n,0,1,-45,45),r=fm.c(r,0,1,-45,45),this.setState({mouseX:n,mouseY:r})},e.prototype.render=function(){var e="rotate3D( 0, 0, 0, 0deg)",t=1,n=1,r=1,i=1,a=this.props.data.strImgURL;Jr.settings.bLibraryLowBandwidthMode&&(a+="/100x100"),this.state.hoverActive&&(e="rotateX("+this.state.mouseY+"deg) rotateY("+this.state.mouseX+"deg)",t=fm.c(this.state.mouseY,-45,45,0,2),n=fm.c(this.state.mouseX,-45,45,-1,1),r=fm.c(this.state.mouseX,-45,45,1,-1),i=fm.c(this.state.mouseY,-45,45,-1,1),a=this.props.data.strImgURL);var o,s,c,l=0<this.props.data.nOwned||this.props.bMaxed,u={transform:"none"};return this.props.animateHover&&this.state.hoverActive&&(o=l?2.5:1.5,this.props.cardScale&&(o=this.props.cardScale),s="scale("+o+")",this.state.nLeftShift&&(s="translateX("+this.state.nLeftShift+"px) "+s),u.transform=s),c=this.state.bImageLoading?t_.a.Loading:this.state.bImageLoadFailed?t_.a.LoadFailed:t_.a.Loaded,D.createElement("div",{className:Object(cr.a)(this.props.className,t_.a.Card,c,l?t_.a.Owned:t_.a.Unowned,(l||this.props.bClickable)&&t_.a.Clickable,this.props.animateHover&&t_.a.AnimateHover),onClick:this.props.bClickable||l?this.ShowArtwork:void 0,onContextMenu:this.ShowContextMenu,onMouseEnter:this.props.animateHover?this.OnCardEnter:void 0,onMouseLeave:this.props.animateHover?this.OnCardLeave:void 0,style:u},D.createElement("div",{className:t_.a.AspectRatioBox},D.createElement("div",{className:t_.a.CardContainer,style:{transform:e}},D.createElement($a.a,{className:t_.a.CardImage,rgSources:[a,$b.a],onLoad:this.OnImageLoad,onIncrementalError:this.OnImageLoadFailed,style:{filter:"saturate("+(l?"1":this.state.hoverActive?"0.3":"0.1")+") brightness("+t+")"},alt:this.props.data.strTitle}),this.state.bImageLoadFailed&&D.createElement("div",{className:t_.a.Title},this.props.data.strTitle),D.createElement("div",{className:t_.a.CardShineContainer_W,style:{opacity:n}},D.createElement("div",{className:t_.a.CardShine,style:{left:2*-this.state.mouseX,top:2*this.state.mouseY}})),D.createElement("div",{className:t_.a.CardShineContainer_E,style:{opacity:r}},D.createElement("div",{className:t_.a.CardShine,style:{left:2*-this.state.mouseX,top:2*this.state.mouseY}})),D.createElement("div",{className:t_.a.CardShineContainer_S,style:{opacity:i}},D.createElement("div",{className:t_.a.CardShine,style:{left:2*-this.state.mouseX,top:2*this.state.mouseY}})))))},Object(j.c)([E.a],e.prototype,"sigmoid",null),Object(j.c)([E.a],e.prototype,"DampenValues",null),Object(j.c)([E.a],e.prototype,"ShowArtwork",null),Object(j.c)([E.a],e.prototype,"ShowContextMenu",null),Object(j.c)([E.a],e.prototype,"OnCardEnter",null),Object(j.c)([E.a],e.prototype,"OnCardLeave",null),Object(j.c)([E.a],e.prototype,"HandleMouseMove",null),Object(j.c)([E.a],e.prototype,"OnImageLoad",null),Object(j.c)([E.a],e.prototype,"OnImageLoadFailed",null),e}(D.Component),r_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.NavigateToBadgePage=function(){B.a.NavigateToSteamURL("SteamIDAppTradingCardsPage",this.props.details.unAppID)},t.prototype.RenderDropdownMenu=function(){for(var e=this,t=Lp.GetBadgeData(this.props.details.unAppID),n=!1,r=!1,i="",a="",o=0,s=t.rgCards;o<s.length;o++){var c=s[o];c.strMarketHash&&(t.bMaxed||0!=c.nOwned||(n=!0),i=i+"&items[]="+encodeURIComponent(c.strMarketHash)+"&qty[]="+(0==c.nOwned?"1":"0"),c.nOwned&&(r=!0),a=a+"&items[]="+encodeURIComponent(c.strMarketHash)+"&qty[]="+Math.min(c.nOwned,100))}return D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:this.NavigateToBadgePage},Object(R.f)("#AppDetails_ViewBadgePage")),n&&D.createElement(Hi.d,{onSelected:function(){B.a.NavigateToSteamURL("CommunityMarketMultiBuy",k.m,i)}},Object(R.f)("#AppDetails_BuyCards")),r&&D.createElement(Hi.d,{onSelected:function(){B.a.NavigateToSteamURL("CommunityMarketMultiSell",k.m,6,a)}},Object(R.f)("#AppDetails_SellCards")),D.createElement(Hi.d,{onSelected:function(){B.a.NavigateToSteamURL("GameHubTradingForum",e.props.details.unAppID)}},Object(R.f)("#AppDetails_VisitTradeForum")))},t.prototype.ShowContextMenu=function(e){Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:this.NavigateToBadgePage},Object(R.f)("#AppDetails_ViewBadgePage"))),e)},t.prototype.render=function(){var e=this,t=Lp.GetBadgeData(this.props.details.unAppID);if(!t.bHasBadgeData||!t.rgCards)return null;for(var n,r=[],i=0,a=0;a<t.rgCards.length;a++){var o=t.rgCards[a];t.bMaxed||0!=o.nOwned||i++,r.push(D.createElement(n_,{key:o.strMarketHash,bMaxed:t.bMaxed,bClickable:0<t.nLevel,data:o,animateHover:!0}))}0<t.rgCards.length&&(n=0<i?D.createElement("div",{className:t_.a.CardsLeft},Object(R.m)("#AppDetails_TradingCardsLeft",i)):0!=i||t.bMaxed?D.createElement("div",{className:Object(cr.a)(t_.a.CardsLeft,t_.a.BadgeMaxed)},Object(R.f)("#AppDetails_TradingCardsMaxed")):D.createElement("div",{className:Object(cr.a)(t_.a.CardsLeft,t_.a.CanLevelUp),onClick:function(){return e.NavigateToBadgePage()}},Object(R.f)("#AppDetails_TradingCardsLevelUp")));var s=null;0<t.nLevel?s=D.createElement(nl.Highlight,{className:t_.a.BadgeSection,onContextMenu:this.ShowContextMenu},D.createElement("img",{className:t_.a.Badge,src:t.strIconURL,onClick:this.NavigateToBadgePage}),D.createElement("div",{className:t_.a.BadgeInfo},D.createElement("div",{className:t_.a.BadgeName},t.strName),D.createElement("div",{className:t_.a.BadgeLevel},Object(R.f)("#AppDetails_BadgeLevel",t.nLevel,t.nXP)))):0==t.nLevel&&(s=D.createElement(nl.Highlight,{className:t_.a.BadgeSection,onContextMenu:this.ShowContextMenu},D.createElement("div",{className:Object(cr.a)(t_.a.Badge,t_.a.EmptyCircle)}),D.createElement("div",{className:t_.a.BadgeInfo},D.createElement("div",{className:t_.a.BadgeName},t.strNextLevelName),D.createElement("div",{className:t_.a.BadgeLevel},Object(R.f)("#AppDetails_UnearnedBadgeXP",t.nNextLevelXP)))));var c=D.createElement("span",{className:t_.a.Highlight},Object(R.f)("#AppDetails_TradingCards_Tooltip1")),l=D.createElement("span",{className:t_.a.Highlight},Object(R.f)("#AppDetails_TradingCards_Tooltip2")),u=D.createElement(Co.b,null,D.createElement(Co.e,{toolTipContent:c}),D.createElement("br",null),D.createElement(Co.e,{toolTipContent:l,style:{marginTop:6}})),p=ho.rightPanelWidth,d="";return p>=parseInt(mo.a.RightBreakNarrow)+42&&(d=t_.a.SlightlyLargerThanNarrow),p>=parseInt(mo.a.RightBreakNarrow)+242&&(d=t_.a.BetweenNarrowAndMedium),D.createElement(nl,{feature:3,className:Object(cr.a)(t_.a.Container,d),label:Object(R.f)("#AppDetails_SectionTitle_TradingCards"),tooltip:u,highlight:s,rightColumnSection:!0},D.createElement(nl.Body,null,n,D.createElement("div",{className:t_.a.CardsSection},r),D.createElement(sl,{onClick:this.NavigateToBadgePage},Object(R.f)("#AppDetails_ViewTradingCards"))))},Object(j.c)([E.a],t.prototype,"NavigateToBadgePage",null),Object(j.c)([E.a],t.prototype,"RenderDropdownMenu",null),Object(j.c)([E.a],t.prototype,"ShowContextMenu",null),Object(j.c)([o.observer],t)}(D.Component),i_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=Lp.GetCommunityItemDefinitions(this.props.details.unAppID),t=Lp.GetBadgeData(this.props.details.unAppID);if(null==e||0==e.length)return"";for(var n=new Array,r=0,i=0,a=this.props.event.tradingCards;i<a.length;i++){for(var o=a[i],s=void 0,c=0,l=e;c<l.length;c++){var u=l[c];if(2==u.item_class&&u.item_type==o){s=u;break}}if(s&&t.rgCards){for(var p,d=void 0,m=0,h=t.rgCards;m<h.length;m++){var f=h[m];if(f.strName==s.item_name){d=f;break}}d&&(p=D.createElement(n_,{key:"trading_card_"+r,className:sp.a.SummaryTradingCard,bMaxed:!1,data:d,animateHover:!0,cardScale:1.5}),n.push(p),r++)}}return D.createElement(Ks.a,null,D.createElement("div",{className:sp.a.TradingCardSection},n))},Object(j.c)([o.observer],t)}(D.Component),a_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.day,n=e.details,r=ei.currentUserSteamID.GetAccountID(),i=t.events.filter(function(e){var t=ei.GetFriendState(e.steamIDActor);return e.eEventType==pd.PostedAnnouncement||3==t.friendRelationship||e.steamIDActor.GetAccountID()==r});if(!i||!i.length)return null;var a=Object(R.q)(t.GetLatestEventTime(),!0);return t.isValid?D.createElement("div",{className:sp.a.AppActivityDay},D.createElement("div",{className:sp.a.AppActivityDate},a),D.createElement("div",{className:sp.a.AppDayContents},i.map(function(e){return D.createElement(o_,{key:e.unUniqueID,event:e,details:n})}))):null},Object(j.c)([o.observer],t)}(D.Component),o_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_CommentVisibility=Object(O.observable)({m_bCommentsVisible:!1}),e.fnOnMouseEnter=function(){e.m_CommentVisibility.m_bCommentsVisible=!0},e.fnOnMouseLeave=function(){e.m_CommentVisibility.m_bCommentsVisible=!1},e}return Object(j.d)(e,t),e.prototype.OnDeleteEvent=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,Uf.FetchLatestActivity(this.props.details.unAppID,!0)];case 1:return e.sent(),(t=Uf.GetAppActivity(this.props.details.unAppID))&&t.DeleteEvent(this.props.event),[2]}})})},e.prototype.GetStyleForEvent=function(e){switch(e){case pd.AchievementUnlocked:return sp.a.AchievementEvent;case pd.FilePublished_Screenshot:return sp.a.ScreenshotUploaded;case pd.FilePublished_Video:return sp.a.VideoUploaded;case pd.ReceivedNewGame:return sp.a.ReceivedNewGame;case pd.PlayedGameFirstTime:return sp.a.PlayedGameFirstTime;case pd.AddedGameToWishlist:return sp.a.AddedGameToWishlist;case pd.UserStatus:return sp.a.UserStatus;case pd.RecommendedGame:return sp.a.RecommendedGame;default:return null}},e.prototype.OnMaybeDeleteEvent=function(){Object(_i.d)(D.createElement(bi.c,{strTitle:Object(R.f)("#AppActivity_ConfirmDeleteTitle"),strDescription:Object(R.f)("#AppActivity_ConfirmDeleteTitle_Desc"),onOK:this.OnDeleteEvent,onCancel:function(){return null}}),window,{strTitle:Object(R.f)("#AppActivity_ConfirmDeleteTitle")})},e.prototype.render=function(){var e=this.props,t=e.details,n=e.event;if(!n.BIsValid())return null;if(n.eEventType==pd.PostedAnnouncement)return D.createElement(Wb,{className:sp.a.Event,event:n});var r=null,i=null,a=Xa.GetAppOverviewByAppID(t.unAppID),o=D.createElement("span",{className:sp.a.HeadlineGameName},D.createElement(co,{app:a,eAssetType:4,className:sp.a.GameIcon}),t.strDisplayName),s=null,c=ei.GetFriendState(n.steamIDActor),l=D.createElement("a",{className:sp.a.WishlistLink,href:B.a.GetStoreURL()+("wishlist/profiles/"+c.persona.m_steamid.ConvertTo64BitString())+"/#sort=order&term="+t.strDisplayName.toLowerCase()},Object(R.f)("#AppActivity_Wishlist")),u=n.GetCommentThreadType()!=ld.k_ECommentThreadTypeInvalid,p=null,d=null,m=void 0;if(n.bIsGameActivity)switch(n.eGameActivityType){case 1:break;case 2:i=(r=n.eEventSubType==yf.k_ETradingCardActivity_BadgeCraft?D.createElement(kp,{details:t,event:n}):n.eEventSubType==yf.k_ETradingCardActivity_BoosterDrop?D.createElement(Fp,{details:t,event:n}):D.createElement(i_,{details:t,event:n}),Object(R.f)(n.GetHeadline()));break;default:console.log("No renderer for game activity type "+n.eEventType)}else switch(n.eEventType){case pd.AchievementUnlocked:r=D.createElement(gp,{details:t,event:n,maxshown:7}),i=Object(R.f)("#AppActivity_Achieved");break;case pd.FilePublished_Screenshot:var h=(f=n).publishedfileids.length,r=D.createElement(tb,{details:t,event:f}),i=1==h?Object(R.f)("#AppActivity_PostedScreenshot"):Object(R.f)("#AppActivity_PostedScreenshot_Plural",h),s=sp.a.Screenshot,d=f.GetCurrentPublishedFileID();break;case pd.FilePublished_Video:var f,b=(f=n).publishedfileids.length;r=D.createElement(Nb,{event:f}),i=1==b?Object(R.f)("#AppActivity_PostedVideo"):Object(R.f)("#AppActivity_PostedVideo_Plural",b),s=sp.a.Video,d=f.GetCurrentPublishedFileID();break;case pd.ReceivedNewGame:i=Object(R.o)("#AppActivity_ReceivedNewGame",o);break;case pd.PlayedGameFirstTime:i=Xa.GetAppOverviewByAppID(t.unAppID).BIsApplicationOrTool()?Object(R.o)("#AppActivity_LaunchedSoftwareFirstTime",o):Object(R.o)("#AppActivity_PlayedGameFirstTime",o);break;case pd.AddedGameToWishlist:i=Object(R.o)("#AppActivity_AddedGameToWishlist",o,l);break;case pd.UserStatus:r=D.createElement(Pb,{event:n,details:t});var _=new Date(1e3*n.rtEventTime).toLocaleTimeString(R.e.GetPreferredLocales());i=Object(R.f)("#AppActivity_UserStatus_Time",_),s=sp.a.UserStatus,n.steamIDActor.GetAccountID()==ei.currentUserSteamID.GetAccountID()&&(p=this.OnMaybeDeleteEvent);break;case pd.RecommendedGame:r=D.createElement(Fb,{event:n,details:t}),i=Object(R.f)("#AppActivity_RecommendedGame"),m=n.GetRecommendationDetails();break;default:console.log("No renderer for "+pd[n.eEventType])}if(!r&&!i)return null;var v=null!=r,g=D.createElement("div",{className:sp.a.DeleteButton,onClick:p},D.createElement(_r.s,{className:sp.a.DeleteUserNews}));return D.createElement("div",{className:Object(cr.a)(sp.a.Event,this.GetStyleForEvent(n.eEventType)),onMouseEnter:this.fnOnMouseEnter,onMouseLeave:this.fnOnMouseLeave},D.createElement(c_,{steamIDActor:n.steamIDActor,deleteButton:p&&g},i),v&&D.createElement(D.Fragment,null,D.createElement("div",{className:Object(cr.a)(sp.a.EventBody,s)},D.createElement(Ks.a,null,r))),u&&D.createElement(Ub.a,{placeholderHeight:32,rootMargin:"0px 0px 50% 0px"},D.createElement(s_,{event:n,publishedfileid:d,recommendation:m,visibility:this.m_CommentVisibility})))},Object(j.c)([E.a],e.prototype,"OnDeleteEvent",null),Object(j.c)([E.a],e.prototype,"OnMaybeDeleteEvent",null),Object(j.c)([o.observer],e)}(D.Component),s_=Object(o.observer)(function(e){var t=e.event,n=e.publishedfileid,r=e.recommendation,i=e.visibility,a=t.GetActiveCommentThread(),o=null!=a,s=!a||0==a.m_rgComments.length;return o&&D.createElement(Qh,{commentThread:a,bDefaultMinimized:s,publishedfileid:n,recommendation:r,bVisible:i.m_bCommentsVisible})}),c_=Object(o.observer)(function(e){var t=ei.GetFriendState(e.steamIDActor);return D.createElement(D.Fragment,null,D.createElement("div",{className:sp.a.EventHeadline},D.createElement(vu,{className:sp.a.EventActorAvatar,friend:t,size:"Small",statusPosition:"right",onClick:function(){return B.a.NavigateToSteamURL("SteamIDPage",e.steamIDActor.ConvertTo64BitString())}}),D.createElement("span",{className:sp.a.SpanEvent},D.createElement(hu,{className:sp.a.ActorName,persona:t.persona,strNickname:t.nickname,bParenthesizeNicknames:Jr.communityPreferences.bParenthesizeNicknames,onContextMenu:function(e){fu(e,t)},onClick:function(){return B.a.NavigateToSteamURL("SteamIDPage",e.steamIDActor.ConvertTo64BitString())}}),D.createElement("span",{className:sp.a.HeaderChildren},e.children)),e.deleteButton))}),l_=n("Jjzn"),u_=n.n(l_),p_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_ActivityUpdateInterval=void 0,e}return Object(j.d)(e,t),e.prototype.componentDidMount=function(){this.OnPageLoad()},e.prototype.componentDidUpdate=function(e){this.props.details.unAppID!=e.details.unAppID&&this.OnPageLoad()},e.prototype.OnPageLoad=function(){var e=this;window.setTimeout(function(){return Uf.FetchLatestActivity(e.props.details.unAppID)},500)},e.prototype.componentWillUnmount=function(){this.m_ActivityUpdateInterval&&window.clearInterval(this.m_ActivityUpdateInterval)},e.prototype.OnLoadActivityClicked=function(){Uf.FetchActivityHistory(this.props.details.unAppID,20)},e.prototype.OnPostStatusClicked=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return""==n?[2]:((t=x.b.Init(yt.k)).Body().set_appid(this.props.details.unAppID),t.Body().set_status_text(n),[4,yt.n.PostStatusToFriends(b.a.CMInterface.GetServiceTransport(),t)]);case 1:return e.sent(),Uf.FetchLatestActivity(this.props.details.unAppID,!0),this.setState({strText:""}),[2]}})})},e.prototype.render=function(){var e=this.props.details,t=Uf.GetAppActivity(this.props.details.unAppID),n=t?t.appActivityByDay:[],r=!t,i=t&&!t.m_bNoMoreHistoryAvailable,a=t&&0==n.length,o=Xa.GetAppOverviewByAppID(this.props.details.unAppID).BIsApplicationOrTool()?Object(R.f)("#AppActivity_StatusUpdate_Software_Post"):Object(R.f)("#AppActivity_StatusUpdate_Post"),s=t&&t.lastAddedEventType!=pd.PostedAnnouncement?t.lastAddedPartnerEvent:null,c=Object(k.a)(A.c.LAUNCHER_TYPE);return D.createElement(nl,{className:u_.a.ActivityFeedContainer,label:Object(R.f)("#AppDetails_SectionTitle_Activity"),showRule:!0},D.createElement(nl.Body,{className:u_.a.InnerContainer},!c&&D.createElement(Bd,{className:Object(cr.a)(u_.a.AddToFeed,u_.a.PostTextEntry),OnPostClicked:this.OnPostStatusClicked,placeholder:o}),s&&D.createElement(m_,{appid:e.unAppID,event:s}),r&&D.createElement("div",{className:u_.a.Loading}),!r&&0==n.length&&D.createElement("div",{className:u_.a.NoActivity},D.createElement("div",null,Object(R.f)("#AppActivity_NoActivity"))),!r&&0<n.length&&D.createElement(d_,{details:e,rgDays:n}),!r&&!a&&i&&D.createElement("div",{className:u_.a.FetchMoreContainer,onClick:this.OnLoadActivityClicked},Object(R.f)("#AppActivity_FetchMore")),!r&&!a&&!i&&D.createElement("div",{className:u_.a.EndofFeed},D.createElement("div",{className:u_.a.EndRule}),D.createElement("div",{className:u_.a.EndText},Object(R.f)("#AppActivity_EndofFeed")),D.createElement("div",{className:u_.a.EndRule}))))},Object(j.c)([E.a],e.prototype,"OnLoadActivityClicked",null),Object(j.c)([E.a],e.prototype,"OnPostStatusClicked",null),Object(j.c)([o.observer],e)}(D.Component),d_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.details;return e.rgDays.map(function(e){return D.createElement(a_,{key:e.GetLatestEventTime(),details:t,day:e})})},Object(j.c)([o.observer],t)}(D.Component),m_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnClick=function(e){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,this.props.event.GetEvent()];case 1:return t=e.sent(),Qa.NavigateToAppEvents(t.appid,t.GID),[2]}})})},t.prototype.render=function(){return D.createElement("div",{className:u_.a.ViewLastNews,onClick:this.OnClick},D.createElement("span",null,Object(R.f)("#AppActivity_ViewLatestNews")))},Object(j.c)([E.a],t.prototype,"OnClick",null),t}(D.Component),h_=n("ayjY"),f_=n.n(h_),b_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.TwoDigitDurationString=function(e){return("0"+e).slice(-2)},t.prototype.HoursMinuteSecondsDisplayString=function(e){var t=e,n=Math.floor(t/3600);t-=3600*n;var r=Math.floor(t/60),i=t-=60*r;return 0<n?n+":"+this.TwoDigitDurationString(r)+":"+this.TwoDigitDurationString(i):r+":"+this.TwoDigitDurationString(i)},t.prototype.render=function(){return D.createElement(D.Fragment,null,this.HoursMinuteSecondsDisplayString(this.props.seconds))},t}(D.Component),__=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=L.GetSoundtrackDetails(this.props.appid).m_nTotalTrackCount;return e?D.createElement(D.Fragment,null,Object(R.f)("#AppDetails_Soundtrack_TrackCount",e)):null},Object(j.c)([o.observer],t)}(D.Component),v_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement(D.Fragment,null,D.createElement(b_,{seconds:L.GetSoundtrackDetails(this.props.appid).m_nTotalDurationSeconds}))},Object(j.c)([o.observer],t)}(D.Component),g_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=L.GetSoundtrackDetails(this.props.appid).m_Metadata;return e&&e.m_strArtist?D.createElement(D.Fragment,null,e.m_strArtist):null},Object(j.c)([o.observer],t)}(D.Component),y_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return L.GetSoundtrackDetails(this.props.appid).m_nTotalTrackCount?D.createElement(D.Fragment,null,D.createElement(__,{appid:this.props.appid})," / ",D.createElement(v_,{appid:this.props.appid})):null},Object(j.c)([o.observer],t)}(D.Component),S_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=L.GetSoundtrackDetails(this.props.appid).m_strCoverImageAssetURL,t=e?{backgroundImage:"url("+e+")"}:{};return D.createElement(D.Fragment,null,D.createElement("div",{className:this.props.className,style:t}))},Object(j.c)([o.observer],t)}(D.Component),w_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var r=this,e=L.GetSoundtrackDetails(this.props.appid).m_DiscInfo;if(!e||0==e.size)return null;var i=[],a=1;return e.forEach(function(e,t){var n=[];e.trackInfo.forEach(function(e,t){n.push(D.createElement("a",{href:"steam://musicplayer/playappalbum/"+r.props.appid+"/"+a++},D.createElement("div",{className:f_.a.TrackListing,key:"track"+e.displayName},D.createElement("div",{className:f_.a.TrackNumber},t,"."),D.createElement("div",{className:f_.a.TrackName,dangerouslySetInnerHTML:{__html:e.displayName}}),D.createElement("div",{className:f_.a.TrackLength},D.createElement(b_,{seconds:e.durationSeconds})))))}),i.push(D.createElement(D.Fragment,{key:"disc"+t},D.createElement("div",{className:f_.a.Disc},Object(R.f)("#AppDetails_Soundtrack_DiscNumber",t)),D.createElement("div",null,n)))}),D.createElement("div",{className:f_.a.TrackListContainer},i)},Object(j.c)([o.observer],t)}(D.Component),C_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnShowAlbumArtwork=function(){return function(o,s,c,l){return Object(j.b)(this,void 0,void 0,function(){var n,r,t,i,a;return Object(j.e)(this,function(e){switch(e.label){case 0:t=new Promise(function(e,t){n=e,r=t}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,SteamClient.Apps.GetSoundtrackDetails(o.appid)];case 2:return i=e.sent(),[4,Object(_i.b)(D.createElement(B_,{details:l,overview:o,soundtrackDetailsObj:i,window:window,nMaxScreenPercentage:s,onImageLoad:n,onImageError:r},c),window,{promiseRenderComplete:t})];case 3:return e.sent(),[3,5];case 4:return a=e.sent(),console.log(a),console.error("ERROR DISPLAYING ARTWORK"),[3,5];case 5:return[2]}})})}(this.props.overview,.8,null,this.props.details)},t.prototype.CallAppActionFunction=function(e){$l(e,this.props.overview,"selected",100)()},t.prototype.AvailableActionsElements=function(e){var t,n=[];"PlayMusic"==e?(n.push(D.createElement("a",{key:"playAlbumAction",href:"steam://musicplayer/playappalbum/"+this.props.overview.appid},D.createElement(Si.s,{className:f_.a.PlayButton},Object(R.f)("#AppDetails_Soundtrack_PlayAlbum")))),n.push(D.createElement(Si.d,{key:"viewOnDiskAction",className:f_.a.PlayButton,onClick:this.CallAppActionFunction.bind(this,"BrowseLocalFiles")},Object(R.f)("#AppDetails_Soundtrack_ViewOnDisk")))):e&&(t="Install"==e?Object(R.f)("#AppDetails_Soundtrack_DownloadAlbum"):Dc(e),n.push(D.createElement(Si.s,{key:"action",className:f_.a.PlayButton,onClick:this.CallAppActionFunction.bind(this,e)},t)));var r=L.GetSoundtrackDetails(this.props.overview.appid).m_vecAdditionalImageAssetURLs;return r&&0<r.length&&n.push(D.createElement(Si.d,{key:"viewAdditionalArtwork",className:f_.a.PlayButton,onClick:this.OnShowAlbumArtwork},Object(R.f)("#AppDetails_Soundtrack_ViewAdditionalArtwork"))),D.createElement(D.Fragment,null,n,D.createElement("div",{key:"spacerDiv",className:f_.a.SoundtrackButtonDivider}),D.createElement("a",{key:"showInStoreAction",href:"steam://store/"+this.props.overview.appid},D.createElement(Si.d,{key:"showInStoreAction",className:f_.a.PlayButton},Object(R.f)("#AppDetails_Soundtrack_ViewStorePage"))),D.createElement("a",{key:"showSupportAction",href:B.a.BuildSteamURL("HelpAppPage",this.props.overview.appid)},D.createElement(Si.d,{key:"showSupportAction",className:f_.a.PlayButton},Object(R.f)("#AppDetails_Soundtrack_Support"))))},t.prototype.render=function(){var e,t=this,n=Xa.GetAppOverviewByAppID(this.props.overview.optional_parent_app_id);n&&(e=D.createElement("div",{className:f_.a.ParentAppName,onClick:function(){return Qa.NavigateToApp(t.props.overview.optional_parent_app_id)}},D.createElement(co,{app:n,eAssetType:4,className:f_.a.ParentGameIcon}),n.display_name));var r=Ql(this.props.overview,"selected"),i=this.AvailableActionsElements(r);return D.createElement("div",{className:Object(cr.a)(f_.a.MainPanel,f_.a.SoundtrackPanel)},D.createElement("div",{className:f_.a.BackgroundContainer},D.createElement(S_,{className:f_.a.BackgroundBlurArt,appid:this.props.overview.appid})),D.createElement("div",{className:f_.a.SoundtrackContainer},D.createElement("div",{className:f_.a.Header},D.createElement("div",{className:f_.a.AlbumName},this.props.overview.display_name),D.createElement("div",{className:f_.a.ArtistName},D.createElement(g_,{appid:this.props.overview.appid})),D.createElement("div",{className:f_.a.StatsAndParent},D.createElement("div",{className:f_.a.AlbumStats},D.createElement(y_,{appid:this.props.overview.appid})),n&&D.createElement("div",{className:f_.a.ParentGameLink},Object(R.o)("#AppDetails_Soundtrack_ParentAppLink",e)))),D.createElement("div",{className:f_.a.Content},D.createElement("div",{className:f_.a.LeftColumn},D.createElement(S_,{className:f_.a.AlbumArt,appid:this.props.overview.appid}),i),D.createElement("div",{className:f_.a.RightColumn},D.createElement(w_,{appid:this.props.overview.appid})))))},Object(j.c)([E.a],t.prototype,"OnShowAlbumArtwork",null),Object(j.c)([E.a],t.prototype,"CallAppActionFunction",null),Object(j.c)([o.observer],t)}(D.Component);var O_,E_,B_=function(n){function e(e){var t=n.call(this,e)||this;return t.state={visibleImageIndex:0},t}return Object(j.d)(e,n),e.prototype.OnCancel=function(){this.props.closeModal&&this.props.closeModal()},e.prototype.OnOK=function(){this.props.closeModal&&this.props.closeModal()},e.prototype.OnNextAvailableImage=function(){var e=(this.state.visibleImageIndex+1)%this.props.soundtrackDetailsObj.vecAdditionalImageAssetURLs.length;this.setState({visibleImageIndex:e})},e.prototype.render=function(){var e=this.props.window.screen.availHeight*(this.props.nMaxScreenPercentage?this.props.nMaxScreenPercentage:.8),t=this.props.window.screen.availWidth*(this.props.nMaxScreenPercentage?this.props.nMaxScreenPercentage:.8),n="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/apps/"+this.props.overview.appid+"/"+this.props.soundtrackDetailsObj.vecAdditionalImageAssetURLs[this.state.visibleImageIndex]+".jpg";return D.createElement(bi.g,{onEscKeypress:this.OnCancel,className:f_.a.AlbumArtworkModal},D.createElement("div",{className:f_.a.ModalBox},D.createElement("div",{className:f_.a.ArtworkModalContainer},D.createElement("div",{className:f_.a.ArtworkContainer},D.createElement("img",{className:f_.a.ArtworkImage,style:{maxWidth:t,maxHeight:e},src:n,onLoad:this.props.onImageLoad,onError:this.props.onImageError,onClick:this.OnNextAvailableImage})),D.createElement("div",{className:f_.a.ArtworkModalDetails},D.createElement("div",{className:f_.a.Header},D.createElement(Si.s,{className:f_.a.ModalArtCloseButton,onClick:this.OnOK},Object(R.f)("#Generic_Close"))),D.createElement("div",{className:f_.a.ChildrenContainer},this.props.children)))))},Object(j.c)([E.a],e.prototype,"OnCancel",null),Object(j.c)([E.a],e.prototype,"OnOK",null),Object(j.c)([E.a],e.prototype,"OnNextAvailableImage",null),e}(D.Component),A_=n("baii"),I_=n.n(A_),j_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.renderAppDetailSoundtrackDependentChildren=function(e,t,n){var r=[];return n&&(r.push(D.createElement("div",{key:"artist",className:I_.a.Artist},D.createElement(g_,{appid:t.appid}))),r.push(D.createElement("div",{key:"summary",className:I_.a.TracksDetails},D.createElement(y_,{appid:t.appid})))),D.createElement("div",{className:Object(cr.a)(I_.a.AdditionalItem,I_.a.Soundtracks),onClick:function(){return Qa.NavigateToApp(e.unAppID)},key:"key"+e.unAppID},D.createElement(S_,{key:"image",className:I_.a.Image,appid:t.appid}),D.createElement("div",{key:"details",className:I_.a.SoundtrackDetails},D.createElement("div",{key:"title",className:I_.a.Title},e.strName),r))},t.prototype.renderAppDetailsManual=function(e,t){return D.createElement("div",{className:Object(cr.a)(I_.a.AdditionalItem,I_.a.Manual),onClick:function(){window.location.href="steam://openurl_external/"+t.strManualURL}},D.createElement("div",{className:I_.a.Image},D.createElement(co,{className:I_.a.AssetImage,app:e,eAssetType:3})),D.createElement("div",{className:I_.a.Title},Object(R.f)("#AppDetails_AdditionalContent_GameManual")))},t.prototype.render=function(){var t=this,e=this.props.details,n=[];return e.vecMusicAlbums.map(function(e){return n.push(D.createElement(jg,{appid:e.unAppID,renderChildrenFunc:t.renderAppDetailSoundtrackDependentChildren.bind(t,e),key:"key"+e.unAppID}))}),e.strManualURL&&n.push(D.createElement(jg,{appid:e.unAppID,renderChildrenFunc:this.renderAppDetailsManual,key:"manual"})),0==n.length?null:D.createElement(nl,{className:I_.a.SoundtrackSection,label:Object(R.f)("#AppDetails_SectionTitle_AdditionalContent"),rightColumnSection:!0,availableOffline:!0},D.createElement(nl.Body,null,n))},Object(j.c)([o.observer],t)}(D.Component),D_=n("3FWY"),R_=n.n(D_);(E_=O_=O_||{})[E_.k_nAppMappingPriorityLow=75]="k_nAppMappingPriorityLow",E_[E_.k_nAppMappingPriorityDefault=100]="k_nAppMappingPriorityDefault",E_[E_.k_nAppMappingPriorityUserSpecified=250]="k_nAppMappingPriorityUserSpecified";var T_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_bDelayedLoad=!0,e.m_refPortrait=D.createRef(),e.state={bCoverExpanded:!1},e.m_elCoverArt=D.createRef(),e}return Object(j.d)(e,t),e.prototype.componentDidMount=function(){var e=this;this.m_bDelayedLoad=this.props.delayLoad,this.props.delayLoad&&window.setTimeout(function(){e.m_bDelayedLoad=!1},800)},e.prototype.OnImageLoad=function(){this.props.onImageLoad()},e.prototype.OnCoverClicked=function(e){this.props.onCollapseStarted(),this.setState({bCoverExpanded:!0})},e.prototype.OnCoverLeft=function(){this.state.bCoverExpanded&&(this.setState({bCoverExpanded:!1}),this.m_elCoverArt.current.addEventListener("transitionend",this.CoverExpandCleanUp))},e.prototype.CoverExpandCleanUp=function(){this.props.onCollapseComplete(),this.m_elCoverArt.current.removeEventListener("transitionend",this.CoverExpandCleanUp)},e.prototype.OnPortraitContextMenu=function(e){Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:this.m_refPortrait.current.OnChangeArtwork},Dc(this.m_refPortrait.current.is_custom_image?"ClearCustomArtwork":"SetCustomArtwork"))),e)},e.prototype.render=function(){if(this.m_bDelayedLoad)return null;var e="";this.props.overview.GetCanonicalReleaseDate()&&(e=Object(R.p)(this.props.overview.GetCanonicalReleaseDate()));var t,n=this.props.overview.BIsModOrShortcut(),r=!n&&ha.GetSocialMediaData(this.props.overview.appid),i=!n&&ha.GetAssociations(this.props.overview.appid),a=!n&&ha.GetDescriptions(this.props.overview.appid),o=a&&a.strSnippet;if(this.props.overview.compat_mapping_enabled){var s=void 0;switch(this.props.overview.compat_mapping_priority){case O_.k_nAppMappingPriorityUserSpecified:case O_.k_nAppMappingPriorityLow:s="#Steam_Settings_Compat_Launch_Forced";break;case O_.k_nAppMappingPriorityDefault:default:s="#Steam_Settings_Compat_Launch_Whitelisted"}t=D.createElement("div",{className:R_.a.CompatToolContainer},D.createElement("div",{className:R_.a.Left},Object(R.f)("#Steam_Settings_Compat_Launch_Prefix"),D.createElement("div",{className:R_.a.URL},Object(R.f)("#Steam_Settings_Compat_Launch_Name"))),D.createElement("div",{className:R_.a.Right},D.createElement("div",{className:R_.a.MappingToolName},this.props.overview.compat_mapping_tool_name),Object(R.f)(s)))}return D.createElement("div",{className:Object(cr.a)(R_.a.Container,n&&R_.a.ShortcutContainer)},n&&D.createElement("div",{className:R_.a.Shortcut},Object(R.f)("#AppDetails_Shortcut_Explanation",this.props.overview.display_name)),D.createElement("div",{className:R_.a.InnerContainer},D.createElement("div",{ref:this.m_elCoverArt,className:Object(cr.a)(R_.a.Portrait,this.state.bCoverExpanded&&R_.a.Expanded),onContextMenu:this.OnPortraitContextMenu,onMouseLeave:this.OnCoverLeft,onClick:this.OnCoverLeft},D.createElement(co,{ref:this.m_refPortrait,app:this.props.overview,eAssetType:0,className:R_.a.BoxArt,alt:this.props.overview.display_name,onLoad:this.OnImageLoad}),D.createElement("div",{className:R_.a.ZoomInButton,onClick:this.OnCoverClicked},D.createElement(_r.R,null))),!n&&o&&D.createElement("div",{className:Object(cr.a)(R_.a.Description,R_.a.SectionContainer)},D.createElement("div",{className:R_.a.GameDescription},o)),!n&&D.createElement("div",{className:Object(cr.a)(R_.a.Stats,R_.a.SectionContainer)},D.createElement(N_,{className:R_.a.Developers,data:i,association:2,label:"#AppDetails_Developer"}),D.createElement(N_,{className:R_.a.Publishers,data:i,association:1,label:"#AppDetails_Publisher"}),D.createElement(N_,{className:R_.a.Franchises,data:i,association:3,label:"#AppDetails_Franchise"}),D.createElement(M_,{label:Object(R.f)("#AppDetails_ReleaseDate"),strDate:e}),D.createElement(k_,{data:r})),!n&&D.createElement("div",{className:Object(cr.a)(R_.a.FeaturesList,R_.a.SectionContainer)},D.createElement(Is,{overview:this.props.overview,feature:Ue.SinglePlayer,minimode:!1,suppresstooltip:!0}),D.createElement(Is,{overview:this.props.overview,feature:Ue.MultiPlayer,minimode:!1,suppresstooltip:!0}),D.createElement(Is,{overview:this.props.overview,feature:Ue.CoOp,minimode:!1,suppresstooltip:!0}),D.createElement(Is,{overview:this.props.overview,feature:Ue.RemotePlayTogether,minimode:!1,suppresstooltip:!0}),D.createElement(Is,{overview:this.props.overview,feature:Ue.Achievements,minimode:!1,suppresstooltip:!0}),D.createElement(Is,{overview:this.props.overview,feature:Ue.Cloud,minimode:!1,suppresstooltip:!0}),D.createElement(Is,{overview:this.props.overview,feature:Ue.FullControllerSupport,minimode:!1,suppresstooltip:!0}),D.createElement(Is,{overview:this.props.overview,feature:Ue.PartialControllerSupport,minimode:!1,suppresstooltip:!0}),D.createElement(Is,{overview:this.props.overview,feature:Ue.Workshop,minimode:!1,suppresstooltip:!0}),D.createElement(Is,{overview:this.props.overview,feature:Ue.VRSupport,minimode:!1,suppresstooltip:!0}))),t)},Object(j.c)([O.observable],e.prototype,"m_bDelayedLoad",void 0),Object(j.c)([E.a],e.prototype,"OnImageLoad",null),Object(j.c)([E.a],e.prototype,"OnCoverClicked",null),Object(j.c)([E.a],e.prototype,"OnCoverLeft",null),Object(j.c)([E.a],e.prototype,"CoverExpandCleanUp",null),Object(j.c)([E.a],e.prototype,"OnPortraitContextMenu",null),Object(j.c)([o.observer],e)}(D.Component);function M_(e){return e.strDate?D.createElement("div",{className:R_.a.Release},D.createElement("div",{className:R_.a.Label},e.label),D.createElement("div",{className:R_.a.Date},e.strDate)):null}var N_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.GetURL=function(e,t,n){return t&&0!=t.length?t:B.a.ResolveURL("StoreGameSearchPage")+"?"+n+"="+encodeURIComponent(e)},t.prototype.render=function(){if(!this.props.data)return null;var e,t=void 0;switch(this.props.association){case 2:t=this.props.data.rgDevelopers,e="developer";break;case 1:t=this.props.data.rgPublishers,e="publisher";break;case 3:t=this.props.data.rgFranchises,e="franchise"}if(0==t.length)return null;for(var n=[],r=0;r<t.length;r++){var i=t[r],a=this.GetURL(i.strName,i.strURL,e);n.push(D.createElement("a",{key:i.strName,className:R_.a.Name,href:a},i.strName))}return D.createElement("div",{className:Object(cr.a)(this.props.className,R_.a.AssociationList)},D.createElement("div",{className:R_.a.Label},Object(R.f)(this.props.label)),D.createElement("div",{className:R_.a.Association},n))},Object(j.c)([o.observer],t)}(D.Component);function L_(t){if(!t.data)return null;var e=t.data.find(function(e){return e.eType==t.type});if(!e)return null;var n=Object(R.f)("#AppDetails_SocialMediaLink",e.strName,Object(R.f)("#AppDetails_SocialMediaType_"+t.type));return D.createElement("div",{className:R_.a.Account},D.createElement("a",{className:R_.a.Link,href:e.strURL},D.createElement(Co.d,{className:R_.a.Icon,toolTipContent:n,nDelayShowMS:0,bDisabled:t.verbose},function(e){switch(e){case 7:return D.createElement(_r.E,null);case 5:return D.createElement(_r.zb,null);case 4:return D.createElement(_r.Ab,null);case 6:return D.createElement(_r.Kb,null)}return null}(t.type)),t.verbose&&D.createElement("span",{className:R_.a.LinkText},n)))}var k_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){if(!this.props.data)return null;for(var e=[],t=0,n=[7,5,4,6];t<n.length;t++){var r=n[t];e.push(D.createElement(L_,{key:r,data:this.props.data,type:r,verbose:1==this.props.data.length}))}return 0==e.length?null:D.createElement("div",{className:R_.a.SocialMedia},e)},t}(D.Component),F_=n("JO0f"),P_=n.n(F_),G_=function(n){function e(e){var t=n.call(this,e)||this;return t.m_contentRef=D.createRef(),t.m_resizeObserver=new ResizeObserver(t.OnResize),t.state={gameInfoHeight:0,bBoxArtExpanded:!1},t}return Object(j.d)(e,n),e.prototype.componentDidMount=function(){this.m_contentRef.current&&this.m_resizeObserver.observe(this.m_contentRef.current)},e.prototype.componentWillUnmount=function(){this.m_resizeObserver.disconnect()},e.prototype.OnResize=function(){this.setBoxHeight()},e.prototype.OnImageLoad=function(){this.setBoxHeight()},e.prototype.onCollapseStarted=function(){this.setState({bBoxArtExpanded:!0})},e.prototype.onCollapseComplete=function(){this.setState({bBoxArtExpanded:!1})},e.prototype.setBoxHeight=function(){this.m_contentRef.current&&this.state.gameInfoHeight!=this.m_contentRef.current.children[0].scrollHeight&&this.setState({gameInfoHeight:this.m_contentRef.current.children[0].scrollHeight})},e.prototype.render=function(){var e=this.props.expand?P_.a.AppDetailsExpanded:P_.a.AppDetailsCollapsed,t=this.props.expand?this.state.gameInfoHeight:0;return D.createElement("div",{ref:this.m_contentRef,className:Object(cr.a)(P_.a.AppGameInfoContainer,e,this.props.suppressTransition?P_.a.SuppressTransition:"",P_.a.Glassy,this.state.bBoxArtExpanded&&P_.a.BoxArtExpanded),style:{height:t+"px"}},D.createElement(T_,Object(j.a)({},this.props,{onImageLoad:this.OnImageLoad,delayLoad:!this.props.expand,onCollapseStarted:this.onCollapseStarted,onCollapseComplete:this.onCollapseComplete})),D.createElement("div",{className:P_.a.GameInfoShadow}))},Object(j.c)([E.a],e.prototype,"OnResize",null),Object(j.c)([E.a],e.prototype,"OnImageLoad",null),Object(j.c)([E.a],e.prototype,"onCollapseStarted",null),Object(j.c)([E.a],e.prototype,"onCollapseComplete",null),Object(j.c)([o.observer],e)}(D.Component),U_=n("sGcG"),x_=n.n(U_),z_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnClick=function(e){var t=this.props.screenshot,n="https://steamloopback.host/"+t.strUrl,r=t.strCaption?t.strCaption:Object(R.f)("#AppDetails_Screenshot"),i=D.createElement(D.Fragment,null,t.strCaption&&D.createElement("div",{className:x_.a.Caption},Object(R.f)("#AppDetails_Screenshot_Caption",t.strCaption)),D.createElement("div",{className:x_.a.Date},Object(R.f)("#AppDetails_Screenshot_Date",Object(R.p)(t.nCreated))),D.createElement("div",{className:x_.a.Dimensions},Object(R.f)("#AppDetails_Screenshot_Dimensions",t.nWidth,t.nHeight)));return eb(n,r,Object(Fa.m)(e.currentTarget),.8,i,void 0,void 0,t)},t.prototype.RenderHover=function(){return D.createElement(H_,{screenshot:this.props.screenshot})},t.prototype.OnShareScreenshot=function(e){var t=Object(Fa.n)(e);Jf(this.props.screenshot,t),e.stopPropagation(),e.preventDefault()},t.prototype.OnManageScreenshot=function(){var e,t=this.props.screenshot.nAppID;t&&(e="steam://open/screenshots/"+t,window.location.href=e)},t.prototype.OnBrowseScreenshot=function(){var e=this.props.screenshot.nAppID;e&&SteamClient.Apps.BrowseScreenshotForApp(e,this.props.screenshot.hHandle)},t.prototype.DeleteScreenshot=function(e){var t=this,n=Object(Fa.n)(e),r=D.createElement(bi.c,{strTitle:Object(R.f)("#DeleteScreenshot_Title"),strDescription:Object(R.f)("#DeleteScreenshot_Single"),onOK:function(){!function(n,r){Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,SteamClient.Apps.DeleteLocalScreenshot(n.nAppID,n.hHandle,!1)];case 1:return 1!=e.sent()&&(t=D.createElement(bi.e,{strTitle:Object(R.f)("#CustomArt_ErrorTitle"),strDescription:Object(R.f)("#DeleteScreenshot_Failed")}),Object(_i.d)(t,r,{strTitle:Object(R.f)("#CustomArt_ErrorTitle")})),[2]}})})}(t.props.screenshot,n)},strOKButtonText:Object(R.f)("#Generic_Delete")});Object(_i.d)(r,n,{strTitle:Object(R.f)("#DeleteScreenshot_Title")})},t.prototype.ShowContextMenu=function(e){var t=[];C.d(A.c.LAUNCHER_TYPE)?t.push(D.createElement(Hi.d,{key:"browse",onSelected:this.OnBrowseScreenshot},Object(R.f)("#ContextMenu_BrowseScreenshot"))):(t.push(D.createElement(Hi.d,{key:"share",onSelected:this.OnShareScreenshot},Object(R.f)("#Generic_Share"))),t.push(D.createElement(Hi.d,{key:"manage",onSelected:this.OnManageScreenshot},Object(R.f)("#ContextMenu_ManageScreenshots"))));var n=D.createElement(Hi.c,null,t,D.createElement(Hi.d,{onSelected:this.DeleteScreenshot},Object(R.f)("#Generic_Delete")));Object(zi.a)(n,e)},t.prototype.render=function(){var e=this.props,t=e.screenshot,n=e.onClick,r=e.className,i=e.sizeAxis,a=Object(j.f)(e,["screenshot","onClick","className","sizeAxis"]),n=n||this.OnClick,o=Object(cr.a)(x_.a.ClickableScreenshotImg,"width"==i?x_.a.UseWidth:x_.a.UseHeight);return D.createElement(zc,Object(j.a)({},a,{className:Object(cr.a)(r,x_.a.ClickableScreenshot),renderHover:this.RenderHover,onClick:n,onContextMenu:this.ShowContextMenu}),D.createElement("img",{className:o,src:"https://steamloopback.host/"+t.strUrl}),!C.d(A.c.LAUNCHER_TYPE)&&D.createElement(Zf,{className:x_.a.ScreenshotShareIcon,onClick:this.OnShareScreenshot}))},Object(j.c)([E.a],t.prototype,"OnClick",null),Object(j.c)([E.a],t.prototype,"RenderHover",null),Object(j.c)([E.a],t.prototype,"OnShareScreenshot",null),Object(j.c)([E.a],t.prototype,"OnManageScreenshot",null),Object(j.c)([E.a],t.prototype,"OnBrowseScreenshot",null),Object(j.c)([E.a],t.prototype,"DeleteScreenshot",null),Object(j.c)([E.a],t.prototype,"ShowContextMenu",null),t}(D.Component),H_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement(Qc,{className:x_.a.Hover},D.createElement("img",{className:x_.a.Screenshot,src:"https://steamloopback.host/"+this.props.screenshot.strUrl}),this.props.screenshot.strCaption&&D.createElement("div",{className:x_.a.Caption},this.props.screenshot.strCaption),D.createElement("div",{className:x_.a.Date},Object(R.p)(this.props.screenshot.nCreated)))},t}(D.Component);var W_,V_,q_=n("aRzR"),Y_=n.n(q_),Q_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OpenScreenshots=function(){var e="steam://open/screenshots/"+this.props.overview.gameid;window.location.href=e},t.prototype.OpenInGameSettings=function(){window.location.href="steam://settings/ingame"},t.prototype.KeyExtractor=function(e){return e.nAppID+"_"+e.hHandle},t.prototype.RenderScreenshot=function(e){var t="Screenshot_"+this.KeyExtractor(e);return D.createElement(z_,{className:Y_.a.Thumbnail,key:t,strKey:t,sizeAxis:"width",screenshot:e})},t.prototype.render=function(){var t=this;if(0==this.props.details.nScreenshots)return D.createElement(nl,{feature:3,className:Y_.a.ScreenshotsSection,label:Object(R.f)("#AppDetails_SectionTitle_Screenshots"),rightColumnSection:!0,availableOffline:!0},D.createElement(nl.Body,null,D.createElement("div",{className:Y_.a.NoneTaken},Object(R.f)("#AppDetails_NoScreenshots",Jr.settings.InGameOverlayScreenshotHotKey.strDisplayString)," "),D.createElement("div",{className:Y_.a.InstructionText},Object(R.f)("#AppDetails_HowToScreenshot",Jr.settings.InGameOverlayScreenshotHotKey.strDisplayString)," "),D.createElement(sl,{onClick:this.OpenInGameSettings},Object(R.f)("#AppDetails_ChangeMyScreenshotKey"))));var e=this.props.details.vecScreenShots.slice(0,4).map(function(e){return t.RenderScreenshot(e)});return D.createElement(nl,{feature:3,className:Y_.a.ScreenshotsSection,label:Object(R.f)("#AppDetails_SectionTitle_Screenshots"),rightColumnSection:!0,availableOffline:!0},D.createElement(nl.Body,null,D.createElement("div",{className:Y_.a.Screenshots},e),!C.d(A.c.LAUNCHER_TYPE)&&D.createElement(sl,{onClick:this.OpenScreenshots},Object(R.m)("#AppDetails_ManageMyScreenshot",this.props.details.nScreenshots))))},Object(j.c)([E.a],t.prototype,"OpenScreenshots",null),Object(j.c)([E.a],t.prototype,"KeyExtractor",null),Object(j.c)([E.a],t.prototype,"RenderScreenshot",null),Object(j.c)([o.observer],t)}(D.Component);(V_=W_=W_||{})[V_.Millis=1]="Millis",V_[V_.Seconds=1e3]="Seconds",V_[V_.Minutes=6e4]="Minutes",V_[V_.Hours=36e5]="Hours",V_[V_.Days=864e5]="Days";var Z_,K_,J_,X_,$_=n("ABLY"),ev=n.n($_);(K_=Z_=Z_||{})[K_.Neutral=0]="Neutral",K_[K_.Up=1]="Up",K_[K_.Down=2]="Down",(X_=J_=J_||{})[X_.Default=0]="Default",X_[X_.ReviseQuery=1]="ReviseQuery",X_[X_.ReviseEdit=2]="ReviseEdit";var tv=function(n){function e(e){var t=n.call(this,e)||this;return t.m_textInput=D.createRef(),t.m_languageSelect=D.createRef(),t.m_rgVisibilityOptions=[{data:!0,label:Object(R.f)("#WriteReview_Dialog_Public")},{data:!1,label:Object(R.f)("#WriteReview_Dialog_Friends")}],e.prevReview?t.state={bShowForm:!0,bShowOptions:!1,bVoteUp:e.prevReview.voted_up,bVoteDown:!e.prevReview.voted_up,bAllowComments:!e.prevReview.comments_disabled,bReceivedCompensation:e.prevReview.received_compensation,strError:"",bRequestInProgress:!1,bIsPublic:e.prevReview.is_public}:t.state={bShowForm:t.props.eReviewVote==Z_.Up,bShowOptions:t.props.eReviewVote==Z_.Down,bVoteUp:t.props.eReviewVote==Z_.Up,bVoteDown:t.props.eReviewVote==Z_.Down,bAllowComments:!1,bReceivedCompensation:!1,strError:"",bRequestInProgress:!1,bIsPublic:!0},t.m_appinfo=b.a.GetAppInfo(e.appid),t}return Object(j.d)(e,n),e.prototype.PostReview=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return""==this.m_textInput.current.value?(this.setState({strError:Object(R.f)("#WriteReview_Dialog_NoTextError"),bRequestInProgress:!1}),[2]):(this.setState({strError:"",bRequestInProgress:!0}),this.props.prevReview?((t=x.b.Init(cf)).Body().set_recommendationid(this.props.prevReview.recommendationid),t.Body().set_review_text(this.m_textInput.current.value),t.Body().set_voted_up(this.state.bVoteUp),t.Body().set_is_public(this.state.bIsPublic),t.Body().set_language(this.props.prevReview.language),t.Body().set_received_compensation(this.state.bReceivedCompensation),t.Body().set_comments_disabled(!this.state.bAllowComments),[4,of.Update(ff.CMInterface.GetServiceTransport(),t)]):[3,2]);case 1:return e.sent(),this.setState({strError:"",bRequestInProgress:!1}),this.props.onSuccess&&this.props.onSuccess(this.state.bVoteUp),this.CloseDialog(!0),[3,3];case 2:n=A.c.STORE_BASE_URL+"friends/recommendgame",(r=new FormData).append("appid",this.props.appid.toString()),r.append("comment",this.m_textInput.current.value),r.append("rated_up",String(this.state.bVoteUp)),r.append("is_public",String(this.state.bIsPublic)),r.append("disable_comments",String(!this.state.bAllowComments)),r.append("received_compensation",String(this.state.bReceivedCompensation)),r.append("steamworksappid",String(this.props.appid)),P.a.post(n,r,{withCredentials:!0}).then(function(e){var t;e.data.success?(i.props.onSuccess&&i.props.onSuccess(i.state.bVoteUp),i.CloseDialog(!0)):(t=e.data.strError?e.data.strError:Object(R.f)("#WriteReview_Dialog_GenericError"),i.setState({strError:t,bRequestInProgress:!1}))}).catch(function(e){console.log(e),i.setState({strError:Object(R.f)("#WriteReview_Dialog_GenericError"),bRequestInProgress:!1})}),e.label=3;case 3:return[2]}})})},e.prototype.CloseDialog=function(e){this.props.closeModal&&this.props.closeModal(e)},e.prototype.OnVoteUp=function(e){e.stopPropagation(),e.preventDefault(),this.state.bVoteUp||this.setState({bShowForm:!0,bShowOptions:!1,bVoteUp:!0,bVoteDown:!1})},e.prototype.OnVoteDown=function(e){e.stopPropagation(),e.preventDefault(),this.state.bVoteDown||this.setState({bShowOptions:!0,bShowForm:!1,bVoteUp:!1,bVoteDown:!0})},e.prototype.OnSupportClick=function(e){this.CloseDialog(),B.a.NavigateToSteamURL("HelpAppPage",this.props.appid)},e.prototype.OnAddReview=function(e){e.stopPropagation(),e.preventDefault(),this.setState({bShowOptions:!1,bShowForm:!0})},e.prototype.OnSelectVisiblity=function(e){this.setState({bIsPublic:e.data})},e.prototype.GetOptions=function(){return D.createElement("div",{className:ev.a.OptionsContainer},D.createElement("div",{className:ev.a.LeftContainer},D.createElement("button",{className:ev.a.OptionButton,onClick:this.OnSupportClick},D.createElement(_r.ib,{className:ev.a.OptionSvg}),D.createElement("div",{className:ev.a.ButtonText}," ",Object(R.f)("#WriteReview_Dialog_GetSupport_Btn")," ")),D.createElement("div",{className:ev.a.OptionDesc},Object(R.f)("#WriteReview_Dialog_GetSupport_Desc"))),D.createElement("div",{className:ev.a.RightContainer},D.createElement("button",{className:ev.a.OptionButton,onClick:this.OnAddReview},D.createElement(_r.Hb,{className:ev.a.OptionSvg}),D.createElement("div",{className:ev.a.ButtonText}," ",Object(R.f)("#WriteReview_Dialog_AddReview_Btn")," ")),D.createElement("div",{className:ev.a.OptionDesc},Object(R.f)("#WriteReview_Dialog_AddReview_Desc"))))},e.prototype.GetLanguageOptionList=function(){(A.c.SUPPORTED_LANGUAGES||[]).forEach(function(e){(void 0).push(D.createElement("option",{value:e.value},e.localizedName))})},e.prototype.GetReviewForm=function(){var t=this,e=A.c.CHAT_BASE_URL+"comment/recommendation/formattinghelp";return A.c.IN_CLIENT&&(e="steam://openurl_external/"+e),D.createElement("div",{className:ev.a.FormContainer},D.createElement("div",{className:ev.a.DescribeGame},Object(R.o)("#WriteReview_Dialog_ReviewInstructions",D.createElement("a",{href:"https://support.steampowered.com/kb_article.php?ref=4045-USHJ-3810"},Object(R.f)("#WriteReview_Dialog_ReviewInstructions_Link")))),D.createElement("textarea",{className:ev.a.ReviewTextArea,ref:this.m_textInput,defaultValue:this.props.prevReview?this.props.prevReview.review:""}),D.createElement("a",{className:ev.a.WebLink,href:e},Object(R.f)("#WriteReview_Dialog_FormattingHelp")),D.createElement("div",{className:ev.a.ReviewSettingsContainer},D.createElement("div",{className:ev.a.ReviewSettingsRow},D.createElement("span",null,Object(R.f)("#WriteReview_Dialog_Visibility")),D.createElement(Si.h,{strClassName:ev.a.VisibilityMenu,rgOptions:this.m_rgVisibilityOptions,selectedOption:this.state.bIsPublic,onChange:this.OnSelectVisiblity}),D.createElement("div",{className:ev.a.ReviewSettingsChecks},!C.d(A.c.LAUNCHER_TYPE)&&D.createElement(Si.e,{key:"allow_comments",checked:this.state.bAllowComments,onChange:function(e){return t.setState({bAllowComments:e})},classname:ev.a.CommentCheckbox,label:Object(R.f)("#WriteReview_Dialog_AllowComments")}),D.createElement(Co.d,{toolTipContent:Object(R.f)("#WriteReview_Dialog_FreeDisclaimer_Tooltip"),strTooltipClassname:ev.a.FreeDisclaimerTooltip},D.createElement(Si.e,{key:"received_compensation",checked:this.state.bReceivedCompensation,onChange:function(e){return t.setState({bReceivedCompensation:e})},classname:ev.a.FreeCheckbox,label:Object(R.f)("#WriteReview_Dialog_FreeDisclaimer"),tooltip:Object(R.f)("#WriteReview_Dialog_FreeDisclaimer_Tooltip")}))))))},e.prototype.render=function(){var e=null,t=null,n=null;this.state.bShowOptions&&(e=this.GetOptions()),this.state.bShowForm&&(t=this.GetReviewForm()),this.state.strError&&(n=D.createElement("div",{className:ev.a.Error},this.state.strError));var r=nv(this.props.appid,ev.a.RatingContainer,this.props.nPlaytime,this.state.bVoteUp,this.OnVoteUp,this.state.bVoteDown,this.OnVoteDown,null,this.props.prevReview?J_.ReviseEdit:J_.Default);return D.createElement(bi.c,{strTitle:Object(R.f)("#WriteReview_Dialog_Title"),strOKButtonText:this.props.prevReview?Object(R.f)("#WriteReview_Dialog_ReviseReview"):Object(R.f)("#WriteReview_Dialog_PostReview"),strCancelButtonText:Object(R.f)("#Button_Close"),onOK:this.PostReview,bAllowFullSize:!0,bDisableBackgroundDismiss:!0,onCancel:this.CloseDialog,bOKDisabled:!this.state.bShowForm||this.state.bRequestInProgress},D.createElement("div",{className:ev.a.WriteReviewContainer},D.createElement("div",{className:ev.a.Header},this.m_appinfo.name),r,e,n,t))},Object(j.c)([O.observable],e.prototype,"m_appinfo",void 0),Object(j.c)([E.a],e.prototype,"PostReview",null),Object(j.c)([E.a],e.prototype,"CloseDialog",null),Object(j.c)([E.a],e.prototype,"OnVoteUp",null),Object(j.c)([E.a],e.prototype,"OnVoteDown",null),Object(j.c)([E.a],e.prototype,"OnSupportClick",null),Object(j.c)([E.a],e.prototype,"OnAddReview",null),Object(j.c)([E.a],e.prototype,"OnSelectVisiblity",null),e}(D.Component);function nv(e,t,n,r,i,a,o,s,c){var l=Xa.GetAppOverviewByAppID(e).BIsApplicationOrTool(),u=function(e){if(120<=e){var t=Math.floor(e/60);return Object(R.f)("#Played_Hours",t)}return Object(R.f)("#Played_Minutes",e)}(n),p=l?Object(R.f)("#WriteReview_Dialog_Playtime_Software",u):Object(R.f)("#WriteReview_Dialog_Playtime",u),d=l?Object(R.f)("#WriteReview_Dialog_RecommendGame_Software"):Object(R.f)("#WriteReview_Dialog_RecommendGame");c==J_.ReviseQuery?(p=Object(R.f)("#WriteReview_Dialog_Playtime_Revise",u),d=Object(R.f)("#WriteReview_Dialog_RecommendGame_Revise")):c==J_.ReviseEdit&&(p=Object(R.f)("#WriteReview_Dialog_Playtime_Revise",u));var m=c!=J_.ReviseQuery?ev.a.ReviewThumbButton:ev.a.CompactThumbButton;return D.createElement("div",{className:Object(cr.a)(ev.a.RatingContainer,t)},D.createElement("div",{className:ev.a.LeftContainer},D.createElement("div",{className:ev.a.Playtime},p),D.createElement("div",{className:ev.a.RecommendGame},d)),D.createElement("div",{className:ev.a.RightContainer},D.createElement("button",{className:Object(cr.a)(m,r&&ev.a.Selected),title:Object(R.f)("#ChatEntryButton_Submit"),onClick:i},c!=J_.ReviseQuery&&D.createElement(_r.vb,{className:Object(cr.a)(ev.a.ThumbIcon,r&&ev.a.Selected,ev.a.Up)}),D.createElement("span",null,Object(R.f)("#WriteReview_Dialog_Yes"))),D.createElement("button",{className:Object(cr.a)(m,a&&ev.a.Selected),title:Object(R.f)("#WriteReview_Dialog_No"),onClick:o},c!=J_.ReviseQuery&&D.createElement(_r.vb,{className:Object(cr.a)(ev.a.ThumbIcon,a&&ev.a.Selected,ev.a.Down)}),D.createElement("span",null,Object(R.f)("#WriteReview_Dialog_No"))),s&&D.createElement("button",{className:Object(cr.a)(m,ev.a.NoIcon),title:Object(R.f)("#WriteReview_Dialog_Delay"),onClick:s},D.createElement("span",null,Object(R.f)("#WriteReview_Dialog_Delay")))))}var rv=n("ImSN"),iv=n.n(rv),av=n("MSEM"),ov=n.n(av),sv=D.lazy(function(){return n.e(1).then(n.bind(null,"RsgW")).then(function(e){return{default:e.AwardIconList}})}),cv=function(n){function e(e){var t=n.call(this,e)||this;return t.storedSettings=null,t}return Object(j.d)(e,n),e.prototype.componentDidMount=function(){this.FetchRoamingStorageState(),ff.GetReview(this.props.details.unAppID,!0)},Object.defineProperty(e.prototype,"ReviewDetails",{get:function(){return ff.GetStoredReview(this.props.details.unAppID)},enumerable:!1,configurable:!0}),e.prototype.componentDidUpdate=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return this.props.details.unAppID==t.details.unAppID?[2]:[4,this.FetchRoamingStorageState()];case 1:return e.sent(),[2]}})})},e.prototype.FetchRoamingStorageState=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:t={rtDismissedReviseReviewReminder:0},this.storedSettings=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(new Me).GetObject(this.GetStorageKey)];case 2:return n=e.sent(),console.debug("got roaming settings: %s",JSON.stringify(n)),this.storedSettings=n,[3,4];case 3:return(r=e.sent()).message&&"Not found"==r.message?this.storedSettings=t:console.error("Could not fetch review roaming storage:",r),[3,4];case 4:return[2]}})})},Object.defineProperty(e.prototype,"GetStorageKey",{get:function(){return"library.review."+this.props.overview.appid},enumerable:!1,configurable:!0}),e.prototype.NavigateToReviewPage=function(){B.a.NavigateToSteamURL("RecommendGame",this.props.details.unAppID)},e.prototype.IgnoreStaleReview=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return this.storedSettings.rtDismissedReviseReviewReminder=Date.now()/1e3,[4,this.StoreSettings()];case 1:return e.sent(),[2]}})})},e.prototype.UnignoreStaleReview=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return this.storedSettings.rtDismissedReviseReviewReminder=0,[4,this.StoreSettings()];case 1:return e.sent(),[2]}})})},e.prototype.StoreSettings=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(new Me).StoreObject(this.GetStorageKey,this.storedSettings)];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),console.error("could not store roaming storage:",t),[3,3];case 3:return[2]}})})},e.prototype.RenderContextMenu=function(){if(Object(w.a)(null!==this.storedSettings,"Illegal state, stored settings must be nonnull"),!this.ReviewDetails)return null;var e=this.BRevisableReview,t=(D.createElement(Hi.d,{onSelected:this.IgnoreStaleReview},Object(R.f)("#AppDetails_Review_Ignore_Stale_Reviews")),D.createElement(Hi.d,{onSelected:this.UnignoreStaleReview},Object(R.f)("#AppDetails_Review_Unignore_Stale_Reviews")));return D.createElement(Hi.c,null,null,e?null:t)},e.prototype.BReviewedBeforePlayingMuch=function(){return!Object(zp.isNullOrUndefined)(this.ReviewDetails.playtime_at_review)&&0!=this.ReviewDetails.playtime_at_review&&this.ReviewDetails.playtime_at_review<+W_.Hours/W_.Minutes},Object.defineProperty(e.prototype,"BGaveItASolidEffort",{get:function(){return this.props.details.nPlaytimeForever>3*W_.Hours/W_.Minutes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BPlayedTooLittleToPromptReview",{get:function(){return this.props.details.nPlaytimeForever<10},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BRevisableReview",{get:function(){return!!this.ReviewDetails&&(!Object(zp.isNullOrUndefined)(this.ReviewDetails.playtime_at_review)&&0!=this.ReviewDetails.playtime_at_review&&(this.BReviewedBeforePlayingMuch()&&this.BGaveItASolidEffort&&!this.storedSettings.rtDismissedReviseReviewReminder))},enumerable:!1,configurable:!0}),e.prototype.ShowWriteRevewDialog=function(e,t){var n=this;switch(t){case Z_.Up:SteamClient.Stats.RecordActivationEvent("AppDetailsReviewSection","PositiveClicked");break;case Z_.Down:SteamClient.Stats.RecordActivationEvent("AppDetailsReviewSection","NegativeClicked");break;case Z_.Neutral:SteamClient.Stats.RecordActivationEvent("AppDetailsReviewSection","NeutralClicked")}var r=Object(R.f)("#WriteReview_Dialog_Title");Object(_i.b)(D.createElement(tv,{ownerWindow:Object(Fa.n)(e),steamID:this.props.details.strOwnerSteamID,appid:this.props.overview.appid,nPlaytime:this.props.overview.minutes_playtime_forever,eReviewVote:t,onSuccess:function(e){SteamClient.Stats.RecordActivationEvent("AppDetailsReviewSection",e?"PositiveReviewPosted":"NegativeReviewPosted"),ff.GetReview(n.props.overview.appid,!0)},closeModal:this.OnCancelPostReview}),Object(Fa.n)(e),{strTitle:r})},e.prototype.ShowEditRevewDialog=function(e){var t=this;SteamClient.Stats.RecordActivationEvent("AppDetailsReviewSection","EditClicked");var n=Object(R.f)("#WriteReview_Dialog_Title");Object(_i.b)(D.createElement(tv,{ownerWindow:Object(Fa.n)(e),steamID:this.props.details.strOwnerSteamID,appid:this.props.overview.appid,nPlaytime:this.props.overview.minutes_playtime_forever,prevReview:this.ReviewDetails,eReviewVote:this.ReviewDetails.voted_up?Z_.Up:Z_.Down,onSuccess:function(e){SteamClient.Stats.RecordActivationEvent("AppDetailsReviewSection",e?"PositiveReviewPosted":"NegativeReviewPosted"),ff.GetReview(t.props.overview.appid,!0)},closeModal:this.OnCancelPostReview}),Object(Fa.n)(e),{strTitle:n})},e.prototype.OnCancelPostReview=function(e){e||SteamClient.Stats.RecordActivationEvent("AppDetailsReviewSection","ReviewCanceled")},e.prototype.render=function(){var t=this;if(8&this.props.overview.app_type)return null;if(this.BPlayedTooLittleToPromptReview&&!this.ReviewDetails)return null;if(null===this.storedSettings)return console.debug("skipped review render, waiting for roaming storage to initialize"),D.createElement("div",{className:iv.a.section},D.createElement(Jc,{label:Object(R.f)("#AppDetails_Review_YourReview")}),D.createElement(Pi.a,{size:"xlarge",position:"center"}));var e,n,r,i,a,o,s,c,l,u,p=this.props.overview.BIsApplicationOrTool(),d=lu(this.props.details.nPlaytimeForever),m=p?Object(R.f)("#AppDetails_Review_PlayedForTime_Software",d):Object(R.f)("#AppDetails_Review_PlayedForTime",d);return u=this.ReviewDetails?(r=this.BRevisableReview?(e=lu(this.props.details.nPlaytimeForever-this.ReviewDetails.playtime_at_review),n=p?Object(R.f)("#AppDetails_Review_AdditionalPlaytime_Software",e):Object(R.f)("#AppDetails_Review_AdditionalPlaytime",e),D.createElement("div",{className:ov.a.ReviewReminderBox},D.createElement("div",{className:ov.a.ReviewReminderBoxContent},D.createElement("div",{className:ov.a.AdditionalPlaytimeReminder},n),D.createElement("div",{className:ov.a.ChangedYourMind},Object(R.f)("#AppDetails_Review_ChangedYourMind")),D.createElement(ol,{className:ov.a.EditMyReview,onClick:this.ShowEditRevewDialog},Object(R.f)("#AppDetails_Review_ViewOrEdit"))),D.createElement(_r.Ib,{className:ov.a.ExitButton,onClick:this.IgnoreStaleReview}))):null,i=lu(this.ReviewDetails.playtime_at_review),a=p?Object(R.f)("#AppDetails_Review_PlaytimeAtReview_Software",i):Object(R.f)("#AppDetails_Review_PlaytimeAtReview",i),o=D.createElement(nl.Highlight,{className:ov.a.ReviewMetadata,onClick:this.ShowEditRevewDialog},this.ReviewDetails.voted_up?D.createElement(_r.vb,{className:Object(cr.a)(ov.a.ReviewIcon,ov.a.ReviewIconThumbsUp,ov.a.ReviewIconThumbsUpColor)}):D.createElement("div",{className:Object(cr.a)(ov.a.ReviewIcon,ov.a.ReviewIconThumbsDownBox)},D.createElement(_r.vb,{className:Object(cr.a)(ov.a.ReviewIconThumbsDown,ov.a.ThumbsDown,ov.a.ReviewIconThumbsDownColor)})),D.createElement("div",{className:ov.a.ReviewDescription},D.createElement("div",{className:ov.a.ReviewDescriptionRecommended},this.ReviewDetails.voted_up?Object(R.f)("#AppDetails_Review_Recommended"):Object(R.f)("#AppDetails_Review_NotRecommended")),D.createElement("div",{className:ov.a.PlayedForTime},a))),s=null,this.ReviewDetails.reactions.length&&(s=D.createElement(sv,{reactions:this.ReviewDetails.reactions})),c=!Object(C.d)(A.c.LAUNCHER_TYPE),l=new sb({text:this.ReviewDetails.review}),D.createElement("div",{className:ov.a.ReviewPresentGroup},r,D.createElement(Cu,{pxOverflowHeight:200,classNameWhenHidden:ov.a.ReviewText,classNameWhenExpanded:Object(cr.a)(ov.a.ReviewText,ov.a.ReviewTextExpanded)},D.createElement("div",{className:ov.a.ReviewTextContainer}," ",l.render())),D.createElement("div",null,D.createElement("div",{className:ov.a.CommentsGroup,onClick:this.NavigateToReviewPage},D.createElement("div",{className:ov.a.CommentsContainer},D.createElement(_r.wb,{className:ov.a.UpVotesIcon}),D.createElement("div",{className:ov.a.CommentsLabel},Object(R.f)("#AppDetails_Review_UpVotes")),D.createElement("div",{className:ov.a.CommentCount},this.ReviewDetails.votes_up)),!C.d(A.c.LAUNCHER_TYPE)&&D.createElement("div",{className:ov.a.CommentsContainer},D.createElement(_r.q,{className:ov.a.CommentIcon}),D.createElement("div",{className:ov.a.CommentsLabel},Object(R.f)("#AppDetails_Review_Comments")),D.createElement("div",{className:ov.a.CommentCount},this.ReviewDetails.comment_count)))),s,D.createElement("div",{className:ov.a.ButtonsGroup},D.createElement(ll,{onClick:this.ShowEditRevewDialog},Object(R.f)("#AppDetails_Review_ViewOrEdit")),c&&D.createElement(sl,{onClick:function(){B.a.NavigateToSteamURL("CommunityRecommendations")}},Object(R.f)("#AppDetails_Review_ViewAll"))))):(o=null,D.createElement(D.Fragment,null,D.createElement("div",{className:ov.a.WriteReview},D.createElement("div",{className:ov.a.PlayedForTime},m),D.createElement("div",{className:Object(cr.a)(ov.a.VoteUpDownContainer)},D.createElement(ul,{onClick:function(e){return t.ShowWriteRevewDialog(e,Z_.Neutral)}},Object(R.f)("#AppDetails_Review_WriteReview",this.props.overview.display_name)))),D.createElement(sl,{onClick:function(){B.a.NavigateToSteamURL("CommunityRecommendations")}},Object(R.f)("#AppDetails_Review_ViewAll")))),D.createElement(nl,{feature:3,className:ov.a.Container,label:Object(R.f)("#AppDetails_Review_YourReview"),highlight:o,rightColumnSection:!0},D.createElement(nl.Body,null,u))},Object(j.c)([O.observable],e.prototype,"storedSettings",void 0),Object(j.c)([O.computed],e.prototype,"ReviewDetails",null),Object(j.c)([E.a],e.prototype,"FetchRoamingStorageState",null),Object(j.c)([E.a],e.prototype,"NavigateToReviewPage",null),Object(j.c)([E.a],e.prototype,"IgnoreStaleReview",null),Object(j.c)([E.a],e.prototype,"UnignoreStaleReview",null),Object(j.c)([E.a],e.prototype,"StoreSettings",null),Object(j.c)([E.a],e.prototype,"RenderContextMenu",null),Object(j.c)([E.a],e.prototype,"ShowWriteRevewDialog",null),Object(j.c)([E.a],e.prototype,"ShowEditRevewDialog",null),Object(j.c)([E.a],e.prototype,"OnCancelPostReview",null),Object(j.c)([o.observer],e)}(D.Component),lv=n("F7w3"),uv=n.n(lv),pv=function(n){function e(e){var t=n.call(this,e)||this;return t.state={nRowHeight:0,nRows:0,nMaxRows:0,rgChildPositions:[],bPointsShopStateLoaded:!1},t.m_resizeObserver=new ResizeObserver(t.OnResize),window.addEventListener("resize",t.OnResize),t}return Object(j.d)(e,n),e.prototype.componentWillUnmount=function(){this.m_resizeObserver.disconnect(),window.removeEventListener("resize",this.OnResize)},e.prototype.componentDidUpdate=function(e){var t;e.overview.appid!=this.props.overview.appid||e.workshopVisible!=this.props.workshopVisible||e.marketPresence!=this.props.marketPresence||e.showControllerConfig!=this.props.showControllerConfig?this.CalculateLinkPositions():(t=Lp.GetBadgeData(this.props.overview.appid),this.state.bPointsShopStateLoaded!==t.bHasBadgeData&&(this.setState({bPointsShopStateLoaded:t.bHasBadgeData}),this.CalculateLinkPositions()))},e.prototype.OnResize=function(){this.CalculateLinkPositions()},e.prototype.BindInnerLinks=function(e){(this.m_elInnerLinks=e)&&(this.m_resizeObserver.observe(e),this.CalculateLinkPositions())},e.prototype.CalculateLinkPositions=function(){var e=this.m_elInnerLinks;if(e&&e.children){for(var t=e.children[0],n=t.clientHeight,r=1,i=window.innerHeight<parseInt(mo.a.BreakTall)?1:3,a=getComputedStyle(t),o=parseInt(a.marginRight),s=e.clientWidth,c=0,l=0,u=0,p=[],d=0;d<e.children.length;d++){var m=e.children[d].clientWidth;if(s<c+m&&(l++,r++,u=c=0),l<i?p.push({x:c,y:l*n}):p.push({x:-1,y:-1}),d<e.children.length-1)if(0==l)c=c+m+o;else{for(;p[++u].x<c+m&&0==p[u].y;);0!=p[u].y?(l++,r++,u=c=0):c=p[u].x}}n==this.state.nRowHeight&&r==this.state.nRows&&JSON.stringify(p)==JSON.stringify(this.state.rgChildPositions)||this.setState({nRowHeight:n,nRows:r,nMaxRows:i,rgChildPositions:p})}},e.prototype.ShowContextMenu=function(e){for(var r=this.GetLinkDetails(),i=[],a=this,t=0;t<this.state.rgChildPositions.length;t++)!function(e){var t,n;-1==a.state.rgChildPositions[e].x&&(t=r[e],n=t.url?t.url:B.a.BuildSteamURL(t.link,t.appid),i.push(D.createElement(Hi.d,{key:t.label,onSelected:function(){window.location.href=n},className:uv.a.ContextMenuItem},t.label)))}(t);var n=D.createElement(Hi.c,null,i);Object(zi.a)(n,e.currentTarget,{bOverlapHorizontal:!0,bOverlapVertical:!1})},e.prototype.GetLinkDetails=function(){var e,t,n,r,i=this.props.overview.appid,a=[];return this.props.overview.BIsModOrShortcut()||(r=(n=!(t=Object(k.a)(A.c.LAUNCHER_TYPE))&&Lp.GetBadgeData(this.props.overview.appid))&&n.bHasBadgeData&&0<(null===(e=n.rgCards)||void 0===e?void 0:e.length),a=[{label:Object(R.f)("#AppDetails_Links_Store"),url:B.a.BuildStoreAppURL(i,"primarylinks")}],t||a.push({label:Object(R.f)("#AppDetails_Links_Community"),link:"GameHub",appid:i}),r&&a.push({label:Object(R.f)("#AppDetails_Links_PointsShop"),url:B.a.BuildAppPointsShopURL(i)}),t||(a.push({label:Object(R.f)("#AppDetails_Link_FindGroups"),url:B.a.BuildSteamURL("CommunityGroupSearch",this.props.overview.display_name)}),a.push({label:Object(R.f)("#AppDetails_Link_Discussions"),link:"GameHubDiscussions",appid:i}),a.push({label:Object(R.f)("#AppDetails_Link_Guides"),link:"GameHubGuides",appid:i})),this.props.workshopVisible&&a.push({label:Object(R.f)("#AppDetails_Link_Workshop"),link:"SteamWorkshopPage",appid:i}),this.props.marketPresence&&a.push({label:Object(R.f)("#AppDetails_Link_Market"),link:"CommunityMarketApp",appid:i}),a.push({label:Object(R.f)("#AppDetails_Link_Support"),link:"HelpAppPage",appid:i})),this.props.showControllerConfig&&a.push({label:Object(R.f)("#AppDetails_Link_Controller"),url:"steam://currentcontrollerconfig/"+i}),a},e.prototype.render=function(){var e=this.GetLinkDetails();if(0==e.length)return null;for(var t=-1!==this.state.rgChildPositions.findIndex(function(e){return-1==e.x}),n=0,r=[],i=0,a=e;i<a.length;i++){var o=a[i];r.push(D.createElement(dv,{key:o.label,position:this.state.rgChildPositions[n++],label:o.label,url:o.url,link:o.link,appid:o.appid}))}return D.createElement(nl,{className:uv.a.LinksSection,rightColumnSection:!0,availableOffline:!0},D.createElement(nl.Body,{className:uv.a.LinksSectionBody},D.createElement("div",{className:Object(cr.a)(uv.a.Links),ref:this.BindInnerLinks,style:{height:this.state.nRowHeight*Math.min(this.state.nRows,this.state.nMaxRows)}},r),t&&D.createElement(Ni.c,{navStop:!0,className:uv.a.MenuButton,onClick:this.ShowContextMenu,onContextMenu:this.ShowContextMenu},D.createElement(_r.U,null))))},Object(j.c)([E.a],e.prototype,"OnResize",null),Object(j.c)([E.a],e.prototype,"BindInnerLinks",null),Object(j.c)([E.a],e.prototype,"CalculateLinkPositions",null),Object(j.c)([E.a],e.prototype,"ShowContextMenu",null),Object(j.c)([o.observer],e)}(D.Component);function dv(e){var t={};return e.position&&-1!=e.position.x?t={left:e.position.x,top:e.position.y}:e.position&&(t={opacity:0,pointerEvents:"none",zIndex:-100}),D.createElement("div",{className:Object(cr.a)(uv.a.LinkInner,e.className),style:t},D.createElement(mv,{className:e.innerClassName,label:e.label,link:e.link,appid:e.appid,url:e.url}))}function mv(e){var t=e.url?e.url:B.a.BuildSteamURL(e.link,e.appid);return D.createElement("div",{className:Object(cr.a)(uv.a.Link,e.className)},D.createElement(Ni.b,{navStop:!0,tabStop:!0,className:uv.a.Text,href:t},e.label))}var hv=n("uV6i"),fv=n.n(hv),bv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),Object.defineProperty(t.prototype,"fileSizeString",{get:function(){var e=parseInt(this.props.item.file_size);return e<1024?Object(R.f)("#AppDetails_WorkshopFileSizeBytes",e):e<1048576?Object(R.f)("#AppDetails_WorkshopFileSizeKb",(e/1024).toFixed(2)):e<1073741824?Object(R.f)("#AppDetails_WorkshopFileSizeMb",(e/1048576).toFixed(2)):Object(R.f)("#AppDetails_WorkshopFileSizeGb",(e/1073741824).toFixed(2))},enumerable:!1,configurable:!0}),t.prototype.Unsubscribe=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,zh.Unsubscribe(this.props.appid,this.props.item.publishedfileid)];case 1:return e.sent(),[2]}})})},t.prototype.Subscribe=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,zh.Subscribe(this.props.appid,this.props.item.publishedfileid)];case 1:return e.sent(),[2]}})})},t.prototype.render=function(){var e=Math.ceil(5*this.props.item.vote_data.score);return this.props.item.vote_data.votes_up+this.props.item.vote_data.votes_down<=10&&(e=0),D.createElement("div",{className:fv.a.AppDetailsWorkshopHover},D.createElement("div",{className:fv.a.Content},D.createElement("div",{className:fv.a.ItemTitleContainer},D.createElement("div",{className:fv.a.ItemTitle,key:"title"},this.props.item.title)),D.createElement("div",{className:fv.a.ItemRatingContainer},D.createElement("div",{className:fv.a.RatingStar},D.createElement(_r.qb,{filled:1<=e}),D.createElement(_r.qb,{filled:2<=e}),D.createElement(_r.qb,{filled:3<=e}),D.createElement(_r.qb,{filled:4<=e}),D.createElement(_r.qb,{filled:5<=e}))),D.createElement("img",{className:fv.a.ItemPreview,src:this.props.item.preview_url}),this.props.featuredItem&&D.createElement("div",{className:fv.a.ItemFeatured},Object(R.f)("#AppDetails_WorkshopFeaturedItem")),D.createElement("div",{className:fv.a.ItemDetails},D.createElement("div",{className:fv.a.ItemFileSize},Object(R.f)("#AppDetails_WorkshopFileSize",this.fileSizeString)),D.createElement("div",{className:fv.a.ItemTimeUpdated},Object(R.f)("#AppDetails_WorkshopLastUpdated",Object(R.p)(this.props.item.time_updated))))))},Object(j.c)([E.a],t.prototype,"Unsubscribe",null),Object(j.c)([E.a],t.prototype,"Subscribe",null),Object(j.c)([o.observer],t)}(D.Component),_v=n("6286"),vv=n.n(_v),gv=(D.Component,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.RenderContextMenu=function(){var e=this;return D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:this.BrowseWorkshop},Object(R.f)("#AppDetails_BrowseWorkshop")),D.createElement(Hi.d,{onSelected:function(){B.a.NavigateToSteamURL("SteamWorkshopSubscriptions",e.props.details.unAppID)}},Object(R.f)("#AppDetails_ViewSubscribedItems")))},t.prototype.BrowseWorkshop=function(){B.a.NavigateToSteamURL("SteamWorkshopPage",this.props.details.unAppID)},t.prototype.OnHideFeatured=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return 0==(t=zh.GetWorkshopItems(this.props.details.unAppID)).length?[2]:[4,zh.HideWorkshopItem(this.props.details.unAppID,t[0].publishedfileid)];case 1:return e.sent(),[2]}})})},t.prototype.RenderFeaturedItemHover=function(){return null},t.prototype.SubscribeItem=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,zh.Subscribe(this.props.details.unAppID,t.publishedfileid)];case 1:return e.sent(),[2]}})})},t.prototype.render=function(){var t=this,e=zh.GetWorkshopItems(this.props.details.unAppID);if(0==e.length||!ha.BIsWorkshopVisible(this.props.details))return null;var n=e[0],r=null!=n,i="";r&&(i=n.preview_url?n.preview_url:this.props.details.strStoreHeaderImage);function a(){return B.a.NavigateToSteamURL("CommunityFilePage",n.publishedfileid)}var o=D.createElement(nl.Highlight,{className:vv.a.WorkshopHightlight},D.createElement("div",{className:vv.a.WorkshopHeader},r&&D.createElement(zc,{className:vv.a.FeaturedItem,renderHover:this.RenderFeaturedItemHover,strKey:"AppFeaturedWorkshopHover"+this.props.details.unAppID},D.createElement("img",{className:vv.a.FeaturedItemImage,onClick:a,src:i}),D.createElement("div",{className:vv.a.FeaturedItemDetailsContainer},D.createElement("div",{className:vv.a.FeaturedItemHeader},Object(R.f)("#AppDetails_WorkshopFeaturedHeader",this.props.details.strDisplayName)),D.createElement("div",{className:vv.a.FeaturedItemName,onClick:a},n.title),D.createElement("div",{className:vv.a.FeaturedItemDesc},n.short_description),D.createElement("div",{className:vv.a.FeaturedLinks},D.createElement("div",{className:vv.a.FeaturedItemLink,onClick:a},Object(R.f)("#AppDetails_WorkshopFeaturedMoreInfo"))),D.createElement(Co.d,{toolTipContent:Object(R.f)("#AppDetails_WorkshopFeaturedHideItem"),className:vv.a.FeaturedItemHideButton,onClick:this.OnHideFeatured},D.createElement(_r.Jb,null))))));return D.createElement(nl,{feature:2,className:vv.a.WorkshopSection,label:Object(R.f)("#AppDetails_SectionTitle_Workshop"),rightColumnSection:!0,highlight:o},D.createElement(nl.Body,{className:vv.a.WorkshopContainer},D.createElement("div",{className:vv.a.ButtonContainer},D.createElement(ll,{className:vv.a.SpacedButton,onClick:function(){B.a.NavigateToSteamURL("SteamWorkshopSubscriptions",t.props.details.unAppID)}},Object(R.f)("#AppDetails_ViewSubscribedItems")),D.createElement(sl,{onClick:function(e){return t.BrowseWorkshop()}},Object(R.f)("#AppDetails_WorkshopVisit")))))},Object(j.c)([E.a],t.prototype,"RenderContextMenu",null),Object(j.c)([E.a],t.prototype,"BrowseWorkshop",null),Object(j.c)([E.a],t.prototype,"OnHideFeatured",null),Object(j.c)([E.a],t.prototype,"RenderFeaturedItemHover",null),Object(j.c)([E.a],t.prototype,"SubscribeItem",null),Object(j.c)([o.observer],t)}(D.Component)),yv=n("qyZy"),Sv=n.n(yv),wv=2*Cr.g.PerDay,Cv=646570,Ov=function(){function e(){this.m_spotlight=null,this.m_rgNewDLC=[],this.m_unAppID=0,this.m_bUpdateInProgress=!1,this.m_bRerunUpdate=!1,this.m_appDetailsSpotlight=null,this.m_session=new Iv,this.m_bLoadedPreviousSessionData=!1,this.m_hAppDetailsAutorun=null}return Object(j.c)([O.observable],e.prototype,"m_spotlight",void 0),Object(j.c)([O.observable],e.prototype,"m_rgNewDLC",void 0),e}(),Ev="spotlight_dlc_store",Bv="spotlight_gameplaysession_store",Av=function(){function e(){this.m_mapAppData=new Map,this.m_localStorage=new Ke,this.m_dlcLocalStore=null,this.m_gamePlayLocalStore=null}return e.prototype.Init=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_CMInterface=r,SteamClient.GameSessions.RegisterForAppLifetimeNotifications(this.OnAppLifetimeNotification),SteamClient.GameSessions.RegisterForScreenshotNotification(this.OnScreenshotNotification),SteamClient.GameSessions.RegisterForAchievementNotification(this.OnAchievementNotification),[4,(t=this).m_localStorage.GetObject(Ev)];case 1:return t.m_dlcLocalStore=e.sent(),this.m_dlcLocalStore||(this.m_dlcLocalStore={}),[4,(n=this).m_localStorage.GetObject(Bv)];case 2:return n.m_gamePlayLocalStore=e.sent(),this.m_gamePlayLocalStore||(this.m_gamePlayLocalStore={}),[2]}})})},e.prototype.GetOrCreateAppData=function(e){var t=this.m_mapAppData.get(e);return t||((t=new Ov).m_unAppID=e,this.m_mapAppData.set(e,t)),t},e.prototype.EnterAppDetailsPage=function(t){var n=this,r=this.GetOrCreateAppData(t);r.m_hAppDetailsAutorun||(r.m_hAppDetailsAutorun=Object(O.autorun)(function(){var e=ha.GetAppDetails(t);e&&n.UpdateNewDLCToShow(r,e)})),this.UpdateSpotlightForApp(r)},e.prototype.ExitAppDetailsPage=function(e){var t=this.GetOrCreateAppData(e);t.m_hAppDetailsAutorun&&(t.m_hAppDetailsAutorun(),t.m_hAppDetailsAutorun=null)},e.prototype.GetFeaturedSpotlight=function(e){return this.GetOrCreateAppData(e).m_spotlight},e.prototype.GetFeaturedNewDLC=function(e){return this.GetOrCreateAppData(e).m_rgNewDLC},e.prototype.UpdateSpotlightForApp=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return t.m_bUpdateInProgress?(t.m_bRerunUpdate=!0,[2]):(t.m_bUpdateInProgress=!0,[4,this.UpdateSpotlightForApp_Internal(t)]);case 1:return e.sent(),t.m_bUpdateInProgress=!1,t.m_bRerunUpdate&&(t.m_bRerunUpdate=!1,this.UpdateSpotlightForApp(t)),[2]}})})},e.prototype.UpdateSpotlightReference=function(e,t){e.m_spotlight&&t&&e.m_spotlight.type==t.type?Object.assign(e.m_spotlight,t):e.m_spotlight=t},e.prototype.UpdateSpotlightForApp_Internal=function(i){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return i.m_bLoadedPreviousSessionData?[3,2]:[4,this.LoadPreviousSessionData(i)];case 1:e.sent(),e.label=2;case 2:return i.m_session.HasSessionEvents()?(r={type:"gameplay",sessionData:i.m_session},this.UpdateSpotlightReference(i,r),[2]):(t=new Date,!i.m_appDetailsSpotlight||i.m_appDetailsSpotlight.dtRefresh.getTime()<t.getTime()?[4,this.RequestAppDetailsSpotlight(i)]:[3,4]);case 3:!e.sent()&&i.m_appDetailsSpotlight&&(t.setHours(t.getHours()+1),i.m_appDetailsSpotlight.dtRefresh=t),e.label=4;case 4:return i.m_appDetailsSpotlight?[4,this.GetFirstFeaturedEvent(i.m_appDetailsSpotlight.data)]:[3,6];case 5:if(n=e.sent())return r={type:"event",event:n},this.UpdateSpotlightReference(i,r),[2];e.label=6;case 6:return this.UpdateSpotlightReference(i,null),[2]}})})},e.prototype.RequestAppDetailsSpotlight=function(a){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=x.b.Init(ta)).Body().set_appid(a.m_unAppID),[4,Yi.GetAppDetailsSpotlight(this.m_CMInterface.GetServiceTransport(),t)];case 1:return 1!=(n=e.sent()).GetEResult()?(console.log("Failed to load app details spotlight for "+a.m_unAppID),[2,!1]):(r=n.Body().toObject(),(i=new Date).setHours(i.getHours()+24),a.m_appDetailsSpotlight={dtRefresh:i,data:r},[2,!0])}})})},e.prototype.GetFirstFeaturedEvent=function(r){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return r?(t=r.events,(n=0<t.length?t[0]:null)?[4,vf.LoadPartnerEventFromAnnoucementGID(n.appid,n.clan_announcementid,n.rtime32_last_modified)]:[2,null]):[2,null];case 1:return[2,e.sent()]}})})},e.prototype.LoadPreviousSessionData=function(p){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u;return Object(j.e)(this,function(e){switch(e.label){case 0:return p.m_bLoadedPreviousSessionData=!0,t=this.GetGamePlaySpotlightTime(p.m_unAppID),n=Math.min(3*Cr.g.PerDay,Cr.a()-t),r=Cr.a()-n,[4,SteamClient.Apps.GetScreenshotsInTimeRange(p.m_unAppID,r,0)];case 1:return i=e.sent(),[4,this.WaitForAchievementsInRange(p.m_unAppID,r,0)];case 2:for(a=e.sent(),o=[],(o=Object(j.g)(i,a)).sort(function(e,t){return Rv(e)-Rv(t)}),s=0,c=o;s<c.length;s++)jv(l=c[s])?((u=new C.t).strOperation="written",u.unAppID=p.m_unAppID,u.hScreenshot=l.hHandle,u.details=l,p.m_session.AddScreenshotNotification(u)):Dv(l)&&((u=new C.a).unAppID=p.m_unAppID,u.nCurrentProgress=0,u.nMaxProgress=0,u.achievement=l,p.m_session.AddAchievement(u));return[2]}})})},e.prototype.WaitForAchievementsInRange=function(r,i,a){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:t=[],e.label=1;case 1:return e.trys.push([1,3,,4]),[4,SteamClient.Apps.GetAchievementsInTimeRange(r,i,a)];case 2:return(n=e.sent())&&(t=n),[3,4];case 3:return e.sent(),[3,4];case 4:return[2,t]}})})},e.prototype.StopShowingGamePlaySpotlight=function(e){var t,n,r=this.GetOrCreateAppData(e);r.m_session.HasSessionEvents()&&(r.m_session.ClearSessionEvents(),this.UpdateSpotlightForApp_Internal(r),t=Cr.a(),this.m_gamePlayLocalStore&&(n=e.toString(),t!=(this.m_gamePlayLocalStore[n]||0)&&(0==t?delete this.m_gamePlayLocalStore[n]:this.m_gamePlayLocalStore[n]=t,this.m_localStorage.StoreObject(Bv,this.m_gamePlayLocalStore))))},e.prototype.GetGamePlaySpotlightTime=function(e){var t=e.toString();return this.m_gamePlayLocalStore&&this.m_gamePlayLocalStore[t]?this.m_gamePlayLocalStore[t]:0},e.prototype.StopShowingNewDLC=function(e){var t,n,r=this.GetOrCreateAppData(e);0!=r.m_rgNewDLC.length&&(r.m_rgNewDLC=[],t=Cr.a(),(n=this.GetNewDLCTimeRanges(r.m_unAppID)).rtShowStart=t,n.rtFirstShow=t,this.SetNewDLCTimeRanges(r.m_unAppID,n))},e.prototype.UpdateNewDLCToShow=function(e,t){if(Tc.GetToggle(8))this.SimulateNewDLC(e.m_unAppID);else{var n=this.GetNewDLCTimeRanges(e.m_unAppID),r=Cr.a(),i=r-14*Cr.g.PerDay;e.m_rgNewDLC=[];for(var a=0,o=0,s=!0,c=0,l=t.vecDLC;c<l.length;c++){var u=l[c];u.bAvailableOnStore&&(u.rtPurchaseDate<i||(s=!1,0!=n.rtShowStart&&u.rtPurchaseDate<n.rtShowStart||((0==o||u.rtPurchaseDate>o)&&(o=u.rtPurchaseDate),(0==a||u.rtPurchaseDate<a)&&(a=u.rtPurchaseDate),e.m_rgNewDLC.push(u))))}a>n.rtShowStart&&(n.rtShowStart=a),o>n.rtFirstShow&&(n.rtFirstShow=r),r>=n.rtFirstShow+wv&&(e.m_rgNewDLC=[]),s&&(n.rtShowStart=0,n.rtFirstShow=0),this.SetNewDLCTimeRanges(e.m_unAppID,n)}},e.prototype.GetNewDLCTimeRanges=function(e){var t=e.toString();if(!this.m_dlcLocalStore||!this.m_dlcLocalStore[t])return{rtShowStart:0,rtFirstShow:0};var n=this.m_dlcLocalStore[t];return Object.assign({},n)},e.prototype.SetNewDLCTimeRanges=function(e,t){var n,r=e.toString();this.m_dlcLocalStore&&(n=(n=this.m_dlcLocalStore[r])||{rtShowStart:0,rtFirstShow:0},t.rtShowStart==n.rtShowStart&&t.rtFirstShow==n.rtFirstShow||(0==t.rtShowStart&&0==t.rtFirstShow?delete this.m_dlcLocalStore[r]:this.m_dlcLocalStore[r]=t,this.m_localStorage.StoreObject(Ev,this.m_dlcLocalStore)))},e.prototype.OnAppLifetimeNotification=function(e){var t;e.unAppID&&(t=this.GetOrCreateAppData(e.unAppID),e.bRunning?t.m_session.MarkStartedRunning():t.m_session.MarkStoppedRunning())},e.prototype.OnScreenshotNotification=function(e){var t;0!=e.unAppID&&((t=this.GetOrCreateAppData(e.unAppID)).m_session.AddScreenshotNotification(e),this.UpdateSpotlightForApp(t))},e.prototype.OnAchievementNotification=function(e){var t;0!=e.unAppID&&((t=this.GetOrCreateAppData(e.unAppID)).m_session.AddAchievement(e),this.UpdateSpotlightForApp(t))},e.prototype.OnTradingCardNotification=function(e){var t;0!=e.nAppID&&((t=this.GetOrCreateAppData(e.nAppID)).m_session.AddTradingCard(e),this.UpdateSpotlightForApp(t))},e.prototype.BSimulateSummaryFakeAchievement=function(n){if(0==n)return!1;var r=this.GetOrCreateAppData(n),e=ha.GetAppDetails(n);if(!e||!e.achievements.vecHighlight)return!1;for(var i=this,t=0,a=e.achievements.vecHighlight;t<a.length;t++){var o=function(t){if(0<=r.m_session.GetSessionEvents().findIndex(function(e){return e.m_achievement&&e.m_achievement.achievement.strID==t.strID}))return"continue";var e=new C.a;return e.unAppID=n,e.nMaxProgress=1,e.nCurrentProgress=1,e.achievement=t,e.achievement.bAchieved=!0,e.achievement.rtUnlocked=Cr.a(),i.OnAchievementNotification(e),{value:!0}}(a[t]);if("object"==typeof o)return o.value}return console.log("No more test achievements!"),!1},e.prototype.SimulatePressSummary=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.GetOrCreateAppData(Cv).m_session.HasSessionEvents()?(this.SimulateSummaryClear(Cv),[2]):[4,SteamClient.Apps.GetScreenshotsInTimeRange(Cv,0,0)];case 1:return t=e.sent(),n=Cr.a(),r=n-Cr.g.PerDay,(i=new C.a).unAppID=Cv,i.nMaxProgress=1,i.nCurrentProgress=1,(a=new C.b).strID="TIME_EATER",a.strName="The Time Eater",a.strDescription="Defeated the Time Eater.",a.strImage="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/apps/646570/92a08788e62ec08c84036cacb60524e16d56d9ed.jpg",a.bAchieved=!0,a.rtUnlocked=r,a.flAchieved=55.5,i.achievement=a,this.OnAchievementNotification(i),(i=new C.a).unAppID=Cv,i.nMaxProgress=1,i.nCurrentProgress=1,(a=new C.b).strID="ASCEND_0",a.strName="Ascend 0",a.strDescription="Unlock Ascension mode.",a.strImage="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/apps/646570/a24229e0772b333e8e374c22cffd8619998bb19b.jpg",a.bAchieved=!0,a.rtUnlocked=r,a.flAchieved=67,i.achievement=a,this.OnAchievementNotification(i),(o=t.pop())?((s=new C.t).strOperation="written",s.hScreenshot=o.hHandle,s.unAppID=o.nAppID,s.details=o,s.details.nCreated=r,this.OnScreenshotNotification(s)):console.log("No more screenshots to add"),(o=t.pop())?((s=new C.t).strOperation="written",s.hScreenshot=o.hHandle,s.unAppID=o.nAppID,s.details=o,s.details.nCreated=n,this.OnScreenshotNotification(s)):console.log("No more screenshots to add"),(c=new C.w).nAppID=Cv,c.strName="Time Eater",c.strTitle="Time Eater",c.strImgURL="https://steamcommunity-a.akamaihd.net/economy/image/IzMF03bk9WpSBq-S-ekoE33L-iLqGFHVaU25ZzQNQcXdA3g5gMEPvUZZEaiHLrVJRsl8vGuCUY7Cjc9ehDNVzDMAfnStiiQrcex4NM6b9Az2pKmoHWDyenHNIiDeGQNqGeZZN23bqzWk7bmXFGmYROl-QFpXL6ZQoGVKOMCOP0A00YUCqTe52U5tGVAqfddCdR2Ew3kSNrh4n3gRJpsAzCamJJSLhlsxPhNuU7rvXr7DbIPzkionWRNgTKRPYtqcvDuspsDnLPqHrcIm1Wk",c.strArtworkURL="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/items/646570/85b510e2e164070a59947395ff91d250c010a5c9.jpg",c.strMarketHash="646570-Time Eater",c.nOwned=1,c.rtReceived=n,this.OnTradingCardNotification(c),(i=new C.a).unAppID=Cv,i.nMaxProgress=1,i.nCurrentProgress=1,(a=new C.b).strID="CATALYST",a.strName="Catalyst",a.strDescription="Apply 99 or more Poison on a single enemy.",a.strImage="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/apps/646570/a87d1ba5946edaba49f377f698d4a39af9f327f3.jpg",a.bAchieved=!0,a.rtUnlocked=n,a.flAchieved=42.5,i.achievement=a,this.OnAchievementNotification(i),(i=new C.a).unAppID=Cv,i.nMaxProgress=1,i.nCurrentProgress=1,(a=new C.b).strID="OH_DONUT",a.strName="Ooh Donut!",a.strDescription="Finish Donu with a Feed.",a.strImage="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/apps/646570/5c9fb117629ca3e0812a1dec824505fea8982fc9.jpg",a.bAchieved=!0,a.rtUnlocked=n,a.flAchieved=7.099999904632568,i.achievement=a,this.OnAchievementNotification(i),[2]}})})},e.prototype.SimulateSummaryClear=function(e){0!=e&&this.GetOrCreateAppData(e).m_session.ClearEvents()},e.prototype.SimulateSummaryForceNewDay=function(e){for(var t=0,n=this.GetOrCreateAppData(e).m_session.GetSessionEvents();t<n.length;t++){var r=n[t];r.m_achievement?r.m_achievement.achievement.rtUnlocked-=Cr.g.PerDay:r.m_screenshot&&console.log("simulating screenshots moving to an older day not supported")}},e.prototype.SimulateNewDLC=function(e){var t=this.GetOrCreateAppData(e),n=ha.GetAppDetails(e);if(n&&n.achievements.vecHighlight){t.m_rgNewDLC=[];for(var r=0,i=n.vecDLC;r<i.length;r++){var a=i[r];a.bAvailableOnStore&&t.m_rgNewDLC.push(a)}}},Object(j.c)([O.action],e.prototype,"UpdateNewDLCToShow",null),Object(j.c)([O.action.bound],e.prototype,"OnAppLifetimeNotification",null),Object(j.c)([O.action.bound],e.prototype,"OnScreenshotNotification",null),Object(j.c)([O.action.bound],e.prototype,"OnAchievementNotification",null),Object(j.c)([O.action.bound],e.prototype,"OnTradingCardNotification",null),e}(),Iv=function(){function e(){this.m_dtStart=null,this.m_dtStop=null,this.m_rgSessionEvents=[]}return e.prototype.IsRunning=function(){return this.m_dtStart&&!this.m_dtStop},e.prototype.MarkStartedRunning=function(){null==this.m_dtStart&&(this.m_dtStart=new Date),this.m_dtStop=null},e.prototype.MarkStoppedRunning=function(){null==this.m_dtStart&&(this.m_dtStart=new Date),this.m_dtStop=new Date},e.prototype.HasRunSince=function(e){return!!this.IsRunning()||!!this.m_dtStop&&Date.now()-this.m_dtStop.getTime()<60*e*1e3},e.prototype.AddScreenshotNotification=function(t){function e(e){return!!e.m_screenshot&&(e.m_screenshot.nAppID==t.unAppID&&e.m_screenshot.hHandle==t.hScreenshot)}"written"==t.strOperation?this.m_rgSessionEvents.findIndex(e)<0&&this.m_rgSessionEvents.push({m_screenshot:t.details}):"deleted"==t.strOperation&&dt.d(this.m_rgSessionEvents,e)},e.prototype.AddAchievement=function(e){e.achievement.bAchieved&&this.m_rgSessionEvents.push({m_achievement:e})},e.prototype.AddTradingCard=function(e){this.m_rgSessionEvents.push({m_tradingCard:e})},e.prototype.GetSessionEvents=function(){return this.m_rgSessionEvents},e.prototype.ClearSessionEvents=function(){return this.m_rgSessionEvents.splice(0)},e.prototype.HasSessionEvents=function(){return 0<this.m_rgSessionEvents.length},e.prototype.ClearEvents=function(){this.m_rgSessionEvents=[]},Object(j.c)([O.observable.shallow],e.prototype,"m_rgSessionEvents",void 0),e}();function jv(e){return void 0!==e.hHandle}function Dv(e){return void 0!==e.bAchieved}function Rv(e){return Dv(e)?e.rtUnlocked:jv(e)?e.nCreated:0}var Tv=new Av;window.appSpotlightStore=Tv;var Mv=n("Txw1"),Nv=n.n(Mv),Lv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnClick=function(e){e.preventDefault();var t=this.props,n=t.fnHandleOpenEvent,r=t.event;n&&n(r)},t.prototype.render=function(){var e=this.props,t=e.event,n=e.spotlightURLOverride,r=e.headerNavElement,i=e.fnImageFailureCallback,a=e.fnFilterImageURLsForKnownFailures,o=e.langOverride||Object(k.h)(A.c.LANGUAGE),s=void 0!==n?[n]:t.GetImageForSizeAsArrayWithFallback("spotlight",o,Gb.c.spotlight_main);a&&(s=a(s));var c=t.GetSummaryWithFallback(o),l=t.GetNameWithFallback(0),u=t.GetCategoryAsString(),c=c.replace(/https:\/\/[^ ]*/gi,"").trimLeft(),p=D.createElement("span",{className:Nv.a.EventType},u," - ");return D.createElement(D.Fragment,null,D.createElement("div",{className:Nv.a.MajorEvent_Ctn},D.createElement("div",{className:Nv.a.MajorEventHeader},D.createElement("div",{className:Nv.a.EventType},p),D.createElement("div",{className:Nv.a.PartnerEventLargeImage_Title},l),r),D.createElement("div",{className:Object(cr.a)(Nv.a.AppDetailsSpotlightContainer,Nv.a.MajorEventContainer),onClick:this.OnClick},D.createElement("div",{className:Nv.a.MajorEventBackground},D.createElement($a.a,{className:Nv.a.MajorEventImageBackgroundBlur,rgSources:s,onIncrementalError:function(e,t,n){return i&&i(t)}})),D.createElement("div",{className:Nv.a.MajorEventImageContainer},D.createElement($a.a,{className:Nv.a.MajorEventImage,rgSources:s,onIncrementalError:function(e,t,n){return i&&i(t)}}),D.createElement("div",{className:Nv.a.MajorEventImageTemplate}),D.createElement("div",{className:Nv.a.MajoreEventImageContentContainer},t.BShowLibrarySpotlightText()&&D.createElement("div",{className:Nv.a.MajorEventContent},D.createElement($a.a,{className:Nv.a.MajorEventSpotlightBackground,rgSources:s,onIncrementalError:function(e,t,n){return i&&i(t)}}),D.createElement("div",{className:Nv.a.MajorEventTextCtn},D.createElement("div",{className:Nv.a.MajorEventTitle},t.GetNameWithFallback(o)),D.createElement("div",{className:Nv.a.MajorEventSummary},c))))),D.createElement("div",{className:Nv.a.BottomShadow}))))},Object(j.c)([E.a],t.prototype,"OnClick",null),Object(j.c)([o.observer],t)}(D.Component),kv=n("HRAy"),Fv=n.n(kv),Pv=n("hpRI"),Gv=n.n(Pv),Uv=function(n){function e(e){var t=n.call(this,e)||this;return t.m_elContents=null,t.m_resizeObserver=new ResizeObserver(t.UpdateScrollArrows),t.m_scrollAnimation=null,t.state={bAnimatingScroll:!1,bOnLastPage:!1},t}return Object(j.d)(e,n),e.prototype.componentDidMount=function(){var e;this.m_elContents&&(this.m_resizeObserver.observe(this.m_elContents),null==this.props.initialScrollToChild||(e=this.m_elContents.children[this.props.initialScrollToChild])&&this.ScrollToElement(e,!0)),this.UpdateScrollArrows()},e.prototype.componentWillUnmount=function(){this.m_resizeObserver.disconnect()},e.prototype.BindContents=function(e){this.m_elContents=e},e.prototype.ScrollLeft=function(e){if(this.m_elContents){var t=this.m_elContents,n=Hv(t);if(n<0||0==n)this.ScrollToOffset(0,!1);else{for(var r=t.children[n],i=null,a=n-1;0<=a;a--){var o=t.children[a];if(!Wv(o)&&!zv(r,t,xv(r)-xv(o))){i=o;break}}!i||e.shiftKey?this.ScrollToOffset(0,!1):this.ScrollToElement(i,!1),this.ScheduleUpdateScrollArrows()}}},e.prototype.ScrollRight=function(e){if(this.m_elContents){var t=this.m_elContents,n=Hv(t);if(!(n<0)){for(var r=this.m_elContents.children,i=null,a=n;a<r.length;a++){var o=r[a];if(!Wv(o)&&!zv(o,t)){i=o;break}}!i||e.shiftKey?this.ScrollToOffset(this.m_elContents.scrollWidth,!1):this.ScrollToElement(i,!1),this.ScheduleUpdateScrollArrows()}}},e.prototype.UpdateScrollArrows=function(){if(this.m_elContents){var e=1<=this.m_elContents.scrollLeft,t=this.m_elContents.scrollLeft+this.m_elContents.clientWidth<this.m_elContents.scrollWidth;if(this.setState({bOnLastPage:!t}),this.props.fnUpdateArrows(e,t),this.props.fnOnChildrenVisible){for(var n=this.m_elContents,r=Hv(n),i=r,a=this.m_elContents.children,i=r;i<a.length;i++){var o=a[i];if(!Wv(o)&&!zv(o,n)){i--;break}}i<r&&(r=i),this.props.fnOnChildrenVisible(r,i)}}},e.prototype.ScheduleUpdateScrollArrows=function(){var e=this;setTimeout(function(){e.UpdateScrollArrows()},1510)},e.prototype.ScrollToElement=function(e,t){var n;this.m_elContents&&(n=xv(e)-(this.props.leftMargin||0),this.ScrollToOffset(n,t))},e.prototype.ScrollToOffset=function(e,t){var n;this.m_elContents&&(this.m_scrollAnimation||(t?this.m_elContents.scrollLeft=e:(n={msDuration:500,timing:"cubic-in-out",onComplete:this.OnScrollComplete},this.m_scrollAnimation=new fo.a(this.m_elContents,{scrollLeft:e},n),this.m_scrollAnimation.Start(),this.setState({bAnimatingScroll:!0}))))},e.prototype.OnScrollComplete=function(){this.m_scrollAnimation=null,this.setState({bAnimatingScroll:!1})},e.prototype.ScrollToFirstChild=function(){this.m_elContents&&0<this.m_elContents.children.length&&this.ScrollToElement(this.m_elContents.children[0],!1)},e.prototype.componentDidUpdate=function(){this.UpdateScrollArrows()},e.prototype.render=function(){var e=this.props,t=e.className,n=(e.leftMargin,e.noEdgeMask,e.initialScrollToChild,e.fnUpdateArrows,e.fnOnChildrenVisible,e.fnRenderScrollingDiv),r=Object(j.f)(e,["className","leftMargin","noEdgeMask","initialScrollToChild","fnUpdateArrows","fnOnChildrenVisible","fnRenderScrollingDiv"]),i=Object(cr.a)(Gv.a.BoxCarousel,t),a=Object(cr.a)(Gv.a.BoxCarouselContents,!this.props.noEdgeMask&&Gv.a.MaskRight,this.state.bAnimatingScroll&&Gv.a.AnimatingScroll,this.state.bOnLastPage&&Gv.a.OnLastPage);return D.createElement("div",Object(j.a)({className:i},r),n?n({htmlElementRef:this.BindContents,className:a,onScroll:this.UpdateScrollArrows,children:this.props.children}):D.createElement("div",{ref:this.BindContents,className:a,onScroll:this.UpdateScrollArrows},this.props.children))},Object(j.c)([E.a],e.prototype,"BindContents",null),Object(j.c)([E.a],e.prototype,"ScrollLeft",null),Object(j.c)([E.a],e.prototype,"ScrollRight",null),Object(j.c)([E.a,Object(wu.a)(250)],e.prototype,"UpdateScrollArrows",null),Object(j.c)([E.a],e.prototype,"OnScrollComplete",null),Object(j.c)([E.a],e.prototype,"ScrollToFirstChild",null),e}(D.Component);function xv(e){return e.offsetLeft}function zv(e,t,n){void 0===n&&(n=0);var r=e.offsetLeft+n,i=r+e.offsetWidth,a=t.scrollLeft+t.clientWidth;return r>=t.scrollLeft&&i<a}function Hv(e){for(var t=e.scrollLeft,n=e.children,r=0;r<n.length;r++){if(xv(n[r])>=t)return r}return-1}function Wv(e){return"ignore"==e.getAttribute("data-carousel")}var Vv=n("tY/n"),qv=n.n(Vv),Yv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.onCloseButtonClicked=function(e){this.props.bShowCloseButton&&this.props.fnOnCloseButtonClicked&&this.props.bShowCloseButton&&this.props.fnOnCloseButtonClicked&&this.props.fnOnCloseButtonClicked(e)},t.prototype.render=function(){var e=this.props.bLeftEnabled||this.props.bRightEnabled;return D.createElement(Ni.a,{xOrder:Ni.e.DomOrder,className:Object(cr.a)(qv.a.PageableContainer,this.props.className)},!this.props.bNoHeader&&D.createElement("div",{className:qv.a.HeaderPageControls},this.props.customheader?this.props.customheader:D.createElement(D.Fragment,null,D.createElement("div",{className:Object(cr.a)(qv.a.Name,this.props.bClickableHeader&&qv.a.Clickable),onClick:this.props.fnOnClickHeader},this.props.name),this.props.aftername,D.createElement("div",{className:qv.a.Rule})),D.createElement("div",{className:Object(cr.a)(qv.a.PageClickContainer,this.props.pageContainerStyles)},e&&D.createElement(D.Fragment,null,D.createElement("div",{className:Object(cr.a)(qv.a.PageLeft,!this.props.bLeftEnabled&&qv.a.Disabled),onClick:this.props.fnLeftClicked},D.createElement(_r.v,{singlearrow:!0,angle:0})),D.createElement("div",{className:Object(cr.a)(qv.a.PageRight,!this.props.bRightEnabled&&qv.a.Disabled),onClick:this.props.fnRightClicked},D.createElement(_r.v,{singlearrow:!0,angle:180}))," "),this.props.bShowCloseButton&&D.createElement("div",{className:Object(cr.a)(qv.a.PageableCloseButton,e&&qv.a.PageButtonsVisible),onClick:this.onCloseButtonClicked},D.createElement(_r.Jb,null)))),D.createElement("div",{className:qv.a.PageableContent},this.props.children))},Object(j.c)([E.a],t.prototype,"onCloseButtonClicked",null),t}(D.Component),Qv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bLeftArrowEnabled:!1,bRightArrowEnabled:!1},e.m_refCarousel=D.createRef(),e}return Object(j.d)(e,t),e.prototype.OnLeftClicked=function(e){this.ScrollLeft(e)},e.prototype.OnRightClicked=function(e){this.ScrollRight(e)},e.prototype.ScrollLeft=function(e){var t=this.m_refCarousel.current;t&&t.ScrollLeft(e)},e.prototype.ScrollRight=function(e){var t=this.m_refCarousel.current;t&&t.ScrollRight(e)},e.prototype.ScrollToFirstChild=function(){var e=this.m_refCarousel.current;e&&e.ScrollToFirstChild()},e.prototype.OnUpdateArrows=function(e,t){this.state.bLeftArrowEnabled==e&&this.state.bRightArrowEnabled==t||this.setState({bLeftArrowEnabled:e,bRightArrowEnabled:t}),this.props.fnUpdateArrows&&this.props.fnUpdateArrows(e,t)},e.prototype.OnHeaderClick=function(e){this.props.bHeaderClickScrollToFirst&&(this.props.onClickHeader&&this.props.onClickHeader(e),this.m_refCarousel.current&&this.m_refCarousel.current.ScrollToFirstChild())},e.prototype.onCloseButtonClicked=function(e){this.props.bShowCloseButton&&this.props.onCloseButtonClicked&&this.props.bShowCloseButton&&this.props.onCloseButtonClicked&&this.props.onCloseButtonClicked(e)},e.prototype.render=function(){var e=this.props.children(this.m_refCarousel,this.OnUpdateArrows),t=this.props.bHeaderClickScrollToFirst&&this.state.bLeftArrowEnabled;return D.createElement(Yv,{name:this.props.name,aftername:this.props.aftername,className:this.props.className,customheader:this.props.customheader,fnOnClickHeader:this.OnHeaderClick,bClickableHeader:t,fnLeftClicked:this.OnLeftClicked,fnRightClicked:this.OnRightClicked,bLeftEnabled:this.state.bLeftArrowEnabled,bRightEnabled:this.state.bRightArrowEnabled,bShowCloseButton:this.props.bShowCloseButton,fnOnCloseButtonClicked:this.onCloseButtonClicked,bNoHeader:this.props.bNoHeader,pageContainerStyles:this.props.pageContainerStyles},e)},Object(j.c)([E.a],e.prototype,"OnLeftClicked",null),Object(j.c)([E.a],e.prototype,"OnRightClicked",null),Object(j.c)([E.a],e.prototype,"ScrollLeft",null),Object(j.c)([E.a],e.prototype,"ScrollRight",null),Object(j.c)([E.a],e.prototype,"ScrollToFirstChild",null),Object(j.c)([E.a],e.prototype,"OnUpdateArrows",null),Object(j.c)([E.a],e.prototype,"OnHeaderClick",null),Object(j.c)([E.a],e.prototype,"onCloseButtonClicked",null),e}(D.Component),Zv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.FindNextSameDayAchievement=function(e,t,n){for(var r=t;0<=r;r--){var i=e[r];if(i.m_achievement){var a=new Date(1e3*i.m_achievement.achievement.rtUnlocked);return Cr.b(n,a)?i:null}}return null},t.prototype.BuildRenderedEvents=function(e){for(var t=!0,n=[],r=null,i=null,a=null,o=e.length-1;0<=o;o--){var s=e[o];if(a!==s){var c=null,l="",u=null,p=null;if(s.m_screenshot)c=new Date(1e3*s.m_screenshot.nCreated),l="SummaryScreenshot_"+s.m_screenshot.nAppID+"_"+s.m_screenshot.hHandle,u=D.createElement(tg,{strKey:l,screenshot:s.m_screenshot}),t=!1,p=0;else if(s.m_achievement){c=new Date(1e3*s.m_achievement.achievement.rtUnlocked);var d=this.FindNextSameDayAchievement(e,o-1,c),m=[s.m_achievement.achievement];d&&(m.push(d.m_achievement.achievement),a=d),l="Ach_"+s.m_achievement.achievement.strID,u=D.createElement(eg,{appid:this.props.details.unAppID,achievements:m}),1<m.length&&(t=!1),p=2}else{if(!s.m_tradingCard)continue;c=new Date(1e3*s.m_tradingCard.rtReceived),l="SummaryTradingCard_"+s.m_tradingCard.strName,u=D.createElement(ng,{card:s.m_tradingCard}),t=!1,p=1}var h=null!=r&&Cr.b(r,c),f=null!=r&&!h;o==e.length-1||f||n.push(D.createElement(Xv,{key:"Separator_"+o,spaceOnly:i==p})),f&&n.push(D.createElement(Jv,{key:"Separator_"+c.getTime()})),r=c,i=p,n.push(D.createElement($v,{key:l,created:c,includeHeader:!h,noanim:!0},u))}}return{children:n,bShort:t}},t.prototype.OnClose=function(){Tv.StopShowingGamePlaySpotlight(this.props.details.unAppID)},t.prototype.render=function(){var n=this.BuildRenderedEvents(this.props.sessionData.GetSessionEvents()),e=D.createElement("div",{className:Fv.a.GamePlaySummaryHeader},Object(R.f)("#AppSpotlight_PostGameSummary")),t=Object(cr.a)(Fv.a.GamePlaySummaryContainer,n.bShort&&Fv.a.GamePlaySummaryShort);return D.createElement("div",{className:t},D.createElement(Qv,{name:Object(R.f)("#LibraryHome_NewUpdates"),customheader:e,bShowCloseButton:!0,onCloseButtonClicked:this.OnClose},function(e,t){return D.createElement(Uv,{className:Fv.a.SummaryCarouselContainer,leftMargin:10,ref:e,fnUpdateArrows:t,noEdgeMask:!0},n.children,D.createElement("div",{className:Fv.a.ForcedCarouselPadding,"data-carousel":"ignore"}))}))},Object(j.c)([E.a],t.prototype,"OnClose",null),Object(j.c)([o.observer],t)}(D.Component);function Kv(e){var t="";return 0<e.rtime&&(t=Object(R.q)(e.rtime)),D.createElement("div",{className:Fv.a.EventHeaderBlock},t)}function Jv(){return D.createElement("div",{className:Fv.a.EventDaySeparator,"data-carousel":"ignore"})}function Xv(e){return D.createElement("div",{className:Object(cr.a)(Fv.a.TypeSeparator,e.spaceOnly&&Fv.a.SpaceOnly),"data-carousel":"ignore"})}function $v(e){var t=e.includeHeader?Cr.i(e.created):0;return D.createElement("div",{className:Object(cr.a)(Fv.a.SummaryContainer,e.noanim&&Fv.a.NoAnimation)},D.createElement(Kv,{rtime:t}),e.children)}function eg(t){var e=t.achievements.slice(0,2);return D.createElement("div",{className:Fv.a.SummaryAchievementStack},e.map(function(e){return D.createElement(fp,{key:e.strID,className:Fv.a.SummaryAchievement,appid:t.appid,achievement:e,featured:!0,showStats:!0})}))}function tg(e){return D.createElement(z_,{className:Fv.a.SummaryScreenshot,screenshot:e.screenshot,strKey:e.strKey,sizeAxis:"height"})}function ng(e){return D.createElement(n_,{className:Fv.a.SummaryTradingCard,bMaxed:!1,data:e.card,animateHover:!0,cardScale:1.1})}function rg(e){gf.TrackEventClickedByUser(e,1),Qa.NavigateToAppEvents(e.appid,e.GID)}var ig=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.CreateSpotlightComponent=function(e){switch(e.type){case"event":var t=this.props.details.unAppID,n=b.a.GetAppInfo(t);return r=e.event,gf.TrackEventShownToUser(r,1),D.createElement(Lv,{strDisplayName:this.props.details.strDisplayName,event:e.event,gameIconUrl:n.icon_url,fnHandleOpenEvent:rg,fnFilterImageURLsForKnownFailures:gf.FilterImageURLsForKnownFailures,fnImageFailureCallback:gf.ImageFailureCallback});case"gameplay":return D.createElement(Zv,{details:this.props.details,sessionData:e.sessionData})}var r;return null},t.prototype.render=function(){var e=this.props.details.unAppID,t=Tv.GetFeaturedSpotlight(e);return t?D.createElement("div",{className:Object(cr.a)(Sv.a.AppDetailsSpotlight,Sv.a.Glassy,"event"==t.type?Sv.a.TypeEvent:"")},this.CreateSpotlightComponent(t)):null},Object(j.c)([o.observer],t)}(D.Component),ag=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnClose=function(){Tv.StopShowingNewDLC(this.props.parent.unAppID)},t.prototype.render=function(){var e=this,t=this.props.parent,n=this.props.overview,r=t.unAppID,i=Tv.GetFeaturedNewDLC(r);if(!i||0==i.length)return null;var a=t.strStoreHeaderImage,o=!1,s=n&&n.GetPerClientData("local");n&&s&&n.BIsPerClientDataLocal(s)&&(o=s.installed);var c=D.createElement(D.Fragment,null,D.createElement("span",{className:Sv.a.DLCLink,onClick:function(){e.props.onSeek("dlc")}},Object(R.f)("#AppDetails_DLCSpotlight_here"))),l=o?Object(R.o)("#AppDetails_DLCSpotlight_Installed",c):Object(R.o)("#AppDetails_DLCSpotlight",c),u=D.createElement("span",{className:Sv.a.NewDLCMessage},l);return D.createElement("div",{className:Sv.a.NewDLCContainer},D.createElement(Qv,{className:Sv.a.DLCPageableContainer,customheader:u,bShowCloseButton:!0,onCloseButtonClicked:this.OnClose},function(e,t){return D.createElement(Uv,{className:Sv.a.NewDLCImages,leftMargin:0,ref:e,fnUpdateArrows:t},i.map(function(e){return D.createElement("a",{key:e.unAppID,className:Sv.a.NewDLCImage,href:B.a.BuildStoreAppURL(e.unAppID,"dlcspotlight")},D.createElement(_l,{fallbackImage:a,item:e,size:"Large"}))}))}))},Object(j.c)([E.a],t.prototype,"OnClose",null),Object(j.c)([o.observer],t)}(D.Component),og=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_bReviewLoaded=!1,e.m_rgPromptPeriods=[3,10,30,1e3],e}return Object(j.d)(e,t),e.prototype.componentDidMount=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,this.FetchRoamingStorageState()];case 1:return e.sent(),t=this,[4,ff.GetReview(this.props.parent.unAppID)];case 2:return t.m_ReviewDetails=e.sent(),this.m_bReviewLoaded=!0,[2]}})})},Object.defineProperty(e.prototype,"GetPerAppStorageKey",{get:function(){return"spotlight.review."+this.props.overview.appid},enumerable:!1,configurable:!0}),e.prototype.FetchRoamingStorageState=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:t={rgPromptDismissals:0,bWasAskedToRevise:!1},this.storedSettingsPerApp=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(new Me).GetObject(this.GetPerAppStorageKey)];case 2:return n=e.sent(),this.storedSettingsPerApp=n,[3,4];case 3:return(r=e.sent()).message&&"Not found"==r.message?this.storedSettingsPerApp=t:console.error("Could not fetch review roaming storage:",r),[3,4];case 4:return[2]}})})},e.prototype.OnVoteUp=function(e){this.m_ReviewDetails?(this.storedSettingsPerApp.bWasAskedToRevise=!0,SteamClient.Stats.RecordActivationEvent("LibraryReviewSpotlight","ReviseClicked")):SteamClient.Stats.RecordActivationEvent("LibraryReviewSpotlight","PositiveClicked"),this.ShowWriteReviewDialog(e,Z_.Up),this.OnFinish()},e.prototype.OnVoteDown=function(e){this.m_ReviewDetails?(this.storedSettingsPerApp.bWasAskedToRevise=!0,this.OnFinish(),SteamClient.Stats.RecordActivationEvent("LibraryReviewSpotlight","ReviseCloseClicked")):(this.ShowWriteReviewDialog(e,Z_.Down),SteamClient.Stats.RecordActivationEvent("LibraryReviewSpotlight","NegativeClicked"))},e.prototype.ShowWriteReviewDialog=function(e,t){var n=this.props.overview.minutes_playtime_forever;this.m_ReviewDetails&&(n=this.props.parent.nPlaytimeForever-this.m_ReviewDetails.playtime_at_review);var r=Object(R.f)("#WriteReview_Dialog_Title");Object(_i.b)(D.createElement(tv,{ownerWindow:Object(Fa.n)(e),steamID:this.props.parent.strOwnerSteamID,appid:this.props.overview.appid,nPlaytime:n,eReviewVote:t,onSuccess:this.OnPostReview,closeModal:this.OnCancelPostReview,prevReview:this.m_ReviewDetails}),Object(Fa.n)(e),{strTitle:r})},e.prototype.OnPostReview=function(n){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_ReviewDetails?SteamClient.Stats.RecordActivationEvent("LibraryReviewSpotlight",n?"PositiveRevisePosted":"NegativeRevisePosted"):SteamClient.Stats.RecordActivationEvent("LibraryReviewSpotlight",n?"PositiveReviewPosted":"NegativeReviewPosted"),t=this,[4,ff.GetReview(this.props.overview.appid,!0)];case 1:return t.m_ReviewDetails=e.sent(),[4,Uf.FetchLatestActivity(this.props.overview.appid,!0)];case 2:return e.sent(),[2]}})})},e.prototype.OnCancelPostReview=function(e){e||(this.m_ReviewDetails?SteamClient.Stats.RecordActivationEvent("LibraryReviewSpotlight","ReviseCanceled"):SteamClient.Stats.RecordActivationEvent("LibraryReviewSpotlight","ReviewCanceled"))},e.prototype.OnFinish=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:for(t=0;t<this.m_rgPromptPeriods.length;++t)this.hoursPlayed>this.m_rgPromptPeriods[t]&&(this.storedSettingsPerApp.rgPromptDismissals=t+1);return[4,this.StoreSettings()];case 1:return e.sent(),[2]}})})},e.prototype.OnClose=function(e){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return SteamClient.Stats.RecordActivationEvent("LibraryReviewSpotlight","CloseClicked"),this.OnFinish(),[2]})})},e.prototype.StoreSettings=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(new Me).StoreObject(this.GetPerAppStorageKey,this.storedSettingsPerApp)];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),console.error("could not store roaming storage:",t),[3,3];case 3:return[2]}})})},e.prototype.BPlayedGameRecently=function(){return(new Date).getTime()/1e3-this.props.overview.rt_last_time_played<Cr.g.PerWeek},Object.defineProperty(e.prototype,"hoursPlayed",{get:function(){return this.props.overview.minutes_playtime_forever/60},enumerable:!1,configurable:!0}),e.prototype.render=function(){var e=void 0;if(1,A.c.OFFLINE_MODE)return null;if(!this.BPlayedGameRecently())return null;if(!this.storedSettingsPerApp)return null;if(!this.m_bReviewLoaded)return null;if(this.m_ReviewDetails){if(this.m_ReviewDetails.voted_up)return null;if(this.storedSettingsPerApp.bWasAskedToRevise)return null;var t=this.props.parent.nPlaytimeForever-this.m_ReviewDetails.playtime_at_review;if(t<360)return null;e=nv(this.props.parent.unAppID,Sv.a.RatingContainer,t,!1,this.OnVoteUp,!1,this.OnVoteDown,null,J_.ReviseQuery)}else{if(this.storedSettingsPerApp.rgPromptDismissals>=this.m_rgPromptPeriods.length)return null;if(this.hoursPlayed<this.m_rgPromptPeriods[this.storedSettingsPerApp.rgPromptDismissals])return null;e=nv(this.props.parent.unAppID,Sv.a.RatingContainer,this.props.overview.minutes_playtime_forever,!1,this.OnVoteUp,!1,this.OnVoteDown,this.OnClose)}return e?D.createElement("div",{className:Sv.a.ReviewContainerOuter},D.createElement("div",{className:Sv.a.ReviewContainer},D.createElement("div",{className:Sv.a.Inner},e))):null},Object(j.c)([O.observable],e.prototype,"m_ReviewDetails",void 0),Object(j.c)([O.observable],e.prototype,"storedSettingsPerApp",void 0),Object(j.c)([O.observable],e.prototype,"m_bReviewLoaded",void 0),Object(j.c)([E.a],e.prototype,"FetchRoamingStorageState",null),Object(j.c)([E.a],e.prototype,"OnVoteUp",null),Object(j.c)([E.a],e.prototype,"OnVoteDown",null),Object(j.c)([E.a],e.prototype,"ShowWriteReviewDialog",null),Object(j.c)([E.a],e.prototype,"OnPostReview",null),Object(j.c)([E.a],e.prototype,"OnCancelPostReview",null),Object(j.c)([E.a],e.prototype,"OnFinish",null),Object(j.c)([E.a],e.prototype,"OnClose",null),Object(j.c)([E.a],e.prototype,"StoreSettings",null),Object(j.c)([o.observer],e)}(D.Component),sg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props.overview.optional_parent_app_id;if(!e)return null;var t=b.a.GetAppInfo(e);if(!t||!t.name)return null;var n=[t.header_image_url];return D.createElement("div",{className:Sv.a.AppDetailsSpotlightDemoWrapper},D.createElement("div",{className:Object(cr.a)(Sv.a.AppDetailsSpotlight,Sv.a.AppDetailsSpotlightDemo)},D.createElement("div",{className:Sv.a.Header},D.createElement(co,{className:Sv.a.HeaderArt,eAssetType:3,appid:e,rgSources:n})),D.createElement("div",{className:Sv.a.Info},D.createElement("div",{className:Sv.a.Intro},Object(R.f)("#Demo_SpotlightIntro")),D.createElement("div",{className:Sv.a.Title},t.name),D.createElement("div",{className:Sv.a.Buttons},D.createElement(dv,{innerClassName:Sv.a.SpotlightButton,position:void 0,label:Object(R.f)("#Demo_VisitStorePage"),link:"StoreAppPage",appid:e})))))},Object(j.c)([o.observer],t)}(D.Component),cg=n("HmHE"),lg=n.n(cg),ug=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement(nl,{className:lg.a.Container,availableOffline:!0},D.createElement(nl.Body,{className:lg.a.Body},Object(R.f)("#AppDetails_Shortcut_Explanation",this.props.overview.display_name)))},t}(D.Component),pg=n("n6hZ"),dg=n.n(pg),mg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.GoOnline=function(){window.location.href="steam://open/goonline"},t.prototype.render=function(){return D.createElement(nl,{className:dg.a.OfflineSection,availableOffline:!0},D.createElement(nl.Body,{className:dg.a.OfflineSectionBody},Object(R.f)("#AppDetails_InOfflineMode"),D.createElement(Si.s,{className:dg.a.OfflineButton,onClick:this.GoOnline},Object(R.f)("#AppDetails_GoOnline"))))},t}(D.Component),hg=n("K9VO"),fg=n.n(hg),bg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement(nl,{className:fg.a.InvalidOSType,rightColumnSection:!0,availableOffline:!0},D.createElement(nl.Body,{className:fg.a.InvalidOSTypeBody},D.createElement("div",{className:fg.a.WarningText},D.createElement("div",{className:fg.a.Invalid},D.createElement(_r.L,null)),Object(R.f)("#GameList_Entry_Invalid_OSType")),D.createElement("div",{className:fg.a.WarningText},D.createElement("div",{className:fg.a.WarningText2},Object(R.f)("#GameList_Entry_Invalid_OSType2"),D.createElement("a",{href:"https://support.steampowered.com/kb_article.php?ref=1055-ISJM-8568",className:fg.a.WarningText3},Object(R.f)("#GameList_Entry_Invalid_OSType3"))))))},t}(D.Component),_g=n("YnPx"),vg=n.n(_g),gg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bImageLoaded:!1},e}return Object(j.d)(e,t),e.prototype.OnImageLoad=function(){this.setState({bImageLoaded:!0})},e.prototype.render=function(){var e=this.props.details;if(!e.unMasterSubAppID)return null;var t=B.a.GetStoreURL()+"app/"+e.unMasterSubAppID,n=e.strMasterSubIncludedWith,r={};this.state.bImageLoaded||(r.display="none");return D.createElement(nl,{style:r,label:Object(R.f)("#AppDetails_SectionTitle_IncludedWith"),rightColumnSection:!0},D.createElement(nl.Body,null,D.createElement("a",{href:t},D.createElement("img",{className:vg.a.IncludedBanner,src:n,onLoad:this.OnImageLoad})),D.createElement(sl,{onClick:function(){window.location.href=t}},"Browse EA Play")))},Object(j.c)([E.a],e.prototype,"OnImageLoad",null),e}(D.Component),yg=n("Ju+P"),Sg=n.n(yg),wg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.overview,n=e.details;if("number"!=typeof n.unTimedTrialSecondsAllowed)return null;if(n.unTimedTrialSecondsAllowed>n.unTimedTrialSecondsPlayed)return null;var r,i,a,o=b.a.GetAppInfo(t.appid);if(!o||!o.name)return null;a=n.unMasterSubAppID?(r=B.a.GetStoreURL()+"app/"+n.unMasterSubAppID,i=D.createElement("a",{className:Sg.a.MasterSubLink,href:r},n.strMasterSubAppName),Object(R.o)("#TimedTrial_SpotlightExp_DescMasterSub",t.display_name,i)):Object(R.o)("#TimedTrial_SpotlightExp_Desc",t.display_name);var s=[o.header_image_url];return D.createElement("div",{className:Sg.a.TimedTrialBannerWrapper},D.createElement("div",{className:Sg.a.TimedTrialBanner},D.createElement("div",{className:Sg.a.LeftColumn},D.createElement(co,{className:Sg.a.HeaderArt,eAssetType:3,appid:t.appid,rgSources:s})),D.createElement("div",{className:Sg.a.RightColumn},D.createElement("div",{className:Sg.a.Header},Object(R.f)("#TimedTrial_ContinuePlaying")),D.createElement("div",{className:Sg.a.Description},a),D.createElement(mv,{className:Sg.a.StoreButton,label:Object(R.f)("#Demo_VisitStorePage"),link:"StoreAppPage",appid:t.appid}))))},Object(j.c)([o.observer],t)}(D.Component),Cg=n("DTe+"),Og=n.n(Cg),Eg=function(n){function e(e){var t=n.call(this,e)||this;return t.m_mapSeekTargets=new Map,t.state={bShowGameInfo:e.overview.BIsModOrShortcut()||r.s_setGameInfoVisible.has(t.props.overview.appid),suppressTransition:!0,bStickyHeader:!1},t}var r;return Object(j.d)(e,n),(r=e).prototype.OnHeaderWaypointLeave=function(){this.state.bStickyHeader||this.setState({bStickyHeader:!0}),this.props.onWaypointLeave()},e.prototype.OnHeaderWaypointEnter=function(){this.state.bStickyHeader&&this.setState({bStickyHeader:!1}),this.props.onWaypointEnter()},e.prototype.onGameInfoToggle=function(){var e;this.state.bStickyHeader?this.props.onGameInfoButtonToggle():(e=this.state.bShowGameInfo,this.state.suppressTransition&&this.setState({suppressTransition:!1}),this.setState({bShowGameInfo:!e}),e?r.s_setGameInfoVisible.delete(this.props.overview.appid):r.s_setGameInfoVisible.add(this.props.overview.appid))},e.prototype.RegisterSection=function(e,t){this.m_mapSeekTargets.set(e,t)},e.prototype.SeekToSection=function(e){var t;this.m_mapSeekTargets.has(e)&&((t=this.m_mapSeekTargets.get(e)).classList.add(Og.a.Seeking),window.setTimeout(function(){t.classList.remove(Og.a.Seeking)},1700),t.scrollIntoView({behavior:"smooth",block:"center",inline:"end"}))},e.prototype.render=function(){var e=this.props.details,t=this.props.overview,n=Object(k.a)(A.c.LAUNCHER_TYPE),r=["info","spotlightdlc","spotlightreview","spotlight","broadcast","friends","achievements","cards","dlc","screenshots","review","activity","community","additionalcontent","mastersubincluded","timedtrialbanner"];8==t.app_type?r=["info","spotlightdemo","broadcast","friends","achievements","cards","dlc","screenshots","review","activity"]:t.BIsModOrShortcut()&&(r=["nonsteam","screenshots"]),n&&(r=r.filter(function(e){return!["broadcast","community"].includes(e)}));var i=new Set(r),a=ha.BIsWorkshopVisible(e);return a&&i.add("workshop"),A.c.OFFLINE_MODE&&i.add("offline"),D.createElement("div",{className:Object(cr.a)(Og.a.Container,this.props.bTheaterMode&&Og.a.TheaterMode,Og.a.Glassy)},this.props.bTheaterMode&&D.createElement("div",{className:Og.a.TheaterModeSpacer}),D.createElement("div",{className:Og.a.Backdrop},D.createElement("div",{className:Og.a.BackdropGlass})),D.createElement(cb.a,{onLeave:this.OnHeaderWaypointLeave,onEnter:this.OnHeaderWaypointEnter}),D.createElement(Ag,{parentComponent:this,setSections:i,overview:t,details:e,onGameInfoToggle:this.onGameInfoToggle,bStickyHeader:this.state.bStickyHeader,bFastRender:this.props.bFastRender,bShowGameInfo:this.state.bShowGameInfo,bSuppressTransition:this.state.suppressTransition,bWorkshopVisible:a,bTheaterMode:this.props.bTheaterMode,onTheaterMode:this.props.onTheaterMode}))},e.s_setGameInfoVisible=new Set,Object(j.c)([E.a],e.prototype,"OnHeaderWaypointLeave",null),Object(j.c)([E.a],e.prototype,"OnHeaderWaypointEnter",null),Object(j.c)([E.a],e.prototype,"onGameInfoToggle",null),Object(j.c)([E.a],e.prototype,"RegisterSection",null),Object(j.c)([E.a],e.prototype,"SeekToSection",null),r=Object(j.c)([o.observer],e)}(D.Component);var Bg=D.createContext(function(e){var t=e.parentComponent,n=e.setSections,r=e.overview,i=e.details,a=e.onGameInfoToggle,o=e.bStickyHeader,s=e.bFastRender,c=e.bShowGameInfo,l=e.bSuppressTransition,u=e.bWorkshopVisible,p=e.bTheaterMode,d=e.onTheaterMode;return D.createElement(D.Fragment,null,D.createElement(xu,{key:r.appid,className:o&&Og.a.HidePlayBar,bInPage:!0,details:i,overview:r,stickyheader:o,onGameInfoToggle:a,onSeek:t.SeekToSection,bShowInfoExpanded:c}),r.is_invalid_os_type&&D.createElement(bg,null),n.has("info")&&D.createElement(G_,{overview:r,details:i,expand:c,suppressTransition:l}),D.createElement(pv,{overview:r,showControllerConfig:i.bShowControllerConfig,workshopVisible:u,marketPresence:ha.BHasMarketPresence(i)}),!s&&D.createElement("div",{className:Og.a.ColumnContainer},D.createElement("div",{className:Object(cr.a)(Og.a.Spotlights,ho.rightPanelWidth>=parseInt(Og.a.SpotlightBreakToLeftColumn)&&Og.a.SpotlightLeftColumn)},n.has("timedtrialbanner")&&D.createElement(wg,{overview:r,details:i}),n.has("spotlightdlc")&&D.createElement(ag,{parent:i,overview:r,onSeek:t.SeekToSection}),n.has("spotlightreview")&&D.createElement(og,{parent:i,overview:r,onSeek:t.SeekToSection}),n.has("spotlight")&&D.createElement(ig,{overview:r,details:i}),n.has("spotlightdemo")&&D.createElement(sg,{overview:r,details:i})),D.createElement("div",{className:Og.a.RightColumn},n.has("mastersubincluded")&&D.createElement(Ks.a,null,D.createElement(gg,{details:i})),n.has("broadcast")&&D.createElement(Ks.a,null,D.createElement(Ig,{name:"broadcast",parent:t},D.createElement(ap,{key:r.appid,overview:r,bTheaterMode:p,onTheaterMode:d}))),n.has("friends")&&D.createElement(Ks.a,null,D.createElement(Ig,{name:"friends",parent:t},D.createElement(Iu,{details:i}))),n.has("additionalcontent")&&D.createElement(Ks.a,null,D.createElement(Ig,{name:"additionalcontent",parent:t},D.createElement(j_,{overview:r,details:i}))),n.has("achievements")&&D.createElement(Ks.a,null,D.createElement(Ig,{name:"achievements",parent:t},D.createElement(vp,{details:i}))),n.has("cards")&&D.createElement(Ks.a,null,D.createElement(Ig,{name:"cards",parent:t},D.createElement(r_,{details:i}))),n.has("dlc")&&D.createElement(Ks.a,null,D.createElement(Ig,{name:"dlc",parent:t},D.createElement(Sl,{details:i}))),n.has("workshop")&&D.createElement(Ks.a,null,D.createElement(Ig,{name:"workshop",parent:t},D.createElement(gv,{details:i}))),n.has("screenshots")&&D.createElement(Ks.a,null,D.createElement(Ig,{name:"screenshots",parent:t},D.createElement(Q_,{overview:r,details:i}))),n.has("review")&&D.createElement(Ks.a,{fallback:function(){return null}},D.createElement(Ig,{name:"review",parent:t},D.createElement(cv,{details:i,overview:r})))),D.createElement("div",{className:Og.a.LeftColumn},n.has("nonsteam")&&D.createElement(ug,{overview:r}),n.has("offline")&&D.createElement(mg,null),n.has("activity")&&D.createElement(Ks.a,null,D.createElement(Ig,{name:"activity",parent:t},D.createElement(p_,{details:i}))),n.has("community")&&D.createElement(Ks.a,null,D.createElement(Ig,{name:"community",parent:t},D.createElement(_b,{appid:r.appid}))))))});function Ag(e){var t=D.useContext(Bg);return D.createElement(t,Object(j.a)({},e))}var Ig=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var t=this;return D.createElement("div",{ref:function(e){t.props.parent.RegisterSection(t.props.name,e)}},this.props.children)},t}(D.Component),jg=function(n){function e(e){var t=n.call(this,e)||this;return t.m_hAppDetails=null,t.RegisterForAppDetails(),t}return Object(j.d)(e,n),e.prototype.componentDidUpdate=function(e){e.appid!=this.props.appid&&this.RegisterForAppDetails()},e.prototype.componentWillUnmount=function(){this.UnregisterForAppDetails()},e.prototype.RegisterForAppDetails=function(){this.UnregisterForAppDetails(),this.m_hAppDetails=ha.RegisterForAppData(this.props.appid),Vi.FetchDataForApp(this.props.appid),Tv.EnterAppDetailsPage(this.props.appid)},e.prototype.UnregisterForAppDetails=function(){Tv.ExitAppDetailsPage(this.props.appid),this.m_hAppDetails&&(this.m_hAppDetails.unregister(),this.m_hAppDetails=null)},e.prototype.render=function(){var e=Xa.GetAppOverviewByAppID(this.props.appid);if(!e)return null;var t=ha.GetAppDetails(this.props.appid);return this.props.renderChildrenFunc(e,t)},Object(j.c)([o.observer],e)}(D.Component),Dg=function(n){function e(e){var t=n.call(this,e)||this;return t.state={bTheaterMode:!1,bShowPlayBar:!1,nHeaderLoadedForAppId:void 0},t.m_hSmartContainerRef=D.createRef(),t}return Object(j.d)(e,n),e.prototype.componentDidUpdate=function(e){!this.props.overview||e.overview&&e.overview.appid==this.props.overview.appid||(this.state.bTheaterMode&&this.setState({bTheaterMode:!1}),this.setState({bShowPlayBar:!1})),this.props.overview&&!this.props.overview.BIsAppBlocked()||(console.log("App",this.props.overview,"removed or blocked, navigating back to home"),Qa.NavigateToHome())},e.prototype.OnWaypointEnter=function(){this.state.bShowPlayBar&&this.setState({bShowPlayBar:!1})},e.prototype.OnWaypointLeave=function(){this.state.bShowPlayBar||this.setState({bShowPlayBar:!0})},e.prototype.OnTheaterModeToggle=function(){this.state.bTheaterMode||this.m_hSmartContainerRef.current.ScrollToTop(),this.setState({bTheaterMode:!this.state.bTheaterMode})},e.prototype.GameInfoButtonToggle=function(){this.m_hSmartContainerRef.current&&this.m_hSmartContainerRef.current.ScrollToTop()},e.prototype.OnHeaderLoaded=function(){this.setState({nHeaderLoadedForAppId:this.props.overview.appid})},e.prototype.render=function(){var e=this.props.overview,t=this.props.details;if(!t||!e||e.BIsAppBlocked())return D.createElement("div",{className:iv.a.Container},D.createElement(Pi.a,{className:iv.a.Throbber,size:"xlarge"}));if(8192==e.app_type)return D.createElement(C_,{overview:e,details:t});var n=this.state.nHeaderLoadedForAppId==this.props.overview.appid,r=!n&&!this.state.bTheaterMode||!Vi.BHasDataForApp(e.appid);return D.createElement(D.Fragment,null,D.createElement(xu,{className:Object(cr.a)(iv.a.PlayBar,this.state.bShowPlayBar&&iv.a.ShowPlayBar),details:t,overview:e,stickyheader:this.state.bShowPlayBar,onGameInfoToggle:this.GameInfoButtonToggle,onSeek:void 0}),D.createElement(So,{className:iv.a.Container,scrollClassName:Object(cr.a)(iv.a.ScrollContainer,iv.a.Glassy,this.state.bShowPlayBar&&iv.a.Sticky),scrollToTopThreshold:386,ref:this.m_hSmartContainerRef},D.createElement("div",{className:iv.a.InnerContainer},!this.state.bTheaterMode&&D.createElement(Qs,{className:Object(cr.a)(iv.a.Header,n&&iv.a.HeaderLoaded),fnOnLoaded:this.OnHeaderLoaded,overview:e}),D.createElement(Eg,{details:t,overview:e,bFastRender:r,bTheaterMode:this.state.bTheaterMode,onTheaterMode:this.OnTheaterModeToggle,onGameInfoButtonToggle:this.GameInfoButtonToggle,onWaypointEnter:this.OnWaypointEnter,onWaypointLeave:this.OnWaypointLeave}))))},Object(j.c)([E.a],e.prototype,"OnWaypointEnter",null),Object(j.c)([E.a],e.prototype,"OnWaypointLeave",null),Object(j.c)([E.a],e.prototype,"OnTheaterModeToggle",null),Object(j.c)([E.a],e.prototype,"GameInfoButtonToggle",null),Object(j.c)([E.a],e.prototype,"OnHeaderLoaded",null),Object(j.c)([o.observer],e)}(D.Component),Rg=n("bydJ"),Tg=n.n(Rg),Mg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_strStoreTagQuery="",e}return Object(j.d)(e,t),e.prototype.OnStoreTagInput=function(e){this.m_strStoreTagQuery=e.currentTarget.value},e.prototype.GetStoreTagSearchResultOptions=function(){return(0==this.m_strStoreTagQuery.length?[]:Xa.GetTopStoreTags(this.m_strStoreTagQuery).map(function(e){return e.nTagId})).slice(0,10).map(function(e){return{bIsNameALocalizedStoreTag:!0,name:Xa.GetLocalizationForStoreTag(e),option:e}})},e.prototype.GetGenreOptions=function(){return[qe.Action,qe.Adventure,qe.Casual,qe.Indie,qe.MMO,qe.Racing,qe.RPG,qe.Simulation,qe.Sports,qe.Strategy].map(function(e){return{bIsNameALocalizedStoreTag:!0,name:Xa.GetLocalizationForStoreTag(e),option:e}})},e.prototype.GetFilterOptions=function(t,e){return e.map(function(e){return{name:it(t,e),option:e}})},e.prototype.OnSaveClick=function(e){var t,n,r;Bi(Object(Fa.n)(e),(t=this.props.appFilter,n=new Intl.ListFormat(R.e.GetPreferredLocales(),{type:"conjunction",style:"long"}),r=t.GetAllSelectedOptions().map(function(e){return e.name}),n.format(r)))},e.prototype.render=function(){var e=this.GetStoreTagSearchResultOptions(),t=D.createElement("span",null,Object(R.o)("#FilterEdit_SaveDynamicCollectionWithIcon",D.createElement(_r.y,{height:20})));return D.createElement("div",{className:Tg.a.Container},D.createElement("div",{className:Object(cr.a)(Tg.a.FilterArea,this.props.bUseWideFormat&&Tg.a.WideFormat)},D.createElement(Ng,{appFilter:this.props.appFilter,fnOnChange:this.props.fnOnChange,label:Object(R.f)("#AdvancedSearch_PlayerSection"),eGroup:Pe.kAppFeature,options:this.GetFilterOptions(Pe.kAppFeature,[Ue.SinglePlayer,Ue.MultiPlayer,Ue.CoOp])}),D.createElement(Ng,{appFilter:this.props.appFilter,fnOnChange:this.props.fnOnChange,label:Object(R.f)("#AdvancedSearch_StateSection"),eGroup:Pe.kPlayState,options:this.GetFilterOptions(Pe.kPlayState,[We.ReadyToPlay,We.InstalledLocally,We.PlayedPreviously,We.PlayedNever])}),D.createElement(Ng,{appFilter:this.props.appFilter,fnOnChange:this.props.fnOnChange,label:Object(R.f)("#AdvancedSearch_GenreSection"),eGroup:Pe.kStoreTag,className:Tg.a.ExtraTall,options:this.GetGenreOptions()}),D.createElement(Ng,{appFilter:this.props.appFilter,fnOnChange:this.props.fnOnChange,label:Object(R.f)("#AdvancedSearch_HardwareSection"),eGroup:Pe.kAppFeature,options:this.GetFilterOptions(Pe.kAppFeature,[Ue.FullControllerSupport,Ue.PartialControllerSupport,Ue.VRSupport])}),D.createElement(Ng,{appFilter:this.props.appFilter,fnOnChange:this.props.fnOnChange,label:Object(R.f)("#AdvancedSearch_FeatureSection"),eGroup:Pe.kAppFeature,options:this.GetFilterOptions(Pe.kAppFeature,[Ue.TradingCards,Ue.Workshop,Ue.Achievements,Ue.RemotePlayTogether])}),D.createElement(Ng,{appFilter:this.props.appFilter,fnOnChange:this.props.fnOnChange,label:Object(R.f)("#AdvancedSearch_StoreTagSection"),eGroup:Pe.kStoreTag,className:Object(cr.a)(Tg.a.DoubleWide,0<this.m_strStoreTagQuery.length&&Tg.a.SearchResultsBox),options:e},D.createElement(Si.m,{placeholder:Object(R.f)("#AdvancedSearch_StoreTagPrompt"),value:this.m_strStoreTagQuery,onChange:this.OnStoreTagInput,bShowClearAction:!0}))),!this.props.bHideSaveButton&&D.createElement(Co.d,{toolTipContent:"#FilterEdit_SaveDynamicCollectionButtonDesc",direction:"bottom"},D.createElement(Si.s,{className:Tg.a.SaveButton,disabled:!Qa.BIsSearchByTypeActive(),onClick:this.OnSaveClick},t)))},Object(j.c)([O.observable],e.prototype,"m_strStoreTagQuery",void 0),Object(j.c)([E.a],e.prototype,"OnStoreTagInput",null),Object(j.c)([E.a],e.prototype,"GetStoreTagSearchResultOptions",null),Object(j.c)([E.a],e.prototype,"OnSaveClick",null),Object(j.c)([o.observer],e)}(D.Component);var Ng=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnChange=function(e,t,n){this.props.appFilter.SelectOption(e,t,n),this.props.fnOnChange&&this.props.fnOnChange()},t.prototype.MakeCheckbox=function(t){var n=this,r=this.props.eGroup,e=t.bIsNameALocalizedStoreTag?Object(R.f)("#FilterElement_Tooltip_StoreTag",t.name):"#FilterElement_Tooltip_"+t.name,i=t.bIsNameALocalizedStoreTag?t.name:Object(R.f)("#FilterElement_"+t.name);return D.createElement("div",{className:Tg.a.Row,key:"checkbox-"+r+"-"+t.option},D.createElement(Co.d,{toolTipContent:e},D.createElement(Si.e,{classname:Tg.a.Checkbox,label:i,checked:this.props.appFilter.BIsSelected(r,t.option),onChange:function(e){return n.OnChange(r,t.option,e)}})))},t.prototype.render=function(){return D.createElement("div",{className:Object(cr.a)(Tg.a.FilterBucket,this.props.className)},D.createElement("div",{className:Tg.a.FilterBucketLabel},this.props.label),this.props.children,D.createElement("div",{className:Tg.a.FilterBucketBoxes,tabIndex:-1},this.props.options.map(this.MakeCheckbox)))},Object(j.c)([E.a],t.prototype,"OnChange",null),Object(j.c)([E.a],t.prototype,"MakeCheckbox",null),Object(j.c)([o.observer],t)}(D.Component),Lg=n("Wwog"),kg=function(){function e(){this.nVersion=2,this.mapCache=new Map}return Object(j.c)([O.observable],e.prototype,"nVersion",void 0),Object(j.c)([O.observable],e.prototype,"mapCache",void 0),e}();function Fg(e,t){return t instanceof Map||t instanceof Set?Array.from(t):t}var Pg=new(function(){function e(){this.m_achievementProgress=void 0,this.m_mapQueuedCacheMisses=new Map}return e.prototype.Init=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_CMInterface=t,[4,this.LoadCacheFile()];case 1:return e.sent(),SteamClient.GameSessions.RegisterForAchievementNotification(this.OnAchievementNotification),[2]}})})},Object.defineProperty(e.prototype,"CMInterface",{get:function(){return this.m_CMInterface},enumerable:!1,configurable:!0}),e.prototype.LoadCacheFile=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,P.a.get("appdetails/achievement_progress.json",{withCredentials:!1})];case 1:for(n in t=e.sent(),this.m_achievementProgress=new kg,this.m_achievementProgress.nVersion=t.data.nVersion,t.data.mapCache)this.m_achievementProgress.mapCache.set(parseInt(n),t.data.mapCache[n]);return 2!=this.m_achievementProgress.nVersion&&(console.log("Loaded achievement cache at version "+this.m_achievementProgress.nVersion+". Migrating to version 2."),this.m_achievementProgress=void 0),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}})})},e.prototype.SaveCacheFile=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return this.m_achievementProgress&&this.m_achievementProgress.mapCache.size&&SteamClient.Apps.SaveAchievementProgressCache(JSON.stringify(this.m_achievementProgress,Fg)),[2]})})},e.prototype.BGameHasAchievements=function(e){return!this.m_achievementProgress||!this.m_achievementProgress.mapCache.has(e)||0<this.m_achievementProgress.mapCache.get(e).total},e.prototype.GetAchievementProgress=function(e){var t=0;if(this.m_achievementProgress&&this.m_achievementProgress.mapCache.has(e)){var n=this.m_achievementProgress.mapCache.get(e),t=n.percentage;if(Xa.GetAppOverviewByAppID(e).rt_last_time_played<=n.cache_time)return t}return this.QueueCacheUpdate(e),t},e.prototype.QueueCacheUpdate=function(e){var t=this;this.m_mapQueuedCacheMisses.has(e)||(console.log("Queue cache update for "+e),this.m_mapQueuedCacheMisses.set(e,!0),this.m_cacheUpdateTimer||(this.m_cacheUpdateTimer=window.setTimeout(function(){return t.RequestCacheUpdate()},100)))},e.prototype.RequestCacheUpdate=function(){return Object(j.b)(this,void 0,void 0,function(){var n,i,a=this;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_cacheUpdateTimer=0,(n=x.b.Init(yt.c)).Body().set_steamid(this.m_CMInterface.steamid.ConvertTo64BitString()),this.m_mapQueuedCacheMisses.forEach(function(e,t){n.Body().add_appids(t)}),[4,yt.n.GetAchievementsProgress(this.m_CMInterface.GetServiceTransport(),n)];case 1:return i=e.sent(),this.m_achievementProgress||(this.m_achievementProgress=new kg),Object(O.runInAction)(function(){for(var e=0,t=i.Body().achievement_progress();e<t.length;e++){var n=t[e],r=Xa.GetAppOverviewByAppID(n.appid());r.rt_last_time_played>n.cache_time()&&n.set_cache_time(r.rt_last_time_played),console.log("got progress for "+n.appid()),a.m_achievementProgress.mapCache.set(n.appid(),n.toObject())}}),this.m_mapQueuedCacheMisses.clear(),this.SaveCacheFile(),[2]}})})},e.prototype.OnAchievementNotification=function(e){0!=e.unAppID&&this.QueueCacheUpdate(e.unAppID)},Object(j.c)([O.observable],e.prototype,"m_achievementProgress",void 0),Object(j.c)([O.action.bound],e.prototype,"OnAchievementNotification",null),e}());window.appAchievementProgressCache=Pg;var Gg=n("c7cM"),Ug=n("QZGc"),xg=n.n(Ug),zg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.enabled,n=e.duration,r=(e.className,Object(j.f)(e,["enabled","duration","className"]),{transitionDuration:n/1e3+"s"});return D.createElement(m.a,{in:t,appear:!0,unmountOnExit:!0,classNames:{enter:xg.a.FadeInEnter,enterActive:xg.a.FadeInEnterActive},timeout:n,style:r},D.createElement("div",{className:xg.a.FadeIn},this.props.children))},t}(D.Component),Hg=function(n){function a(e){var t=n.call(this,e)||this;return t.m_rgScreenshots=[],t.m_bIsUnmounting=!1,t.state={nScreenshotIndex:0},t.GetScreenshots(),t}return Object(j.d)(a,n),a.prototype.componentDidUpdate=function(e){e.appid!=this.props.appid&&(window.clearInterval(this.m_TimerIntervalID),this.m_TimerIntervalID=void 0,this.setState({nScreenshotIndex:0}),this.GetScreenshots())},a.prototype.GetScreenshots=function(){var i=this;this.m_rgScreenshots=ha.GetAppScreenshots(this.props.appid),0==this.m_rgScreenshots.length?ha.RequestAppScreenshots(this.props.appid).then(function(r){(Jr.settings.bLibraryLowBandwidthMode||Jr.settings.bLibraryLowPerfMode)&&(r=[r[Math.floor(Math.random()*r.length)]]);for(var e=0,t=r;e<t.length;e++){!function(e){var t=e.substring(0,e.indexOf("."))+".600x338.jpg",n=new Image;n.src=i.createImageURL(t),n.onload=function(){i.m_bIsUnmounting||(i.m_rgScreenshots.push(t),2!=i.m_rgScreenshots.length&&i.m_rgScreenshots.length!=r.length||i.m_TimerIntervalID||(i.m_TimerIntervalID=window.setInterval(i.AdvanceScreenshot,a.m_ScreenshotCycleTime)))}}(t[e])}}).catch(function(e){console.error("App hover caught",e)}):((Jr.settings.bLibraryLowBandwidthMode||Jr.settings.bLibraryLowPerfMode)&&(this.m_rgScreenshots=[this.m_rgScreenshots[Math.floor(Math.random()*this.m_rgScreenshots.length)]]),this.m_bIsUnmounting||(this.m_TimerIntervalID=window.setInterval(this.AdvanceScreenshot,a.m_ScreenshotCycleTime)))},a.prototype.componentWillUnmount=function(){this.m_bIsUnmounting=!0,window.clearInterval(this.m_TimerIntervalID)},Object.defineProperty(a.prototype,"hasScreenshots",{get:function(){return 0<this.m_rgScreenshots.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"currentScreenshot",{get:function(){return this.hasScreenshots?this.createImageURL(this.m_rgScreenshots[this.state.nScreenshotIndex]):null},enumerable:!1,configurable:!0}),a.prototype.createImageURL=function(e){return "https://media.st.dl.pinyuncloud.com/steam/apps/"+this.props.appid+"/"+e},a.prototype.AdvanceScreenshot=function(){var e=(this.state.nScreenshotIndex+1)%this.m_rgScreenshots.length;this.setState({nScreenshotIndex:e})},a.prototype.render=function(){var e,t,n={},r=this.hasScreenshots?(e=this.currentScreenshot,n.backgroundImage="url("+this.currentScreenshot+")",D.createElement("div",{className:xg.a.ScreenshotImg})):(e=String(this.props.appid),t=xg.a.NoScreenshotFallback,D.createElement("div",{className:xg.a.NoScreenshotFallbackWrapper},D.createElement(co,{app:this.props.appOverview,eAssetType:3,className:xg.a.NoScreenshotFallbackAsset})));return D.createElement("div",{className:xg.a.ScreenshotCrossfade},D.createElement(zg,{duration:a.m_ScreenshotCrossfadeDuration,className:xg.a.CrossfadeImage,enabled:!0},D.createElement(Gg.a,{keyExtractor:function(){return e},duration:a.m_ScreenshotCrossfadeDuration,style:n,className:Object(cr.a)(xg.a.CrossfadeImage,t)},r)))},a.m_ScreenshotCycleTime=1e3,a.m_ScreenshotCrossfadeDuration=250,Object(j.c)([E.a],a.prototype,"createImageURL",null),Object(j.c)([E.a],a.prototype,"AdvanceScreenshot",null),a}(D.Component),Wg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_bManageMenuVisible=!1,e}return Object(j.d)(e,t),e.prototype.OnDownloadPaused=function(){this.downloadStatusVisible&&$l(Ql(this.props.appOverview,"mostavailable"),this.props.appOverview,"mostavailable",100)()},e.prototype.OnManageClick=function(e){this.m_bManageMenuVisible=!this.m_bManageMenuVisible,e.stopPropagation()},e.prototype.OnClick=function(e){this.m_bManageMenuVisible&&(this.m_bManageMenuVisible=!1),e.stopPropagation()},e.prototype.GetDownloadStatusTitle=function(){return 7==this.props.displayStatus?Object(R.f)("#AppPortraitHover_DownloadStatusTitle"):6==this.props.displayStatus?Object(R.f)("#AppPortraitHover_DownloadStatusTitle_Update"):""},e.prototype.GetDownloadStatusDetails=function(){if(Ru.DownloadOverview.update_app_id==this.props.appid)switch(Ru.DownloadOverview.update_state){case"Reconfiguring":case"Validating":case"AddingFiles":case"Preallocating":case"Committing":case"Verifying":case"Stopping":case"Running":return Object(R.f)("#Downloads_State_"+Ru.DownloadOverview.update_state);case"Downloading":case"Staging":var e=Ru.downloadTimeRemaining;return""==e?Object(R.f)("#Downloads_State_Calculating"):"@ "+Object(wl.a)(Ru.networkRateBytesPerSecond,1,!1)+"/s | "+e;case"None":return Object(R.f)("#Downloads_State_Calculating")}return""},Object.defineProperty(e.prototype,"statusComponent",{get:function(){var e=this.props.appOverview&&vf.GetAppImportantUpdate(this.props.appid);if(e){var t=Date.now()/1e3-e.date,n=Object(R.f)("#AppPortraitHover_DaysSinceLastUpdate",Object(R.r)(t));return D.createElement("div",{className:Object(cr.a)(xg.a.AppStatus,xg.a.GameUpdatedContainer)},D.createElement("div",{className:xg.a.GameUpdatedCircle}),D.createElement("div",{className:Object(cr.a)(xg.a.ImportantUpdate)}," ",n," "))}var r="";if(this.props.appOverview&&this.props.appOverview.BIsAppBlocked()||!this.props.appOverview&&this.props.appid&&Za.BIsAppBlocked(this.props.appid))r=Object(R.f)("#DisplayStatus_ParentalBlocked");else switch(this.props.displayStatus){case 1:case 2:case 3:case 5:case 6:case 7:case 22:case 18:case 25:case 21:case 12:case 13:case 17:case 26:r=jc(this.props.displayStatus,!0)}return D.createElement("div",{className:xg.a.AppStatus,key:"appstatus"},r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"downloadStatusVisible",{get:function(){return!!this.props.appOverview&&(7==this.props.displayStatus||6==this.props.displayStatus)},enumerable:!1,configurable:!0}),e.prototype.render=function(){var e=this.props.appOverview&&Xa.GetVerticalCapsuleURLForApp(this.props.appOverview)&&!1!==this.props.bHasVerticalCapsule,t=$g(this.props.appid).length,n=0<t,r=this.props.appOverview&&8192==this.props.appOverview.app_type,i=this.props.appOverview&&!r,a=this.props.appOverview&&!r,o=i&&lu(this.props.appOverview.minutes_playtime_last_two_weeks,"#AppBox_RecentPlayTime_"),s=i&&lu(this.props.appOverview.minutes_playtime_forever,"#AppBox_TotalPlayTime_");return D.createElement("div",{className:xg.a.AppPortraitHover,onClick:this.OnClick,onContextMenu:this.OnClick},D.createElement("div",{className:xg.a.CapsuleBackgroundContainer},this.props.appOverview&&D.createElement(co,{app:this.props.appOverview,eAssetType:e?0:3,className:xg.a.CapsuleBackground})),D.createElement("div",{className:Object(cr.a)(xg.a.Content,n&&xg.a.FriendsPlaying)},D.createElement("div",{className:xg.a.AppTitleContainer},D.createElement("div",{className:xg.a.AppTitle,key:"title"},this.props.displayName)),(n||Tc.GetToggle(2))&&D.createElement("div",{className:xg.a.FriendsContainer},D.createElement("div",{className:xg.a.FriendsHeader},D.createElement("div",{className:xg.a.FriendsCircle}),D.createElement("div",{className:xg.a.FriendsLabel},Object(R.f)("#AppPortraitHover_FriendsPlaying",t))),D.createElement("div",null,D.createElement(Xg,{appid:this.props.appid,bPortraitHover:!0,nFriendsToShow:5}))),a&&D.createElement(Hg,{appid:this.props.appid,appOverview:this.props.appOverview}),this.statusComponent,this.downloadStatusVisible&&D.createElement("div",{className:xg.a.DownloadStatus},D.createElement("div",{className:xg.a.DownloadContainer},D.createElement("div",{className:xg.a.DownloadStatusTitle},this.GetDownloadStatusTitle()),D.createElement(Vu,{className:Gu.a.PortraitBar,progressPct:this.props.appOverview.status_percentage,style:{width:"100%"}}),D.createElement("div",{className:xg.a.DownloadStatusDetails}," ",this.GetDownloadStatusDetails()))),!this.downloadStatusVisible&&!!o&&!!s&&!this.props.fnRenderBlurb&&D.createElement("div",{className:xg.a.GameStatus},D.createElement("div",{className:xg.a.PlaytimeDetails},D.createElement("div",{className:Object(cr.a)(xg.a.Header)},Object(R.f)("#AppBox_PlayTimeHeader")),D.createElement("div",{className:Object(cr.a)(xg.a.PlayedRecent)},o),D.createElement("div",{className:Object(cr.a)(xg.a.PlayedTotal)},s))),r&&D.createElement("div",{className:xg.a.GameStatus},D.createElement("div",{className:xg.a.PlaytimeDetails},D.createElement(y_,{appid:this.props.appid}))),this.props.fnRenderBlurb&&this.props.fnRenderBlurb()))},Object(j.c)([O.observable],e.prototype,"m_bManageMenuVisible",void 0),Object(j.c)([E.a],e.prototype,"OnDownloadPaused",null),Object(j.c)([E.a],e.prototype,"OnManageClick",null),Object(j.c)([E.a],e.prototype,"OnClick",null),Object(j.c)([o.observer],e)}(D.Component),Vg=n("hnze"),qg=n.n(Vg),Yg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){for(var e,t=this.props,n=t.className,r=t.rgFriends,i=t.nMaxIcons,a=t.bFeatured,o=t.bPortraitHover,s=t.avatarSize,c=t.bHideStatus,l=Object(j.f)(t,["className","rgFriends","nMaxIcons","bFeatured","bPortraitHover","avatarSize","bHideStatus"]),u=[],p=r.length<=i?r.length:i-1,d=Math.max(0,r.length-p),m=0;m<p;++m){var h=r[m]&&r[m].persona,f=h?h.m_steamid.GetAccountID():"index "+m;u.push(D.createElement(vu,{key:f,friend:r[m],size:s,statusPosition:c?"none":"bottom"}))}return 0<d&&(e=Object(cr.a)(qg.a.IconsRestCount,n,a&&qg.a.Featured,o&&qg.a.PortraitHover,9<d&&qg.a.TwoDigits),u.push(D.createElement("div",{className:e,key:"rest count "},"+",d))),D.createElement("div",Object(j.a)({},l,{className:Object(cr.a)(qg.a.FriendsBar,qg.a.IconsView,n,a&&qg.a.Featured,o&&qg.a.PortraitHover)}),u)},Object(j.c)([o.observer],t)}(D.Component),Qg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.nFriends,r=Object(j.f)(e,["className","nFriends"]);return D.createElement("div",Object(j.a)({},r,{className:Object(cr.a)(qg.a.FriendsBar,qg.a.SummaryView,t)}),D.createElement("div",{className:qg.a.SummaryLeader}),D.createElement("div",{className:qg.a.SummaryCount},n))},Object(j.c)([o.observer],t)}(D.Component),Zg=n("w9XT");function Kg(e){var t=e.strength,n=Object(j.f)(e,["strength"]),r=0;switch(null!=t?t:C.q.Excellent){case C.q.None:r=0;break;case C.q.Weak:r=1;break;case C.q.Ok:r=2;break;case C.q.Good:r=3;break;case C.q.Excellent:r=4}return D.createElement("svg",Object(j.a)({width:"24px",height:"24px",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),D.createElement("path",{fillOpacity:1<=r?"1":"0.5",d:"M4 31.9747C4.00501 31.9747 4.00773 31.9753 4.00773 31.9753L4.00907 31.9757C4.00907 31.9757 4.01377 31.9781 4.01786 31.9822C4.02196 31.9862 4.0243 31.9909 4.0243 31.9909L4.02471 31.9923C4.02471 31.9923 4.02526 31.995 4.02526 32H9.00169C9.00169 29.2377 6.76236 26.9983 4 26.9983L4 31.9747Z",fill:"currentColor"}),D.createElement("path",{fillOpacity:2<=r?"1":"0.5",d:"M4 19.4579L4 24.4343C8.17842 24.4343 11.5657 27.8216 11.5657 32L16.5421 32C16.5421 25.0732 10.9268 19.4579 4 19.4579Z",fill:"currentColor"}),D.createElement("path",{fillOpacity:3<=r?"1":"0.5",d:"M4 16.8939L4 11.9174C15.0913 11.9175 24.0825 20.9087 24.0825 32L19.1061 32C19.1061 23.6571 12.3429 16.8939 4 16.8939Z",fill:"currentColor"}),D.createElement("path",{fillOpacity:4<=r?"1":"0.5",d:"M4 4L4 8.97643C16.7156 8.97643 27.0236 19.2844 27.0236 32H32C32 16.536 19.464 4 4 4Z",fill:"currentColor"}))}D.Component;D.Component,Math.floor(200/1.5);var Jg=Object(o.observer)(function(e){var t=$g(e.appid).length;return 0<t&&D.createElement(Qg,{nFriends:t})}),Xg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.bFeatured,n=e.rgFriends,r=e.bPortraitHover,i=e.bShortLayout,a=e.nFriendsToShow,o=e.appid,s=e.context,c=n||$g(o);if(Tc.GetToggle(2))for(c=c.slice();c.length<30;){var l=ei.allFriends[c.length%ei.allFriends.length];if(!l)break;c.push(l)}if(0==c.length)return null;var u=(u=a)||(i?t?3:2:4);return D.createElement(Yg,{className:Object(cr.a)(i&&qg.a.Short,4==s&&qg.a.InFriendsActivity),rgFriends:c,bHideStatus:4==s,nMaxIcons:u,bFeatured:t,bPortraitHover:r,avatarSize:i?"X-Small":"Small"})},Object(j.c)([o.observer],t)}(D.Component);function $g(e){return ei.GetFriendsInGame(e)}function ey(e){var t=lu(e.app.minutes_playtime_last_two_weeks,"#AppBox_RecentPlayTime_"),n=lu(e.app.minutes_playtime_forever,"#AppBox_TotalPlayTime_");return D.createElement("div",{className:Object(cr.a)(qg.a.PlaytimeDetails,e.bShortLayout&&qg.a.Short)},D.createElement("div",{className:Object(cr.a)(qg.a.PlaytimeDetails,qg.a.Header,e.bShortLayout&&qg.a.Short)},Object(R.f)("#AppBox_PlayTimeHeader")),D.createElement("div",{className:Object(cr.a)(qg.a.PlaytimeDetails,qg.a.PlayedRecent,e.bShortLayout&&qg.a.Short)},t),D.createElement("div",{className:Object(cr.a)(qg.a.PlaytimeDetails,qg.a.PlayedTotal,e.bShortLayout&&qg.a.Short)},n))}function ty(e){return D.createElement("div",{className:Object(cr.a)(qg.a.PortraitMessage,e.bShortLayout&&qg.a.Short)},D.createElement("div",{className:Object(cr.a)(qg.a.PortraitMessage,qg.a.Message,e.bShortLayout&&qg.a.Short)},e.strMessage),e.strSubMessage&&D.createElement("div",{className:Object(cr.a)(qg.a.PortraitMessage,qg.a.SubMessage,e.bShortLayout&&qg.a.Short)},e.strSubMessage))}function ny(e){switch(e.display_status){case 3:case 9:case 7:case 13:return 1}}var ry=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refImage=D.createRef(),e.m_refImageFeatured=D.createRef(),e.m_mouseY=0,e.m_mouseX=0,e.m_mouseDelta=0,e.m_bLongPress=!1,e.m_bListenForLongPress=!1,e.m_bPressActive=!1,e}var n;return Object(j.d)(e,t),(n=e).prototype.componentWillUnmount=function(){this.StopListening()},e.prototype.StopListening=function(){var t=this;this.m_bPressActive=!1,window.clearTimeout(this.m_pressTimer),window.removeEventListener("mousemove",function(e){return t.OnGlobalMouseMove(e)})},e.prototype.OnLongPress=function(){var e;this.m_mouseDelta<20&&(this.m_bLongPress=!0,(e=$l(Ql(this.props.app,"mostavailable"),this.props.app,"mostavailable",100))&&e()),this.StopListening()},e.prototype.OnStartListenForPress=function(){this.m_bListenForLongPress=!0},e.prototype.OnMouseDown=function(e){var t=this;0==e.button&&(this.m_mouseX=e.clientX,this.m_mouseY=e.clientY,this.m_mouseDelta=0,this.m_bLongPress=!1,this.m_bPressActive=!0,this.m_bListenForLongPress=!1,Object(Fa.n)(e).addEventListener("mousemove",this.OnGlobalMouseMove),this.m_pressStartListenTimer=window.setTimeout(function(){return t.OnStartListenForPress()},200),this.m_pressTimer=window.setTimeout(function(){return t.OnLongPress()},1200),e.preventDefault(),e.stopPropagation())},e.prototype.OnGlobalMouseMove=function(e){this.m_mouseDelta=this.m_mouseDelta+Math.abs(this.m_mouseX-e.clientX)+Math.abs(this.m_mouseY-e.clientY),this.m_mouseX=e.clientX,this.m_mouseY=e.clientY},e.prototype.OnClick=function(){Qa.NavigateToApp(this.props.app.appid,this.props.strCollectionId)},e.prototype.GetStatusText=function(){return jc(this.props.app.display_status)},e.prototype.RenderAppActionsMenu=function(){var e=this.m_refImage.current?this.m_refImage.current.GetAssetImage():this.m_refImageFeatured.current.GetAssetImage();return D.createElement(nu,{overview:this.props.app,client:"mostavailable",launchSource:1e3,hasCustomArtwork:e&&e.is_custom_image,onChangeArtwork:e&&e.OnChangeArtwork,strCollectionId:this.props.strCollectionId})},e.prototype.ShowContextMenu=function(e){Object(zi.a)(this.RenderAppActionsMenu(),e,ru())},e.prototype.OnContextMenu=function(e){Object(zi.a)(this.RenderAppActionsMenu(),e,ru())},e.prototype.RenderAppPortraitHover=function(){return D.createElement(Wg,{appid:this.props.app.appid,displayName:this.props.app.display_name,displayStatus:this.props.app.display_status,bHasVerticalCapsule:this.m_refImage.current&&this.m_refImage.current.BHasVerticalCapsule(),appOverview:this.props.app})},e.GetDimensionsForELibraryDisplaySize=function(e,t){var n,r=!1;return 1==(e=ho.GetComputedDisplaySize(e))?(n=111,r=!0):2==e?n=148:3==e&&(n=222),{childWidth:n,childHeight:1.5*n,bShort:r}},e.GetELibraryDisplaySizeForWidth=function(e){switch(e){case 111:return 1;case 148:return 2;case 222:return 3}return Object(w.a)(!1,"Invalid childWidth "+e+" passed to GetELibraryDisplaySizeForWidth"),2},e.prototype.GetClassForWidth=function(e){if(!e)return null;switch(n.GetELibraryDisplaySizeForWidth(e)){case 1:return qg.a.Small;case 2:return qg.a.Medium;case 3:return qg.a.Large;default:return null}},e.prototype.render=function(){if(this.props.bHidePortrait)return null;var e,t=this.props,n=t.bShortLayout,r=t.bShowFriendsAsIcons,i=this.props.bFeatured?qg.a.Landscape:qg.a.Portrait,a=8192==this.props.app.app_type;switch(this.props.context){case 1:e=qg.a.InCollection;break;case 2:e=qg.a.InRecentGames;break;case 3:e=qg.a.InGameDetails;break;case 4:e=qg.a.InFriendsActivity;break;case 5:e=qg.a.InPlayNext}var o,s,c=uo.GetDragData("apps")&&0<uo.GetDragData("apps").length,l=Object(cr.a)(qg.a.LibraryItemBox,i,e,ny(this.props.app)?qg.a.NotInstalled:null,this.props.bFeatured?qg.a.FeaturedCapsule:null,null,null),u=Object(cr.a)(qg.a.Draggable,n&&qg.a.Short,!c&&qg.a.HoversEnabled,a&&qg.a.Soundtrack,this.GetClassForWidth(this.props.nWidth),null);s=this.props.bFeatured?D.createElement(iy,Object(j.a)({ref:this.m_refImageFeatured},this.props)):(o=!a&&!0,D.createElement(D.Fragment,null,D.createElement(ay,{ref:this.m_refImage,app:this.props.app,bShortLayout:this.props.bShortLayout}),!Qa.BLowPerfMode()&&D.createElement("div",{className:Object(cr.a)(qg.a.LibraryItemBoxShine,i)}),!r&&D.createElement(Jg,{appid:this.props.app.appid}),o&&D.createElement(uy,{app:this.props.app}),!1,!1));var p=D.createElement(Zg.b,{boundActions:!1},D.createElement(zc,{startFocused:this.props.bFeatured,noPrimaryAction:!1,className:l,onClick:this.OnClick,onContextMenu:this.OnContextMenu,hoverDelay:300,onMouseDown:void 0,onKeyDown:void 0,onKeyUp:void 0,renderHover:this.RenderAppPortraitHover,bDisabled:c,strKey:"AppPortraitHover"+this.props.app.appid},s),!this.props.bHideBanners&&D.createElement(ly,Object(j.a)({},this.props,{context:this.props.context,bShortLayout:this.props.bShortLayout})),r&&D.createElement(Xg,{appid:this.props.app.appid,bFeatured:this.props.bFeatured,bShortLayout:this.props.bShortLayout,context:this.props.context}),D.createElement(py,{app:this.props.app}),D.createElement(oy,{app:this.props.app,sortByType:this.props.sortByType,context:this.props.context}),!1);return D.createElement(xo,{appid:this.props.app.appid,strCollectionId:this.props.strCollectionId,className:u},p)},e.prototype.OnKeyDown=function(e){},e.prototype.OnKeyUp=function(e){0},Object(j.c)([O.observable],e.prototype,"m_bPressActive",void 0),Object(j.c)([E.a],e.prototype,"OnMouseDown",null),Object(j.c)([E.a],e.prototype,"OnGlobalMouseMove",null),Object(j.c)([E.a],e.prototype,"OnClick",null),Object(j.c)([E.a],e.prototype,"OnContextMenu",null),Object(j.c)([E.a],e.prototype,"RenderAppPortraitHover",null),Object(j.c)([Object(E.b)("render","appportrait")],e.prototype,"render",null),Object(j.c)([E.a],e.prototype,"OnKeyDown",null),Object(j.c)([E.a],e.prototype,"OnKeyUp",null),n=Object(j.c)([o.observer],e)}(D.Component),iy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refAssetImage=D.createRef(),e}return Object(j.d)(e,t),e.prototype.OnLandscapeImageLoaded=function(e){this.m_strImageURL=e.currentTarget.src},e.prototype.GetAssetImage=function(){return this.m_refAssetImage.current},e.prototype.GetLandscapeImageURL=function(){return this.m_strImageURL},e.prototype.render=function(){return D.createElement(D.Fragment,null,D.createElement(co,{ref:this.m_refAssetImage,app:this.props.app,eAssetType:3,className:Object(cr.a)(qg.a.PortraitImage,qg.a.Landscape,qg.a.NoCapsuleImage),onLoad:this.OnLandscapeImageLoaded,bShortDisplay:this.props.bShortLayout}),!Qa.BLowPerfMode()&&D.createElement("div",{className:Object(cr.a)(qg.a.LibraryItemBoxShine,qg.a.Landscape)}),!Jr.settings.bLibraryBasicMode&&D.createElement(sy,{app:this.props.app,context:this.props.context,bHideFooter:this.props.bHideFooter,bShortLayout:this.props.bShortLayout,landscapeURLSource:this,strMessage:this.props.strMessage,strSubMessage:this.props.strSubMessage}))},Object(j.c)([E.a],e.prototype,"OnLandscapeImageLoaded",null),Object(j.c)([O.observable],e.prototype,"m_strImageURL",void 0),Object(j.c)([o.observer],e)}(D.Component),ay=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refAssetImage=D.createRef(),e.state={nCurrentVerticalCapsuleAppId:void 0},e}return Object(j.d)(e,t),e.prototype.GetAssetImage=function(){return this.m_refAssetImage.current},e.prototype.OnVerticalCapsuleLoad=function(e){this.setState({nCurrentVerticalCapsuleAppId:e})},e.prototype.OnVerticalCapsuleError=function(){console.log("No vertical capsule for",this.props.app.appid,this.props.app.display_name),this.setState({nCurrentVerticalCapsuleAppId:-1})},e.prototype.BHasVerticalCapsule=function(){return this.props.app&&this.props.app.appid==this.state.nCurrentVerticalCapsuleAppId},e.prototype.render=function(){var e=this;return D.createElement(co,{ref:this.m_refAssetImage,app:this.props.app,eAssetType:0,className:Object(cr.a)(qg.a.PortraitImage,qg.a.Capsule,this.BHasVerticalCapsule()&&qg.a.CapsuleVisible),onLoad:function(){return e.OnVerticalCapsuleLoad(e.props.app&&e.props.app.appid)},onError:this.OnVerticalCapsuleError,bShortDisplay:this.props.bShortLayout})},Object(j.c)([E.a],e.prototype,"OnVerticalCapsuleLoad",null),Object(j.c)([E.a],e.prototype,"OnVerticalCapsuleError",null),Object(j.c)([E.a],e.prototype,"BHasVerticalCapsule",null),e}(D.Component),oy=Object(o.observer)(function(e){var t=e.app,n=e.sortByType,r=e.context;if(1==n||1!=r)return null;var i=!1,a=null;switch(n){case 4:if(0==t.minutes_playtime_forever)return null;c=lu(t.minutes_playtime_forever);break;case 5:if(!t.GetLastTimePlayed())return null;c=Object(R.q)(t.GetLastTimePlayed());break;case 9:var o=t.metacritic_score;if(void 0===o)return null;a=qg.a.MCGreen,o<70&&49<o?a=qg.a.MCOrange:o<50&&(a=qg.a.MCRed),c=o;break;case 6:if(0==t.GetCanonicalReleaseDate())return null;c=Object(R.p)(t.GetCanonicalReleaseDate());break;case 8:if(null==t.size_on_disk)return null;c=Object(wl.a)(parseFloat(t.size_on_disk),2),null!=t.library_id&&(c=t.library_id+" "+c);break;case 2:var s,c=Pg.BGameHasAchievements(t.appid)?(100==(s=Pg.GetAchievementProgress(t.appid))&&(i=!0),Object(R.f)("#Library_SortByPctAchievementsComplete_Tag",Math.floor(s))):Object(R.f)("#Library_SortByPctAchievementsNoAchievements_Tag");break;case 11:var l=t.review_score,u=t.review_percentage;if(!l)return null;c=D.createElement("span",null,Object(R.f)("#SteamReviewScore_"+l)," - ",u,"%"),a=5<l?qg.a.SteamReviewPositive:l<5?qg.a.SteamReviewNegative:qg.a.SteamReviewMixed,a=Object(cr.a)(qg.a.SteamReview,a);break;case 10:default:return null}return D.createElement("div",{className:Object(cr.a)(qg.a.LibraryItemBoxSubscript,a,i?qg.a.ClassAllAchieved:"")},i&&D.createElement(_r.a,{fullcolor:!0}),c)}),sy=Object(o.observer)(function(e){var t=e.app,n=e.context,r=e.bHideFooter,i=e.bShortLayout,a=e.landscapeURLSource,o=e.strMessage,s=e.strSubMessage,c=a.GetLandscapeImageURL(),l=o?D.createElement(ty,{strMessage:o,strSubMessage:s,bShortLayout:i}):D.createElement(ey,{app:t,bShortLayout:i});return D.createElement(D.Fragment,null,(2==n||5==n)&&D.createElement(cy,{app:t}),!r&&D.createElement("div",{className:Object(cr.a)(qg.a.RecentGameFooter)},l,D.createElement("div",{className:Object(cr.a)(qg.a.FooterBlurImageContainer)},c&&D.createElement("img",{className:qg.a.FooterBlurImage,src:c}))))}),cy=(Object(o.observer)(function(e){var t=e.app.display_name?e.app.display_name:e.app.appid.toString(),n=0<e.app.minutes_playtime_last_two_weeks?lu(e.app.minutes_playtime_last_two_weeks,"#AppBox_RecentPlayTime_"):lu(e.app.minutes_playtime_forever,"#AppBox_TotalPlayTime_"),r=D.createElement(ty,{strMessage:t,strSubMessage:n,bShortLayout:!1});return D.createElement(D.Fragment,null,(2==e.context||5==e.context)&&D.createElement(cy,{app:e.app}),(2==e.context||5==e.context)&&D.createElement("div",{className:Object(cr.a)(qg.a.CarouselItemLabel,qg.a.Focused)},r,D.createElement("div",{className:Object(cr.a)(qg.a.FooterBlurImageContainer)})))}),Object(o.observer)(function(e){var t,n=e.app,r=Ql(n,"mostavailable"),i=Zl(n,"mostavailable"),a=eu(r||i);switch(a||console.warn("WARNING: No action icon for app action ",r),r){case"Play":case"Launch":case"Stream":t=qg.a.Play;break;case"Cancel":case"Stop":t=qg.a.Stop;break;case"Pause":t=qg.a.Pause;break;case"Download":case"Resume":case"PreLoad":case"Install":t=qg.a.Download;break;case"Update":t=qg.a.Update}var o=Object(cr.a)(qg.a.LibraryItemActionButton,qg.a.Landscape,t,!1,!r&&qg.a.Disabled);return D.createElement("div",{className:o,key:"action button",onMouseDown:null,onClick:function(e){$l(r,n,"mostavailable",100)();"Play"!=r&&(e.stopPropagation(),e.preventDefault())}},a)})),ly=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e,t=this.props.bFeatured?qg.a.Landscape:qg.a.Portrait;if(13==this.props.app.display_status?e=this.props.bShortLayout?"#AppBox_ComingSoon_Short":"#AppBox_ComingSoon":this.props.app.BIsNewToLibrary()&&(e=this.props.bShortLayout?"#AppBox_NewToLibrary_Short":"#AppBox_NewToLibrary"),e){var n=1==this.props.context;return D.createElement("div",{className:Object(cr.a)(qg.a.AppPortraitBanner,t,n?qg.a.InCollection:"")},Object(R.f)(e))}return null},Object(j.c)([o.observer],t)}(D.Component),uy=Object(o.observer)(function(e){var n=e.app;if(!ny(n))return null;var t=13!=n.display_status,r=D.createElement(Co.b,null,D.createElement(Co.e,{toolTipContent:t?Object(R.f)("#GameAction_Install"):Object(R.f)("#DisplayStatus_Compact_PresaleOnly")}));return D.createElement(Co.d,{bDisabled:!1,direction:"top",nDelayShowMS:100,toolTipContent:r,className:Object(cr.a)(qg.a.UninstalledIcon,!t&&qg.a.ComingSoonIcon),onClick:function(e){var t=Ql(n,"mostavailable");$l(t,n,"mostavailable",100)(),"Play"!=t&&e.stopPropagation()},key:"UninstalledIcon"},t?D.createElement(_r.x,null):D.createElement(_r.P,null))}),py=Object(o.observer)(function(e){var t=e.app,n=7==t.display_status;switch(t.display_status){case 3:case 9:case 13:case 7:break;default:return null}return D.createElement("div",{className:Object(cr.a)(qg.a.UninstalledBar,qg.a.UninstalledBarBottom,n?qg.a.BarDownloading:null)},D.createElement("div",{className:qg.a.UninstalledProgressBar,style:{width:t.status_percentage+"%"}}))}),dy=(Object(o.observer)(function(e){var r=e.app;if("Stream"!=Ql(r,"mostavailable"))return null;return D.createElement(Co.d,{bDisabled:!1,direction:"top",nDelayShowMS:100,className:Object(cr.a)(qg.a.UninstalledIcon),onClick:function(e){var t=Ql(r,"mostavailable"),n=$l(t,r,"mostavailable",100);n&&n(),"Stream"!=t&&e.stopPropagation()},key:"StreamingIcon"},D.createElement(Kg,null))}),n("rdgp")),my=n.n(dy),hy=function(n){function e(e){var t=n.call(this,e)||this;return t.m_rgOptions=[{data:1,label:Object(R.f)("#Library_SortByAlphabetical")},{data:10,label:Object(R.f)("#Library_SortByFriendsPlaying")},{data:2,label:Object(R.f)("#Library_SortByPctAchievementsComplete")},{data:4,label:Object(R.f)("#Library_SortByHoursPlayed")},{data:5,label:Object(R.f)("#Library_SortByLastPlayed")},{data:6,label:Object(R.f)("#Library_SortByReleaseDate")},{data:8,label:Object(R.f)("#Library_SortBySizeOnDisk")},{data:9,label:Object(R.f)("#Library_SortByMetacriticScore")},{data:11,label:Object(R.f)("#Library_SortBySteamReview")}],t.m_elDivRef=D.createRef(),e.enableFavoritesFirst&&(t.m_rgOptions[0].label=Object(R.f)("#Library_SortByFavoritesFirst")),t}return Object(j.d)(e,n),e.prototype.OnChange=function(e){this.props.onSortChangeCallback(e.data),this.m_elDivRef.current&&this.m_elDivRef.current.focus()},e.prototype.render=function(){var e=this.props,t=e.className,n=e.initialValue,r=(e.enableFavoritesFirst,e.onSortChangeCallback,e.postDropdownElement),i=e.disabled,a=Object(j.f)(e,["className","initialValue","enableFavoritesFirst","onSortChangeCallback","postDropdownElement","disabled"]),o=Object(R.f)("#Library_SortCollectionBy");return D.createElement("div",Object(j.a)({className:Object(cr.a)(my.a.SortingDropDown,t),ref:this.m_elDivRef,tabIndex:-1},a),D.createElement("div",{className:my.a.SortingDropDownLabel},o),D.createElement(Si.h,{rgOptions:this.m_rgOptions,onChange:this.OnChange,postDropdownElement:r,disabled:i,selectedOption:n,strClassName:my.a.MenuHeader,strDropDownClassName:my.a.SortingDropDownContainer,strDropDownItemClassName:my.a.SortingDropDownItems,fnRenderControl:function(e){return D.createElement(Ni.c,Object(j.a)({navStop:!0},e))},menuLabel:o}))},Object(j.c)([O.action.bound],e.prototype,"OnChange",null),Object(j.c)([o.observer],e)}(D.Component),fy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_elemScrollableAncestor=null,e.m_elemHeader=null,e.m_fBackgroundOpacity=0,e.m_resizeObserver=new ResizeObserver(e.updateBackgroundFade),e.m_mutationObserver=new MutationObserver(e.updateBackgroundFade),e.m_fMarginTop=0,e}return Object(j.d)(e,t),e.prototype.setHeaderElement=function(e){var t=this;this.stopScrollListening(),this.m_elemHeader=e,this.m_elemHeader&&(this.m_elemScrollableAncestor=Object(Fa.l)(e),this.m_elemScrollableAncestor&&(this.m_elemScrollableAncestor.addEventListener("scroll",this.updateBackgroundFade),this.m_resizeObserver.observe(this.m_elemScrollableAncestor),this.m_mutationObserver.observe(this.m_elemScrollableAncestor,{subtree:!0,childList:!0})),this.m_fMarginTop=0,setTimeout(function(){t.m_fMarginTop=Number.parseFloat(window.getComputedStyle(t.m_elemHeader).marginTop),t.updateBackgroundFade()},0))},e.prototype.stopScrollListening=function(){this.m_elemScrollableAncestor&&(this.m_resizeObserver.unobserve(this.m_elemScrollableAncestor),this.m_mutationObserver.disconnect(),this.m_elemScrollableAncestor.removeEventListener("scroll",this.updateBackgroundFade),this.m_elemScrollableAncestor=null)},e.prototype.componentWillUnmount=function(){this.stopScrollListening(),this.m_resizeObserver.disconnect()},e.prototype.updateBackgroundFade=function(){var e,t,n,r,i,a,o,s,c,l=Math.floor(null!==(t=null===(e=this.m_elemScrollableAncestor)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0),u=null!==(r=null===(n=this.m_elemHeader)||void 0===n?void 0:n.offsetTop)&&void 0!==r?r:0,p=null!==(o=null===(a=null===(i=this.m_elemHeader)||void 0===i?void 0:i.offsetParent)||void 0===a?void 0:a.offsetTop)&&void 0!==o?o:0,d=Math.round(p+u-l),m=this.m_fMarginTop<0?-this.m_fMarginTop:0,h=1-d/((null!==(c=null===(s=this.m_elemHeader)||void 0===s?void 0:s.clientHeight)&&void 0!==c?c:0)-m);.95<h&&(h=1),this.m_fBackgroundOpacity!=h&&(this.m_fBackgroundOpacity=h,this.m_elemHeader.style.setProperty("--sticky-header-background-opacity",""+h))},e.prototype.render=function(){return D.createElement("div",{key:"Header"+this.props.subSectionName,ref:this.setHeaderElement,className:my.a.AppGridSectionHeader},D.createElement("div",{className:my.a.AppGridSectionLabel},this.props.subSectionName),D.createElement("div",{className:my.a.Rule}))},Object(j.c)([E.a],e.prototype,"setHeaderElement",null),Object(j.c)([E.a],e.prototype,"updateBackgroundFade",null),e}(D.Component),by=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.ComputeChildSizes=function(){var e=this.props.coverSize;return ry.GetDimensionsForELibraryDisplaySize(e,window)},t.prototype.RenderChild=function(e,t){return D.createElement(Ks.a,{key:"app_list_"+e.appid},D.createElement(ry,{app:e,strCollectionId:this.props.strCollectionId,bShowFriendsAsIcons:!1,context:1,nWidth:t,sortByType:this.props.eSortBy,bShortLayout:1==ry.GetELibraryDisplaySizeForWidth(t)}))},t.prototype.OnToggleReadyToPlay=function(){Qa.SelectCollectionsAppFilterOption(Pe.kPlayState,We.ReadyToPlay,!1),SteamClient.Stats.RecordActivationEvent("FilterOption_ReadyToPlay_GridView","Disabled")},t.prototype.render=function(){var t=this,n=this.ComputeChildSizes(),e=this.props.children.map(function(e){return t.RenderChild(e,n.childWidth)});return 0!=this.props.numExcluded&&e.push(D.createElement("div",{key:"ready_to_play",className:Object(cr.a)(my.a.ReadyToPlayBigButton,1==ry.GetELibraryDisplaySizeForWidth(n.childWidth)&&my.a.Small,2==ry.GetELibraryDisplaySizeForWidth(n.childWidth)&&my.a.Medium),onClick:this.OnToggleReadyToPlay},D.createElement("div",{className:my.a.ReadyToPlayIcon},D.createElement(_r.fb,null)),D.createElement("div",{className:my.a.CountGamesExcluded},Object(R.f)("#CollectionView_GamesExcluded",this.props.numExcluded)),D.createElement("div",{className:my.a.CountGamesExcludedDesc},Object(R.f)("#CollectionView_GamesExcluded_Desc")))),D.createElement("div",{className:my.a.AppGridSection},D.createElement(fy,{subSectionName:this.props.subSectionName}),D.createElement(Io,{childWidth:n.childWidth,childHeight:n.childHeight,gridColumnGap:16,gridRowGap:24,scaleGridItems:1,paddingLeft:8,paddingRight:8,gridClassName:my.a.YourCollection,childElements:e,scrollElement:this.props.elScrollElement,renderOutsideRows:2}),D.createElement("div",{className:my.a.AppGridSectionFooter}))},Object(j.c)([E.a],t.prototype,"RenderChild",null),Object(j.c)([o.observer],t)}(D.Component),_y=function(a){function e(e){var t=a.call(this,e)||this,n={eSortBy:1},r=window.localStorage.getItem("AppGridDisplaySettings");try{var i=JSON.parse(r);i&&i.eSortBy&&(n.eSortBy=i.eSortBy)}catch(e){}return t.state={eSortBy:n.eSortBy,elMyElement:void 0},t.m_FilterAndSort=Object(Lg.a)(function(e,t,n,r){var i=t;return n&&(i=i.filter(e.FilterToInstalled)),r&&(i=i.sort(r)),i=i.filter(Qa.collectionsAppFilter.Matches)}),t}var d;return Object(j.d)(e,a),(d=e).prototype.OnSortingChange=function(e){this.setState({eSortBy:e},this.PersistSettings)},e.FavoritesFirstComparator=function(e,t){return mi.BIsFavorite(e.appid)&&!mi.BIsFavorite(t.appid)?-1:mi.BIsFavorite(t.appid)&&!mi.BIsFavorite(e.appid)?1:Xa.CompareSortAs(e,t)},e.DescendingPlaytimeComparator=function(e,t){return t.minutes_playtime_forever-e.minutes_playtime_forever},e.DescendingLastPlayedComparator=function(e,t){return t.rt_last_time_played-e.rt_last_time_played},e.DescendingMetacriticScoreComparator=function(e,t){return(t.metacritic_score||0)-(e.metacritic_score||0)},e.LatestReleaseDateComparator=function(e,t){var n=e.GetCanonicalReleaseDate(),r=t.GetCanonicalReleaseDate(),i=0==n&&e.BIsUnreleased(),a=0==r&&t.BIsUnreleased();return i&&a?0:i&&!a?-1:!i&&a?1:r-n},e.DescendingSizeOnDiskComparator=function(e,t){return e.installed&&!t.installed?-1:t.installed&&!e.installed?1:(t.size_on_disk?Number(t.size_on_disk):0)-(e.size_on_disk?Number(e.size_on_disk):0)},e.DescendingFriendCountComparator=function(e,t){return $g(t.appid).length-$g(e.appid).length},e.DescendingAchievementsCompleteComparator=function(e,t){var n=Pg.GetAchievementProgress(e.appid);Pg.BGameHasAchievements(e.appid)||(n=-1);var r=Pg.GetAchievementProgress(t.appid);return Pg.BGameHasAchievements(t.appid)||(r=-1),r-n},e.DescendingSteamReviewComparator=function(e,t){return e.review_score==t.review_score?t.review_percentage-e.review_percentage:t.review_score-e.review_score},e.GetSortFunc=function(e,t){var n=void 0;if(1!=e)switch(e){case 4:n=this.DescendingPlaytimeComparator;break;case 5:n=this.DescendingLastPlayedComparator;break;case 9:n=this.DescendingMetacriticScoreComparator;break;case 6:n=this.LatestReleaseDateComparator;break;case 8:n=this.DescendingSizeOnDiskComparator;break;case 10:n=this.DescendingFriendCountComparator;break;case 2:n=this.DescendingAchievementsCompleteComparator;break;case 11:n=this.DescendingSteamReviewComparator}else t&&(n=this.FavoritesFirstComparator);return function(e,t){return n&&n(e,t)||Xa.CompareSortAs(e,t)}},e.prototype.PersistSettings=function(){var e={eSortBy:this.state.eSortBy};window.localStorage.setItem("AppGridDisplaySettings",JSON.stringify(e))},e.prototype.BindRef=function(e){this.setState({elMyElement:e})},e.prototype.EmptyGridMessage=function(){var e,t=this.props.strCollectionId&&mi.GetCollection(this.props.strCollectionId);return t.bAllowsDragAndDrop?t.bIsDynamic?(e=["#CollectionView_EmptyDynamicCollection_Line1"],t.bIsEditable&&e.push("#CollectionView_EmptyDynamicCollection_Line2")):e=0<t.visibleApps.length?[Object(R.m)("#CollectionView_EmptyCollection_BecauseFilter",t.visibleApps.length)]:["#CollectionView_EmptyCollection"]:e=["#CollectionView_EmptyReadOnlyCollection"],D.createElement("div",{className:my.a.EmptyGridMessageContainer},e.map(function(e,t){return D.createElement("div",{key:t,className:my.a.EmptyGridMessageLine},Object(R.f)(e))}))},e.prototype.FilterToInstalled=function(e){return e.installed||!Qa.collectionsAppFilter.BIsSelected(Pe.kPlayState,We.ReadyToPlay)},e.prototype.ComputeChildSectionName=function(e){switch(this.state.eSortBy){case 1:return this.props.enableFavoritesFirst?mi.BIsFavorite(e.appid)?Object(R.f)("#GridSection_Favorites"):Object(R.f)("#GridSection_EverythingElse"):"";case 4:return 6e3<=e.minutes_playtime_forever?Object(R.f)("#GridSection_Over100Hours"):3600<=e.minutes_playtime_forever?Object(R.f)("#GridSection_Over60Hours"):2400<=e.minutes_playtime_forever?Object(R.f)("#GridSection_Over40Hours"):1200<=e.minutes_playtime_forever?Object(R.f)("#GridSection_Over20Hours"):600<=e.minutes_playtime_forever?Object(R.f)("#GridSection_Over10Hours"):60<=e.minutes_playtime_forever?Object(R.f)("#GridSection_Over1Hour"):Object(R.f)("#GridSection_LessThan1Hour");case 5:return e.GetLastPlayedSectionName();case 9:return 90<=e.metacritic_score?Object(R.f)("#GridSection_Over90Metacritic"):80<=e.metacritic_score?Object(R.f)("#GridSection_Over80Metacritic"):70<=e.metacritic_score?Object(R.f)("#GridSection_Over70Metacritic"):50<=e.metacritic_score?Object(R.f)("#GridSection_Over50Metacritic"):Object(R.f)("#GridSection_EverythingElseMetacritic");case 6:return 0==e.GetCanonicalReleaseDate()&&e.BIsUnreleased()?Object(R.f)("#AppBox_ComingSoon"):e.GetCanonicalReleaseYear();case 8:var t=1073741824,n=parseFloat(e.size_on_disk);return 100*t<n?Object(R.f)("#GridSection_GreaterThan100GB"):50*t<n?Object(R.f)("#GridSection_GreaterThan50GB"):20*t<n?Object(R.f)("#GridSection_GreaterThan20GB"):0<n?Object(R.f)("#GridSection_LessThan20GB"):e.installed?Object(R.f)("#GridSection_NoSizeOnDisk"):Object(R.f)("#GridSection_NotInstalled")}return""},e.prototype.render=function(){for(var t=this,n=Qa.collectionsAppFilter.BIsSelected(Pe.kPlayState,We.ReadyToPlay),e=this.m_FilterAndSort(this,this.props.appOverviews,n,d.GetSortFunc(this.state.eSortBy,this.props.enableFavoritesFirst)),r=Array(),i=-1,a=void 0,o=0;o<e.length;++o){var s=e[o];(l=this.ComputeChildSectionName(s))==a&&-1!=i||(r.push({subSectionName:l,children:[]}),i=r.length-1,a=l),r[i].children.push(s)}for(var c=new Map,o=0;o<this.props.appOverviews.length;++o){var s=this.props.appOverviews[o],l=this.ComputeChildSectionName(s);c.has(l)||c.set(l,0),c.set(l,c.get(l)+1)}var u=0==r.length,p=r.map(function(e){return D.createElement(by,Object(j.a)({key:e.subSectionName},e,{coverSize:Jr.settings.nLibraryDisplaySize,numExcluded:n?c.get(e.subSectionName)-e.children.length:0,strCollectionId:t.props.strCollectionId,eSortBy:t.state.eSortBy,elScrollElement:t.props.elScrollElement?t.props.elScrollElement:t.state.elMyElement}))});return D.createElement("div",{className:my.a.GridWithControls,ref:this.BindRef},D.createElement("div",{className:my.a.CollectionOptions},D.createElement(hy,{initialValue:this.state.eSortBy,onSortChangeCallback:this.OnSortingChange,enableFavoritesFirst:this.props.enableFavoritesFirst}),D.createElement("div",{className:my.a.CollectionOptionsRightJustified},n&&D.createElement("div",{className:my.a.ShowingReadyToPlay},Object(R.f)("#GameList_View_ShowingOnlyReadyToPlay")))),u&&this.EmptyGridMessage(),!u&&p)},Object(j.c)([E.a],e.prototype,"OnSortingChange",null),Object(j.c)([E.a],e.prototype,"BindRef",null),Object(j.c)([E.a],e.prototype,"EmptyGridMessage",null),Object(j.c)([E.a],e.prototype,"FilterToInstalled",null),d=Object(j.c)([o.observer],e)}(D.Component),vy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.GetTooltipText=function(e){switch(e.eGroup){case Pe.kAppFeature:case Pe.kPlayState:return"#FilterElement_Tooltip_"+it(e.eGroup,e.option);case Pe.kStoreTag:return Object(R.f)("#FilterElement_Tooltip_StoreTag",e.name)}return e.name},t.prototype.render=function(){var e=this.props;return D.createElement(Co.d,{toolTipContent:this.GetTooltipText(e),direction:"bottom",key:e.eGroup+"-"+e.option,className:Ei.a.FilterTag},D.createElement("div",{className:Ei.a.FiltertagSpacer}),e.name,this.props.onClick&&D.createElement("div",{onClick:this.props.onClick},D.createElement(_r.Jb,null)),D.createElement("div",{className:Ei.a.FiltertagSpacer}))},t}(D.Component),gy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_searchInputRef=D.createRef(),e.m_containerDivRef=D.createRef(),e.state={bTextSearchHasFocus:!1},e}return Object(j.d)(e,t),e.prototype.FocusOnSearch=function(){this.m_searchInputRef.current&&this.m_searchInputRef.current.element&&(this.m_searchInputRef.current.element.focus(),this.m_searchInputRef.current.element.select())},e.prototype.BIsFocused=function(){return this.m_containerDivRef.current&&Object(Fa.b)(this.m_containerDivRef.current,document.activeElement)},e.prototype.OpenAdvancedSearch=function(){Qa.BIsTextSearchActive()||Qa.SetSearchByTypePaneOpen(!0)},e.prototype.CloseAdvancedSearch=function(){Qa.SetSearchByTypePaneOpen(!1)},e.prototype.OnKeyDown=function(e){27==e.keyCode&&(Qa.ExitSearch(),this.m_containerDivRef.current.focus())},e.prototype.OnTextChanged=function(e){Qa.SetSearchText(e.target.value)},e.prototype.OnTextSearchFocused=function(e){this.setState({bTextSearchHasFocus:!0})},e.prototype.OnTextSearchBlur=function(e){this.setState({bTextSearchHasFocus:!1})},e.prototype.OnFilterChange=function(e){Qa.BIsSearchActive()?e.bIsEmpty&&Qa.ResetSearch():Qa.StartSearchByType(e)},e.prototype.OnClearFilterTagClick=function(e,t,n){e.SelectOption(t,n,!1),this.OnFilterChange(e)},e.prototype.GetFilterTags=function(t){var n=this,e=t.GetAllSelectedOptions();return 0==e.length?[D.createElement("div",{key:"prompt",className:Ei.a.SearchByTypePrompt},Object(R.f)("#AdvancedSearch_PaneTitle"))]:e.map(function(e){return D.createElement(vy,Object(j.a)({key:e.eGroup+"-"+e.option},e,{onClick:function(){n.OnClearFilterTagClick(t,e.eGroup,e.option)}}))})},e.prototype.render=function(){var e=this,t=Qa.currentAppFilter.searchText||"",n=!Qa.BIsSearchByTypePaneOpen()&&!Qa.BIsSearchByTypeActive(),r=!Qa.BIsTextSearchActive(),i=Qa.BIsSearchActive()?Qa.currentAppFilter:new ut;return D.createElement("div",{className:Ei.a.Container,onKeyDown:this.OnKeyDown,ref:this.m_containerDivRef,tabIndex:-1},D.createElement("div",{className:Ei.a.SearchInput},n?D.createElement(Si.m,{ref:this.m_searchInputRef,placeholder:Object(R.f)("#FilterEdit_SearchPrompt"),value:t,onChange:this.OnTextChanged,onFocus:this.OnTextSearchFocused,onBlur:this.OnTextSearchBlur,onContextMenu:Hi.h,bShowClearAction:!0,bAlwaysShowClearAction:this.state.bTextSearchHasFocus}):D.createElement("div",{className:Ei.a.SearchFilterInput},this.GetFilterTags(i),D.createElement("div",{className:Ei.a.SearchFilterInputClear,onClick:Qa.ExitSearch},D.createElement(_r.Jb,null)))),D.createElement("div",{className:Object(cr.a)(Ei.a.AdvancedSearchContainer,!r&&Ei.a.Disabled,Qa.BIsSearchByTypePaneOpen()&&Ei.a.Extended)},D.createElement(Co.d,{toolTipContent:Object(R.f)("#FilterEdit_AdvancedTooltip")},D.createElement("div",{className:Ei.a.AdvancedSearchButton,onClick:this.OpenAdvancedSearch},D.createElement("div",null,D.createElement(_r.b,null)))),D.createElement("div",{className:Object(cr.a)(Ei.a.AdvancedSearchPaneContainer,Qa.BIsSearchByTypePaneOpen()&&Ei.a.Visible)},D.createElement("div",{className:Ei.a.AdvancedSearchDismissalOverlay,onClick:this.CloseAdvancedSearch}),D.createElement("div",{className:Ei.a.AdvancedSearchPane},D.createElement(Mg,{appFilter:i,fnOnChange:function(){return e.OnFilterChange(i)}})))))},Object(j.c)([E.a],e.prototype,"FocusOnSearch",null),Object(j.c)([E.a],e.prototype,"BIsFocused",null),Object(j.c)([E.a],e.prototype,"OpenAdvancedSearch",null),Object(j.c)([E.a],e.prototype,"CloseAdvancedSearch",null),Object(j.c)([E.a],e.prototype,"OnKeyDown",null),Object(j.c)([E.a],e.prototype,"OnTextChanged",null),Object(j.c)([E.a],e.prototype,"OnTextSearchFocused",null),Object(j.c)([E.a],e.prototype,"OnTextSearchBlur",null),Object(j.c)([E.a],e.prototype,"OnFilterChange",null),Object(j.c)([E.a],e.prototype,"OnClearFilterTagClick",null),Object(j.c)([E.a],e.prototype,"GetFilterTags",null),Object(j.c)([o.observer],e)}(D.Component),yy=n("rZBk"),Sy=n.n(yy),wy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={elContainerRef:void 0},e}return Object(j.d)(e,t),e.prototype.BindContainerRef=function(e){this.setState({elContainerRef:e})},e.prototype.GetFilterTags=function(n){var e=n.internalAppFilter.GetAllSelectedOptions();return e.map(function(t){return D.createElement(vy,Object(j.a)({key:"filter-"+t.eGroup+"-"+t.option},t,{onClick:Qa.isCollectionEditorOpen&&function(){var e;e=t,Qa.isCollectionEditorOpen&&(n.internalAppFilter.SelectOption(e.eGroup,e.option,!1),n.Save())}}))})},e.prototype.GetManualChangeTags=function(n){for(var r=function(e,t){Qa.isCollectionEditorOpen&&(pi(e,t),n.Save())},i=[],e=0,t=n.internalAddedList;e<t.length;e++){!function(e){var t=D.createElement(co,{app:e,eAssetType:4,className:Ei.a.GameIcon});i.push(D.createElement(Co.d,{toolTipContent:"#CollectionViewHeader_Tooltip_ManuallyAddedApp",direction:"bottom",key:"added-"+e.appid,className:Object(cr.a)(Ei.a.FilterTag,Ei.a.AddedAppTag)},D.createElement("div",{className:Ei.a.FiltertagSpacer}),t,e.display_name,Qa.isCollectionEditorOpen&&D.createElement("div",{onClick:function(){return r(e,n.internalAddedList)}},D.createElement(_r.Jb,null)),D.createElement("div",{className:Ei.a.FiltertagSpacer})))}(t[e])}if(Qa.isCollectionEditorOpen)for(var a=0,o=n.internalRemovedList;a<o.length;a++){!function(e){var t=D.createElement(co,{app:e,eAssetType:4,className:Ei.a.GameIcon});i.push(D.createElement(Co.d,{toolTipContent:"#CollectionViewHeader_Tooltip_ManuallyRemovedApp",direction:"bottom",key:"removed-"+e.appid,className:Object(cr.a)(Ei.a.FilterTag,Ei.a.RemovedAppTag)},D.createElement("div",{className:Ei.a.FiltertagSpacer}),t,e.display_name,Qa.isCollectionEditorOpen&&D.createElement("div",{onClick:function(){return r(e,n.internalRemovedList)}},D.createElement(_r.Jb,null)),D.createElement("div",{className:Ei.a.FiltertagSpacer})))}(o[a])}else{var s=n.internalRemovedList.length;0<s&&i.push(D.createElement(Co.d,{toolTipContent:Object(R.f)("#CollectionViewHeader_Tooltip_ManuallyRemovedApps_WithCount",s),direction:"bottom",key:"removed-many",className:Object(cr.a)(Ei.a.FilterTag,Ei.a.RemovedAppTag)},D.createElement("div",{className:Ei.a.FiltertagSpacer}),Object(R.f)("#CollectionViewHeader_ManuallyRemovedApps_WithCount",s),D.createElement("div",{className:Ei.a.FiltertagSpacer})))}return i},e.prototype.FilterToInstalled=function(e){return e.installed||!Qa.collectionsAppFilter.BIsSelected(Pe.kPlayState,We.ReadyToPlay)},e.prototype.FreezeCollection=function(e,t){var n=Object(R.f)("#Collection_FreezeDynamicCollection_DialogTitle");Object(_i.d)(D.createElement(Cy,{rctTitle:n,editableCollection:e}),Object(Fa.n)(t),{strTitle:n})},e.prototype.render=function(){var t=this,e=Qa.currentCollectionID,n=e&&mi.GetCollection(e);if(!n)return D.createElement("div",{className:Sy.a.Container},D.createElement("div",{className:Sy.a.MissingCollectionMessage}," ",Object(R.f)("#CollectionView_MissingCollection")," "));var r=n.bIsEditable&&n.AsEditableCollection(),i=n.visibleApps.filter(this.FilterToInstalled),a=i.length==n.visibleApps.length?" ("+i.length+")":" ("+i.length+"/"+n.visibleApps.length+")";return D.createElement(So,{className:Sy.a.OuterContainer,scrollClassName:Sy.a.ContainerScroll,innerRef:this.BindContainerRef,strRememberScrollKey:"collection-"+n.id},D.createElement(Wo,{className:Sy.a.Container,strCollectionId:e,strEligibleClassName:Sy.a.DropOption,strTargetedClassName:Sy.a.DropTarget},D.createElement("div",{className:Sy.a.Header},r&&Qa.isCollectionRenameOpen?D.createElement(Ey,{collection:r,fnClose:function(){return Qa.SetCollectionRenameOpen(!1)}}):D.createElement(D.Fragment,null,D.createElement("div",{className:Sy.a.CollectionName},n.displayName),r&&D.createElement(Co.d,{toolTipContent:"#CollectionEdit_RenameButton"},D.createElement("div",{className:Object(cr.a)(Sy.a.EditButton,Sy.a.Pencil),onClick:function(){return Qa.SetCollectionRenameOpen(!0)}},D.createElement(_r.z,null)))),D.createElement("div",{className:Sy.a.SectionCount},a),D.createElement("div",{className:Sy.a.Rule}),r&&r.bIsDynamic&&D.createElement(Co.d,{className:Sy.a.DynamicCollectionLabelAndButton,toolTipContent:"#FilterEdit_CollectionModeHeader",onClick:function(){return Qa.SetCollectionEditorOpen(!Qa.isCollectionEditorOpen)}},D.createElement("div",{className:Sy.a.DynamicCollectionLabel},D.createElement(_r.y,{hidetooltip:!0}),Object(R.f)("#Collection_DynamicCollection")),D.createElement("div",null,D.createElement("div",{className:Sy.a.EditButton},D.createElement(_r.lb,null))))),r&&r.bIsDynamic&&D.createElement(D.Fragment,null,D.createElement("div",{className:Sy.a.DynamicCollectionSubHeader},D.createElement("div",{className:Object(cr.a)(Ei.a.SearchFilterInput,!Qa.isCollectionEditorOpen&&Ei.a.Disabled)},this.GetFilterTags(r),this.GetManualChangeTags(r)),Qa.isCollectionEditorOpen&&D.createElement("div",{className:Sy.a.RightSideButtons},D.createElement(Co.d,{direction:"bottom",toolTipContent:"#Collection_FreezeDynamicCollection_ToolTip",className:Sy.a.FreezeButton,onClick:function(e){return t.FreezeCollection(r,e)}},Object(R.f)("#Collection_FreezeDynamicCollection_Button")))),D.createElement(Oy,{collection:r,fnClose:function(){return Qa.SetCollectionEditorOpen(!1)}})),D.createElement(_y,{appOverviews:n.visibleApps.slice(),strCollectionId:e,elScrollElement:this.state.elContainerRef})))},Object(j.c)([E.a],e.prototype,"BindContainerRef",null),Object(j.c)([E.a],e.prototype,"GetFilterTags",null),Object(j.c)([E.a],e.prototype,"GetManualChangeTags",null),Object(j.c)([E.a],e.prototype,"FilterToInstalled",null),Object(j.c)([E.a],e.prototype,"FreezeCollection",null),Object(j.c)([o.observer],e)}(D.Component),Cy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.FreezeCollection=function(){this.props.closeModal(),this.props.editableCollection.FreezeToStatic(),SteamClient.Stats.RecordActivationEvent("Freeze","Collection")},t.prototype.render=function(){return D.createElement(bi.c,{strTitle:this.props.rctTitle,bDestructiveWarning:!0,closeModal:this.props.closeModal,strDescription:Object(R.f)("#Collection_FreezeDynamicCollection_Confirmation"),onOK:this.FreezeCollection})},Object(j.c)([E.a],t.prototype,"FreezeCollection",null),t}(D.Component),Oy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props.collection,t=Qa.isCollectionEditorOpen;return D.createElement("div",{className:Sy.a.CollectionEditor,style:{height:t?"auto":0,opacity:t?1:0,pointerEvents:t?"initial":"none"}},D.createElement(Mg,{appFilter:e.internalAppFilter,bUseWideFormat:1028<=ho.rightPanelWidth,bHideSaveButton:!0,fnOnChange:function(){return e.Save()}}))},Object(j.c)([o.observer],t)}(D.Component),Ey=function(n){function e(e){var t=n.call(this,e)||this;return t.m_strCollectionName="",t.m_strCollectionName=t.props.collection.displayName,t}return Object(j.d)(e,n),e.prototype.componentDidUpdate=function(e){e.collection.id!=this.props.collection.id&&(this.m_strCollectionName=this.props.collection.displayName)},e.prototype.SaveRenamedCollection=function(e){var t=this,n=this.props.collection,r=n.displayName;this.m_strCollectionName!=n.displayName&&(n.displayName=this.m_strCollectionName,Di(e,n,!1,this.props.fnClose,function(){return t.ResetName(r)})),this.props.fnClose()},e.prototype.OnTextChanged=function(e){this.m_strCollectionName=e.currentTarget.value},e.prototype.OnBlur=function(e){this.SaveRenamedCollection(Object(Fa.n)(e))},e.prototype.ResetName=function(e){this.props.collection.displayName=e,this.m_strCollectionName=e,this.props.fnClose()},e.prototype.OnKeyPressed=function(e){13==e.keyCode&&this.SaveRenamedCollection(Object(Fa.n)(e)),27==e.keyCode&&this.props.fnClose()},e.prototype.render=function(){var e=this;return D.createElement(D.Fragment,null,D.createElement(Si.m,{className:Sy.a.CollectionName,value:this.m_strCollectionName,onKeyDown:this.OnKeyPressed,onChange:this.OnTextChanged,maxLength:32,onBlur:this.OnBlur,autoFocus:!0}),D.createElement("div",{className:Object(cr.a)(Sy.a.EditButton,Sy.a.Close),onMouseDown:function(){return e.ResetName(e.props.collection.displayName)}},D.createElement(_r.Jb,null)))},Object(j.c)([O.observable],e.prototype,"m_strCollectionName",void 0),Object(j.c)([E.a],e.prototype,"SaveRenamedCollection",null),Object(j.c)([E.a],e.prototype,"OnTextChanged",null),Object(j.c)([E.a],e.prototype,"OnBlur",null),Object(j.c)([E.a],e.prototype,"ResetName",null),Object(j.c)([E.a],e.prototype,"OnKeyPressed",null),Object(j.c)([o.observer],e)}(D.Component),By=n("c7k8"),Ay=n("ySOO"),Iy=n.n(Ay),jy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnClick=function(e,t,n){e.shiftKey?hi.SelectRange(n,this.props.fnSelectAppsInRange):e.ctrlKey||e.metaKey?hi.ToggleAppIsSelected(n):this.props.onContextMenu&&t?this.props.onContextMenu(e):this.props.onClick&&!t&&(hi.ClearSelection(),hi.SetAnchor(n),this.props.onClick(e))},t.prototype.render=function(){var t=this,e=this.props,n=e.appid,r=e.strCollectionId,i=e.whenSelectedClassName,a=(e.fnSelectAppsInRange,e.className),o=(e.onClick,e.onContextMenu,e.children),s=Object(j.f)(e,["appid","strCollectionId","whenSelectedClassName","fnSelectAppsInRange","className","onClick","onContextMenu","children"]),c=new fi(n,r),l=hi.BIsSelectedApp(c);return D.createElement("div",Object(j.a)({className:Object(cr.a)(l&&i,a)},s,{onClick:function(e){return t.OnClick(e,!1,c)},onContextMenu:function(e){return t.OnClick(e,!0,c)}}),o)},Object(j.c)([E.a],t.prototype,"OnClick",null),Object(j.c)([o.observer],t)}(D.Component),Dy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bContextMenuIsOpen:!1},e}return Object(j.d)(e,t),e.prototype.GetStyleForCurrentState=function(e){if(e.is_invalid_os_type)return Iy.a.Uninstalled;switch(e.display_status){case 6:case 18:case 19:case 20:case 7:case 22:case 23:case 24:case 8:return Iy.a.Updating;case 4:return Iy.a.Running}return e.installed?e.BIsSelectedClientLocal()?Iy.a.Installed:Iy.a.InstalledRemotely:Iy.a.Uninstalled},Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.props.isSelected(this.props.strCollectionId,this.props.item.appid)},enumerable:!1,configurable:!0}),e.prototype.onClick=function(){Qa.NavigateToApp(this.props.item.appid,this.props.strCollectionId)},e.prototype.ShowContextMenu=function(e){var t=this,n=Object(zi.a)(D.createElement(nu,{overview:this.props.item,client:"mostavailable",launchSource:600,includeMultiSelect:!0,strCollectionId:this.props.strCollectionId}),e,ru());n&&(this.setState({bContextMenuIsOpen:!0}),n.SetOnHideCallback(function(){return t.setState({bContextMenuIsOpen:!1})}))},e.prototype.DoPrimaryAction=function(){var e=Ql(this.props.item,"mostavailable");switch(e){case"Play":case"Launch":case"Resume":case"Download":case"Update":case"PreLoad":case"Install":case"Stream":var t=$l(e,this.props.item,"mostavailable",601);return void(t&&t())}},e.prototype.OnKeyDown=function(e){13==e.keyCode&&this.DoPrimaryAction()},e.prototype.GameListEntryWithStatus=function(e,t){return D.createElement("div",{className:Iy.a.GameListEntryLabels},D.createElement("div",{className:Iy.a.GameListEntryName},D.createElement("span",null,e,D.createElement("span",{className:Iy.a.DownloadDash},"-"))),D.createElement("div",{className:Iy.a.DownloadProgress},t))},e.prototype.render=function(){var e=this.props.item,t=e.display_name;e.active_beta&&(t=t+" ["+e.active_beta+"]");e.BIsPerClientDataLocal(e.most_available_per_client_data);var n=!1;switch(e.display_status){case 1:case 4:t=this.GameListEntryWithStatus(t,jc(e.display_status,!0));break;case 2:case 3:case 5:case 18:case 19:case 20:case 22:case 23:case 24:t=this.GameListEntryWithStatus(t,jc(e.display_status,!0)),n=!0;break;case 6:case 7:var r=Ru.networkRateBytesPerSecond,i=(e.status_percentage||0)+"%";r&&(i=i+" ("+Object(wl.a)(r,1,!1)+"/s)"),t=this.GameListEntryWithStatus(t,i),n=!0}var a=null;Jr.settings.bLibraryDisplayIconInGameList&&(a=D.createElement(co,{app:e,eAssetType:4,className:Iy.a.GameIcon}),n&&(a=D.createElement("div",{className:Iy.a.AppIconDownloading},a,D.createElement(_r.db,{percentComplete:e.status_percentage||0}))));var o=Object(cr.a)(Iy.a.Container,this.props.bInHover&&Iy.a.HoverOverlay,this.GetStyleForCurrentState(e),this.isSelected&&Iy.a.Selected,this.state.bContextMenuIsOpen&&Iy.a.HasContextMenuOpen,this.props.bIsLastInCollection&&Iy.a.LastInCollection),s=ei.GetFriendsInGame(e.appid),c=[];if(0<s.length)for(var l=0,u=s;l<u.length;l++){var p=u[l];c.push(D.createElement("div",{className:Iy.a.FriendStatusHoverRow,key:p.persona.GetAccountID()},D.createElement(vu,{size:"X-Small",friend:p,statusPosition:"right"}),D.createElement(mu,{className:Iy.a.LabelHolder,persona:p.persona,eFriendRelationship:3,bIsSelf:!1,bCompactView:!0,strNickname:p.nickname,bParenthesizeNicknames:Jr.communityPreferences.bParenthesizeNicknames,bHideGameName:!0,bHideEnhancedRichPresenceLabel:!1})))}return D.createElement(jy,{appid:e.appid,strCollectionId:this.props.strCollectionId,fnSelectAppsInRange:this.props.fnSelectAppsInRange,whenSelectedClassName:Iy.a.Selected,onDoubleClick:this.DoPrimaryAction,onClick:this.onClick,onContextMenu:this.ShowContextMenu,onKeyDown:this.OnKeyDown},D.createElement(Wo,{strCollectionId:this.props.strCollectionId,className:o,strEligibleClassName:Iy.a.DropOption,strTargetedClassName:Iy.a.DropTarget},D.createElement(xo,{className:Iy.a.GameListEntryContainer,appid:e.appid,strCollectionId:this.props.strCollectionId,includeMultiSelect:!0},this.props.item.is_invalid_os_type&&D.createElement(Co.d,{toolTipContent:"#GameList_Entry_Invalid_OSType",className:Iy.a.InvalidOSType},D.createElement(_r.L,null)),!this.props.item.is_invalid_os_type&&0<c.length&&D.createElement(Co.d,{toolTipContent:D.createElement("div",{className:Iy.a.FriendStatusHover},c),nDelayShowMS:0,className:Iy.a.FriendIsPlaying},D.createElement(_r.H,null)),a,t,!1)))},Object(j.c)([O.computed],e.prototype,"isSelected",null),Object(j.c)([E.a],e.prototype,"onClick",null),Object(j.c)([E.a],e.prototype,"ShowContextMenu",null),Object(j.c)([E.a],e.prototype,"DoPrimaryAction",null),Object(j.c)([E.a],e.prototype,"OnKeyDown",null),Object(j.c)([E.a],e.prototype,"GameListEntryWithStatus",null),Object(j.c)([o.observer],e)}(D.Component),Ry=n("smcO"),Ty=n.n(Ry),My=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.GetClassnameForParent=function(){return Ty.a.CollapseIconParent},t.prototype.render=function(){return D.createElement("div",{className:Object(cr.a)(Ty.a.Container,this.props.isCollapsed&&Ty.a.Collapsed),onClick:this.props.onClick},D.createElement(_r.cb,null))},Object(j.c)([o.observer],t)}(D.Component),Ny=n("FhZQ"),Ly=n.n(Ny),ky=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bContextMenuIsOpen:!1},e}return Object(j.d)(e,t),e.prototype.onClick=function(e){e.shiftKey||e.ctrlKey||e.metaKey||hi.ClearSelection(),Qa.NavigateToCollection(this.props.strId)},e.prototype.onCollapseExpandClick=function(){Qa.toggleCollapsed(this.props.strId)},Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.props.isSelected(this.props.strId,void 0)},enumerable:!1,configurable:!0}),e.prototype.ShowContextMenu=function(e){var t=this,n=Object(zi.a)(D.createElement(Yo,{strCollectionId:this.props.strId,strDisplayName:this.props.strName}),e);n&&(this.setState({bContextMenuIsOpen:!0}),n.SetOnHideCallback(function(){return t.setState({bContextMenuIsOpen:!1})}))},e.prototype.render=function(){var e,t,n=Qa.IsCollapsed(this.props.strId),r=Object(cr.a)(Ly.a.Container,this.props.bInHover&&Ly.a.HoverOverlay,My.GetClassnameForParent(),this.isSelected&&Ly.a.Selected,this.state.bContextMenuIsOpen&&Ly.a.HasContextMenuOpen,(n||0==this.props.nFilteredCount)&&Ly.a.SingleLine),i=mi.GetCollection(this.props.strId),a=i&&i.bIsDynamic;return this.props.nFilteredCount==this.props.nTotalCount?e=" ("+this.props.nTotalCount+")":t=0!=this.props.nFilteredCount?(e=" ("+this.props.nFilteredCount+"/"+this.props.nTotalCount+")",Object(R.f)("#GameList_SectionHeader_AppCountToolTip",this.props.nTotalCount-this.props.nFilteredCount)):(e=" ("+this.props.nFilteredCount+"/"+this.props.nTotalCount+")",Object(R.f)("#GameList_SectionHeader_AppCountToolTipAllHidden")),D.createElement(Wo,{strCollectionId:this.props.strId,onContextMenu:this.ShowContextMenu,className:r,strEligibleClassName:Ly.a.DropOption,strTargetedClassName:Ly.a.DropTarget,onDoubleClick:this.onCollapseExpandClick},D.createElement(My,{isCollapsed:n,onClick:this.onCollapseExpandClick}),D.createElement("div",{className:Ly.a.SectionHeaderContent,onClick:this.onClick},D.createElement("span",{className:Ly.a.SectionName},this.props.strName),D.createElement(Co.d,{toolTipContent:t,className:Ly.a.SectionCount},e),a&&D.createElement("span",{style:{fontSize:12}},D.createElement(Co.d,{toolTipContent:Object(R.f)("#Collection_DynamicCollection"),nDelayShowMS:30},D.createElement(_r.y,null))),D.createElement("div",{className:Ly.a.SectionRule})))},Object(j.c)([E.a],e.prototype,"onClick",null),Object(j.c)([E.a],e.prototype,"onCollapseExpandClick",null),Object(j.c)([O.computed],e.prototype,"isSelected",null),Object(j.c)([E.a],e.prototype,"ShowContextMenu",null),Object(j.c)([o.observer],e)}(D.Component),Fy=n("J8QF"),Py=n.n(Fy),Gy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_strJumpString="",e.m_flLastJumpChar=0,e.m_nScrollTop=0,e.m_nDelayedIndex=-1,e.m_rgAutorunDisposers=[],e.m_listRef=D.createRef(),e.m_containerRef=D.createRef(),e.m_browseTimer=null,e}return Object(j.d)(e,t),e.prototype.componentDidMount=function(){var n=this;this.m_rgAutorunDisposers.push(Object(O.reaction)(this.GetAllStateThatShouldTriggerGameListAutoScroll,function(e){var t=-1;4!=Qa.mainPanelMode&&3!=Qa.mainPanelMode||(t=n.GetCurrentSelectedIndex()),setTimeout(function(){return n.EnsureVisible(t,"center")},0),n.props.fnBIsSearchFocused()||n.m_containerRef.current&&n.m_containerRef.current.focus()},{fireImmediately:!0})),this.m_rgAutorunDisposers.push(Object(O.autorun)(function(){n.GetRowCount(),n.m_listRef.current&&n.m_listRef.current.forceUpdateGrid()}))},e.prototype.componentWillUnmount=function(){this.m_rgAutorunDisposers.forEach(function(e){return e()}),this.m_rgAutorunDisposers.length=0},e.prototype.GetAllStateThatShouldTriggerGameListAutoScroll=function(){return[Qa.currentGameListSelection,Qa.selectedGameListView,Qa.bIsGameListGroupedByCollection,Qa.bIsGameListSortedByRecent,1==Qa.selectedGameListView&&Qa.currentAppFilter.BIsSelected(Pe.kAppFeature,Ue.VRSupport),1==Qa.selectedGameListView&&Qa.currentAppFilter.BIsSelected(Pe.kPlayState,We.ReadyToPlay)]},e.prototype.ScrollToTop=function(){this.m_listRef.current.scrollToRow(0)},e.prototype.OnScroll=function(e){var t=e.scrollTop;this.m_nScrollTop=t,this.props.onScrolled(0==t)},e.prototype.EnsureVisible=function(e,t){var n,r,i;this.m_listRef.current&&(e<0?this.m_listRef.current.scrollToPosition(0):(n=this.m_listRef.current.getOffsetForRow({alignment:"auto",index:e}),r=this.RowHeightMeasure({index:e}),Math.abs(n-this.m_nScrollTop)<r?this.m_listRef.current.scrollToPosition(n):(i=this.m_listRef.current.getOffsetForRow({alignment:t,index:e}),this.m_listRef.current.scrollToPosition(i))))},e.prototype.OnKeyDown=function(e){if(!this.props.fnBIsSearchFocused()){var t=e.keyCode;switch(t){case 38:return e.shiftKey?this.MoveRangeSelectUpOneRow():this.SelectPrevRow(),void e.preventDefault();case 40:return e.shiftKey?this.MoveRangeSelectDownOneRow():this.SelectNextRow(),void e.preventDefault();case 37:return this.SetRowIsCollapsed(!0),void e.preventDefault();case 39:return this.SetRowIsCollapsed(!1),void e.preventDefault();case 36:return this.SelectFirstRow(),void e.preventDefault();case 35:return this.SelectLastRow(),void e.preventDefault();case 34:return this.PageDown(),void e.preventDefault();case 33:return this.PageUp(),void e.preventDefault()}if(!(e.ctrlKey||e.altKey||e.metaKey||e.repeat)&&(32==t||65<=t&&t<=90||48<=t&&t<=57)){var n=e.key[0].toLowerCase();return this.HandleJumpCharacter(n),void e.preventDefault()}}},e.prototype.OnKeyUp=function(e){var t=this,n=e.keyCode;e.preventDefault(),clearTimeout(this.m_browseTimer),this.m_browseTimer=window.setTimeout(function(){return t.OnKeyUpDelayed(n)},250)},e.prototype.OnKeyUpDelayed=function(e){if(-1<this.m_nDelayedIndex)switch(e){case 38:case 40:this.SelectIndex(this.m_nDelayedIndex)}},e.prototype.HandleJumpCharacter=function(e){var t=performance.now();this.m_flLastJumpChar+1e3<t&&(this.m_strJumpString=""),this.m_strJumpString=this.m_strJumpString+e,this.m_flLastJumpChar=t,this.JumpToString(this.m_strJumpString)},Object.defineProperty(e.prototype,"visibleRows",{get:function(){for(var e=[],t=0,n=Qa.GetCollectionList();t<n.length;t++){var r=n[t],i=r.visibleApps.filter(Qa.currentAppFilter.Matches);if(0!=i.length){var a=Qa.IsCollapsed(r.id);if(e.push({bIsCollection:!0,rgStrNames:[r.displayName],strCollectionId:r.id,bIsCollapsed:a,nTotalCollectionSize:r.visibleApps.length,nFilteredSize:i.length}),!a)for(var o=0,s=i;o<s.length;o++){var c=s[o];e.push({bIsCollection:!1,rgStrNames:[c.display_name,c.sort_as],strCollectionId:r.id,appOverview:c})}}}return e},enumerable:!1,configurable:!0}),e.prototype.GetRowCount=function(){return this.visibleRows.length},e.prototype.GetAppsInBetween=function(e,t){if(0==this.GetRowCount())return null;var n=this.GetIndexForApp(e),r=this.GetIndexForApp(t);if(n<0||r<0)return null;for(var i=[],a=Math.min(n,r);a<=Math.max(n,r);a++){var o=this.visibleRows[a];o.bIsCollection||i.push(new fi(o.appOverview.appid,o.strCollectionId))}return i},e.prototype.GetCurrentSelectedIndex=function(){if(-1<this.m_nDelayedIndex)return this.m_nDelayedIndex;var e=Qa.currentGameListSelection,t=e.nAppId,n=e.strCollectionId;return this.GetIndexForApp({appid:t,strCollectionId:n})},e.prototype.GetIndexForApp=function(e){if(0==this.GetRowCount())return-1;for(var t,n=0;n<this.GetRowCount()&&(t=this.visibleRows[n]).strCollectionId!=e.strCollectionId;)n+=t.bIsCollapsed?1:1+t.nFilteredSize;if(n>=this.GetRowCount())return-1;if(!e.appid)return n;if(t.bIsCollapsed)return-1;for(var r=1;r<=t.nFilteredSize;r++){if(this.visibleRows[n+r].appOverview.appid==e.appid)return n+r}return-1},e.prototype.SelectPrevRow=function(){var e;0!=this.GetRowCount()&&((e=this.GetCurrentSelectedIndex()-1)<0||this.DelayedSelectIndex(e,"end"))},e.prototype.SelectNextRow=function(){var e;0==this.GetRowCount()||(e=this.GetCurrentSelectedIndex()+1)!=this.GetRowCount()&&this.DelayedSelectIndex(e,"start")},e.prototype.FindFirstAppFrom=function(e,t){for(var n=e;0<=n&&n<this.GetRowCount();){var r=this.visibleRows[n];if(!r.bIsCollection)return new fi(r.appOverview.appid,r.strCollectionId);n+=t}return null},e.prototype.MoveRangeSelectUpOneRow=function(){var e,t,n;0!=this.GetRowCount()&&(t=(e=hi.GetLastRangeSelection())?this.GetIndexForApp(e)-1:this.GetRowCount()-1,(n=this.FindFirstAppFrom(t,-1))&&(hi.SelectRange(n,this.GetAppsInBetween),this.EnsureVisible(this.GetIndexForApp(n),"center")))},e.prototype.MoveRangeSelectDownOneRow=function(){var e,t,n;0!=this.GetRowCount()&&(t=(e=hi.GetLastRangeSelection())?this.GetIndexForApp(e)+1:0,(n=this.FindFirstAppFrom(t,1))&&(hi.SelectRange(n,this.GetAppsInBetween),this.EnsureVisible(this.GetIndexForApp(n),"center")))},e.prototype.SelectFirstRow=function(){0!=this.GetRowCount()&&this.SelectIndex(0)},e.prototype.SelectLastRow=function(){0!=this.GetRowCount()&&this.SelectIndex(this.GetRowCount()-1)},e.prototype.PageDown=function(){var e,t;0!=this.GetRowCount()&&(e=Math.ceil(this.m_listRef.current.props.height/24),t=Math.min(this.GetCurrentSelectedIndex()+e,this.GetRowCount()-1),this.DelayedSelectIndex(t,"start"))},e.prototype.PageUp=function(){var e,t;0!=this.GetRowCount()&&(e=Math.ceil(this.m_listRef.current.props.height/24),t=Math.max(this.GetCurrentSelectedIndex()-e,0),this.DelayedSelectIndex(t,"end"))},e.prototype.SetRowIsCollapsed=function(e){var t;0==this.GetRowCount()||(t=this.visibleRows[this.GetCurrentSelectedIndex()])&&t.bIsCollection&&Qa.SetIsCollapsed(t.strCollectionId,e)},e.prototype.JumpToString=function(e){for(var t=(t=this.GetCurrentSelectedIndex())<0?0:t,n=0;n<this.GetRowCount();n++)for(var r=(t+n)%this.GetRowCount(),i=0,a=this.visibleRows[r].rgStrNames;i<a.length;i++){if(a[i].toLowerCase().startsWith(e))return void this.SelectIndex(r)}},e.prototype.DelayedSelectIndex=function(e,t){this.m_nDelayedIndex=e,this.EnsureVisible(e,t)},e.prototype.SelectIndex=function(e){this.m_nDelayedIndex=-1;var t=this.visibleRows[e];t.bIsCollection?Qa.NavigateToCollection(t.strCollectionId):Qa.NavigateToApp(t.appOverview.appid,t.strCollectionId)},e.prototype.EqualsCurrentCursor=function(e,t){if(-1<this.m_nDelayedIndex){var n=this.visibleRows[this.m_nDelayedIndex];if(n)return void 0===t?n.bIsCollection&&e==n.strCollectionId:!n.bIsCollection&&e==n.strCollectionId&&t==n.appOverview.appid}var r=Qa.currentGameListSelection;return void 0===t?3==Qa.mainPanelMode&&e==r.strCollectionId:4==Qa.mainPanelMode&&e==r.strCollectionId&&t==r.nAppId},e.prototype.RowRenderer=function(e){var t=this,n=e.key,r=e.index,i=(e.parent,e.style);if(r<0||r>=this.GetRowCount())return null;function a(e){return void 0===e&&(e=!0),o.bIsCollection?D.createElement(ky,{key:s,index:r,strId:o.strCollectionId,strName:o.rgStrNames[0],nTotalCount:o.nTotalCollectionSize,nFilteredCount:o.nFilteredSize,isSelected:t.EqualsCurrentCursor,bInHover:e}):D.createElement(Dy,{key:s,index:r,item:o.appOverview,strCollectionId:o.strCollectionId,bIsLastInCollection:l,fnSelectAppsInRange:t.GetAppsInBetween,isSelected:t.EqualsCurrentCursor,bInHover:e})}var o=this.visibleRows[r],s=r+"-"+o.strCollectionId+"-"+o.rgStrNames[0],c=r+1,l=c==this.GetRowCount()||this.visibleRows[c].bIsCollection,i=Object(j.a)(Object(j.a)({},i),{width:void 0,minWidth:"100%"});return D.createElement(zc,{hoverDelay:0,hoverHideDelay:0,key:n,style:i,bOnlyIfOverflowing:!0,renderHover:a,strKey:"GameListHover"+n,direction:"overlay"},a(!1))},e.prototype.RowHeightMeasure=function(e){var t=e.index;return t<0||t>=this.GetRowCount()?null:(this.visibleRows[t].bIsCollection,24)},e.prototype.render=function(){var r=this,i=this.GetRowCount();if(0!=i)return D.createElement("div",{className:Py.a.Container,ref:this.m_containerRef,tabIndex:0},D.createElement(By.a,null,function(e){var t=e.width,n=e.height;return D.createElement(By.b,{ref:r.m_listRef,width:t,height:n,onScroll:r.OnScroll,rowCount:i,rowHeight:r.RowHeightMeasure,rowRenderer:r.RowRenderer})}));if(Qa.BIsSearchActive()){var e="";return Qa.BIsSearchByTypeActive()?e=B.a.ResolveURL("StoreGameSearchPage")+Qa.currentAppFilter.GetTagsString():Qa.BIsTextSearchActive()&&(e=B.a.ResolveURL("StoreGameSearchPage")+"?term="+encodeURIComponent(Qa.currentAppFilter.searchText)),D.createElement("div",{className:Py.a.NoSearchResultsContainer},D.createElement("div",{className:Py.a.NoResultsTitle},Object(R.f)("#GameList_Search_NoResults_Title")),D.createElement("div",{className:Py.a.NoResultsLink,onClick:function(){return window.location.href=e}},Object(R.f)("#GameList_Search_NoResults_Link")))}var t=Qa.collectionsAppFilter.BIsSelected(Pe.kAppType,1);return D.createElement("div",{className:Py.a.NoSearchResultsContainer},D.createElement("div",{className:Py.a.NoResultsTitle},Object(R.f)("#GameList_View_NothingSelected_HelpText")),!t&&D.createElement("div",{className:Py.a.NoResultsLink,onClick:function(){return Qa.collectionsAppFilter.SelectOption(Pe.kAppType,1,!0)}},Object(R.f)("#GameList_Search_GamesCheckbox_Link")))},Object(j.c)([O.observable],e.prototype,"m_nDelayedIndex",void 0),Object(j.c)([E.a],e.prototype,"ScrollToTop",null),Object(j.c)([E.a],e.prototype,"OnScroll",null),Object(j.c)([E.a],e.prototype,"EnsureVisible",null),Object(j.c)([E.a],e.prototype,"OnKeyDown",null),Object(j.c)([E.a],e.prototype,"OnKeyUp",null),Object(j.c)([E.a],e.prototype,"OnKeyUpDelayed",null),Object(j.c)([Object(O.computed)({keepAlive:!0})],e.prototype,"visibleRows",null),Object(j.c)([E.a],e.prototype,"GetAppsInBetween",null),Object(j.c)([E.a],e.prototype,"EqualsCurrentCursor",null),Object(j.c)([E.a],e.prototype,"RowRenderer",null),Object(j.c)([E.a],e.prototype,"RowHeightMeasure",null),Object(j.c)([o.observer],e)}(D.Component),Uy=n("rBVT"),xy=n.n(Uy),zy=[1,8192,2,2048,4],Hy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_elMenuHeaderRef=D.createRef(),e}return Object(j.d)(e,t),e.prototype.TakeFocus=function(){this.m_elMenuHeaderRef.current&&this.m_elMenuHeaderRef.current.focus()},e.prototype.HideDropDown=function(){this.m_dropDownMenu&&this.m_dropDownMenu.Hide()},e.prototype.ShowDropDown=function(){var e={bOverlapHorizontal:!0,bOverlapVertical:!1,bMatchWidth:!0,strClassName:Object(cr.a)(ec.a.contextMenu,xy.a.DropDown)};this.m_dropDownMenu=Object(zi.a)(D.createElement(Yy,{fnHide:this.HideDropDown}),this.m_elMenuHeaderRef.current,e),this.m_dropDownMenu.SetOnHideCallback(this.TakeFocus)},e.prototype.ScrollToTop=function(){this.props.gamelistref.current&&this.props.gamelistref.current.ScrollToTop()},e.prototype.render=function(){var t=10===Qa.selectedGameListView,n=Qa.bIsGameListSortedByRecent,e=1!=Qa.selectedGameListView,r=Qa.currentAppFilter.BIsSelected(Pe.kPlayState,We.ReadyToPlay),i=!this.props.bScrolledTop,a="windows"!=A.c.PLATFORM,o="linux"==A.c.PLATFORM,s=Qa.currentAppFilter.BIsSelected(Pe.kPlayState,We.ValidPlatform),c=D.createElement(Co.b,null,D.createElement(Co.e,{toolTipContent:Object(R.f)("#GameList_View_ShowOnlyReadyToPlay")}),D.createElement(Co.c,null,D.createElement("div",null,Object(R.f)("#GameList_View_ReadyToPlay_ToolTip1")),D.createElement("div",null,Object(R.f)("#GameList_View_ReadyToPlay_ToolTip2"))));return D.createElement("div",{className:xy.a.Bar},D.createElement("div",{className:xy.a.SearchBar,ref:this.m_elMenuHeaderRef,tabIndex:-1},D.createElement("div",{className:xy.a.MenuHeader,onClick:this.ShowDropDown},D.createElement("span",{className:xy.a.ViewName},function(){if(11==Qa.selectedGameListView)return Object(R.f)("#GameList_View_SearchResults");for(var r=[],i=!0,e=0,t=zy;e<t.length;e++){!function(e){var t=Qa.currentAppFilter.BIsSelected(Pe.kAppType,e),n=1==e||0<mi.GetCollectionForAppType(e).allApps.length;t&&n?r.push(e):n?i=!1:t&&(console.log("Automatically un-selecting '"+mi.GetCollectionForAppType(e).displayName+"' from game list."),setTimeout(function(){return Qa.SelectCollectionsAppFilterOption(Pe.kAppType,e,!1)},0))}(t[e])}if(i||0==r.length)return Object(R.f)("#GameList_View_All");var n=r.map(function(e){return mi.GetCollectionForAppType(e).displayName});return new Intl.ListFormat(R.e.GetPreferredLocales(),{type:"conjunction",style:"long"}).format(n)}()),D.createElement("div",{className:xy.a.Arrow},D.createElement(_r.w,null))),D.createElement(Co.d,{direction:"top",nDelayShowMS:240,toolTipContent:"#Generic_ScrollToTop",className:Object(cr.a)(xy.a.ScrollToTop,i&&xy.a.Visible),onClick:this.ScrollToTop},D.createElement(_r.d,{angle:0}))),D.createElement("div",{className:xy.a.ViewFiltersBar},D.createElement("div",{className:Object(cr.a)(xy.a.Filters,t&&xy.a.Disabled)},a&&D.createElement(Co.d,{direction:"top",nDelayShowMS:240,toolTipContent:o?"#GameList_View_Platform_Linux":"#GameList_View_Platform_Apple",className:Object(cr.a)(xy.a.CheckboxWithImage,e&&xy.a.Disabled,s&&xy.a.Active),onClick:function(){return e||Wy(Pe.kPlayState,We.ValidPlatform,!s)}},o&&D.createElement(_r.O,null),!o&&D.createElement(_r.c,null)),D.createElement(Co.d,{direction:"top",nDelayShowMS:240,toolTipContent:"#GameList_View_SortByRecent",className:Object(cr.a)(xy.a.CheckboxWithImage,t&&xy.a.Disabled,n&&xy.a.Active),onClick:function(){return t||(e=!n,Qa.SetGameListSortedByRecent(e),void SteamClient.Stats.RecordActivationEvent("SetGameListSortedByRecent",e?"Enabled":"Disabled"));var e}},D.createElement(_r.pb,{bytime:!0})),D.createElement(Co.d,{direction:"right",nDelayShowMS:240,toolTipContent:c,className:Object(cr.a)(xy.a.CheckboxWithImage,e&&xy.a.Disabled,r&&xy.a.Active),onClick:function(){return e||Wy(Pe.kPlayState,We.ReadyToPlay,!r)}},D.createElement(_r.fb,null)))))},Object(j.c)([E.a],e.prototype,"TakeFocus",null),Object(j.c)([E.a],e.prototype,"HideDropDown",null),Object(j.c)([E.a],e.prototype,"ShowDropDown",null),Object(j.c)([E.a],e.prototype,"ScrollToTop",null),Object(j.c)([o.observer],e)}(D.Component);function Wy(e,t,n){Qa.SelectCollectionsAppFilterOption(e,t,n),SteamClient.Stats.RecordActivationEvent("FilterOption_"+it(e,t),n?"Enabled":"Disabled")}var Vy,qy,Yy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var t=this,e=!1;switch(Qa.selectedGameListView){case 10:e=!0;case 1:var n=Qa.bIsGameListSortedByRecent||e,r=0<Xa.sharedLibraryAccountIds.length;return D.createElement(D.Fragment,null,zy.map(function(t){var e=mi.GetCollectionForAppType(t),n=e.allApps.length,r=e.visibleApps.length;if(1!=t&&0==n)return null;var i=D.createElement("span",{className:xy.a.ViewName},e.displayName,D.createElement("span",{className:xy.a.AppCount},"("+r+")"));return D.createElement(gu.d,{key:"checkbox-eAppType-"+t,classname:Object(cr.a)(xy.a.Row,xy.a.Checkbox),label:i,checked:Qa.currentAppFilter.BIsSelected(Pe.kAppType,t),onChange:function(e){return Qa.SelectCollectionsAppFilterOption(Pe.kAppType,t,e)}})}),D.createElement("div",{className:xy.a.Rule}),D.createElement(Co.d,{bDisabled:!n,toolTipContent:"#GameList_View_GroupingDisabled_ToolTip"},D.createElement(gu.d,{key:"checkbox-grouping-collections",classname:Object(cr.a)(xy.a.Row,xy.a.Checkbox,n&&xy.a.Disabled),disabled:n,label:Object(R.f)("#GameList_View_GroupByCollections"),checked:Qa.bIsGameListGroupedByCollection,onChange:function(e){Qa.SetGameListGroupedByCollection(e),SteamClient.Stats.RecordActivationEvent("SetGameListGroupedByCollection",e?"Enabled":"Disabled"),t.props.fnHide()}}),r&&D.createElement(gu.d,{key:"checkbox-grouping-shared-libraries",classname:Object(cr.a)(xy.a.Row,xy.a.Checkbox,n&&xy.a.Disabled),disabled:n,label:Object(R.f)("#GameList_View_GroupSharedLibraries"),checked:Qa.bIsGameListGroupedBySharedLibraries,onChange:function(e){Qa.SetGameListGroupedBySharedLibrary(e),t.props.fnHide()}})));case 11:return D.createElement("div",{key:"view-collections",className:Object(cr.a)(xy.a.Row,xy.a.ViewName),onClick:function(){Qa.SelectGameListView(1),t.props.fnHide()}},Object(R.f)("#GameList_View_ExitSearch"))}},Object(j.c)([o.observer],t)}(D.Component),Qy=n("9Oy5"),Zy=n.n(Qy),Ky=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.GoHome=function(){Qa.NavigateToHome()},t.prototype.render=function(){var e=Object(cr.a)(Zy.a.Bar,1==Qa.mainPanelMode&&Zy.a.Selected);return D.createElement("div",{className:e,onClick:this.GoHome},D.createElement("div",{className:Zy.a.Icon},D.createElement(_r.sb,null)),D.createElement("div",{className:Zy.a.Label},Object(R.f)("#GameList_Home")))},Object(j.c)([o.observer],t)}(D.Component),Jy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.ShowAllCollections=function(){Qa.NavigateToAllCollections()},t.prototype.render=function(){var e=2==Qa.mainPanelMode;return D.createElement("div",{className:Zy.a.CollectionBar},D.createElement("div",{className:Object(cr.a)(Zy.a.Bar,Zy.a.CollectionButton,e&&Zy.a.Selected),onClick:this.ShowAllCollections},D.createElement("div",{className:Zy.a.CollectionIcon},D.createElement("div",{className:Zy.a.CollectionIconBox}),D.createElement("div",{className:Zy.a.CollectionIconBox}),D.createElement("div",{className:Zy.a.CollectionIconBox}),D.createElement("div",{className:Zy.a.CollectionIconBox}))))},Object(j.c)([o.observer],t)}(D.Component),Xy=n("AbGu"),$y=n.n(Xy),eS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_mainDivRef=D.createRef(),e.m_gameListRef=D.createRef(),e.m_gameListSearchBarRef=D.createRef(),e.m_bScrolledTop=!0,e}return Object(j.d)(e,t),e.prototype.componentDidMount=function(){var t=this;Object(O.reaction)(function(){return Qa.mainPanelMode},function(e){return t.m_mainDivRef.current&&t.m_mainDivRef.current.focus()},{fireImmediately:!0})},e.prototype.BIsSearchBarFocused=function(){return this.m_gameListSearchBarRef.current&&this.m_gameListSearchBarRef.current.BIsFocused()},e.prototype.FocusSearchBar=function(){this.m_gameListSearchBarRef.current&&this.m_gameListSearchBarRef.current.FocusOnSearch()},e.prototype.OnKeyDown=function(e){this.m_gameListRef.current&&this.m_gameListRef.current.OnKeyDown(e)},e.prototype.OnKeyUp=function(e){this.m_gameListRef.current&&this.m_gameListRef.current.OnKeyUp(e)},e.prototype.OnScrolled=function(e){this.m_bScrolledTop=e},e.prototype.OnShowAllCollections=function(){Qa.SelectGameListView(1)},e.prototype.render=function(){return D.createElement("div",{className:$y.a.Container,ref:this.m_mainDivRef,tabIndex:0,onKeyDown:this.OnKeyDown,onKeyUp:this.OnKeyUp},D.createElement("div",{className:$y.a.GameListHomeAndSearch},D.createElement("div",{className:$y.a.HomeBox},D.createElement(Ks.a,null,D.createElement(Ky,null))),D.createElement("div",{className:$y.a.CollectionsButton},D.createElement(Ks.a,null,D.createElement(Co.d,{direction:"right",nDelayShowMS:240,toolTipContent:Object(R.f)("#GameList_View_Collections")},D.createElement(Jy,null))))),D.createElement(Ks.a,null,D.createElement(Hy,{gamelistref:this.m_gameListRef,bScrolledTop:this.m_bScrolledTop})),D.createElement(Ks.a,null,D.createElement(gy,{ref:this.m_gameListSearchBarRef})),D.createElement(Ks.a,null,10==Qa.selectedGameListView&&D.createElement("div",{className:$y.a.OneCollectionWarning,onClick:this.OnShowAllCollections},Object(R.f)("#GameList_View_ShowAllCollections"))),D.createElement(Ks.a,null,D.createElement(Gy,{ref:this.m_gameListRef,fnBIsSearchFocused:this.BIsSearchBarFocused,onScrolled:this.OnScrolled})))},Object(j.c)([O.observable],e.prototype,"m_bScrolledTop",void 0),Object(j.c)([E.a],e.prototype,"BIsSearchBarFocused",null),Object(j.c)([E.a],e.prototype,"OnKeyDown",null),Object(j.c)([E.a],e.prototype,"OnKeyUp",null),Object(j.c)([E.a],e.prototype,"OnScrolled",null),Object(j.c)([E.a],e.prototype,"OnShowAllCollections",null),Object(j.c)([o.observer],e)}(D.Component),tS=n("yJqL");(qy=Vy=Vy||{})[qy.AppDetails=1]="AppDetails",qy[qy.LibraryHome=2]="LibraryHome";var nS=function(r){function e(e){var t=r.call(this,e)||this,n=vf.GetClanEventModel(t.props.initialEventID);return t.state={event:n},n||t.LoadInitialEvent(),t}return Object(j.d)(e,r),e.prototype.LoadInitialEvent=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,vf.LoadPartnerEventFromClanEventGID(this.props.appid,this.props.initialEventID,void 0)];case 1:return t=e.sent(),this.setState({event:t}),[2]}})})},e.prototype.componentDidUpdate=function(e){e.initialEventID==this.props.initialEventID&&e.appid==this.props.appid||this.LoadInitialEvent()},e.prototype.OnClose=function(){this.props.location==Vy.AppDetails?Qa.NavigateToApp(this.props.appid):Qa.NavigateToHome()},e.prototype.OnNavigateToApp=function(){Qa.NavigateToApp(this.props.appid)},e.prototype.render=function(){var e=this.state.event;return e&&e.appid==this.props.appid&&e.GID==this.props.initialEventID?D.createElement("div",{style:{width:"100%",height:"100%"}},D.createElement(tS.a,{initialEvent:e,partnerEventStore:vf,emoticonStore:Sd.EmoticonStore,appInfoStore:b.a,closeModal:this.OnClose,onAppIconClick:this.props.location==Vy.LibraryHome&&this.OnNavigateToApp,fnFilterImageURLsForKnownFailures:gf.FilterImageURLsForKnownFailures,fnImageFailureCallback:gf.ImageFailureCallback})):null},Object(j.c)([E.a],e.prototype,"OnClose",null),Object(j.c)([E.a],e.prototype,"OnNavigateToApp",null),e}(D.Component),rS=n("pNNv"),iS=n.n(rS),aS=n("N0Ye"),oS=n("XX7r"),sS=n.n(oS),cS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_nCurrentUpdate=0,e.m_bShowExplanationDialog=!1,e}return Object(j.d)(e,t),e.prototype.OnEventSelected=function(e){this.m_nCurrentUpdate=e},e.prototype.OnNextEvent=function(e){this.m_nCurrentUpdate+1>=this.props.majorUpdates.length?this.m_nCurrentUpdate=0:this.m_nCurrentUpdate++},e.prototype.OpenPartnerEventFromHome=function(){var e=this.props.majorUpdates[this.m_nCurrentUpdate];gf.TrackEventClickedByUser(e,2),Qa.NavigateToAppEvents(e.appid,e.GID)},e.prototype.ShowExplanationDialog=function(){this.m_bShowExplanationDialog=!0},e.prototype.HideExplanationDialog=function(){this.m_bShowExplanationDialog=!1},e.prototype.RemoveCurrentUpdate=function(e){gf.RemoveEvent(this.props.majorUpdates[this.m_nCurrentUpdate].GID)},e.prototype.ShowAllUpdatesAgain=function(e){gf.ResetDoNotShowList()},e.prototype.OnContextMenu=function(e){var t=this;Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:this.ShowExplanationDialog},Object(R.f)("#MajorUpdate_Context_WhyAmISeeingThis")),D.createElement(Hi.d,{onSelected:function(){return t.RemoveCurrentUpdate(e)}},Object(R.f)("#MajorUpdate_Context_RemoveThisUpdate"))),e)},e.prototype.render=function(){var t=this;if(null==this.props.majorUpdates||0==this.props.majorUpdates.length)return D.createElement("div",null);for(var n=[],r=this,e=0;e<this.props.majorUpdates.length;++e)!function(e){n.push(D.createElement("div",{key:"eventTab"+e,className:Object(cr.a)(sS.a.TopBarTab,r.m_nCurrentUpdate==e?sS.a.Selected:""),onClick:function(){return t.OnEventSelected(e)}}))}(e);var i=this.props.majorUpdates[this.m_nCurrentUpdate];gf.TrackEventShownToUser(i,2);i.startTime;0!=i.visibilityStartTime&&i.visibilityStartTime;var a=Xa.GetAppOverviewByAppID(i.appid),o=D.createElement("div",{className:sS.a.HeaderNavigation},D.createElement("div",{className:sS.a.TopBarTabs},n),D.createElement("div",{className:sS.a.NextUpdateLink,onClick:this.OnNextEvent},Object(R.f)("#MajorUpdate_NextUpdate")));return D.createElement(Ks.a,null,D.createElement("div",{className:sS.a.LibraryHomeMajorUpdates,onContextMenu:this.OnContextMenu},D.createElement(p.a,{className:sS.a.TransitionGroup,appear:!0,enter:!0,exit:!0},D.createElement(m.a,{key:"majorUpdateTransition"+this.props.majorUpdates[this.m_nCurrentUpdate].GID,classNames:{enter:sS.a.TransitionEnter,enterActive:sS.a.TransitionEnterActive,exit:sS.a.TransitionExit,exitActive:sS.a.TransitionExitActive},timeout:500},D.createElement(Lv,{strDisplayName:a.display_name,event:this.props.majorUpdates[this.m_nCurrentUpdate],headerNavElement:o,fnHandleOpenEvent:this.OpenPartnerEventFromHome,fnFilterImageURLsForKnownFailures:gf.FilterImageURLsForKnownFailures,fnImageFailureCallback:gf.ImageFailureCallback}))),D.createElement("div",{className:sS.a.DetailsButton,onClick:this.OnContextMenu},"..."),D.createElement(m.a,{in:this.m_bShowExplanationDialog,timeout:250,unmountOnExit:!0,classNames:{enter:sS.a.DialogEnter,enterActive:sS.a.DialogEnterActive,exit:sS.a.DialogExit,exitActive:sS.a.DialogExitActive}},D.createElement("div",{className:sS.a.ExplanationDialogContainer},D.createElement("div",{className:sS.a.ExplanationDialogBackground,onClick:this.HideExplanationDialog}),D.createElement("div",{className:sS.a.ExplanationDialog},D.createElement("div",{className:sS.a.ExplanationTitle},Object(R.f)("#MajorUpdate_Context_WhyAmISeeingThis")),D.createElement("div",{className:sS.a.ExplanationBody},Object(R.f)("#MajorUpdate_Context_WhyAmISeeingThis_Text")),D.createElement(Si.s,{className:sS.a.UpdateButton,onClick:this.HideExplanationDialog},Object(R.f)("#Generic_GotIt")))))))},Object(j.c)([O.observable],e.prototype,"m_nCurrentUpdate",void 0),Object(j.c)([O.observable],e.prototype,"m_bShowExplanationDialog",void 0),Object(j.c)([E.a],e.prototype,"OnEventSelected",null),Object(j.c)([E.a],e.prototype,"OnNextEvent",null),Object(j.c)([E.a],e.prototype,"OpenPartnerEventFromHome",null),Object(j.c)([E.a],e.prototype,"ShowExplanationDialog",null),Object(j.c)([E.a],e.prototype,"HideExplanationDialog",null),Object(j.c)([E.a],e.prototype,"RemoveCurrentUpdate",null),Object(j.c)([E.a],e.prototype,"ShowAllUpdatesAgain",null),Object(j.c)([E.a],e.prototype,"OnContextMenu",null),Object(j.c)([o.observer],e)}(D.Component),lS=n("jmRr"),uS=n.n(lS),pS=n("f0Wu"),dS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.RemoveCurrentUpdate=function(e){gf.RemoveEvent(this.props.event.GID)},t.prototype.ShowMeFewerForApp=function(e){gf.LowerAppPriorityForApp(this.props.event.appid)},t.prototype.ShowMeMoreForApp=function(e){gf.RaiseAppPriorityForApp(this.props.event.appid)},t.prototype.ShowAllUpdatesAgain=function(e){gf.ResetDoNotShowList()},t.prototype.OnContextMenu=function(e){var t=this,n=gf.GetUserAppPrioritySetting(this.props.event.appid),r=Xa.GetAppOverviewByAppID(this.props.event.appid);Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:function(){return t.RemoveCurrentUpdate(e)}},Object(R.f)("#MajorUpdate_Context_RemoveThisUpdate")),-2<n&&r&&D.createElement(Hi.d,{onSelected:function(){return t.ShowMeFewerForApp(e)}},Object(R.f)("#MajorUpdate_Context_ShowMeFewerForApp",r.display_name)),n<2&&r&&D.createElement(Hi.d,{onSelected:function(){return t.ShowMeMoreForApp(e)}},Object(R.f)("#MajorUpdate_Context_ShowMeMoreForApp",r.display_name))),e)},t.prototype.OnGameContextMenu=function(e,t){var n=Xa.GetAppOverviewByAppID(t.appid);mi.BIsVisible(n)&&256!=n.app_type&&Object(zi.a)(D.createElement(nu,{overview:n,client:"mostavailable",launchSource:103}),e,ru())},t.prototype.OnShowEventOptions=function(e){return this.OnContextMenu(e)},t.prototype.OnClick=function(e){e.preventDefault();var t=this.props.event;gf.TrackEventClickedByUser(t,2),Qa.NavigateToHomeShowEvent(t.appid,t.GID)},t.prototype.render=function(){var t=this,n=this.props.event;if(!n)return D.createElement("div",{className:uS.a.PartnerEventRowCapsule});var e=Xa.GetAppOverviewByAppID(n.appid);if(!e)return null;var r=e.display_name,i=D.createElement(co,{app:e,eAssetType:4,className:uS.a.GameIcon}),a=Object(C.s)(A.c.LANGUAGE),o=gf.FilterImageURLsForKnownFailures(n.GetImageForSizeAsArrayWithFallback("capsule",a,Gb.c.capsule_main)),s=n.GetNameWithFallback(a),c=D.createElement("span",{className:uS.a.HeaderNameAndType},r),l=n.GetCategoryAsString(),u=n.GetSummaryWithFallback(a),p=n.GetEndTimeAndDateUnixSeconds(),d=Object(aS.a)(n.type),m=pS.tz.guess(),h=pS.unix(n.GetStartTimeAndDateUnixSeconds()).tz(m),f=Object(R.l)(n.GetStartTimeAndDateUnixSeconds()),b=Object(R.l)(n.GetEndTimeAndDateUnixSeconds()),_=mi.BIsVisible(e),v=!1;v||pS.unix(n.GetStartTimeAndDateUnixSeconds()).format("L")==pS.unix(n.GetEndTimeAndDateUnixSeconds()).format("L")?v=!0:(f=pS.unix(n.GetStartTimeAndDateUnixSeconds()).format("MMM D,"),b=pS.unix(n.GetEndTimeAndDateUnixSeconds()).format("MMM D,"));var g=uo.GetDragData("apps")&&0<uo.GetDragData("apps").length;return D.createElement("div",{className:uS.a.PartnerEventRowCapsule,onContextMenu:this.OnContextMenu},D.createElement("div",{className:uS.a.EventTime},Object(R.g)(n.GetStartTimeAndDateUnixSeconds())),D.createElement("div",{className:Object(cr.a)(uS.a.PartnerEventRowCapsule_Container,!g&&uS.a.HoversEnabled),onClick:this.OnClick},D.createElement("div",{className:uS.a.EventSummaryContainer},D.createElement("div",{className:uS.a.EventSummaryType},l),D.createElement("div",{className:uS.a.EventSummaryText},u)),D.createElement("div",{className:uS.a.PartnerEventRowCapsule_MainImageContainer},D.createElement($a.a,{className:uS.a.PartnerEventRowCapsule_MainImage,rgSources:o,onIncrementalError:function(e,t,n){return gf.ImageFailureCallback(t)}}),D.createElement("div",{className:uS.a.EventOptions},D.createElement("div",{onClick:this.OnShowEventOptions}))),null!=p&&d&&D.createElement("div",{className:uS.a.EventTimeSpan},D.createElement("span",{className:uS.a.DateAndTime},f,D.createElement("span",null," "),h.format("LT"),D.createElement("span",null," "),null!=p&&d&&" - ",null!=p&&d&&!v&&b,D.createElement("span",null," "),null!=p&&d&&pS.unix(p).tz(m).format("LT"),D.createElement("span",{"data-tooltip-text":h.format("Z")+", "+m}," ",h.zoneAbbr())))),D.createElement("div",{className:uS.a.PartnerEventRowCapsule_TextCtn},D.createElement("div",{className:uS.a.Event_Title},D.createElement("div",{className:uS.a.PartnerEventRowCapsule_TextTitle},s))),_&&D.createElement(Co.d,{direction:"bottom",nBodyAlignment:0,className:uS.a.GameIconAndName,nDelayShowMS:320,toolTipContent:"#Generic_ViewGameDetails",onClick:function(){Qa.NavigateToApp(n.appid)}},i,D.createElement("div",{onContextMenu:function(e){return t.OnGameContextMenu(e,n)},className:uS.a.GameName},c)),!_&&D.createElement("div",{className:uS.a.GameIconAndName},i,D.createElement("div",{onContextMenu:function(e){return t.OnGameContextMenu(e,n)},className:uS.a.GameName},c)))},Object(j.c)([E.a],t.prototype,"RemoveCurrentUpdate",null),Object(j.c)([E.a],t.prototype,"ShowMeFewerForApp",null),Object(j.c)([E.a],t.prototype,"ShowMeMoreForApp",null),Object(j.c)([E.a],t.prototype,"ShowAllUpdatesAgain",null),Object(j.c)([E.a],t.prototype,"OnContextMenu",null),Object(j.c)([E.a],t.prototype,"OnGameContextMenu",null),Object(j.c)([E.a],t.prototype,"OnShowEventOptions",null),Object(j.c)([E.a],t.prototype,"OnClick",null),Object(j.c)([o.observer],t)}(D.Component),mS=function(n){function e(e){var t=n.call(this,e,Object(R.f)("#Settings"))||this;return t.m_bSettingsChanged=!1,gf.FetchUpdatedEventAppPrioritiesForUser(),t}return Object(j.d)(e,n),e.prototype.onContextMenu=function(e){e.preventDefault(),e.stopPropagation()},e.prototype.onSubmit=function(){return!1},e.prototype.OnShowOnlyProductUpdatesToggle=function(e){SteamClient.Settings.SetLibraryWhatsNewShowOnlyProductUpdates(e),gf.ScheduleUpdateBestEventsForUser(300),this.m_bSettingsChanged=!0},e.prototype.render=function(){for(var t=this,e=mi.GetCollection(ni.Hidden).allApps.length,n=[],r=[],i=0,a=gf.GetAppsShowingLess();i<a.length;i++){var o=a[i];(l=Xa.GetAppOverviewByAppID(o))&&n.push(l)}for(var s=0,c=gf.GetAppsShowingMore();s<c.length;s++){var l,o=c[s];(l=Xa.GetAppOverviewByAppID(o))&&r.push(l)}return D.createElement(_i.a,{className:uS.a.WhatsNewSettingsContainer},D.createElement("div",{className:uS.a.WhatsNewSettingsContent},D.createElement(Si.l,null,Object(R.f)("#WhatsNew")),D.createElement(Si.j,{className:uS.a.WhatsNewSettings,onContextMenu:this.onContextMenu,onSubmit:this.onSubmit},D.createElement(Si.n,{className:Object(cr.a)(uS.a.WhatsNewHeaderText,uS.a.DialogLabelSoft)},Object(R.f)("#WhatsNewFeatureExplainer")),D.createElement(Si.n,{className:Object(cr.a)(uS.a.WhatsNewHeaderText,uS.a.DialogLabelSoft)},Object(R.f)("#WhatsNewFeatureExplainer2")),D.createElement(Si.n,null,Object(R.f)("#WhatsNewVisibilitySettings")),D.createElement(Si.q,{useToggleRail:!0,onChange:function(e){t.OnShowOnlyProductUpdatesToggle(e)},label:Object(R.f)("#WhatsNewSettings_ShowOnlyGameUpdates"),checked:Jr.settings.bLibraryWhatsNewShowOnlyProductUpdates,description:Object(R.f)("#WhatsNewSettings_ShowOnlyGameUpdates_Explainer")}),D.createElement("div",{className:"_DialogInputContainer"},D.createElement("div",{className:"displayColumn alignSelfCenter"},D.createElement("div",{className:"DialogToggle_Label"},Object(R.f)("#WhatsNewYouHaveNItemsHidden",e)))),D.createElement(Si.n,null,Object(R.f)("#WhatsNewPrioritySettings")),D.createElement("div",{className:Object(cr.a)("_DialogInputContainer",uS.a.WhatsNewPriorityContainer)},0<n.length&&D.createElement("div",{className:"displayColumn alignSelfCenter"},D.createElement("div",{className:uS.a.DialogLabelSoft},Object(R.f)("#WhatsNewYouHaveAskedToShowLessFor")),D.createElement("div",{className:uS.a.WhatsNewGameListSection},n.map(function(e,t){return D.createElement("div",{key:e.appid,className:uS.a.WhatsNewGameListRow},D.createElement("div",{className:"DialogToggle_Description"},e.display_name),D.createElement("div",{className:Object(cr.a)(iS.a.UpdateLoweredPriorityUndo,uS.a.WhatsNewSettingsUndoButton),onClick:function(){gf.ResetUserAppPriorityForApp(e.appid)}},D.createElement(_r.Jb,null)))}))),0==n.length&&D.createElement("div",{className:"displayColumn alignSelfCenter"},D.createElement("div",{className:uS.a.DialogLabelSoft},Object(R.f)("#WhatsNewYouHaveNothingShowingLess")))),D.createElement("div",{className:Object(cr.a)("_DialogInputContainer",uS.a.WhatsNewPriorityContainer)},0<r.length&&D.createElement("div",{className:"displayColumn alignSelfCenter"},D.createElement("div",{className:uS.a.DialogLabelSoft},Object(R.f)("#WhatsNewYouHaveAskedToShowMoreFor")),D.createElement("div",{className:uS.a.WhatsNewGameListSection},r.map(function(e,t){return D.createElement("div",{key:e.appid,className:uS.a.WhatsNewGameListRow},D.createElement("div",{className:"DialogToggle_Description"},e.display_name),D.createElement("div",{className:Object(cr.a)(iS.a.UpdateLoweredPriorityUndo,uS.a.WhatsNewSettingsUndoButton),onClick:function(){gf.ResetUserAppPriorityForApp(e.appid)}},D.createElement(_r.Jb,null)))}))),0==r.length&&D.createElement("div",{className:"displayColumn alignSelfCenter"},D.createElement("div",{className:uS.a.DialogLabelSoft},Object(R.f)("#WhatsNewYouHaveNothingShowingMore")))))))},Object(j.c)([E.a],e.prototype,"onContextMenu",null),Object(j.c)([E.a],e.prototype,"onSubmit",null),Object(j.c)([E.a],e.prototype,"OnShowOnlyProductUpdatesToggle",null),Object(j.c)([o.observer],e)}(D.Component),hS=function(n){function e(e){var t=n.call(this,e)||this;return t.k_MaxSmallCapsToShow=18,t.m_timeout=void 0,t.state={bLoaded:!1},t.m_timeout=window.setTimeout(function(){t.setState({bLoaded:!0}),t.m_timeout=void 0},2e3),gf.BNoShowMoreOrLessDataFetched()&&gf.FetchUpdatedEventAppPrioritiesForUser(),t}return Object(j.d)(e,n),e.prototype.componentWillUnmount=function(){this.m_timeout&&window.clearTimeout(this.m_timeout)},e.prototype.OnChildrenVisible=function(e,t){if(0<=e&&0<=t)for(var n=gf.GetLibraryHomeBestEventsForUser();e<n.length-1&&e<=t;){var r=n[e];gf.TrackEventShownToUser(r,2),++e}},e.prototype.RaiseAppPriorityForUndo=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,gf.RaiseAppPriorityForApp(t)];case 1:return e.sent(),gf.ClearJustChangedAppPriority(),[2]}})})},e.prototype.LowerAppPriorityForUndo=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,gf.LowerAppPriorityForApp(t)];case 1:return e.sent(),gf.ClearJustChangedAppPriority(),[2]}})})},e.prototype.OpenWhatsNewSettings=function(e){var t=e.currentTarget.ownerDocument.defaultView;Object(_i.c)(D.createElement(mS,null),t,Object(R.f)("#WhatsNewSettings"),{strTitle:Object(R.f)("#WhatsNewSettings"),popupWidth:842,popupHeight:720})},e.prototype.render=function(){var n=this,e=gf.GetLibraryHomeBestEventsForUser(),t=gf.GetTakeOverEvents();if(0==this.state.bLoaded&&gf.BNotYetLoaded())return 0<gf.GetEventsCountLastTime()?D.createElement("div",{className:iS.a.UpdatesContainer},D.createElement(Pi.a,{size:"xlarge",position:"center"})):null;if(0<t.length)return D.createElement(cS,{majorUpdates:t});if(0==e.length)return null;var r=e.slice(0,this.k_MaxSmallCapsToShow).map(function(e){var t="event_"+e.clanSteamID+"_"+e.GID+"_"+e.AnnouncementGID;return D.createElement(dS,{key:t,event:e})}),i=gf.GetJustChangedPriorityAppID(),a=gf.GetWasJustChangedPriorityLower(),o=void 0;i&&(o=Xa.GetAppOverviewByAppID(i));var s,c=D.createElement("div",null,D.createElement("div",{className:uS.a.SettingsButton,onClick:this.OpenWhatsNewSettings},D.createElement(_r.lb,null)));return o&&(s="",s=a?Object(R.f)("#LibraryHome_NewUpdates_LoweredPriority",o.display_name):Object(R.f)("#LibraryHome_NewUpdates_RaisedPriority",o.display_name),c=D.createElement("div",{className:uS.a.SettingsAndUndoContainer},D.createElement("div",{className:uS.a.SettingsButton,onClick:this.OpenWhatsNewSettings},D.createElement(_r.lb,null)),D.createElement("div",{key:"UpdatedPriority"+i+(a?"lower":"higher"),className:iS.a.UpdateLoweredPriorityNotice},D.createElement("span",null,s),D.createElement("span",{className:iS.a.UpdateLoweredPriorityUndo,onClick:function(){a?n.RaiseAppPriorityForUndo(i):n.LowerAppPriorityForUndo(i)}},Object(R.f)("#LibraryHome_NewUpdates_Undo"))))),D.createElement("div",{className:iS.a.UpdatesContainer},D.createElement(Ks.a,null,D.createElement(Qv,{className:uS.a.WhatsNewContainer,name:Object(R.f)("#LibraryHome_NewUpdates"),aftername:c,bHeaderClickScrollToFirst:!0},function(e,t){return D.createElement(Uv,{className:uS.a.EventRowCarousel,leftMargin:0,ref:e,fnUpdateArrows:t,fnOnChildrenVisible:n.OnChildrenVisible},r)})))},Object(j.c)([E.a],e.prototype,"OnChildrenVisible",null),Object(j.c)([E.a,O.action],e.prototype,"RaiseAppPriorityForUndo",null),Object(j.c)([E.a,O.action],e.prototype,"LowerAppPriorityForUndo",null),Object(j.c)([E.a],e.prototype,"OpenWhatsNewSettings",null),Object(j.c)([o.observer],e)}(D.Component),fS=n("aDya"),bS=n.n(fS),_S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){if(0<mi.GetCollection(ni.Recent).visibleApps.length||0<mi.GetCollectionForAppType(1).visibleApps.length||0<mi.GetCollectionForAppType(2).visibleApps.length||0<mi.GetCollectionForAppType(2048).visibleApps.length||0<mi.GetCollectionForAppType(8192).visibleApps.length)return null;var e=D.createElement("a",{className:bS.a.StoreLink,href:B.a.GetStoreURL()},Object(R.f)("#Library_Recent_NoRecentGames_SteamStore")),t=Object(k.a)(A.c.LAUNCHER_TYPE);return D.createElement("div",{className:bS.a.Container},D.createElement("div",{className:bS.a.TopSection},D.createElement("div",{className:bS.a.AlignBottom},D.createElement("div",{className:bS.a.Description},D.createElement("div",{className:bS.a.NumOwned},Object(R.f)("#Library_Recent_NoRecentGames_GamesOwned",0))," ",D.createElement("div",null,Object(R.o)("#Library_Recent_NoRecentGames_StoreLink",e))),D.createElement("div",{className:bS.a.ButtonContainer},D.createElement(Si.s,{className:bS.a.TopButton,onClick:function(){return B.a.NavigateToSteamURL("StoreFreeToPlay")}},Object(R.f)("#Library_Recent_NoRecentGames_FreeToPlay")),D.createElement(Si.s,{className:bS.a.TopButton,onClick:function(){return B.a.NavigateToSteamURL("StoreSpecials")}},Object(R.f)("#Library_Recent_NoRecentGames_GamesOnSale")),D.createElement(Si.s,{className:bS.a.TopButton,onClick:function(){return B.a.NavigateToSteamURL("StoreExploreNew")}},Object(R.f)("#Library_Recent_NoRecentGames_NewReleases"))))),!t&&D.createElement(vS,null))},Object(j.c)([o.observer],t)}(D.Component);function vS(){return D.createElement("div",{className:Object(cr.a)(bS.a.ButtonContainer,bS.a.BottomSection)},D.createElement(Si.d,{className:bS.a.BottomButton,onClick:function(){return B.a.NavigateToSteamURL("RegisterKeyNoParams")}},Object(R.f)("#Library_Recent_NoRecentGames_ActivateProduct")),D.createElement(Si.d,{className:bS.a.BottomButton,onClick:function(){return B.a.NavigateToSteamURL("RedeemWalletVoucher")}},Object(R.f)("#Library_Recent_NoRecentGames_RedeemCode")))}var gS=n("bqmO"),yS=n.n(gS),SS=n("O6y2"),wS=n.n(SS);function CS(e){if("partner-ea-access"!=e.strCollectionId)return null;var t=D.createElement(BS,null),n=Object(R.f)("#EAAccessCollection_LinkToLandingPage"),r=!(uo.GetDragData("apps")&&0<uo.GetDragData("apps").length)&&!A.c.OFFLINE_MODE,i=Object(cr.a)(wS.a.CollectionShelfBannerCtn,r&&wS.a.EnableHovers,r&&qg.a.HoversEnabled);return A.c.OFFLINE_MODE?D.createElement("div",{className:i},t):D.createElement("a",{className:i,href:"https://store.steampowered.com/subscriptions/ea"},t,D.createElement("div",{className:wS.a.LinkToLandingPage},n))}function OS(e){return D.createElement("div",{className:wS.a.BannerSecondHalf})}function ES(e){var t=e.heading,n=e.appOverview,r=e.appInfo,i=e.rgFriends,a=e.bShortLayout,o=e.className,s=e.strCategoryBlurb,c=e.strStatsID,l=Object(j.f)(e,["heading","appOverview","appInfo","rgFriends","bShortLayout","className","strCategoryBlurb","strStatsID"]),u=n?n.appid:r.appid;Object(w.a)(!i||0<i.length,"we shouldn't get here with zero friends.");var p=Object(cr.a)(jS.a.AppContainer,a&&jS.a.Short,o),d=D.createElement(D.Fragment,null,D.createElement("div",{className:jS.a.Heading},t),D.createElement(zc,Object(j.a)({strKey:"FriendsActiveAppHover",className:jS.a.HoverSource,hoverDelay:300,renderHover:function(){return D.createElement(Wg,{appid:u,displayName:n?n.display_name:r.name,displayStatus:n&&n.display_status,bHasVerticalCapsule:!1,appOverview:n,fnRenderBlurb:function(){return D.createElement("div",{className:jS.a.AppHoverCategoryBlurb},s)}})}},l),D.createElement(DS,{appOverview:n,appInfo:r,strStatsID:c,nStatsFriendCount:i.length},D.createElement(Xg,{appid:u,rgFriends:i,bFeatured:!0,bShortLayout:e.bShortLayout,nFriendsToShow:8,context:4}))));return n?D.createElement(xo,Object(j.a)({appid:u,className:p},l),d):D.createElement("div",Object(j.a)({className:p},l),d)}var BS=function(e){return D.createElement("div",{className:wS.a.CollectionShelfBanner},D.createElement("img",{className:wS.a.EALogo,src:yS.a}),!Qa.BLowPerfMode()&&D.createElement("div",{className:Object(cr.a)(qg.a.LibraryItemBoxShine,qg.a.Landscape)}))},AS=n("sOw0"),IS=n("b16f"),jS=n.n(IS),DS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={},e.m_hAppDetails=null,e.m_refHeaderImage=D.createRef(),e.m_refHeaderBlurImage=D.createRef(),e}return Object(j.d)(e,t),Object.defineProperty(e.prototype,"appid",{get:function(){return this.props.appOverview?this.props.appOverview.appid:this.props.appInfo?this.props.appInfo.appid:AS.b},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.RegisterForAppData()},e.prototype.componentWillUnmount=function(){this.UnregisterForAppData()},e.prototype.componentDidUpdate=function(e){this.props.appInfo===e.appInfo&&this.props.appOverview===e.appOverview||(this.UnregisterForAppData(),this.RegisterForAppData(),this.setState({bHeroImageError:!1,bLogoImageError:!1}))},e.prototype.RegisterForAppData=function(){this.m_hAppDetails=ha.RegisterForAppData(this.appid)},e.prototype.UnregisterForAppData=function(){this.m_hAppDetails&&this.m_hAppDetails.unregister(),this.m_hAppDetails=null},e.prototype.OnClick=function(e){this.props.appOverview?(SteamClient.Stats.RecordActivationEvent(this.props.strStatsID,"owned"),Qa.NavigateToApp(this.props.appOverview.appid,null)):this.props.appInfo&&this.props.appInfo.appid&&(SteamClient.Stats.RecordActivationEvent(this.props.strStatsID,"unowned"),B.a.NavigateToStoreAppPage(this.props.appInfo.appid,"friendsactivityapp"))},e.prototype.OnContextMenu=function(e){var t={bFitToWindow:!0,strClassName:Object(cr.a)(ec.a.contextMenu,Xs.a.LibraryContextMenu)};this.props.appOverview?(SteamClient.Stats.RecordActivationEvent(this.props.strStatsID+"_ContextMenu","owned"),Object(zi.a)(D.createElement(nu,{overview:this.props.appOverview,client:"mostavailable",launchSource:1e3}),e,t)):(SteamClient.Stats.RecordActivationEvent(this.props.strStatsID+"_ContextMenu","unowned"),Object(zi.a)(D.createElement(tu,{appid:this.props.appInfo.appid}),e,t))},e.prototype.OnHeroImageLoad=function(){this.m_refHeaderBlurImage.current.src=this.m_refHeaderImage.current.src},e.prototype.OnHeroImageError=function(e){this.setState({bHeroImageError:!0})},e.prototype.OnLogoImageError=function(e){this.setState({bLogoImageError:!0})},e.prototype.render=function(){var e=this.appid,t=e?ha.GetAppDetails(e):null;if(!t||Za.BIsAppBlocked(this.appid))return D.createElement("div",{className:jS.a.HeroContainer},D.createElement(Pi.a,{size:"medium",position:"center"}));var n=this.props,r=n.appOverview,i=(n.appInfo,n.children),a=r&&r.rt_store_asset_mtime,o=ha.GetHeroImagesForAppId(e,a),s=o.rgHeroImages,c=(o.bHasHeroImage,ha.GetLogoImagesForAppId(e,a)),l=c.rgLogoImages;c.logoPosition;Tc.GetToggle(6)&&(s=s.map(function(e){return"breakfortest"+e}),l=l.map(function(e){return"breakfortest"+e})),s.push(ao.a);var u=!this.state.bHeroImageError,p=0!=l.length&&!this.state.bLogoImageError,d=!!this.props.appOverview,m=uo.GetDragData("apps")&&0<uo.GetDragData("apps").length;return D.createElement("div",{className:Object(cr.a)(jS.a.HeroContainer,!m&&jS.a.HoversEnabled),onClick:this.OnClick,onContextMenu:this.OnContextMenu},D.createElement("div",{className:jS.a.HeroImageClipper},D.createElement("div",{className:jS.a.HeroImageTransform},u&&D.createElement("img",{ref:this.m_refHeaderBlurImage,className:jS.a.HeroImageBlur}),u&&D.createElement(co,{ref:this.m_refHeaderImage,app:r,appid:!r&&e,rgSources:!r&&s,eAssetType:1,className:jS.a.HeroImage,onError:this.OnHeroImageError,onLoad:this.OnHeroImageLoad,neverShowTitle:!0}),!u&&D.createElement("div",{className:Object(cr.a)(jS.a.HeroImage,jS.a.NoHeroImage)}))),D.createElement("div",{className:jS.a.HeroLogoCtn},p&&D.createElement("div",{className:jS.a.LogoContainer},D.createElement(co,{app:r,appid:!r&&e,eAssetType:2,className:jS.a.LogoImage,rgSources:!r&&l,onError:this.OnLogoImageError})),!p&&D.createElement("div",{className:jS.a.LogoText},D.createElement("div",{className:jS.a.TextCtn},t.strDisplayName))),!d&&D.createElement("div",{className:jS.a.UnownedBanner},D.createElement("div",{className:jS.a.UnownedBannerText},Object(R.f)("#Library_FriendsActivity_UnownedBanner"))),i)},Object(j.c)([E.a],e.prototype,"OnClick",null),Object(j.c)([E.a],e.prototype,"OnContextMenu",null),Object(j.c)([E.a],e.prototype,"OnHeroImageLoad",null),Object(j.c)([E.a],e.prototype,"OnHeroImageError",null),Object(j.c)([E.a],e.prototype,"OnLogoImageError",null),Object(j.c)([o.observer],e)}(D.Component),RS="friendsactivitystore_storage",TS=new(function(){function e(){this.m_dtNextAllowableRetry=0}return e.prototype.Init=function(t){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_CMInterface=t,this.m_LocalStorage=new Ke,[4,this.LoadCacheFromLocalStorage()];case 1:return e.sent(),[2]}})})},e.prototype.GetFriendsAppsActivity=function(){this.MaybeUpdateFriendsAppActivityAsync();var e={response:this.m_cachedFriendsAppsActivity,bIsFresh:this.m_bCachedFriendsAppsActivityIsFresh};return this.m_bCachedFriendsAppsActivityIsFresh=!1,e},e.prototype.DebugClearCache=function(){this.m_cachedFriendsAppsActivity=void 0,this.m_rtCachedFriendsAppsActivityTimeStamp=void 0,this.m_dtNextAllowableRetry=0},e.prototype.LoadCacheFromLocalStorage=function(){return Object(j.b)(this,void 0,void 0,function(){var t;return Object(j.e)(this,function(e){switch(e.label){case 0:return[4,this.m_LocalStorage.GetObject(RS)];case 1:return t=e.sent(),this.m_bCachedFriendsAppsActivityIsFresh=!1,t&&1==t.nVersion?(this.m_cachedFriendsAppsActivity=t.cachedFriendsAppsActivity,this.m_rtCachedFriendsAppsActivityTimeStamp=t.rtCachedFriendsAppsActivityTimeStamp):(this.m_cachedFriendsAppsActivity=null,this.m_rtCachedFriendsAppsActivityTimeStamp=null),this.m_dtNextAllowableRetry=0,[2]}})})},e.prototype.SaveCacheToLocalStorage=function(){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){return[2,this.m_LocalStorage.StoreObject(RS,{nVersion:1,cachedFriendsAppsActivity:this.m_cachedFriendsAppsActivity,rtCachedFriendsAppsActivityTimeStamp:this.m_rtCachedFriendsAppsActivityTimeStamp})]})})},e.prototype.MaybeUpdateFriendsAppActivityAsync=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(j.e)(this,function(e){switch(e.label){case 0:return(t=Cr.g.PerDay,n=1e3*Cr.g.PerHour,A.c.OFFLINE_MODE)?[2]:this.m_bFriendsAppActivityRequestInFlight||this.m_cachedFriendsAppsActivity&&this.m_rtCachedFriendsAppsActivityTimeStamp&&Date.now()/1e3-this.m_rtCachedFriendsAppsActivityTimeStamp<t||Date.now()<this.m_dtNextAllowableRetry?[2]:(this.m_bFriendsAppActivityRequestInFlight=!0,Tc.GetToggle(5)?[4,Object(Cr.h)(1e4)]:[3,2]);case 1:e.sent(),e.label=2;case 2:return(r=x.b.Init(yt.e)).Body().set_request_flags((Tc.GetToggle(12)&&1)+(Tc.GetToggle(11)&&2)+(Tc.GetToggle(4)&&4)+(Tc.GetToggle(3)&&8)+(Tc.GetToggle(13)&&16)),[4,yt.n.GetFriendsAppsActivity(this.m_CMInterface.GetServiceTransport(),r)];case 3:return i=e.sent(),this.m_bFriendsAppActivityRequestInFlight=!1,1==i.GetEResult()?(this.m_dtNextAllowableRetry=Date.now()+1e3*t,this.m_rtCachedFriendsAppsActivityTimeStamp=Date.now()/1e3,this.m_cachedFriendsAppsActivity=i.Body().toObject(),this.m_bCachedFriendsAppsActivityIsFresh=!0,this.SaveCacheToLocalStorage()):(console.warn("Couldn't fetch friends app activity: result = ",i.GetEResult()),void 0===this.m_cachedFriendsAppsActivity&&(this.m_cachedFriendsAppsActivity=null),this.m_dtNextAllowableRetry=Date.now()+n),[2]}})})},Object(j.c)([O.observable],e.prototype,"m_cachedFriendsAppsActivity",void 0),Object(j.c)([O.action.bound],e.prototype,"DebugClearCache",null),e}());window.friendsActivityStore=TS;var MS="FriendsAppsActivity_";var NS=[function(e,t){return LS("NewToGroup",e.new_to_group,t)},function(e,t){return LS("ReturnedToGroup",e.returned_to_group,t)},function(e,t){return LS("Trending",e.trending,t)},function(e,t){return e.unowned.filter(function(e){return!Za.BIsAppBlocked(e.appid)}).map(function(e){return{appid:e.appid,bAppIsOwned:!1,strStatsID:MS+"Unowned",nStatsFriendCount:e.friends.length,nDisplayOrder:e.display_order,node:D.createElement(ES,{key:"unowned"+e.appid,heading:Object(R.f)("#Library_FriendsActivity_UnownedHeading"),appInfo:b.a.GetAppInfo(e.appid),rgFriends:e.friends.map(function(e){return ei.GetFriendState(new H.a(e.steamid))}),bShortLayout:t,strCategoryBlurb:Object(R.f)("#Library_FriendsActivity_UnownedHover"),strStatsID:MS+"Unowned"})}})},function(e,t){return LS("Popular",e.popular,t)},function(e,t){return LS("RecentlyPurchased",e.recent_purchases,t)},function(e,t){return LS("DontForget",e.dont_forget,t)}];function LS(t,e,n){for(var r=[],i=0,a=e;i<a.length;i++){var o=a[i],s=Xa.GetAppOverviewByAppID(o.appid);s&&mi.BIsVisible(s)?r.push({responseApp:o,appOverview:s}):s||Za.BIsAppBlocked(o.appid)||r.push({responseApp:o,appInfo:b.a.GetAppInfo(o.appid)})}return r.map(function(e){return{appid:e.responseApp.appid,bAppIsOwned:!!e.appOverview,strStatsID:MS+t,nStatsFriendCount:e.responseApp.friends.length,nDisplayOrder:e.responseApp.display_order,node:D.createElement(ES,{key:t+e.responseApp.appid,heading:Object(R.f)("#Library_FriendsActivity_"+t+"Heading"),appOverview:e.appOverview,appInfo:e.appInfo,rgFriends:e.responseApp.friends.map(function(e){return ei.GetFriendState(new H.a(e.steamid))}),bShortLayout:n,strCategoryBlurb:Object(R.f)("#Library_FriendsActivity_"+t+"Hover"),strStatsID:MS+t})}})}var kS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refPageableCarousel=D.createRef(),e}return Object(j.d)(e,t),e.prototype.ScrollLeft=function(e){var t=this.m_refPageableCarousel.current;t&&t.ScrollLeft(e)},e.prototype.ScrollRight=function(e){var t=this.m_refPageableCarousel.current;t&&t.ScrollRight(e)},e.prototype.render=function(){var e=this.props,t=e.bShortLayout,n=(n=e.rgRenderedApps)||[D.createElement(Pi.a,{key:"empty friends activity"})],r=Jr.settings.nLibraryDisplaySize,i=1==r?jS.a.LibrarySmall:2==r?jS.a.LibraryMedium:3==r?jS.a.LibraryLarge:jS.a.LibraryAutomatic,a=0==n.length,o=Object(cr.a)(jS.a.PageableContainer,t&&jS.a.Short,a&&jS.a.Empty,i);return a?D.createElement("div",{className:Object(cr.a)(o,jS.a.Carousel,jS.a.Empty)},D.createElement("div",{className:jS.a.Message},Object(R.f)("#LibraryHome_RecentFriendsActivity_Empty"))):D.createElement(Qv,{ref:this.m_refPageableCarousel,className:o,bNoHeader:!0,name:Object(R.f)("#LibraryHome_RecentFriendsActivity"),bHeaderClickScrollToFirst:!0,fnUpdateArrows:this.props.fnUpdateArrows},function(e,t){return D.createElement(Uv,{className:jS.a.Carousel,leftMargin:0,ref:e,fnUpdateArrows:t},n)})},Object(j.c)([E.a],e.prototype,"ScrollLeft",null),Object(j.c)([E.a],e.prototype,"ScrollRight",null),Object(j.c)([o.observer],e)}(D.Component),FS=n("qX2u"),PS=n.n(FS),GS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.app,n=e.bFeatured,r=e.bShortLayout,i=e.nWidth,a=e.nHeight,o=(e.label,Object(j.f)(e,["app","bFeatured","bShortLayout","nWidth","nHeight","label"])),s={width:i+"px",height:a+"px"},c=Object(cr.a)(PS.a.RecentGameMediaContainer,n&&PS.a.Featured,r&&PS.a.Short);return D.createElement("div",Object(j.a)({className:PS.a.RecentGame},o),this.props.label,D.createElement("div",{className:c,style:s},D.createElement(ry,{app:t,bFeatured:this.props.bFeatured,bShowFriendsAsIcons:!0,context:2,bShortLayout:r})))},Object(j.c)([o.observer],t)}(D.Component),US=function(n){function e(e){var t=n.call(this,e)||this;return t.m_refPageableCarousel=D.createRef(),t}return Object(j.d)(e,n),e.prototype.CalculateChildSizes=function(e){var t=ry.GetDimensionsForELibraryDisplaySize(Jr.settings.nLibraryDisplaySize,e),n=t.childWidth,r=t.childHeight;return 175<n&&(n=175,r=262.5),{nItemWidth:n,nItemHeight:r,bShortLayout:t.bShort}},e.prototype.ScrollLeft=function(e){var t=this.m_refPageableCarousel.current;t&&t.ScrollLeft(e)},e.prototype.ScrollRight=function(e){var t=this.m_refPageableCarousel.current;t&&t.ScrollRight(e)},e.prototype.render=function(){var l=this.CalculateChildSizes(window),n=mi.GetCollection(ni.Recent).visibleApps.map(function(e){return{app:e}}),e=0===n.length,u=l.bShortLayout,r=parseInt(PS.a.CarouselExtraHeight,10),p="";return e?null:D.createElement(Qv,{ref:this.m_refPageableCarousel,name:Object(R.f)("#LibraryHome_RecentGames"),bHeaderClickScrollToFirst:!0,bNoHeader:!0,fnUpdateArrows:this.props.fnUpdateArrows},function(e,t){return D.createElement(Uv,{ref:e,className:Object(cr.a)(PS.a.RecentGames,u&&PS.a.Short),fnUpdateArrows:t,fnOnChildrenVisible:function(e,t){return n[e]&&Qa.SetRecentGamesFirstApp(n[e].app.appid)},initialScrollToChild:n.findIndex(function(e){return e.app.appid===Qa.GetRecentGamesFirstApp()}),style:{height:l.nItemHeight+r+"px"}},n.map(function(e,t){return function(e,t,n,r){var i,a=null,o=null,s=e.app;s.rt_recent_activity_time&&(o=Object(R.g)(s.rt_recent_activity_time),i=PS.a.AddedDate),a=!o||o==p&&0!=n?D.createElement("div",{className:PS.a.EmptyDate}):D.createElement("div",{className:i}," ",o," "),p=o;var c={app:s,bFeatured:0===t,bShortLayout:u,label:a,nWidth:r,nHeight:l.nItemHeight};return D.createElement(GS,Object(j.a)({key:s.appid},c))}(e,t,t,0===t?2.108*l.nItemWidth:l.nItemWidth)}))})},Object(j.c)([E.a],e.prototype,"ScrollLeft",null),Object(j.c)([E.a],e.prototype,"ScrollRight",null),Object(j.c)([o.observer],e)}(D.Component),xS=n("Sj1W"),zS=n.n(xS),HS=Object(o.observer)(function(e){var t=e.app,n=e.bFeatured,r=e.bShortLayout,i=e.nWidth,a=e.nHeight,o=Object(j.f)(e,["app","bFeatured","bShortLayout","nWidth","nHeight"]),s={width:i+"px",height:a+"px"};return D.createElement(Zg.b,{boundActions:!1},D.createElement(Ni.a,Object(j.a)({navScrollX:Ni.f.Lazy,navScrollMarginX:65,className:zS.a.PlayNextSuggestion},o),D.createElement("div",{className:zS.a.PlayNextSuggestionMediaContainer,style:s},D.createElement(ry,{app:t,bFeatured:n,bShowFriendsAsIcons:!0,context:5,strCollectionId:"play-next",bShortLayout:r,bHideFooter:!1,strMessage:n?Object(R.f)("#AppBox_PlayNextMostPopular"):null,strSubMessage:n?Object(R.f)("#AppBox_PlayNextMostPopularSub"):null}))))}),WS=function(n){function e(e){var t=n.call(this,e)||this;return t.m_refPageableCarousel=D.createRef(),t}return Object(j.d)(e,n),e.prototype.CalculateChildSizes=function(e){var t=ry.GetDimensionsForELibraryDisplaySize(Jr.settings.nLibraryDisplaySize,e),n=t.childWidth,r=t.childHeight;return 175<n&&(n=175,r=262.5),{nItemWidth:n,nItemHeight:r,bShortLayout:t.bShort}},e.prototype.ScrollLeft=function(e){var t=this.m_refPageableCarousel.current;t&&t.ScrollLeft(e)},e.prototype.ScrollRight=function(e){var t=this.m_refPageableCarousel.current;t&&t.ScrollRight(e)},e.prototype.render=function(){var e,s=this.CalculateChildSizes(window),t=null!==(e=this.props.playNextData)&&void 0!==e?e:Nc.GetPlayNext(),n=t.response?t.response.appids.map(function(e){return{app:Xa.GetAppOverviewByAppID(e)}}):[],r=Date.now()/1e3-2*Cr.g.PerWeek,i=n.filter(function(e){return e.app&&mi.BIsVisible(e.app)&&e.app.GetLastTimePlayed()<r}),a=!t.response&&t.bLoadInFlight,c=s.bShortLayout,o=parseInt(zS.a.CarouselExtraHeight,10),l=Tc.GetToggle(14)?n:i,u=0===l.length;if(a)return D.createElement(Pi.a,{key:"loading_play_next"});if(t.bFresh&&SteamClient.Stats.RecordDisplayEvent(!0,"PlayNextShowcase_NumDisplayed",l.length.toString()),u)return D.createElement("div",{className:zS.a.PlayNextNoResultsContainer,style:{height:s.nItemHeight+o+"px"}},D.createElement("div",{className:zS.a.Message},Object(R.f)("#LibraryHome_PlayNextNoResults")));var p=2.108*s.nItemWidth;return D.createElement("div",null,D.createElement("div",{className:zS.a.PlayNextSubHead},Object(R.f)("#LibraryHome_PlayNextSubHead")),D.createElement(Qv,{ref:this.m_refPageableCarousel,name:Object(R.f)("#LibraryHome_PlayNext"),bHeaderClickScrollToFirst:!0,bNoHeader:!0,fnUpdateArrows:this.props.fnUpdateArrows},function(e,t){return D.createElement(Uv,{ref:e,className:Object(cr.a)(zS.a.PlayNextSuggestions,c&&zS.a.Short),fnUpdateArrows:t,style:{height:s.nItemHeight+o+"px"}},l.map(function(e,t){return n=e,i=0===(r=t)?p:s.nItemWidth,a=n.app,o={app:a,bFeatured:0===r,bShortLayout:c,nWidth:i,nHeight:s.nItemHeight},D.createElement(HS,Object(j.a)({key:a.appid},o));var n,r,i,a,o}))}))},Object(j.c)([E.a],e.prototype,"ScrollLeft",null),Object(j.c)([E.a],e.prototype,"ScrollRight",null),Object(j.c)([o.observer],e)}(D.Component),VS=n("4pTM"),qS=n.n(VS),YS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnChange=function(e){this.props.onChange(e.data)},t.prototype.render=function(){for(var e,t=[],n=qS.a.OptionsRule,r=0,i=mi.userCollections;r<i.length;r++){var a=(l=i[r]).id==ni.Uncategorized;a?e=l:t.push({label:l.displayName,data:l.id,strOptionClass:a&&n})}if(0<mi.sharedLibrariesCollections.length){var o=mi.myGamesCollection;t.push({label:o.displayName,data:o.id,strOptionClass:n});for(var s=0,c=mi.sharedLibrariesCollections;s<c.length;s++){var l=c[s];t.push({label:l.displayName,data:l.id})}}t.push({label:e.displayName,data:e.id,strOptionClass:n});var u=mi.GetCollectionForAppType(1);t.push({label:Object(R.f)("#Showcase_AllYourGames"),data:u.id}),t.push({label:Object(R.f)("#Showcase_RecentGames"),data:"recent-games"}),t.push({label:Object(R.f)("#LibraryHome_RecentFriendsActivity"),data:"recent-friend-activity"}),t.push({label:Object(R.f)("#Showcase_AllCollections"),data:"all-collections"}),t.push({label:Object(R.f)("#Showcase_PlayNext"),data:"play-next"}),t.push({label:Object(R.f)("#Showcase_DeleteShowcase"),data:void 0,strOptionClass:n});var p=Object(R.f)("#Showcase_SelectCategory"),d=D.createElement("div",{className:qS.a.CountDisplay},this.props.count);return this.props.hideCount&&(d=void 0),D.createElement("div",{className:qS.a.CollectionDropDown,tabIndex:-1},D.createElement(Si.h,{rgOptions:t,onChange:this.OnChange,selectedOption:this.props.initialValue,disabled:this.props.disabled,strDefaultLabel:p,strClassName:qS.a.MenuHeader,strDropDownClassName:qS.a.CollectionDropDownContainer,strDropDownItemClassName:qS.a.DropDownItems,contextMenuPositionOptions:{bShiftToFitWindow:!0,bFitToWindow:!0,bMatchWidth:!1},postOptionElement:d}))},Object(j.c)([E.a],t.prototype,"OnChange",null),Object(j.c)([o.observer],t)}(D.Component),QS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.componentWillUnmount=function(){this.StopListening()},t.prototype.StopListening=function(){window.clearTimeout(this.m_pressTimer),window.removeEventListener("mouseup",this.OnGlobalMouseUp),window.removeEventListener("mousemove",this.OnGlobalMouseMove)},t.prototype.OnMouseDown=function(e){var t,n=this;0==e.button&&(t=e.clientY-this.props.refDraggableDiv.getBoundingClientRect().top,this.m_mouseY=e.clientY,window.addEventListener("mouseup",this.OnGlobalMouseUp),window.addEventListener("mousemove",this.OnGlobalMouseMove),this.m_pressTimer=window.setTimeout(function(){n.props.onStartReordering(t,n.m_mouseY)},200))},t.prototype.OnGlobalMouseMove=function(e){0==(1&e.buttons)?this.OnGlobalMouseUp(e):this.m_mouseY=e.clientY},t.prototype.OnGlobalMouseUp=function(e){0==e.button&&this.StopListening()},t.prototype.render=function(){var e=this.props,t=e.className,n=(e.refDraggableDiv,e.onStartReordering),r=Object(j.f)(e,["className","refDraggableDiv","onStartReordering"]),i=!n;return D.createElement("div",Object(j.a)({className:Object(cr.a)(!i&&qS.a.Draggable,t)},r,{onMouseDown:i?void 0:this.OnMouseDown}),this.props.children)},Object(j.c)([E.a],t.prototype,"OnMouseDown",null),Object(j.c)([E.a],t.prototype,"OnGlobalMouseMove",null),Object(j.c)([E.a],t.prototype,"OnGlobalMouseUp",null),t}(D.Component),ZS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refDiv=D.createRef(),e}return Object(j.d)(e,t),e.prototype.OnContextMenu=function(e){var t,n=this;"all-collections"==this.props.showcase.strCollectionId?Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:function(){return Qa.NavigateToAllCollections()}},Object(R.f)("#Showcase_GoToAllCollections"))),e):"play-next"==this.props.showcase.strCollectionId?(t=Nc.LastIgnoredApps(5),Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:function(){return Qa.NavigateToCollection(n.props.showcase.strCollectionId)}},Object(R.f)("#Showcase_GoToCollection")),0<t.length&&D.createElement(Hi.d,{onSelected:function(){return Nc.ClearIgnoredApps()}},Object(R.f)("#PlayNext_ClearIgnoredApps")),t.map(function(e){return D.createElement(Hi.d,{key:e,onSelected:function(){return Nc.RemoveIgnoredApp(e)}},Object(R.f)("#PlayNext_UnhideSuggestion",Xa.GetAppOverviewByAppID(e).display_name))})),e)):Object(zi.a)(D.createElement(Hi.c,null,D.createElement(Hi.d,{onSelected:function(){return Qa.NavigateToCollection(n.props.showcase.strCollectionId)}},Object(R.f)("#Showcase_GoToCollection"))),e)},e.prototype.OnCollectionChanged=function(e){void 0!==e?Fe.SetCollectionId(this.props.showcase.nShowcaseId,e):Fe.DeleteShowcase(this.props.showcase.nShowcaseId)},e.prototype.OnSortChanged=function(e){Fe.SetSortBy(this.props.showcase.nShowcaseId,e)},e.prototype.DeleteShowcase=function(e){var t=this,n=1e3*parseFloat(qS.a.ReorderTransitionTime);Fe.SetDeleting(this.props.showcase.nShowcaseId,!0),setTimeout(function(){Fe.DeleteShowcase(t.props.showcase.nShowcaseId)},n)},e.prototype.render=function(){var e,t=!this.props.showcase.strCollectionId,n=null==this.props.onStartReordering,r=this.props.itemsDisplayed==this.props.trueTotal,i=(!this.props.collapsed||this.props.itemsDisplayed<this.props.itemsTotal)&&!this.props.pageable,a=!t&&"("+this.props.itemsDisplayed+(r?")":"/"+this.props.trueTotal+")"),o=this.props.pageable;this.props.reorderMode&&(o=i=!(r=!0),a=!t&&"("+this.props.trueTotal+")"),this.props.collapsed||r?this.props.collapsed&&this.props.trueTotal==this.props.itemsTotal?e=Object(R.f)("#Shelf_SectionHeader_ExpandTooltip"):this.props.collapsed&&!r?e=Object(R.f)("#Shelf_SectionHeader_ExpandTooltipFilter",this.props.trueTotal-this.props.itemsDisplayed):0==this.props.itemsDisplayed&&(e=Object(R.f)("#GameList_SectionHeader_AppCountToolTipAllHidden")):e=Object(R.f)("#GameList_SectionHeader_AppCountToolTip",this.props.trueTotal-this.props.itemsDisplayed);var s=D.createElement(QS,{className:Object(cr.a)(qS.a.Rule,qS.a.PostDropdownRule),refDraggableDiv:this.m_refDiv.current,onStartReordering:n||this.props.reorderMode?void 0:this.props.onStartReordering}),c=Qa.collectionsAppFilter.BIsSelected(Pe.kPlayState,We.ReadyToPlay),l=D.createElement(Co.b,null,D.createElement(Co.e,{toolTipContent:Object(R.f)("#GameList_View_ShowingReadyToPlay")}),D.createElement(Co.c,null,D.createElement("div",null,Object(R.f)("#GameList_View_ReadyToPlay_ToolTip1")),D.createElement("div",null,Object(R.f)("#GameList_View_ReadyToPlay_ToolTip2"))));return D.createElement(QS,{refDraggableDiv:this.m_refDiv.current,onStartReordering:!n&&this.props.reorderMode?this.props.onStartReordering:void 0},D.createElement("div",{ref:this.m_refDiv,className:Object(cr.a)(qS.a.ShowcaseHeader,t&&qS.a.EmptyShowcase,this.props.reorderMode&&qS.a.Reordering),onContextMenu:t||this.props.reorderMode?void 0:this.OnContextMenu},D.createElement(Co.d,{toolTipContent:!r&&e,className:qS.a.SectionCount},D.createElement(YS,{initialValue:this.props.showcase.strCollectionId,onChange:this.OnCollectionChanged,count:a,hideCount:this.props.hideCollectionCount,disabled:this.props.reorderMode})),c&&!r&&D.createElement(Co.d,{direction:"right",nDelayShowMS:240,toolTipContent:l},D.createElement(_r.fb,null)),this.props.showSortByPicker&&D.createElement(hy,{className:qS.a.SortingDropDown,initialValue:this.props.showcase.eSortBy,enableFavoritesFirst:!1,onSortChangeCallback:this.OnSortChanged,postDropdownElement:s,disabled:this.props.reorderMode}),D.createElement(QS,{className:qS.a.Rule,refDraggableDiv:this.m_refDiv.current,onStartReordering:n||this.props.reorderMode?void 0:this.props.onStartReordering}),o&&D.createElement("div",{className:qS.a.PageButtons},D.createElement("div",{className:Object(cr.a)(qS.a.PageLeft,!this.props.fnLeftClicked&&qS.a.Disabled),onClick:this.props.fnLeftClicked},D.createElement(_r.v,{singlearrow:!0,angle:0})),D.createElement("div",{className:Object(cr.a)(qS.a.PageRight,!this.props.fnRightClicked&&qS.a.Disabled),onClick:this.props.fnRightClicked},D.createElement(_r.v,{singlearrow:!0,angle:180}))," "),i&&D.createElement("div",{className:Object(cr.a)(qS.a.Collapser,i&&qS.a.Visible),onClick:i?this.props.onToggleCollapse:void 0},D.createElement(_r.v,{angle:this.props.collapsed?270:90})),D.createElement("div",{className:qS.a.DragHandle},D.createElement(_r.k,{size:"10px"})),this.props.reorderMode&&D.createElement("div",{className:qS.a.DeleteButton,onClick:this.DeleteShowcase,onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},D.createElement(_r.yb,null))))},Object(j.c)([O.observable],e.prototype,"m_refDiv",void 0),Object(j.c)([E.a],e.prototype,"OnContextMenu",null),Object(j.c)([E.a],e.prototype,"OnCollectionChanged",null),Object(j.c)([E.a],e.prototype,"OnSortChanged",null),Object(j.c)([E.a],e.prototype,"DeleteShowcase",null),Object(j.c)([o.observer],e)}(D.Component),KS=function(n){function e(e){var t=n.call(this,e)||this;return t.m_refGrid=D.createRef(),t.m_bLeftArrowEnabled=!1,t.m_bRightArrowEnabled=!1,t.m_refScrollableCarousel=D.createRef(),t.m_refDiv=D.createRef(),t.m_refHeader=D.createRef(),t.m_bAnimateExpansion=!1,t.m_fnSort=Object(Lg.a)(function(e,t){return e.visibleApps.slice().sort(t)}),t}return Object(j.d)(e,n),e.prototype.componentDidUpdate=function(e){this.props.reorderMode&&(this.m_bAnimateExpansion=!1)},Object.defineProperty(e.prototype,"height",{get:function(){return this.m_refDiv.current.getBoundingClientRect().height},enumerable:!1,configurable:!0}),e.prototype.OnToggleCollapsed=function(e){this.m_bAnimateExpansion=!0,Fe.SetExpanded(this.props.showcase.nShowcaseId,!this.props.showcase.bExpanded)},e.prototype.ComputeChildSizes=function(){var e=this.props.coverSize;if("all-collections"!=this.props.showcase.strCollectionId)return ry.GetDimensionsForELibraryDisplaySize(e,window);var t=ry.GetDimensionsForELibraryDisplaySize(e,window);return t.childHeight=t.childWidth,t},e.prototype.OnUpdateArrows=function(e,t){e!=this.m_bLeftArrowEnabled&&(this.m_bLeftArrowEnabled=e),t!=this.m_bRightArrowEnabled&&(this.m_bRightArrowEnabled=t)},e.prototype.ScrollLeft=function(e){var t=this.m_refScrollableCarousel.current;t&&t.ScrollLeft(e)},e.prototype.ScrollRight=function(e){var t=this.m_refScrollableCarousel.current;t&&t.ScrollRight(e)},e.prototype.OnStartReordering=function(e,t){this.props.onStartReordering(this.props.showcase,e,t)},e.prototype.render=function(){var e,t=[],n=!0,r=!this.props.showcase.strCollectionId,i=0,a=!0,o=!1,s=!1,c=!1,l=this.ComputeChildSizes(),u=!r&&this.m_refGrid.current&&this.m_refGrid.current.itemsDisplayed||0;if("recent-games"==this.props.collectionId)t.push(D.createElement(US,{key:"LibraryHomeRecentGames",ref:this.m_refScrollableCarousel,fnUpdateArrows:this.OnUpdateArrows})),s=!(n=!(o=!(a=!1)));else if("recent-friend-activity"==this.props.collectionId){var p=function(e){var t=TS.GetFriendsAppsActivity(),n=t.response,r=t.bIsFresh;if(Tc.GetToggle(7)&&(console.log("ComputeFriendsActivity: friendsActivity = ",Object(O.toJS)(n,{recurseEverything:!0})),n&&console.log("ComputeFriendsActivity: friend count: "+n.active_friend_count+" of "+ei.allFriends.length)),void 0===n)return null;if(!n||Tc.GetToggle(10))return[];for(var i=new Array,a=0,o=NS;a<o.length;a++)for(var s=0,c=(0,o[a])(n,e);s<c.length;s++){var l=c[s];r&&SteamClient.Stats.RecordDisplayEvent(!0,l.strStatsID,l.nStatsFriendCount.toString(10)),i.push({nDisplayOrder:l.nDisplayOrder,node:l.node})}return i.sort(function(e,t){return e.nDisplayOrder-t.nDisplayOrder}),r&&(SteamClient.Stats.RecordDisplayEvent(!0,MS+"TotalDisplayed",i.length.toString(10)),SteamClient.Stats.RecordDisplayEvent(!0,MS+"ActiveFriendCount",n.active_friend_count.toString(10)),SteamClient.Stats.RecordDisplayEvent(!0,MS+"Raw_Trending_Count",n.trending.length.toString(10)),SteamClient.Stats.RecordDisplayEvent(!0,MS+"Raw_RecentPurchases_Count",n.recent_purchases.length.toString(10)),SteamClient.Stats.RecordDisplayEvent(!0,MS+"Raw_Unowned_Count",n.unowned.length.toString(10)),SteamClient.Stats.RecordDisplayEvent(!0,MS+"Raw_Popular_Count",n.popular.length.toString(10)),SteamClient.Stats.RecordDisplayEvent(!0,MS+"Raw_DontForget_Count",n.dont_forget.length.toString(10)),SteamClient.Stats.RecordDisplayEvent(!0,MS+"Raw_BeingDiscussed_Count",n.being_discussed.length.toString(10)),SteamClient.Stats.RecordDisplayEvent(!0,MS+"Raw_NewToGroup_Count",n.new_to_group.length.toString(10)),SteamClient.Stats.RecordDisplayEvent(!0,MS+"Raw_ReturnedToGroup_Count",n.returned_to_group.length.toString(10))),i.map(function(e){return e.node})}(l.bShort);t.push(D.createElement(kS,{key:"LibraryHomeFriendsActivity",ref:this.m_refScrollableCarousel,bShortLayout:l.bShort,fnUpdateArrows:this.OnUpdateArrows,rgRenderedApps:p})),s=!(n=!(o=!(a=!1))),c=p&&0==p.length&&(!this.props.showcase.nLastChangedMS||36e5<Date.now()-this.props.showcase.nLastChangedMS)}else if("all-collections"==this.props.collectionId){n=!1;var d=mi.userCollections.filter(function(e){return e.id!=ni.Uncategorized});if(d)for(var m=0;m<=d.length;m++){(f=d[m])&&t.push(D.createElement(Ks.a,{key:"collection_list_"+f.id},D.createElement(ns,{key:f.id,collection:f,eCoverSize:ry.GetELibraryDisplaySizeForWidth(l.childWidth),bHide:u<=m,bIsShowcase:!0})))}i=!r&&t.length||0}else if("play-next"==this.props.collectionId){var h=Nc.GetPlayNext(),n=!1,s=!0,o=!0,a=!1,c=h.response&&0==h.response.appids.length&&(!this.props.showcase.nLastChangedMS||36e5<Date.now()-this.props.showcase.nLastChangedMS);t.push(D.createElement(WS,{key:"LibraryHomePlayNext",ref:this.m_refScrollableCarousel,fnUpdateArrows:this.OnUpdateArrows,playNextData:h}))}else{var f,b=(f=mi.GetCollection(this.props.showcase.strCollectionId))&&f.visibleApps.length||0;if(f){"partner-ea-access"!=f.id||Object(C.d)(A.c.LAUNCHER_TYPE)||(t.push(D.createElement(Ks.a,{key:"collection_header"},D.createElement(CS,{strCollectionId:f.id}))),t.push(D.createElement(OS,{key:"collection_header_spacer"})),u-=2);for(var _=this.m_fnSort(f,_y.GetSortFunc(this.props.showcase.eSortBy,!1)).filter(Qa.collectionsAppFilter.Matches),m=0;m<=_.length;m++){var v=_[m];v&&t.push(D.createElement(Ks.a,{key:"app_list_"+v.appid},D.createElement(ry,{app:v,strCollectionId:f.id,bShowFriendsAsIcons:!0,context:1,sortByType:this.props.showcase.eSortBy,nWidth:l.childWidth,bShortLayout:l.bShort,bHidePortrait:u<=m})))}}i=!r&&b||0}e=!r&&t.length||0;var g=void 0,y=void 0!==this.props.y;y?g={position:"absolute",top:this.props.y,width:this.props.width}:void 0!==this.props.transformY&&(g={transform:"translateY("+this.props.transformY+"px)"}),c=c&&!this.props.reorderMode;var S=Object(cr.a)(qS.a.Showcase,!this.props.showcase.strCollectionId&&qS.a.EmptyShowcase,null==this.props.onStartReordering&&qS.a.ReorderingDisabled,this.props.spacer&&qS.a.Spacer,c&&qS.a.Hidden),w=this.props.reorderMode||y?null:D.createElement(D.Fragment,null,r&&D.createElement("div",{className:qS.a.EmptyMessage},D.createElement("div",{className:qS.a.ShowcaseArrow},D.createElement(_r.nb,null)),D.createElement("div",{className:qS.a.Message},Object(R.f)("#Showcase_EmptyShowcaseHint"))),a&&D.createElement(Io,{ref:this.m_refGrid,maxRows:this.props.reorderMode?0:this.props.showcase.bExpanded?void 0:1,minRows:this.props.reorderMode?0:1,childWidth:l.childWidth,childHeight:l.childHeight,gridColumnGap:16,gridRowGap:24,scaleGridItems:1,paddingLeft:8,paddingRight:8,animateExpansion:this.m_bAnimateExpansion,gridClassName:qS.a.ShowcaseGrid,childElements:t,scrollElement:this.props.scrollElement,renderOutsideRows:2}),!a&&D.createElement("div",{className:qS.a.ChildrenContainer},t));return D.createElement(Wo,{style:g,className:Object(cr.a)(qS.a.ShowcaseOuter,y&&qS.a.DragElement,this.props.showcase.bDeleting&&qS.a.Deleting),strCollectionId:this.props.showcase.strCollectionId,strEligibleClassName:qS.a.DropOption,strTargetedClassName:qS.a.DropTarget,"data-id":this.props.showcase.nShowcaseId},D.createElement("div",{ref:this.m_refDiv,className:S},D.createElement(ZS,{ref:this.m_refHeader,showcase:this.props.showcase,hideCollectionCount:s,itemsDisplayed:u,itemsTotal:e,trueTotal:i,collapsed:!this.props.showcase.bExpanded,onToggleCollapse:this.OnToggleCollapsed,showSortByPicker:n,pageable:o,fnLeftClicked:this.m_bLeftArrowEnabled?this.ScrollLeft:void 0,fnRightClicked:this.m_bRightArrowEnabled?this.ScrollRight:void 0,reorderMode:this.props.reorderMode,onStartReordering:this.props.onStartReordering?this.OnStartReordering:void 0}),w))},Object(j.c)([O.observable],e.prototype,"m_refGrid",void 0),Object(j.c)([O.observable],e.prototype,"m_bLeftArrowEnabled",void 0),Object(j.c)([O.observable],e.prototype,"m_bRightArrowEnabled",void 0),Object(j.c)([E.a],e.prototype,"OnToggleCollapsed",null),Object(j.c)([E.a],e.prototype,"OnUpdateArrows",null),Object(j.c)([E.a],e.prototype,"ScrollLeft",null),Object(j.c)([E.a],e.prototype,"ScrollRight",null),Object(j.c)([E.a],e.prototype,"OnStartReordering",null),Object(j.c)([o.observer],e)}(D.Component),JS=function(n){function e(e){var t=n.call(this,e)||this;return t.state={bButtonHovered:!1,bReorderMode:!1,nDraggingShowcase:void 0,nDragOffset:void 0,mouseY:void 0,rgShowcases:void 0,nLibraryDisplaySize:void 0,rgPositions:void 0,rgOrder:void 0},t.m_refOuter=D.createRef(),t.m_refSortableContainer=D.createRef(),t.m_refDragElement=D.createRef(),t.m_resizeObserver=new ResizeObserver(t.OnResize),t.m_rgAutorunDisposers=[],t}return Object(j.d)(e,n),e.prototype.componentDidMount=function(){var a=this;this.m_rgAutorunDisposers.push(Object(O.autorun)(function(){var e=Jr.settings.nLibraryDisplaySize,t=Fe.showcases,n=a.CalculatePositions(t,a.state.mouseY),r=n[0],i=n[1];a.setState({rgShowcases:t,rgPositions:r,rgOrder:i,nLibraryDisplaySize:e})}))},e.prototype.componentWillUnmount=function(){this.m_resizeObserver.disconnect(),this.m_rgAutorunDisposers.forEach(function(e){return e()}),this.StopGlobalMouseTracking()},e.prototype.AddShowcase=function(e){Fe.AddNewShowcase()},e.prototype.OnReorder=function(e,t,n){var r=null==t?Date.now():null==n?ke.GetOrderForShowcase(t)-1e3:(ke.GetOrderForShowcase(t)+ke.GetOrderForShowcase(n))/2;Fe.SetOrder(e,r)},e.prototype.OnStartReordering=function(e,t,n){var r=this,i=!this.state.bReorderMode;this.setState({bReorderMode:!0,nDraggingShowcase:e.nShowcaseId,nDragOffset:t,mouseY:n},function(){r.ScrollIntoView(i,function(){r.TrackMouseMove(n),r.StartGlobalMouseTracking()})})},e.prototype.ScrollIntoView=function(e,t){var n,r=this.m_refOuter.current.offsetTop,i=this.props.scrollElement.scrollTop,a=this.props.scrollElement.scrollTop+this.props.scrollElement.offsetHeight;r<i||a<r?(n=Math.max(Math.min(Math.abs(i-r)/1e3*200,500),300),new fo.a(this.props.scrollElement,{scrollTop:r},{msDuration:n,timing:"sine",onComplete:t}).Start()):e?window.setTimeout(function(){t()},300):t()},e.prototype.OnDoneReordering=function(){this.setState({bReorderMode:!1})},e.prototype.BindFirstShowcase=function(e){this.m_refFirstShowcase=e},e.prototype.StartGlobalMouseTracking=function(){window.addEventListener("mouseup",this.OnGlobalMouseUp),window.addEventListener("mousemove",this.OnGlobalMouseMove),this.props.scrollElement.addEventListener("scroll",this.OnScrollParentScroll),this.m_resizeObserver.observe(this.m_refSortableContainer.current)},e.prototype.StopGlobalMouseTracking=function(){window.removeEventListener("mouseup",this.OnGlobalMouseUp),window.removeEventListener("mousemove",this.OnGlobalMouseMove),this.props.scrollElement.removeEventListener("scroll",this.OnScrollParentScroll),this.m_resizeObserver.unobserve(this.m_refSortableContainer.current)},e.prototype.OnGlobalMouseUp=function(e){var t=this;this.StopGlobalMouseTracking(),this.m_refSortableContainer.current.ownerDocument.body.style.cursor="";var n=this.state.nDraggingShowcase,r=this.state.rgShowcases.findIndex(function(e){return e.nShowcaseId==n}),i=this.state.rgOrder.findIndex(function(e){return e.nShowcaseId==n}),a=0==i?void 0:this.state.rgOrder[i-1],o=i==this.state.rgShowcases.length-1?void 0:this.state.rgOrder[i+1];this.setState({nDraggingShowcase:void 0,rgPositions:void 0,rgOrder:void 0},function(){r!=i&&t.OnReorder(n,a,o)})},e.prototype.OnGlobalMouseMove=function(e){0==(1&e.buttons)?this.OnGlobalMouseUp(e):this.TrackMouseMove(e.clientY)},e.prototype.OnScrollParentScroll=function(e){this.TrackMouseMove(this.state.mouseY)},e.prototype.OnResize=function(){void 0!==this.state.nDraggingShowcase&&this.TrackMouseMove(this.state.mouseY)},e.prototype.TrackMouseMove=function(e){var t=this.m_refSortableContainer.current.getBoundingClientRect();this.m_refSortableContainer.current.ownerDocument.body.style.cursor="grabbing";var n,r,i=this.m_refDragElement.current?this.m_refDragElement.current.height:0,a=Object(fm.a)(e-this.state.nDragOffset,t.top,t.bottom-i),o=this.props.scrollElement.getBoundingClientRect();e+i>o.bottom?this.props.scrollElement.scrollTo(0,this.props.scrollElement.scrollTop+(e+i-o.bottom)):e<0&&(n=this.m_refOuter.current.getBoundingClientRect(),r=Object(fm.a)(e,n.top,n.bottom-i),this.props.scrollElement.scrollTo(0,this.props.scrollElement.scrollTop+r));var s=this.CalculatePositions(this.state.rgShowcases,a),c=s[0],l=s[1];this.setState({mouseY:a+this.state.nDragOffset,rgPositions:c,rgOrder:l})},e.prototype.CalculatePositions=function(e,t){var n=this,r=e.slice();if(this.state.bReorderMode&&this.m_refFirstShowcase&&void 0!==this.state.nDraggingShowcase){var i=this.m_refFirstShowcase.height,a=this.m_refSortableContainer.current.getBoundingClientRect(),o=Object(fm.a)(t-a.top,0,a.height),s=r.findIndex(function(e){return e.nShowcaseId==n.state.nDraggingShowcase}),c=Math.round(o/i),l=r.splice(s,1);return r.splice(c,0,l[0]),[p=e.map(function(t,e){var n=r.findIndex(function(e){return e.nShowcaseId==t.nShowcaseId});return Math.floor((n-e)*i)}),r]}if(this.state.bReorderMode&&this.state.rgShowcases&&e&&-1!==this.state.rgShowcases.findIndex(function(e){return e.bDeleting})){for(var u=this.m_refFirstShowcase.height,o=0,p=[],d=0;d<e.length;d++)p.push(o),e[d].bDeleting&&(o-=u);return[p,r]}return[void 0,r]},e.prototype.render=function(){var t=this,e=this.state.rgShowcases;if(!e)return null;var n,r,i,a=Fe.BHasEmptyShowcase(),o=e.length<2||a,s=this.state.rgPositions,c=void 0;return this.state.bReorderMode&&void 0!==this.state.nDraggingShowcase&&void 0!==this.state.mouseY&&(n=e.find(function(e){return e.nShowcaseId==t.state.nDraggingShowcase}),r=this.m_refSortableContainer.current.getBoundingClientRect(),i=this.state.mouseY-r.top-this.state.nDragOffset,c=D.createElement(KS,{key:"drag"+n.nShowcaseId,ref:this.m_refDragElement,width:this.m_refSortableContainer.current.clientWidth,y:i,showcase:n,collectionId:n.strCollectionId,scrollElement:this.props.scrollElement,coverSize:this.state.nLibraryDisplaySize,reorderMode:!0})),D.createElement("div",{ref:this.m_refOuter,className:Object(cr.a)(qS.a.LibraryShowCases,this.state.bReorderMode&&qS.a.Reordering)},e.length<Fe.maxShowcases&&D.createElement("div",{className:Object(cr.a)(qS.a.AddShowcaseRow,this.state.bButtonHovered&&!a&&qS.a.ButtonHovered)},D.createElement("div",{className:qS.a.Rule}),D.createElement("div",{className:Object(cr.a)(qS.a.AddShowcase,a&&qS.a.Disabled),onMouseEnter:function(){return t.setState({bButtonHovered:!0})},onMouseLeave:function(){return t.setState({bButtonHovered:!1})},onClick:a?void 0:this.AddShowcase},D.createElement(_r.cb,null),Object(R.f)("#Showcase_AddNewShowcase")),D.createElement("div",{className:qS.a.Rule})),D.createElement("div",{className:qS.a.DoneReorderingRow},D.createElement(Si.s,{className:Object(cr.a)(qS.a.DoneReordering),onClick:this.OnDoneReordering},Object(R.f)("#Showcase_DoneReordering"))),D.createElement("div",{ref:this.m_refSortableContainer,className:Object(cr.a)(qS.a.Sortable,void 0!==this.state.nDraggingShowcase&&qS.a.DragInProgress,-1!==this.state.rgShowcases.findIndex(function(e){return e.bDeleting})&&qS.a.DeleteInProgress)},c,D.createElement(XS,{rgShowcases:e,rgPositions:s,bDisableReordering:o,bReorderMode:this.state.bReorderMode,nDraggingShowcase:this.state.nDraggingShowcase,nLibraryDisplaySize:this.state.nLibraryDisplaySize,bindFirstShowcase:this.BindFirstShowcase,scrollElement:this.props.scrollElement,onStartReordering:this.OnStartReordering})))},Object(j.c)([E.a],e.prototype,"AddShowcase",null),Object(j.c)([E.a],e.prototype,"OnReorder",null),Object(j.c)([E.a],e.prototype,"OnStartReordering",null),Object(j.c)([E.a],e.prototype,"ScrollIntoView",null),Object(j.c)([E.a],e.prototype,"OnDoneReordering",null),Object(j.c)([E.a],e.prototype,"BindFirstShowcase",null),Object(j.c)([E.a],e.prototype,"OnGlobalMouseUp",null),Object(j.c)([E.a],e.prototype,"OnGlobalMouseMove",null),Object(j.c)([E.a],e.prototype,"OnScrollParentScroll",null),Object(j.c)([E.a],e.prototype,"OnResize",null),e}(D.Component),XS=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refSortableContainer=D.createRef(),e.m_strLastShowcaseData=void 0,e}return Object(j.d)(e,t),e.prototype.shouldComponentUpdate=function(e){return this.props.bReorderMode!=e.bReorderMode||this.props.bDisableReordering!=e.bDisableReordering||this.props.nDraggingShowcase!=e.nDraggingShowcase||this.props.nLibraryDisplaySize!=e.nLibraryDisplaySize||this.m_strLastShowcaseData!=JSON.stringify(e.rgShowcases)||JSON.stringify(this.props.rgPositions)!=JSON.stringify(e.rgPositions)},Object.defineProperty(e.prototype,"bounds",{get:function(){return this.m_refSortableContainer.current&&this.m_refSortableContainer.current.getBoundingClientRect()},enumerable:!1,configurable:!0}),e.prototype.render=function(){var e=this.props.rgShowcases,t=this.props.rgPositions;this.m_strLastShowcaseData=JSON.stringify(e);for(var n=[],r=0;r<e.length;r++){var i=e[r];n.push(D.createElement(KS,{key:i.nShowcaseId,ref:0==r?this.props.bindFirstShowcase:void 0,spacer:this.props.bReorderMode&&i.nShowcaseId==this.props.nDraggingShowcase,width:this.m_refSortableContainer.current&&this.m_refSortableContainer.current.clientWidth,transformY:t?t[r]:void 0,showcase:i,collectionId:i.strCollectionId,scrollElement:this.props.scrollElement,coverSize:this.props.nLibraryDisplaySize,reorderMode:this.props.bReorderMode,onStartReordering:this.props.bDisableReordering?void 0:this.props.onStartReordering}))}return D.createElement(D.Fragment,null,n)},e}(D.Component),$S=(D.Component,function(n){function e(e){var t=n.call(this,e)||this;return t.state={elHome:null},t}return Object(j.d)(e,n),e.prototype.BindRef=function(e){this.setState({elHome:e})},e.prototype.render=function(){return D.createElement(So,{className:iS.a.Container,scrollClassName:iS.a.InnerContainer,innerRef:this.BindRef,strRememberScrollKey:"library-home"},D.createElement("div",{className:iS.a.WhatsNewContainer},D.createElement(Ks.a,null,D.createElement(hS,null))),D.createElement(_S,null),D.createElement("div",{className:iS.a.LibraryHome},D.createElement(Ks.a,null,D.createElement(JS,{scrollElement:this.state.elHome}))))},Object(j.c)([E.a],e.prototype,"BindRef",null),Object(j.c)([o.observer],e)}(D.Component));D.Component;function ew(t){var e=Tc.GetToggleSetting(t.eToggle);return D.createElement(Si.q,{key:e.strLabel,label:e.strLabel,description:e.strDescription,checked:e.currentValue,onChange:function(e){return Tc.SetToggle(t.eToggle,e)}})}var tw,nw,rw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=Tc.GetTogglesForPanel(null).map(function(e){var t=e[0];e[1];return D.createElement(ew,{key:t,eToggle:t})});return D.createElement(D.Fragment,null,D.createElement(Si.b,null,e))},t}(D.Component),iw=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_strError="",e}return Object(j.d)(e,t),e.prototype.OnAddAchievement=function(){this.m_strError="";var e=Qa.currentGameListSelection.nAppId;4==Qa.mainPanelMode&&0!=e?Tv.BSimulateSummaryFakeAchievement(e)||(this.m_strError="Failed to add a new achievement (most likely at 12 or no achievements for this game)"):this.m_strError="Select an app details page"},e.prototype.OnClearGameSummary=function(){this.m_strError="";var e=Qa.currentGameListSelection.nAppId;4==Qa.mainPanelMode&&0!=e?Tv.SimulateSummaryClear(e):this.m_strError="Select an app details page"},e.prototype.OnForceNewDay=function(){this.m_strError="";var e=Qa.currentGameListSelection.nAppId;4==Qa.mainPanelMode&&0!=e?Tv.SimulateSummaryForceNewDay(e):this.m_strError="Select an app details page"},e.prototype.OnSlayTheSpire=function(){this.m_strError="";var e=Qa.currentGameListSelection.nAppId;4==Qa.mainPanelMode&&646570==e?Tv.SimulatePressSummary():this.m_strError="Navigate to Slay The Spire first"},e.prototype.render=function(){var e=Tc.GetTogglesForPanel(0).map(function(e){var t=e[0];e[1];return D.createElement(ew,{key:t,eToggle:t})});return D.createElement(D.Fragment,null,D.createElement(Si.b,null,this.m_strError&&D.createElement("div",{style:{color:"red"}},this.m_strError),D.createElement(Si.t,null,"Game Summary:"),D.createElement(Si.c,{style:{margin:"8px 0px"}},"Controls for any game"),D.createElement(Si.v,{style:{width:"100%"}},D.createElement(Si.d,{onClick:this.OnAddAchievement},"Add Achievement"),D.createElement(Si.d,{onClick:this.OnForceNewDay},"Force New Day")),D.createElement(Si.v,{style:{width:"100%"}},D.createElement(Si.d,{onClick:this.OnClearGameSummary},"Clear Game Summary")),D.createElement(Si.k,{style:{margin:"10px 0px"}}),D.createElement(Si.c,{style:{margin:"8px 0px"}},"Game specific controls"),D.createElement(Si.v,{style:{width:"100%"}},D.createElement(Si.d,{onClick:this.OnSlayTheSpire},"Slay The Spire")),D.createElement(Si.t,{style:{margin:"20px 0px 0px 0px"}},"New DLC:"),e))},Object(j.c)([O.observable],e.prototype,"m_strError",void 0),Object(j.c)([E.a],e.prototype,"OnAddAchievement",null),Object(j.c)([E.a],e.prototype,"OnClearGameSummary",null),Object(j.c)([E.a],e.prototype,"OnForceNewDay",null),Object(j.c)([E.a],e.prototype,"OnSlayTheSpire",null),Object(j.c)([o.observer],e)}(D.Component),aw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=Tc.GetTogglesForPanel(1).map(function(e){var t=e[0];e[1];return D.createElement(ew,{key:t,eToggle:t})});return D.createElement(D.Fragment,null,D.createElement(Si.b,null,D.createElement(Si.c,{style:{marginTop:"12px"}},"These controls all affect the logic behind the ",D.createElement("b",null,"Recent Friend Activity")," shelf. Many of them (see their descriptions) only take effect when we send a new query. To force a new query, click the button below."),D.createElement(Si.d,{style:{marginBottom:"20px"},onClick:TS.DebugClearCache},"Clear FriendsActivityStore Cache"),e))},Object(j.c)([o.observer],t)}(D.Component),ow=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=Tc.GetTogglesForPanel(2).map(function(e){var t=e[0];e[1];return D.createElement(ew,{key:t,eToggle:t})});return D.createElement(D.Fragment,null,D.createElement(Si.b,null,D.createElement(Si.c,{style:{marginTop:"12px"}},"These controls affect the ",D.createElement("b",null,"Play Next")," Suggestions shelf."),D.createElement(Si.d,{style:{marginBottom:"20px"},onClick:Nc.DebugClearCache},"Clear PlayNextStore Cache"),e))},Object(j.c)([o.observer],t)}(D.Component),sw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement(D.Fragment,null,D.createElement(Si.b,null,D.createElement(Si.d,{onClick:Qa.NavigateToDownloads},"New Downloads Page")))},Object(j.c)([o.observer],t)}(D.Component);(nw=tw=tw||{}).DeveloperOptions="DeveloperOptions",nw.AppSpotlight="AppSpotlight",nw.FriendsActivity="FriendsActivity",nw.PlayNext="PlayNext",nw.Downloads="Downloads";var cw=[{title:"Developer Options",identifier:tw.DeveloperOptions,content:D.createElement(rw,null),enabled:!0},{title:"App Spotlight",identifier:tw.AppSpotlight,content:D.createElement(iw,null),enabled:!0},{title:"Friends Activity",identifier:tw.FriendsActivity,content:D.createElement(aw,null),enabled:!0},{title:"Play Next",identifier:tw.PlayNext,content:D.createElement(ow,null),enabled:!0},{title:"Downloads",identifier:tw.Downloads,content:D.createElement(sw,null),enabled:!0}],lw=(D.Component,n("BNtT")),uw=function(n){function e(e){var t=n.call(this,e)||this;return t.m_elOuterContainer=null,t.m_resizeObserver=new ResizeObserver(t.OnResize),t.state={strResponsiveClasses:""},t}return Object(j.d)(e,n),e.prototype.componentWillUnmount=function(){this.m_resizeObserver.disconnect()},e.prototype.OnResize=function(){var e=[],t=this.m_elOuterContainer.clientWidth,n=this.m_elOuterContainer.clientHeight;this.props.breakShort&&n<=this.props.breakShort[0]&&e.push(this.props.breakShort[1]),this.props.breakTall&&n>=this.props.breakTall[0]&&e.push(this.props.breakTall[1]),this.props.breakUltraNarrow&&t<=this.props.breakUltraNarrow[0]&&e.push(this.props.breakUltraNarrow[1]),this.props.breakNarrow&&t<=this.props.breakNarrow[0]&&e.push(this.props.breakNarrow[1]),this.props.breakWide&&t<=this.props.breakWide[0]&&e.push(this.props.strMedium),this.props.breakUltraWide&&t>=this.props.breakUltraWide[0]&&e.push(this.props.breakUltraWide[1]),this.props.breakWide&&t>=this.props.breakWide[0]&&e.push(this.props.breakWide[1]),this.props.fnDimensionsChanged&&this.props.fnDimensionsChanged(t,n),cr.a.apply(void 0,e)!=this.state.strResponsiveClasses&&this.setState({strResponsiveClasses:cr.a.apply(void 0,e)})},e.prototype.BindOuterContainer=function(e){(this.m_elOuterContainer=e)&&(this.m_resizeObserver.observe(e),this.OnResize())},e.prototype.render=function(){var e=this.props,t=e.className,n=(e.breakUltraNarrow,e.breakNarrow,e.breakWide,e.breakUltraWide,e.breakShort,e.breakTall,e.strMedium,e.fnDimensionsChanged,Object(j.f)(e,["className","breakUltraNarrow","breakNarrow","breakWide","breakUltraWide","breakShort","breakTall","strMedium","fnDimensionsChanged"]));return D.createElement("div",Object(j.a)({className:Object(cr.a)(t,this.state.strResponsiveClasses)},n,{ref:this.BindOuterContainer}),this.props.children)},Object(j.c)([E.a],e.prototype,"OnResize",null),Object(j.c)([E.a],e.prototype,"BindOuterContainer",null),e}(D.Component),pw=n("NJ5m"),dw=n.n(pw),mw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.OnDrop=function(e){e.forEach(function(e,t){return t.RemoveApps(e)})},t.prototype.render=function(){var e,t,n,r,i=this,a=!0,o=new Map,s=new Set,c=uo.GetDragData("apps");return c&&0!=c.length?(c.forEach(function(e){var t,n=Xa.GetAppOverviewByAppID(e.appid),r=e.strCollectionId&&mi.GetCollection(e.strCollectionId);n&&r&&r.bAllowsDragAndDrop&&(s.add(e.appid),t=r.AsDragDropCollection(),o.has(t)||o.set(t,[]),o.get(t).push(n))}),0==o.size?a=!1:n=1==s.size?1==o.size?(t=(e=o.entries().next().value)[0],r=e[1][0],Object(R.o)("#GameAction_RemoveAppFromCollection",D.createElement("div",{className:dw.a.AppName},D.createElement(co,{app:r,eAssetType:4,className:dw.a.GameIcon}),r.display_name),D.createElement("span",{className:dw.a.CollectionName},t.displayName))):(r=o.values().next().value[0],Object(R.o)("#GameAction_RemoveAppFromMultipleCollections",D.createElement("div",{className:dw.a.AppName},D.createElement(co,{app:r,eAssetType:4,className:dw.a.GameIcon}),r.display_name))):1==o.size?Object(R.o)("#GameAction_RemoveMultipleAppsFromCollection",D.createElement("span",{className:dw.a.CollectionName},o.keys().next().value.displayName)):Object(R.o)("#GameAction_RemoveMultipleAppsFromMultipleCollections")):a=!1,D.createElement(p.a,{className:dw.a.RemoveHoverTransitionGroup,appear:!0,enter:!0,exit:!0},a&&D.createElement(m.a,{key:"Transition",id:dw.a.RemoveBoxTransition,classNames:{enter:dw.a.RemoveBoxTransitionEnter,enterActive:dw.a.RemoveBoxTransitionEnterActive,exit:dw.a.RemoveBoxTransitionExit,exitActive:dw.a.RemoveBoxTransitionExitActive},timeout:250},D.createElement(Ho,{className:dw.a.Container,strTargetId:"remove-game-hover",strTargetedClassName:dw.a.DropTarget,fnOnDroppedApps:function(){return i.OnDrop(o)}},D.createElement("div",{className:dw.a.Message},n))))},Object(j.c)([E.a],t.prototype,"OnDrop",null),Object(j.c)([o.observer],t)}(D.Component),hw=n("uobO"),fw=n("d0s+"),bw=n.n(fw),_w=n("XhJu"),vw=n.n(_w),gw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement("div",{className:vw.a.Item},D.createElement("div",{className:vw.a.Title},Object(R.f)("#WhatsNew_PlayNext_Title")),D.createElement("div",{className:vw.a.Description},Object(R.f)("#WhatsNew_PlayNext_Description")),D.createElement("div",{className:vw.a.ReadMore},D.createElement("a",{href:"steam://url/EventAnnouncementPage/593110/2173495126269399731"},Object(R.f)("#WhatsNew_ReadMore"))),D.createElement("img",{className:vw.a.Screenshot,src:bw.a}))},t}(D.Component),yw=[{fnRender:function(){return D.createElement(gw,null)},dtExpiration:new Date("11/10/2020"),incrementalID:3}],Sw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement(bi.c,{className:vw.a.Container,bAlertDialog:!0,closeModal:this.props.closeModal,onOK:this.props.closeModal,onCancel:this.props.closeModal,strTitle:Object(R.f)("#WhatsNew_Title")},this.props.rgElements)},t}(D.Component),ww="whatsnew_lastseen";var Cw,Ow,Ew=n("Z1oF"),Bw=n("bftL"),Aw=n.n(Bw),Iw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){for(var e=Ru.DownloadHistory,t=e.peakNetworkBytesPerSecond,n=e.peakDiskBytesPerSecond,r=(0==e.historyItems.length?120:Math.round(e.historyItems[e.historyItems.length-1].sample_time/1e3))-120,i=[],a="",o=!0,s=0;s<e.historyItems.length;s++){var c,l,u,p,d,m;e.historyItems[s].sample_time>r&&(c=e.historyItems[s].network_bytes_per_second,l=e.historyItems[s].disc_bytes_per_second,u=Math.round(e.historyItems[s].sample_time/1e3),d={height:p=t?100*c/t:0},0<p&&i.push(D.createElement("rect",{key:s,x:t?u-r+.25:s,y:100-p,className:Aw.a.GraphBar,style:d})),m=n?u-r:s,o&&(a+="M0,100L"+m+",100",o=!1),a+="L"+m+","+(n?100-100*l/n:100))}return D.createElement("div",{className:Aw.a.DownloadGraph},D.createElement("div",{className:Aw.a.DiskGraph},D.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 100",preserveAspectRatio:"none"},i,D.createElement("path",{className:Aw.a.GraphLine,d:a}))))},Object(j.c)([o.observer],t)}(D.Component),jw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){return D.createElement("div",{className:Aw.a.DownloadGraphLegend},D.createElement("div",{className:Aw.a.LegendRow},D.createElement("div",{className:Object(cr.a)(Aw.a.LegendBox,Aw.a.Network)}),D.createElement("div",{className:Aw.a.LegendText},Object(R.f)("#Downloads_Legend_Network"))),D.createElement("div",{className:Aw.a.LegendRow},D.createElement("div",{className:Object(cr.a)(Aw.a.LegendBox,Aw.a.Disk)}),D.createElement("div",{className:Aw.a.LegendText},Object(R.f)("#Downloads_Legend_Disk"))))},t}(D.Component),Dw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.FormatRateString=function(e){var t=Jr.settings.bDisplayDownloadRateInBitsPerSec;return Object(wl.a)(e*(t?8:1),{nDigitsAfterDecimal:1,bUseBinary1K:!1,bValueIsInBytes:!t,bValueIsRate:!0})},t.prototype.render=function(){var e=Ru.DownloadOverview,t=Ru.DownloadHistory.totalBytes;return D.createElement("div",{className:Aw.a.StatsPanel},D.createElement("div",{className:Aw.a.Title},Object(R.f)("#Downloads_Stats_Title")),D.createElement("div",{className:Object(cr.a)(Aw.a.Stat,Aw.a.CurrentNetworkUsage)},Object(R.o)("#Downloads_Stats_CurrentRate",D.createElement("span",{className:Aw.a.Figure},this.FormatRateString(e.update_network_bytes_per_second)))),D.createElement("div",{className:Object(cr.a)(Aw.a.Stat,Aw.a.PeakNetworkUsage)},Object(R.o)("#Downloads_Stats_PeakRate",D.createElement("span",{className:Aw.a.Figure},this.FormatRateString(e.update_peak_network_bytes_per_second)))),D.createElement("div",{className:Object(cr.a)(Aw.a.Stat,Aw.a.TotalNetworkUsage)},Object(R.o)("#Downloads_Stats_TotalBytes",D.createElement("span",{className:Aw.a.Figure},Object(wl.a)(t,{nDigitsAfterDecimal:1,bUseBinary1K:!1})))),D.createElement("div",{className:Object(cr.a)(Aw.a.Stat,Aw.a.DiskUsage)},Object(R.o)("#Downloads_Stats_DiskRate",D.createElement("span",{className:Aw.a.Figure},this.FormatRateString(e.update_disc_bytes_per_second)))))},Object(j.c)([o.observer],t)}(D.Component),Rw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.ToggleDownloads=function(e){SteamClient.Downloads.EnableAllDownloads(e)},t.prototype.render=function(){var e=this,t=Ru.DownloadOverview.paused,n=0==Ru.ActiveDownloads.length&&0==Ru.QueuedDownloads.length;return D.createElement(Si.d,{className:Object(cr.a)(Aw.a.PauseResumeButton,n&&Aw.a.Hidden),onClick:n?void 0:function(){e.ToggleDownloads(t)}},t?Object(R.f)("#Downloads_Resume"):Object(R.f)("#Downloads_Pause"))},Object(j.c)([o.observer],t)}(D.Component),Tw=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_hAppDetails=null,e}return Object(j.d)(e,t),e.prototype.componentDidMount=function(){this.m_hAppDetails=ha.RegisterForAppData(this.props.app.appid)},e.prototype.componentWillUnmount=function(){this.m_hAppDetails&&this.m_hAppDetails.unregister(),this.m_hAppDetails=null},e.prototype.MoveToTopOfQueue=function(){SteamClient.Downloads.ResumeAppUpdate(this.props.item.appid)},e.prototype.RemoveFromDownloadList=function(){SteamClient.Downloads.RemoveFromDownloadList(this.props.item.appid)},e.prototype.OpenAppAutoUpdateSettings=function(){SteamClient.Apps.OpenAppSettingsDialog(this.props.app.appid,"update")},e.prototype.LocalizeAutoUpdateBehavior=function(e){switch(e){case 0:return Object(R.f)("#Downloads_AutoUpdate_Default");case 1:return Object(R.f)("#Downloads_AutoUpdate_DoNotUpdate");case 2:return Object(R.f)("#Downloads_AutoUpdate_HighPriority")}},e.prototype.render=function(){var e=this.props,t=e.item,n=e.app,r=Ru.DownloadOverview,i=ha.GetAppDetails(n.appid),a=i&&this.LocalizeAutoUpdateBehavior(i.eAutoUpdateValue),o=t.active&&r.update_bytes_downloaded?r.update_bytes_downloaded:t.downloaded_bytes,s=t.active&&r.update_bytes_to_download?r.update_bytes_to_download:t.total_bytes;return D.createElement("div",{className:Aw.a.SectionItem},D.createElement("div",{className:Aw.a.AppPortrait},D.createElement(ry,{app:n,bShowFriendsAsIcons:!1,context:3})),D.createElement("div",{className:Object(cr.a)(Aw.a.SectionItemColumn,Aw.a.Left)},D.createElement("div",{className:Aw.a.Name},n.display_name),a&&D.createElement("div",{className:Aw.a.AutoUpdate,onClick:this.OpenAppAutoUpdateSettings},a)),D.createElement("div",{className:Object(cr.a)(Aw.a.SectionItemColumn,Aw.a.Middle)},D.createElement("div",{className:Object(cr.a)(Aw.a.Stat,Aw.a.DownloadProgress)},Object(R.o)("#Downloads_DownloadedBytes",D.createElement("span",{className:Aw.a.Value},Object(wl.a)(o,1)),D.createElement("span",{className:Aw.a.Value},Object(wl.a)(s,1)))),t.active&&0<r.update_seconds_remaining&&D.createElement("div",{className:Object(cr.a)(Aw.a.Stat,Aw.a.TimeRemaining)},Object(R.o)("#Downloads_TimeRemaining",D.createElement("span",{className:Aw.a.Value},Object(Ew.k)(r.update_seconds_remaining,{bExcludeAgo:!0,bHighGranularity:!0}))))),D.createElement("div",{className:Object(cr.a)(Aw.a.SectionItemColumn,Aw.a.Right)},0!=t.deferred_time&&D.createElement("div",{className:Aw.a.ScheduledTime},Object(R.f)("#Downloads_ScheduledFor",Object(Ew.a)(t.deferred_time,{bGranularFutureTime:!0})+" "+Object(Ew.g)(t.deferred_time))),t.active&&D.createElement("div",{className:Aw.a.State},Object(R.f)("#Downloads_State_"+r.update_state)),t.active&&0!=Ru.DownloadOverview.update_start_time&&D.createElement("div",{className:Aw.a.StartTime},Object(R.f)("#Downloads_DownloadStarted",Object(Ew.j)(Ru.DownloadOverview.update_start_time)+" "+Object(Ew.g)(Ru.DownloadOverview.update_start_time))),t.completed&&0!=t.completed_time&&D.createElement("div",{className:Aw.a.CompletedTime},Object(R.f)("#Downloads_DownloadFinished",Object(Ew.j)(t.completed_time)+" "+Object(Ew.g)(t.completed_time))),D.createElement("div",{className:Aw.a.Buttons},!t.active&&!t.completed&&D.createElement(Co.d,{className:Object(cr.a)(Aw.a.ButtonWrapper,Aw.a.MoveToTopWrapper),toolTipContent:Object(R.f)("#Downloads_MoveToTop_Tooltip"),direction:"top"},D.createElement(Si.d,{className:Object(cr.a)(Aw.a.Button,Aw.a.MoveToTop),onClick:this.MoveToTopOfQueue},D.createElement(_r.xb,{className:Aw.a.MoveToTopSVG}))),!t.paused&&(-1!=t.queue_index||0==t.deferred_time)&&D.createElement(Co.d,{className:Object(cr.a)(Aw.a.ButtonWrapper,Aw.a.RemoveFromQueueWrapper),toolTipContent:Object(R.f)(t.completed?"#Downloads_RemoveFromList_Tooltip":"#Downloads_RemoveFromQueue_Tooltip"),direction:"top"},D.createElement(Si.d,{className:Object(cr.a)(Aw.a.Button,Aw.a.RemoveFromQueue),onClick:this.RemoveFromDownloadList},D.createElement(_r.Ib,null))))))},Object(j.c)([E.a],e.prototype,"MoveToTopOfQueue",null),Object(j.c)([E.a],e.prototype,"RemoveFromDownloadList",null),Object(j.c)([E.a],e.prototype,"OpenAppAutoUpdateSettings",null),Object(j.c)([o.observer],e)}(D.Component);(Ow=Cw=Cw||{})[Ow.k_EDownloadSection_Active=1]="k_EDownloadSection_Active",Ow[Ow.k_EDownloadSection_Queued=2]="k_EDownloadSection_Queued",Ow[Ow.k_EDownloadSection_Scheduled=3]="k_EDownloadSection_Scheduled",Ow[Ow.k_EDownloadSection_Paused=4]="k_EDownloadSection_Paused",Ow[Ow.k_EDownloadSection_Completed=5]="k_EDownloadSection_Completed";var Mw=function(n){function e(e){var t=n.call(this,e)||this;return t.state={bCollapsed:!1},t.props.storage.GetObject(t.GetStorageKey()).then(function(e){t.setState({bCollapsed:!!e})}),t}return Object(j.d)(e,n),e.prototype.GetStorageKey=function(){return"DownloadListSection_"+this.props.eSection},e.prototype.GetTitle=function(){switch(this.props.eSection){case Cw.k_EDownloadSection_Active:return"#Downloads_Active";case Cw.k_EDownloadSection_Queued:return"#Downloads_Queued";case Cw.k_EDownloadSection_Scheduled:return"#Downloads_Scheduled";case Cw.k_EDownloadSection_Paused:return"#Downloads_Paused";case Cw.k_EDownloadSection_Completed:return"#Downloads_Completed"}return""},e.prototype.ToggleCollapsed=function(){var e=!this.state.bCollapsed;this.setState({bCollapsed:!this.state.bCollapsed}),this.props.storage.StoreObject(this.GetStorageKey(),e)},e.prototype.render=function(){var e=this.props.rgItems.map(function(e){return{item:e,app:Xa.GetAppOverviewByAppID(e.appid)}}).filter(function(e){return e.app&&!e.app.BIsAppBlocked()}).map(function(e){return D.createElement(Tw,{key:e.app.appid,item:e.item,app:e.app})});return 0==e.length?null:D.createElement("div",{className:Aw.a.Section},D.createElement("div",{className:Aw.a.SectionTitle,onClick:this.ToggleCollapsed},this.state.bCollapsed?"+ ":"- ",Object(R.f)(this.GetTitle())),!this.state.bCollapsed&&D.createElement("div",{className:Aw.a.SectionList},e))},Object(j.c)([E.a],e.prototype,"ToggleCollapsed",null),Object(j.c)([o.observer],e)}(D.Component),Nw=function(n){function e(e){var t=n.call(this,e)||this;return t.m_storage=new Ke,t}return Object(j.d)(e,n),e.prototype.render=function(){return D.createElement("div",{className:Aw.a.DownloadsPage},D.createElement("div",{className:Aw.a.GraphAndStats},D.createElement(Dw,null),D.createElement(Iw,null),D.createElement("div",{className:Aw.a.RightPane},D.createElement(Rw,null),D.createElement(jw,null))),D.createElement("div",{className:Aw.a.ItemLists},D.createElement(Mw,{eSection:Cw.k_EDownloadSection_Active,storage:this.m_storage,rgItems:Ru.ActiveDownloads}),D.createElement(Mw,{eSection:Cw.k_EDownloadSection_Queued,storage:this.m_storage,rgItems:Ru.QueuedDownloads}),D.createElement(Mw,{eSection:Cw.k_EDownloadSection_Scheduled,storage:this.m_storage,rgItems:Ru.ScheduledDownloads}),D.createElement(Mw,{eSection:Cw.k_EDownloadSection_Paused,storage:this.m_storage,rgItems:Ru.PausedDownloads}),D.createElement(Mw,{eSection:Cw.k_EDownloadSection_Completed,storage:this.m_storage,rgItems:Ru.CompletedDownloads})))},Object(j.c)([o.observer],e)}(D.Component),Lw=n("miow"),kw=n.n(Lw),Fw=(n("xnZ7"),n("HQzE"),n("C4Nl"));function Pw(e){return"true"===e||"false"!==e&&(Number(e)||e)}var Gw=function(i){function e(e){var t=i.call(this,e)||this;t.m_mapEmbeddedMouseOverlays=new Gc.a("FakeContextMenuMouseOverlay"),t.m_gameListBarRef=D.createRef(),t.m_elGamesListContainerRef=D.createRef();var n=window.localStorage.getItem("GameListWidthPercentage"),r=n?parseInt(n):void 0;return Number.isNaN(r)&&(r=void 0),void 0!==r&&(r=Object(fm.a)(r,0,parseInt(Xs.a.LeftListMaxPercentage))),t.state={loaded:!1,bIsResizingGamesList:!1,nListWidthPercentage:r},SteamClient.Messaging.RegisterForMessages("ContextMenus",t.OnPostMessage),SteamClient.Messaging.RegisterForMessages("AppProperties",t.OnAppProperties),t}return Object(j.d)(e,i),e.prototype.SetStateLoaded=function(){console.log("Setting state to loaded"),console.timeEnd("Library Init"),this.setState({loaded:!0})},e.prototype.InitConfig=function(){if(window.location.search){var e=a.a.parse(window.location.search.slice(1));for(var t in e)-1!==Object.getOwnPropertyNames(A.c).indexOf(t)?A.c[t]=Pw(e[t]):-1!==Object.getOwnPropertyNames(A.h).indexOf(t)?A.h[t]=Pw(e[t]):console.error("Got unknown config property",t);var n=Object(R.c)();console.log("setting locale:",n),n&&(document.documentElement.setAttribute("lang",n),R.e.SetPreferredLocales([n]))}A.c.IN_LIBRARY=!0,A.c.EREALM==C.p.k_ESteamRealmUnknown&&(A.c.EREALM=Object(C.d)(A.c.LAUNCHER_TYPE)?C.p.k_ESteamRealmChina:C.p.k_ESteamRealmGlobal)},e.prototype.componentDidMount=function(){return Object(j.b)(this,void 0,void 0,function(){var t,n,r;return Object(j.e)(this,function(e){switch(e.label){case 0:return this.InitConfig(),console.log("Loaded Config",A.c),t=new ne,[4,Promise.all([mi.Register()])];case 1:e.sent(),console.time("Library Init"),e.label=2;case 2:return e.trys.push([2,8,,9]),console.time("Library Init - stage 1"),[4,Promise.all([Object(lw.a)(A.c.LANGUAGE),t.Connect(),je.Init(t),Xa.Init(),Pg.Init(t),B.a.Init([]),_a.Init(),Fw.a.Initialize(t)])];case 3:return e.sent(),console.timeEnd("Library Init - stage 1"),console.time("Library Init - stage 2"),[4,je.ForNamespace(we.k_EUserConfigStoreNamespaceLibrary)];case 4:return n=e.sent(),Object(hw.a)().Init("Library",CLSTAMP,t.GetServiceTransport()),[4,Promise.all([mi.Init(n)])];case 5:return e.sent(),console.timeEnd("Library Init - stage 2"),console.time("Library Init - stage 3"),[4,Promise.all([b.a.Init(t),ei.Init(t),TS.Init(t),Jr.Init(t),Uf.Init(t),ha.Init(t),ff.Init(t),Tv.Init(t),Qa.Init(),zh.Init(t),Sd.Init(t),gf.Init(t),Lp.Init(t),Fe.Init(n),Tc.Init(),Nc.Init(t),Fo.Init(n)])];case 6:return e.sent(),console.timeEnd("Library Init - stage 3"),console.time("Library Init - stage 4"),[4,Promise.all([Za.Init()])];case 7:return e.sent(),console.timeEnd("Library Init - stage 4"),function(r){Object(j.b)(this,void 0,void 0,function(){var i,a,t,n;return Object(j.e)(this,function(e){switch(e.label){case 0:return Object(k.d)(A.c.LAUNCHER_TYPE)?[2]:[4,SteamClient.UI.GetUIMode()];case 1:return 1==e.sent()?[2]:[4,r.GetObject(ww)];case 2:return i=e.sent(),a=new Date,(t=yw.filter(function(e){var t=e.fnRender,n=e.incrementalID,r=e.dtExpiration;return t&&i<n&&a<r})).length&&(n=t.map(function(e){return D.createElement(D.Fragment,{key:e.incrementalID},e.fnRender())}),Object(_i.b)(D.createElement(Sw,{rgElements:n}),window,{strTitle:Object(R.f)("#WhatsNew_Title")}),i=t.reduce(function(e,t){return Math.max(e,t.incrementalID)},i),r.StoreObject(ww,i)),[2]}})})}(n),Tm.Initialize(t),this.SetStateLoaded(),[3,9];case 8:return r=e.sent(),console.log("FAILED TO INITIALIZE THE CLIENT",r),[3,9];case 9:return window.addEventListener("message",this.OnMessage),window.addEventListener("mouseup",this.OnMouseUp),window.addEventListener("keydown",this.OnWindowKeyDown),window.addEventListener("drop",this.OnDrop),window.addEventListener("dragenter",this.OnDragEnter),window.addEventListener("dragover",this.OnDragOver),SteamClient.Browser.SetFindKeyEnabled(!1),[2]}})})},e.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.OnMessage),window.removeEventListener("mouseup",this.OnMouseUp),window.removeEventListener("keydown",this.OnWindowKeyDown),window.removeEventListener("drop",this.OnDrop),window.removeEventListener("dragenter",this.OnDragEnter),window.removeEventListener("dragover",this.OnDragOver),SteamClient.Browser.SetFindKeyEnabled(!0)},e.prototype.OnPostMessage=function(e,t,n){"OnFriendContextMenuShown"==t&&this.m_mapEmbeddedMouseOverlays.ShowElement(window.document,D.createElement(Hi.f,null),this),"OnFriendContextMenuClosed"==t&&this.m_mapEmbeddedMouseOverlays.HideElement(window.document,this)},e.prototype.OnAppProperties=function(e,t,n){Cl(parseInt(t),window,n)},e.prototype.OnMouseUp=function(e){3==e.button?(this.GoBack(),e.preventDefault()):4==e.button&&(this.GoForward(),e.preventDefault())},e.prototype.OnMessage=function(e){"go_back"==e.data?this.GoBack():"go_forward"==e.data&&this.GoForward()},e.prototype.GoBack=function(){SteamClient.Browser.GoBack()},e.prototype.GoForward=function(){SteamClient.Browser.GoForward()},e.prototype.OnRootContextMenu=function(e){e.shiftKey||(e.preventDefault(),e.stopPropagation())},e.prototype.OnWindowKeyDown=function(e){return 70!=e.keyCode||!e.ctrlKey&&!e.metaKey||(1===Qa.mainPanelMode?this.m_gameListBarRef.current&&this.m_gameListBarRef.current.FocusSearchBar():SteamClient.Browser.ShowFindDialog(),e.preventDefault(),!1)},e.prototype.OnDrop=function(e){e.preventDefault(),e.stopPropagation()},e.prototype.OnDragEnter=function(e){var t=0<=e.dataTransfer.types.indexOf("text/appids");e.dataTransfer.dropEffect=t?"move":"none",e.preventDefault(),e.stopPropagation()},e.prototype.OnDragOver=function(e){var t=0<=e.dataTransfer.types.indexOf("text/appids");e.dataTransfer.dropEffect=t?"move":"none",e.preventDefault(),e.stopPropagation()},e.prototype.OnGrabberMouseDown=function(e){var t=e.currentTarget.ownerDocument.defaultView;this.setState({bIsResizingGamesList:!0}),t.addEventListener("mousemove",this.HandleMouseMove),t.addEventListener("mouseup",this.UnregisterGameListDragEvents)},e.prototype.OnGrabberTouchStart=function(e){var t=e.currentTarget.ownerDocument.defaultView;t.addEventListener("touchmove",this.HandleTouchMove),t.addEventListener("touchend",this.UnregisterGameListDragEvents)},e.prototype.HandleTouchMove=function(e){1<=e.touches.length&&this.InternalAdjustGamesListContainerOnDrag(e.touches[0].clientX)},e.prototype.HandleMouseMove=function(e){this.InternalAdjustGamesListContainerOnDrag(e.clientX)},e.prototype.InternalAdjustGamesListContainerOnDrag=function(e){var t;this.m_elGamesListContainerRef.current&&((t=e-this.m_elGamesListContainerRef.current.getBoundingClientRect().left)%2!=0&&t++,this.SetGameListWidth(t))},e.prototype.ComputeListWidthPercentage=function(e){var t=window.innerWidth,n=Object(fm.a)(t-parseInt(Xs.a.RightPanelMinWidth),parseInt(Xs.a.LeftListMinWidth),t*parseInt(Xs.a.LeftListMaxPercentage)/100);return e=Object(fm.a)(e,parseInt(Xs.a.LeftListMinWidth),n),Object(fm.a)(100*e/t,0,parseInt(Xs.a.LeftListMaxPercentage))},e.prototype.SetGameListWidth=function(e){var t;0!=window.innerWidth&&(t=this.ComputeListWidthPercentage(e),window.localStorage.setItem("GameListWidthPercentage",t.toString()),this.setState({nListWidthPercentage:t}))},e.prototype.UnregisterGameListDragEvents=function(e){this.setState({bIsResizingGamesList:!1}),e.view.removeEventListener("mousemove",this.HandleMouseMove),e.view.removeEventListener("touchmove",this.HandleTouchMove),e.view.removeEventListener("mouseup",this.UnregisterGameListDragEvents),e.view.removeEventListener("touchend",this.UnregisterGameListDragEvents)},e.prototype.render=function(){if(!this.state.loaded)return D.createElement("div",{className:Object(cr.a)(kw.a.Container,kw.a.PreloadThrobber),onContextMenu:this.OnRootContextMenu},D.createElement(Pi.a,{size:"xlarge",static:!0}),D.createElement("div",{className:kw.a.ThreeDots},D.createElement("div",{className:Object(cr.a)(kw.a.Dot,kw.a.Dot1)}),D.createElement("div",{className:Object(cr.a)(kw.a.Dot,kw.a.Dot2)}),D.createElement("div",{className:Object(cr.a)(kw.a.Dot,kw.a.Dot3)})));var e={};this.state.nListWidthPercentage&&(e={width:this.state.nListWidthPercentage+"%"});var t=[Xs.a.Container];t.push(Qa.BLowPerfMode()?"LowPerfMode":"HighPerfMode");var n=ho.GetComputedDisplaySize(Jr.settings.nLibraryDisplaySize);1==n?t.push("LibraryDisplaySizeSmall"):2==n?t.push("LibraryDisplaySizeMedium"):3==n&&t.push("LibraryDisplaySizeLarge"),this.state.bIsResizingGamesList&&t.push(Xs.a.IsResizingLeftList);var r={breakNarrow:[parseInt(mo.a.BreakNarrow),"NarrowWindow"],breakWide:[parseInt(mo.a.BreakWide),"WideWindow"],breakUltraWide:[parseInt(mo.a.BreakUltraWide),"UltraWideWindow"],breakShort:[parseInt(mo.a.BreakShort),"ShortWindow"],breakTall:[parseInt(mo.a.BreakTall),"TallWindow"],strMedium:"MediumWindow"};return D.createElement(uw,Object(j.a)({className:t.join(" "),onContextMenu:this.OnRootContextMenu},r),!1,5!=Qa.mainPanelMode&&D.createElement(Ks.a,null,D.createElement("div",{className:Xs.a.LeftListSizableContainer,ref:this.m_elGamesListContainerRef,style:e},D.createElement(eS,{ref:this.m_gameListBarRef}),D.createElement(Ks.a,null,D.createElement(mw,null)))),5!=Qa.mainPanelMode&&D.createElement(Ks.a,null,D.createElement("div",{className:Object(cr.a)(Xs.a.LibraryWindowDivider,Xs.a.Sizable),onMouseDown:this.OnGrabberMouseDown,onTouchStart:this.OnGrabberTouchStart})),D.createElement(Ks.a,null,D.createElement(Uw,null)),D.createElement(Ks.a,null,D.createElement(bi.b,{ModalManager:Object(bi.f)(window)})))},Object(j.c)([E.a],e.prototype,"OnPostMessage",null),Object(j.c)([E.a],e.prototype,"OnAppProperties",null),Object(j.c)([E.a],e.prototype,"OnMouseUp",null),Object(j.c)([E.a],e.prototype,"OnMessage",null),Object(j.c)([E.a],e.prototype,"OnWindowKeyDown",null),Object(j.c)([E.a],e.prototype,"OnGrabberMouseDown",null),Object(j.c)([E.a],e.prototype,"OnGrabberTouchStart",null),Object(j.c)([E.a],e.prototype,"HandleTouchMove",null),Object(j.c)([E.a],e.prototype,"HandleMouseMove",null),Object(j.c)([E.a],e.prototype,"SetGameListWidth",null),Object(j.c)([E.a],e.prototype,"UnregisterGameListDragEvents",null),Object(j.c)([o.observer],e)}(D.Component),Uw=(t.default=Gw,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_transitionedChildRef=D.createRef(),e}return Object(j.d)(e,t),e.prototype.onTransitionEnd=function(t,n){return Object(j.b)(this,void 0,void 0,function(){return Object(j.e)(this,function(e){switch(e.label){case 0:return this.m_transitionedChildRef.current!=t&&uo.BIsDragInProgress()?[4,uo.WaitForDragToEnd()]:[3,2];case 1:return e.sent(),n(),[3,3];case 2:setTimeout(n,800),e.label=3;case 3:return[2]}})})},e.prototype.renderAppDetailsContent=function(e,t){return D.createElement(Dg,{overview:e,details:t})},e.prototype.render=function(){var e="",t="",n=null,r=null;switch(Qa.mainPanelMode){case 1:e="library_home",n=D.createElement($S,null);var i=Qa.currentGameListSelection.gidEvent;(a=Qa.currentGameListSelection.nAppId)&&i&&(t="overlay_library_home",r=D.createElement(nS,{location:Vy.LibraryHome,appid:a,initialEventID:i}));break;case 2:e="all_collections",n=D.createElement(Xo,{coverSize:Jr.settings.nLibraryDisplaySize});break;case 3:e="collections_view",n=D.createElement(wy,null);break;case 4:var a,e="appDetailsTransition"+(a=Qa.currentGameListSelection.nAppId),n=D.createElement(D.Fragment,null,D.createElement(jg,{appid:a,renderChildrenFunc:this.renderAppDetailsContent}),D.createElement("div",{className:Xs.a.TopGradient}));(i=Qa.currentGameListSelection.gidEvent)&&(t="overlay_appDetailsTransition_"+a,r=D.createElement(nS,{location:Vy.AppDetails,appid:a,initialEventID:i}));break;case 5:n=D.createElement(Nw,null)}var o={enter:Xs.a.AppDetailsTransitionEnter,enterActive:Xs.a.AppDetailsTransitionEnterActive,exit:Xs.a.AppDetailsTransitionExit,exitActive:Xs.a.AppDetailsTransitionExitActive},s={enter:Xs.a.OverlayAppDetailsTransitionEnter,enterActive:Xs.a.OverlayAppDetailsTransitionEnterActive,enterDone:Xs.a.OverlayAppDetailsTransitionEntered,exit:Xs.a.OverlayAppDetailsTransitionExit,exitActive:Xs.a.OverlayAppDetailsTransitionExitActive},c=2==Qa.mainPanelMode,l=!Qa.BLowPerfMode(),u={breakUltraNarrow:[parseInt(mo.a.RightBreakUltraNarrow),"UltraNarrowRightPanel"],breakNarrow:[parseInt(mo.a.RightBreakNarrow),"NarrowRightPanel"],breakWide:[parseInt(mo.a.RightBreakWide),"WideRightPanel"],breakUltraWide:[parseInt(mo.a.RightBreakUltraWide),"UltraWideRightPanel"],breakShort:[parseInt(mo.a.BreakShort),"ShortRightPanel"],breakTall:[parseInt(mo.a.BreakTall),"TallRightPanel"],strMedium:"MediumRightPanel",fnDimensionsChanged:function(e,t){ho.SetDimensions(e,t)}};return D.createElement(uw,Object(j.a)({className:Xs.a.MainPanel},u),D.createElement(p.a,{className:Xs.a.AppDetailsTransitionGroup,appear:!0,enter:!0,exit:!0},D.createElement(m.a,{key:e,classNames:o,addEndListener:this.onTransitionEnd,timeout:null},D.createElement("div",{ref:this.m_transitionedChildRef,className:Xs.a.AppDetailsMain},n,D.createElement(p.a,{className:Xs.a.AppDetailsOverlayTransitionGroup,appear:l,enter:l,exit:l},r&&D.createElement(m.a,{key:t,classNames:s,timeout:200},r))))),D.createElement(ts,{strClassName:Xs.a.NewCollectionTarget,strEligibleClassName:!c&&Xs.a.Visible}))},Object(j.c)([E.a],e.prototype,"onTransitionEnd",null),Object(j.c)([o.observer],e)}(D.Component))},KZds:function(e,t,n){e.exports={Picker:"addonpicker_Picker_tid_O",Tabs:"addonpicker_Tabs_1yVkT",Tab:"addonpicker_Tab_2CJ0L",Active:"addonpicker_Active_1ddEQ",TabContent:"addonpicker_TabContent_1mROo",Content:"addonpicker_Content_dUQIH",ItemList:"addonpicker_ItemList_2OWGR",Item:"addonpicker_Item_1SFqy",SectionedPageTitle:"addonpicker_SectionedPageTitle_ZmsEl",SectionTitle:"addonpicker_SectionTitle_3WuFl",FilterInputContainer:"addonpicker_FilterInputContainer_EuFeP",FilterInput:"addonpicker_FilterInput_2l4z-",AddonPickerMessage:"addonpicker_AddonPickerMessage_2wUk7"}},"L+ta":function(e,t,n){e.exports={ImagesOuterContainer:"clanimagechooser_ImagesOuterContainer_3A8RG",Hilight:"clanimagechooser_Hilight_1v_zQ",ImageContainer:"clanimagechooser_ImageContainer_2ti3y",Image:"clanimagechooser_Image_y902_",ImageFilename:"clanimagechooser_ImageFilename_2jzLZ"}},LDQU:function(e,t,n){e.exports={ArtworkModal:"artworkmodal_ArtworkModal_36VpV",ModalArtCloseButton:"artworkmodal_ModalArtCloseButton_OuOr8",ModalBox:"artworkmodal_ModalBox_1Lfu7",ArtworkModalContainer:"artworkmodal_ArtworkModalContainer_bAmL1",ArtworkModalDetails:"artworkmodal_ArtworkModalDetails_1sEyq",Header:"artworkmodal_Header_J0VnC",ShareButton:"artworkmodal_ShareButton_rrgVL",ScrollForMore:"artworkmodal_ScrollForMore_WgpsF",ChildrenContainer:"artworkmodal_ChildrenContainer_2RehC",Body:"artworkmodal_Body_1uUBT",FileInfo:"artworkmodal_FileInfo_34Wkv",AppSummary:"artworkmodal_AppSummary_3oAtg",AppTitle:"artworkmodal_AppTitle_EqJ4i",AppIcon:"artworkmodal_AppIcon_1hwhy",AppName:"artworkmodal_AppName_17XDb",CreatedBy:"artworkmodal_CreatedBy_dnuQ_",Creator:"artworkmodal_Creator_1dvQ_",Details:"artworkmodal_Details_3u-D5",Labels:"artworkmodal_Labels_1xky1",Values:"artworkmodal_Values_3FvBB",Title:"artworkmodal_Title_SWXI0",Top:"artworkmodal_Top_2CL3W",CaptionQuoteContainer:"artworkmodal_CaptionQuoteContainer_1vzFv",CaptionQuote:"artworkmodal_CaptionQuote_1fPJb",ArtworkContainer:"artworkmodal_ArtworkContainer_1DyzX"}},LY6W:function(e,t,n){e.exports={TextToolTip:"tooltip_TextToolTip_2FxbH",ToolTipCustom:"tooltip_ToolTipCustom_3XGRk",ToolTipTitle:"tooltip_ToolTipTitle_1LhVf",Center:"tooltip_Center_2ZDqE",ToolTipInsetContent:"tooltip_ToolTipInsetContent_i4LuY"}},LdHN:function(e,t,n){e.exports={ActivityCommentThreadMinimized:"comment_thread_ActivityCommentThreadMinimized_EhWKR",IsVisible:"comment_thread_IsVisible_1XYMA",RateButton:"comment_thread_RateButton_2y_jV",ThumbsUpUserNews:"comment_thread_ThumbsUpUserNews_7yHZB",DeleteButton:"comment_thread_DeleteButton_n-qlR",DeleteUserNews:"comment_thread_DeleteUserNews_KVWDb",MaximizeButton:"comment_thread_MaximizeButton_2ox3w",CommentThread:"comment_thread_CommentThread_34ZDO",ViewComments:"comment_thread_ViewComments_19xW0",UpvoteDetails:"comment_thread_UpvoteDetails_2hxSB",RatingDetails:"comment_thread_RatingDetails_2lY7z",ActivityCommentThread:"comment_thread_ActivityCommentThread_39nna",RatingContainer:"comment_thread_RatingContainer_3Kynf",HasComments:"comment_thread_HasComments_3XKY2",MakeCommentsVisible:"comment_thread_MakeCommentsVisible_FPxfN",Comment:"comment_thread_Comment_515RL",HeaderandBody:"comment_thread_HeaderandBody_1jhvV",CommentControls:"comment_thread_CommentControls_2-3DH",ThumbsUpComment:"comment_thread_ThumbsUpComment_1DwcI",CommentsTransitionEnter:"comment_thread_CommentsTransitionEnter_2A5ZS",CommentsTransitionEnterActive:"comment_thread_CommentsTransitionEnterActive_3AA51",CommentsTransitionEntered:"comment_thread_CommentsTransitionEntered_3a6pX",CommentsTransitionExit:"comment_thread_CommentsTransitionExit_3Ji_a",CommentsTransitionExitActive:"comment_thread_CommentsTransitionExitActive_BKTho",CommenterandTime:"comment_thread_CommenterandTime_2ZgNK",CommentHeader:"comment_thread_CommentHeader_25wbo",CommentAvatar:"comment_thread_CommentAvatar_EHOCB",ActorName:"comment_thread_ActorName_3E5S5",HeaderChildren:"comment_thread_HeaderChildren_2ty0f",CommentTime:"comment_thread_CommentTime_2310B",CommentBody:"comment_thread_CommentBody_1ltVe",CommentText:"comment_thread_CommentText_3Xbao",CommentRatingButton:"comment_thread_CommentRatingButton_2ftHa",CommentRating:"comment_thread_CommentRating_1L2eb",UserRated:"comment_thread_UserRated_2gr2M",HasRating:"comment_thread_HasRating_3pOjE",NeedsMaxHeight:"comment_thread_NeedsMaxHeight_qDVWY",RatingBar:"comment_thread_RatingBar_1yWgP",CommentButton:"comment_thread_CommentButton_3i62H",Reactions:"comment_thread_Reactions_35yrb",LikeCount:"comment_thread_LikeCount_3grvn",CommentCount:"comment_thread_CommentCount_2RkIc",ReactionCount:"comment_thread_ReactionCount_1S3Q9",ButtonSpacer:"comment_thread_ButtonSpacer_21jcw",LikeButton:"comment_thread_LikeButton_161IK",CanClick:"comment_thread_CanClick_3Mds9",RatingIcon:"comment_thread_RatingIcon_2AVfX",ReactionSvg:"comment_thread_ReactionSvg_1Wl4V",LikeIcon:"comment_thread_LikeIcon_1OhPt",CommentIcon:"comment_thread_CommentIcon_1R6Ou",ReactionIcon:"comment_thread_ReactionIcon_QL3Aa",IsPopup:"comment_thread_IsPopup_6VD4D",AddReply:"comment_thread_AddReply_2Yybx",BackgroundEffects:"comment_thread_BackgroundEffects_2lVtD",ParticleBurst:"comment_thread_ParticleBurst_Lv_UB",Shown:"comment_thread_Shown_kfRj0",ThreadLoading:"comment_thread_ThreadLoading_3viqq"}},Lql7:function(e,t,n){e.exports={DevSummaryCtn:"creatorhomeembed_DevSummaryCtn_1k0S-",LargeFormat:"creatorhomeembed_LargeFormat_1090T",CreatorDescCtn:"creatorhomeembed_CreatorDescCtn_3nKoQ",SmallFormat:"creatorhomeembed_SmallFormat_18tLe",DevSummaryWidgetCtn:"creatorhomeembed_DevSummaryWidgetCtn_A2B2V",DevSummaryBackground:"creatorhomeembed_DevSummaryBackground_1TsqA",DevSummaryContent:"creatorhomeembed_DevSummaryContent_23xa4",Avatar:"creatorhomeembed_Avatar_3Jepb",CreatorTitleCtn:"creatorhomeembed_CreatorTitleCtn_2T8Ub",CreatorNameName:"creatorhomeembed_CreatorNameName_8196l",CreatorTagline:"creatorhomeembed_CreatorTagline_NX5We",Title:"creatorhomeembed_Title_37vyV",Followers:"creatorhomeembed_Followers_2ZpFi",SocialFollowersCtn:"creatorhomeembed_SocialFollowersCtn_BT3Bj",FollowBtnCtn:"creatorhomeembed_FollowBtnCtn_2artm",FollowButton:"creatorhomeembed_FollowButton_1HwWX",FollowBtnText:"creatorhomeembed_FollowBtnText_1a5dj",SocialContainer:"creatorhomeembed_SocialContainer_1o1Ds",SocialImg:"creatorhomeembed_SocialImg_2v_K1",SocialLink:"creatorhomeembed_SocialLink_3eCVb",CuratorHoverCtn:"creatorhomeembed_CuratorHoverCtn_30j_R",AvatarLink:"creatorhomeembed_AvatarLink_1N0rY"}},MSEM:function(e,t,n){e.exports={Container:"appdetailsreviewsection_Container_3ii4E",InnerContainer:"appdetailsreviewsection_InnerContainer_1dW9d",InnerContainerLower2:"appdetailsreviewsection_InnerContainerLower2_kr3AV",ReviewMetadata:"appdetailsreviewsection_ReviewMetadata_2ID9U",ReviewDescription:"appdetailsreviewsection_ReviewDescription_2xqsV",ReviewPresentGroup:"appdetailsreviewsection_ReviewPresentGroup_1dJCM",ButtonsGroup:"appdetailsreviewsection_ButtonsGroup_3d2-p",ReviewReminderBox:"appdetailsreviewsection_ReviewReminderBox_1ckgR",ExitButton:"appdetailsreviewsection_ExitButton_yIgcs",ReviewReminderBoxContent:"appdetailsreviewsection_ReviewReminderBoxContent_3SqzY",EditMyReview:"appdetailsreviewsection_EditMyReview_1FHAI",AdditionalPlaytimeReminder:"appdetailsreviewsection_AdditionalPlaytimeReminder_2dMi-",ChangedYourMind:"appdetailsreviewsection_ChangedYourMind_3RAZj",RecommendGame:"appdetailsreviewsection_RecommendGame_wTCes",ReviewIcon:"appdetailsreviewsection_ReviewIcon_1izIE",ReviewIconThumbsUp:"appdetailsreviewsection_ReviewIconThumbsUp_2BlTq",ReviewIconThumbsDownBox:"appdetailsreviewsection_ReviewIconThumbsDownBox_H3AIY",ReviewIconThumbsUpColor:"appdetailsreviewsection_ReviewIconThumbsUpColor_3QZfw",ReviewIconThumbsDownColor:"appdetailsreviewsection_ReviewIconThumbsDownColor_GUO5K",ReviewIconVoteColor:"appdetailsreviewsection_ReviewIconVoteColor_2tPd7",ThumbsDown:"appdetailsreviewsection_ThumbsDown_267pw",ThumbsUp:"appdetailsreviewsection_ThumbsUp_2CqBH",CommentsGroup:"appdetailsreviewsection_CommentsGroup_2Z3gh",CommentsContainer:"appdetailsreviewsection_CommentsContainer_17u7k",CommentsLabel:"appdetailsreviewsection_CommentsLabel_2EyEa",CommentCount:"appdetailsreviewsection_CommentCount_2FYBw",UpVotesIcon:"appdetailsreviewsection_UpVotesIcon_2cFKq",CommentIcon:"appdetailsreviewsection_CommentIcon_szq-Q",ReviewText:"appdetailsreviewsection_ReviewText_3k8QE",ReviewTextContainer:"appdetailsreviewsection_ReviewTextContainer_1jdWx",RightRow:"appdetailsreviewsection_RightRow_2g73E",PlayedForTime:"appdetailsreviewsection_PlayedForTime_BDa6l",VoteUpDownContainer:"appdetailsreviewsection_VoteUpDownContainer_RUbAG",VoteButton:"appdetailsreviewsection_VoteButton_3jaOU"}},MUT6:function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"f",function(){return b}),n.d(t,"l",function(){return y}),n.d(t,"b",function(){return w}),n.d(t,"n",function(){return O}),n.d(t,"m",function(){return A}),n.d(t,"e",function(){return j}),n.d(t,"g",function(){return P}),n.d(t,"a",function(){return U}),n.d(t,"k",function(){return z}),n.d(t,"j",function(){return W}),n.d(t,"h",function(){return q}),n.d(t,"i",function(){return Y}),n.d(t,"o",function(){return r});var i=n("mrSG"),a=n("hRO2"),o=n("OS8t"),s=n("RD/U"),c=a.Message;var r,l,u=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appids||o.a(r.M()),c.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appids:{n:1,r:!0,q:!0,br:o.d.readInt32,bw:o.h.writeRepeatedInt32},language:{n:2,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetApps_Request"},r}(c),p=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.apps||o.a(r.M()),c.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{apps:{n:1,c:s.a,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetApps_Response"},r}(c),d=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readInt32,bw:o.h.writeInt32},language:{n:2,br:o.d.readString,bw:o.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetAppRichPresenceLocalization_Request"},r}(c),m=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),c.initialize(t,e,0,-1,[2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readInt32,bw:o.h.writeInt32},token_lists:{n:2,c:f,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetAppRichPresenceLocalization_Response"},r}(c),h=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.name||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{name:{n:1,br:o.d.readString,bw:o.h.writeString},value:{n:2,br:o.d.readString,bw:o.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetAppRichPresenceLocalization_Response_Token"},r}(c),f=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.language||o.a(r.M()),c.initialize(t,e,0,-1,[2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{language:{n:1,br:o.d.readString,bw:o.h.writeString},tokens:{n:2,c:h,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetAppRichPresenceLocalization_Response_TokenList"},r}(c),b=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},comment_thread_type:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},gidfeature:{n:3,br:o.d.readFixed64String,bw:o.h.writeFixed64String},gidfeature2:{n:4,br:o.d.readFixed64String,bw:o.h.writeFixed64String},commentthreadid:{n:5,br:o.d.readFixed64String,bw:o.h.writeFixed64String},start:{n:6,br:o.d.readInt32,bw:o.h.writeInt32},count:{n:7,br:o.d.readInt32,bw:o.h.writeInt32},upvoters:{n:8,br:o.d.readInt32,bw:o.h.writeInt32},include_deleted:{n:9,br:o.d.readBool,bw:o.h.writeBool},gidcomment:{n:10,br:o.d.readFixed64String,bw:o.h.writeFixed64String},time_oldest:{n:11,br:o.d.readUint32,bw:o.h.writeUint32},oldest_first:{n:12,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetCommentThread_Request"},r}(c),_=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.gidcomment||o.a(r.M()),c.initialize(t,e,0,-1,[12],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{gidcomment:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},steamid:{n:2,br:o.d.readFixed64String,bw:o.h.writeFixed64String},timestamp:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},text:{n:4,br:o.d.readString,bw:o.h.writeString},upvotes:{n:5,br:o.d.readInt32,bw:o.h.writeInt32},hidden:{n:6,br:o.d.readBool,bw:o.h.writeBool},hidden_by_user:{n:7,br:o.d.readBool,bw:o.h.writeBool},deleted:{n:8,br:o.d.readBool,bw:o.h.writeBool},ipaddress:{n:9,c:s.d},total_hidden:{n:10,br:o.d.readInt32,bw:o.h.writeInt32},upvoted_by_user:{n:11,br:o.d.readBool,bw:o.h.writeBool},reactions:{n:12,c:v,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_Comment"},r}(c),v=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.reactionid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{reactionid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},count:{n:2,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_Comment_Reaction"},r}(c),g=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.comments||o.a(r.M()),c.initialize(t,e,0,-1,[1,2,9],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{comments:{n:1,c:_,r:!0,q:!0},deleted_comments:{n:2,c:_,r:!0,q:!0},steamid:{n:3,br:o.d.readFixed64String,bw:o.h.writeFixed64String},commentthreadid:{n:4,br:o.d.readFixed64String,bw:o.h.writeFixed64String},start:{n:5,br:o.d.readInt32,bw:o.h.writeInt32},count:{n:6,br:o.d.readInt32,bw:o.h.writeInt32},total_count:{n:7,br:o.d.readInt32,bw:o.h.writeInt32},upvotes:{n:8,br:o.d.readInt32,bw:o.h.writeInt32},upvoters:{n:9,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32},user_subscribed:{n:10,br:o.d.readBool,bw:o.h.writeBool},user_upvoted:{n:11,br:o.d.readBool,bw:o.h.writeBool},answer_commentid:{n:12,br:o.d.readFixed64String,bw:o.h.writeFixed64String},answer_actor:{n:13,br:o.d.readUint32,bw:o.h.writeUint32},answer_actor_rank:{n:14,br:o.d.readInt32,bw:o.h.writeInt32},can_post:{n:15,br:o.d.readBool,bw:o.h.writeBool},comment_thread_type:{n:16,br:o.d.readUint32,bw:o.h.writeUint32},gidfeature:{n:17,br:o.d.readFixed64String,bw:o.h.writeFixed64String},gidfeature2:{n:18,br:o.d.readFixed64String,bw:o.h.writeFixed64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetCommentThread_Response"},r}(c),y=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},comment_thread_type:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},gidfeature:{n:3,br:o.d.readFixed64String,bw:o.h.writeFixed64String},gidfeature2:{n:4,br:o.d.readFixed64String,bw:o.h.writeFixed64String},text:{n:6,br:o.d.readString,bw:o.h.writeString},gidparentcomment:{n:7,br:o.d.readFixed64String,bw:o.h.writeFixed64String},suppress_notifications:{n:8,br:o.d.readBool,bw:o.h.writeBool},is_report:{n:9,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_PostCommentToThread_Request"},r}(c),S=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.gidcomment||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{gidcomment:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},commentthreadid:{n:2,br:o.d.readFixed64String,bw:o.h.writeFixed64String},count:{n:3,br:o.d.readInt32,bw:o.h.writeInt32},upvotes:{n:4,br:o.d.readInt32,bw:o.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_PostCommentToThread_Response"},r}(c),w=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},comment_thread_type:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},gidfeature:{n:3,br:o.d.readFixed64String,bw:o.h.writeFixed64String},gidfeature2:{n:4,br:o.d.readFixed64String,bw:o.h.writeFixed64String},gidcomment:{n:5,br:o.d.readFixed64String,bw:o.h.writeFixed64String},undelete:{n:6,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_DeleteCommentFromThread_Request"},r}(c),C=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CCommunity_DeleteCommentFromThread_Response"},r}(c),O=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.commentthreadtype||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{commentthreadtype:{n:1,br:o.d.readString,bw:o.h.writeString},steamid:{n:2,br:o.d.readUint64String,bw:o.h.writeUint64String},gidfeature:{n:3,br:o.d.readUint64String,bw:o.h.writeUint64String},gidfeature2:{n:4,br:o.d.readUint64String,bw:o.h.writeUint64String},gidcomment:{n:5,br:o.d.readUint64String,bw:o.h.writeUint64String},rate_up:{n:6,br:o.d.readBool,bw:o.h.writeBool},suppress_notifications:{n:7,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_RateCommentThread_Request"},r}(c),E=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.gidcomment||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{gidcomment:{n:1,br:o.d.readUint64String,bw:o.h.writeUint64String},commentthreadid:{n:2,br:o.d.readUint64String,bw:o.h.writeUint64String},count:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},upvotes:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},has_upvoted:{n:5,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_RateCommentThread_Response"},r}(c),B=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.commentthreadid||o.a(r.M()),c.initialize(t,e,0,-1,[5],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{commentthreadid:{n:1,br:o.d.readUint64String,bw:o.h.writeUint64String},gidcomment:{n:2,br:o.d.readUint64String,bw:o.h.writeUint64String},upvotes:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},has_upvoted:{n:4,br:o.d.readBool,bw:o.h.writeBool},upvoter_accountids:{n:5,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetCommentThreadRatings_Response"},r}(c),A=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.announcementid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{announcementid:{n:1,br:o.d.readUint64String,bw:o.h.writeUint64String},vote_up:{n:2,br:o.d.readBool,bw:o.h.writeBool},clan_accountid:{n:3,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_RateClanAnnouncement_Request"},r}(c),I=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CCommunity_RateClanAnnouncement_Response"},r}(c),j=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.announcementid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{announcementid:{n:1,br:o.d.readUint64String,bw:o.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetClanAnnouncementVoteForUser_Request"},r}(c),D=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.voted_up||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{voted_up:{n:1,br:o.d.readBool,bw:o.h.writeBool},voted_down:{n:2,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetClanAnnouncementVoteForUser_Response"},r}(c),R=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.avatars||o.a(r.M()),c.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{avatars:{n:1,c:T,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetAvatarHistory_Response"},r}(c),T=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.avatar_sha1||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{avatar_sha1:{n:1,br:o.d.readString,bw:o.h.writeString},user_uploaded:{n:2,br:o.d.readBool,bw:o.h.writeBool},timestamp:{n:3,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetAvatarHistory_Response_AvatarData"},r}(c),M=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.results||o.a(r.M()),c.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{results:{n:1,c:s.b,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetUserPartnerEventNews_Response"},r}(c),N=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.clanid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{clanid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},event_gid:{n:2,br:o.d.readFixed64String,bw:o.h.writeFixed64String},announcement_gid:{n:3,br:o.d.readFixed64String,bw:o.h.writeFixed64String},appid:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},possible_takeover:{n:5,br:o.d.readBool,bw:o.h.writeBool},rtime32_last_modified:{n:6,d:0,br:o.d.readUint32,bw:o.h.writeUint32},user_app_priority:{n:7,br:o.d.readInt32,bw:o.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_PartnerEventResult"},r}(c),L=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.results||o.a(r.M()),c.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{results:{n:1,c:N,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetBestEventsForUser_Response"},r}(c),k=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CCommunity_ClearUserPartnerEventsAppPriorities_Response"},r}(c),F=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},user_app_priority:{n:2,br:o.d.readInt32,bw:o.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_PartnerEventsAppPriority"},r}(c),P=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CCommunity_GetUserPartnerEventsAppPriorities_Request"},r}(c),G=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.priorities||o.a(r.M()),c.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{priorities:{n:1,c:F,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetUserPartnerEventsAppPriorities_Response"},r}(c),U=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_ClearSinglePartnerEventsAppPriority_Request"},r}(c),x=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CCommunity_ClearSinglePartnerEventsAppPriority_Response"},r}(c),z=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_PartnerEventsShowMoreForApp_Request"},r}(c),H=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CCommunity_PartnerEventsShowMoreForApp_Response"},r}(c),W=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_PartnerEventsShowLessForApp_Request"},r}(c),V=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CCommunity_PartnerEventsShowLessForApp_Response"},r}(c),q=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.markings||o.a(r.M()),c.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{markings:{n:1,c:Y,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_MarkPartnerEventsForUser_Request"},r}(c),Y=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.clanid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{clanid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},event_gid:{n:2,br:o.d.readFixed64String,bw:o.h.writeFixed64String},display_location:{n:3,br:o.d.readEnum,bw:o.h.writeEnum},mark_shown:{n:4,br:o.d.readBool,bw:o.h.writeBool},mark_read:{n:5,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_MarkPartnerEventsForUser_Request_PartnerEventMarking"},r}(c),Q=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CCommunity_MarkPartnerEventsForUser_Response"},r}(c),Z=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.events||o.a(r.M()),c.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{events:{n:1,c:K,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetUserPartnerEventViewStatus_Response"},r}(c),K=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.event_gid||o.a(r.M()),c.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{event_gid:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},last_shown_time:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},last_read_time:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},clan_account_id:{n:4,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCommunity_GetUserPartnerEventViewStatus_Response_PartnerEvent"},r}(c);(l=r=r||{}).GetApps=function(e,t){return e.SendMsg("Community.GetApps#1",t,p,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},l.GetAppRichPresenceLocalization=function(e,t){return e.SendMsg("Community.GetAppRichPresenceLocalization#1",t,m,{ePrivilege:1})},l.GetCommentThread=function(e,t){return e.SendMsg("Community.GetCommentThread#1",t,g,{ePrivilege:1})},l.PostCommentToThread=function(e,t){return e.SendMsg("Community.PostCommentToThread#1",t,S,{ePrivilege:3})},l.DeleteCommentFromThread=function(e,t){return e.SendMsg("Community.DeleteCommentFromThread#1",t,C,{ePrivilege:1})},l.RateCommentThread=function(e,t){return e.SendMsg("Community.RateCommentThread#1",t,E,{ePrivilege:3})},l.GetCommentThreadRatings=function(e,t){return e.SendMsg("Community.GetCommentThreadRatings#1",t,B,{ePrivilege:2})},l.RateClanAnnouncement=function(e,t){return e.SendMsg("Community.RateClanAnnouncement#1",t,I,{ePrivilege:3})},l.GetClanAnnouncementVoteForUser=function(e,t){return e.SendMsg("Community.GetClanAnnouncementVoteForUser#1",t,D,{ePrivilege:1})},l.GetAvatarHistory=function(e,t){return e.SendMsg("Community.GetAvatarHistory#1",t,R,{ePrivilege:1})},l.GetUserPartnerEventNews=function(e,t){return e.SendMsg("Community.GetUserPartnerEventNews#1",t,M,{bConstMethod:!0,ePrivilege:1,eWebAPIKeyRequirement:2})},l.GetBestEventsForUser=function(e,t){return e.SendMsg("Community.GetBestEventsForUser#1",t,L,{bConstMethod:!0,ePrivilege:1,eWebAPIKeyRequirement:2})},l.MarkPartnerEventsForUser=function(e,t){return e.SendMsg("Community.MarkPartnerEventsForUser#1",t,Q,{ePrivilege:1})},l.GetUserPartnerEventViewStatus=function(e,t){return e.SendMsg("Community.GetUserPartnerEventViewStatus#1",t,Z,{bConstMethod:!0,ePrivilege:1})},l.PartnerEventsShowMoreForApp=function(e,t){return e.SendMsg("Community.PartnerEventsShowMoreForApp#1",t,H,{ePrivilege:1})},l.PartnerEventsShowLessForApp=function(e,t){return e.SendMsg("Community.PartnerEventsShowLessForApp#1",t,V,{ePrivilege:1})},l.ClearUserPartnerEventsAppPriorities=function(e,t){return e.SendMsg("Community.ClearUserPartnerEventsAppPriorities#1",t,k,{ePrivilege:1})},l.GetUserPartnerEventsAppPriorities=function(e,t){return e.SendMsg("Community.GetUserPartnerEventsAppPriorities#1",t,G,{ePrivilege:1})},l.ClearSinglePartnerEventsAppPriority=function(e,t){return e.SendMsg("Community.ClearSinglePartnerEventsAppPriority#1",t,x,{ePrivilege:1})}},Mgs7:function(e,t,n){"use strict";n.d(t,"l",function(){return _.j}),n.d(t,"t",function(){return _.q}),n.d(t,"i",function(){return _.g}),n.d(t,"n",function(){return _.k}),n.d(t,"c",function(){return _.b}),n.d(t,"b",function(){return _.a}),n.d(t,"v",function(){return _.t}),n.d(t,"u",function(){return _.s}),n.d(t,"f",function(){return _.e}),n.d(t,"j",function(){return _.h}),n.d(t,"g",function(){return _.f}),n.d(t,"s",function(){return _.p}),n.d(t,"d",function(){return _.c}),n.d(t,"k",function(){return _.i}),n.d(t,"o",function(){return _.m}),n.d(t,"p",function(){return _.n}),n.d(t,"e",function(){return _.d}),n.d(t,"q",function(){return _.o}),n.d(t,"m",function(){return c}),n.d(t,"h",function(){return C}),n.d(t,"r",function(){return D}),n.d(t,"a",function(){return T});var _=n("fWuz"),h=n("mrSG"),v=n("q1tI"),g=n("6Y59"),r=n("bxiW"),y=n("TLQK"),i=n("hJxo"),a=n("r64O"),o=n("z7tf"),S=n("+d9t");function s(e){var t=e.htmlElementRef,n=Object(h.f)(e,["htmlElementRef"]);return v.createElement("input",Object(h.a)({},n,{ref:t}))}function f(e){var t=Object(o.b)();return v.createElement(S.e,Object(h.a)({component:null==t?void 0:t.InputElement,fallback:s},e))}var c=function(n){function e(e){var t=n.call(this,e)||this;return t.CheckProps(e),t.state={m_CopiedYPos:0,m_bPlayingCopiedAnimation:!1,m_bCompletedCopiedAnimation:!1,m_bNumberBelowMinRange:!1,m_bNumberAboveMaxRange:!1,m_bIsNotNumeric:!1,m_bIsInvalidURL:!1,m_bIsInvalidEmail:!1},t}return Object(h.d)(e,n),e.prototype.componentDidUpdate=function(e){this.CheckProps(this.props)},e.prototype.OnInputRef=function(e){this.m_elInput=e,this.m_elInput&&this.props.focusOnMount&&this.m_elInput.focus()},Object.defineProperty(e.prototype,"element",{get:function(){return this.m_elInput},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.m_elInput&&this.m_elInput.value},enumerable:!1,configurable:!0}),e.validateUrl=function(e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/i.test(e)},e.validateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toLowerCase())},e.prototype.Validate=function(){this.setState({m_bNumberBelowMinRange:null!==this.props.rangeMin&&void 0!==this.props.rangeMin&&Number(this.m_elInput.value)<this.props.rangeMin,m_bNumberAboveMaxRange:null!==this.props.rangeMax&&void 0!==this.props.rangeMax&&Number(this.m_elInput.value)>this.props.rangeMax,m_bIsNotNumeric:1==this.props.mustBeNumeric&&isNaN(Number(this.m_elInput.value)),m_bIsInvalidURL:1==this.props.mustBeURL&&!e.validateUrl(this.m_elInput.value),m_bIsInvalidEmail:1==this.props.mustBeEmail&&!e.validateEmail(this.m_elInput.value)})},e.prototype.OnChanged=function(e){this.props.onChange&&this.props.onChange(e),this.Validate()},e.prototype.OnCopyClick=function(e){var t,n=this;this.m_elInput&&(this.m_elInput.select(),(t=this.m_elInput.ownerDocument).queryCommandEnabled("copy")&&(t.execCommand("copy"),e.currentTarget.focus(),this.m_CopiedAnimation&&this.m_CopiedAnimation.Cancel(),this.setState({m_bCompletedCopiedAnimation:!1}),this.setState({m_CopiedYPos:-4},function(){n.m_CopiedAnimation=new i.b(n,{m_CopiedYPos:-24},{msDuration:300,timing:"sine",setStateOnComplete:{m_bCompletedCopiedAnimation:!0}}),n.m_CopiedAnimation.Start()})))},e.prototype.OnClearClick=function(e){this.m_elInput&&this.m_elInput.value&&(Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(this.m_elInput,""),this.m_elInput.dispatchEvent(new Event("input",{bubbles:!0})))},e.prototype.CheckProps=function(e){Object(a.a)(!(e.bShowClearAction||e.bAlwaysShowClearAction)||e.onChange,"In order for bShowClearAction to work correctly, you should be handling onChange and passing value to the Dialog.Input.")},e.prototype.render=function(){var e=this.props,t=e.label,n=e.explainer,r=(e.requiredLabel,e.bShowCopyAction),i=e.bShowClearAction,a=e.bAlwaysShowClearAction,o=e.bIsPassword,s=(e.rangeMin,e.rangeMax,e.mustBeNumeric,e.mustBeURL,e.mustBeEmail,e.focusOnMount,e.tooltip,Object(h.f)(e,["label","explainer","requiredLabel","bShowCopyAction","bShowClearAction","bAlwaysShowClearAction","bIsPassword","rangeMin","rangeMax","mustBeNumeric","mustBeURL","mustBeEmail","focusOnMount","tooltip"])),c="DialogInput DialogInputPlaceholder DialogTextInputBase"+(s.className?" "+s.className:""),l="copiedAnimation",u=this.state.m_bCompletedCopiedAnimation;this.m_CopiedAnimation&&(l="copiedAnimation animationPlaying"),u&&(l="copiedAnimation animationComplete");var p={};void 0!==this.state.m_CopiedYPos&&(p.transform="translateY("+this.state.m_CopiedYPos+"px)");var d=void 0;n&&(d=v.createElement("div",{className:"DialogLabelExplainer"},n));var m=v.createElement(v.Fragment,null,v.createElement("div",{className:"DialogInput_Wrapper _DialogLayout"},v.createElement(f,Object(h.a)({type:o?"password":"text"},s,{className:c,htmlElementRef:this.OnInputRef,onChange:this.OnChanged})),r&&v.createElement("div",{className:"displayRow"},v.createElement(_.c,{className:"DialogInput_CopyAction Primary",onClick:this.OnCopyClick},Object(y.f)("#Button_CopyLink")),v.createElement("div",{style:p,className:l},"Link Copied")),(a||i&&s.value)&&v.createElement("div",{className:"DialogInput_ClearAction",onClick:this.OnClearClick},v.createElement(g.Jb,null))),d);return t?v.createElement("div",{className:"DialogInputLabelGroup _DialogLayout "},v.createElement("label",null,v.createElement("div",{className:"DialogLabel"},t," ",this.props.tooltip&&v.createElement("span",{"data-tooltip-text":this.props.tooltip}," (?)"),v.createElement("span",{className:"DialogInputRequirementLabel"},this.props.requiredLabel)," "),m,this.state.m_bNumberBelowMinRange?v.createElement("div",null," ",Object(y.f)("#Input_Error_NumberTooSmall")," "):null,this.state.m_bNumberAboveMaxRange?v.createElement("div",null," ",Object(y.f)("#Input_Error_NumberTooLarge")," "):null,this.state.m_bIsInvalidURL?v.createElement("div",null," ",Object(y.f)("#Input_Error_MustBeURL")," "):null,this.state.m_bIsInvalidEmail?v.createElement("div",null," ",Object(y.f)("#Input_Error_MustBeEmail")," "):null,this.state.m_bIsNotNumeric?v.createElement("div",null," ",Object(y.f)("#Input_Error_MustBeNumber")," "):null)):m},Object(h.c)([r.a],e.prototype,"OnInputRef",null),Object(h.c)([r.a],e.prototype,"OnChanged",null),Object(h.c)([r.a],e.prototype,"OnCopyClick",null),Object(h.c)([r.a],e.prototype,"OnClearClick",null),e}(v.PureComponent),l=(v.Component,n("TtDX")),u=n("P++D"),p=n.n(u),w=n("exH9"),d=n("5E+2"),m=n("6+2x"),b=n.n(m),C=function(n){function e(e){var t=n.call(this,e)||this;return t.state={iSelectedOption:t.FindActiveOptionIndex(e.selectedOption),bOpened:!1},t}return Object(h.d)(e,n),e.prototype.FindAndSetActiveOption=function(e){var t=this.FindActiveOptionIndex(e);t!==this.state.iSelectedOption&&this.setState({iSelectedOption:t})},e.prototype.FindActiveOptionIndex=function(e){for(var t=0;t<this.props.rgOptions.length;t++)if(this.props.rgOptions[t].data===e)return t},Object.defineProperty(e.prototype,"value",{get:function(){return void 0!==this.state.iSelectedOption?this.props.rgOptions[this.state.iSelectedOption]:void 0},enumerable:!1,configurable:!0}),e.prototype.SetSelectedOption=function(e){null!=e?this.FindAndSetActiveOption(e):this.setState({iSelectedOption:void 0})},e.prototype.shouldComponentUpdate=function(e,t,n){if(e.selectedOption!=this.props.selectedOption){this.FindActiveOptionIndex(e.selectedOption);if(this.state.iSelectedOption!==t.iSelectedOption)return!0}if(e.disabled!=this.props.disabled)return!0;if(e.postDropdownElement!=this.props.postDropdownElement)return!0;if(e.postOptionElement!=this.props.postOptionElement)return!0;if(t.bOpened!==this.state.bOpened||t.iSelectedOption!==this.state.iSelectedOption)return!0;for(var r=0,i=["label","tooltip","selectedOption","tabIndex","onChange","strDefaultLabel"];r<i.length;r++){var a=i[r];if(e[a]!==this.props[a])return!0}return!(!this.state.bOpened||!this.DoOptionsDiffer(e.rgOptions))},e.prototype.DoOptionsDiffer=function(e){if(e.length!=this.props.rgOptions.length)return!0;for(var t=0;t<e.length;t++)if(e[t].label!==this.props.rgOptions[t].label)return!0;return!1},e.prototype.componentDidUpdate=function(e){var t;this.DoOptionsDiffer(e.rgOptions)?(void 0===this.state.iSelectedOption||(t=e.rgOptions[this.state.iSelectedOption])&&this.FindAndSetActiveOption(t.data),this.state.bOpened?(this.m_iMenuInstance.SetOnHideCallback(null),this.m_iMenuInstance.Hide(),this.m_iMenuInstance=void 0,this.BuildMenu()):this.m_iMenuInstance&&(this.m_iMenuInstance.SetOnHideCallback(null),this.m_iMenuInstance=void 0)):e.selectedOption!==this.props.selectedOption&&this.FindAndSetActiveOption(this.props.selectedOption)},e.prototype.OnInputRef=function(e){this.m_elInput=e},e.prototype.ToggleMenu=function(){this.state.bOpened?this.HideMenu():this.ShowMenu()},e.prototype.OnItemSelected=function(e,t){this.HideMenu(),this.setState({iSelectedOption:e}),this.props.onChange&&this.props.onChange(void 0!==e?this.props.rgOptions[e]:void 0,this)},e.prototype.BuildMenu=function(){var e,t,n="DialogMenuPosition";this.props.strDropDownClassName&&(n+=" "+this.props.strDropDownClassName);var r=Object(h.a)({bOverlapHorizontal:!0,bMatchWidth:!0,bFitToWindow:!0,strClassName:n,bDisableMouseOverlay:this.props.bDisableMouseOverlay},this.props.contextMenuPositionOptions);this.m_iMenuInstance=Object(l.a)(v.createElement(o.a.Provider,{value:this.context},v.createElement(O,{rgOptions:this.props.rgOptions,fnOnItemSelected:this.OnItemSelected,strDropDownItemClassName:this.props.strDropDownItemClassName})),this.m_elInput,r),this.m_iMenuInstance.SetLabel(null!==(t=null!==(e=this.props.menuLabel)&&void 0!==e?e:this.props.label)&&void 0!==t?t:"string"==typeof this.props.strDefaultLabel&&this.props.strDefaultLabel),this.m_iMenuInstance.SetOnHideCallback(this.HideMenu)},e.prototype.ShowMenu=function(){this.m_iMenuInstance?this.m_iMenuInstance.Show():this.BuildMenu(),this.props.onMenuOpened&&this.props.onMenuOpened(),this.setState({bOpened:!0})},e.prototype.HideMenu=function(){this.m_iMenuInstance&&this.m_iMenuInstance.Hide(),this.setState({bOpened:!1})},e.prototype.render=function(){var e=void 0!==this.state.iSelectedOption&&this.props.rgOptions[this.state.iSelectedOption],t=e?e.label:this.props.strDefaultLabel,n="DialogDropDown _DialogInputContainer",r="DialogInputLabelGroup _DialogLayout";this.state.bOpened&&(n+=" Active"),this.props.disabled&&(n+=" Disabled"),this.props.strClassName&&(r+=" "+this.props.strClassName);var i=v.createElement(v.Fragment,null,this.props.postDropdownElement,!this.props.disabled&&v.createElement("div",{className:"DialogDropDown_Arrow"},v.createElement(g.w,null)),this.props.postOptionElement,v.createElement("div",{className:"DialogDropDown_CurrentDisplay"},t));return v.createElement("div",{className:r},this.props.label&&v.createElement("div",{className:"DialogLabel"},this.props.label,Boolean(this.props.tooltip)&&v.createElement("span",{"data-tooltip-text":this.props.tooltip}," (?)")),this.props.fnRenderControl?this.props.fnRenderControl({className:n,tabIndex:this.props.tabIndex||0,onClick:this.props.disabled?void 0:this.ToggleMenu,htmlElementRef:this.OnInputRef,children:i}):v.createElement("div",{className:n,tabIndex:this.props.tabIndex||0,onClick:this.props.disabled?void 0:this.ToggleMenu,ref:this.OnInputRef},i))},e.contextType=o.a,Object(h.c)([r.a],e.prototype,"OnInputRef",null),Object(h.c)([r.a],e.prototype,"ToggleMenu",null),Object(h.c)([r.a],e.prototype,"OnItemSelected",null),Object(h.c)([r.a],e.prototype,"ShowMenu",null),Object(h.c)([r.a],e.prototype,"HideMenu",null),e}(v.Component);function O(e){var t=Object(o.b)();return v.createElement(S.e,Object(h.a)({component:t.DropDownMenu,fallback:E},e))}function E(n){function r(e){var t=parseInt(e.currentTarget.getAttribute("data-dropdown-index"));(t||0===t)&&0<=t&&t<n.rgOptions.length&&n.fnOnItemSelected(t,n.rgOptions[t])}var i=Object(w.a)(p.a.DialogDropDownMenu_Item,n.strDropDownItemClassName),e=n.rgOptions.map(function(e,t){return v.createElement(S.e,{component:n.renderMenuItem,fallback:"div",key:t,className:Object(w.a)(i,e.strOptionClass),"data-dropdown-index":t,onClick:r},Boolean(e.tooltip)?v.createElement(d.d,{toolTipContent:e.tooltip,strTooltipClassname:b.a.HoverAboveModal},e.label):v.createElement(v.Fragment,null,e.label))});return v.createElement(S.e,{component:n.renderMenuContainer,fallback:"div",className:Object(w.a)(p.a.DialogDropDownMenu,"_DialogInputContainer")},e)}v.Component,n("JqJm");var B=n("zBSo"),A=n.n(B);function I(e){return v.createElement("div",Object(h.a)({},e))}function j(e){var t=e.title,n=(e.icon,e.active,Object(h.f)(e,["title","icon","active"]));return v.createElement("div",Object(h.a)({},n),t)}function D(e){var t=Object(o.b)();return v.createElement(S.e,Object(h.a)({component:t.PagedSettings,fallback:R},e))}var R=v.forwardRef(function(i,e){var t,n,a=null!==(t=i.stylesheet)&&void 0!==t?t:A.a,r=null!=i.startingPage?i.pages.map(function(e){return e.identifier}).indexOf(i.startingPage):-1,o=null==i.page,s=v.useState(r),c=s[0],l=s[1],u=o?c:i.pages.findIndex(function(e){return e.identifier===i.page}),p=u<0||u>=i.pages.length?0:u,d=i.pages[p],m=i.pages.map(function(e,t){var n,r=e==d;return v.createElement(S.e,{component:i.renderPageListItem,fallback:j,className:Object(w.a)(a.PagedSettingsDialog_PageListItem,((n={})[a.Active]=r,n)),key:e.title,onClick:function(){i.onPageRequested&&i.onPageRequested(e.identifier),e.click?e.click():o&&t!=c&&l(t)},title:e.title,icon:e.icon,active:r})}),h=d.hideTitle,f=!1!==d.enabled,b=null===(n=i.showTitle)||void 0===n||n;return v.createElement("div",{className:Object(w.a)(a.PagedSettingsDialog,i.className),ref:e},v.createElement("div",{className:a.PagedSettingsDialog_PageListColumn},b&&v.createElement("div",{className:a.PagedSettingsDialog_Title},i.title),v.createElement(S.e,{component:i.renderPageList,fallback:I,className:a.PagedSettingsDialog_PageList},m)),v.createElement("div",{className:"DialogContentTransition"},d&&v.createElement(_.e,{className:Object(w.a)(a.PagedSettingsDialog_PageContent,d.pageClassName,{noPermission:!f})},!h&&v.createElement(_.j,null,d.title,v.createElement(_.l,null,!f&&v.createElement(v.Fragment,null,v.createElement(g.P,null),Object(y.f)("#Chat_Settings_Permission_Denied")))),null!=d.content&&v.cloneElement(d.content))))}),T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refTextArea=v.createRef(),e.m_cEntryLength=Number.MAX_VALUE,e}return Object(h.d)(e,t),Object.defineProperty(e.prototype,"textarea",{get:function(){return this.m_refTextArea.current},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.m_refTextArea.current&&this.m_refTextArea.current.value},enumerable:!1,configurable:!0}),e.prototype.focus=function(){this.m_refTextArea.current.focus()},e.prototype.InternalOnInput=function(){var e,t,n=this.m_refTextArea.current,r=this.GetMinHeight(),i=this.GetMaxHeight(),a=n.value.length;void 0===this.m_nTextAreaPadding&&this.CalculatePadding(),a<this.m_cEntryLength&&(e=window.scrollY,n.style.height=r+"px"),n.scrollHeight>i?(n.style.height=i+"px",n.style.overflow="auto"):n.scrollHeight!=n.clientHeight&&(t=Math.max(n.scrollHeight,r),n.style.height=t-this.m_nTextAreaPadding+"px","auto"==n.style.overflow&&(n.style.overflow="hidden")),void 0!==e&&window.scrollTo(window.scrollX,e),this.m_cEntryLength=a},e.prototype.CalculatePadding=function(){var e=getComputedStyle(this.m_refTextArea.current);this.m_nTextAreaPadding=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)},e.prototype.GetMinHeight=function(){return this.props.nMinHeight||20},e.prototype.GetMaxHeight=function(){return this.props.nMaxHeight||500},e.prototype.DeferredInternalOnInput=function(){window.setTimeout(this.InternalOnInput,1)},e.prototype.OnKeyUp=function(e){this.InternalOnInput(),this.props.onKeyUp&&this.props.onKeyUp(e)},e.prototype.OnBlur=function(e){this.DeferredInternalOnInput(),this.props.onBlur&&this.props.onBlur(e)},e.prototype.OnClick=function(e){this.InternalOnInput(),this.props.onClick&&this.props.onClick(e)},e.prototype.OnPaste=function(e){this.DeferredInternalOnInput(),this.props.onPaste&&this.props.onPaste(e)},e.prototype.OnCut=function(e){this.InternalOnInput(),this.props.onCut&&this.props.onCut(e)},e.prototype.componentDidMount=function(){this.m_refTextArea.current.style.overflow="hidden",this.m_refTextArea.current.style.resize="none",this.InternalOnInput()},e.prototype.componentDidUpdate=function(e){e.nMinHeight==this.props.nMinHeight&&e.nMaxHeight==this.props.nMaxHeight||(this.m_cEntryLength=Number.MAX_VALUE),this.m_refTextArea.current.value.length!=this.m_cEntryLength&&this.InternalOnInput()},e.prototype.render=function(){var e=this.props,t=(e.nMinHeight,e.nMaxHeight,Object(h.f)(e,["nMinHeight","nMaxHeight"]));return v.createElement("textarea",Object(h.a)({},t,{ref:this.m_refTextArea,onKeyUp:this.OnKeyUp,onBlur:this.OnBlur,onClick:this.OnClick,onPaste:this.OnPaste,onCut:this.OnCut}))},Object(h.c)([r.a],e.prototype,"InternalOnInput",null),Object(h.c)([r.a],e.prototype,"OnKeyUp",null),Object(h.c)([r.a],e.prototype,"OnBlur",null),Object(h.c)([r.a],e.prototype,"OnClick",null),Object(h.c)([r.a],e.prototype,"OnPaste",null),Object(h.c)([r.a],e.prototype,"OnCut",null),e}(v.Component)},MnIK:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var u=n("mrSG"),p=n("q1tI"),r=n("bxiW"),d=n("lypr"),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bRenderChildren:!1,nPrevRenderWidth:0,nPrevRenderHeight:0},e.m_refContainer=p.createRef(),e}return Object(u.d)(e,t),e.prototype.BLoadAndUnload=function(){return"LoadAndUnload"==(this.props.mode||"JustLoad")},e.prototype.OnVisibilityChange=function(e){var t,n,r,i=this.state.bRenderChildren;i!=e&&(i&&!this.BLoadAndUnload()||(n=t=0,!this.m_refContainer.current||(r=this.m_refContainer.current.GetBoundingClientRect())&&(t=r.width,n=r.height),this.setState({bRenderChildren:e,nPrevRenderWidth:t,nPrevRenderHeight:n}),e&&this.props.onRender&&this.props.onRender()))},e.prototype.render=function(){var e,t,n=this.props,r=n.placeholderWidth,i=n.placeholderHeight,a=(n.onRender,n.style),o=(n.mode,Object(u.f)(n,["placeholderWidth","placeholderHeight","onRender","style","mode"])),s=this.state.bRenderChildren,c=a;s||(e=this.state.nPrevRenderWidth||r,void 0===(t=this.state.nPrevRenderHeight||i)&&void 0===e||(c=Object(u.a)(Object(u.a)({},a),{minHeight:t,minWidth:e})));var l=this.BLoadAndUnload()?"repeated":"once";return p.createElement(d.a,Object(u.a)({ref:this.m_refContainer,style:c},o,{onVisibiltyChange:this.OnVisibilityChange,trigger:l}),s&&this.props.children)},Object(u.c)([r.a],e.prototype,"OnVisibilityChange",null),e}(p.Component)},"Mp+T":function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",Container:"allcollections_Container_1TBJ1",ScrollContainer:"allcollections_ScrollContainer_u1xD3",EventContainer:"allcollections_EventContainer_In4ZE",Header:"allcollections_Header_2Th-v",Label:"allcollections_Label_3ONu7",Rule:"allcollections_Rule_2wbrx",Grid:"allcollections_Grid_Ma65K",CollectionLabel:"allcollections_CollectionLabel_1J1LQ",NewCollection:"allcollections_NewCollection_2_dwx",BigPlus:"allcollections_BigPlus_g0-tU",DisplayCaseContainer:"allcollections_DisplayCaseContainer_3vMgn",Collection:"allcollections_Collection_3IWn-",ShowcaseView:"allcollections_ShowcaseView_2TPav",CollectionImage:"allcollections_CollectionImage_2ERAQ",Canvas:"allcollections_Canvas_1OjPy",CollectionBG:"allcollections_CollectionBG_akZKn",BackgroundImage:"allcollections_BackgroundImage_2I7jw",DisplayCaseContainerBounds:"allcollections_DisplayCaseContainerBounds_3n796",AppGrid:"allcollections_AppGrid_2UWA0",CapsuleImage:"allcollections_CapsuleImage_2zbkb",Has1Apps:"allcollections_Has1Apps_3R8nX",Has2Apps:"allcollections_Has2Apps_Bd6i4",Has3Apps:"allcollections_Has3Apps_Prq7G",Has4Apps:"allcollections_Has4Apps_1UOoh",Has5Apps:"allcollections_Has5Apps_Egp_5",Has6Apps:"allcollections_Has6Apps_l6g9X",Has7Apps:"allcollections_Has7Apps_h3HbO",CollectionLabelCount:"allcollections_CollectionLabelCount_36QQL",Medium:"allcollections_Medium_3iJN6",Small:"allcollections_Small_3W8lK",DropOption:"allcollections_DropOption_-D43E",DropTarget:"allcollections_DropTarget_2AN97",NavTimer:"allcollections_NavTimer_2Tnpa",Message:"allcollections_Message_1XmVt",StartTimer:"allcollections_StartTimer_3rL54",TimerCountdown:"allcollections_TimerCountdown_3fcw2",Image:"allcollections_Image_1Nb1z",Highlight:"allcollections_Highlight_X8C93"}},N0Ye:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n("TLQK");function i(e){switch(e){case 29:case 27:case 2:case 4:case 5:case 6:case 8:case 7:case 9:case 11:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 35:case 25:case 26:case 31:case 32:case 1:case 34:return!0}return!1}function a(e){var t="#PartnerEvent_"+e,n=Object(r.f)(t);return n!=t?n:Object(r.f)("#PartnerEvent_Other")}},N6Aq:function(e,t,n){e.exports={LoginDialog:"login_LoginDialog_2Hj3a",AccountPasswordPanel:"login_AccountPasswordPanel_2LBKJ",LoginPanelBackground:"login_LoginPanelBackground_3Xp1H",LoginPanelContent:"login_LoginPanelContent_UB5zI",ErrorMessage:"login_ErrorMessage_3oDNF",AccountPasswordForm:"login_AccountPasswordForm_2Mp7X",AuthenticationPanel:"login_AuthenticationPanel_ApHu0",AccountNameLabel:"login_AccountNameLabel_1WzDF",MedName:"login_MedName_3V1uw",LargeName:"login_LargeName_142CN",PasswordDots:"login_PasswordDots_1Xbz8",MedPass:"login_MedPass_2pUx4",LargePass:"login_LargePass_3268n",AccountFieldHeader:"login_AccountFieldHeader_2bLG3",PasswordFieldHeader:"login_PasswordFieldHeader_a3a45",NeedHelpLink:"login_NeedHelpLink_1Mi1l",NeedHelpHighlight:"login_NeedHelpHighlight_2RCec",CreateAccountLink:"login_CreateAccountLink_x0Czn",LoginCreateSeperator:"login_LoginCreateSeperator__TANI",RefreshCaptchaText:"login_RefreshCaptchaText_1_C2P",SigningInAccountName:"login_SigningInAccountName_2Tg37",SigninTitle:"login_SigninTitle_xJ2mR",RememberMeCheck:"login_RememberMeCheck_1caeW",SteamUpsellContainer:"login_SteamUpsellContainer_2Ge6a",SteamUpsell:"login_SteamUpsell_3r5LW",CaptchaContainer:"login_CaptchaContainer_1waDj",CaptchaBlock:"login_CaptchaBlock_1ltax",CaptchaImageAndInput:"login_CaptchaImageAndInput_3HUT2",CaptchaImageBox:"login_CaptchaImageBox_dzf2f",CaptchaImage:"login_CaptchaImage_3I-c1",CaptchaInput:"login_CaptchaInput_FnbII",AuthenticatorInputcontainer:"login_AuthenticatorInputcontainer_2_2v6",Highlight:"login_Highlight_1tsys",LoginComplete:"login_LoginComplete_2aP2X"}},NJ5m:function(e,t,n){e.exports={Container:"removegamehover_Container_1rdB7",DropTarget:"removegamehover_DropTarget_3m8OW",Message:"removegamehover_Message_oYmrg",AppName:"removegamehover_AppName_1cn0X",CollectionName:"removegamehover_CollectionName_3Wdcn",GameIcon:"removegamehover_GameIcon_1dTM4",RemoveBoxTransition:"removegamehover_RemoveBoxTransition_r8ECw",RemoveBoxTransitionEnter:"removegamehover_RemoveBoxTransitionEnter_3-cet",RemoveBoxTransitionEnterActive:"removegamehover_RemoveBoxTransitionEnterActive_xeppC",RemoveBoxTransitionEntered:"removegamehover_RemoveBoxTransitionEntered_3RoEQ",RemoveBoxTransitionExit:"removegamehover_RemoveBoxTransitionExit_3ZbbQ",RemoveBoxTransitionExitActive:"removegamehover_RemoveBoxTransitionExitActive_uNwHZ"}},NKJh:function(e,t,n){e.exports={headerCapsuleImgWidth:"460",headerCapsuleImgHeight:"215",mainCapsuleImgWidth:"616",mainCapsuleImgHeight:"353",libraryAssetImgWidth:"300",libraryAssetImgHeight:"450",StoreSaleWidgetContainer:"salepreviewwidgets_StoreSaleWidgetContainer_2hhNO",LibraryAssetExpandedDisplay:"salepreviewwidgets_LibraryAssetExpandedDisplay_PZY_7",SaleItemFullCapsuleDisplay:"salepreviewwidgets_SaleItemFullCapsuleDisplay_2sVvR",StoreSaleDiscountBox:"salepreviewwidgets_StoreSaleDiscountBox_cnkoF",StoreSaleWidgetImage:"salepreviewwidgets_StoreSaleWidgetImage_yvqq8",CapsuleMicroTrailer:"salepreviewwidgets_CapsuleMicroTrailer_1M7n5",StoreSaleWidgetTitle:"salepreviewwidgets_StoreSaleWidgetTitle_2ekpT",CapsulePlatform:"salepreviewwidgets_CapsulePlatform_2bCf9",StoreSaleWidgetContents:"salepreviewwidgets_StoreSaleWidgetContents_Agwfe",StoreSaleItemRelease:"salepreviewwidgets_StoreSaleItemRelease_vCEpe",StoreSaleItemDev:"salepreviewwidgets_StoreSaleItemDev_3tIbO",StoreSaleItemReview:"salepreviewwidgets_StoreSaleItemReview_Kx5Nf",StoreSaleWidgetLeft:"salepreviewwidgets_StoreSaleWidgetLeft_3DkfN",TitleCtn:"salepreviewwidgets_TitleCtn_3rrH9",StoreSaleWidgetCrossCenterRight:"salepreviewwidgets_StoreSaleWidgetCrossCenterRight_oW0H1",CapsuleBottomBar:"salepreviewwidgets_CapsuleBottomBar_3lmdE",StoreSaleWidgetBgTint:"salepreviewwidgets_StoreSaleWidgetBgTint_MvLJD",SaleTagBlockCtn:"salepreviewwidgets_SaleTagBlockCtn_1ZqQL",StoreSaleWidgetCenter:"salepreviewwidgets_StoreSaleWidgetCenter_2asUT",StoreSaleWidgetRight:"salepreviewwidgets_StoreSaleWidgetRight_v9uRg",StoreSaleWidgetReleaseAndTags:"salepreviewwidgets_StoreSaleWidgetReleaseAndTags_3wryh",StoreSaleWidgetRelease:"salepreviewwidgets_StoreSaleWidgetRelease_1qvTF",StoreSaleWidgetTags:"salepreviewwidgets_StoreSaleWidgetTags_2bkP-",AppTag:"salepreviewwidgets_AppTag_3FJnZ",StoreSaleWidgetShortDesc:"salepreviewwidgets_StoreSaleWidgetShortDesc_3AsE5",TagTitle:"salepreviewwidgets_TagTitle_v1i4W",TagBox:"salepreviewwidgets_TagBox_1lqaD",Tag:"salepreviewwidgets_Tag_33yqk",StoreSaleBroadcastWidgetRight:"salepreviewwidgets_StoreSaleBroadcastWidgetRight_9VjYX",StoreActionWidgetContainer:"salepreviewwidgets_StoreActionWidgetContainer_kW6m4",StoreSalePriceActionWidgetContainer:"salepreviewwidgets_StoreSalePriceActionWidgetContainer_1JuIp",WishList:"salepreviewwidgets_WishList_1djkd",Action:"salepreviewwidgets_Action_2zssE",StoreSalePriceWidgetContainer:"salepreviewwidgets_StoreSalePriceWidgetContainer_2s-O5",InGameHover:"salepreviewwidgets_InGameHover_axjdi",StoreSalePriceBox:"salepreviewwidgets_StoreSalePriceBox_3j4dI",StoreSaleDiscountedPriceCtn:"salepreviewwidgets_StoreSaleDiscountedPriceCtn_3NhLu",StoreOriginalPrice:"salepreviewwidgets_StoreOriginalPrice_3fFFs",Discounted:"salepreviewwidgets_Discounted_1g0B-",BaseDiscount:"salepreviewwidgets_BaseDiscount_3mInD",StoreSalePriceButton:"salepreviewwidgets_StoreSalePriceButton_1BejQ",OuterCapsuleContainer:"salepreviewwidgets_OuterCapsuleContainer_1dKR2",CapsuleContainer:"salepreviewwidgets_CapsuleContainer_22Acx",EventRow:"salepreviewwidgets_EventRow_1UMFn",Muted:"salepreviewwidgets_Muted_1HVwz",BottomBarPriceInfo:"salepreviewwidgets_BottomBarPriceInfo_1X3j2",PlayNowButton:"salepreviewwidgets_PlayNowButton_38ePa",AddToLibraryButton:"salepreviewwidgets_AddToLibraryButton_1DrDh",HeaderCapsuleImageContainer:"salepreviewwidgets_HeaderCapsuleImageContainer_2oW_y",MainCapsuleImageContainer:"salepreviewwidgets_MainCapsuleImageContainer_1vpxH",LibraryAssetImageContainer:"salepreviewwidgets_LibraryAssetImageContainer_1ziMX",LibraryFallbackAssetImageContainer:"salepreviewwidgets_LibraryFallbackAssetImageContainer_1APLS",FallbackBackground:"salepreviewwidgets_FallbackBackground_3chRZ",CapsuleImage:"salepreviewwidgets_CapsuleImage_2eQ4m",LinkCapsuleImage:"salepreviewwidgets_LinkCapsuleImage_2xO8H",CapsuleParentInfo:"salepreviewwidgets_CapsuleParentInfo_2erfW",Banner:"salepreviewwidgets_Banner_2gxv9",Blue:"salepreviewwidgets_Blue_2o-5t",LinesImg:"salepreviewwidgets_LinesImg_3LecB",CapsuleDecorators:"salepreviewwidgets_CapsuleDecorators_1xNQc",CapsuleMenuButton:"salepreviewwidgets_CapsuleMenuButton_niVR8",PreviewItem:"salepreviewwidgets_PreviewItem_2yhQb",BundleContentsCtnTransition:"salepreviewwidgets_BundleContentsCtnTransition_24KNc",Expanding:"salepreviewwidgets_Expanding_38KIq",Expanded:"salepreviewwidgets_Expanded_hPc1l",Collapsing:"salepreviewwidgets_Collapsing_2NmI1",BundleContentsCtn:"salepreviewwidgets_BundleContentsCtn_34acu",BundleContentsTitle:"salepreviewwidgets_BundleContentsTitle_hhdk8",BundleShowButton:"salepreviewwidgets_BundleShowButton_2Vu78",ShowContentsButton:"salepreviewwidgets_ShowContentsButton_-VlK4",ShowContentsSection:"salepreviewwidgets_ShowContentsSection_fsPeL",BundleContentItem:"salepreviewwidgets_BundleContentItem_2sdNO",BundleContentPreview:"salepreviewwidgets_BundleContentPreview_jQ5Ga",SaleItemBrowserRow:"salepreviewwidgets_SaleItemBrowserRow_gASJ2",PreviewCtn:"salepreviewwidgets_PreviewCtn_1NM53",PreviewImg:"salepreviewwidgets_PreviewImg_1jx70",bordered_live_stream_icon:"salepreviewwidgets_bordered_live_stream_icon_2E28o",DemoLayoutPopup:"salepreviewwidgets_DemoLayoutPopup_2tmp2",StoreSaleWidgetHalfLeft:"salepreviewwidgets_StoreSaleWidgetHalfLeft_111nf",StoreSaleWidgetHalfRight:"salepreviewwidgets_StoreSaleWidgetHalfRight_2zN4Q"}},NgKn:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("mrSG"),i=n("q1tI"),a=n("bxiW"),o=n("qiKp"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_schUpdate=new o.b,e.m_bSetupComplete=!1,e}return Object(r.d)(e,t),e.prototype.componentDidMount=function(){0==this.props.updateRate&&this.updateCanvas()},e.prototype.componentWillUnmount=function(){this.m_schUpdate.Cancel()},e.prototype.componentDidUpdate=function(){this.updateCanvas()},e.prototype.BindCanvasRef=function(e){this.m_elCanvas=e},e.prototype.updateCanvas=function(){var e,t,n,r,i,a,o=this;null==this.props.elementRef||null==this.m_elCanvas||this.m_bSetupComplete||(e=this.props.scaleFactor||[1,1],t=this.props.elementRef,n=this.props.updateRate,this.m_Context=this.m_elCanvas.getContext("2d"),r=Math.floor(this.m_elCanvas.clientWidth/this.props.reductionFactor),i=Math.floor(this.m_elCanvas.clientHeight/this.props.reductionFactor),this.m_elCanvas.width=r,this.m_elCanvas.height=i,0<this.props.blurAmount&&(this.m_Context.filter="blur("+this.props.blurAmount+"px)"),(a=function(){o.m_Context.drawImage(t,0,0,r*e[0],i*e[1]),0<n&&o.m_schUpdate.Schedule(n,a)})(),this.m_bSetupComplete=!0)},e.prototype.render=function(){return i.createElement("canvas",{id:this.props.id,className:this.props.className,ref:this.BindCanvasRef,width:this.props.width,height:this.props.height})},Object(r.c)([a.a],e.prototype,"BindCanvasRef",null),Object(r.c)([a.a],e.prototype,"updateCanvas",null),e}(i.Component)},NqJg:function(e,t,n){e.exports={CropImage:"cropmodal_CropImage_3qfqT",CropPreviewGroup:"cropmodal_CropPreviewGroup_1RI-Q",CropPreviewLabel:"cropmodal_CropPreviewLabel_3_zyL"}},NtSG:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("hRO2");r.Message;function i(e){return"unknown EMsg ( "+e+" )"}},O0NR:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return m});var r,i,a=n("vDqi"),o=n.n(a),s=n("lkRc"),c=n("qiKp"),l=n("KEpR");(i=r=r||{})[i.k_eDiscussions=0]="k_eDiscussions",i[i.k_eThumbsUp=1]="k_eThumbsUp",i[i.k_eClickThrough=2]="k_eClickThrough",i[i.k_eMuted=3]="k_eMuted",i[i.k_ePlayedVideo=4]="k_ePlayedVideo",i[i.k_eReminder_Opened=5]="k_eReminder_Opened",i[i.k_eReminder_MobilePush=6]="k_eReminder_MobilePush",i[i.k_eReminder_Email=7]="k_eReminder_Email",i[i.k_eReminder_CalendarApple=8]="k_eReminder_CalendarApple",i[i.k_eReminder_CalendarGoogle=9]="k_eReminder_CalendarGoogle",i[i.k_eReminder_CalendarOutlook=10]="k_eReminder_CalendarOutlook",i[i.k_eReminder_EmailUnverified=11]="k_eReminder_EmailUnverified",i[i.k_eReminder_MobilePushMissing=12]="k_eReminder_MobilePushMissing";var m=new(function(){function e(){this.m_nPastViewedIndex=0,this.m_nPastViewedDays=0,this.m_nFutureViewedIndex=0,this.m_nFutureViewableEvents=0,this.m_nLastRecordedFilter=0,this.m_sBrowserID=void 0,this.m_scheduledFilterChange=new c.b,this.m_scheduledFutureStats=new c.b,this.m_scheduledPastStats=new c.b}return e.prototype.RecordViewedEvent=function(t,e){for(var n,r,i=this,a=t.GetStoreInitializationTimestamp().getTime()/1e3,o=this.m_nFutureViewableEvents=0,s=void 0,c=null,l=0,u=t.GetCurrentlyLoadedItemsForStats();l<u.length;l++){var p=u[l],d=p.start_time>a;if(p.unique_id==e&&(s=o,c=p),d)this.m_nFutureViewableEvents++;else if(void 0!==s)break;o++}void 0!==s&&(s<this.m_nFutureViewableEvents?(n=this.m_nFutureViewableEvents-s,this.m_nFutureViewedIndex<n&&(this.m_nFutureViewedIndex=n,this.m_scheduledFutureStats.Schedule(500,function(){var e=Math.min(i.m_nFutureViewedIndex,4095)|Math.min(i.m_nFutureViewableEvents,255)<<12|Math.min(i.GetTimeSpentOnPageS(t),2047)<<20;m.SendExperimentEventToSteam(18,e)}))):(r=s-this.m_nFutureViewableEvents,this.m_nPastViewedIndex<r&&(this.m_nPastViewedIndex=r,this.m_nPastViewedDays=Math.floor((a-c.start_time)/86400),this.m_scheduledPastStats.Schedule(500,function(){var e=Math.min(i.m_nPastViewedIndex,4095)|Math.min(i.m_nPastViewedDays,255)<<12|Math.min(i.GetTimeSpentOnPageS(t),2047)<<20;m.SendExperimentEventToSteam(17,e)}))))},e.prototype.RecordFilterChangeEvent=function(t){var n=this;this.m_scheduledFilterChange.Schedule(1e3,function(){var e=0;t.BIsGameSourceAllowed(l.c.k_ELibrary)&&(e|=1),t.BIsGameSourceAllowed(l.c.k_EWishlist)&&(e|=2),t.BIsGameSourceAllowed(l.c.k_EFollowing)&&(e|=4),t.BIsGameSourceAllowed(l.c.k_ERecommended)&&(e|=8),t.BIsGameSourceAllowed(l.c.k_ESteam)&&(e|=16),t.BIsGameSourceAllowed(l.c.k_EFeatured)&&(e|=32),t.BIsGameSourceAllowed(l.c.k_ERecent)&&(e|=64),t.BIsEventTypeGroupAllowed(l.b.k_ENews)&&(e|=1024),t.BIsEventTypeGroupAllowed(l.b.k_EEvents)&&(e|=2048),t.BIsEventTypeGroupAllowed(l.b.k_EStreaming)&&(e|=4096),t.BIsEventTypeGroupAllowed(l.b.k_EUpdates)&&(e|=8192),t.BIsEventTypeGroupAllowed(l.b.k_EReleases)&&(e|=16384),t.BIsEventTypeGroupAllowed(l.b.k_ESales)&&(e|=32768),e!=n.m_nLastRecordedFilter&&(n.m_nLastRecordedFilter=e,n.SendExperimentEventToSteam(16,e))})},e.prototype.GetTimeSpentOnPageS=function(e){var t=e.GetStoreInitializationTimestamp(),n=new Date;return Math.max(0,Math.floor((n.getTime()-t.getTime())/1e3))},e.prototype.RecordAppInteractionEvent=function(e,t){this.SendExperimentEventToSteam(19,t)},e.prototype.SendExperimentEventToSteam=function(e,t){this.InitBrowserID();var n=s.c.STORE_BASE_URL+"events/ajaxreportnewshubstats/",r=new URLSearchParams;r.append("page_action",""+e),r.append("snr",s.c.SNR),r.append("uint_data",""+t),r.append("str_data",this.m_sBrowserID),o.a.post(n,r)},e.prototype.InitBrowserID=function(){var e;void 0===this.m_sBrowserID&&(s.c.IN_CLIENT?this.m_sBrowserID="steam":(e=navigator.userAgent,/iPhone|iPad|iPod/i.test(e)||/Macintosh/i.test(e)&&/Safari/i.test(e)?this.m_sBrowserID="ios":/Android/i.test(e)?this.m_sBrowserID="android":this.m_sBrowserID=""))},e}());window.g_EventCalendarTrackingStore=m},O6y2:function(e,t,n){e.exports={CollectionShelfBannerCtn:"collectionbanner_CollectionShelfBannerCtn_1UWjF",CollectionShelfBanner:"collectionbanner_CollectionShelfBanner_1qou9",EALogo:"collectionbanner_EALogo_1xN-o",LinkToLandingPage:"collectionbanner_LinkToLandingPage_2EnMa",DisableHover:"collectionbanner_DisableHover_TLEKR",BannerSecondHalf:"collectionbanner_BannerSecondHalf_gDQ8q"}},O9Dg:function(e,t,n){e.exports={CloudConflictModalContent:"cloudconflict_CloudConflictModalContent_3Ps1l",CloudConflictText:"cloudconflict_CloudConflictText_2ZX5N",LastModified:"cloudconflict_LastModified_3CKEa",DialogChoiceDescription:"cloudconflict_DialogChoiceDescription_3x3S4",Newer:"cloudconflict_Newer_1AaLs",DialogChoiceRow:"cloudconflict_DialogChoiceRow_1e3aA",DialogChoiceButton:"cloudconflict_DialogChoiceButton_1NanE"}},OS8t:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"h",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"a",function(){return p});var r=n("mrSG"),h=n("hRO2"),i=h.BinaryReader.prototype,a=h.BinaryWriter.prototype;function o(e){var t={},n=e.fields;for(var r in n){var i=n[r];t[i.n]=i}return t}function s(e,o){var t=e.proto,s=e.fields,c=new t;for(var n in s)!function(e){var t=s[e],n=t.n,r=t.c,i=t.r;t.d,t.q;if(!o.hasOwnProperty(e))return;var a=o[e];r?i?h.Message.setRepeatedWrapperField(c,n,Array.isArray(a)?a.map(function(e){return r.fromObject(e)}):[]):h.Message.setWrapperField(c,n,r.fromObject(a)):h.Message.setField(c,n,a)}(n);return c}function c(e,t,n){e.proto;var r=e.fields,i={};for(var a in r){var o,s,c=r[a],l=c.n,u=c.c,p=c.r,d=c.d,m=c.q;u?p?i[a]=h.Message.toObjectList(h.Message.getRepeatedWrapperField(n,u,l),u.toObject,t):(o=h.Message.getWrapperField(n,u,l,m?1:0))&&(i[a]=u.toObject(t,o)):null===(s=h.Message.getFieldWithDefault(n,l,void 0!==d?d:null))&&!m||(i[a]=s)}return t&&(i.$jspbMessageInstance=n),i}function l(e,t,n){for(;n.nextField()&&!n.isEndGroup();){var r,i,a,o,s,c=e[n.getFieldNumber()];c?(r=c.n,i=c.c,a=c.r,c.d,c.q,o=c.br,i?(s=new i,n.readMessage(s,i.deserializeBinaryFromReader),a?h.Message.addToRepeatedWrapperField(t,r,s,i):h.Message.setWrapperField(t,r,s)):o?(s=o.call(n),a?h.Message.addToRepeatedField(t,r,s):h.Message.setField(t,r,s)):(console.assert(o,"Reader func not set for field number "+r+" in class "+i),n.skipField())):n.skipField()}return t}function u(e,t,n){var r=e.fields;for(var i in r){var a,o=r[i],s=o.n,c=o.c,l=o.r,u=(o.d,o.q),p=o.bw;c?l?((a=h.Message.getRepeatedWrapperField(t,c,s))&&a.length||u)&&n.writeRepeatedMessage(s,a,c.serializeBinaryToWriter):(a=h.Message.getWrapperField(t,c,s,u?1:0))&&n.writeMessage(s,a,c.serializeBinaryToWriter):p?void 0!==(a=h.Message.getField(t,s))&&p.call(n,s,a):console.assert(p,"Writer func not set for field number "+s+" in class "+c)}}function p(e){var t=e.proto;for(var n in e.fields){var r=e.fields[n],i=r.n,a=r.c,o=r.r,s=r.d;r.q;r.hasOwnProperty("d")?t.prototype[n]=d(h.Message.getFieldWithDefault,i,s):t.prototype[n]=a?o?d(h.Message.getRepeatedWrapperField,a,i):function(t,n){return function(e){return void 0===e&&(e=!0),h.Message.getWrapperField(this,t,n,e?1:0)}}(a,i):d(h.Message.getField,i),t.prototype["set_"+n]=m(a?o?h.Message.setRepeatedWrapperField:h.Message.setWrapperField:h.Message.setField,i),o&&(t.prototype["add_"+n]=function(n,r){return r?function(e,t){return h.Message.addToRepeatedWrapperField(this,n,e,r,t)}:function(e,t){h.Message.addToRepeatedField(this,n,e,t)}}(i,a))}}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(void 0,Object(r.g)([this],t))}}function m(t,n){return function(e){return t(this,n,e)}}},OcU3:function(e,t,n){e.exports={DynamicLinkBox:"eventbbcodeyoutubeembed_DynamicLinkBox_1zmYF",DynamicLink_Preview:"eventbbcodeyoutubeembed_DynamicLink_Preview_3Z5cW",DynamicLink_Author:"eventbbcodeyoutubeembed_DynamicLink_Author_xG6te",DynamicLink_Description:"eventbbcodeyoutubeembed_DynamicLink_Description_2Nwb8",DynamicLink_Content:"eventbbcodeyoutubeembed_DynamicLink_Content_10QvP",DynamicLink_Name:"eventbbcodeyoutubeembed_DynamicLink_Name_Ef9WZ",DynamicLink_YoutubeViews:"eventbbcodeyoutubeembed_DynamicLink_YoutubeViews_1EXif",Dynamiclink_Content:"eventbbcodeyoutubeembed_Dynamiclink_Content_SmLh-",DynamicLink_URL:"eventbbcodeyoutubeembed_DynamicLink_URL_3zVTF",DynamicLink_AuthorName:"eventbbcodeyoutubeembed_DynamicLink_AuthorName_2scjl",DynamicLink_Date:"eventbbcodeyoutubeembed_DynamicLink_Date_2hEHb",PreviewYouTubeVideo:"eventbbcodeyoutubeembed_PreviewYouTubeVideo_2sJoC",sizeThumb:"eventbbcodeyoutubeembed_sizeThumb_3olWW",sizeFull:"eventbbcodeyoutubeembed_sizeFull_126sP",floatLeft:"eventbbcodeyoutubeembed_floatLeft_1-UTh",floatRight:"eventbbcodeyoutubeembed_floatRight_IHcwx"}},"P++D":function(e,t,n){e.exports={DialogDropDownMenu_Item:"dropdown_DialogDropDownMenu_Item_2oAiZ",DialogDropDownMenu:"dropdown_DialogDropDownMenu_30wJO"}},P2h8:function(e,t,n){e.exports={InstallerModalContent:"installdialog_InstallerModalContent_3pibm",InstallingText:"installdialog_InstallingText_C1stx"}},PHKo:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("mrSG"),i=n("vDqi"),a=n.n(i),o=n("TyAF"),s=n("q1tI"),c=n.n(s),l=n("SG7E"),u=n("gOcu"),p=n("5E+2"),d=n("exH9"),m=n("TLQK"),h=n("7C/M"),f=n.n(h),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_cancelSignal=a.a.CancelToken.source(),e}return Object(r.d)(e,t),e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("InstallButton to unload: "+this.props.appLinkInfo.appid)},e.prototype.componentDidMount=function(){var e=this.props.appLinkInfo.appid;u.a.Get().BHasDemoEventInfo(e)||u.a.Get().LoadAppIDsBatch([e],this.m_cancelSignal)},e.prototype.render=function(){var e=this.props,t=e.appLinkInfo,n=e.className,r=t.appid,i=t.title,a=u.a.Get().GetDemoEventInfo(r),o=!(!a||!a.demo_appid),s=o?Object(m.f)("#Sale_InstallDemo_ttip",i):a?Object(m.f)("#Sale_CannotInstallDemo_ttip",i):Object(m.f)("#Loading");return c.a.createElement(p.d,{toolTipContent:s,onClick:function(e){e.preventDefault(),e.stopPropagation(),o&&Object(l.a)(a.demo_appid)},className:Object(d.a)(n,f.a.DemoButton,!o&&f.a.DisabledButton)},Object(m.f)("#Sale_InstallDemo"))},Object(r.c)([o.observer],e)}(c.a.Component)},Pr9M:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTQwMHB4IiBoZWlnaHQ9IjE0MDlweCIgdmlld0JveD0iMCAwIDE0MDAgMTQwOSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTQwMCAxNDA5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik02OTguMTk1LDEwLjEyNWMtMzY0LjM0NywwLTY2Mi44MzgsMjgwLjkzOC02OTEuMjA2LDYzNy45NjlMMzc4Ljc0LDgwMS43OTcNCgljMzEuNTAyLTIxLjUzOSw2OS41NTUtMzQuMTMzLDExMC40OTUtMzQuMTMzYzMuNjY5LDAsNy4zMTUsMC4wOSwxMC45MzksMC4zMTNsMTY1LjMzLTIzOS42MzdjMC0xLjEzNy0wLjAyOS0yLjI1LTAuMDI5LTMuMzk1DQoJYzAtMTQ0LjIyNywxMTcuMzM1LTI2MS41NzQsMjYxLjU4Mi0yNjEuNTc0YzE0NC4yMzMsMCwyNjEuNTgzLDExNy4zNDgsMjYxLjU4MywyNjEuNTc0YzAsMTQ0LjI0Ni0xMTcuMzUsMjYxLjU5OC0yNjEuNTgzLDI2MS41OTgNCgljLTEuOTksMC0zLjk1LTAuMDQ3LTUuOTI2LTAuMDlMNjg1LjM0MSw5NTQuNjg4YzAuMTE5LDMuMDc0LDAuMjMsNi4xOTEsMC4yMyw5LjI5N2MwLDEwOC4yNzMtODguMDc2LDE5Ni4zNTItMTk2LjMzNiwxOTYuMzUyDQoJYy05NS4wNDEsMC0xNzQuNDk0LTY3Ljg0OC0xOTIuNDk2LTE1Ny42NzZMMzAuODcyLDg5Mi43NTRjODIuMzIsMjkxLjEzNywzNDkuODA3LDUwNC41ODIsNjY3LjMyMyw1MDQuNTgyDQoJYzM4My4wNjIsMCw2OTMuNTk4LTMxMC41NTEsNjkzLjU5OC02OTMuNjEzQzEzOTEuNzkzLDMyMC42NjQsMTA4MS4yNTcsMTAuMTI1LDY5OC4xOTUsMTAuMTI1Ii8+DQo8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNNDQxLjY0OCwxMDYyLjU2M2wtODUuMjAyLTM1LjIwM2MxNS4xMDUsMzEuNDQ1LDQxLjIzLDU3Ljc2Miw3NS45MTEsNzIuMjE1DQoJYzc0Ljk2MSwzMS4yNSwxNjEuNDEtNC4zMzYsMTkyLjY2Ny03OS4zNTljMTUuMTEyLTM2LjMxMywxNS4yMjQtNzYuMzU1LDAuMjIzLTExMi43NDJjLTE0Ljk3OS0zNi4zOTEtNDMuMjUtNjQuNzczLTc5LjU3Mi03OS45MjINCgljLTM2LjA0Ny0xNS4wMDQtNzQuNjU2LTE0LjQzOC0xMDguNTg3LTEuNjM3bDg4LjAwOSwzNi4zOTFjNTUuMzA0LDIzLjA1MSw4MS40NDQsODYuNTU5LDU4LjQwOCwxNDEuODU1DQoJQzU2MC40NzYsMTA1OS40NTcsNDk2Ljk0NCwxMDg1LjYxMyw0NDEuNjQ4LDEwNjIuNTYzIi8+DQo8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTEwMS4zNTMsNTI0Ljk2MWMwLTk2LjExMy03OC4xODQtMTc0LjMxMy0xNzQuMjk1LTE3NC4zMTNjLTk2LjA5NiwwLTE3NC4yOTQsNzguMTk5LTE3NC4yOTQsMTc0LjMxMw0KCWMwLDk2LjEwMiw3OC4xOTgsMTc0LjI3NywxNzQuMjk0LDE3NC4yNzdDMTAyMy4xNjksNjk5LjIzOCwxMTAxLjM1Myw2MjEuMDYzLDExMDEuMzUzLDUyNC45NjEgTTc5Ni40MTUsNTI0LjY1Ng0KCWMwLTcyLjMyNCw1OC42MzgtMTMwLjkxOCwxMzAuOTQtMTMwLjkxOGM3Mi4zMTYsMCwxMzAuOTI1LDU4LjU5NCwxMzAuOTI1LDEzMC45MThjMCw3Mi4zMTYtNTguNjA4LDEzMC45MTgtMTMwLjkyNSwxMzAuOTE4DQoJQzg1NS4wNTMsNjU1LjU3NCw3OTYuNDE1LDU5Ni45NzMsNzk2LjQxNSw1MjQuNjU2Ii8+DQo8L3N2Zz4NCg=="},"QIS/":function(e,t,n){e.exports={TheaterMode:"appdetailsbroadcastsection_TheaterMode_19yL9",Body:"appdetailsbroadcastsection_Body_CFp7F",BroadcastPlayer:"appdetailsbroadcastsection_BroadcastPlayer_2lAf2",BroadcastThumbnail:"appdetailsbroadcastsection_BroadcastThumbnail_2l1gE",PlayButtonWrapper:"appdetailsbroadcastsection_PlayButtonWrapper__-Sx3",BroadcastBox:"appdetailsbroadcastsection_BroadcastBox_9nwsC",ViewBroadcastOnWeb:"appdetailsbroadcastsection_ViewBroadcastOnWeb_1Z3B4"}},QXuq:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c});var p=n("mrSG"),o=n("kyHq"),d=n("5eAM"),m=n("oVVc"),h=n("sRB7"),f=n("C4Nl");function r(e){switch(e){case"sub":return 1;case"bundle":return 2;default:return 0}}function b(e){switch(e){case"game":return 0;case"software":return 6;case"dlc":return 4;case"video":return 7;case"music":return 11;case"application":return 6;case"demo":return 1;case"hardware":return 10;default:return null}}function i(e,t){var n=h.e.fromObject({item_type:e,id:t,visible:!1});f.a.Get().ReadItem(n,f.a.k_DataRequest_IncludeAll)}function a(i){var a,o;return Object(p.b)(this,void 0,void 0,function(){var t,n,r;return Object(p.e)(this,function(e){return f.a.Get().BHasApp(i.appid)||(t={include_assets:!0,include_release:!0,include_platforms:!0,include_all_purchase_options:void 0,include_screenshots:!0,include_trailers:void 0,include_ratings:void 0,include_tag_count:i.tags.length,include_reviews:!0,include_basic_info:void 0},n={item_type:0,id:i.appid,success:1,visible:!0,unvailable_for_country_restriction:!1,name:i.name,store_url_path:v(i),appid:i.appid,type:b(i.type),included_types:[b(i.type)],included_appids:[i.appid],is_free:i.is_free,is_early_access:!1,related_items:{parent_appid:i.full_game_appid},content_descriptorids:i.content_descriptors,tagids:i.tags.map(function(e){return e.tagid}),categories:{},reviews:{summary_filtered:g(i.reviews_filtered),summary_unfiltered:g(i.reviews_unfiltered)},basic_info:{},tags:i.tags.map(function(e){return{tagid:e.tagid}}),assets:y(i),release:{steam_release_date:i.rt_release_date,custom_release_date_message:i.release,is_coming_soon:i.coming_soon},platforms:{windows:i.available_windows,mac:i.available_mac,linux:i.available_linux,vr_support:{vrhmd:i.support_vrhmd,vrhmd_only:i.support_vrhmd_only}},game_rating:{},best_purchase_option:{packageid:i.subid,final_price_in_cents:null===(a=i.price_in_cents)||void 0===a?void 0:a.toString(),original_price_in_cents:null===(o=i.orig_price_in_cents)||void 0===o?void 0:o.toString(),discount_pct:i.discount_percent},purchase_options:[],accessories:[],screenshots:{all_ages_screenshots:i.screenshot_list.map(function(e,t){return{filename:e,ordinal:t}}),mature_content_screenshots:[]},trailers:{}},r=h.e.fromObject(n),f.a.Get().ReadItem(r,t)),[2]})})}function s(o){var s,c;return Object(p.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(p.e)(this,function(e){switch(e.label){case 0:return f.a.Get().BHasPackage(o.id)?[2]:(t={include_assets:!0,include_release:!0,include_platforms:!0,include_all_purchase_options:void 0,include_screenshots:void 0,include_trailers:void 0,include_ratings:void 0,include_tag_count:void 0,include_reviews:void 0,include_basic_info:void 0},[4,(n=1==o.appids.length?o.appids[0]:null)&&d.a.LoadAppLinkInfo([n])]);case 1:return e.sent(),r=n&&d.a.GetAppLinkInfo(n),i={item_type:1,id:o.id,success:1,visible:!0,unvailable_for_country_restriction:!1,name:o.name,store_url_path:v(r||o),appid:n,type:r&&b(r.type),included_types:[],included_appids:o.appids,is_free:0==o.final_price_cents,is_early_access:!1,related_items:{},content_descriptorids:[],tagids:[],categories:{},reviews:{},basic_info:{},tags:[],assets:y(o),release:{steam_release_date:Number(o.release_date),is_coming_soon:o.coming_soon},platforms:{windows:o.available_windows,mac:o.available_mac,linux:o.available_linux,vr_support:{vrhmd:o.support_vrhmd,vrhmd_only:o.support_vrhmd_only}},game_rating:{},best_purchase_option:{packageid:o.id,original_price_in_cents:null===(s=o.orig_price_cents)||void 0===s?void 0:s.toString(),final_price_in_cents:null===(c=o.final_price_cents)||void 0===c?void 0:c.toString(),discount_pct:o.discount_percent},purchase_options:[],accessories:[],screenshots:{},trailers:{}},a=h.e.fromObject(i),f.a.Get().ReadItem(a,t),[2]}})})}function c(c){var l,u;return Object(p.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s;return Object(p.e)(this,function(e){switch(e.label){case 0:return f.a.Get().BHasBundle(c.id)?[2]:(t={include_assets:!0,include_release:void 0,include_platforms:!0,include_all_purchase_options:void 0,include_screenshots:void 0,include_trailers:void 0,include_ratings:void 0,include_tag_count:void 0,include_reviews:void 0,include_basic_info:void 0},[4,m.b.LoadPackageInfo(c.packageids)]);case 1:return e.sent(),n=c.packageids.map(function(e){return m.b.GetPackageInfo(e)}),r=[],n.forEach(function(e){return e.appids.forEach(function(e){return r.push(e)})}),i=null==r?void 0:r[0],a=i&&d.a.GetAppLinkInfo(i),o={item_type:2,id:c.id,success:1,visible:!0,unvailable_for_country_restriction:!1,name:c.name,store_url_path:v(c),appid:i,type:a&&b(a.type),included_types:[],included_appids:Array.from(new Set(r)),is_free:0==c.final_price,is_early_access:!1,related_items:{},content_descriptorids:[],tagids:[],categories:{},reviews:{},basic_info:{},tags:[],assets:y(c),release:{},platforms:{windows:c.available_windows,mac:c.available_mac,linux:c.available_linux,vr_support:{vrhmd:c.support_vrhmd,vrhmd_only:c.support_vrhmd_only}},game_rating:{},best_purchase_option:{bundleid:c.id,original_price_in_cents:null===(l=c.initial_price)||void 0===l?void 0:l.toString(),final_price_in_cents:null===(u=c.final_price)||void 0===u?void 0:u.toString(),discount_pct:c.discount_percent,bundle_discount_pct:c.bundle_base_discount},purchase_options:[],accessories:[],screenshots:{},trailers:{}},s=h.e.fromObject(o),f.a.Get().ReadItem(s,t),[2]}})})}var l=/\s+/,u=/([\W]+|[\W_]+$)/;function _(e){return e.replace(l,"_").replace(u,"")}function v(e){return Object(o.f)(e.type)?e.full_game_appid?"app/"+e.full_game_appid:"app/"+e.appid+"/"+_(e.name):e.type+"/"+e.id+"/"+_(e.name)}function g(e){return{review_count:e.num_reviews,percent_positive:100*(0<e.num_positive?e.num_positive/e.num_reviews:0),review_score:e.score,review_score_label:e.label}}function y(e){var t=e.main_capsule.indexOf("steam/"),n=e.id.toString(),r=e.main_capsule.indexOf(n)+n.length+1,i=e.main_capsule.substring(t,r),a=Object(o.f)(e.type);return{asset_url_format:i+"${FILENAME}",main_capsule:e.main_capsule.substring(r),small_capsule:a?e.tiny_capsule.substring(r):void 0,header:e.header_image_url.substring(r)}}},QYhk:function(e,t,n){e.exports={GhostContainer:"draganddrop_GhostContainer_Luubb",Ghost:"draganddrop_Ghost_9lwON",GhostImageBox:"draganddrop_GhostImageBox_qDwqS",First:"draganddrop_First_S9Nco",Image:"draganddrop_Image_2BNMb",Draggable:"draganddrop_Draggable_2wgFG",Active:"draganddrop_Active_1FSEr"}},QZGc:function(e,t,n){e.exports={AppPortraitHover:"appportraithover_AppPortraitHover_2sGn0",CapsuleBackgroundContainer:"appportraithover_CapsuleBackgroundContainer_Yts2c",CapsuleBackground:"appportraithover_CapsuleBackground_AcLtE",Content:"appportraithover_Content_12UNI",FriendsPlaying:"appportraithover_FriendsPlaying_1HlOX",AppTitleContainer:"appportraithover_AppTitleContainer_1Rfxl",AppTitle:"appportraithover_AppTitle_1Kdi2",ScreenshotFade:"appportraithover_ScreenshotFade_3i5aK",AppStatus:"appportraithover_AppStatus_My_Sv",GameUpdatedContainer:"appportraithover_GameUpdatedContainer_QO8Xp",ImportantUpdate:"appportraithover_ImportantUpdate_3eZ2g",GameUpdatedCircle:"appportraithover_GameUpdatedCircle_158pN",DownloadPauseButton:"appportraithover_DownloadPauseButton_2RtE4",DownloadStatus:"appportraithover_DownloadStatus_1KHOC",DownloadContainer:"appportraithover_DownloadContainer_2RX1d",DownloadStatusTitle:"appportraithover_DownloadStatusTitle_2HOH9",DownloadStatusDetails:"appportraithover_DownloadStatusDetails_3ddJw",ScreenshotCrossfade:"appportraithover_ScreenshotCrossfade_2R6-l",ScreenshotImg:"appportraithover_ScreenshotImg_2X1QC",NoScreenshotFallbackWrapper:"appportraithover_NoScreenshotFallbackWrapper_25nyF",NoScreenshotFallbackAsset:"appportraithover_NoScreenshotFallbackAsset_13_ZZ",NoScreenshotFallback:"appportraithover_NoScreenshotFallback_2I4_R",MiniScreenshot:"appportraithover_MiniScreenshot_3yeSS",CrossfadeImage:"appportraithover_CrossfadeImage_dXjKW",FadeIn:"appportraithover_FadeIn_uUYjX",FadeInEnter:"appportraithover_FadeInEnter_3HMs9",FadeInEnterActive:"appportraithover_FadeInEnterActive_2wRc0",FriendsContainer:"appportraithover_FriendsContainer_3_0Qb",FriendsHeader:"appportraithover_FriendsHeader_dfy8s",FriendsLabel:"appportraithover_FriendsLabel_1hOV3",FriendsCircle:"appportraithover_FriendsCircle_1dJq5",PlaytimeDetails:"appportraithover_PlaytimeDetails_1VGPO",Header:"appportraithover_Header_MIHa_"}},Qcoi:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var s=n("mrSG"),r=n("2vnA"),i=n("vDqi"),c=n.n(i),l=n("lkRc"),u=n("r64O"),p=n("8H1D"),a=n("kLLr"),o=new(function(){function e(){this.m_mapProfiles=new Map,this.m_mapProfilesLoading=new Map}return e.prototype.LoadProfiles=function(o){return Object(s.b)(this,void 0,void 0,function(){var t,n,r,i,a=this;return Object(s.e)(this,function(e){switch(e.label){case 0:return(Object(u.a)(o.length<=500,"Check LoadProfiles, requesting too many steam IDs"),0==(t=o.filter(function(e){return!a.m_mapProfiles.has(e)&&!a.m_mapProfilesLoading.has(e)})).length)?[2,this.m_mapProfilesLoading.get(o[0])]:(n=l.c.COMMUNITY_BASE_URL+"actions/ajaxresolveusers",r=c.a.get(n,{params:{steamids:t.join(",")},withCredentials:!0}),t.forEach(function(e){return a.m_mapProfilesLoading.set(e,r)}),[4,r]);case 1:return(i=e.sent()).data&&200==i.status&&i.data.forEach(function(e){e.avatar_hash=e.avatar_url,e.avatar_url_medium=Object(p.a)(e.avatar_url,"medium"),e.avatar_url_full=Object(p.a)(e.avatar_url,"full"),e.avatar_url=Object(p.a)(e.avatar_url),a.m_mapProfiles.set(e.steamid,e),a.m_mapProfilesLoading.delete(e.steamid)}),[2]}})})},e.prototype.GetProfile=function(e){return this.m_mapProfiles.get(e)},e.prototype.GetProfileByAccountID=function(e){return this.m_mapProfiles.get(a.a.InitFromAccountID(e).ConvertTo64BitString())},e.prototype.GetProfileBySteamID=function(e){return this.m_mapProfiles.get(e.ConvertTo64BitString())},e.prototype.BHasProfile=function(e){return this.m_mapProfiles.has(e)},e.prototype.BHasProfileByAccountID=function(e){return this.m_mapProfiles.has(a.a.InitFromAccountID(e).ConvertTo64BitString())},e.prototype.BHasProfileBySteamID=function(e){return this.m_mapProfiles.has(e.ConvertTo64BitString())},e.prototype.GetProfileURLBySteamID=function(e){var t=this.GetProfileBySteamID(e);return t&&t.profile_url?l.c.COMMUNITY_BASE_URL+"id/"+t.profile_url:l.c.COMMUNITY_BASE_URL+"profiles/"+e.ConvertTo64BitString()},e.prototype.GetPersonaNameBySteamID=function(e){var t=this.GetProfileBySteamID(e);return t&&t.persona_name?t.persona_name:""},Object(s.c)([r.observable],e.prototype,"m_mapProfiles",void 0),e}());window.g_ProfileStore=o},"R+8l":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var c=n("mrSG"),r=n("vDqi"),l=n.n(r),u=n("2vnA"),p=n("5izx"),d=n("QXuq"),i=n("9f3B"),m=n("lkRc"),h=function(){function e(e){this.bundleid=e.bundleid,this.packageids=e.packageids,this.enabled=e.enabled,this.name=e.name,this.finalized=e.finalized,this.must_purchase_as_set=e.must_purchase_as_set,this.publisherid=e.publisherid,this.header_image_url=e.header_image_url,this.main_capsule=e.main_capsule,this.library_asset=e.library_asset,this.initial_price=e.initial_price,this.final_price=e.final_price,this.formatted_orig_price=e.formatted_orig_price,this.formatted_final_price=e.formatted_final_price,this.discount_percent=e.discount_percent,this.bundle_base_discount=e.bundle_base_discount,this.available_windows=e.available_windows,this.available_mac=e.available_mac,this.available_linux=e.available_linux,this.support_vrhmd=e.support_vrhmd,this.support_vrhmd_only=e.support_vrhmd_only,this.coming_soon=this.coming_soon}return e.prototype.GetHeaderImageDimension=function(){return{width:292,height:136}},Object.defineProperty(e.prototype,"type",{get:function(){return"bundle"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.bundleid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"purchasePackageId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app_to_run",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_free",{get:function(){return!1},enumerable:!1,configurable:!0}),e}(),a=new(function(){function e(){this.m_mapBundleInfo=new Map,this.m_mapMissingBundles=new Map,this.m_mapInFlightRequests=new Map,this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var e,t,n=this;this.m_bLoadedFromConfig||(e=Object(m.g)("bundleinfo","application_config"),this.ValidateStoreDefault(e)&&("dev"!=m.c.WEB_UNIVERSE&&"beta"!=m.c.WEB_UNIVERSE||console.log("DEV_DEBUG: CBundleInfoStore loading bundles payload: "+e.length),Object(u.runInAction)(function(){return e.forEach(function(e){var t=new h(e);n.m_mapBundleInfo.set(e.bundleid,t),p.a.bMigrateToStoreBrowseAPI&&Object(d.b)(t)})})),t=Object(m.g)("bundleunknown","application_config"),Object(i.a)(t)&&t.forEach(function(e){n.m_mapMissingBundles.set(e,!0),p.a.bMigrateToStoreBrowseAPI&&Object(d.d)(2,e)}),this.m_bLoadedFromConfig=!0)},e.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("number"==typeof t[0].bundleid&&"string"==typeof t[0].name)},e.prototype.GetBundleInfo=function(e){return this.LazyInit(),this.m_mapBundleInfo.get(e)},e.prototype.BHasBundleInfoLoaded=function(e){return Boolean(this.GetBundleInfo(e))},e.prototype.LoadBundleInfo=function(i,a){return Object(c.b)(this,void 0,void 0,function(){var t,o,n,r,s=this;return Object(c.e)(this,function(e){switch(e.label){case 0:return(this.LazyInit(),t=i.map(function(e){return s.m_mapInFlightRequests.get(e)}),(o=i.filter(function(e){return e&&!s.m_mapBundleInfo.has(e)&&!s.m_mapMissingBundles.has(e)&&!s.m_mapInFlightRequests.has(e)})).length)?(o.sort(),n=l.a.get(m.c.STORE_BASE_URL+"actions/ajaxresolvebundles",{params:{bundleids:o.join(","),cc:m.c.COUNTRY||"US",l:m.c.LANGUAGE,origin:self.origin},cancelToken:null==a?void 0:a.token}),r=n.then(function(a){Object(u.runInAction)(function(){var e=a&&a.data;if(e)for(var t=0,n=e;t<n.length;t++){var r=n[t],i=new h(r);s.m_mapBundleInfo.set(r.bundleid,i),p.a.bMigrateToStoreBrowseAPI&&Object(d.b)(i)}o.forEach(function(e){s.m_mapBundleInfo.has(e)||(s.m_mapMissingBundles.set(e,!0),p.a.bMigrateToStoreBrowseAPI&&Object(d.d)(2,e)),s.m_mapInFlightRequests.delete(e)})})}),o.forEach(function(e){return s.m_mapInFlightRequests.set(e,r)}),[4,r]):[3,2];case 1:e.sent(),e.label=2;case 2:return[4,Promise.all(t)];case 3:return e.sent(),[2]}})})},Object(c.c)([u.observable],e.prototype,"m_mapBundleInfo",void 0),e}());window.g_BundleInfoStore=a},"R3/U":function(e,t,n){e.exports={FlexColumnContainer:"eventreminder_FlexColumnContainer_15ufN",FullStartTime:"eventreminder_FullStartTime_1YLHW",ReminderDialog:"eventreminder_ReminderDialog_3YUEY",ReminderOptions:"eventreminder_ReminderOptions_1Tp8K",ReminderBackground:"eventreminder_ReminderBackground_TNf9_",ReminderExpandsLeft:"eventreminder_ReminderExpandsLeft_38Xly",ReminderOption:"eventreminder_ReminderOption_26nnh",Unverified:"eventreminder_Unverified_1dcmA",CheckboxWrapper:"eventreminder_CheckboxWrapper_1xuKE",ReminderOptionTooltip:"eventreminder_ReminderOptionTooltip_2SNqE",ReminderCheckBox:"eventreminder_ReminderCheckBox_vPo2j",IconMode:"eventreminder_IconMode_1YjsR",RemindBell:"eventreminder_RemindBell_3-_M2",RemindCheck:"eventreminder_RemindCheck_2qaPr",ReminderDefault:"eventreminder_ReminderDefault_19p2Q",TextMode:"eventreminder_TextMode_553rC",ReminderCheck:"eventreminder_ReminderCheck_3fMhC",ReminderOpennedOptions:"eventreminder_ReminderOpennedOptions_vBuhk",ReminderOptionsHeader:"eventreminder_ReminderOptionsHeader_2oOZC",ReminderCalendarOptions:"eventreminder_ReminderCalendarOptions_VO6FS",ReminderSettings:"eventreminder_ReminderSettings_2Pn59",ReminderNotes:"eventreminder_ReminderNotes_3qE0w",RpcThrobber:"eventreminder_RpcThrobber_3F3aB"}},"RD/U":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m});var i=n("mrSG"),a=n("hRO2"),o=n("OS8t"),s=a.Message;var r=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.v4||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{v4:{n:1,br:o.d.readFixed32,bw:o.h.writeFixed32},v6:{n:2,br:o.d.readBytes,bw:o.h.writeBytes}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgIPAddress"},r}(s),c=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||o.a(r.M()),s.initialize(t,e,0,-1,[27],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},client_sessionid:{n:2,br:o.d.readInt32,bw:o.h.writeInt32},routing_appid:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},jobid_source:{n:10,d:"18446744073709551615",br:o.d.readFixed64String,bw:o.h.writeFixed64String},jobid_target:{n:11,d:"18446744073709551615",br:o.d.readFixed64String,bw:o.h.writeFixed64String},target_job_name:{n:12,br:o.d.readString,bw:o.h.writeString},seq_num:{n:24,br:o.d.readInt32,bw:o.h.writeInt32},eresult:{n:13,d:2,br:o.d.readInt32,bw:o.h.writeInt32},error_message:{n:14,br:o.d.readString,bw:o.h.writeString},ip:{n:15,br:o.d.readUint32,bw:o.h.writeUint32},ip_v6:{n:29,br:o.d.readBytes,bw:o.h.writeBytes},auth_account_flags:{n:16,br:o.d.readUint32,bw:o.h.writeUint32},token_source:{n:22,br:o.d.readUint32,bw:o.h.writeUint32},admin_spoofing_user:{n:23,br:o.d.readBool,bw:o.h.writeBool},transport_error:{n:17,d:1,br:o.d.readInt32,bw:o.h.writeInt32},messageid:{n:18,d:"18446744073709551615",br:o.d.readUint64String,bw:o.h.writeUint64String},publisher_group_id:{n:19,br:o.d.readUint32,bw:o.h.writeUint32},sysid:{n:20,br:o.d.readUint32,bw:o.h.writeUint32},trace_tag:{n:21,br:o.d.readUint64String,bw:o.h.writeUint64String},webapi_key_id:{n:25,br:o.d.readUint32,bw:o.h.writeUint32},is_from_external_source:{n:26,br:o.d.readBool,bw:o.h.writeBool},forward_to_sysid:{n:27,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32},cm_sysid:{n:28,br:o.d.readUint32,bw:o.h.writeUint32},wg_token:{n:30,br:o.d.readString,bw:o.h.writeString},launcher_type:{n:31,d:0,br:o.d.readUint32,bw:o.h.writeUint32},realm:{n:32,d:0,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgProtoBufHeader"},r}(s),l=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.size_unzipped||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{size_unzipped:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},message_body:{n:2,br:o.d.readBytes,bw:o.h.writeBytes}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgMulti"},r}(s),u=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.estate||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{estate:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},eresult:{n:2,d:2,br:o.d.readUint32,bw:o.h.writeUint32},steamid:{n:3,br:o.d.readFixed64String,bw:o.h.writeFixed64String},gameid:{n:4,br:o.d.readFixed64String,bw:o.h.writeFixed64String},h_steam_pipe:{n:5,br:o.d.readUint32,bw:o.h.writeUint32},ticket_crc:{n:6,br:o.d.readUint32,bw:o.h.writeUint32},ticket:{n:7,br:o.d.readBytes,bw:o.h.writeBytes}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CMsgAuthTicket"},r}(s),p=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},name:{n:2,br:o.d.readString,bw:o.h.writeString},icon:{n:3,br:o.d.readString,bw:o.h.writeString},logo:{n:4,br:o.d.readString,bw:o.h.writeString},logo_small:{n:5,br:o.d.readString,bw:o.h.writeString},tool:{n:6,br:o.d.readBool,bw:o.h.writeBool},demo:{n:7,br:o.d.readBool,bw:o.h.writeBool},media:{n:8,br:o.d.readBool,bw:o.h.writeBool},community_visible_stats:{n:9,br:o.d.readBool,bw:o.h.writeBool},friendly_name:{n:10,br:o.d.readString,bw:o.h.writeString},propagation:{n:11,br:o.d.readString,bw:o.h.writeString},has_adult_content:{n:12,br:o.d.readBool,bw:o.h.writeBool},is_visible_in_steam_china:{n:13,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CCDDBAppDetailCommon"},r}(s),d=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.clanid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{clanid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},event_gid:{n:2,br:o.d.readFixed64String,bw:o.h.writeFixed64String},announcement_gid:{n:3,br:o.d.readFixed64String,bw:o.h.writeFixed64String},rtime_start:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},rtime_end:{n:5,br:o.d.readUint32,bw:o.h.writeUint32},priority_score:{n:6,br:o.d.readUint32,bw:o.h.writeUint32},type:{n:7,br:o.d.readUint32,bw:o.h.writeUint32},clamp_range_slot:{n:8,br:o.d.readUint32,bw:o.h.writeUint32},appid:{n:9,br:o.d.readUint32,bw:o.h.writeUint32},rtime32_last_modified:{n:10,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CClanEventUserNewsTuple"},r}(s),m=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.rtime_before||o.a(r.M()),s.initialize(t,e,0,-1,[4],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{rtime_before:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},rtime_after:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},qualified:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},events:{n:4,c:d,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CClanMatchEventByRange"},r}(s)},RQmk:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var r=n("mrSG"),i=n("q1tI"),a=n("VQ2A"),o=n("bxiW"),s=n("lkRc"),c=n("dfs5"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hoverRef=i.createRef(),e}return Object(r.d)(e,t),e.prototype.OnHover=function(e){"clan"!=this.props.type&&(this.props.fnHoverState&&this.props.fnHoverState(!0),window.GameHover&&window.GameHover(this.props.fnGetIDOverride?this.props.fnGetIDOverride():this.hoverRef.current,e,"global_hover",{type:this.props.type,id:this.props.id,v6:1}))},e.prototype.OnHoverEnd=function(e){"clan"!=this.props.type&&(this.props.fnHoverState&&e.relatedTarget&&this.props.fnHoverState(!1),window.HideGameHover&&window.HideGameHover(this.props.fnGetIDOverride?this.props.fnGetIDOverride():this.hoverRef.current,e,"global_hover"))},e.prototype.render=function(){return i.createElement("div",{ref:this.hoverRef,className:this.props.hoverClassName,onMouseEnter:this.OnHover,onMouseLeave:this.OnHoverEnd,onFocus:this.OnHover,onBlur:this.OnHoverEnd},this.props.children)},Object(r.c)([o.a],e.prototype,"OnHover",null),Object(r.c)([o.a],e.prototype,"OnHoverEnd",null),e}(i.Component),u=function(e){var t=Object(c.c)();return i.createElement(l,Object(r.a)({},e),i.createElement("a",{className:e.className,href:Object(a.b)(e.strURL,t),target:s.c.IN_CLIENT?void 0:"_blank",rel:"noopener noreferrer"},e.children))}},RS4j:function(e,t,n){e.exports={ShareIcon:"sharedialog_ShareIcon_2yDBG",ShareButton:"sharedialog_ShareButton_1FFkd"}},"Ri1+":function(e,t,n){e.exports={OverflowBox:"overflowbox_OverflowBox_17qc0",OverflowBoxContent:"overflowbox_OverflowBoxContent_3C0is",ExplicitlyCollapsed:"overflowbox_ExplicitlyCollapsed_2oYuV",BoxCollapsed:"overflowbox_BoxCollapsed_2jHdb",BoxExpanded:"overflowbox_BoxExpanded_3QyWK",NoTransitions:"overflowbox_NoTransitions_3yX0d",NoMask:"overflowbox_NoMask_3gj9A"}},RnhZ:function(e,t,n){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function i(e){var t=a(e);return n(t)}function a(e){if(n.o(r,e))return r[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}i.keys=function(){return Object.keys(r)},i.resolve=a,(e.exports=i).id="RnhZ"},SG7E:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n("mrSG"),o=n("q1tI"),r=n("Mgs7"),i=n("Jqb/"),s=n("ka0M"),c=n("6Y59"),l=n("exH9"),u=n("TLQK"),p=n("lkRc"),d=n("qD+2"),m=n("Dq3P"),h=n.n(m);function f(t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.e)(this,function(e){return p.c.IN_CLIENT?(console.log("Running game "+t+" locally."),window.location.href="steam://run/"+t):(console.log("Cannot identify local client. Prompting user to launch "+t+"."),function(i){Object(a.b)(this,void 0,void 0,function(){var t,n,r;return Object(a.e)(this,function(e){switch(e.label){case 0:return[4,d.a.EnsureAppInfoForAppIDs([i])];case 1:return e.sent(),t=d.a.GetAppInfo(i),n=t&&t.name,console.log("prompting for",n),r=p.c.STORE_BASE_URL+"about/",Object(s.b)(o.createElement(b,{appid:i,strGameName:n,strDownloadSteamUrl:r}),window),[2]}})})}(t)),[2]})})}var b=function(e){function t(){return e.closeModal&&e.closeModal()}return o.createElement(i.g,{onEscKeypress:t,className:h.a.GotSteamDialog},o.createElement(r.f,null,o.createElement(r.l,null," ",Object(u.f)("#GotSteam_Title")," "),o.createElement(r.b,null,o.createElement(r.c,null,Object(u.o)("#GotSteam_PromptWithDownloadLink",o.createElement("a",{href:e.strDownloadSteamUrl,className:h.a.DownloadSteamUrl},Object(u.f)("#GotSteam_DownloadLinkText")),o.createElement("span",{className:h.a.GameName},e.strGameName))),o.createElement("div",{className:h.a.Buttons},o.createElement("a",{href:"steam://run/"+e.appid,onClick:t,className:Object(l.a)(h.a.Button,h.a.LeftButton)},o.createElement("div",{className:h.a.AnswerText}," ",Object(u.f)("#GotSteam_Yes")," "),o.createElement("div",{className:h.a.ActionText}," ",Object(u.f)("#GotSteam_Yes_Play")," ")),o.createElement("a",{href:e.strDownloadSteamUrl,onClick:t,className:h.a.Button},o.createElement("div",{className:h.a.AnswerText}," ",Object(u.f)("#GotSteam_No")," "),o.createElement("div",{className:h.a.ActionText}," ",Object(u.f)("#GotSteam_No_Download")," "))),o.createElement("div",{className:h.a.Footer},o.createElement(c.rb,{className:h.a.Logo}),Object(u.f)("#GotSteam_Blurb")))))}},SS32:function(e,t,n){e.exports={carouselNavButton:"carousel_carouselNavButton_13rGo",left:"carousel_left_S8IHd",carouselBtnCtn:"carousel_carouselBtnCtn_3zfZ9",right:"carousel_right_Cq59o",carouselBody:"carousel_carouselBody_3a31O",sliderBody:"carousel_sliderBody_2M3Sn",breadcrumbContainer:"carousel_breadcrumbContainer_3HjnE",pipList:"carousel_pipList_LY1m2",pipScrollerContainer:"carousel_pipScrollerContainer_3SyN-",pipScrollButton:"carousel_pipScrollButton_qE43J",scrollNavDiv:"carousel_scrollNavDiv_95I5g",scrollNavButton:"carousel_scrollNavButton_1cpdo",pipScroller:"carousel_pipScroller_EMd4F",scrollBackground:"carousel_scrollBackground_WUHeT",scrollForeground:"carousel_scrollForeground_PQzkJ",pipContainer:"carousel_pipContainer_3TKX3",pip:"carousel_pip_3Byg6",pipNumber:"carousel_pipNumber_1u4YJ"}},Sj1W:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",CarouselExtraHeight:"58",PlayNextSubHead:"libraryhomeplaynext_PlayNextSubHead_1kdin",PlayNextNoResultsContainer:"libraryhomeplaynext_PlayNextNoResultsContainer_1Zqz_",Message:"libraryhomeplaynext_Message_2GTdf",PlayNextSuggestions:"libraryhomeplaynext_PlayNextSuggestions_3iXvg",PlayNextSuggestion:"libraryhomeplaynext_PlayNextSuggestion_2a9Sn",AddedDate:"libraryhomeplaynext_AddedDate_1Nfcb",EmptyDate:"libraryhomeplaynext_EmptyDate_2VW21",PlayNextSuggestionMediaContainer:"libraryhomeplaynext_PlayNextSuggestionMediaContainer_2AcrN"}},SxtR:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return r});var i=n("mrSG"),a=n("hRO2"),o=n("OS8t"),s=(a.Message,a.Message);var r,c,l=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.product||o.a(r.M()),s.initialize(t,e,0,-1,[3],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{product:{n:1,br:o.d.readString,bw:o.h.writeString},version:{n:2,br:o.d.readString,bw:o.h.writeString},errors:{n:3,c:u,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CClientMetrics_ReportClientError_Notification"},r}(s),u=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.identifier||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{identifier:{n:1,br:o.d.readString,bw:o.h.writeString},message:{n:2,br:o.d.readString,bw:o.h.writeString},count:{n:3,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CClientMetrics_ReportClientError_Notification_Error"},r}(s);(c=r=r||{}).ClientAppInterfaceStatsReport=function(e,t){return e.SendNotification("ClientMetrics.ClientAppInterfaceStatsReport#1",t,{ePrivilege:1})},c.ClientIPv6ConnectivityReport=function(e,t){return e.SendNotification("ClientMetrics.ClientIPv6ConnectivityReport#1",t,{ePrivilege:1})},c.SteamPipeWorkStatsReport=function(e,t){return e.SendNotification("ClientMetrics.SteamPipeWorkStatsReport#1",t,{ePrivilege:1})},c.ReportClientError=function(e,t){return e.SendNotification("ClientMetrics.ReportClientError#1",t,{ePrivilege:2,eWebAPIKeyRequirement:1})},c.ClientBootstrapReport=function(e,t){return e.SendNotification("ClientMetrics.ClientBootstrapReport#1",t,{ePrivilege:1})}},T27q:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("mrSG"),i=n("TyAF"),a=n("q1tI"),o=n("qD+2"),s=n("BVKn"),c=n("6oCP"),l=n("UWWC"),u=n("yJqL"),p=n("ka0M"),d=n("bxiW"),m=n("DRMf");function h(e,t){Object(p.d)(a.createElement(u.a,{initialEvent:e,bShowOnlyInitialEvent:!0,partnerEventStore:c.c,emoticonStore:l.b,appInfoStore:o.a,showAppHeader:!0}),t)}a.Component},TAM5:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return l});var r,i,a=n("mB/g"),o=n("TLQK"),s=n("lkRc");(i=r=r||{}).Default="default",i.Upcoming="upcoming",i.Featured="featured",i.Press="press",i.Steam="steam",i.Halloween="halloween",i.Dev_All="all",i.Dev_AssociatedPress="associated_press",i.Dev_Sales="associated_sales";var c=new Map;function l(e){var t;return 0==c.size&&(t=Object(a.f)(),c.set(r.Default,{id:r.Default,strUrl:t+"/",strName:Object(o.f)("#EventCalendar_NewsChannel_YourNews"),strSubtitle:Object(o.f)("#EventCalendar_NewsChannel_Personalized"),strHeaderTitle:Object(o.f)("#EventCalendar_NewsChannel_YourNews_HeaderTitle")}),c.set(r.Upcoming,{id:r.Upcoming,strUrl:t+"/?upcoming=1",strName:Object(o.f)("#EventCalendar_NewsChannel_Upcoming"),strShortName:Object(o.f)("#EventCalendar_NewsChannel_UpcomingShort"),strSubtitle:Object(o.f)("#EventCalendar_NewsChannel_Personalized")}),c.set(r.Featured,{id:r.Featured,strUrl:t+"/collection/featured/",strName:Object(o.f)("#EventCalendar_NewsChannel_Featured"),strSubtitle:Object(o.f)("#EventCalendar_NewsChannel_TopSellers"),strHeaderTitle:Object(o.f)("#EventCalendar_NewsChannel_Featured_HeaderTitle")}),c.set(r.Press,{id:r.Press,strUrl:t+"/collection/press/",strName:Object(o.f)("#EventCalendar_NewsChannel_Press"),strHeaderTitle:Object(o.f)("#EventCalendar_Collection_News_Title"),strHeaderSubtitle:Object(o.f)("#EventCalendar_Collection_News_Subtitle")}),c.set(r.Steam,{id:r.Steam,strUrl:t+"/collection/steam/",strName:Object(o.f)("#EventCalendar_NewsChannel_Steam"),strSubtitle:Object(o.f)("#EventCalendar_NewsChannel_SteamSubtitle"),strHeaderTitle:Object(o.f)("#EventCalendar_NewsChannel_Steam_HeaderTitle")}),c.set(r.Halloween,{id:r.Halloween,strUrl:t+"/collection/halloween/",strName:Object(o.f)("#EventCalendar_NewsChannel_Halloween"),strSubtitle:Object(o.f)("#EventCalendar_NewsChannel_HalloweenSubtitle"),strHeaderTitle:Object(o.f)("#EventCalendar_Collection_Halloween_Title"),strHeaderSubtitle:Object(o.f)("#EventCalendar_Collection_Halloween_Subtitle")}),s.h.is_support&&(c.set(r.Dev_All,{id:r.Dev_All,strUrl:t+"/collection/all/",strName:Object(o.f)("#EventCalendar_NewsChannel_All"),bIsValveOnly:!0}),c.set(r.Dev_Sales,{id:r.Dev_Sales,strUrl:t+"/collection/sales/",strName:Object(o.f)("#EventCalendar_NewsChannel_AllSales"),bIsValveOnly:!0}),c.set(r.Dev_AssociatedPress,{id:r.Dev_AssociatedPress,strUrl:t+"/collection/associated_press/",strName:Object(o.f)("#EventCalendar_NewsChannel_AssociatedPress"),bIsValveOnly:!0}))),c.get(e)}},TLUu:function(e,t,n){e.exports={strMediumWidth:"800px",strMaxMobileWidth:"600px",MediaContainer:"salehilightplayerembed_MediaContainer_-ap7m",MainMediaCtn:"salehilightplayerembed_MainMediaCtn_FATLc",VideoThumbnail:"salehilightplayerembed_VideoThumbnail_h0pph",Screenshot:"salehilightplayerembed_Screenshot_1xxBa",PresenterEventScreenshot:"salehilightplayerembed_PresenterEventScreenshot_31z_A",ScreenshotThumbnail:"salehilightplayerembed_ScreenshotThumbnail_3IAX7",PresenterEventScreenshotThumbnail:"salehilightplayerembed_PresenterEventScreenshotThumbnail_1A_Lw",videoPlaying:"salehilightplayerembed_videoPlaying_3D99v",VideoPlayButton:"salehilightplayerembed_VideoPlayButton_2sJlI",VideoLargeContainer:"salehilightplayerembed_VideoLargeContainer_3mzKC",VideoLarge:"salehilightplayerembed_VideoLarge_3zPl6",PopupScreenshotContainer:"salehilightplayerembed_PopupScreenshotContainer_3ezhP",PopupScreenshot:"salehilightplayerembed_PopupScreenshot_2XVyT"}},TOXn:function(e,t,n){"use strict";n.d(t,"b",function(){return Ce}),n.d(t,"a",function(){return Be}),n.d(t,"c",function(){return st});var p=n("mrSG"),r=n("s4NR"),s=n.n(r),h=n("q1tI"),u=n.n(h),i=n("ZeAL"),a=n("nrKv"),c=n("zvcZ"),f=n("mgoM"),d=n("kyHq"),m=n("+VX6"),l=n("kLLr"),b=n("U+Q5"),_=n("4P4B"),v=n("TyAF"),g=n("TLQK"),y=n("OcU3"),S=n.n(y),o=n("vDqi"),w=n.n(o),C=n("lkRc"),O=n("2vnA"),E=new(function(){function e(){this.m_mapYouTubeVideo=new Map,this.m_mapSharedFile=new Map}return e.prototype.LoadYouTubeDynamicData=function(o,s){return Object(p.b)(this,void 0,void 0,function(){var n,r,t,i,a=this;return Object(p.e)(this,function(e){switch(e.label){case 0:return(n=new Array,r="",o.forEach(function(e,t){a.m_mapYouTubeVideo.has(e)?n.push(a.m_mapYouTubeVideo.get(e)):(0<r.length&&(r+=","),r+=e)}),0==r.length)?[2,n]:(t={youtubevideoids:r},i=null,[4,w.a.get(C.c.STORE_BASE_URL+"/events/ajaxgetdynamiceventmetadata",{params:t,cancelToken:s.token})]);case 1:return(i=e.sent())&&i.data&&i.data.youtube&&Object(O.runInAction)(function(){i.data.youtube.forEach(function(e,t){a.m_mapYouTubeVideo.set(e.videoid,e),n.push(e)})}),[2,n]}})})},e.prototype.LoadSharedFileDynamicData=function(o,s){return Object(p.b)(this,void 0,void 0,function(){var n,r,t,i,a=this;return Object(p.e)(this,function(e){switch(e.label){case 0:return(n=new Array,r="",o.forEach(function(e,t){a.m_mapSharedFile.has(e)?n.push(a.m_mapSharedFile.get(e)):(0<r.length&&(r+=","),r+=e)}),0==r.length)?[2,n]:(t={sharedfileids:r},i=null,[4,w.a.get(C.c.STORE_BASE_URL+"/events/ajaxgetdynamiceventmetadata",{params:t,cancelToken:s.token})]);case 1:return(i=e.sent())&&i.data&&i.data.sharedfiles&&Object(O.runInAction)(function(){i.data.sharedfiles.forEach(function(e,t){a.m_mapSharedFile.set(e.sharedfileid,e),n.push(e)})}),[2,n]}})})},Object(p.c)([O.observable],e.prototype,"m_mapYouTubeVideo",void 0),Object(p.c)([O.observable],e.prototype,"m_mapSharedFile",void 0),e}()),B=n("bDQf"),A=function(n){function e(e){var t=n.call(this,e)||this;return t.m_cancelSignal=w.a.CancelToken.source(),t.state={bLoadedMetadata:!1},t.m_sharedFileInfo={sharedfileid:t.props.sharedFileID,title:Object(g.f)("#Loading"),description:"",type:"",previewurl:"",appid:0,url:C.c.COMMUNITY_BASE_URL+"sharedfiles/filedetails/?id="+t.props.sharedFileID},t}return Object(p.d)(e,n),e.prototype.componentDidMount=function(){var t=this;E.LoadSharedFileDynamicData([this.props.sharedFileID],this.m_cancelSignal).then(function(e){!t.m_cancelSignal.token.reason&&0<e.length&&(t.m_sharedFileInfo=e[0],t.setState({bLoadedMetadata:!0}))}).catch(function(e){return console.error("SharedFileSnippet: "+Object(B.a)(e).strErrorMsg)})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("SharedFileSnippet component unmounted")},e.prototype.render=function(){var e=void 0!==this.m_sharedFileInfo.personnaname&&0<this.m_sharedFileInfo.personnaname.length;return h.createElement("a",{href:this.m_sharedFileInfo.url,className:S.a.DynamicLinkBox,"data-modal-content-sizetofit":!!this.m_sharedFileInfo.bSizeToFit,"data-appid":this.m_sharedFileInfo.appid,"data-publishedfileid":this.props.sharedFileID},h.createElement("img",{className:S.a.DynamicLink_Preview,src:this.m_sharedFileInfo.previewurl}),h.createElement("div",{className:S.a.DynamicLink_Content},h.createElement("div",{className:S.a.DynamicLink_Name},this.m_sharedFileInfo.title),h.createElement("div",null,h.createElement("span",{className:S.a.DynamicLink_Type},this.m_sharedFileInfo.type)),e&&h.createElement("div",{className:S.a.DynamicLink_Author},Object(g.o)("#EventEditor_Author",h.createElement("span",{className:S.a.DynamicLink_AuthorName},this.m_sharedFileInfo.personnaname))),h.createElement("div",{className:S.a.DynamicLink_Description},this.m_sharedFileInfo.description)))},Object(p.c)([O.observable],e.prototype,"m_sharedFileInfo",void 0),Object(p.c)([v.observer],e)}(h.Component),I=n("exH9"),j=n("bxiW"),D=n("0OaU"),R=function(r){function e(e){var t=r.call(this,e)||this;t.m_cancelSignal=w.a.CancelToken.source();var n=!t.props.bShowVideoImmediately;return t.state={bSummaryMode:n,bLoadedMetaData:!1},t.m_youtubeInfo={title:Object(g.f)("#Loading"),description:"",videoid:e.videoID,views:"0"},t}var o;return Object(p.d)(e,r),(o=e).prototype.componentDidMount=function(){this.state.bSummaryMode&&this.HintLoadMetadata()},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("YouTubeInlineSnippet component unmounted")},e.prototype.HintLoadMetadata=function(){return Object(p.b)(this,void 0,void 0,function(){var t=this;return Object(p.e)(this,function(e){return E.LoadYouTubeDynamicData([this.props.videoID],this.m_cancelSignal).then(function(e){!t.m_cancelSignal.token.reason&&0<e.length&&(t.m_youtubeInfo=e[0],t.setState({bLoadedMetaData:!0}))}).catch(function(e){return console.error("YouTubeInlineSnippet: "+Object(B.a)(e).strErrorMsg)}),[2]})})},e.prototype.OnClick=function(){this.setState({bSummaryMode:!1})},e.prototype.render=function(){var e=this.props.videoID;if(this.state.bSummaryMode){var t=this.m_youtubeInfo.title,n=this.m_youtubeInfo.views,r=this.m_youtubeInfo.description;return h.createElement("div",{className:S.a.DynamicLinkBox,onClick:this.OnClick},h.createElement("img",{className:S.a.DynamicLink_Preview,src:"https://img.youtube.com/vi/"+e+"/0.jpg"}),h.createElement("div",{className:S.a.DynamicLink_Content},h.createElement("div",{className:S.a.DynamicLink_Name},Object(g.f)("#EventEditor_YouTubeVideoTitle",t)),h.createElement("div",{className:S.a.DynamicLink_YoutubeViews},Object(g.f)("#EventEditor_YouTubeVideoViews",Number(n).toLocaleString(g.e.GetPreferredLocales()))),h.createElement("div",{className:S.a.Dynamiclink_Content},this.state.bLoadedMetaData&&r,!this.state.bLoadedMetaData&&h.createElement(D.a,null))))}var i=this.props.classNameSize,a=this.props.classNameAlign;return h.createElement("div",{className:Object(I.a)(S.a.PreviewYouTubeVideo,i,a),id:e},h.createElement("img",{src:"https://community.cloudflare.steamstatic.com/public/shared/images/responsive/youtube_16x9_placeholder.gif"}),h.createElement("iframe",{className:Object(I.a)(S.a.PreviewYouTubeVideo,i,a),src:"https://www.youtube.com/embed/"+e+o.m_strYouTubeOptions,allowFullScreen:!0,frameBorder:0}))},e.m_strYouTubeOptions="?fs=1&modestbranding=1&rel=0",Object(p.c)([O.observable],e.prototype,"m_youtubeInfo",void 0),Object(p.c)([j.a],e.prototype,"OnClick",null),o=Object(p.c)([v.observer],e)}(h.Component),T=n("C4Nl"),M=n("IzPI");function N(e){if(!e)return 1;var t=Object(M.b)(e).toLocaleLowerCase();return 0<=[Object(M.b)(C.c.COMMUNITY_CDN_URL).toLocaleLowerCase(),Object(M.b)(C.c.MEDIA_CDN_URL).toLocaleLowerCase(),Object(M.b)(C.c.MEDIA_CDN_COMMUNITY_URL).toLocaleLowerCase(),Object(M.b)(C.c.STORE_CDN_URL).toLocaleLowerCase()].indexOf(t)}function L(e){var n=e.video,t=e.bAutoPlay,r=e.bControls,i=e.bLoop;if(!n.rgVideoSources||!n.rgVideoSources.length)return null;var a,o=!(!N((a=n).sPoster)||a.rgVideoSources&&a.rgVideoSources.some(function(e){return!N(e.sURL)})||a.rgVideoTracks&&a.rgVideoTracks.some(function(e){return!N(e.sURL)}))?void 0:"anonymous",s="?origin="+Object(C.e)(),c=n.rgVideoSources.map(function(e){return h.createElement("source",{key:e.sURL,src:e.sURL+s,type:e.sFormat})}),l=n.rgVideoTracks?n.rgVideoTracks.map(function(e){var t=e.eLanguage;if(C.c.EREALM===d.p.k_ESteamRealmChina)if(g.b.IsELanguageValidInRealm(t,d.p.k_ESteamRealmChina))t=g.b.GetELanguageFallback(t);else{if(6!==t)return null;if(n.rgVideoTracks.find(function(e){return g.b.GetELanguageFallback(e.eLanguage)===t}))return null}else if(g.b.IsELanguageValidInRealm(t,d.p.k_ESteamRealmGlobal))return null;return h.createElement("track",{key:e.sURL+t,src:e.sURL+s,kind:e.sKind,default:e.bDefault,srcLang:Object(f.f)(t),label:Object(g.f)("#language_selection_"+Object(f.e)(t))})}):null,u=n.sPoster?n.sPoster+s:"";return h.createElement("video",{width:"100%",height:"auto",autoPlay:t,muted:t,playsInline:!0,controls:r,poster:u,loop:i,crossOrigin:o},c,l)}function k(t){var e=Object(h.useState)(!0),n=e[0],r=e[1],i=Object(h.useState)(null),a=i[0],o=i[1];if(Object(h.useEffect)(function(){0!=t.appid&&0!=t.trailerBaseID?Object(p.b)(void 0,void 0,void 0,function(){return Object(p.e)(this,function(e){switch(e.label){case 0:return[4,T.a.Get().HintLoadStoreItems(null,[t.appid],[],[],{include_trailers:!0})];case 1:return e.sent(),T.a.Get().BHasApp(t.appid)?(T.a.Get().GetApp(t.appid).GetAllTrailers().GetTrailerByID(t.trailerBaseID)||(console.error("Trailer "+t.trailerBaseID+" doesn't existed within appid "+t.appid),o(Object(g.f)("#TrailerPlayer_CouldNotLoad",t.appid,t.trailerBaseID))),r(!1)):o(Object(g.f)("#TrailerPlayer_CouldNotLoad",t.appid,t.trailerBaseID)),[2]}})}):o(Object(g.f)("#TrailerPlayer_ID_NotProvided"))},[t.appid,t.trailerBaseID]),a)return t.bIsPreviewMode?u.a.createElement("div",{className:G.a.ErrorDiv},a):null;if(n)return u.a.createElement(D.a,{string:Object(g.f)("#Loading"),size:"small"});var s=T.a.Get().GetApp(t.appid).GetAllTrailers().GetTrailerByID(t.trailerBaseID),c=s.GetTrailerMax(),l={sPoster:s.GetScreenshot(),rgVideoSources:[{sURL:c.strWebMURL,sFormat:"video/webm"},{sURL:c.strMP4URL,sFormat:"video/mp4"}]};return u.a.createElement(L,{bControls:!0,bAutoPlay:!1,bLoop:!1,video:l})}function F(r){var i=Object(h.useRef)(null),e=Object(h.useState)(x.a.Get().GetVODForAppID(r.appid)),t=e[0],a=e[1],n=Object(h.useState)(!Boolean(x.a.Get().GetVODForAppID(r.appid))),o=n[0],s=n[1];return Object(h.useEffect)(function(){return function(){return i.current&&i.current("VODPlayer: unmounting")}}),Object(h.useEffect)(function(){var n=t;t&&t.appid!=r.appid&&(n=x.a.Get().GetVODForAppID(r.appid)),n||(s(!0),Object(p.b)(void 0,void 0,void 0,function(){var t;return Object(p.e)(this,function(e){switch(e.label){case 0:return i.current&&i.current(),t=w.a.CancelToken.source(),i.current=t.cancel,[4,x.a.Get().LoadVODForAppID(r.appid)];case 1:return n=e.sent(),t.token.reason||a(n),s(!1),[2]}})})),t!=n&&a(n)},[r.appid,t]),!t&&r.bPreviewMode?u.a.createElement("div",null,Object(g.f)(o?"#VODPlayer_Loading":"#VODPlayer_ErrorLoading",r.appid)):u.a.createElement("div",{className:U.BroadcastCtn},u.a.createElement(H.a,null,u.a.createElement(u.a.Suspense,{fallback:u.a.createElement("div",null)},u.a.createElement(z.a,{nAppIDVOD:r.appid,watchLocation:9,bStartPaused:!0}))))}var P=n("oazx"),G=n.n(P),U=n("XA70"),x=n("TQQK"),z=n("trWU"),H=n("IjL/"),W=(u.a.lazy(function(){return n.e(2).then(n.bind(null,"NIbt"))}),n("02Wr")),V=n("UxvL"),q=n("6Y59"),Y=n("+d9t"),Q=n("MCLT"),Z=n("6oCP"),K=n("ir+G"),J=n("TQGK"),X=n("mB/g"),$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bLoading:e.props.announcementGID?!Z.c.BHasClanAnnouncementGID(e.props.announcementGID):!Z.c.BHasClanAnnouncementGID(e.props.eventGID),bFailedLoad:!1},e.m_cancelSignal=w.a.CancelToken.source(),e}return Object(p.d)(e,t),e.prototype.componentDidMount=function(){this.HandleLoadEventInfo()},e.prototype.HandleLoadEventInfo=function(){return Object(p.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u;return Object(p.e)(this,function(e){switch(e.label){case 0:t=this.props,n=t.appid,r=t.strVanity,i=t.announcementGID,a=t.eventGID,o=t.strGroupVanity,s=this.props.clanSteamID,e.label=1;case 1:return e.trys.push([1,9,,10]),this.state.bLoading?void 0===r?[3,3]:[4,J.a.LoadOGGClanInfoForIdentifier(r)]:[3,8];case 2:return c=e.sent(),s=c.clanSteamID,[3,5];case 3:return void 0===o?[3,5]:[4,J.a.LoadOGGClanInfoForGroupVanity(o)];case 4:c=e.sent(),s=c.clanSteamID,e.label=5;case 5:return[4,Z.c.LoadPartnerEventGeneric(s,n,a,i,0)];case 6:return l=e.sent(),[4,K.a.EnsureStoreCapsuleInfoLoaded(l.appid)];case 7:e.sent(),this.setState({bFailedLoad:!1,bLoading:!1}),e.label=8;case 8:return[3,10];case 9:return u=e.sent(),this.HandleError(u),[3,10];case 10:return[2]}})})},e.prototype.HandleError=function(e){var t=Object(B.a)(e),n=this.props,r=n.eventGID,i=n.announcementGID,a=n.strGroupVanity,o=n.strVanity;console.error("EventSnippet hit error on announceGID "+i+" eventGID "+r+" strVanity "+o+" strGroupVanity "+a+" error: "+t.strErrorMsg),this.setState({bFailedLoad:!0})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("component unmounted")},e.prototype.render=function(){var e=this.props,t=e.appid,n=e.announcementGID,r=e.eventGID,i=e.strURL,a=e.fnFilterImageURLsForKnownFailures,o=e.fnImageFailureCallback;if(this.state.bFailedLoad)return st(i);if(this.state.bLoading)return h.createElement(D.a,null);var s=void 0!==n?Z.c.GetClanEventFromAnnouncementGID(n):Z.c.GetClanEventModel(r);if(null==s)return st(i);var c=Object(f.h)(C.c.LANGUAGE),l=s.GetImageForSizeAsArrayWithFallback("capsule",c,b.c.capsule_main);a&&(l=a(l));var u=s.GetNameWithFallback(c),p=s.GetSubTitleWithSummaryFallback(c),d=K.a.GetStoreCapsuleInfo(t),m=Object(g.l)(s.GetStartTimeAndDateUnixSeconds());return h.createElement(X.c,{eventModel:s,route:X.a.k_eStoreNewsHub,className:S.a.DynamicLinkBox,"data-modal-content-sizetofit":!0,"data-appid":t},h.createElement(V.a,{className:S.a.DynamicLink_Preview,rgSources:l,onIncrementalError:function(e,t,n){return o&&o(t)}}),h.createElement("div",{className:S.a.DynamicLink_Content},h.createElement("div",{className:S.a.DynamicLink_Author},Object(g.f)(28==s.type?"#EventDisplay_Share_Announcement":"#EventDisplay_Share_Event",d.GetAppStoreData().title),h.createElement("span",{className:S.a.DynamicLink_Date},m)),h.createElement("div",{className:S.a.DynamicLink_Name},h.createElement("div",{className:S.a.DynamicLink_Type},u)),h.createElement("div",{className:S.a.DynamicLink_Description},p)))},Object(p.c)([v.observer],e)}(h.Component),ee=n("bWts"),te=n("DTkY"),ne=n.n(te),re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bSummaryMode:!0,bLoadedMetaData:!1},e}return Object(p.d)(e,t),e.prototype.componentDidMount=function(){return Object(p.b)(this,void 0,void 0,function(){var t,n,r;return Object(p.e)(this,function(e){switch(e.label){case 0:t="https://sketchfab.com/oembed?url=https://sketchfab.com/models/"+this.props.modelID,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,w.a.get(t)];case 2:return n=e.sent(),this.setState({bLoadedMetaData:!0,data:n.data}),[3,4];case 3:return r=e.sent(),this.setState({bError:!0}),console.error("SketchFabEmbed failed to load: "+Object(B.a)(r).strErrorMsg),[3,4];case 4:return[2]}})})},e.prototype.OnSketchFabClick=function(){this.state.bLoadedMetaData&&this.setState({bSummaryMode:!1})},e.prototype.render=function(){var e=this.props.modelID;return this.state.bError?h.createElement("div",{className:ne.a.dynamiclink_box,onClick:this.OnSketchFabClick},h.createElement("span",null,e),h.createElement("span",null,Object(g.f)("#EventDisplay_SketchFab_Error_Network"))):this.state.bSummaryMode?h.createElement("div",{className:ne.a.dynamiclink_box,onClick:this.OnSketchFabClick},Boolean(this.state.bLoadedMetaData)?h.createElement(h.Fragment,null,h.createElement("img",{className:ne.a.dynamiclink_preview,src:this.state.data.thumbnail_url}),h.createElement("img",{className:ne.a.sketchfab_play_overlay_image}),h.createElement("div",{className:ne.a.dynamiclink_content},h.createElement("div",{className:ne.a.dynamiclink_name},h.createElement("span",{className:ne.a.dynamiclink_type},Object(g.f)("#EventDisplay_Sketchfab")),h.createElement("div",null,this.state.data.title," ")),h.createElement("div",{className:ne.a.dynamiclink_author},this.state.data.author_name))):h.createElement(D.a,{size:"medium"})):h.createElement("div",{className:ne.a.sketchfabmodelembedded},h.createElement("iframe",{className:ne.a.sketchfabmodelembedded,src:"https://sketchfab.com/models/"+this.props.modelID+"/embed?autostart=1",frameBorder:0,allowFullScreen:!0}))},Object(p.c)([j.a],e.prototype,"OnSketchFabClick",null),Object(p.c)([v.observer],e)}(h.Component),ie=n("cGQe"),ae=function(){function e(){}return e.prototype.BIsValid=function(){return void 0!==this.giveaway_id&&null!==this.giveaway_id},e.prototype.BStarted=function(){return this.BIsValid()&&(0<=this.seconds_until_drawing||0<this.winner_count)},Object(p.c)([O.observable],e.prototype,"giveaway_id",void 0),Object(p.c)([O.observable],e.prototype,"seconds_until_drawing",void 0),Object(p.c)([O.observable],e.prototype,"rtime_start",void 0),Object(p.c)([O.observable],e.prototype,"rtime_end",void 0),Object(p.c)([O.observable],e.prototype,"closed",void 0),Object(p.c)([O.observable],e.prototype,"winner_count",void 0),e}(),oe=new(function(){function e(){this.m_mapGiveawayIDToNextDrawInfo=new Map,this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var e,t;this.m_bLoadedFromConfig||((e=Object(C.g)("giveawaynextdraw","application_config"))&&e.giveaway_id&&(t=new ae,this.CopyToGiveaway(e,t),this.m_mapGiveawayIDToNextDrawInfo.set(e.giveaway_id,t)),this.m_bLoadedFromConfig=!0)},e.prototype.CopyToGiveaway=function(e,t){t.closed!=e.closed&&(t.closed=e.closed),t.giveaway_id!=e.giveaway_id&&(t.giveaway_id=e.giveaway_id),t.rtime_start!=e.rtime_start&&(t.rtime_start=e.rtime_start),t.rtime_end!=e.rtime_end&&(t.rtime_end=e.rtime_end),t.winner_count!=e.winner_count&&(t.winner_count=e.winner_count),t.seconds_until_drawing!=e.seconds_until_drawing&&(t.seconds_until_drawing=e.seconds_until_drawing)},e.prototype.FirstTimeLoadGiveaway=function(t,n){return Object(p.b)(this,void 0,void 0,function(){return Object(p.e)(this,function(e){return this.LazyInit(),this.m_mapGiveawayIDToNextDrawInfo.has(t)?[2,this.m_mapGiveawayIDToNextDrawInfo.get(t)]:[2,this.ReloadGiveaway(t,n)]})})},e.prototype.ReloadGiveaway=function(i,a){return Object(p.b)(this,void 0,void 0,function(){var t,n,r;return Object(p.e)(this,function(e){switch(e.label){case 0:return t=C.c.STORE_BASE_URL+"prizes/nextdraw/"+i,n=null,r={origin:self.origin},[4,w.a.get(t,{params:r,cancelToken:a.token})];case 1:return n=e.sent(),this.m_mapGiveawayIDToNextDrawInfo.has(i)||this.m_mapGiveawayIDToNextDrawInfo.set(i,new ae),this.CopyToGiveaway(n.data,this.m_mapGiveawayIDToNextDrawInfo.get(i)),[2,this.m_mapGiveawayIDToNextDrawInfo.get(i)]}})})},Object(p.c)([O.observable],e.prototype,"m_mapGiveawayIDToNextDrawInfo",void 0),Object(p.c)([O.action],e.prototype,"CopyToGiveaway",null),e}());window.g_GiveawayStore=oe;var se=n("uEKC"),ce=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={info:void 0},e.m_cancelSignal=w.a.CancelToken.source(),e}return Object(p.d)(e,t),e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("GiveawayNextDraw component unmounted"),this.ClearRefreshInterval(),this.ClearCountDown()},e.prototype.componentDidMount=function(){return Object(p.b)(this,void 0,void 0,function(){var t;return Object(p.e)(this,function(e){switch(e.label){case 0:return[4,oe.FirstTimeLoadGiveaway(this.props.giveawayid,this.m_cancelSignal)];case 1:return t=e.sent(),this.setState({info:t}),this.SetupRefreshDataInterval(),this.SetupCountDown(),[2]}})})},e.prototype.SetupRefreshDataInterval=function(){this.ClearRefreshInterval();var e,t=this.state.info;t.closed||(e=t.seconds_until_drawing<=0&&0==t.winner_count?6e4:5e3,this.m_intervalID=window.setInterval(this.RefreshData,e))},e.prototype.ClearRefreshInterval=function(){this.m_intervalID&&(window.clearInterval(this.m_intervalID),this.m_intervalID=void 0)},e.prototype.RefreshData=function(){return Object(p.b)(this,void 0,void 0,function(){var t;return Object(p.e)(this,function(e){switch(e.label){case 0:return(t=this.state.info).BIsValid()&&t.seconds_until_drawing<=0&&!t.closed?(this.ClearCountDown(),[4,oe.ReloadGiveaway(this.props.giveawayid,this.m_cancelSignal)]):[3,2];case 1:e.sent(),this.SetupCountDown(),e.label=2;case 2:return[2]}})})},e.prototype.SetupCountDown=function(){0<this.state.info.seconds_until_drawing&&(this.m_intervalCountDownID=window.setInterval(this.UpdateTimer,1e3))},e.prototype.ClearCountDown=function(){this.m_intervalCountDownID&&(window.clearInterval(this.m_intervalCountDownID),this.m_intervalCountDownID=void 0)},e.prototype.UpdateTimer=function(){return Object(p.b)(this,void 0,void 0,function(){return Object(p.e)(this,function(e){return--this.state.info.seconds_until_drawing,0==this.state.info.seconds_until_drawing&&this.ClearCountDown(),[2]})})},e.prototype.PrintTwoDigits=function(e){return e<10?"0"+e:e},e.prototype.render=function(){var e=this.state.info;if(!e||null==e.giveaway_id||!e.BStarted())return null;var t=C.c.STORE_BASE_URL+"prizes/view/"+e.giveaway_id+(C.c.SNR?"?snr="+C.c.SNR:"");return h.createElement("div",{className:se.countdownCtn},Boolean(e.closed)&&h.createElement("div",{className:se.Closed},0<e.winner_count?Object(g.f)("#Giveaway_Closed",e.winner_count.toLocaleString()):Object(g.f)("#Giveaway_Closed_NoWinnerInfo")),Boolean(!e.closed)&&h.createElement(h.Fragment,null,Boolean(e.seconds_until_drawing<=0)?h.createElement("div",{className:se.Throbber},h.createElement(D.a,{size:"small"}),h.createElement("div",null,Object(g.f)("#Giveaway_RandomDraw"))):h.createElement("div",{className:se.CountDownCtn},h.createElement("div",{className:se.CountDownTime},this.PrintTwoDigits(Math.floor(e.seconds_until_drawing/60))+":"+this.PrintTwoDigits(e.seconds_until_drawing%60)),h.createElement("div",{className:se.CountDownText},Object(g.f)("#Giveaway_CountDown2")," ",Object(g.f)("#Giveaway_KeepWatching"))),Boolean(0<e.winner_count)&&h.createElement("div",{className:se.WinnerInfo},h.createElement("div",{className:se.WinnerCount},e.winner_count.toLocaleString()),h.createElement("div",{className:se.WinnerText},Object(g.f)("#Giveaway_Congratulation")))),h.createElement(Y.a,{className:se.LearnMore,href:t},Object(g.f)("#Giveaway_LearnMore")))},Object(p.c)([j.a],e.prototype,"SetupRefreshDataInterval",null),Object(p.c)([j.a],e.prototype,"ClearRefreshInterval",null),Object(p.c)([j.a],e.prototype,"RefreshData",null),Object(p.c)([j.a],e.prototype,"SetupCountDown",null),Object(p.c)([j.a],e.prototype,"UpdateTimer",null),Object(p.c)([v.observer],e)}(h.Component),le=n("l2mU"),ue=n("gPCo"),pe=n("5L1o"),de=/(?:steampowered\.com|valve\.org\/store|store\.steamchina\.com)\/(app|bundle|sub)\/(\d+)/i,me=/(?:steamcommunity\.com|valve\.org\/community|my\.steamchina\.com)\/(games|app|ogg|gid|groups)\/(\w+)\/(?:announcements\/detail|partnerevents\/view_old_announcement)\/(\d+)/i,he=/(?:steamcommunity\.com|valve\.org\/community)\/(games|app|ogg|gid|groups)\/(\w+)\/partnerevents\/view\/(\d+)/i,fe=/(?:steampowered\.com|valve\.org\/store|store\.steamchina\.com)\/(?:news|newshub)\/(group|app)\/(\w+)\/view\/(\d+)/i,be=/:\/\/medal.tv\/(?:clip|clips)\/(\d+)/i,_e=/sketchfab.com\/(?:models\/(?:[^\/\s]+-)?)([a-z0-9]{32})/i,ve=/twitter\.com\/(\w+)(\/?)$/i,ge=/twitter\.com\/hashtag\/(\w+)(\/?)$/i,ye=/twitch\.tv\/(\w+)(\/?)$/i,Se=/(?:steamcommunity\.com|valve\.org\/community|my\.steamchina\.com)\/id\/(\w+)(\/?)$/i;function we(e,t){return Object(c.a)(e,[null!==(r=null==(n=t)?void 0:n.jsondata)&&void 0!==r&&r.read_more_link?Object(M.b)(n.jsondata.read_more_link).toLocaleLowerCase():void 0]);var n,r}var Ce=function(n){function r(e){var t=n.call(this,e)||this;return t.m_parser=new i.a(r.BBCodeDictionary,t.ElementAccumulator,e.languageOverride),t}return Object(p.d)(r,n),r.prototype.ElementAccumulator=function(e){return new c.c(new c.b(new c.d(new a.c(new a.b,0,!0),e,r.GetBBCodeURLComponent(),{partnerEventStore:this.props.partnerEventStore,event:this.props.event})),e)},r.GetBBCodeURLComponent=function(){return null==r.sm_InternalBBCodeURLComponent&&(C.c.EREALM==d.p.k_ESteamRealmChina?r.sm_InternalBBCodeURLComponent=[{urlRegExp:new RegExp(de),fnBBComponent:mt},{urlRegExp:new RegExp(he),fnBBComponent:bt},{urlRegExp:new RegExp(fe),fnBBComponent:ft},{urlRegExp:new RegExp(me),fnBBComponent:ht},{urlRegExp:new RegExp(Se),fnBBComponent:wt}]:r.sm_InternalBBCodeURLComponent=[{urlRegExp:new RegExp(/youtu.be|youtube.com/i),fnBBComponent:ct},{urlRegExp:new RegExp(/community.+sharedfiles\/filedetails\/\?id=\d+/i),fnBBComponent:pt},{urlRegExp:new RegExp(de),fnBBComponent:mt},{urlRegExp:new RegExp(he),fnBBComponent:bt},{urlRegExp:new RegExp(fe),fnBBComponent:ft},{urlRegExp:new RegExp(me),fnBBComponent:ht},{urlRegExp:new RegExp(be),fnBBComponent:lt},{urlRegExp:new RegExp(_e),fnBBComponent:ut},{urlRegExp:new RegExp(ve),fnBBComponent:gt},{urlRegExp:new RegExp(ge),fnBBComponent:yt},{urlRegExp:new RegExp(ye),fnBBComponent:St},{urlRegExp:new RegExp(Se),fnBBComponent:wt}]),r.sm_InternalBBCodeURLComponent},r.prototype.render=function(){return this.m_parser.UpdateOverrideLanguage(this.props.languageOverride),this.m_parser.ParseBBCode(this.props.text,{showErrorInfo:this.props.showErrorInfo,event:this.props.event,bShowShortSpeakerInfo:this.props.bShowShortSpeakerInfo})},r.BBCodeDictionary=new Map([["b",{Constructor:Ae,autocloses:!1}],["i",{Constructor:Ie,autocloses:!1}],["h1",{Constructor:De,autocloses:!1,skipFollowingNewline:!0}],["h2",{Constructor:Re,autocloses:!1,skipFollowingNewline:!0}],["h3",{Constructor:Te,autocloses:!1,skipFollowingNewline:!0}],["u",{Constructor:Me,autocloses:!1}],["hr",{Constructor:Ne,autocloses:!1}],["strike",{Constructor:Le,autocloses:!1}],["spoiler",{Constructor:ke,autocloses:!1}],["noparse",{Constructor:Fe,autocloses:!1}],["url",{Constructor:Pe,autocloses:!1}],["quote",{Constructor:Ue,autocloses:!1}],["pullquote",{Constructor:xe,autocloses:!1}],["code",{Constructor:ze,autocloses:!1}],["img",{Constructor:He,autocloses:!1}],["list",{Constructor:We,autocloses:!1,skipInternalNewline:!0}],["olist",{Constructor:Ve,autocloses:!1,skipInternalNewline:!0}],["*",{Constructor:qe,autocloses:!0,skipInternalNewline:!0}],["table",{Constructor:Ye,autocloses:!1}],["tr",{Constructor:Qe,autocloses:!1}],["th",{Constructor:Ze,autocloses:!1}],["td",{Constructor:Ke,autocloses:!1}],["previewyoutube",{Constructor:Je,autocloses:!1}],["looping_media",{Constructor:$e,autocloses:!1}],["remindme",{Constructor:rt,autocloses:!1}],["giveawayinfo",{Constructor:it,autocloses:!1}],["video",{Constructor:et,autocloses:!1}],["price",{Constructor:le.b,autocloses:!1}],["pricesavings",{Constructor:le.c,autocloses:!1}],["trailer",{Constructor:tt,autocloses:!0}],["vod",{Constructor:nt,autocloses:!1}],["expand",{Constructor:at,autocloses:!1,skipInternalNewline:!0,allowWrapTextForCopying:!0}],["speaker",{Constructor:ot,autocloses:!1,skipInternalNewline:!0,allowWrapTextForCopying:!0}]]),r.sm_InternalBBCodeURLComponent=null,Object(p.c)([j.a],r.prototype,"ElementAccumulator",null),r}(h.Component);function Oe(e,t){return Object(Q.isNullOrUndefined)(t)?e[""]:e[t]}function Ee(e,t,n){var r=Oe(e,t);return void 0===r||null==r?n:Number.parseInt(r)}function Be(e,t,n){var r=(null==n?void 0:n.rtime32_last_modified)||0;if(void 0!==e&&e.startsWith(m.b))return(o="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/clans/")+e.substr(m.b.length+1)+"?t="+r;if(void 0!==e&&e.startsWith(_.b)){var i,a=new Array,o="https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/clans/",s=e.substr(_.b.length+1),c=b.a.GetHashFromHashAndExt(s),l=b.a.GetExtensionStringFromHashAndExt(s);return null!=t&&(i=Object(f.e)(t),a.push(o+c+"/"+i+l),4==t&&(i=Object(f.g)(Object(f.e)(t)),a.push(o+c+"/"+i+l+"?t="+r))),a.push(o+s+"?t="+r),a}return e}function Ae(e){return h.createElement("b",{className:ee.Bold},e.children)}function Ie(e){return h.createElement("i",null,e.children)}function je(e,t){var n=Oe(e.args);return n&&"string"==typeof n&&0<n.length&&"#"===n[0]&&(n=n.substring(1)),h.createElement("div",{id:n||void 0,className:t},e.children)}function De(e){return je(e,Object(I.a)(ee.Header1,"BB_Header1"))}function Re(e){return je(e,ee.Header2)}function Te(e){return je(e,ee.Header3)}function Me(e){return h.createElement("u",null,e.children)}function Ne(e){return h.createElement("div",{className:ee.HR})}function Le(e){return h.createElement("span",{className:ee.Strike},e.children)}function ke(e){return h.createElement("span",{className:ee.Spoiler},h.createElement("span",null,e.children))}function Fe(e){return h.createElement(h.Fragment,null,e.children)}function Pe(e){var t,n=Oe(e.args),r=function(e){switch(e){case"button":return Object(I.a)(ee.LinkButton,"LinkButton");default:return ee.Link}}(Oe(e.args,"style"));return void 0===n?e.children:("string"==typeof n&&0<n.length&&(n="string"==typeof(t=Be(n,e.language,e.context.event))?t:t[1]),"string"==typeof n&&0<n.length&&"#"==n[0]?h.createElement("a",{className:r,href:n},e.children):"steam://settings/account"==n?h.createElement(Y.a,{className:r,href:"steam://settings/account"},e.children):h.createElement(Ge,{className:r,url:n,event:e.context.event},e.children))}var Ge=function(e){var t,n=e.url,r=e.event,i=e.className,a=Object(M.e)(n);we(a,r)&&(a=(C.c.IN_CLIENT?"steam://openurl_external/":"")+C.c.COMMUNITY_BASE_URL+"linkfilter/?url="+a),Object(c.a)(a)&&(t="noopener nofollow");var o="string"==typeof e.children&&0<e.children.length&&a?Object(M.c)(a):void 0;return h.createElement("a",{className:i,href:a,rel:t},h.createElement("span",{"data-tooltip-text":o},e.children))};function Ue(e){var t=Oe(e.args,"author");return h.createElement("blockquote",{className:ee.BlockQuote},t&&h.createElement("div",{className:ee.QuoteAuthor},Object(g.f)("#Bbcode_Originally_Posted_By")+" "," ",h.createElement("b",{className:Object(I.a)(ee.Bold,ee.BlockQuoteAuthor)},t+":")),e.children)}function xe(e){return h.createElement("div",{className:ee.PullQuote},e.children)}function ze(e){return h.createElement("div",{className:ee.Code},e.children)}function He(e){var t=e.context.event,n=e&&e.children&&e.children.toString();if(!(null!=n&&null!=n&&0!=n.length||null!=(n=e&&e.args&&e.args[""])&&null!=n&&0!=n.length))return"";var r=Be(n,e.language,e.context.event);if("string"!=typeof r)return h.createElement(V.a,{rgSources:r});n=r;var i,a,o,s,c=void 0;return c=(!t||!t.BHasTag("auto_rssfeed"))&&(i=Object(M.b)(n),a=Object(M.b)(C.c.COMMUNITY_CDN_URL),o=Object(M.b)(C.c.MEDIA_CDN_URL),s=Object(M.b)(C.c.MEDIA_CDN_COMMUNITY_URL),Boolean(i!==a&&i!==o&&i!==s)),e.context.showErrorInfo||(n=n.replace("http://","https://")),e.context.showErrorInfo?h.createElement(W.a,{src:n,crossOrigin:c?"anonymous":void 0}):h.createElement("img",{src:n,crossOrigin:c?"anonymous":void 0})}function We(e){return h.createElement("ul",{className:ee.UnorderList},e.children)}function Ve(e){return h.createElement("ol",null,e.children)}function qe(e){return h.createElement("li",null,e.children)}function Ye(e){var t=Oe(e.args,"noborder");return h.createElement("div",{className:Object(I.a)(ee.Table,t?ee.NoBorder:"")},e.children)}function Qe(e){return h.createElement("div",{className:Object(I.a)(ee.TableRow,"BB_TableRow")},e.children)}function Ze(e){return h.createElement("div",{className:ee.TableHeader},e.children)}function Ke(e){return h.createElement("div",{className:Object(I.a)(ee.TableData,"BB_TableData")},e.children)}function Je(e){if(C.c.EREALM===d.p.k_ESteamRealmChina)return null;var t=Oe(e.args);if(t){var n=t.split(";");if(2==n.length){var r=n[0],i=n[1].toLocaleLowerCase(),a="full"==i?y.sizeFull:y.sizeThumb,o="full"==i?"":"leftthumb"==i?y.floatLeft:y.floatRight;return h.createElement(R,{videoID:r,classNameAlign:o,classNameSize:a,bShowVideoImmediately:!0})}}return h.createElement(h.Fragment,null)}function Xe(e){var t=(t=Oe(e.args,"poster"))&&Object(M.f)(t),n=new Array,r=Oe(e.args,"mp4");r&&n.push({sURL:Object(M.f)(r),sFormat:"video/mp4"});var i=Oe(e.args,"webm");i&&n.push({sURL:Object(M.f)(i),sFormat:"video/webm"});for(var a=new Array,o=0;o<30;o++){var s=Oe(e.args,"sub_"+Object(f.f)(o));s&&a.push({sURL:Object(M.f)(s),eLanguage:o,sKind:"subtitles"});var c=Oe(e.args,"cap_"+Object(f.f)(o));c&&a.push({sURL:Object(M.f)(c),eLanguage:o,sKind:"caption"})}return{sPoster:t,rgVideoSources:n,rgVideoTracks:a}}function $e(e){var t=Xe(e);return h.createElement(L,{video:t,bAutoPlay:!0,bControls:!1,bLoop:!0})}function et(e){var t=Xe(e),n=e.children?e.children.toString():void 0;n&&t.rgVideoSources.push({sURL:Object(M.f)(n),sFormat:"video/webm"});var r,i,a,o=(r=e.args,i=!0,void 0===(a=Oe(r,"autoplay"))?i:"0"!==a);return h.createElement(L,{video:t,bAutoPlay:o,bControls:!0,bLoop:o})}function tt(e){var t=Ee(e.args,"appid",e.context.event.appid?e.context.event.appid:0),n=Ee(e.args,"trailerid",0);return h.createElement(k,{appid:t,trailerBaseID:n,bIsPreviewMode:e.context.showErrorInfo})}function nt(e){var t=Ee(e.args,"appid",0);return h.createElement(F,{appid:t,bPreviewMode:e.context.showErrorInfo})}function rt(e){var t=e.context,n=t.event,r=t.language;if(n){var i=Oe(e.args)||n.GID;if(i)return h.createElement(ie.a,{eventModel:n,eventGID:i,lang:r})}return h.createElement(h.Fragment,null)}function it(e){var t=Oe(e.args);return t?h.createElement(ce,{giveawayid:t}):h.createElement(h.Fragment,null)}function at(e){var t=Boolean(Oe(e.args,"expanded")),n=h.useState(t),r=n[0],i=n[1],a=function(e){switch(e){case"details":return{collapsed:"#Bbcode_Expand_Details_Collapsed",expanded:"#Bbcode_Expand_Details_Expanded",style:ee.ExpandSection_Details};case"spoiler":return{collapsed:"#Bbcode_Expand_Spoiler_Collapsed",expanded:"#Bbcode_Expand_Spoiler_Expanded",style:ee.ExpandSection_Spoiler};default:return{collapsed:"#Bbcode_Expand_ShowMore_Collapsed",expanded:"#Bbcode_Expand_ShowMore_Expanded",style:ee.ExpandSection_ShowMore}}}(Oe(e.args,"type"));return h.createElement("div",{className:Object(I.a)(ee.ExpandSectionBlock,a.style,r?ee.ExpandSectionExpanded:ee.ExpandSectionCollapsed)},h.createElement("div",{className:ee.ExpandSectionHeader,onClick:function(){return i(!r)}},Object(g.f)(r?a.expanded:a.collapsed),h.createElement("div",{className:ee.EmbedArrow},h.createElement(q.C,{angle:r?180:0}))),r&&h.createElement("div",{className:ee.ExpandSectionBody},e.children))}function ot(e){var t=Oe(e.args,"name"),n=Oe(e.args,"title"),r=Oe(e.args,"company"),i=Oe(e.args,"photo");return e.context.bShowShortSpeakerInfo?h.createElement(ue.c,{name:t,title:n,company:r,photo:i,bio:e.children}):h.createElement(ue.a,{name:t,title:n,company:r,photo:i,bio:e.children})}function st(e,t,n){var r=e;return r.toLowerCase().startsWith("http")||(r="http://"+r),h.createElement(Ge,{url:r,event:t},n||e)}function ct(e,t){if(C.c.EREALM===d.p.k_ESteamRealmChina)return null;var n,r,i,a=e.split("?"),o=void 0;return 2!=a.length||"v"in(n=s.a.parse(a[1]))&&(o=n.v.toString()),null==o&&0<a.length&&(a[0].toLocaleLowerCase().includes("youtu.be")||a[0].toLocaleLowerCase().includes("/embed/"))&&(-1!=(i=(r=a[0]).lastIndexOf("/"))&&i+1<r.length&&(o=r.substring(i+1))),void 0!==o?h.createElement(R,{videoID:o,classNameAlign:"",classNameSize:y.sizeFull,bShowVideoImmediately:!1}):st(e,null==t?void 0:t.event)}function lt(e,t){if(C.c.EREALM===d.p.k_ESteamRealmChina)return null;var n=new RegExp(be).exec(e);if(n&&1<n.length){var r=Number(n[1]);if(0<r){var i="https://medal.tv/clip/"+r+"/?autoplay=0&donate=0"+(t&&t.event?"&steamappid="+t.event.appid:"");return h.createElement("iframe",{className:ee.MedalTVWidget,src:i,frameBorder:0,allow:"autoplay"})}}return st(e,null==t?void 0:t.event)}function ut(e,t){var n=new RegExp(_e).exec(e);if(n&&1<n.length){var r=n[1];if(r&&1<r.length)return h.createElement(re,{modelID:r})}return st(e,null==t?void 0:t.event)}function pt(e,t){var n,r=e.split("?"),i=void 0;return 2!=r.length||"id"in(n=s.a.parse(r[1]))&&(i=n.id.toString()),void 0!==i?h.createElement(A,{sharedFileID:i}):st(e,null==t?void 0:t.event)}function dt(e){var t=Object(M.b)(e).toLocaleLowerCase(),n=Object(M.b)(C.c.STORE_BASE_URL),r=Object(M.b)(C.c.COMMUNITY_BASE_URL);return t==n||t==r||"dev"===C.c.WEB_UNIVERSE&&(t.includes("steampowered.com")||t.includes("steamcommunity.com")||t.includes("steamchina.com"))}function mt(e,t){if(dt(e)){var n=new RegExp(de).exec(e);if(n&&2<n.length){var r=n[1],i=Number(n[2]);if(0<i){var a="bundle"==r?"bundle":"sub"==r?"sub":"game";return h.createElement("div",{className:ee.AppSummaryWidgetCtn},h.createElement(pe.h,{id:i,type:a}))}}}return st(e,null==t?void 0:t.event)}function ht(e,t){if(dt(e)){var n=new RegExp(me).exec(e);if(n&&2<n.length){var r=void 0,i=void 0,a=void 0,o=void 0;"gid"==n[1]?i=new l.a(n[2]):"groups"==n[1]?o=n[2]:isNaN(+n[2])?a=n[2]:r=Number(n[2]);var s=n[3];if((void 0!==r&&0<r||void 0!==a||void 0!==o||void 0!==i)&&null!=s&&0<s.length)return h.createElement($,{appid:r,clanSteamID:i,strVanity:a,strGroupVanity:o,announcementGID:s,strURL:e})}}return st(e,null==t?void 0:t.event)}function ft(e,t){return _t(fe,e,t)}function bt(e,t){return _t(he,e,t)}function _t(e,t,n){if(dt(t)){var r=new RegExp(e).exec(t);if(r&&2<r.length){var i=void 0,a=void 0,o=void 0,s=void 0;"gid"==r[1]?a=new l.a(r[2]):"group"==r[1]?a=l.a.InitFromClanID(Number.parseInt(r[2])):"groups"==r[1]?s=r[2]:isNaN(+r[2])?o=r[2]:i=Number(r[2]);var c=r[3];if((void 0!==i&&0<i||void 0!==o||void 0!==s||void 0!==a)&&null!=c&&0<c.length)return h.createElement($,{appid:i,clanSteamID:a,strVanity:o,strGroupVanity:s,eventGID:c,strURL:t})}}return st(t,null==n?void 0:n.event)}function vt(e,t,n,r){var i=void 0,a=e.endsWith("/")?e.length-1:e.length,o=e.lastIndexOf("/",a-1);-1!=o&&o+1<e.length&&(i=e.substring(o+1,a)),n&&i&&(i=n+i);var s=st(e,null==r?void 0:r.event,null!=i?i:e);return h.createElement("div",{className:ee.SocialLink},h.createElement("div",{className:ee.SocialIcon},t),s)}function gt(e,t){return C.c.EREALM===d.p.k_ESteamRealmChina?null:vt(e,h.createElement(q.Ab,null),"@",t)}function yt(e,t){return C.c.EREALM===d.p.k_ESteamRealmChina?null:vt(e,h.createElement(q.Ab,null),"#",t)}function St(e,t){return C.c.EREALM===d.p.k_ESteamRealmChina?null:vt(e,h.createElement(q.zb,null),void 0,t)}function wt(e,t){return vt(e,h.createElement(q.rb,null),void 0,t)}},TQGK:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n("mrSG"),r=n("vDqi"),o=n.n(r),i=n("2vnA"),s=n("kLLr"),c=n("lkRc"),l=n("r64O"),u=n("uIWk"),p=(n("3+zv"),new(function(){function e(){this.m_mapAppIDToClanInfo=new Map,this.m_mapVanityToClanInfo=new Map,this.m_mapClanAccountIDToClanInfo=new Map,this.m_mapPromisesLoading=new Map,this.m_rgQueuedEventsClanIDs=new Array,this.m_bLoadedFromConfig=!1}return e.prototype.Init=function(){this.LazyInit()},e.prototype.LazyInit=function(){var t=this;this.m_bLoadedFromConfig||(!Object({NODE_ENV:"production",STEAM_BUILD:"buildbot"}).MOBILE_BUILD&&document.getElementById("application_config")&&Object(i.runInAction)(function(){var e=Object(c.g)("groupvanityinfo","application_config");t.ValidateClanConfig(e)&&e.forEach(function(e){t.InternalSetupValue(e)})}),this.m_bLoadedFromConfig=!0)},e.prototype.ValidateClanConfig=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("number"==typeof t[0].clanAccountID&&("number"==typeof t[0].appid||"string"==typeof t[0].vanity_url))},e.prototype.BHasClanInfoLoaded=function(e){return Object(l.a)(e.BIsValid(),"Clan SteamID is not valid when ClanInfo"),Object(l.a)(e.BIsClanAccount(),"Clan SteamID is not a clan account id when requesting clan info "),this.m_mapClanAccountIDToClanInfo.has(e.GetAccountID())},e.prototype.BHasClanInfoLoadedByAccountID=function(e){return this.m_mapClanAccountIDToClanInfo.has(e)},e.prototype.RegisterClanData=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this.InternalSetupValue(r)}},e.prototype.InternalSetupValue=function(e){var t={clanAccountID:e.clanAccountID,clanSteamID:new s.a(e.clanSteamIDString),appid:e.appid,vanity_url:e.vanity_url,member_count:e.member_count,is_ogg:e.is_ogg,is_creator_home:e.is_creator_home,is_curator:e.is_curator,has_visible_store_page:e.has_visible_store_page,has_rss_feed:e.has_rss_feed,rss_language:e.rss_language?e.rss_language:0,avatar_full_url:e.avatar_full_url,group_name:e.group_name,creator_page_bg_url:e.creator_page_bg_url};0!=e.appid&&this.m_mapAppIDToClanInfo.set(e.appid,t),e.vanity_url&&0<e.vanity_url.length&&this.m_mapVanityToClanInfo.set(e.vanity_url,t),this.m_mapClanAccountIDToClanInfo.set(e.clanAccountID,t)},e.prototype.GetRequestParam=function(){return{origin:self.origin}},e.prototype.LoadOGGClanInfoForAppID=function(n){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.e)(this,function(e){return this.LazyInit(),"string"==typeof n&&(n=parseInt(n)),Object(l.a)(0!=n,"LoadOGGClanInfoForAppID called with appid of zero"),0==n?[2,null]:this.m_mapAppIDToClanInfo.has(n)?[2,this.m_mapAppIDToClanInfo.get(n)]:(t="appid_"+n,this.m_mapPromisesLoading.has(t)||this.m_mapPromisesLoading.set(t,this.InternalLoadOGGClanInfoForAppID(n)),[2,this.m_mapPromisesLoading.get(t)])})})},e.prototype.InternalLoadOGGClanInfoForAppID=function(r){return Object(a.b)(this,void 0,void 0,function(){var t,n;return Object(a.e)(this,function(e){switch(e.label){case 0:return t=c.c.COMMUNITY_BASE_URL+"ogg/"+r+"/ajaxgetvanityandclanid/",[4,o.a.get(t,{params:this.GetRequestParam()})];case 1:return n=e.sent(),this.InternalSetupValue(n.data),[2,this.m_mapAppIDToClanInfo.get(r)]}})})},e.prototype.LoadOGGClanInfoForIdentifier=function(n){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.e)(this,function(e){return this.LazyInit(),this.m_mapVanityToClanInfo.has(n)?[2,this.m_mapVanityToClanInfo.get(n)]:(t="storevanity_"+n,this.m_mapPromisesLoading.has(t)||this.m_mapPromisesLoading.set(t,this.InternalLoadOGGClanInfoForIdentifier(n)),[2,this.m_mapPromisesLoading.get(t)])})})},e.prototype.InternalLoadOGGClanInfoForIdentifier=function(r){return Object(a.b)(this,void 0,void 0,function(){var t,n;return Object(a.e)(this,function(e){switch(e.label){case 0:return t=c.c.COMMUNITY_BASE_URL+"games/"+r+"/ajaxgetvanityandclanid/",[4,o.a.get(t,{params:this.GetRequestParam()})];case 1:return n=e.sent(),this.InternalSetupValue(n.data),[2,this.m_mapVanityToClanInfo.get(r)]}})})},e.prototype.LoadOGGClanInfoForGroupVanity=function(n){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.e)(this,function(e){return this.LazyInit(),this.m_mapVanityToClanInfo.has(n)?[2,this.m_mapVanityToClanInfo.get(n)]:(t="community_name_"+n,this.m_mapPromisesLoading.has(t)||this.m_mapPromisesLoading.set(t,this.InternalLoadOGGClanInfoForGroupVanity(n)),[2,this.m_mapPromisesLoading.get(t)])})})},e.prototype.InternalLoadOGGClanInfoForGroupVanity=function(r){return Object(a.b)(this,void 0,void 0,function(){var t,n;return Object(a.e)(this,function(e){switch(e.label){case 0:return t=c.c.COMMUNITY_BASE_URL+"groups/"+r+"/ajaxgetvanityandclanid/",[4,o.a.get(t,{params:this.GetRequestParam()})];case 1:return n=e.sent(),this.InternalSetupValue(n.data),[2,this.m_mapVanityToClanInfo.get(r)]}})})},e.prototype.LoadClanInfoForClanSteamID=function(r){return Object(a.b)(this,void 0,void 0,function(){var t,n;return Object(a.e)(this,function(e){return this.LazyInit(),t=r.GetAccountID(),this.m_mapClanAccountIDToClanInfo.has(t)?[2,this.m_mapClanAccountIDToClanInfo.get(t)]:(n="clanaccountid_"+t,this.m_mapPromisesLoading.has(n)||this.m_mapPromisesLoading.set(n,this.InternalLoadClanInfoForClanSteamID(r)),[2,this.m_mapPromisesLoading.get(n)])})})},e.prototype.InternalLoadClanInfoForClanSteamID=function(i){return Object(a.b)(this,void 0,void 0,function(){var t,n,r;return Object(a.e)(this,function(e){switch(e.label){case 0:return t=i.GetAccountID(),n=c.c.COMMUNITY_BASE_URL+"gid/"+i.ConvertTo64BitString()+"/ajaxgetvanityandclanid/",[4,o.a.get(n,{params:this.GetRequestParam()})];case 1:return r=e.sent(),this.InternalSetupValue(r.data),[2,this.m_mapClanAccountIDToClanInfo.get(t)]}})})},e.prototype.GetOGGClanInfo=function(e){return"string"==typeof e?this.m_mapVanityToClanInfo.get(e):this.m_mapAppIDToClanInfo.get(e)},e.prototype.GetClanSteamIDForAppID=function(e){if(this.LazyInit(),this.m_mapAppIDToClanInfo.has(e))return s.a.InitFromClanID(this.m_mapAppIDToClanInfo.get(e).clanAccountID)},e.prototype.GetClanVanityForAppID=function(e){if(this.LazyInit(),this.m_mapAppIDToClanInfo.has(e))return this.m_mapAppIDToClanInfo.get(e).vanity_url},e.prototype.GetClanVanityForClanSteamID=function(e){if(this.LazyInit(),this.m_mapClanAccountIDToClanInfo.has(e.GetAccountID()))return this.m_mapClanAccountIDToClanInfo.get(e.GetAccountID()).vanity_url},e.prototype.HasLoadedClanAccountID=function(e){return this.LazyInit(),this.m_mapClanAccountIDToClanInfo.has(e)},e.prototype.GetClanMemberCount=function(e){return this.m_mapAppIDToClanInfo.has(e)?this.m_mapAppIDToClanInfo.get(e).member_count:0},e.prototype.GetClanInfoByClanAccountID=function(e){return this.LazyInit(),Object(l.a)(!!e,"Unepxected clanid when requesting information. GetClanInfoByClanAccountID "),this.m_mapClanAccountIDToClanInfo.get(e)},e.prototype.GetCreatorStoreURL=function(e){var t=u.a.GetCreatorHome(e);if(t)return t.GetCreatorHomeURL("developer");var n=this.GetClanInfoByClanAccountID(e.GetAccountID());return c.c.COMMUNITY_BASE_URL+(n.vanity_url?"groups/"+n.vanity_url:"gid/"+e.ConvertTo64BitString())},Object(a.c)([i.observable],e.prototype,"m_mapAppIDToClanInfo",void 0),Object(a.c)([i.observable],e.prototype,"m_mapVanityToClanInfo",void 0),Object(a.c)([i.observable],e.prototype,"m_mapClanAccountIDToClanInfo",void 0),Object(a.c)([i.action],e.prototype,"RegisterClanData",null),Object(a.c)([i.action],e.prototype,"InternalSetupValue",null),e}()));window.g_ClanStore=p},TQQK:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var l=n("mrSG"),r=n("vDqi"),u=n.n(r),p=n("2vnA"),d=n("bDQf"),m=n("lkRc"),h=n("0tYJ"),i=function(){function e(){this.m_mapAppToVOD=new Map}return e.prototype.GetVODForAppID=function(e){return this.m_mapAppToVOD.get(e)},e.prototype.LoadVODForAppID=function(s,c){return Object(l.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(l.e)(this,function(e){switch(e.label){case 0:if(this.m_mapAppToVOD.has(s))return[2,this.m_mapAppToVOD.get(s)];t=m.c.STORE_BASE_URL+"video/details/"+s+"/0",n={},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,u.a.get(t,{params:n,withCredentials:!0,cancelToken:c?c.token:void 0})];case 2:return r=e.sent(),c&&c.token.reason?[2,null]:r&&200==r.status&&r.data&&(1==r.data.success||"ready"==r.data.success)?(i=Object(p.observable)({appid:s,video_url:r.data.video_url,bookmark:r.data.bookmark}),r.data.bookmark?h.b.Get().SetBookmarkForApp(s,r.data.bookmark):h.b.Get().InitializeBookmarkForApp(s),this.m_mapAppToVOD.set(s,i),[2,i]):[3,4];case 3:return a=e.sent(),o=Object(d.a)(a),console.error("CVideoOnDemandStore:LoadVODForAppID: Failed "+o.strErrorMsg,o),[3,4];case 4:return[2,null]}})})},e.Get=function(){return e.s_VODStore||(e.s_VODStore=new e).Init(),e.s_VODStore},e.prototype.Init=function(){},e}()},TtDX:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("mrSG"),i=n("q1tI"),a=n("X3Ds"),o=n("y+6m"),c=n("sUmc"),s=n("2vnA"),l=n("+jbA"),u=n.n(l),p=function(){function e(){}return e.GetBrowserInfoForPopup=function(e){return null},e.prototype.SetTakeFocus=function(e){this.m_fnTakeFocus=e},Object(r.c)([s.observable],e.prototype,"m_refContextMenu",void 0),e}(),d=function(){function e(){}return e.CreateContextMenuInstance=function(e,t,n,r,i){return new f(e,t,n,r,i)},e}();function m(e,t,n){var r,i=void 0,a=void 0,o=t;if(null!=o&&o.preventDefault&&null!=o&&o.stopPropagation){if(o.shiftKey)return null;o.preventDefault(),o.stopPropagation(),r=o.currentTarget,i=o.clientX,a=o.clientY}else r=t;var s=d.CreateContextMenuInstance(e,r,i,a,n);return s.Show(),s}var h=function(n){function e(e){var t=n.call(this)||this;return t.m_bVisible=!1,t.m_elSubmenuItem=null,t.m_timerHideSubMenu=0,t.m_ownerWindow=e,t}return Object(r.d)(e,n),e.prototype.RenderElements=function(e,t){0==this.presentation&&(e.options.bForcePopup||this.m_ownerWindow.innerWidth)<400&&this.m_ownerWindow.SteamClient&&this.m_ownerWindow.SteamClient.Window?this.m_popupContextMenu=new o.a(e,t,p.GetBrowserInfoForPopup(this.m_ownerWindow)):(this.m_embeddedElementInstance=Object(c.b)(this.m_ownerWindow.document),this.m_rctElement=i.createElement(o.g,e,t))},e.prototype.SetOnHideCallback=function(e){this.m_fnOnHideCallback=e},e.prototype.Show=function(){this.m_rctElement?this.m_embeddedElementInstance.Show(this.m_rctElement):this.m_popupContextMenu.Show(),this.m_bVisible=!0},e.prototype.Hide=function(){this.InternalHide()},e.prototype.HideIfNotInFocus=function(){this.BHasFocus()||this.BIsFocusInChildHierarchy()||this.Hide()},e.prototype.InternalHide=function(){this.m_bVisible&&(this.m_bVisible=!1,this.InternalHideSubMenu(),this.m_fnOnHideCallback&&this.m_fnOnHideCallback(),this.m_embeddedElementInstance?this.m_embeddedElementInstance.Hide(300):this.m_popupContextMenu.Close())},Object.defineProperty(e.prototype,"visible",{get:function(){return this.m_bVisible},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.m_options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"presentation",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){return u.a},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"owner_window",{get:function(){return this.m_ownerWindow},enumerable:!1,configurable:!0}),e.prototype.ShowSubMenu=function(e,t){return this.m_elSubmenuItem==e?(this.CancelHideSubMenuTimer(),this.m_submenu.TakeFocus(),null):(this.InternalHideSubMenu(),this.m_elSubmenuItem=e,this.m_submenu=new b(this,t(),e),this.m_submenu.Show(),this.m_submenu)},e.prototype.CancelHideSubMenuTimer=function(){0<this.m_timerHideSubMenu&&(clearTimeout(this.m_timerHideSubMenu),this.m_timerHideSubMenu=0)},e.prototype.HideSubMenu=function(){var e=this;this.m_submenu?0<this.m_timerHideSubMenu||(this.m_timerHideSubMenu=window.setTimeout(function(){e.InternalHideSubMenu(),e.m_timerHideSubMenu=0},150)):this.CancelHideSubMenuTimer()},e.prototype.HideSelf=function(){this.InternalHide()},e.prototype.InternalHideSubMenu=function(){this.CancelHideSubMenuTimer(),this.m_submenu&&(this.BIsFocusInChildHierarchy()&&this.TakeFocus(),this.m_elSubmenuItem=null,this.m_submenu.InternalHide(),this.m_submenu=null)},e.prototype.TakeFocus=function(){this.m_popupContextMenu&&this.m_popupContextMenu.Focus(),this.m_fnTakeFocus&&this.m_fnTakeFocus()},e.prototype.BInternalElementInParentHierarchy=function(e){return this.m_parentInstance&&(this.m_parentInstance.BIsChildElement(e)||this.m_parentInstance.BInternalElementInParentHierarchy(e))},e.prototype.BInternalElementInChildHierarchy=function(e){return this.m_submenu&&(this.m_submenu.BIsChildElement(e)||this.m_submenu.BInternalElementInChildHierarchy(e))},e.prototype.BIsChildElement=function(e){return this.m_embeddedElementInstance?this.m_embeddedElementInstance.BIsChildElement(e):a.c(this.m_popupContextMenu.root_element,e)},e.prototype.BHasFocus=function(){return this.m_embeddedElementInstance?this.m_embeddedElementInstance.BIsChildElement(this.m_ownerWindow.document.activeElement):this.m_popupContextMenu.focused},e.prototype.BIsFocusInChildHierarchy=function(){return this.m_submenu&&(this.m_submenu.BHasFocus()||this.m_submenu.BIsFocusInChildHierarchy())},e.prototype.BIsElementInMenuHierarchy=function(e){return this.BInternalElementInParentHierarchy(e)||this.BInternalElementInChildHierarchy(e)},e.prototype.BIsSubMenuVisible=function(){return!!this.m_submenu},e.prototype.SetLabel=function(e){},Object(r.c)([s.observable],e.prototype,"m_bVisible",void 0),e}(p),f=function(s){function e(e,t,n,r,i){var a=s.call(this,t.ownerDocument.defaultView)||this;p.sm_iActiveContextMenuInstance&&p.sm_iActiveContextMenuInstance.Hide(),(p.sm_iActiveContextMenuInstance=a).m_options=i||{};var o={element:t,clientX:n,clientY:r,instance:a,options:a.m_options,fnOnMenuItemSelected:function(){a.Hide()}};return a.RenderElements(o,e),a}return Object(r.d)(e,s),e.prototype.Show=function(){this.m_options.bDisableMouseOverlay||(this.m_embeddedElementInstanceOverlay=Object(c.b)(this.m_ownerWindow.document),this.m_embeddedElementInstanceOverlay.Show(i.createElement(o.f))),s.prototype.Show.call(this)},e.prototype.Hide=function(){this.m_embeddedElementInstanceOverlay&&this.m_embeddedElementInstanceOverlay.Hide(0),s.prototype.Hide.call(this)},e.prototype.BIsSubMenu=function(){return!1},e}(h),b=function(a){function e(e,t,n){var r=a.call(this,n.ownerDocument.defaultView)||this;r.m_parentInstance=e,r.m_options={bOverlapVertical:!0,bUseWebStyles:e.options.bUseWebStyles,strClassName:e.options.strClassName,bFitToWindow:e.options.bFitToWindow,bShiftToFitWindow:e.options.bShiftToFitWindow};var i={element:n,clientX:null,clientY:null,instance:r,options:r.m_options,fnOnMenuItemSelected:function(){r.Hide()},bSubmenu:!0};return r.RenderElements(i,t),r}return Object(r.d)(e,a),e.prototype.Hide=function(){var e=this;this.m_popupContextMenu?window.setTimeout(function(){e.m_parentInstance.HideIfNotInFocus()},10):this.m_parentInstance.Hide()},e.prototype.BIsSubMenu=function(){return!0},e}(h)},Txw1:function(e,t,n){e.exports={ReadMoreLink:"spotlight_ReadMoreLink_2mvgc",MajorEventContainer:"spotlight_MajorEventContainer_dVJB2",MajorEventImageContainer:"spotlight_MajorEventImageContainer_1PkTB",MajorEventImage:"spotlight_MajorEventImage_25fL1",BottomShadow:"spotlight_BottomShadow_1ueE9",MajoreEventImageContentContainer:"spotlight_MajoreEventImageContentContainer_3mREW",MajorEventImageTemplate:"spotlight_MajorEventImageTemplate_lQR9_",MajorEventBackground:"spotlight_MajorEventBackground_388Iu",MajorEventImageBackgroundBlur:"spotlight_MajorEventImageBackgroundBlur_3sVs6",MajorEventHeader:"spotlight_MajorEventHeader_1HL2n",EventType:"spotlight_EventType_3zVyX",GameIconAndName:"spotlight_GameIconAndName_IltgR",GameIcon:"spotlight_GameIcon_3Dkj3",MajorEventSpotlightBackground:"spotlight_MajorEventSpotlightBackground_1aheP",MajorEventContent:"spotlight_MajorEventContent_2nr7N",MajorEventTextCtn:"spotlight_MajorEventTextCtn_Ojdg2",MajorEventTitle:"spotlight_MajorEventTitle_nEBZT",MajorEventSummary:"spotlight_MajorEventSummary_HPngO",MajorEvent_Ctn:"spotlight_MajorEvent_Ctn_2_kU7",AppDetailsSpotlightContainer:"spotlight_AppDetailsSpotlightContainer_1zDJ1"}},Ty2a:function(e,t,n){e.exports={AfterResetSummary:"resetcollectionsdialog_AfterResetSummary_2F0Ch",NoDataWarning:"resetcollectionsdialog_NoDataWarning_1lZUF",UserTagList:"resetcollectionsdialog_UserTagList_1L1HP"}},"U+Q5":function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"a",function(){return w}),n.d(t,"b",function(){return O}),n.d(t,"d",function(){return E});var l,r,f=n("mrSG"),i=n("vDqi"),h=n.n(i),p=n("2vnA"),s=n("mgoM"),b=n("3+zv"),u=n("kLLr"),a=n("Kw0F"),d=n("r64O"),m=n("qiKp"),_=n("X3Ds"),v=n("TLQK"),g=n("bDQf"),o=n("bxiW"),y=n("CdLH"),S=n("lkRc");function c(e,t,n,r){if(void 0===r&&(r=!1),n)for(var i=0,a=n;i<a.length;i++){var o=a[i];if((r?Object(b.d):Object(b.b))(e,t,o))return o}}(r=l=l||{}).full="",r.background_main="_960x311",r.background_mini="_480x156",r.capsule_main="_400x225",r.spotlight_main="_1054x230";var w=function(){function m(){this.m_mapClanToImages=new Map,this.m_mapClanImageLoadState=new Map,this.m_mapImageIDToResolution=new Map,this.m_curLocImageGroup=null,this.m_curLocImageGroupType=null,this.m_vecClanImageDragListener=new Array}return m.prototype.BHasImageResolution=function(e){return this.m_mapImageIDToResolution.has(e.imageid)},m.prototype.GetImageResolution=function(e){return this.m_mapImageIDToResolution.get(e.imageid)},m.prototype.SetImageResolution=function(e,t){this.m_mapImageIDToResolution.set(e.imageid,t)},m.GetExtensionStringForFileType=function(e){switch(e){case 1:return".jpg";case 2:return".gif";case 3:return".png"}},m.GetExtensionString=function(e){return m.GetExtensionStringForFileType(e.file_type)||".jpg"},m.GetExtensionTypeFromURL=function(e){return e.endsWith(".jpg")?1:e.endsWith(".png")?3:e.endsWith(".gif")?2:void 0},m.GetHashAndExt=function(e){return e.image_hash+m.GetExtensionString(e)},m.GetThumbHashAndExt=function(e){return e.thumbnail_hash+m.GetExtensionString(e)},m.prototype.AddClanImageDragListener=function(e){-1==this.m_vecClanImageDragListener.indexOf(e)&&this.m_vecClanImageDragListener.push(e)},m.prototype.RemoveClanImageDragListener=function(e){var t=this.m_vecClanImageDragListener.indexOf(e);-1!=t&&this.m_vecClanImageDragListener.splice(t,1)},m.prototype.GetClanImageDragListener=function(){return this.m_vecClanImageDragListener},m.prototype.BHasLoadedClanImages=function(e){return this.m_mapClanToImages.has(e.GetAccountID())},m.prototype.LoadClanImages=function(c,l,u){return Object(f.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s=this;return Object(f.e)(this,function(e){switch(e.label){case 0:return(t=c.GetAccountID(),Object(d.a)(c&&0!=t,"ClanSteamID missing:"+c),!c||this.m_mapClanToImages.has(t)&&!l)?[3,2]:(n={},r=null,i=S.c.COMMUNITY_BASE_URL+"/gid/"+c.ConvertTo64BitString()+"/getimages/",[4,h.a.get(i,{params:n,withCredentials:!0,cancelToken:u?u.token:null})]);case 1:for(r=e.sent(),a=0,o=r.data.images;a<o.length;a++)o[a].clanAccountID=t;Object(p.runInAction)(function(){s.m_mapClanImageLoadState.set(t,{loaded:!0}),s.m_mapClanToImages.set(t,r.data.images)}),e.label=2;case 2:return[2,this.m_mapClanToImages.get(t)]}})})},m.prototype.GetLoadState=function(e){return this.m_mapClanImageLoadState.get(e.GetAccountID())},m.prototype.GetClanImages=function(e){var t=this.m_mapClanToImages.get(e.GetAccountID());return t||new Array},m.prototype.GetFilteredClanImages=function(e,t){var n=E.GetClanImages(e);if(t&&0<t.trim().length){t=t.trim().toLowerCase();for(var r=new Array,i=0,a=n;i<a.length;i++){var o=a[i];o.file_name&&0<=o.file_name.toLowerCase().indexOf(t)&&r.push(o)}return r}return n},m.prototype.GetClanImageByID=function(e,t){var n=e.GetAccountID(),r=this.m_mapClanToImages.get(n);return r?r.find(function(e){return e.imageid==t}):null},m.prototype.GetClanImageByURL=function(e,t){var n=e.GetAccountID(),r=this.m_mapClanToImages.get(n);return r?r.find(function(e){return e.thumb_url==t||e.url==t}):null},m.prototype.GetClanImageByFile=function(e,t){var n=e.GetAccountID(),r=this.m_mapClanToImages.get(n);return r?r.find(function(e){return e.file_name==t.name}):null},m.prototype.GetClanImageByImageHash=function(e,t){var n=e.GetAccountID(),r=this.m_mapClanToImages.get(n);return r?r.find(function(e){return e.image_hash==t}):null},m.prototype.DeleteClanImageByID=function(o,s){return Object(f.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(f.e)(this,function(e){switch(e.label){case 0:return t={sessionid:S.c.SESSIONID,imageid:s},n=o.GetAccountID(),[4,h.a.get(S.c.COMMUNITY_BASE_URL+"/gid/"+o.ConvertTo64BitString()+"/deleteimage/",{params:t})];case 1:return(r=e.sent())&&200==r.status&&1==r.data.success?(i=this.m_mapClanToImages.get(n),0<=(a=i.findIndex(function(e,t,n){return e.imageid==s}))&&i.splice(a,1),[2,r.data]):[2,r.data]}})})},m.prototype.DeleteClanImage=function(t,n){return Object(f.b)(this,void 0,void 0,function(){return Object(f.e)(this,function(e){return[2,this.DeleteClanImageByID(t,n.imageid)]})})},m.prototype.DetectLanguageFromURL=function(e,t){var n=this.GetClanImageByURL(e,t);return n?this.DetectLanguageFromFilename(n.file_name):null},m.prototype.DetectLangageFromClanImage=function(e){return this.DetectLanguageFromFilename(e.file_name)},m.prototype.DetectLanguageFromFilename=function(e){var t=e.lastIndexOf(".");-1!=t&&(e=e.slice(0,t).toLowerCase());var n=null,r=0;e.endsWith("korean")&&(n=4,r="korean".length);for(var i=0;i<30;++i){var a=Object(s.e)(i);a.length<=r||e.endsWith(a)&&(n=i,r=a.length)}return n},m.GetHashFromHashAndExt=function(e){var t=e.substring(e.lastIndexOf("."));return e.substring(0,e.length-t.length)},m.GetExtensionStringFromHashAndExt=function(e){return e.substring(e.lastIndexOf("."))},m.GenerateArtworkURLFromHashAndExtensions=function(e,t,n,r,i){if(void 0===n&&(n=l.full),n!=l.full||r){var a=t.substring(t.lastIndexOf(".")),o=t.substring(0,t.length-a.length);return r&&"localized_image_group"==i?"https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/clans/"+e.GetAccountID()+"/"+o+"/"+Object(s.g)(Object(s.e)(r))+a:"https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/clans/"+e.GetAccountID()+"/"+o+n+a}return "https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/clans/"+e.GetAccountID()+"/"+t},m.GenerateEditableArtworkURLFromHashAndExtension=function(e,t,n){var r=S.c.COMMUNITY_BASE_URL+"gid/"+e.ConvertTo64BitString()+"/showclanimage/?image_hash_and_ext="+t;return n&&(r+="&lang="+n),r},m.GetMimeType=function(e){var t=e.substr(e.length-3);switch(t){case"jpg":return"image/jpeg";case"gif":return"image/gif";case"png":return"image/png"}return"image/"+t},m.prototype.AsyncGetImageResolution=function(r,i,a,o,s){return Object(f.b)(this,void 0,void 0,function(){var t,n;return Object(f.e)(this,function(e){switch(e.label){case 0:return t=i+m.GetExtensionString({file_type:a}),n=m.GenerateEditableArtworkURLFromHashAndExtension(r,t),[4,this.AsyncGetImageResolutionInternal(n,o,s)];case 1:return[2,e.sent()]}})})},m.prototype.AsyncGetImageResolutionInternal=function(a,o,s){return Object(f.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(f.e)(this,function(e){switch(e.label){case 0:t={success:void 0},(n=new Image).crossOrigin="anonymous",n.onerror=function(e){s||(t.err_msg="Load fail on url "+a+" with error: "+Object(g.a)(e).strErrorMsg,console.error(t.err_msg)),t.success=2},n.onload=function(){t.width=n.width,t.height=n.height,Object(d.a)(0<t.width&&0<t.height,"unexpected image resolution discovered for strURL: "+a),t.success=1},n.src=a,o.token.promise.catch(function(e){n.onload=function(){},t.success=52}),r=0,i=100,e.label=1;case 1:return void 0===t.success&&r<i?[4,Object(y.h)(100)]:[3,3];case 2:return e.sent(),r+=1,[3,1];case 3:return i<=r&&(t.success=16,t.err_msg="We timed out processing images"),[2,t]}})})},m.prototype.AsyncOverlay=function(i,c,l,u,p,d){return Object(f.b)(this,void 0,void 0,function(){var a,o,s,t,n,r;return Object(f.e)(this,function(e){switch(e.label){case 0:o=a=void 0,(s=new Image).crossOrigin="anonymous",s.onerror=function(e){a="Load fail on url "+l+" with error: "+Object(g.a)(e).strErrorMsg,console.error(a)},s.onload=function(){var i=new Image;i.crossOrigin="anonymous",i.onerror=function(e){a="Load fail on url "+c+" with error: "+Object(g.a)(e).strErrorMsg,console.error(a)},i.onload=function(){try{var e=document.createElement("canvas"),t=e.getContext("2d");e.width=p,e.height=d,t.drawImage(i,0,0,p,d);var n=(p-s.width)/2,r=(d-s.height)/2;t.drawImage(s,n,r),e.toBlob(function(e){return o=e},"image/jpeg")}catch(e){a="Failed during image processing for "+u+" with "+e}},i.src=c},s.src=l,t=0,n=100,e.label=1;case 1:return void 0===o&&t<n?[4,Object(y.h)(100)]:[3,3];case 2:return e.sent(),t+=1,[3,1];case 3:if(n<=t&&void 0===o&&(a="AsyncOverlay - We timed out processing images"),a)throw console.log(a),{success:2,err_msg:a};return[4,new O(i).UploadFile(o,u)];case 4:return[2,(r=e.sent()).image_hash+m.GetExtensionString(r)]}})})},m.prototype.BDoesClanImageFileExistsOnCDNOrOrigin=function(r,i,a,o){return Object(f.b)(this,void 0,void 0,function(){var t,n;return Object(f.e)(this,function(e){switch(e.label){case 0:return t=S.c.COMMUNITY_BASE_URL+"gid/"+i.ConvertTo64BitString()+"/hasclanimagefile",n={image_hash_and_ext:a,lang:""+o},[4,h.a.get(t,{params:n,cancelToken:r&&r.token})];case 1:return[2,1==e.sent().data.success]}})})},m.prototype.SetPrimaryImageForImageGroup=function(e,t){this.m_curLocImageGroup&&this.m_curLocImageGroup.primaryImage.imageid==e.imageid&&t==this.m_curLocImageGroupType||(this.m_curLocImageGroup={primaryImage:e,localized_images:[]},this.m_curLocImageGroupType=t,this.m_curLocImageGroup.localized_images=Object(a.f)(this.m_curLocImageGroup.localized_images,30,null))},m.prototype.ClearImageGroup=function(){this.m_curLocImageGroup=null,this.m_curLocImageGroupType=null},m.prototype.GetLocalizedImageGroupForEdit=function(){return this.m_curLocImageGroup},m.prototype.GetLocalizedImageGroupForEditAsURL=function(e,t){var n=this.m_curLocImageGroup.primaryImage;return this.m_curLocImageGroup.localized_images[t]?this.m_curLocImageGroup.localized_images[t]:m.GenerateArtworkURLFromHashAndExtensions(e,m.GetHashAndExt(n))},m.prototype.GetLocalizedImageGroupForEditAsImgArray=function(e){return this.GetAllLocalizedGroupImages()},m.prototype.DetermineAvailableLocalizationForGroup=function(c){return Object(f.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s=this;return Object(f.e)(this,function(e){switch(e.label){case 0:for(t=this.m_curLocImageGroup.primaryImage,n=u.a.InitFromClanID(t.clanAccountID),r=m.GetHashAndExt(t),i=[],a=0;a<30;++a)i.push(this.BDoesClanImageFileExistsOnCDNOrOrigin(c,n,r,a));return[4,Promise.all(i)];case 1:return o=e.sent(),Object(p.runInAction)(function(){for(var e=0;e<30;++e)o[e]&&(s.m_curLocImageGroup.localized_images[e]=m.GenerateArtworkURLFromHashAndExtensions(n,r,l.full,e,s.m_curLocImageGroupType))}),[2]}})})},m.prototype.SetLocalizedImageGroupAtLang=function(e,t,n){this.m_curLocImageGroup&&(this.m_curLocImageGroup.localized_images[e]=n?m.GenerateArtworkURLFromHashAndExtensions(t,n,l.full,e,this.m_curLocImageGroupType):null)},m.prototype.AddLocalizeImageUploaded=function(e,t){var n,r,i=this.m_curLocImageGroup.primaryImage;i.image_hash==e&&(n=u.a.InitFromClanID(i.clanAccountID),r=m.GetHashAndExt(i),this.m_curLocImageGroup.localized_images[t]=m.GenerateArtworkURLFromHashAndExtensions(n,r,l.full,t,this.m_curLocImageGroupType))},m.prototype.GetAllLocalizedGroupImages=function(){return this.m_curLocImageGroup&&this.m_curLocImageGroup.localized_images||[]},Object(f.c)([p.observable],m.prototype,"m_mapClanToImages",void 0),Object(f.c)([p.observable],m.prototype,"m_mapClanImageLoadState",void 0),Object(f.c)([p.observable],m.prototype,"m_curLocImageGroup",void 0),m}(),C=function(){function h(e,t,n,r,i){var a;this.fileType=0,this.bCropped=!1,this.file=e,this.fileType=w.GetExtensionTypeFromURL(e.name),this.language=t,this.uploadTime=Date.now(),this.img=n,this.localizedImageGroupPrimaryImage=i,r&&(void 0===(a=c(n.width,n.height,r,!1))&&(a=c(n.width,n.height,r,!0)),this.type=a||r[0]),this.status="pending",this.ResetImage()}return h.prototype.ResetImage=function(){this.height=this.img.height,this.width=this.img.width,this.dataUrl=this.img.src},h.GetCropFormatDataURLType=function(e){switch(e){case 3:return"image/png";case 1:return"image/jpeg"}},h.prototype.CropImage=function(t,s,c,l,u,p,d){return Object(f.b)(this,void 0,void 0,function(){var o=this;return Object(f.e)(this,function(e){return[2,new Promise(function(n,r){var i,a=h.GetCropFormatDataURLType(d);a?((i=document.createElement("canvas")).width=u,i.height=p,i.getContext("2d").drawImage(o.img,t,s,c,l,0,0,u,p),i.toBlob(function(e){var t=i.toDataURL(a);3!==d&&t.startsWith("data:image/png")?r("Unable to encode into the requested file format"):(o.file=Object(_.d)(e,o.file.name),o.width=u,o.height=p,o.dataUrl=t,o.uploadTime=Date.now(),o.bCropped=!0,n())})):r("Invalid format provided")})]})})},h.prototype.IsValidImage=function(e,t,n){var r,i=0,a=0,o=!1,s=!e||0===e.length||e.includes(this.type);t?(i=t.width,a=t.height,o=!0):(r=b.a[this.type])&&(i=r.width,a=r.height,o=!r.bDisableEnforceDimensions);var c=this.width>=i&&this.height>=a,l=o?this.width===i&&this.height===a:c,u=n&&n!=this.fileType,p=Boolean(h.GetCropFormatDataURLType(this.fileType)),d="",m=!1;return s?u?d=Object(v.f)("#ImageUpload_InvalidFormat",w.GetExtensionStringForFileType(n)):l||p?c?!l&&p&&(d=Object(v.f)("#ImageUpload_InvalidDimensions",i,a),m=!0):d=Object(v.f)("#ImageUpload_TooSmall",i,a):d=Object(v.f)("#ImageUpload_InvalidResolution",i,a):d=Object(v.f)("#ImageUpload_InvalidFormatSelected"),{error:d,needsCrop:m}},h.prototype.BIsOriginalMinimumDimensions=function(e){return Object(b.d)(this.img.width,this.img.height,e)},h.prototype.GetResizeDimension=function(){return h.GetResizeDimension(this.type)},h.GetResizeDimension=function(e){return"background"===e?[{width:960,height:311},{width:480,height:156}]:"capsule"===e||"spotlight"===e?[{width:b.a[e].width/2,height:b.a[e].height/2}]:void 0},Object(f.c)([p.observable],h.prototype,"dataUrl",void 0),Object(f.c)([p.observable],h.prototype,"width",void 0),Object(f.c)([p.observable],h.prototype,"height",void 0),Object(f.c)([p.observable],h.prototype,"type",void 0),Object(f.c)([p.observable],h.prototype,"status",void 0),Object(f.c)([p.observable],h.prototype,"message",void 0),Object(f.c)([p.observable],h.prototype,"bCropped",void 0),h}(),O=function(){function e(e){this.m_filesToUpload=[],this.m_filesCompleted=[],this.m_allCancelTokens=new Array,this.m_clanSteamID=e}return e.prototype.GetClanSteamID=function(){return this.m_clanSteamID},e.prototype.AddImage=function(n,r,i,a){return void 0===r&&(r=0),Object(f.b)(this,void 0,void 0,function(){var t;return Object(f.e)(this,function(e){return t=E.DetectLanguageFromFilename(n.name)||r,[2,this.AddImageForLanguage(n,t,i,a)]})})},e.prototype.AddImageForLanguage=function(a,o,s,c){return Object(f.b)(this,void 0,void 0,function(){var r,i=this;return Object(f.e)(this,function(e){switch(e.label){case 0:return r=!1,[4,new Promise(function(n){var e=new FileReader;e.onload=function(){var t=new Image;t.onload=function(){var e=new C(a,o,t,s,c);i.m_filesToUpload.push(e),r=!0,n()},t.onerror=function(e){console.error("CClanImageUploader failed to load the image, details",e),r=!1,n()},t.src=e.result.toString()},e.readAsDataURL(a)})];case 1:return e.sent(),[2,r]}})})},e.prototype.AddExistingClanImage=function(a,o,s,c){return void 0===o&&(o=0),Object(f.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(f.e)(this,function(e){switch(e.label){case 0:return t=w.GetHashAndExt(a),n=w.GenerateEditableArtworkURLFromHashAndExtension(this.m_clanSteamID,t),[4,h()({url:n,method:"GET",responseType:"blob"})];case 1:return r=e.sent(),i=Object(_.d)(r.data,a.file_name),[4,this.AddImage(i,o,s,c)];case 2:return[2,e.sent()]}})})},e.prototype.DeleteUploadImageByIndex=function(e){this.m_filesToUpload.splice(e,1)},e.prototype.DeleteUploadImage=function(t){var e=this.m_filesToUpload.findIndex(function(e){return t.file==e.file&&t.uploadTime==e.uploadTime});0<=e&&this.DeleteUploadImageByIndex(e)},e.prototype.ClearImages=function(){this.m_filesToUpload=[]},e.prototype.GetFilesUploaded=function(){return this.m_filesCompleted},e.prototype.GetLastErrorFile=function(){return this.m_lastError},e.prototype.GetCompletedFiles=function(){return this.m_filesCompleted.length},e.prototype.GetTotalFiles=function(){return this.m_filesToUpload.length},e.prototype.GetFilesToUpload=function(){return this.m_filesToUpload.map(function(e){return e.file})},e.prototype.GetUploadImages=function(){return this.m_filesToUpload},e.prototype.BHasError=function(){return null!=this.m_lastError},e.prototype.BAllDone=function(){return 0<this.m_filesCompleted.length&&this.m_filesCompleted.length==this.m_filesToUpload.length},e.prototype.BIsFileCompleted=function(e){return-1!=this.m_filesCompleted.indexOf(e)},e.prototype.UploadAllFiles=function(s,c,l){return Object(f.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(f.e)(this,function(e){switch(e.label){case 0:for(t={},n=0,r=this.m_filesToUpload;n<r.length;n++)i=r[n],this.BIsFileCompleted(i.file)||(a=i.IsValidImage(s,c,l)).error||a.needsCrop||(i.status="uploading",o=i.uploadTime+"/"+i.file.name,t[o]=this.UploadFile(i.file,i.file.name,i.GetResizeDimension(),i.localizedImageGroupPrimaryImage,i.language));return[4,Object(m.d)(t)];case 1:return[2,e.sent()]}})})},e.prototype.CancelAllUploads=function(){for(var e=0,t=this.m_allCancelTokens;e<t.length;e++){t[e].cancel(Object(v.f)("#ImageUpload_CancelRequest"))}this.m_allCancelTokens=new Array},e.prototype.RetryAllFailedUploads=function(){this.CancelAllUploads(),this.UploadAllFiles()},e.prototype.handleUploadRefresh=function(t){return Object(f.b)(this,void 0,void 0,function(){return Object(f.e)(this,function(e){switch(e.label){case 0:return[4,E.LoadClanImages(this.m_clanSteamID,!0,t)];case 1:return e.sent(),[2]}})})},e.prototype.UploadFile=function(c,l,u,p,d){return Object(f.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s;return Object(f.e)(this,function(e){switch(e.label){case 0:t=null,(n=new FormData).append("clanimage",c,l),n.append("sessionid",S.c.SESSIONID),u&&0<u.length&&n.append("resize",u.map(function(e){return e.width+"x"+e.height}).join(",")),r="/uploadimage/",p&&(r="/ajaxuploadlocalizedimage/",n.append("origimagehash",p.image_hash),n.append("thumbhash",p.thumbnail_hash),n.append("extension",""+p.file_type),n.append("language",""+d)),i=h.a.CancelToken.source(),this.m_allCancelTokens.push(i),a=S.c.COMMUNITY_BASE_URL+"/gid/"+this.m_clanSteamID.ConvertTo64BitString()+r,o={cancelToken:i.token,withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,h.a.post(a,n,o)];case 2:return t=e.sent(),this.m_filesCompleted.push(c),[3,4];case 3:return s=e.sent(),this.m_lastError={file:c,status:s.response?s.response.status:500,message:Object(g.a)(s).strErrorMsg},t=s.response,[3,4];case 4:return p?[3,6]:[4,this.handleUploadRefresh(i)];case 5:e.sent(),e.label=6;case 6:return[2,t.data]}})})},e.SendResizeRequest=function(r,i,a,o,s){return Object(f.b)(this,void 0,void 0,function(){var t,n;return Object(f.e)(this,function(e){switch(e.label){case 0:return t=S.c.COMMUNITY_BASE_URL+"/gid/"+i.ConvertTo64BitString()+"/resizeimage/",(n=new FormData).append("imagehash",a),n.append("extension",o),n.append("resize",s.map(function(e){return e.width+"x"+e.height}).join(",")),n.append("sessionid",S.c.SESSIONID),[4,h.a.post(t,n,{cancelToken:r.token})];case 1:return[2,e.sent().data.count]}})})},Object(f.c)([p.observable],e.prototype,"m_filesToUpload",void 0),Object(f.c)([p.observable],e.prototype,"m_filesCompleted",void 0),Object(f.c)([p.observable],e.prototype,"m_lastError",void 0),Object(f.c)([o.a],e.prototype,"AddImage",null),Object(f.c)([o.a],e.prototype,"AddExistingClanImage",null),Object(f.c)([o.a],e.prototype,"DeleteUploadImageByIndex",null),Object(f.c)([o.a],e.prototype,"DeleteUploadImage",null),Object(f.c)([o.a],e.prototype,"ClearImages",null),e}(),E=new w},U9Ih:function(e,t,n){e.exports={SaleItemBrowserContainer:"saleitembrowser_SaleItemBrowserContainer_18byE",SaleItemBrowserHeaderContainer:"saleitembrowser_SaleItemBrowserHeaderContainer_1edLK",SaleItemBrowserHeader:"saleitembrowser_SaleItemBrowserHeader_Eh-ow",FlavorLabel:"saleitembrowser_FlavorLabel_KDLAS",SelectedFlavor:"saleitembrowser_SelectedFlavor_qYruX",EmptyResults:"saleitembrowser_EmptyResults_3U-cq",ShowContentsContainer:"saleitembrowser_ShowContentsContainer_36qA-",Loading:"saleitembrowser_Loading_nXk7R",ShowContentsButton:"saleitembrowser_ShowContentsButton_2tkiJ",SuggestContainer:"saleitembrowser_SuggestContainer_1YWp1"}},UPxs:function(e,t,n){"use strict";n.d(t,"d",function(){return D}),n.d(t,"f",function(){return A}),n.d(t,"c",function(){return ue}),n.d(t,"b",function(){return pe}),n.d(t,"e",function(){return se}),n.d(t,"a",function(){return de});var u=n("mrSG"),p=n("q1tI"),d=n("exH9"),r=n("bxiW"),q={x:"y",y:"x"};function Y(){return{x:0,y:0}}function P(e,t){return e.x*t.x+e.y*t.y}function Q(e,t){return{x:t.x-e.x,y:t.y-e.y}}function Z(e,t){return{x:e.x+t.x,y:e.y+t.y}}function K(e,t){return{x:e.x*t,y:e.y*t}}function i(e){return(e.min+e.max)/2}function J(e,t){return!(e.max<t.min||t.max<e.min)}var G=n("Kw0F"),f=n("r64O"),X=n("X3Ds");var $,a,o=function(){function e(){this.m_itemCounts=new Map,this.m_nSize=0}return e.prototype.add=function(e){var t=this.m_itemCounts.get(e),n=null==t?1:t+1;return this.m_itemCounts.set(e,n),++this.m_nSize,this},e.prototype.clear=function(){this.m_itemCounts.clear(),this.m_nSize=0},e.prototype.delete=function(e){var t=this.m_itemCounts.get(e);return 0==(null==t?0:t-1)&&this.m_itemCounts.delete(e),--this.m_nSize,void 0!==t},e.prototype.has=function(e){return this.m_itemCounts.has(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this.m_nSize},enumerable:!1,configurable:!0}),e.prototype.entries=function(){return this.m_itemCounts.entries()},e.prototype.keys=function(){return this.m_itemCounts.keys()},e}(),_=n("w9XT");(a=$=$||{}).Type="data-nav-type",a.TargetFocuses="data-nav-target-focuses",a.TargetClicks="data-nav-target-clicks",a.PreferFirstNavStop="data-nav-prefer-first-nav-stop",a.Preferred="data-nav-preferred",a.NoPrimaryAction="data-nav-npa",a.NoFocusMarker="data-nav-no-focus-marker",a.XOrder="data-nav-xorder",a.YOrder="data-nav-yorder",a.ScrollAxes="data-nav-scroll-axes",a.EnterAsScrolledAxes="data-nav-enter-as-scrolled-axes",a.Address="data-nav-addr",a.AreaActive="data-nav-area-active",a.AreaPass="data-nav-area-pass",a.ScrollSnapTypeX="data-nav-scroll-snap-type-x",a.ScrollSnapTypeY="data-nav-scroll-snap-type-y",a.ScrollSnapMarginX="data-nav-scroll-snap-margin-x",a.ScrollSnapMarginY="data-nav-scroll-snap-margin-y",a.Focus="data-nav-focus";var m,s,h,c,ee,l,b="Focusable",v="FocusGroup",g="NavArea",y=function(){function t(){}return Object.defineProperty(t,"IsNavEnabled",{get:function(){return t.s_bIsNavEnabled},set:function(e){t.s_bIsNavEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"IsLoggingToConsole",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"IsNotSettingFocus",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"IsDebuggingNavAddresses",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"IsPointerVisible",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"IsFocusMarkerAlwaysVisible",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"IsDefaultFocusMarkerVisible",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"IsDocumentUsingZoom",{get:function(){return!0},enumerable:!1,configurable:!0}),t.s_bIsNavEnabled=!1,t}(),S=0;function te(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];y.IsLoggingToConsole&&(0<t.length&&"string"==typeof t[0]?(e=t.shift(),console.log.apply(console,Object(u.g)(["\t".repeat(S)+e],t))):console.log.apply(console,t))}function w(e,t,n){if(!y.IsLoggingToConsole)return n;var r=n.value;return n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];++S;try{var n=r.apply(this,e);return--S,n}catch(e){throw--S,e}},n}function ne(e){return ie(e)?"#'"+e.id+"'.'"+e.className+"'":"#?.?"}function re(e){return null==e?"(?, ?)":"("+e.x+", "+e.y+")"}function ie(e){return null!=e&&void 0!==e.focus}function C(e){for(var t=1,n=e.ownerDocument.defaultView,r=e;null!=r;r=r.parentElement){var i=parseFloat(n.getComputedStyle(r).zoom);0<i&&(t*=i)}return t}function ae(e){if(y.IsDocumentUsingZoom){var t=C(e),n=e.getBoundingClientRect();return{x:{min:n.left*t,max:n.right*t},y:{min:n.top*t,max:n.bottom*t}}}return{x:{min:(r=e.getBoundingClientRect()).left,max:r.right},y:{min:r.top,max:r.bottom}};var r}function oe(e){return{x:i((t=ae(e)).x),y:i(t.y)};var t}function O(e,t,n){var r=e,i=null!=r.getAttribute($.Type),a=i?r.getAttribute($.ScrollAxes):void 0;if(i&&a!==h.XY&&a!==t)return m.None;var o="x"===t?[r.scrollLeft,r.scrollWidth,r.clientWidth]:[r.scrollTop,r.scrollHeight,r.clientHeight],s=o[0],c=o[1],l=o[2],u=-1===n?Math.abs(s)<1:Math.abs(s+l-c)<=1;if(i)return u?m.AtEnd:m.Scrollable;if(!u&&c<=l)return m.None;var p=r.ownerDocument.defaultView.getComputedStyle(r),d="x"===t?p.overflowX:p.overflowY;return"auto"===d||"scroll"===d?u?m.AtEnd:m.Scrollable:m.None}(s=m=m||{})[s.None=2]="None",s[s.Scrollable=1]="Scrollable",s[s.AtEnd=3]="AtEnd",(c=h=h||{}).X="x",c.Y="y",c.XY="xy",(l=ee=ee||{}).Area="area",l.Group="group",l.Target="target";var E=p.createContext(null);function B(e){for(var t=[],n=e;null!=n;n=n.parent)t.push(n.key);return t.reverse(),JSON.stringify(t)}var A,I,j=p.createContext(void 0),D=function(){function e(e,t){void 0===e&&(e=new Map),this.m_navAddressScrollMap=new Map,this.m_navAddressScrollMap=e,null!=t&&(this.m_focusAddress=t)}return e.prototype.Clone=function(){return new e(new Map(this.m_navAddressScrollMap),function(e){for(var t=void 0,n=0,r=JSON.parse(e);n<r.length;n++)t={parent:t,key:r[n]};return t}(B(this.m_focusAddress)))},e.prototype.GetFocusAddress=function(){return this.m_focusAddress},e.prototype.GetNavAddressScroll=function(e){return this.m_navAddressScrollMap.get(B(e))},e.prototype.SetFocusAddress=function(e){this.m_focusAddress=e},e.prototype.SetNavAddressScroll=function(e,t){var n=B(e);null==t&&this.m_navAddressScrollMap.delete(n),this.m_navAddressScrollMap.set(n,t)},e}(),R=p.createContext(void 0),T=p.createContext(void 0);function M(e,i,a){var o=null!=e.navKey?e.navKey:void 0;return null!=o&&y.IsNavEnabled?p.createElement(R.Consumer,null,function(r){return p.createElement(T.Consumer,null,function(n){return p.createElement(j.Consumer,null,function(e){var t={parent:e,key:o};return"function"==typeof a&&a(t,r,n),p.createElement(j.Provider,{value:t},i)})})}):i}(I=A=A||{}).Lazy="lazy",I.Start="start",I.Center="center",I.End="end",I.Nearest="nearest";var N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_containerRef=p.createRef(),e}return Object(u.d)(e,t),e.prototype.IsEventSource=function(e){var t=this.m_containerRef.current;return null!=t&&t.contains(e.target)},e.prototype.HandleOnFocusChanged=function(e,t,n,r){var i,a,o=this.m_containerRef.current;o?(i=C(o),null!=r?(o.style.opacity=n?"100%":"75%",o.style.left=r.x/i+"px",o.style.top=r.y/i+"px"):null!=t?(a=ae(t),o.style.opacity=n?"100%":y.IsFocusMarkerAlwaysVisible?"25%":"0%",o.style.left=a.x.min/i+"px",o.style.top=a.y.min/i+"px"):o.style.opacity="33%"):o.style.display="none"},e.prototype.render=function(){var e=this.props,t=e.children,n=e.style,r=Object(u.f)(e,["children","style"]);return p.createElement("div",Object(u.a)({ref:this.m_containerRef,style:Object(u.a)(Object(u.a)({},n),{position:"absolute",willChange:"left, top"})},r),t)},Object(u.c)([w],e.prototype,"HandleOnFocusChanged",null),e}(p.Component),L=function(){function e(e,t){this.m_bNeedsUpdate=!1,this.m_containerRef=e,this.m_nPaddingPx=t||0}return e.prototype.IsEventSource=function(e){var t=this.m_containerRef.current;return null!=t&&t.contains(e.target)},e.prototype.HandleOnFocusChanged=function(e,t,n){var r;!0!==e&&this.m_focusedElement==t&&this.m_bDisplay==n||(this.m_focusedElement=t,this.m_bDisplay=n,this.m_bNeedsUpdate||(r=((this.m_containerRef.current||{}).ownerDocument||{}).defaultView,this.m_bNeedsUpdate=!0,r&&r.requestAnimationFrame(this.HandleOnAnimationFrame)))},e.prototype.HandleOnAnimationFrame=function(){var e,t,n="BoxFM.HandleOnAnimationFrame",r=this.m_containerRef.current;this.m_bNeedsUpdate=!1,null==this.m_focusedElement?(te(n+" none"),r.style.display="none"):null!=this.m_focusedElement&&(e=ae(this.m_focusedElement),t=C(r),te(n+" ("+e.x.min+", "+e.y.min+")-("+e.x.max+", "+e.y.max+")"),r.style.display="unset",r.style.opacity=this.m_bDisplay?"100%":y.IsFocusMarkerAlwaysVisible?"25%":"0%",r.style.left=e.x.min/t-this.m_nPaddingPx+"px",r.style.top=e.y.min/t-this.m_nPaddingPx+"px",r.style.width=(e.x.max-e.x.min)/t+2*this.m_nPaddingPx+"px",r.style.height=(e.y.max-e.y.min)/t+2*this.m_nPaddingPx+"px")},Object(u.c)([w],e.prototype,"HandleOnFocusChanged",null),Object(u.c)([r.a],e.prototype,"HandleOnAnimationFrame",null),e}(),k=function(){function e(){}return e.prototype.FocusableElementAttributes=function(e){var t={};return y.IsNavEnabled&&e.navStop&&(t.tabIndex=-2),"number"==typeof e.tabStop&&(t.tabIndex=e.tabStop),!0===e.tabStop&&(t.tabIndex=0),t},e}(),F=function(r){function e(e){var t=r.call(this)||this;t.m_focusListeners=new Map,t.m_blurListeners=new Map,te("HDFC.constructor"),t.m_doc=e;var n=t.m_doc.defaultView;return n?t.m_win=n:te("- No window!"),t}return Object(u.d)(e,r),e.prototype.GetFocus=function(){return void 0!==this.m_doc&&ie(this.m_doc.activeElement)?this.m_doc.activeElement:null},e.prototype.Focus=function(e,t){null!=e?(te("HDFC Focus e.focus {",e),e.focus(t),te("+ }")):ie(this.m_doc.activeElement)&&(te("HDFC Focus null with active IsHTMLElement e.blur() {",e),this.m_doc.activeElement.blur(),te("+ }"))},e.prototype.Click=function(e){te("HDFC Click: e.click {"),e.click(),te("+ }")},e.prototype.AddFocusListener=function(t){te("CHtmlDomFocusController AddFocusListener");function e(e){ie(e.target)&&(te("HDFC focus listener {"),t(e.target),te("+ }"))}this.m_focusListeners.set(t,e),this.m_win.addEventListener("focus",e,!0)},e.prototype.RemoveFocusListener=function(e){te("CHtmlDomFocusController RemoveFocusListener");var t=this.m_focusListeners.get(e);this.m_doc.removeEventListener("focus",t,!0),this.m_focusListeners.delete(e)},e.prototype.AddBlurListener=function(t){te("CHtmlDomFocusController AddBlurListener");function e(e){ie(e.target)&&(te("HDFC blur listener {"),t(e.target),te("+ }"))}this.m_blurListeners.set(t,e),this.m_win.addEventListener("blur",e,!0)},e.prototype.RemoveBlurListener=function(e){te("CHtmlDomFocusController RemoveBlurListener");var t=this.m_blurListeners.get(e);this.m_doc.removeEventListener("blur",t,!0),this.m_blurListeners.delete(e)},Object(u.c)([w],e.prototype,"Focus",null),Object(u.c)([w],e.prototype,"Click",null),Object(u.c)([w],e.prototype,"AddFocusListener",null),Object(u.c)([w],e.prototype,"RemoveFocusListener",null),Object(u.c)([w],e.prototype,"AddBlurListener",null),Object(u.c)([w],e.prototype,"RemoveBlurListener",null),e}(k);function U(e,t){e.navScrollX&&(t[$.ScrollSnapTypeX]=e.navScrollX),e.navScrollY&&(t[$.ScrollSnapTypeY]=e.navScrollY),e.navScrollMarginX&&(t[$.ScrollSnapMarginX]=e.navScrollMarginX),e.navScrollMarginY&&(t[$.ScrollSnapMarginY]=e.navScrollMarginY)}var x=new Map;function z(e,t){x.set(e,t)}function H(e){x.delete(e)}function W(e){return x.get(e)}var se,V,ce=function(){function e(){}return e.Attributes=function(e,t){var n,r,i,a,o={};if(y.IsNavEnabled&&(i=null!==(n=e.navStop)&&void 0!==n&&n,a=null!==(r=e.navClick)&&void 0!==r&&r,(i||a)&&(o[$.Type]=ee.Target),i&&(o[$.TargetFocuses]="true"),a&&(o[$.TargetClicks]="true"),e.noPrimaryAction&&(o[$.NoPrimaryAction]="true"),e.noFocusMarker&&(o[$.NoFocusMarker]="true"),e.preferredNavStop&&(o[$.Preferred]="true"),U(e,o)),!t)return o;var s=t.FocusableElementAttributes(e);return s?Object(u.a)(Object(u.a)({},o),s):o},Object.defineProperty(e,"targetClass",{get:function(){return y.IsNavEnabled?b:void 0},enumerable:!1,configurable:!0}),e}(),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.d)(t,e),t.prototype.NeedsComponentFromElement=function(){return!0},t.prototype.SetRef=function(e){null==e?H(this.m_htmlElement):(this.m_htmlElement=e,this.NeedsComponentFromElement&&z(this.m_htmlElement,this),Object(r.d)(this.props.htmlElementRef,e))},t.prototype.assembleAttributes=function(e){e.navKey,e.navStop,e.noPrimaryAction,e.noFocusMarker,e.preferredNavStop,e.tabStop,e.navClick;var t=e.startFocused,n=(e.navScrollX,e.navScrollY,e.navScrollMarginX,e.navScrollMarginY,e.htmlElementRef),r=e.className,i=(e.children,Object(u.f)(e,["navKey","navStop","noPrimaryAction","noFocusMarker","preferredNavStop","tabStop","navClick","startFocused","navScrollX","navScrollY","navScrollMarginX","navScrollMarginY","htmlElementRef","className","children"]));return null!=this.context&&y.IsNavEnabled?Object(u.a)(Object(u.a)(Object(u.a)({},ce.Attributes(e,this.context.GetFocusControllerDomIntegrator())),{className:Object(d.a)(ce.targetClass,r),ref:t||this.NeedsComponentFromElement?this.SetRef:n}),i):Object(u.a)({className:r,ref:n},i)},t.prototype.GotFocus=function(){null!=this.m_navAddress&&null!=this.m_currentNavEpoch&&this.m_currentNavEpoch.SetFocusAddress(this.m_navAddress)},t.prototype.HasFocus=function(){var e;return null!=this.m_htmlElement&&this.m_htmlElement===(null===(e=this.m_htmlElement)||void 0===e?void 0:e.ownerDocument.activeElement)},t.prototype.componentDidMount=function(){var e,t,n;y.IsDebuggingNavAddresses&&null!=this.m_htmlElement&&null!=this.m_navAddress&&this.m_htmlElement.setAttribute($.Address,B(this.m_navAddress)),null!=(null===(e=this.m_currentNavEpoch)||void 0===e?void 0:e.GetFocusAddress())||(null!=(n=null===(t=this.m_recalledNavEpoch)||void 0===t?void 0:t.GetFocusAddress())?function(e,t){for(var n=[e,t],r=n[0],i=n[1];;r=r.parent,i=i.parent){if(null==r&&null==i)return 1;if(null==r||null==i||r.key!==i.key)return}}(n,this.m_navAddress):this.props.startFocused&&this.m_htmlElement&&this.context)&&this.context.ClaimFocus(this.m_htmlElement)},t.prototype.componentDidUpdate=function(){var e;this.HasFocus()&&null!==(e=this.m_actionDescriptionContext)&&void 0!==e&&e.setCurrentActions(this.m_actionDescriptionContext.focusActions)},t.prototype.render=function(){var r=this;return p.createElement(_.a.Consumer,null,function(e){return r.m_actionDescriptionContext=e,M(r.props,p.createElement(r.m_elementType,r.assembleAttributes(r.props),r.props.children),function(e,t,n){r.m_navAddress=e,r.m_recalledNavEpoch=t,r.m_currentNavEpoch=n})})},t.contextType=E,t.defaultProps={navStop:!1,tabStop:!1},Object(u.c)([r.a],t.prototype,"SetRef",null),t}(p.Component),ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_elementType="div",e}return Object(u.d)(e,t),e}(le),pe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_elementType="a",e}return Object(u.d)(e,t),e}(le);(V=se=se||{}).Geometry="Geometry",V.DomOrder="DomOrder",V.ReverseDomOrder="ReverseDomOrder";var de=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return Object(u.d)(o,e),o.GetOnNavOut=function(e){var t=W(e);if(t&&t instanceof o)return t.props.onNavOut},o.Attributes=function(e){var t;if(!y.IsNavEnabled)return{};var n=((t={})[$.Type]=ee.Group,t);return e.xOrder&&(n[$.XOrder]=e.xOrder),e.yOrder&&(n[$.YOrder]=e.yOrder),e.scrollAxes&&(n[$.ScrollAxes]=e.scrollAxes),e.preferFirstNavStop&&(n[$.PreferFirstNavStop]="true"),e.preferredNavStopWithin&&(n[$.Preferred]="true"),e.enterAsScrolledAxes&&(n[$.EnterAsScrolledAxes]=e.enterAsScrolledAxes),U(e,n),n},o.prototype.NeedsComponentFromElement=function(){return!!this.props.onNavOut||null!=this.props.navKey},o.prototype.SetRef=function(e){null==e?H(this.m_htmlElement):(this.m_htmlElement=e,this.NeedsComponentFromElement&&z(this.m_htmlElement,this),Object(r.d)(this.props.htmlElementRef,e))},o.prototype.HasFocusWithin=function(){var e,t;return null!==(t=null===(e=this.m_htmlElement)||void 0===e?void 0:e.contains(this.m_htmlElement.ownerDocument.activeElement))&&void 0!==t&&t},o.prototype.FocusWithin=function(){this.m_htmlElement&&he.FocusWithin(this.m_htmlElement)},o.prototype.BlurWithin=function(e){this.m_htmlElement&&he.BlurWithin(this.m_htmlElement,e)},o.prototype.UpdateScrollPos=function(){var e,t=this.m_htmlElement;null!=t&&null!=this.m_navAddress&&null!=this.m_currentNavEpoch&&(e={x:t.scrollLeft,y:t.scrollTop},this.m_currentNavEpoch.SetNavAddressScroll(this.m_navAddress,e))},o.prototype.componentDidMount=function(){var e,t,n;y.IsDebuggingNavAddresses&&null!=this.m_htmlElement&&null!=this.m_navAddress&&this.m_htmlElement.setAttribute($.Address,B(this.m_navAddress)),null==this.m_htmlElement||null==this.m_navAddress||null!=(null===(e=this.m_currentNavEpoch)||void 0===e?void 0:e.GetNavAddressScroll(this.m_navAddress))||null!=(n=null===(t=this.m_recalledNavEpoch)||void 0===t?void 0:t.GetNavAddressScroll(this.m_navAddress))&&(this.m_htmlElement.scrollLeft=n.x,this.m_htmlElement.scrollTop=n.y)},o.prototype.componentWillUnmount=function(){this.m_currentNavEpoch&&this.m_currentNavEpoch.SetNavAddressScroll(this.m_navAddress,void 0)},o.prototype.render=function(){var r=this,e=this.props,t=(e.navKey,e.xOrder,e.yOrder,e.preferFirstNavStop,e.preferredNavStopWithin,e.scrollAxes,e.enterAsScrolledAxes,e.navScrollX,e.navScrollY,e.navScrollMarginX,e.navScrollMarginY,e.onNavOut,e.htmlElementRef),n=e.className,i=e.children,a=Object(u.f)(e,["navKey","xOrder","yOrder","preferFirstNavStop","preferredNavStopWithin","scrollAxes","enterAsScrolledAxes","navScrollX","navScrollY","navScrollMarginX","navScrollMarginY","onNavOut","htmlElementRef","className","children"]);return null!=this.context&&y.IsNavEnabled?M(this.props,p.createElement("div",Object(u.a)({ref:this.SetRef},o.Attributes(this.props),{className:Object(d.a)(v,n)},a),i),function(e,t,n){r.m_navAddress=e,r.m_recalledNavEpoch=t,r.m_currentNavEpoch=n}):p.createElement("div",Object(u.a)({ref:t,className:n},a),i)},o.contextType=E,Object(u.c)([r.a],o.prototype,"SetRef",null),Object(u.c)([w],o,"GetOnNavOut",null),o}(p.Component);var me=function(){function e(e){this.m_navAreaStack=[],this.m_elementNavAreaMap=new Map,this.m_focusControllers=new o,this.m_focusMarkers=new o,this.m_defaultFocusController=new F(e)}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.m_navAreaStack.length&&0===this.m_elementNavAreaMap.size&&0===this.m_focusControllers.size&&0===this.m_focusMarkers.size},enumerable:!1,configurable:!0}),e}(),he=function(n){function V(e){var t=n.call(this,e)||this;return t.m_navAreaDivRef=p.createRef(),t.m_inFocusCallType=null,t.m_focusClaimElement=void 0,t.m_focusedHtmlElement=null,t.m_focusPos=null,t.m_focusPosOffsetFromAnchorElement=null,t.m_lastFocusedHtmlElement=null,t.m_lastFocusPosOffsetFromAnchorElement=null,t.m_pointerFocusMarkerRef=p.createRef(),t.m_boxFocusMarkerDivRef=p.createRef(),void 0!==e&&void 0===V.sm_htmlDomFocusControllerDomIntegrator&&(V.sm_htmlDomFocusControllerDomIntegrator=new k),t}return Object(u.d)(V,n),V.DocumentElementHasFocus=function(e){return e&&null!=e.activeElement&&e.activeElement!==e.body},V.FocusWithin=function(e){var t,n=V.GetNavAreaObjects(e,"NavArea.FocusWithin",{target:!0,navArea:!0,activeNavArea:!1}),r=n.navArea,i=n.navAreaElement,a=n.activeNavAreaElement;n.dn;null!=r&&(te("NavArea.FocusWithin",e),null!=a&&a==i||(te("+ ("+a.id+") is active, but FG in ("+r.props.id+"); activating."),r.Activate()),null!=(t=r.FindBestFocusableTarget(e))&&(te("+ focusing:",t.htmlElement,t.pos),r.NavigateTo(t.htmlElement,t.pos,!1)))},V.BlurWithin=function(e,t){var n,r=V.GetNavAreaObjects(e,"NavArea.FocusWithin",{target:!0,navArea:!0}).navArea;null!=r&&(te("NavArea.BlurWithin",e),n=r.GetFocusController().GetFocus(),e.contains(n)&&r.Blur(t))},V.HandleKeyDown=function(t){var e,n="NavArea.HandleKeyDown",r=this.GetNavAreaObjects(t.target,n,{target:!1,navArea:!1,activeNavArea:!1}),i=r.navArea,a=r.activeNavArea,o=(r.doc,r.dn);if(null!=a){a.m_focusClaimElement=void 0,te(n+" '"+t.key+"' target in:"+(i?i.props.id:"-")+" active:("+(a?a.props.id:"-")+")"),this.SetIsDoingKeyNav(o,!0);var s=function(){null!=t.preventDefault&&t.preventDefault(),null!=t.stopPropagation&&t.stopPropagation()},c=a.GetFocusedElement(),l=c&&W(c),u=null==l?void 0:l.m_actionDescriptionContext,p=null===(e=null==u?void 0:u.currentActions)||void 0===e?void 0:e.find(function(e){return e.button===function(e){if(console.info("pressed "+e.key),e.ctrlKey)switch(e.key){case"1":return _.c.Menu;default:return}switch(e.key){case"Enter":return _.c.A;case"Escape":return _.c.B;case"Backspace":return _.c.X;case" ":return _.c.Y;case"ArrowLeft":return _.c.Left;case"ArrowRight":return _.c.Right;case"ArrowUp":return _.c.Up;case"ArrowDown":return _.c.Down;default:return}}(t)});if(null!=p&&p.action)return te("+ actionDescription {"),p.action(),s(),void te("+ }");var d,m=V.k_KeyNavigationDirections[t.key];if(!m)return te("+ Non-Arrow Key."),void("Enter"===t.key?null!=(d=a.GetFocusedElement())&&"true"==d.getAttribute($.NoPrimaryAction)||!a.ClickFocusedElement()||s():"Escape"===t.key?a.props.onGoBack&&(te("+ onGoBack {"),a.props.onGoBack(),s(),te("+ }")):"1"===t.key&&t.ctrlKey&&a.props.onHome&&(te("+ onHome {"),a.props.onHome(),s(),te("+ }")));te("+ Arrow Key.");var h=m[0],f=m[1],b=a.FindNextNavTarget(h,f);b&&this.IsElementTarget(b.htmlElement)&&(a.NavigateTo(b.htmlElement,b.pos,!1),s())}else te(n+": no active nav area.")},V.SetDefaultFocusMarker=function(e){V.sm_defaultFocusMarker=e},V.GetDocumentNavState=function(e){return V.sm_documentStates.get(e)},V.GetActiveNavArea=function(e){var t=e.m_navAreaStack;if(0!==t.length)return t[t.length-1]},V.SetIsDoingKeyNav=function(e,t){V.sm_bIsDoingKeyNav=t},V.GetIsDoingKeyNav=function(e){return V.sm_bIsDoingKeyNav},V.GetNavAreaObjects=function(r,i,a){if(!y.IsNavEnabled)return{};if(!ie(r))return Object(f.a)(!0!==a.target,i+" expects target is HTML element."),{};var e=r,o=e.ownerDocument;if(null==o)return Object(f.a)(!0!==a.target,i+" expects target has ownerDocument.",e),{};if(!o.contains(r))return Object(f.a)(!0!==a.target,i+" expects target is in document."),{};var s=V.GetDocumentNavState(o);if(null==s)return Object(f.a)(!1,i+" expects target document nav state"),{};var t=null==a.navArea?{}:function(){var e=V.FindAncestorNavAreaElement(r);if(null==e)return Object(f.a)(!0!==a.navArea,i+" expects target has nav area ancestor."),{};var t=e.ownerDocument;if(null==t)return Object(f.a)(!0!==a.navArea,i+" expects target nav area has ownerDocument."),{};if(!t.contains(e))return Object(f.a)(!0!==a.navArea,i+" expects target nav area is in document."),{};if(!(t===o))return Object(f.a)(!0!==a.navArea,i+" expects target and target nav area are in same document."),{};var n=s.m_elementNavAreaMap.get(e);return null==n?(Object(f.a)(!0!==a.navArea,i+" expects target nav area is registered."),{}):{navArea:n,navAreaElement:e}}(),n=t.navArea,c=void 0===n?void 0:n,l=t.navAreaElement,u=void 0===l?void 0:l,p=null==a.activeNavArea?{}:function(){var e=V.GetActiveNavArea(s);if(null==e)return Object(f.a)(!0!==a.activeNavArea,i+" expects nav area is registered."),{};var t=e.m_navAreaDivRef.current,n=t.ownerDocument;return null==n?(Object(f.a)(!0!==a.activeNavArea,i+" expects nav area has ownerDocument."),{}):n.contains(t)?n===o?{activeNavArea:e,activeNavAreaElement:t}:(Object(f.a)(!0!==a.navArea,i+" expects target and active nav area are in same document."),{}):(Object(f.a)(!0!==a.activeNavArea,i+" expects nav area is in document."),{})}(),d=p.activeNavArea,m=void 0===d?void 0:d,h=p.activeNavAreaElement;return{navArea:c,navAreaElement:u,activeNavArea:m,activeNavAreaElement:void 0===h?void 0:h,doc:o,dn:s}},V.FindAncestorNavAreaElement=function(e){return Object(X.j)(e,function(e){return e.getAttribute($.Type)===ee.Area})},V.IsElementTarget=function(e){return(null==e?void 0:e.getAttribute($.Type))==ee.Target},V.IsElementTargetThatFocuses=function(e){return this.IsElementTarget(e)&&"true"==(null==e?void 0:e.getAttribute($.TargetFocuses))},V.IsElementTargetThatClicks=function(e){return this.IsElementTarget(e)&&"true"==(null==e?void 0:e.getAttribute($.TargetClicks))},V.FindAnchorElement=function(e){return e},V.GetScrollOffset=function(e,t,n){var r=e,i=r.getAttribute($.EnterAsScrolledAxes);if(i===h.XY||i===t)return null;var a=null!=r.getAttribute($.Type),o=a?r.getAttribute($.ScrollAxes):void 0;return a&&o!==h.XY&&o!==t?null:"x"===t?{x:r.scrollLeft,y:0}:{x:0,y:r.scrollTop}},V.UpdateFocusPosAfterLayoutChange=function(e,t){for(var n=e;null!=n;n=V.FindAncestorNavAreaElement(n.parentElement)){var r=t.m_elementNavAreaMap.get(n),i=r.m_focusPos,a=r.GetFocusPos();i!==a&&(r.m_focusPos=a,r.UpdateFocusMarker(!0))}},V.FindNextNavTargetInContainer=function(s,e,c,l,u,t,n){var r,i="x"===l?$.XOrder:"y"===l?$.YOrder:void 0,a=null!==(r=s.getAttribute(i))&&void 0!==r?r:se.Geometry;te("NavArea.FindNextTargetInContainer container:"+ne(s)+" order:"+a+" directional:"+t+" entering:"+n+" focus-on/wi:"+ne(e)+" "+re(c),s);var o=a===se.Geometry,p=a===se.ReverseDomOrder,d="true"===s.getAttribute($.PreferFirstNavStop),m=n?V.GetScrollOffset(s,l,u):null,h=m?K(m,-1):null,f=h?Z(c,h):c;te("+ curPos:"+re(f));var b,_,v=q[l],g=-1===(Y()[l]=u)?"max":"min",y={min:f[v],max:f[v]},S=t&&ie(e)?(b=y,_=ae(e)[v],{min:b.min<_.min?b.min:_.min,max:b.max>_.max?b.max:_.max}):y,w=null,C=null,O=1/0,E=Object(X.k)(s,$.Type);p!=(-1===u)&&E.reverse();for(var B=[],A=null==e?0:null,I=0,j=E;I<j.length;I++){if((z=j[I])!==e){if(z.getAttribute($.Type)!==ee.Area){n&&null===w&&("true"===z.getAttribute($.Preferred)||d&&0==A)&&(w=z),null!==A&&++A;var D=0;if(o){var R=ae(z),T=f[l],M=u*(R[l][g]-T);if(M<0)continue;var N=f[v],L=R[v].min,k=R[v].max,F=N<L?N-L:k<N?N-k:0;if(t)if(!J(S,{min:L,max:k}))continue;var P={x:0,y:0};P[l]=R[l][g],P[v]=N+F;var G=Q(f,P),D=(M*M+F*F)/Math.abs(G[l])}else{if(null==A)continue;D=A}D<O&&(O=D,C=z),B.push({score:D,element:z})}}else A=0}function U(e,t){if(void 0===t&&(t=!1),V.IsElementTarget(e)){if(ie(e)){var n=e,r=oe(n),i=!c||t?r:{x:c.x,y:c.y};i[l]=r[l];var a={htmlElement:n,pos:i};return m&&(a.onscreenTestElement=s),a}return null}if(e.getAttribute($.Type)===ee.Group){var o=V.FindNextNavTargetInContainer(e,null,f,l,u,!1,!0);if(o)return o}return null}var x;if((te("+ Searching "+E.length+" elements:",E,B,w,C),w)&&(x=U(w,!0)))return x;if(C){if(x=U(C))return x;B.sort(function(e,t){return e.score-t.score});for(var z,H=0;H<B.length;++H){if((z=B[H].element)!==C){var W=U(z);if(W)return W}}}return null},V.FindNextNavTargetWithinAndAcrossContainers=function(e,t,n,r,i){te("NavArea.FindNextTargetWithinAndAcrossContainers root:#"+e.id+".'"+e.className+"' focus:#"+t.id+".'"+t.className+"'");for(var a=t;;){var o=Object(X.i)(e,a,$.Type),s=V.FindNextNavTargetInContainer(o,a,n,r,i,!0,!1);if(null!==s)return s;if(o===e)return null;for(var c=a.parentElement;c&&c!==o;){if(O(c,r,i)===m.Scrollable)return null;c=c.parentElement}if(!c)return null;if(c===o&&O(c,r,i)===m.Scrollable)return null;var l=de.GetOnNavOut(o);if(l){te("+ onNavOut {");var u=Y();u[r]=i;var p=l(u);if(te("+ } => "+p),!1===p)return null}a=o}},V.AddEventListeners=function(e){for(var t=0,n=V.k_EventListeners;t<n.length;t++){var r=n[t],i=r[0],a=r[1];e.addEventListener(i,a,!0)}},V.RemoveEventListeners=function(e){for(var t=0,n=this.k_EventListeners;t<n.length;t++){var r=n[t],i=r[0],a=r[1];e.removeEventListener(i,a,!0)}},V.HandleAllOnKeyDown=function(e){te("NavArea.HandleAllOnKeyDown "+e.key),V.HandleKeyDown({target:e.target,key:e.key,ctrlKey:e.ctrlKey,stopPropagation:function(){return e.stopImmediatePropagation()},preventDefault:function(){return e.preventDefault()}})},V.HandleAllOnScroll=function(e){var t,n="NavArea.HandleAllOnScroll",r=V.GetNavAreaObjects(e.target,n,{target:!0,navArea:!1}),i=r.navArea,a=r.navAreaElement,o=r.dn;null!=i&&(te(n+" ("+i.props.id+") "+ne(e.target)),null!=(t=W(e.target))&&t instanceof de&&t.UpdateScrollPos(),V.UpdateFocusPosAfterLayoutChange(a,o))},V.HandleAllOnAnimationStart=function(e){},V.HandleAllOnAnimationEnd=function(e){var t=V.GetNavAreaObjects(e.target,"NavArea.HandleAllOnAnimationEnd",{target:!0,navArea:!1}),n=t.navArea,r=t.navAreaElement,i=t.dn;null!=n&&V.UpdateFocusPosAfterLayoutChange(r,i)},V.HandleAllOnTransitionStart=function(e){},V.HandleAllOnTransitionEnd=function(e){var t,n=V.GetNavAreaObjects(e.target,"NavArea.HandleAllOnTransitionEnd",{target:!0,navArea:!1}),r=n.navArea,i=n.navAreaElement,a=n.dn;null!=r&&(null!==(t=r.m_focusMarker)&&void 0!==t&&t.IsEventSource(e)||V.UpdateFocusPosAfterLayoutChange(i,a))},V.HandleAllOnMouseDown=function(e){var t,n="NavArea.HandleAllOnMouseDown",r=V.GetNavAreaObjects(e.target,n,{target:!0,navArea:!1}),i=r.navArea,a=r.dn;null!=i&&(te(n+" ("+i.props.id+"):",e.target),V.SetIsDoingKeyNav(a,!1),null!=(null==(t=i.GetFocusController())?void 0:t.HandleNavStopClick)&&(te("+ preventDefault"),e.preventDefault()))},V.HandleAllOnClick=function(e){var t,n,r,i="NavArea.HandleAllOnClick",a=V.GetNavAreaObjects(e.target,i,{target:!0,navArea:!1}).navArea;null!=a&&(te(i+" ("+a.props.id+"):",e.target),null!=(n=null==(t=a.GetFocusController())?void 0:t.HandleNavStopClick)?(r=e.target,V.IsElementTargetThatFocuses(r)&&(te("+ handleNavStopClick {"),n(e,r),te("+ }"))):te("+ nop."))},V.HandleFocusControllerOnFocus=function(e){var t,n,r,i="NavArea.HandleFocusControllerOnFocus",a=W(e),o=null==a?void 0:a.m_actionDescriptionContext;o&&o.setCurrentActions(o.focusActions),null!=e.ownerDocument&&(n=(t=V.GetNavAreaObjects(e,i,{target:!0,navArea:!1,activeNavArea:!1})).navArea,r=t.activeNavArea,t.dn,null!=n&&(te(i+" ("+n.props.id+")",e),n!==r&&(te("+ Activating Nav Area with element as initial focus."),n.Activate(e)),n.UpdateFocus(e)))},V.HandleFocusControllerOnBlur=function(e){var t,n="NavArea.HandleFocusControllerOnBlur",r=W(e),i=null==r?void 0:r.m_actionDescriptionContext;i&&i.setCurrentActions(void 0),null==e.ownerDocument||null!=(t=V.GetNavAreaObjects(e,n,{target:!0,navArea:!1}).navArea)&&(te(n+" ("+t.props.id+")",e),t.UpdateFocus(null))},V.prototype.HandleKeyDown=function(e){V.HandleKeyDown({target:this.m_navAreaDivRef.current,key:e.key,ctrlKey:e.ctrlKey,stopPropagation:function(){return e.stopPropagation()},preventDefault:function(){return e.preventDefault()}})},V.prototype.GetFocusedElement=function(){var e="NavArea.GetFocusedElement";if(te(e+" ("+this.props.id+")"),null!=this.GetElementDocState(e).dn)return this.GetFocusController().GetFocus()},V.prototype.ClickFocusedElement=function(){te("NavArea.ClickFocusedElement ("+this.props.id+")");var e=this.GetFocusedElement();return null!=e&&(this.GetFocusController().Click(e),!0)},V.prototype.Blur=function(e){var t="NavArea.Blur";te(t+" ("+this.props.id+")");var n,r=this.GetElementDocState(t).dn;null!=r&&(n=this.m_inFocusCallType,this.m_inFocusCallType="blur",this.m_focusClaimElement=void 0,this.m_lastFocusedHtmlElement=null,this.m_lastFocusPosOffsetFromAnchorElement=null,this.m_focusedHtmlElement=null,this.m_focusPos=null,this.m_focusPosOffsetFromAnchorElement=null,this===V.GetActiveNavArea(r)&&(te("+ setting focus to null"),this.GetFocusController().Focus(null)),this.m_inFocusCallType=n)},V.prototype.Activate=function(e){var t="NavArea.Activate";te(t+" ("+this.props.id+") "+(this.props.startInactive?"startInactive":""));var n,r,i,a,o,s,c=this.GetElementDocState(t),l=c.thisElement,u=c.dn;null!=u&&(null!=(n=V.GetActiveNavArea(u))&&n!=this&&(te("+ saving last focused element:",n.m_focusedHtmlElement,n.m_focusPos),n.m_lastFocusedHtmlElement=n.m_focusedHtmlElement,n.m_lastFocusPosOffsetFromAnchorElement=n.m_focusPosOffsetFromAnchorElement,n.m_focusedHtmlElement=null,n.m_focusPosOffsetFromAnchorElement=null),u.m_navAreaStack=Object(G.b)(u.m_navAreaStack,this),l.setAttribute($.AreaActive,"true"),u.m_navAreaStack.push(this),r=this.m_lastFocusedHtmlElement,null!=e&&V.IsElementTargetThatFocuses(r)?(te("+ focusing new:",e),this.NavigateTo(e,void 0,!1)):null!=r&&V.IsElementTargetThatFocuses(r)?(te("+ focusing last:",r,this.m_focusPos),(i=V.FindAnchorElement(r))?(a=oe(i),this.NavigateTo(r,Z(a,this.m_lastFocusPosOffsetFromAnchorElement),!0)):this.NavigateTo(r,void 0,!0)):null!==(o=this.FindBestFocusableTarget(this.m_navAreaDivRef.current,void 0,void 0))&&V.IsElementTargetThatFocuses(o.htmlElement)?(te("+ focusing found:",o.htmlElement,o.pos),this.NavigateTo(o.htmlElement,o.pos,!1)):te("+ no focus found."),null!=(s=this.props.onActivate)&&(te("+ onActivate {"),s(),te("+ }")))},V.prototype.Deactivate=function(){var e="NavArea.Deactivate";te(e+" ("+this.props.id+") "+(this.props.startInactive?"startInactive":""));var t,n,r,i=this.GetElementDocState(e),a=i.thisElement,o=i.dn;null!=o&&(o.m_navAreaStack.includes(this)?(this.Blur(),t=V.GetActiveNavArea(o)===this,a.setAttribute($.AreaActive,"false"),o.m_navAreaStack=Object(G.b)(o.m_navAreaStack,this),t&&(null!=(n=V.GetActiveNavArea(o))&&n.Activate(),te("+ now active: "+(null!=n?n.props.id:"-"))),null!=(r=this.props.onDeactivate)&&(te("+ onDeactivate {"),r(),te("+ }"))):te("+ nop; not actually active."))},V.prototype.GetFocusControllerDomIntegrator=function(){return null!=this.props.focusController?this.props.focusController:V.sm_htmlDomFocusControllerDomIntegrator},V.prototype.GetFocusController=function(){return this.m_focusController},V.prototype.ClaimFocus=function(e){var t="NavArea.ClaimFocus";y.IsNotSettingFocus?te(t+" NOT claiming focus.",e):null!=this.m_navAreaDivRef.current?null!==this.m_focusClaimElement?(te(t+" first claim now."),this.NavigateTo(e,void 0,!1),this.m_focusClaimElement=null):te(t+" already claimed now, ignored."):null==this.m_focusClaimElement?(te(t+" first claim delay."),this.m_focusClaimElement=e):te(t+" already claimed delay, ignored.")},V.prototype.GetElementDoc=function(e){if(!y.IsNavEnabled)return{};var t=this.m_navAreaDivRef.current;if(null==t)return Object(f.a)(!1,e+" expects nav area ref."),{};var n=t.ownerDocument;return null==n?(Object(f.a)(!1,e+" expects nav area ownerDocument."),{}):n.contains(t)?{thisElement:t,doc:n}:(Object(f.a)(!1,e+" expects nav area to be in document."),{})},V.prototype.GetElementDocState=function(e){var t=this.GetElementDoc(e),n=t.thisElement,r=t.doc;if(null==r)return{};var i=V.GetDocumentNavState(r);return null==i?(Object(f.a)(!1,e+" expects document nav state."),{}):{thisElement:n,doc:r,dn:i}},V.prototype.NavigateTo=function(r,e,t){var n,i,a,o,s,c,l,u,p,d,m,_,h;y.IsNotSettingFocus?te("NavArea.SetTarget NOT setting target ("+this.m_navAreaDivRef.current.id+") "+re(e),r):r.ownerDocument.contains(r)?(n=this.GetFocusController(),V.IsElementTargetThatFocuses(r)&&(i=this.m_inFocusCallType,this.m_inFocusCallType="focus",te("NavArea.SetTarget ("+this.m_navAreaDivRef.current.id+") "+re(e),r),this.UpdateFocus(r,e),s=(o=(a=function(t,e){var n=Object(X.j)(r,function(e){return null!=e.getAttribute(t)});return null==n?[void 0,void 0,void 0]:[n,n.getAttribute(t),parseFloat(n.getAttribute(e)||"0")]})($.ScrollSnapTypeX,$.ScrollSnapMarginX))[0],c=o[1],l=o[2],p=(u=a($.ScrollSnapTypeY,$.ScrollSnapMarginY))[0],d=u[1],m=u[2],c||d?(te("+ scroll-snapping ("+c+", "+d+")"),n.Focus(r,{preventScroll:!0}),_=r.ownerDocument.defaultView,(h=function(e,t,n,r){if(null!=t)for(var i=ae(t),a=C(t),o=i[e].min-r*a,s=i[e].max+r*a,c=t.parentElement;null!=c;c=c.parentElement){var l="x"===e?[c.scrollLeft,c.scrollWidth,c.clientWidth]:[c.scrollTop,c.scrollHeight,c.clientHeight];if(!(l[1]<=l[2])){var u=_.getComputedStyle(c),p="x"===e?u.overflowX:u.overflowY;if("auto"===p||"scroll"===p){var d=ae(c);if(n===A.Lazy&&d[e].min<=o&&d[e].max>=s)return;var m={min:o-d[e].min,max:s-d[e].max},h=n===A.Start?0:n===A.Center?.5:n!==A.End&&Math.abs(m.min)<=Math.abs(m.max)?0:1,f=C(c),b=((1-h)*m.min+h*m.max)/f;return te("+ snap "+e+": "+n+" [ "+m.min+" -- "+h+" -- "+m.max+" ]"),void("x"===e?c.scrollLeft+=b:c.scrollTop+=b)}}}})("x",s,c,l),h("y",p,d,m)):n.Focus(r),this.m_inFocusCallType=i),!t&&V.IsElementTargetThatClicks(r)&&(te("NavArea.SetFocus "+ne(this.m_navAreaDivRef.current)+" CLICK",r),n.Click(r))):te("NavArea.SetTarget ** LOST ELEMENT ** ("+this.m_navAreaDivRef.current.id+") "+re(e),r)},V.prototype.UpdateFocus=function(e,t){var n,r;null==t&&null!=e&&e!=this.m_focusedHtmlElement&&(t=oe(e)),te("NavArea.UpdateFocus ("+this.props.id+") "+re(t),e),e!=this.m_focusedHtmlElement&&(te("+ updating last focus element"),null!=(n=V.FindAnchorElement(e))?(r=oe(n),this.m_focusPosOffsetFromAnchorElement=Q(r,t)):this.m_focusPosOffsetFromAnchorElement=null,this.m_focusedHtmlElement=e,this.m_focusPos=null!=t?t:null);var i=W(e);i instanceof le&&i.GotFocus(),this.UpdateFocusMarker(!1)},V.prototype.UpdateFocusMarker=function(e){var t,n;te("NavArea.UpdateFocusMarker "+ne(this.m_navAreaDivRef.current)),null!=this.m_focusMarker&&(n=V.GetIsDoingKeyNav(this.m_docNavState)&&"true"!==(null===(t=this.m_focusedHtmlElement)||void 0===t?void 0:t.getAttribute($.NoFocusMarker)),this.m_focusMarker.HandleOnFocusChanged(e,this.m_focusedHtmlElement,n,this.GetFocusPos()),null!=this.m_pointerFocusMarkerRef.current&&this.m_pointerFocusMarkerRef.current.HandleOnFocusChanged(e,this.m_focusedHtmlElement,n,this.GetFocusPos()))},V.prototype.GetFocusPos=function(){var e=this.m_navAreaDivRef.current,t=this.m_focusedHtmlElement,n=this.m_focusPosOffsetFromAnchorElement;if(e&&t&&e.contains(t)&&n){var r=V.FindAnchorElement(t);if(r)return Z(oe(r),n)}return this.m_focusPos},V.prototype.FindBestFocusableTarget=function(e,t,n){var r="NavArea.FindBestNavStopFocus";if(!e)return null;var i=e.ownerDocument;if(!i)return null;te(r+" #"+e.id+".'"+e.className+"'");var a=this.m_focusClaimElement;if(this.m_focusClaimElement=void 0,null!=a&&i.contains(a)&&e.contains(a)&&V.IsElementTargetThatFocuses(a))return{htmlElement:a,pos:oe(a)};var o=this.m_focusedHtmlElement,s=this.GetFocusPos();if(o&&i.contains(o)&&e.contains(o)&&V.IsElementTargetThatFocuses(o))return{htmlElement:o,pos:s||oe(o)};var c=Object(X.k)(e,$.Type).filter(function(e){return ie(e)&&"true"===e.getAttribute($.Preferred)&&(e.getAttribute($.Type)===ee.Group||V.IsElementTargetThatFocuses(e))});if(0<c.length){var l=c[0],u=l.getAttribute($.Type);if(V.IsElementTargetThatFocuses(l))return{htmlElement:l,pos:oe(l)};if(u===ee.Group){var p=this.FindBestFocusableTarget(l,t,n);if(p)return p}}var d=Array.from(e.querySelectorAll("["+$.Type+"="+ee.Target+"]["+$.TargetFocuses+"="+!0+"]")).filter(ie);if(!d||0===d.length)return null;var m=V.GetNavAreaObjects(e,r,{target:!0,activeNavArea:!0}),h=m.activeNavArea,f=(m.activeNavAreaElement,m.dn);if(void 0===f)return null;if(h.props.initFromBoundary&&void 0!==t&&void 0!==n){var b="x"===t?$.XOrder:"y"===t?$.YOrder:void 0,_=e.getAttribute(b);if(!(_===se.Geometry||null==_)){var v=_===se.ReverseDomOrder!=(-1===n)?d[d.length-1]:d[0];return{htmlElement:v,pos:oe(v)}}for(var g=-1===n?"max":"min",y=null,S=1/0,w=0,C=d;w<C.length;w++){var O=C[w],E=n*ae(O)[t][g];E<S&&(S=E,y=O)}if(null!==y)return{htmlElement:y,pos:oe(y)}}var B,A=f.m_navAreaStack,I=Object(G.e)(A,function(e){return null!==e.m_focusPos});if(I){for(var j=I.GetFocusPos(),D=Number.POSITIVE_INFINITY,R=null,T=0,M=d;T<M.length;T++){var N=M[T],L=oe(N),k=(B=void 0,B=Q(j,L),Math.sqrt(P(B,B)));k<D&&(D=k,R=N)}if(R)return{htmlElement:R,pos:oe(R)}}var F=d[0];return F?{htmlElement:F,pos:oe(F)}:(te("+ found no nav target."),null)},V.prototype.FindNextNavTarget=function(e,t){var n="NavArea.FindNextNavStop";te(n+" ("+this.props.id+")");var r=this.m_navAreaDivRef.current;if(!r)return null;var i=r.ownerDocument;if(!i||i!==this.m_document||!i.contains(r))return null;var a,o,s,c,l,u=null,p=this.GetFocusController().GetFocus();if(ie(p)&&i.contains(p)&&p!==r&&r.contains(p)?(a=null!==this.m_focusPos&&this.m_focusedHtmlElement===p&&this.GetFocusPos()||oe(p),(s=V.FindNextNavTargetWithinAndAcrossContainers(r,p,a,e,t))||(te(n+": Navigated to self (shouldn't happen!); retrying"),o=oe(p),s=V.FindNextNavTargetWithinAndAcrossContainers(r,p,o,e,t)),s&&(u=s)):u=this.FindBestFocusableTarget(this.m_navAreaDivRef.current,e,t),null!==u){var d=i.defaultView;if(!d)return null;var m=parseFloat(d.getComputedStyle(i.firstElementChild).zoom)||1,h={x:{min:-40*m,max:(d.innerWidth+40)*m},y:{min:-40*m,max:(d.innerHeight+40)*m}},f=ae(u.onscreenTestElement||u.htmlElement);if(J((c=h).x,(l=f).x)&&J(c.y,l.y))return u}return null},V.prototype.Register=function(){var e,t,n,r="NavArea.Register";te(r+" ("+this.props.id+")");var i,a,o,s=this.GetElementDoc(r),c=s.thisElement,l=s.doc;null!=l&&(i=function(){var e=V.GetDocumentNavState(l);if(null!=e)return e;te("+ creating new DocumentNavState");var t=new me(l);return V.AddEventListeners(l),V.sm_documentStates.set(l,t),t}(),this.m_document=l,this.m_docNavState=i,null!=(a=this.props.focusController||i.m_defaultFocusController)&&(i.m_focusControllers.has(a)||(a.AddFocusListener(V.HandleFocusControllerOnFocus),a.AddBlurListener(V.HandleFocusControllerOnBlur)),i.m_focusControllers.add(a)),this.m_focusController=a,null!=(o=null===this.props.focusMarker?void 0:null!==(n=null!==(t=null!==(e=this.props.focusMarker)&&void 0!==e?e:V.sm_defaultFocusMarker)&&void 0!==t?t:this.m_boxFocusMarker)&&void 0!==n?n:this.m_boxFocusMarker=new L(this.m_boxFocusMarkerDivRef))&&i.m_focusMarkers.add(o),this.m_focusMarker=o,i.m_elementNavAreaMap.set(c,this),this.props.startInactive||this.Activate())},V.prototype.Unregister=function(){var e="NavArea.Unregister";te(e+" ("+this.props.id+")");var t,n,r=this.GetElementDocState(e),i=r.thisElement,a=r.doc,o=r.dn;null!=o&&(this.Deactivate(),o.m_elementNavAreaMap.delete(i),null!=(t=this.m_focusMarker)&&o.m_focusMarkers.delete(t),null!=(n=this.m_focusController)&&(o.m_focusControllers.delete(n),o.m_focusControllers.has(n)||(n.RemoveFocusListener(V.HandleFocusControllerOnFocus),n.RemoveBlurListener(V.HandleFocusControllerOnBlur))),o.isEmpty&&(V.RemoveEventListeners(a),V.sm_documentStates.delete(a)))},V.prototype.componentDidMount=function(){te("NavArea.componentDidMount ("+this.props.id+")"),this.Register()},V.prototype.componentDidUpdate=function(){te("NavArea.componentDidUpdate ("+this.props.id+")")},V.prototype.componentWillUnmount=function(){te("NavArea.componentWillUnmount ("+this.props.id+")"),this.Unregister()},V.prototype.render=function(){var e,t=this.props,n=t.className,r=t.children,i=(t.initFromBoundary,t.onActivate,t.onDeactivate,t.onGoBack,t.onHome,t.focusController,t.focusMarker,t.startInactive),a=Object(u.f)(t,["className","children","initFromBoundary","onActivate","onDeactivate","onGoBack","onHome","focusController","focusMarker","startInactive"]),o=y.IsNavEnabled;if(!o)return p.createElement("div",Object(u.a)({ref:this.m_navAreaDivRef,className:n},a),r);var s=y.IsPointerVisible,c=y.IsDefaultFocusMarkerVisible,l=((e={})[$.Type]=ee.Area,e[$.AreaActive]="false",e[$.AreaPass]=i?"true":void 0,e);return p.createElement(E.Provider,{value:this},p.createElement("div",Object(u.a)({ref:this.m_navAreaDivRef,className:Object(d.a)(g,n)},l,a),o&&s&&p.createElement(N,{ref:this.m_pointerFocusMarkerRef,className:"nav-area-pointer-fm",style:{margin:0,padding:0,background:"linear-gradient( -45deg, rgba( 0, 0, 0, 0 ) 0%, rgba( 0, 0, 0, 0 ) 50%, rgba( 255, 0, 0, 0.95 ) 75% )",borderTop:"3px solid black",borderLeft:"3px solid black",width:"30px",height:"30px",zIndex:1e6}}),o&&c&&p.createElement("div",{ref:this.m_boxFocusMarkerDivRef,className:"nav-area-box-fm",style:{position:"absolute",boxSizing:"border-box",pointerEvents:"none",margin:"0",border:"4px solid magenta",padding:"4px",width:"10px",height:"10px",zIndex:1e5,willChange:"left, top, width, height"}}),r))},V.sm_documentStates=new Map,V.sm_bIsDoingKeyNav=!0,V.k_EventListeners=[["keydown",V.HandleAllOnKeyDown],["scroll",V.HandleAllOnScroll],["mousedown",V.HandleAllOnMouseDown],["click",V.HandleAllOnClick],["animationstart",V.HandleAllOnAnimationStart],["animationend",V.HandleAllOnAnimationEnd],["transitionstart",V.HandleAllOnTransitionStart],["transitionend",V.HandleAllOnTransitionEnd]],V.k_KeyNavigationDirections={ArrowLeft:["x",-1],ArrowRight:["x",1],ArrowUp:["y",-1],ArrowDown:["y",1]},Object(u.c)([w],V.prototype,"HandleKeyDown",null),Object(u.c)([w],V.prototype,"GetFocusedElement",null),Object(u.c)([w],V.prototype,"ClickFocusedElement",null),Object(u.c)([w],V.prototype,"Blur",null),Object(u.c)([w],V.prototype,"Activate",null),Object(u.c)([w],V.prototype,"Deactivate",null),Object(u.c)([w],V.prototype,"ClaimFocus",null),Object(u.c)([w],V.prototype,"NavigateTo",null),Object(u.c)([w],V.prototype,"UpdateFocus",null),Object(u.c)([w],V.prototype,"UpdateFocusMarker",null),Object(u.c)([w],V.prototype,"FindBestFocusableTarget",null),Object(u.c)([w],V.prototype,"FindNextNavTarget",null),Object(u.c)([w],V.prototype,"Register",null),Object(u.c)([w],V.prototype,"Unregister",null),Object(u.c)([w],V.prototype,"componentDidMount",null),Object(u.c)([w],V.prototype,"componentDidUpdate",null),Object(u.c)([w],V.prototype,"componentWillUnmount",null),Object(u.c)([w],V,"FocusWithin",null),Object(u.c)([w],V,"BlurWithin",null),Object(u.c)([w],V,"HandleKeyDown",null),Object(u.c)([w],V,"GetScrollOffset",null),Object(u.c)([w],V,"UpdateFocusPosAfterLayoutChange",null),Object(u.c)([w],V,"FindNextNavTargetInContainer",null),Object(u.c)([w],V,"FindNextNavTargetWithinAndAcrossContainers",null),Object(u.c)([w],V,"HandleAllOnKeyDown",null),Object(u.c)([w],V,"HandleAllOnScroll",null),Object(u.c)([w],V,"HandleAllOnAnimationStart",null),Object(u.c)([w],V,"HandleAllOnAnimationEnd",null),Object(u.c)([w],V,"HandleAllOnTransitionStart",null),Object(u.c)([w],V,"HandleAllOnTransitionEnd",null),Object(u.c)([w],V,"HandleAllOnMouseDown",null),Object(u.c)([w],V,"HandleAllOnClick",null),Object(u.c)([w],V,"HandleFocusControllerOnFocus",null),Object(u.c)([w],V,"HandleFocusControllerOnBlur",null),V}(p.Component)},UWWC:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var u=n("mrSG"),r=n("wUwH"),p=n("lkRc"),i=n("vDqi"),d=n.n(i),a=function(e){function t(){return e.call(this)||this}return Object(u.d)(t,e),t.prototype.BInitialized=function(){return!0},t.prototype.GetServerTime=function(){return p.c.PAGE_TIMESTAMP+Math.floor(performance.now()/1e3)},t.prototype.RequestEmoticonListInternal=function(){return Object(u.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l;return Object(u.e)(this,function(e){switch(e.label){case 0:t=[],e.label=1;case 1:return e.trys.push([1,3,,4]),[4,d.a.get(p.c.CHAT_BASE_URL+"actions/EmoticonData",{withCredentials:!0})];case 2:if((n=e.sent()).data.emoticons)for(r=0,i=n.data.emoticons;r<i.length;r++)a=i[r],(o=a.name).startsWith("^")?t.push({name:o}):(s={name:o.substr(1,o.length-2)},(c=s.name.toLowerCase())!=s.name&&(s.name_normalized=c),a.time_last_used&&(s.last_used=a.time_last_used),a.use_count&&(s.use_count=a.use_count),a.time_received&&(s.time_received=a.time_received),a.appid&&(s.appid=a.appid),t.push(s));return[3,4];case 3:return l=e.sent(),console.error("error loading emoticon list",l),[3,4];case 4:return this.OnEmoticonListReceived(t),[2]}})})},t}(r.a),o=new a},Ux06:function(e,t,n){e.exports={InnerContainer:"remainderlist_InnerContainer_1IIKw",ItemWrapper:"remainderlist_ItemWrapper_2H_yt"}},UxvL:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("mrSG"),i=n("q1tI"),a=n("bxiW"),o=function(n){function e(e){var t=n.call(this,e)||this;return t.m_refImage=i.createRef(),t.state={nImage:0},t}return Object(r.d)(e,n),e.prototype.componentDidUpdate=function(e){JSON.stringify(this.props.rgSources)!=JSON.stringify(e.rgSources)&&this.setState({nImage:0})},Object.defineProperty(e.prototype,"src",{get:function(){var e=this.props.rgSources[this.state.nImage];return e&&0!=e.length||(console.warn("MultiSourceImage created with no image src",this.props,this.state.nImage),e="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imgRef",{get:function(){return this.m_refImage},enumerable:!1,configurable:!0}),e.prototype.OnImageError=function(e){this.props.onIncrementalError&&this.props.onIncrementalError(e,this.props.rgSources[this.state.nImage],this.state.nImage);var t=this.state.nImage+1;t>=this.props.rgSources.length&&this.props.onError&&this.props.onError(e),t<this.props.rgSources.length&&this.setState({nImage:t})},e.prototype.render=function(){var e=this.props,t=(e.src,e.rgSources,e.onIncrementalError,e.onError,Object(r.f)(e,["src","rgSources","onIncrementalError","onError"])),n=this.src;return i.createElement("img",Object(r.a)({src:n,ref:this.m_refImage},t,{onError:this.OnImageError}))},Object(r.c)([a.a],e.prototype,"OnImageError",null),e}(i.Component)},VQ2A:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l});var r=n("zZkr"),i=n("r64O"),a=n("lkRc");function o(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=null),u.InstrumentLink(e,t,n)}function s(e,t,n){void 0===n&&(n=null);var r=c(t,n);return u.AddNavParamToURL(e,r)}function c(e,t){return void 0===t&&(t=null),null!=e&&e.domain?u.GetLinkParam(e,t):a.c.SNR}function l(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=null),o(a.c.STORE_BASE_URL+"app/"+e,t,n)}var u=function(){function a(){}return a.SetNavEventParams=function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=null),a.sm_strDomain=e,a.sm_strController=t,a.sm_strMethod=n,a.sm_strSubmethod=r,a.sm_strComputedLinkPrefix=null},a.GetDefaultParams=function(){var e={domain:a.sm_strDomain,controller:a.sm_strController};return a.sm_strMethod&&(e.method=a.sm_strMethod),a.sm_strSubmethod&&(e.submethod=a.sm_strSubmethod),e},a.ParseSNR=function(e){var t=e.split("_")||[];return{domain:t[0],controller:t[1],method:t[2],submethod:t[3],feature:t[4],depth:t[5]?Number(t[5]):void 0}},a.InstrumentLink=function(e,t,n){void 0===n&&(n=null);var r=a.GetLinkParam(t,n);return a.AddNavParamToURL(e,r)},a.GetLinkParam=function(e,t){var n,r;if(void 0===t&&(t=null),"string"==typeof e||e.domain||(e=e.feature),"string"!=typeof e&&e.domain)n=a.ComputeLinkPrefix(e.domain,e.controller,e.method,e.submethod),r=e.feature,t=null!=t?t:e.depth;else{if(!a.sm_strComputedLinkPrefix&&!a.ComputeStaticLinkPrefix())return null;n=a.sm_strComputedLinkPrefix,r="string"==typeof e?e:e.feature}var i=a.EncodeEventComponent(r);return i&&(n+="_"+i,t&&(n+="_"+t)),n},a.AddNavParamToURL=function(e,t){var n=new URL(e),r=new URLSearchParams(n.search);return r.set("snr",encodeURIComponent(t)),n.origin+n.pathname+"?"+r.toString()+n.hash},a.ComputeStaticLinkPrefix=function(){return a.sm_strDomain?(a.sm_strComputedLinkPrefix=a.ComputeLinkPrefix(a.sm_strDomain,a.sm_strController,a.sm_strMethod,a.sm_strSubmethod),!0):(Object(i.a)(!1,"CStoreNavEvents::SetNavEventParams was not called before calling InstrumentLink!"),!1)},a.ComputeLinkPrefix=function(e,t,n,r){var i="";return i+=a.EncodeEventComponent(e),i+="_",i+=a.EncodeEventComponent(t),i+="_",i+=a.EncodeEventComponent(n),i+="_",i+=a.EncodeEventComponent(r)},a.EncodeEventComponent=function(e){if(!e)return"";var t=r;return e in t?""+t[e]:(e.match(/^[0-9]+$/)||(e=e.replace(/^[0-9]+/,"")),e.replace(/[^a-zA-Z0-9\- ]+/g,""))},a}();t.e=u},VtBW:function(e,t,n){e.exports={YoutubePreviewImage:"youtubepreviewimage_YoutubePreviewImage_3bVwK",YoutubePlayer:"youtubepreviewimage_YoutubePlayer_3oXEP"}},WBba:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var p=n("mrSG"),d=n("H7XF"),u=n("hRO2"),m=n("bxBv"),r=n("bxiW"),i=n("vDqi"),h=n.n(i),f=n("mC9v"),a=n("kLLr"),o=function(){function e(e,t,n){void 0===n&&(n=!1),this.m_webApiAccessToken="",this.m_bJsonMode=!1,this.m_strWebAPIBaseURL=e,this.m_webApiAccessToken=t,this.m_bJsonMode=n,this.ConstructServiceTransport()}return e.prototype.WaitUntilLoggedOn=function(){return Promise.resolve()},e.prototype.GetServerRTime32=function(){return Number(new Date)},Object.defineProperty(e.prototype,"steamid",{get:function(){return new a.a},enumerable:!1,configurable:!0}),e.prototype.RTime32ToDate=function(e){return new Date(1e3*e)},e.prototype.GetServiceTransport=function(){return this.m_ServiceTransport},e.prototype.GetAnonymousServiceTransport=function(){return this.m_AnonymousServiceTransport},e.prototype.ConstructServiceTransport=function(){this.m_ServiceTransport={SendMsg:this.SendMsgAndAwaitResponse.bind(this,{bSendAuth:!0}),SendNotification:this.SendNotification.bind(this,{bSendAuth:!0})},this.m_AnonymousServiceTransport={SendMsg:this.SendMsgAndAwaitResponse.bind(this,{bSendAuth:!1}),SendNotification:this.SendNotification.bind(this,{bSendAuth:!1})}},e.prototype.SendMsgAndAwaitResponse=function(a,o,s,c,l){return Object(p.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(p.e)(this,function(e){switch(e.label){case 0:t=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.Send(a,o,s,l)];case 2:if(200!=(n=e.sent()).status||!n.data)throw new Error("Request Error");return t=m.b.Init(c,147),n.headers&&(n.headers["x-eresult"]&&t.Hdr().set_eresult(parseInt(n.headers["x-eresult"])),n.headers["x-error_message"]&&t.Hdr().set_error_message(n.headers["x-error_message"])),this.m_bJsonMode?t.SetBodyJSON(n.data.response):(r=new f.b(n.data),i=new u.BinaryReader(r.GetPacket(),r.TellGet(),r.GetCountBytesRemaining()),c.deserializeBinaryFromReader(t.Body(),i)),[3,4];case 3:return e.sent(),t=this.CreateFailedMsgProtobuf(c,3,null),[3,4];case 4:return[2,t]}})})},e.prototype.SendNotification=function(e,t,n,r){return this.Send(e,t,n,r),!0},e.prototype.Send=function(e,t,n,r){var i=this.CreateWebAPIURL(t),a=n.SerializeBody(),o=d.fromByteArray(a),s=r.eWebAPIKeyRequirement,c=0==r.ePrivilege&&1==s,l={responseType:this.m_bJsonMode?"json":"arraybuffer",params:{}};if(e.bSendAuth||1==s||console.error("Attempting to invoke service "+t+" without auth, but auth is required."),this.m_webApiAccessToken&&e.bSendAuth&&!c&&(l.params.access_token=this.m_webApiAccessToken),r.bConstMethod)return this.m_bJsonMode?l.params=Object(p.a)(Object(p.a)({},l.params),{input_json:JSON.stringify(n.Body().toObject())}):l.params=Object(p.a)(Object(p.a)({},l.params),{input_protobuf_encoded:o}),h.a.get(i,l);var u=new FormData;return this.m_bJsonMode?u.append("input_json",JSON.stringify(n.Body().toObject())):u.append("input_protobuf_encoded",o),h.a.post(i,u,l)},e.prototype.CreateWebAPIURL=function(e){var t=e.match(/([^\.]+)\.(.+)#(\d+)/);return t&&4==t.length?this.m_strWebAPIBaseURL+"I"+t[1]+"Service/"+t[2]+"/v"+t[3]:null},e.prototype.CreateFailedMsgProtobuf=function(e,t,n){var r=m.b.Init(e);return r.Hdr().set_eresult(2),r.Hdr().set_transport_error(t),n&&r.Hdr().set_error_message(n),r},Object(p.c)([r.a],e.prototype,"SendMsgAndAwaitResponse",null),Object(p.c)([r.a],e.prototype,"SendNotification",null),Object(p.c)([r.a],e.prototype,"Send",null),e}()},WF3T:function(e,t,n){"use strict";n.d(t,"c",function(){return D}),n.d(t,"b",function(){return R}),n.d(t,"a",function(){return T});var h=n("mrSG"),r=n("vDqi"),f=n.n(r),s=n("2vnA"),w=n("wd/R"),a=n("5bld"),c=n("5eAM"),i=n("kLLr"),o=n("9w6b"),l=n("6oCP"),u=n("gyoR"),p=n("r64O"),C=n("TLQK"),b=n("bDQf"),d=n("bxiW"),_=n("lkRc"),m=n("ee7K"),v=n("O0NR"),g=n("KEpR"),y=n("TAM5"),S=n("5izx"),O=n("Dhs6");function E(e,t,n,r){return{strId:"section-"+t,strSectionLabel:t,rtSectionStart:n,rtSectionEnd:r,bIsFutureSection:e<=n,nRenderedHeight:2500,nTopOffset:0}}var B=function(){function e(e){this.m_nForwardStuckCount=0,this.m_nBackwardStuckCount=0,this.m_mapCalendarAppsByID=new Map,this.m_mapCalendarClansByID=new Map,this.m_mapCalendarEventsByGid=new Map,this.m_rgSortedCalendarEvents=new Array,this.m_visibilityStore=new g.a,this.m_currentView=s.observable.box(null),this.m_bFinishedSearchingForward=!1,this.m_bFinishedSearchingBackward=!1,this.m_rgCalendarSections=[],this.m_rgFutureSections=[],this.m_collectionMetaData=void 0,this.m_key=e,m.a.HintLoad()}return e.prototype.GetNumEventsLoaded=function(){return this.m_mapCalendarEventsByGid.size},e.prototype.BIsGlobalCalendar=function(){return!(this.m_key.appids||this.m_key.clanaccountids||this.m_key.collectionid||this.m_key.saleid)},e.prototype.BIsShowingFeaturedFeed=function(){return Boolean(this.GetCollectionID()===y.a.Featured||this.BIsGlobalCalendar()&&!_.h.accountid)},e.prototype.BIsSingleSourceCalendar=function(){return Boolean(this.BIsSingleGroupCalendar()?!this.BIsSingleAppCalendar():this.BIsSingleAppCalendar())},e.prototype.GetKey=function(){return this.m_key},e.prototype.BEventMatchCalendarSingleSource=function(e){return this.BIsSingleAppCalendar()&&this.m_key.appids[0]==e.appid||this.BIsSingleGroupCalendar()&&this.m_key.clanaccountids[0]==e.clanid},e.prototype.BIsSingleSourceMuted=function(){return!!this.BIsSingleSourceCalendar()&&(this.BIsSingleAppCalendar()?O.a.Get().BIsMutedAppID(this.GetSingleAppID()):O.a.Get().BIsMutedClanID(this.GetSingleGroupID()))},e.prototype.BIsSingleGroupCalendar=function(){return Boolean(this.m_key.clanaccountids&&1==this.m_key.clanaccountids.length)},e.prototype.GetSingleGroupID=function(){return this.m_key.clanaccountids[0]},e.prototype.BIsSingleAppCalendar=function(){return Boolean(this.m_key.appids&&1==this.m_key.appids.length)},e.prototype.GetSingleAppID=function(){return this.m_key.appids[0]},e.prototype.BIsCollectionCalendar=function(){return!!this.m_key.collectionid},e.prototype.GetCollectionID=function(){return this.m_key.collectionid},e.prototype.BIsSaleCalendar=function(){return!!this.m_key.saleid},e.prototype.GetSaleID=function(){return this.m_key.saleid},e.prototype.BIsCalendarEndTimeSet=function(){return!!this.m_key.rtCalendarEnd},e.prototype.GetCalendarEndTime=function(){return this.m_key.rtCalendarEnd},e.prototype.SetCollectionMetaData=function(e){this.m_collectionMetaData=e},e.prototype.GetCollectionMetaData=function(){return this.m_collectionMetaData},e.prototype.BHasCollectionMetaData=function(){return Boolean(this.m_collectionMetaData)},e.prototype.ValidateCollectionMetadata=function(e){return e&&"object"==typeof e&&e.clanid&&"number"==typeof e.clanid&&e.clan_event_gid&&"string"==typeof e.clan_event_gid},e.prototype.SetFilteredView=function(e,t){var n=this,r=this.m_currentView.get();r&&r.dispose();var i=this.BIsSingleSourceMuted(),a=new A(function(){return n.m_rgSortedCalendarEvents},this.LoadAdditionalEvents,this.BHitEventHorizon,e,t,i);this.m_currentView.set(a)},e.prototype.BIsFilteredViewEmpty=function(){var e;return!(null===(e=this.m_currentView.get())||void 0===e||!e.BIsViewEmpty())},e.prototype.GetCalendarItemsInTimeRange=function(e,t){var n=this.m_currentView.get();return n?n.GetCalendarItemsInTimeRange(e,t):(console.error("calendar view not yet initialized"),{rgCalendarItems:[],bIsComplete:!1})},e.prototype.GetCurrentlyLoadedEventCount=function(e,t){var n;return null===(n=this.m_currentView.get())||void 0===n?void 0:n.GetCurrentlyLoadedEventCount(e,t)},e.prototype.GetCurrentlyLoadedItemsForStats=function(){var e;return(null===(e=this.m_currentView.get())||void 0===e?void 0:e.GetCurrentlyLoadedEvents())||[]},e.prototype.GetCalendarSections=function(e){return e?this.m_rgFutureSections:this.m_rgCalendarSections},e.prototype.GetStoreInitializationTimestamp=function(){return this.m_dtInitTime||(this.m_dtInitTime=S.a.GetTimeNowWithOverrideAsDate()),this.m_dtInitTime},e.prototype.InitCalendarSections=function(){var t=this,e=this.GetStoreInitializationTimestamp(),n=[],r=e.getTime()/1e3;n.push(E(r,Object(C.f)("#EventCalendar_FutureEventsHeader"),r));var i=new Date(e);i.setHours(0,0,0,1);var a=i.getTime()/1e3;n.push(E(r,Object(C.f)("#Time_Today"),a,r)),i.setDate(i.getDate()-1);var o=a,a=i.getTime()/1e3;n.push(E(r,Object(C.f)("#Time_Yesterday"),a,o));for(var s=this.m_rgSortedCalendarEvents[this.m_rgSortedCalendarEvents.length-1],c=s?s.start_time:r,l=a<c,u=0;u<5&&!l;u++)i.setDate(i.getDate()-1),o=a,a=i.getTime()/1e3,n.push(E(r,Object(C.i)(i),a,o)),l=a<c;for(var p=new Date(i),d=a;p.getMonth()==e.getMonth()&&1!=p.getDate()&&!l;){p.setDate(p.getDate()-7);var m=p.getTime()/1e3;n.push(E(r,Object(C.g)(d-1),m,d)),l=m<c,d=m}var h=new Date(e);h.setHours(0,0,0,1),h.setDate(1);for(var f=d,b=1;!l;b++){var _=new Date(h);_.setMonth(e.getMonth()-b,1);var v=_.getTime()/1e3;n.push(E(r,Object(C.g)(v),v,f)),l=v<c,f=v}this.m_rgCalendarSections.length>n.length?this.m_rgCalendarSections.splice(n.length,this.m_rgCalendarSections.length):n.splice(this.m_rgCalendarSections.length,n.length).forEach(function(e){return t.m_rgCalendarSections.push(e)})},e.prototype.InitFutureCalendarSections=function(){var e,t=this,n=this.GetStoreInitializationTimestamp(),r=[];this.m_key.rtCalendarEnd&&(e=this.m_key.rtCalendarEnd);var i=0<this.m_rgSortedCalendarEvents.length&&this.m_rgSortedCalendarEvents[0];i&&(e=i.start_time),e=e||n.getTime()/1e3;var a=n.getTime()/1e3,o=new Date(n);o.setHours(24,0,0,0);var s=o.getTime()/1e3;r.push(E(a,Object(C.f)(this.m_key.bSectionByDay?"#Time_UpNext":"#Time_Today"),a,s));var c=e<=s,l=s;o.setDate(o.getDate()+1),s=o.getTime()/1e3,c||r.push(E(a,Object(C.f)("#Time_Tomorrow"),l,s)),c=e<=s;for(var u=6-w(n).weekday(),p=2;p<=u&&!c;p++){l=s;var d=Object(C.i)(o);o.setDate(o.getDate()+1),s=o.getTime()/1e3,r.push(E(a,d,l,s)),c=e<=s}if(this.m_key.bSectionByDay)for(;!c;){l=s;d=Object(C.j)(o);o.setDate(o.getDate()+1),s=o.getTime()/1e3,r.push(E(a,d,l,s)),c=e<=s}else{var m,h=new Date(o),f=s,b=w(n).daysInMonth();h.getMonth()!=n.getMonth()||h.getDate()==b||c||(h.setDate(h.getDate()+7),m=h.getTime()/1e3,r.push(E(a,Object(C.f)("#EventCalendar_NextWeek"),f,m)),c=e<=m,f=m);var _=new Date(n);_.setMonth(_.getMonth()+1),_.setDate(1),_.setHours(0,0,0,0);for(var v=void 0,v=h<_&&!c?(S=_.getTime()/1e3,r.push(E(a,Object(C.f)("#EventCalendar_LaterThisMonth"),f,S)),c=e<=S,S):f,g=2;!c;g++){var y=new Date(_);y.setMonth(n.getMonth()+g);var S=y.getTime()/1e3;r.push(E(a,Object(C.g)(v),v,S)),c=e<=S,v=S}}this.m_rgFutureSections.length>r.length?this.m_rgFutureSections.splice(r.length,this.m_rgFutureSections.length):r.splice(this.m_rgFutureSections.length,r.length).forEach(function(e){return t.m_rgFutureSections.push(e)})},e.prototype.RegisterCalendarEventsAndModels=function(n){return Object(h.b)(this,void 0,void 0,function(){var t=this;return Object(h.e)(this,function(e){switch(e.label){case 0:return[4,m.a.HintLoad()];case 1:return e.sent(),Object(s.runInAction)(function(){t.RegisterCalendarApps(n.apps),t.RegisterCalendarClans(n.clans),t.RegisterCalendarEvents(n.documents),l.c.RegisterClanEvents(n.events),t.RegisterReadEvents(n.events_read),t.RegisterEventVotes(n.event_votes),n.forwardComplete&&(t.m_bFinishedSearchingForward=!0),n.backwardComplete&&(t.m_bFinishedSearchingBackward=!0),t.InitCalendarSections(),t.InitFutureCalendarSections(),t.SetCollectionMetaData(t.ValidateCollectionMetadata(n.metadatainfo)?n.metadatainfo:null)}),[2]}})})},e.prototype.RegisterCalendarApps=function(e){if(e)for(var t=0,n=e;t<n.length;t++){var r,i=n[t];this.m_mapCalendarAppsByID.has(i.appid)||((r=new a.b).appid=i.appid,r.source=i.source,r.playtime=i.playtime,r.last_played=i.last_played,r.wishlist_added=i.wishlist_added,this.m_mapCalendarAppsByID.set(i.appid,r))}},e.prototype.RegisterCalendarClans=function(e){if(e)for(var t=0,n=e;t<n.length;t++){var r,i=n[t];this.m_mapCalendarClansByID.has(i.clanid)||((r=new a.c).clanid=i.clanid,r.source=i.source,this.m_mapCalendarClansByID.set(i.clanid,r))}},e.prototype.RegisterReadEvents=function(e){if(e)for(var t=o.a.Get(),n=0,r=e;n<r.length;n++){var i=r[n];t.SetEventAsRead(i)}},e.prototype.RegisterEventVotes=function(e){if(e)for(var t=o.a.Get(),n=0,r=e;n<r.length;n++){var i=r[n],a=void 0===i.vote?void 0:Boolean(i.vote);t.SetVote(i.id,a)}},e.prototype.RegisterCalendarEvents=function(e){if(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n];this.BInternalInsertCalendarEventItem(i)&&(t=!0)}t&&this.RebuildSortedCalendarEventList()}},e.prototype.BHitEventHorizon=function(e){return"forward"==e?this.m_bFinishedSearchingForward:this.m_bFinishedSearchingBackward},e.prototype.GetTimeEdgeForDirection=function(e,t){return void 0===t&&(t=void 0),"forward"===e?0<this.m_rgSortedCalendarEvents.length?this.m_rgSortedCalendarEvents[0].start_time:t:0<this.m_rgSortedCalendarEvents.length?this.m_rgSortedCalendarEvents[this.m_rgSortedCalendarEvents.length-1].start_time:t},e.prototype.UpdateStuckCounters=function(e,t){var n="forward"===e?this.m_bFinishedSearchingForward:this.m_bFinishedSearchingBackward,r=this.GetTimeEdgeForDirection(e,void 0);return n||r!==t?("forward"==e?this.m_nForwardStuckCount=0:this.m_nBackwardStuckCount=0,!1):("forward"==e?this.m_nForwardStuckCount++:this.m_nBackwardStuckCount++,!0)},e.prototype.GetRequestInFlight=function(e){return"forward"===e?this.m_forwardRequestInFlight:this.m_backwardRequestInFlight},e.prototype.SetRequestInFlight=function(e,t){Object(p.a)(!t||!this.GetRequestInFlight(e),"Already have a request in flight for",e),"forward"===e?this.m_forwardRequestInFlight=t:this.m_backwardRequestInFlight=t},e.prototype.LoadAdditionalEvents=function(d,m){return Object(h.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,p=this;return Object(h.e)(this,function(e){return this.BHitEventHorizon(d)?[2,1]:((t=this.GetRequestInFlight(d))||(n=_.c.STORE_BASE_URL+"events/ajaxgetusereventcalendarrange/",r="forward"===d?this.m_nForwardStuckCount:this.m_nBackwardStuckCount,i=r<3?r:0,a=3<=r?1:0,o="dev"===_.c.WEB_UNIVERSE?50:250,s=o+50*i,c=this.GetTimeEdgeForDirection(d,S.a.GetTimeNowWithOverride()),l={minTime:0,maxTime:0,ascending:!0,maxResults:s,populateEvents:15,appTypes:this.m_visibilityStore.GetGameSources().join(","),eventTypes:Array.from(this.m_visibilityStore.enabledEventTypeSet).join(","),appIdFilter:Boolean(this.m_key.appids&&0<this.m_key.appids.length)?this.m_key.appids.sort().join(","):void 0,clanIdFilter:Boolean(this.m_key.clanaccountids&&0<this.m_key.clanaccountids.length)?this.m_key.clanaccountids.sort().join(","):void 0,collectionID:this.m_key.collectionid,saleID:this.m_key.saleid,tags:this.m_key.rgTags?this.m_key.rgTags.sort().join(","):void 0},"forward"===d?(l.minTime=Math.floor(c+a),l.ascending=!0):(l.maxTime=Math.floor(c-a),l.ascending=!1),u=f.a.get(n,{params:l,cancelToken:m?m.token:void 0,withCredentials:!0}),t=u.then(function(t){return Object(h.b)(p,void 0,void 0,function(){return Object(h.e)(this,function(e){switch(e.label){case 0:return this.SetRequestInFlight(d,null),1!=t.data.success?[3,2]:[4,this.RegisterCalendarEventsAndModels(t.data)];case 1:return e.sent(),this.UpdateStuckCounters(d,c)?[2,this.LoadAdditionalEvents(d,m)]:[3,3];case 2:console.error("LoadAdditionalEvents was not successful: Msg"+t.data.msg),e.label=3;case 3:return[2,t.data.success]}})})}).catch(function(e){p.SetRequestInFlight(d,null);var t=Object(b.a)(e);return console.error("LoadAdditionalEvents hit error "+t.strErrorMsg,t),"forward"==d?p.m_bFinishedSearchingForward=!0:p.m_bFinishedSearchingBackward=!0,2}),this.SetRequestInFlight(d,t)),[2,t])})})},e.prototype.BInternalInsertCalendarEventItem=function(e){if(!e.unique_id)return Object(p.a)(!1,"Attmpted to register a calendar event item with an invalid unique id!"),!1;if(this.m_mapCalendarEventsByGid.has(e.unique_id))return!1;var t=this.m_mapCalendarAppsByID.get(e.appid),n=this.m_mapCalendarClansByID.get(e.clanid);if(!t&&!n)return console.log("No AppInfo or ClanInfo For: ",e),!1;var r=new a.d;return r.clanid=e.clanid,r.unique_id=e.unique_id,r.event_type=e.event_type,r.appid=e.appid,r.start_time=e.start_time,r.score=e.score,r.appInfo=t,r.clanInfo=n,this.m_rgSortedCalendarEvents.push(r),this.m_mapCalendarEventsByGid.set(r.unique_id,r),!0},e.prototype.GetCalendarAppInfoForAppID=function(e){return this.m_mapCalendarAppsByID.get(e)},e.prototype.RebuildSortedCalendarEventList=function(){var e=this.m_rgSortedCalendarEvents.slice();this.m_rgSortedCalendarEvents=e.sort(function(e,t){return t.start_time-e.start_time})},e.prototype.UpdateEventBlockFromCalendarEvent=function(r,i){return Object(h.b)(this,void 0,void 0,function(){var t,n;return Object(h.e)(this,function(e){switch(e.label){case 0:return t=r.appInfo?r.appid:void 0,n=r.clanInfo?r.clanInfo.clanid:void 0,null==t&&null==n?(Object(p.a)(!1,"Both clan id and account id are missing, cannot change communication status"),[2]):[4,O.a.Get().UpdateCommunitionSetting(i,t,n)];case 1:return e.sent(),v.b.RecordAppInteractionEvent(t,v.a.k_eMuted),[2]}})})},Object(h.c)([s.observable],e.prototype,"m_mapCalendarEventsByGid",void 0),Object(h.c)([s.observable],e.prototype,"m_rgSortedCalendarEvents",void 0),Object(h.c)([s.observable],e.prototype,"m_bFinishedSearchingForward",void 0),Object(h.c)([s.observable],e.prototype,"m_bFinishedSearchingBackward",void 0),Object(h.c)([s.observable],e.prototype,"m_rgCalendarSections",void 0),Object(h.c)([s.observable],e.prototype,"m_rgFutureSections",void 0),Object(h.c)([s.observable],e.prototype,"m_collectionMetaData",void 0),Object(h.c)([s.action],e.prototype,"InitCalendarSections",null),Object(h.c)([s.action],e.prototype,"InitFutureCalendarSections",null),Object(h.c)([s.action],e.prototype,"RegisterCalendarEventsAndModels",null),Object(h.c)([s.action],e.prototype,"RegisterCalendarApps",null),Object(h.c)([s.action],e.prototype,"RegisterCalendarClans",null),Object(h.c)([s.action],e.prototype,"RegisterReadEvents",null),Object(h.c)([s.action],e.prototype,"RegisterEventVotes",null),Object(h.c)([s.action],e.prototype,"RegisterCalendarEvents",null),Object(h.c)([d.a],e.prototype,"BHitEventHorizon",null),Object(h.c)([s.action.bound],e.prototype,"LoadAdditionalEvents",null),Object(h.c)([s.action],e.prototype,"UpdateEventBlockFromCalendarEvent",null),e}(),A=function(){function e(e,t,n,r,i,a){var o=this;this.m_rgLoadedEventsBox=s.observable.box([]),this.m_lastLoadLatch=null,this.m_fnGetUnfilteredEvents=e,this.m_fnLoadAdditionalEvents=t,this.m_fnBHitEventHorizon=n,this.m_fnBIsEventInView=r,this.m_bSkipStorePreferenceCheck=i,this.m_bAllowMutedAndIgnoredSources=a,this.m_rgAutorunDisposer=Object(s.autorun)(function(){return Object(h.b)(o,void 0,void 0,function(){var t,n;return Object(h.e)(this,function(e){switch(e.label){case 0:return(t=this.viewFilteredEvents.slice(),this.m_bSkipStorePreferenceCheck)?[3,2]:(n=Array.from(new Set(t.map(function(e){return e.appid}).filter(Boolean))).sort(),this.m_lastLoadLatch=t,[4,c.a.LoadAppLinkInfo(n)]);case 1:if(e.sent(),this.m_lastLoadLatch!=t)return[2];this.m_lastLoadLatch=null,e.label=2;case 2:return this.m_rgLoadedEventsBox.set(t),[2]}})})})}return e.prototype.dispose=function(){this.m_rgAutorunDisposer()},Object.defineProperty(e.prototype,"viewFilteredEvents",{get:function(){var t=this;return this.m_fnGetUnfilteredEvents().filter(function(e){return t.m_fnBIsEventInView(e)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filteredAndCheckedEvents",{get:function(){var t=this;return this.m_rgLoadedEventsBox.get().filter(function(e){if(e.appid){if(!t.m_bAllowMutedAndIgnoredSources&&(O.a.Get().BIsMutedAppID(e.appid)||m.a.BIsGameIgnored(e.appid)))return!1;if(!t.m_bSkipStorePreferenceCheck&&Object(u.b)(c.a.GetAppLinkInfo(e.appid)))return!1}else if(!t.m_bAllowMutedAndIgnoredSources&&(O.a.Get().BIsMutedClanID(e.clanid)||m.a.BIsIgnoringCurator(i.a.InitFromClanID(e.clanid))))return!1;return!0})},enumerable:!1,configurable:!0}),e.prototype.BIsCompleteThroughTime=function(e,t){if(this.m_fnBHitEventHorizon(e))return!0;var n=this.m_fnGetUnfilteredEvents();return"forward"===e?t&&0<n.length&&n[0].start_time>t:0<n.length&&n[n.length-1].start_time<t},e.prototype.EnsureRangeIsLoaded=function(r,i){return Object(h.b)(this,void 0,void 0,function(){var t,n;return Object(h.e)(this,function(e){switch(e.label){case 0:t=100,n=0,e.label=1;case 1:return n<t&&!this.BIsCompleteThroughTime("forward",i)?[4,this.m_fnLoadAdditionalEvents("forward")]:[3,4];case 2:e.sent(),e.label=3;case 3:return n++,[3,1];case 4:n=0,e.label=5;case 5:return n<t&&!this.BIsCompleteThroughTime("backward",r)?[4,this.m_fnLoadAdditionalEvents("backward")]:[3,8];case 6:e.sent(),e.label=7;case 7:return n++,[3,5];case 8:return[2]}})})},e.prototype.GetCalendarItemsInTimeRange=function(t,n){this.EnsureRangeIsLoaded(t,n);var e=this.filteredAndCheckedEvents.filter(function(e){return e.start_time>=t&&(!n||e.start_time<n)}),r=this.BIsCompleteThroughTime("forward",n),i=this.BIsCompleteThroughTime("backward",t);return{rgCalendarItems:e,bIsComplete:r&&i}},e.prototype.GetCurrentlyLoadedEvents=function(){return this.filteredAndCheckedEvents},e.prototype.GetCurrentlyLoadedEventCount=function(t,n){var r=0;this.filteredAndCheckedEvents.forEach(function(e){e.start_time>=t&&(!n||e.start_time<n)&&r++});var e=this.BIsCompleteThroughTime("forward",n),i=this.BIsCompleteThroughTime("backward",t);return{nCount:r,bIsComplete:e&&i}},e.prototype.BIsViewEmpty=function(){return 0<this.filteredAndCheckedEvents.length},Object(h.c)([s.computed.struct],e.prototype,"viewFilteredEvents",null),Object(h.c)([s.computed.struct],e.prototype,"filteredAndCheckedEvents",null),e}(),I=s.observable.box(null),j=new Map;function D(e){var t="";return e.appids&&0<e.appids.length&&(t+="appids:"+e.appids.sort().join(",")),e.clanaccountids&&0<e.clanaccountids.length&&(t+="clanids:"+e.clanaccountids.sort().join(",")),e.collectionid&&(t+="collection:"+e.collectionid),e.saleid&&(t+="sale:"+e.saleid),e.bSectionByDay&&(t+="_sectionbyday"),e.rtCalendarEnd&&(t+="_end:"+e.rtCalendarEnd),e.rgTags&&0<e.rgTags.length&&(t+="_tags:"+e.rgTags.sort().join(",")),I.get()!==t&&(I.set(t),j.has(t)||j.set(t,new B(e))),t}function R(){return null==I.get()&&D({}),j.get(I.get())}function T(){return null!==I}window.g_EventCalendarMap=j},WI8n:function(e,t,n){e.exports={FriendsSection:"appdetailsfriendssection_FriendsSection_qGJMO",Subsection:"appdetailsfriendssection_Subsection_39bm0",SubsectionHeader:"appdetailsfriendssection_SubsectionHeader_nTb1N",Friends:"appdetailsfriendssection_Friends_1umjf",InGame:"appdetailsfriendssection_InGame_X40qi",Recent:"appdetailsfriendssection_Recent_xlk1b",Measuring:"appdetailsfriendssection_Measuring_1Yn2w",ShowMore:"appdetailsfriendssection_ShowMore_34gmV",More:"appdetailsfriendssection_More_2svsy",AvatarAndLabel:"appdetailsfriendssection_AvatarAndLabel_1GCZA",PlaytimeStatus:"appdetailsfriendssection_PlaytimeStatus_1xGH4",LabelHolder:"appdetailsfriendssection_LabelHolder_21_CD",LoggedOut:"appdetailsfriendssection_LoggedOut_1pkru",PlaytimeSection:"appdetailsfriendssection_PlaytimeSection_1s3b9",GameLogo:"appdetailsfriendssection_GameLogo_2HU_E",PlaytimeContent:"appdetailsfriendssection_PlaytimeContent_28Nso",TimePlayed:"appdetailsfriendssection_TimePlayed_KiUMH",ForCurrentGame:"appdetailsfriendssection_ForCurrentGame_3s-55"}},Wb2E:function(e,t,n){e.exports={Emoticon_Toggle:"emoticonsuggestion_Emoticon_Toggle_Y5J3n",Active:"emoticonsuggestion_Active_YCbwL",Emoticon:"emoticonsuggestion_Emoticon_2o57_"}},WeG9:function(e,t,n){e.exports={avatarHolder:"steamavatar_avatarHolder_nibod",avatarStatus:"steamavatar_avatarStatus_3xUpb",avatar:"steamavatar_avatar_3h-QR",avatarFrame:"steamavatar_avatarFrame_X_mJE",avatarFrameImg:"steamavatar_avatarFrameImg_3fM0F"}},Wjsq:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("mrSG"),i=n("2vnA"),a=n("lkRc"),o=(a.c.CHAT_BASE_URL,a.c.CHAT_BASE_URL,a.c.CHAT_BASE_URL,new(function(){function e(e){this.init(e)}return e.prototype.init=function(e){this.bValid=e.bValid,this.stream=e.stream,this.name=e.name,this.appName=e.appName,this.appID=e.appID,this.link=e.link,this.linkName=e.linkName,this.tabIcon=e.tabIcon,this.offlineImage=e.offlineImage},Object(r.c)([i.observable],e.prototype,"bValid",void 0),Object(r.c)([i.observable],e.prototype,"stream",void 0),Object(r.c)([i.observable],e.prototype,"name",void 0),Object(r.c)([i.observable],e.prototype,"appName",void 0),Object(r.c)([i.observable],e.prototype,"appID",void 0),Object(r.c)([i.observable],e.prototype,"link",void 0),Object(r.c)([i.observable],e.prototype,"linkName",void 0),Object(r.c)([i.observable],e.prototype,"tabIcon",void 0),Object(r.c)([i.observable],e.prototype,"offlineImage",void 0),e}())({bValid:!1,stream:{0:"#Broadcast_EnglishMain"},name:"",appName:"",appID:0,link:"",linkName:"",tabIcon:"",offlineImage:""}))},WonJ:function(e,t,n){e.exports={SnoozeContainer:"friendsnooze_SnoozeContainer_1Dsum",SnoozeZ:"friendsnooze_SnoozeZ_2n0Ei",none:"friendsnooze_none_T3Fb5",Medium:"friendsnooze_Medium_1iYPl",Large:"friendsnooze_Large_3BESV",Dim:"friendsnooze_Dim_rpZ9b",Z1:"friendsnooze_Z1_2hnF3",Z2:"friendsnooze_Z2_VmQTO",Z3:"friendsnooze_Z3_29mta",animating:"friendsnooze_animating_2rXc7",hoverParent:"friendsnooze_hoverParent_3-8cB",Snoring:"friendsnooze_Snoring_38wIV"}},X3Ds:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return a}),n.d(t,"n",function(){return o}),n.d(t,"m",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"o",function(){return p}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"i",function(){return h}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return b}),n.d(t,"j",function(){return _});n("mrSG"),n("Kw0F"),n("r64O");function r(e,t){for(;t;){if(t.parentNode.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&(t=t.parentNode.host),t==e)return!0;t=t.parentElement}return!1}function i(e,t){for(;t;)if((t=t.parentElement)==e)return!0;return!1}function a(e,t){return{width:t.width,height:t.height,top:e.screenTop+t.top,bottom:e.screenTop+t.bottom,left:e.screenLeft+t.left,right:e.screenLeft+t.right}}function o(e){var t=void 0;return e&&e.currentTarget&&(t=e.currentTarget.ownerDocument.defaultView),t}function s(e){var t=void 0;return e&&(t=e.ownerDocument.defaultView),t}function c(e){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{document.body.removeChild(t)}}function l(e){var t="steam://openurl/";e.startsWith(t)&&(e=e.slice(t.length)),c(e)}function u(e){var t=e.ownerDocument;return t.fullscreen||t.webkitIsFullScreen||t.mozFullScreen||t.msFullscreenElement}function p(e,t){var n=e;n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():t&&t.webkitSetPresentationMode?t.webkitSetPresentationMode("fullscreen"):n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen()}function d(e){var t=e.ownerDocument;t.cancelFullscreen?t.cancelFullscreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen()}function m(e,t){var n=e;return n.lastModifiedDate=new Date,n.name=t||Date.now().toString(),e}function h(e,t,n){for(var r=t.parentElement;r&&r!==e&&!r.hasAttribute(n);)r=r.parentElement;return r||e}function f(e,t){for(var n=[],r=Array.prototype.slice.call(e.children).reverse();0<r.length;){var i=r.pop();i.hasAttribute(t)?n.push(i):r.push.apply(r,Array.prototype.slice.call(i.children).reverse())}return n}function b(e){for(var t=e.parentElement;t;){var n=window.getComputedStyle(t).overflowY;if("scroll"==n||"auto"==n)break;t=t.parentElement}return t}function _(e,t){for(;e;){if(t(e))return e;e=e.parentElement}}},XA70:function(e,t,n){e.exports={BroadcastCtn:"VODPlayer_BroadcastCtn_39rR9"}},XB0Y:function(e,t,n){e.exports={SpeakerOuter:"presenterpopup_SpeakerOuter_3rRqP",Speaker:"presenterpopup_Speaker_3F7-F",SpeakerPopup:"presenterpopup_SpeakerPopup_3y7kV",SpeakerInfoOuter:"presenterpopup_SpeakerInfoOuter_1NC9n",SpeakerInfoInner:"presenterpopup_SpeakerInfoInner_1bMpE",SpeakerTitle:"presenterpopup_SpeakerTitle_2Vo0l",SpeakerBio:"presenterpopup_SpeakerBio_2yP7s",SpeakerHover:"presenterpopup_SpeakerHover_16UyH"}},XOvi:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o,r,i=n("mrSG"),a=n("q1tI"),s=n("bxiW"),c=n("TyAF"),l=n("qiKp"),u=n("TLQK"),p=n("Mgs7"),d=n("6Y59"),m=n("FdXL"),h=n.n(m),f=n("YyVH");(r=o=o||{}).topleft="topleft",r.top="top",r.topright="topright",r.left="left",r.middle="middle",r.right="right",r.bottomleft="bottomleft",r.bottom="bottom",r.bottomright="bottomright";var b=function(n){function e(e){var t=n.call(this,e)||this;return t.m_fnMouseUp=null,t.m_fnMouseMove=null,t.m_listeners=new l.c,t.m_strDescription="",t.m_aspectRatio=1,t.state={curLeftPosPct:t.props.xPosPct,curTopPosPct:t.props.yPosPct,curRightPosPct:100-(t.props.widthPct+t.props.xPosPct),curBottomPosPct:100-(t.props.yPosPct+t.props.heightPct),curWidthPct:t.props.widthPct,curHeightPct:t.props.heightPct,EdgeDown:null,text_link_url:t.props.link_url,text_link_description:t.props.link_description,bEditingLink:!1,valid_link:t.validateUrl(t.props.link_url)},t.m_strDescription=t.props.link_description,t.m_aspectRatio=0<t.props.heightPct&&0<t.props.widthPct?t.props.widthPct/t.props.heightPct:1,t}return Object(i.d)(e,n),e.prototype.componentWillUnmount=function(){this.m_listeners.Unregister()},e.prototype.LinkRegionBoxRef=function(e){this.m_elLinkRegionBox=e},e.prototype.OnMouseDown=function(e,t){var n=this;this.m_fnMouseUp=function(e){n.OnMouseUp(e,t)},this.m_fnMouseMove=function(e){n.OnMouseMove(e,t)},this.setState({EdgeDown:t}),this.m_rectLinkRegion=this.m_elLinkRegionBox.parentElement.getBoundingClientRect(),this.m_nLocalOffsetXPct=(e.clientX-this.m_rectLinkRegion.left)/(this.m_rectLinkRegion.right-this.m_rectLinkRegion.left)*100-this.state.curLeftPosPct,this.m_nLocalOffsetYPct=(e.clientY-this.m_rectLinkRegion.top)/(this.m_rectLinkRegion.bottom-this.m_rectLinkRegion.top)*100-this.state.curTopPosPct,this.m_listeners.AddEventListener(this.m_elLinkRegionBox.ownerDocument.defaultView,"mousemove",this.m_fnMouseMove),this.m_listeners.AddEventListener(this.m_elLinkRegionBox.ownerDocument.defaultView,"mouseup",this.m_fnMouseUp),e.preventDefault(),e.stopPropagation()},e.prototype.OnMouseMove=function(e,t){if(void 0!==this.state.EdgeDown){switch(e.shiftKey&&this.m_fnMouseUp(),t){case o.left:this.UpdateState({curLeftPosPct:this.CalcLeftEdge(e.clientX)});break;case o.right:this.UpdateState({curRightPosPct:this.CalcRightEdge(e.clientX)});break;case o.top:this.UpdateState({curTopPosPct:this.CalcTopEdge(e.clientY)});break;case o.bottom:this.UpdateState({curBottomPosPct:this.CalcBottomEdge(e.clientY)});break;case o.topleft:this.UpdateState({curTopPosPct:this.CalcBottomEdge(e.clientY),curLeftPosPct:this.CalcLeftEdge(e.clientX)});break;case o.topright:this.UpdateState({curTopPosPct:this.CalcTopEdge(e.clientY),curRightPosPct:this.CalcRightEdge(e.clientX)});break;case o.bottomleft:this.UpdateState({curLeftPosPct:this.CalcLeftEdge(e.clientX),curBottomPosPct:this.CalcBottomEdge(e.clientY)});break;case o.bottomright:this.UpdateState({curRightPosPct:this.CalcRightEdge(e.clientX),curBottomPosPct:this.CalcBottomEdge(e.clientY)});break;case o.middle:var n=Object(f.a)(this.CalcLeftEdge(e.clientX),0,100-this.state.curWidthPct),r=100-(n+this.state.curWidthPct),i=Object(f.a)(this.CalcTopEdge(e.clientY),0,100-this.state.curHeightPct),a={curLeftPosPct:n,curRightPosPct:r,curTopPosPct:i,curBottomPosPct:100-(i+this.state.curHeightPct)};this.setState(a)}e.preventDefault(),e.stopPropagation()}},e.prototype.IsValidPct=function(e){return 0<=e&&e<=100},e.prototype.UpdateState=function(e){var t=void 0!==e.curTopPosPct?e.curTopPosPct:this.state.curTopPosPct,n=void 0!==e.curBottomPosPct?e.curBottomPosPct:this.state.curBottomPosPct,r=void 0!==e.curLeftPosPct?e.curLeftPosPct:this.state.curLeftPosPct,i=void 0!==e.curRightPosPct?e.curRightPosPct:this.state.curRightPosPct,a=Object(f.a)(100-i-r,this.props.widthMinPct||0,this.props.widthMaxPct||100),o=Object(f.a)(100-n-t,this.props.heightMinPct||0,this.props.heightMaxPct||100);this.props.bLockAspectRatio&&(void 0!==e.curLeftPosPct||void 0!==e.curRightPosPct?o=a/this.m_aspectRatio:a=o*this.m_aspectRatio),void 0!==e.curLeftPosPct?r=100-i-a:i=100-(r+a),void 0!==e.curTopPosPct?t=100-n-o:n=100-(t+o);var s=100-i-r,c=100-n-t;this.IsValidPct(r)&&this.IsValidPct(i)&&this.IsValidPct(t)&&this.IsValidPct(n)&&this.IsValidPct(s)&&this.IsValidPct(c)&&this.setState({curLeftPosPct:r,curRightPosPct:i,curTopPosPct:t,curBottomPosPct:n})},e.prototype.GetXPercent=function(e){return(e-this.m_rectLinkRegion.left)/(this.m_rectLinkRegion.right-this.m_rectLinkRegion.left)*100-this.m_nLocalOffsetXPct},e.prototype.GetYPercent=function(e){return(e-this.m_rectLinkRegion.top)/(this.m_rectLinkRegion.bottom-this.m_rectLinkRegion.top)*100-this.m_nLocalOffsetYPct},e.prototype.CalcLeftEdge=function(e){return Object(f.a)(this.GetXPercent(e),0,100)},e.prototype.CalcRightEdge=function(e){return Object(f.a)(100-(this.GetXPercent(e)+this.state.curWidthPct),0,100)},e.prototype.CalcTopEdge=function(e){return Object(f.a)(this.GetYPercent(e),0,100)},e.prototype.CalcBottomEdge=function(e){return Object(f.a)(100-(this.GetYPercent(e)+this.state.curHeightPct),0,100)},e.prototype.OnMouseUp=function(e,t){this.setState({curWidthPct:100-this.state.curRightPosPct-this.state.curLeftPosPct}),this.setState({curHeightPct:100-this.state.curBottomPosPct-this.state.curTopPosPct}),this.setState({EdgeDown:void 0}),this.props.updateFn(this.props.index,{xPosPct:this.state.curLeftPosPct,yPosPct:this.state.curTopPosPct,widthPct:this.state.curWidthPct,heightPct:this.state.curHeightPct,link_url:this.state.text_link_url,link_description:this.state.text_link_description}),this.m_listeners.Unregister()},e.prototype.HandleDelete=function(){return Object(i.b)(this,void 0,void 0,function(){return Object(i.e)(this,function(e){return this.props.deleteFn&&this.props.deleteFn(this.props.index),[2]})})},e.prototype.OnSetLinkURLChange=function(e){this.setState({text_link_url:e.target.value,valid_link:this.validateUrl(e.target.value)})},e.prototype.OnSetLinkDescriptionChange=function(e){this.setState({text_link_description:e.target.value})},e.prototype.validateUrl=function(e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/i.test(e)},e.prototype.OnSaveLink=function(){this.m_strDescription=this.state.text_link_description,this.setState({bEditingLink:!this.state.bEditingLink}),this.props.updateFn(this.props.index,{xPosPct:this.state.curLeftPosPct,yPosPct:this.state.curTopPosPct,widthPct:this.state.curWidthPct,heightPct:this.state.curHeightPct,link_url:this.state.text_link_url,link_description:this.state.text_link_description})},e.prototype.OnEditLink=function(){this.setState({bEditingLink:!this.state.bEditingLink})},e.prototype.render=function(){var t=this,e={left:this.state.curLeftPosPct+"%",top:this.state.curTopPosPct+"%",right:this.state.curRightPosPct+"%",bottom:this.state.curBottomPosPct+"%"},n=h.a.LinkRegionDragBox;return null!==this.state.EdgeDown&&(n+=" "+h.a.EdgeDown+" "+h.a[this.state.EdgeDown]),a.createElement("div",{className:n,style:e,ref:this.LinkRegionBoxRef,draggable:!1},a.createElement("div",{className:h.a.LinkRegionGridBox},a.createElement("div",{className:h.a.LinkRegionEdge+" "+h.a.TopLeft,onMouseDown:function(e){t.OnMouseDown(e,o.topleft)},draggable:!1}),a.createElement("div",{className:h.a.LinkRegionEdge+" "+h.a.Top,onMouseDown:function(e){t.OnMouseDown(e,o.top)}}),a.createElement("div",{className:h.a.LinkRegionEdge+" "+h.a.TopRight,onMouseDown:function(e){t.OnMouseDown(e,o.topright)},draggable:!1}),a.createElement("div",{className:h.a.LinkRegionEdge+" "+h.a.Left,onMouseDown:function(e){t.OnMouseDown(e,o.left)},draggable:!1}),a.createElement("div",{className:h.a.LinkRegionEdge+" "+h.a.Middle,onMouseDown:function(e){t.OnMouseDown(e,o.middle)},draggable:!1},this.props.deleteFn&&a.createElement("div",{className:h.a.LinkRegionDelete,onClick:this.HandleDelete},a.createElement(d.Jb,null)),!this.props.bDisableLink&&a.createElement("div",{className:h.a.LinkRegionSettings,onClick:this.OnEditLink},a.createElement(d.X,null)),a.createElement("div",{className:h.a.LinkText}," ",this.m_strDescription," ")),a.createElement("div",{className:h.a.LinkRegionEdge+" "+h.a.Right,onMouseDown:function(e){t.OnMouseDown(e,o.right)},draggable:!1}),a.createElement("div",{className:h.a.LinkRegionEdge+" "+h.a.BottomLeft,onMouseDown:function(e){t.OnMouseDown(e,o.bottomleft)},draggable:!1}),a.createElement("div",{className:h.a.LinkRegionEdge+" "+h.a.Bottom,onMouseDown:function(e){t.OnMouseDown(e,o.bottom)},draggable:!1}),a.createElement("div",{className:h.a.LinkRegionEdge+" "+h.a.BottomRight,onMouseDown:function(e){t.OnMouseDown(e,o.bottomright)},draggable:!1})),this.state.bEditingLink&&a.createElement("div",{className:h.a.LinkRegionInfo},a.createElement(p.m,{className:h.a.LinkRegionInput,type:"text",name:"link_url",value:this.state.text_link_url,label:Object(u.f)("#SteamTV_LinkURL"),placeholder:"https://www.example.com",onChange:this.OnSetLinkURLChange,mustBeURL:!0}),a.createElement(p.m,{className:h.a.LinkRegionInput,type:"text",name:"link_description",value:this.state.text_link_description,label:Object(u.f)("#SteamTV_LinkDescription"),placeholder:Object(u.f)("#SteamTV_LinkDescription_Placeholder"),onChange:this.OnSetLinkDescriptionChange}),a.createElement("div",{className:h.a.LinkRegionButtonContainer},a.createElement(p.d,{disabled:!this.state.valid_link,onClick:this.OnSaveLink}," ",Object(u.f)("#Button_OK")," "),a.createElement(p.d,{onClick:this.OnEditLink}," ",Object(u.f)("#Button_Cancel")))))},Object(i.c)([s.a],e.prototype,"LinkRegionBoxRef",null),Object(i.c)([s.a],e.prototype,"OnMouseDown",null),Object(i.c)([s.a],e.prototype,"OnMouseMove",null),Object(i.c)([s.a],e.prototype,"OnMouseUp",null),Object(i.c)([s.a],e.prototype,"HandleDelete",null),Object(i.c)([s.a],e.prototype,"OnSetLinkURLChange",null),Object(i.c)([s.a],e.prototype,"OnSetLinkDescriptionChange",null),Object(i.c)([s.a],e.prototype,"OnSaveLink",null),Object(i.c)([s.a],e.prototype,"OnEditLink",null),Object(i.c)([c.observer],e)}(a.Component)},XTKY:function(e,t,n){e.exports={HoverContentTransition:"gamehover_HoverContentTransition_3-pnC",Opening:"gamehover_Opening_3A24v",Open:"gamehover_Open_1rWYa",GameHoverCapsuleCtn:"gamehover_GameHoverCapsuleCtn_2jsr3",UseHidingBottomHalf:"gamehover_UseHidingBottomHalf_5hPHC",TrailerAnchorStoreLink:"gamehover_TrailerAnchorStoreLink_OxANH",TrailerCtn:"gamehover_TrailerCtn_1I27K",FullDivImage:"gamehover_FullDivImage_2jpCs",Transparent:"gamehover_Transparent_AZ9GL",Midline:"gamehover_Midline_Xwe3c",Price:"gamehover_Price_2Eh6G",CapsuleImageAnchorPoint:"gamehover_CapsuleImageAnchorPoint_1OMas",CapsuleImageCtn:"gamehover_CapsuleImageCtn_wm-2T",WithCornerShine:"gamehover_WithCornerShine_2kRKA",DemoButton:"gamehover_DemoButton_2V6ci",WishlistButton:"gamehover_WishlistButton_3notz",WishlistButtonText:"gamehover_WishlistButtonText_VI5mZ",WishlistLoadingText:"gamehover_WishlistLoadingText_7-s8T",WishlistButtonNotTop:"gamehover_WishlistButtonNotTop_3VcyY",BottomShelf:"gamehover_BottomShelf_oAqlZ",BottomShelfOffScreen:"gamehover_BottomShelfOffScreen_36zpR",TextContent:"gamehover_TextContent_2VvFL",GameTitle:"gamehover_GameTitle_405wj",TagRow:"gamehover_TagRow_2SWQM",Tags:"gamehover_Tags_fTGVi",Tag:"gamehover_Tag_1wO-t",PlatformDisplay:"gamehover_PlatformDisplay_2UG4_",ReviewsAndRelease:"gamehover_ReviewsAndRelease_1HFUC",ReleaseDate:"gamehover_ReleaseDate_35Bya",ReleasePrefix:"gamehover_ReleasePrefix_2ZKEX",ReviewScore:"gamehover_ReviewScore_3qvpp",ReviewScoreHeader:"gamehover_ReviewScoreHeader_2t-0j",ReviewScoreCount:"gamehover_ReviewScoreCount_1wXL_",ReviewScoreValue:"gamehover_ReviewScoreValue_3ZWs0",ReviewScoreLow:"gamehover_ReviewScoreLow_3nU5I",ReviewScoreMixed:"gamehover_ReviewScoreMixed_11Q2_",ReviewScoreHigh:"gamehover_ReviewScoreHigh_3wXHC",ReviewScorePercentage:"gamehover_ReviewScorePercentage_38dPa"}},XX7r:function(e,t,n){e.exports={LibraryHomeMajorUpdates:"libraryhomemajorupdates_LibraryHomeMajorUpdates_oo2nr",TransitionGroup:"libraryhomemajorupdates_TransitionGroup_Zub6j",UpdateButton:"libraryhomemajorupdates_UpdateButton_1VMqy",DetailsButton:"libraryhomemajorupdates_DetailsButton_3ygk3",HeaderNavigation:"libraryhomemajorupdates_HeaderNavigation_2Ap5n",TopBarTabs:"libraryhomemajorupdates_TopBarTabs_1XmOa",TopBarTab:"libraryhomemajorupdates_TopBarTab_2QfVi",Selected:"libraryhomemajorupdates_Selected_1bkIp",NextUpdateLink:"libraryhomemajorupdates_NextUpdateLink_14_Sz",DialogEnter:"libraryhomemajorupdates_DialogEnter_4ZZU9",ExplanationDialog:"libraryhomemajorupdates_ExplanationDialog_7OaeN",DialogEnterActive:"libraryhomemajorupdates_DialogEnterActive_3LwtM",DialogExit:"libraryhomemajorupdates_DialogExit_2Gz_N",DialogExitActive:"libraryhomemajorupdates_DialogExitActive_1pEko",ExplanationDialogContainer:"libraryhomemajorupdates_ExplanationDialogContainer_2MSIM",ExplanationDialogBackground:"libraryhomemajorupdates_ExplanationDialogBackground_31y5Q",ExplanationTitle:"libraryhomemajorupdates_ExplanationTitle_1dOM3",ExplanationBody:"libraryhomemajorupdates_ExplanationBody_pk89z"}},Xfd2:function(e,t,n){e.exports={PersonaStatusIcon:"personastatusicons_PersonaStatusIcon_KxAI_",MobilePhoneIcon:"personastatusicons_MobilePhoneIcon_1iRFj"}},XhJu:function(e,t,n){e.exports={Item:"librarywhatsnew_Item_3Lept",Title:"librarywhatsnew_Title_LwlYs",Description:"librarywhatsnew_Description_3jGaQ",ReadMore:"librarywhatsnew_ReadMore_1sXDN",Screenshot:"librarywhatsnew_Screenshot_3MyVU"}},Xhj9:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return m});var s=n("mrSG"),r=n("vDqi"),c=n.n(r),i=n("2vnA"),l=n("bDQf"),a=n("IzPI"),u=n("lkRc"),o=function(){function e(){}return e.prototype.InitFrom=function(e){this.title=e.title,this.capsule=p(e.capsule),this.tiny_capsule=p(e.tiny_capsule),this.main_capsule=p(e.main_capsule),this.library_asset=p(e.library_asset),this.type=e.type,this.price_in_cents=e.price_in_cents,this.price=e.price,this.orig_price_in_cents=e.orig_price_in_cents,this.orig_price=e.orig_price,this.discount_percent=e.discount_percent,this.rt_release_date=e.rt_release_date,this.release=e.release,this.screenshot_list=e.screenshot_list.map(p),this.subid=e.subid,this.button_action=e.button_action,this.app_to_run=e.app_to_run,this.is_free=e.is_free,this.required_age=e.required_age,this.coming_soon=e.coming_soon,this.appid=Number(e.appid),this.full_game_appid=Number(e.full_game_appid),this.tags=e.tags,this.content_descriptors=e.content_descriptors,this.reviews_filtered=e.reviews_filtered,this.reviews_unfiltered=e.reviews_unfiltered,this.available_windows=e.available_windows,this.available_mac=e.available_mac,this.available_linux=e.available_linux,this.microtrailer=p(e.microtrailer),this.microtrailer_mp4=p(e.microtrailer_mp4),this.support_vrhmd=e.support_vrhmd,this.support_vrhmd_only=e.support_vrhmd_only},e.prototype.GetCapsuleDimensions=function(){return{width:460,height:215}},e.prototype.GetMainCapsuleDimensions=function(){return{width:616,height:353}},e.prototype.GetTinyCapsuleDimensions=function(){return{width:231,height:87}},Object.defineProperty(e.prototype,"capsule_link",{get:function(){return Object(a.d)(u.c.STORE_BASE_URL+"app/"+this.appid)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.title},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.appid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"header_image_url",{get:function(){return this.capsule},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formatted_orig_price",{get:function(){return this.orig_price},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formatted_final_price",{get:function(){return this.price},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"purchasePackageId",{get:function(){return this.subid},enumerable:!1,configurable:!0}),Object(s.c)([i.observable],e.prototype,"title",void 0),Object(s.c)([i.observable],e.prototype,"capsule",void 0),Object(s.c)([i.observable],e.prototype,"tiny_capsule",void 0),Object(s.c)([i.observable],e.prototype,"main_capsule",void 0),Object(s.c)([i.observable],e.prototype,"library_asset",void 0),Object(s.c)([i.observable],e.prototype,"type",void 0),Object(s.c)([i.observable],e.prototype,"price_in_cents",void 0),Object(s.c)([i.observable],e.prototype,"price",void 0),Object(s.c)([i.observable],e.prototype,"orig_price_in_cents",void 0),Object(s.c)([i.observable],e.prototype,"orig_price",void 0),Object(s.c)([i.observable],e.prototype,"discount_percent",void 0),Object(s.c)([i.observable],e.prototype,"rt_release_date",void 0),Object(s.c)([i.observable],e.prototype,"release",void 0),Object(s.c)([i.observable],e.prototype,"screenshot_list",void 0),Object(s.c)([i.observable],e.prototype,"subid",void 0),Object(s.c)([i.observable],e.prototype,"button_action",void 0),Object(s.c)([i.observable],e.prototype,"app_to_run",void 0),Object(s.c)([i.observable],e.prototype,"is_free",void 0),Object(s.c)([i.observable],e.prototype,"required_age",void 0),Object(s.c)([i.observable],e.prototype,"coming_soon",void 0),Object(s.c)([i.observable],e.prototype,"appid",void 0),Object(s.c)([i.observable],e.prototype,"full_game_appid",void 0),Object(s.c)([i.observable],e.prototype,"tags",void 0),Object(s.c)([i.observable],e.prototype,"content_descriptors",void 0),Object(s.c)([i.observable],e.prototype,"reviews_filtered",void 0),Object(s.c)([i.observable],e.prototype,"reviews_unfiltered",void 0),Object(s.c)([i.observable],e.prototype,"available_windows",void 0),Object(s.c)([i.observable],e.prototype,"available_mac",void 0),Object(s.c)([i.observable],e.prototype,"available_linux",void 0),Object(s.c)([i.observable],e.prototype,"microtrailer",void 0),Object(s.c)([i.observable],e.prototype,"microtrailer_mp4",void 0),Object(s.c)([i.observable],e.prototype,"support_vrhmd",void 0),Object(s.c)([i.observable],e.prototype,"support_vrhmd_only",void 0),e}();function p(e){return e&&!e.startsWith("http")?u.c.STORE_ICON_BASE_URL+e:e}var d=function(n){function e(e){var t=n.call(this)||this;return t.appid=e,t.success=2,t.title="",t.screenshot="",t.age_safe_screenshot=!1,t.creator_list=new Array,t.is_free=!1,t.required_age=!1,t.coming_soon=!1,t.library_asset_setup_complete=!0,t}return Object(s.d)(e,n),e.prototype.InitializeFrom=function(e){this.success=1,this.type=e.type,this.price=e.price,this.discount_percent=e.discount_percent,this.subid=e.subid,this.button_action=e.button_action,this.app_to_run=e.app_to_run,this.is_free=e.is_free,this.required_age=e.required_age,this.coming_soon=e.coming_soon,this.full_game_appid=e.full_game_appid,this.title=e.title,this.release=e.release,this.rt_release_date=e.rt_release_date,this.capsule=e.capsule,this.tiny_capsule=e.tiny_capsule,this.main_capsule=e.main_capsule,this.screenshot=e.screenshot,this.screenshot_list=e.screenshot_list,this.age_safe_screenshot=e.age_safe_screenshot,this.library_asset_setup_complete=e.library_asset_setup_complete,this.item_id=e.item_id,this.icon_url=e.icon_url,this.library_asset=e.library_asset,this.cover_image_asset_url=e.cover_image_asset_url,this.tags=e.tags,this.content_descriptors=e.content_descriptors,this.available_windows=e.available_windows,this.available_mac=e.available_mac,this.available_linux=e.available_linux,this.microtrailer=e.microtrailer,this.microtrailer_mp4=e.microtrailer_mp4,this.support_vrhmd=e.support_vrhmd,this.support_vrhmd_only=e.support_vrhmd_only,this.languages=e.languages,this.associated_demo_appids=e.associated_demo_appids,this.creator_list=new Array;var t=e.creator_list;if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n];this.creator_list.push(i)}this.social=new Array;var a=e.social;if(a)for(var o=0,s=a;o<s.length;o++){var c=s[o];this.social.push(c)}},e.prototype.BHasDemoAppID=function(){return this.associated_demo_appids&&0<this.associated_demo_appids.length},Object(s.c)([i.observable],e.prototype,"success",void 0),Object(s.c)([i.observable],e.prototype,"release",void 0),Object(s.c)([i.observable],e.prototype,"rt_release_date",void 0),Object(s.c)([i.observable],e.prototype,"tiny_capsule",void 0),Object(s.c)([i.observable],e.prototype,"main_capsule",void 0),Object(s.c)([i.observable],e.prototype,"type",void 0),Object(s.c)([i.observable],e.prototype,"screenshot",void 0),Object(s.c)([i.observable],e.prototype,"age_safe_screenshot",void 0),Object(s.c)([i.observable],e.prototype,"library_asset_setup_complete",void 0),Object(s.c)([i.observable],e.prototype,"screenshot_list",void 0),Object(s.c)([i.observable],e.prototype,"social",void 0),Object(s.c)([i.observable],e.prototype,"creator_list",void 0),Object(s.c)([i.observable],e.prototype,"item_id",void 0),Object(s.c)([i.observable],e.prototype,"icon_url",void 0),Object(s.c)([i.observable],e.prototype,"library_asset",void 0),Object(s.c)([i.observable],e.prototype,"cover_image_asset_url",void 0),Object(s.c)([i.observable],e.prototype,"microtrailer",void 0),Object(s.c)([i.observable],e.prototype,"microtrailer_mp4",void 0),Object(s.c)([i.observable],e.prototype,"support_vrhmd",void 0),Object(s.c)([i.observable],e.prototype,"support_vrhmd_only",void 0),Object(s.c)([i.observable],e.prototype,"languages",void 0),Object(s.c)([i.observable],e.prototype,"associated_demo_appids",void 0),Object(s.c)([i.action],e.prototype,"InitializeFrom",null),e}(o),m=function(){function e(e,t){this.m_bLoaded=!1,this.m_appid=e,this.m_bLoaded=!1,this.m_appStoreData=new d(e),t&&this.InitializeFrom(t)}return e.prototype.InitializeFrom=function(e){this.m_appStoreData.InitializeFrom(e),this.m_bLoaded=!0},e.prototype.GetLoadingPromise=function(){return this.m_loadingPromise},e.prototype.BIsLoaded=function(){return this.m_bLoaded},e.prototype.GetAppStoreData=function(){return this.m_appStoreData},e.prototype.HintLoadBroadcastAppData=function(t){return void 0===t&&(t="steamtv"),Object(s.b)(this,void 0,void 0,function(){return Object(s.e)(this,function(e){switch(e.label){case 0:return this.m_loadingPromise?[3,2]:(this.m_loadingPromise=this.InternalLoadBroadcastAppData(t),[4,this.m_loadingPromise]);case 1:e.sent(),e.label=2;case 2:return[2,this.m_loadingPromise]}})})},e.prototype.InternalLoadBroadcastAppData=function(o){return void 0===o&&(o="steamtv"),Object(s.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(s.e)(this,function(e){switch(e.label){case 0:if(this.m_bLoaded)return[3,4];t={appid:this.m_appid,feature:o,cc:u.c.COUNTRY||"US",l:u.c.LANGUAGE,origin:self.origin},n=u.c.STORE_BASE_URL+"broadcast/ajaxgetappinfoforcap",e.label=1;case 1:return e.trys.push([1,3,,4]),[4,c.a.get(n,{params:t})];case 2:return(r=e.sent()).data&&1==r.data.success?(this.InitializeFrom(r.data),[3,4]):(this.m_appStoreData.success=r.data?r.data.success:2,[2,this]);case 3:return i=e.sent(),a=Object(l.a)(i),console.error("InternalLoadBroadcastAppData: calling ajaxgetappinfoforcap for appid "+this.m_appid+" failed with "+a.strErrorMsg,a),[3,4];case 4:return[2,this]}})})},Object(s.c)([i.observable],e.prototype,"m_bLoaded",void 0),Object(s.c)([i.observable],e.prototype,"m_appStoreData",void 0),e}()},XmAN:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("q1tI"),i=n("uuth"),a=n("qiKp"),o=n("9w6b"),s=n("WF3T"),c=n("O0NR"),l=function(){return function(){this.m_bHasBeenTracked=!1,this.m_fnSubmit=null}}(),u=new(function(){function e(){this.m_nImpressionDelayMS=500,this.m_mapEvents=new Map}return e.prototype.ShouldTrack=function(e){if(e.bOldAnnouncement)return!1;var t=this.m_mapEvents.get(e.GID);return!t||!t.m_bHasBeenTracked},e.prototype.StartTracking=function(e,t){var n;e.bOldAnnouncement||((n=this.m_mapEvents.get(e.GID))||(n=new l,this.m_mapEvents.set(e.GID,n)),n.m_bHasBeenTracked||n.m_fnSubmit||(n.m_fnSubmit=new a.b,n.m_fnSubmit.Schedule(this.m_nImpressionDelayMS,this.ReportImpression.bind(this,e,t))))},e.prototype.StopTracking=function(e){var t=this.m_mapEvents.get(e.GID);t&&t.m_fnSubmit&&(t.m_fnSubmit.Cancel(),t.m_fnSubmit=null)},e.prototype.ReportImpression=function(e,t){o.a.Get().RecordEventShown(e,8),t&&c.b.RecordViewedEvent(Object(s.b)(),e.GID);var n=this.m_mapEvents.get(e.GID);n&&(n.m_bHasBeenTracked=!0,n.m_fnSubmit.Cancel(),n.m_fnSubmit=null)},e}()),p=function(e){var t=e.event;if(u.ShouldTrack(t)){return r.createElement(i.a,{onEnter:function(){return u.StartTracking(t,e.recordNewsHubStats||!1)},onLeave:function(){return u.StopTracking(t)}})}return null}},XsxU:function(e,t,n){e.exports={OtherEventsCtn:"eventrow_OtherEventsCtn_9H6b5",OtherEvents_MainImageCtn:"eventrow_OtherEvents_MainImageCtn_2qyLP",OtherEvents:"eventrow_OtherEvents_16DzR",OtherEvents_EventCtn:"eventrow_OtherEvents_EventCtn_1MwNf",OtherEvents_MainImage:"eventrow_OtherEvents_MainImage_3_wKb",OtherEvents_BGImage:"eventrow_OtherEvents_BGImage_2pPj9",OtherEvents_ContentCtn:"eventrow_OtherEvents_ContentCtn_22jEp",OtherEvents_TextCtn:"eventrow_OtherEvents_TextCtn_3-EtN",OtherEvents_TextTitle:"eventrow_OtherEvents_TextTitle_2jc1D",OtherEvents_SubTitle:"eventrow_OtherEvents_SubTitle_1Swox",HoversEnabled:"eventrow_HoversEnabled_3o6M8",PartnerEventRowCapsule_MainImage:"eventrow_PartnerEventRowCapsule_MainImage_bC2Zk",EventSummaryContainer:"eventrow_EventSummaryContainer_2GYp4",EventSummaryText:"eventrow_EventSummaryText_ENbI1",EventSummaryType:"eventrow_EventSummaryType_11JXz",HorizontalEvent:"eventrow_HorizontalEvent_1ruRS",HorizontalSummary:"eventrow_HorizontalSummary_2bTWa",HorizontalTitle:"eventrow_HorizontalTitle_B9-wl",HorizontalDescriptionCtn:"eventrow_HorizontalDescriptionCtn_3CQtW",HorizontalDescription:"eventrow_HorizontalDescription_2hPZw",AppCapsuleImage:"eventrow_AppCapsuleImage_3OzV3",AppCapsuleCtn:"eventrow_AppCapsuleCtn_16au-",AppCapsuleImageHover:"eventrow_AppCapsuleImageHover_IeC3X",AppCapsulePrice:"eventrow_AppCapsulePrice_2-l2M"}},YLyR:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"d",function(){return w}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return C}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return p});var b=n("mrSG"),_=n("q1tI"),r=n("5E+2"),v=n("TLQK"),i=n("TyAF"),c=n("exH9"),g=n("CdLH"),a=n("Ee63"),y=n.n(a),S=n("5izx"),o=n("f0Wu");function s(e){var t=o.tz.guess(),n=o.unix(e).tz(t),r=Object(v.c)();return r&&n.locale(r),n.format("LT")}function w(e,t){var n=o.tz.guess(),r=o.unix(e).tz(n),i=Object(v.c)();return i&&r.locale(i),_.createElement(_.Fragment,null,r.format("LT"),t?_.createElement("span",{"data-tooltip-text":r.format("Z")+", "+n}," ",r.zoneAbbr()):null)}var l=Object(i.observer)(function(e){var t=e.dateAndTime,n=e.bSingleLine,r=e.bOnlyTime,i=!r&&Boolean(t),a=i&&Object(v.l)(t),o=e.stylesmodule?Object(b.a)(Object(b.a)({},y.a),e.stylesmodule):y.a;return n?_.createElement("span",{className:r?o.DateAndTimeInline:o.DateAndTime},i&&a,_.createElement("span",null," "),Boolean(t)&&w(t,!0)):_.createElement("div",{className:o.DateAndTime},i&&_.createElement(_.Fragment,null,_.createElement("div",{className:o.LocalizedDate},a)," ",_.createElement("span",{className:o.At},"@")),_.createElement("div",{className:o.LocalizedTime},Boolean(t)&&w(t,!0)))}),C=function(e){var t,n=_.createElement(l,{dateAndTime:e.rtFullDate,bSingleLine:!0,stylesmodule:e.stylesmodule});return _.createElement(r.d,{toolTipContent:n,direction:"top",className:e.className,strTooltipClassname:null===(t=e.stylesmodule)||void 0===t?void 0:t.DateToolTip},e.children)},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.startDateAndTime,n=e.endDateAndTime,r=this.props.stylesmodule?Object(b.a)(Object(b.a)({},y.a),this.props.stylesmodule):y.a,i=this.props.bHideEndTime||null==this.props.endDateAndTime||this.props.endDateAndTime<1;if(null==t||0==t)return _.createElement("div",{className:r.DateAndTime},_.createElement("span",{className:r.RightSideTitles},Object(v.f)("#EventDisplay_TimeRange")),Object(v.f)("#EventDisplay_TimeDisplayNone"));var a=S.a.GetTimeNowWithOverride();if(i)return _.createElement("div",{className:r.StartDate},_.createElement("div",{className:r.RightSideTitles},Object(v.f)(t<a?"#EventDisplay_TimeInPast":"#EventDisplay_TimeUpcoming")," "),_.createElement(l,{stylesmodule:r,dateAndTime:t}));var o=t<=a&&a<=n,s=Object(g.b)(new Date(1e3*t),new Date(1e3*n));return _.createElement("div",{className:r.MultiDateAndTime},_.createElement("div",{className:r.StartDate},_.createElement("span",{className:r.RightSideTitles},Object(v.f)(a<=t?"#EventDisplay_TimeBeginsOn":a<=n?"#EventDisplay_TimeBeginsOn_Past":"#EventDisplay_TimeBeginsOn_StartAndEnd_Past")),_.createElement(l,{stylesmodule:r,bSingleLine:!0,dateAndTime:t})),_.createElement("div",{className:r.EndDate},_.createElement("span",{className:r.RightSideTitles},Object(v.f)(n<a?"#EventDisplay_TimeEndsOn_Past":"#EventDisplay_TimeEndsOn")),_.createElement(l,{stylesmodule:r,bSingleLine:!0,bOnlyTime:s,dateAndTime:n})),o&&_.createElement("span",{className:r.ActiveEvent},_.createElement("span",{className:Object(c.a)(r.RightSideTitles,r.ActiveEventCallOut)},Object(v.f)("#Time_Now"))))},Object(b.c)([i.observer],t)}(_.Component),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(b.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.startDateAndTime,n=e.endDateAndTime,r=e.bHideEndTime,i=this.props.stylesmodule?Object(b.a)(Object(b.a)({},y.a),this.props.stylesmodule):y.a;if(null==t||0==t)return _.createElement("div",{className:i.DateAndTime},_.createElement("span",{className:i.RightSideTitles},Object(v.f)("#EventDisplay_TimeRange")),Object(v.f)("#EventDisplay_TimeDisplayNone"));var a=S.a.GetTimeNowWithOverrideAsDate(),o=S.a.GetTimeNowWithOverride(),s=Object(g.c)(new Date(1e3*t),a),c=_.createElement("div",{className:i.ShortDateAndTime},Object(v.l)(t,s)),l=_.createElement(C,{rtFullDate:t,stylesmodule:i},_.createElement("div",{className:i.RightSideTitles},Object(v.f)(t<o?"#EventDisplay_TimeInPast":"#EventDisplay_TimeUpcoming")),c);if(o<t&&t<o+g.g.PerWeek&&(l=_.createElement(C,{rtFullDate:t,stylesmodule:i},_.createElement("div",{className:i.RightSideTitles},Object(v.o)("#EventDisplay_EventUpcoming_WithDateAndTime",c,_.createElement("div",{className:i.ShortDateAndTime},w(t)," "))))),r||null==n||n<1)return l;var u=t<=o&&o<=n;u&&(l=_.createElement(C,{rtFullDate:t,className:i.ActiveEvent,stylesmodule:i},_.createElement("span",{className:i.ActiveEventCallOut},Object(v.f)("#Time_Now"))));var p,d,m=null,h=u?n-o:n-t;m=h<=g.g.PerDay?(p=_.createElement("div",{className:i.ShortDateAndTime},Object(v.r)(h,!0)),n<o?_.createElement("div",{className:i.RightSideTitles},Object(v.f)("#EventDisplay_TimeEndsOn_Ran"),p):_.createElement("div",{className:i.RightSideTitles},Object(v.o)(u?"#EventDisplay_TimeLeft":"#EventDisplay_RunsForDuration",p))):(d=a.getFullYear()==new Date(1e3*n).getFullYear(),_.createElement(_.Fragment,null,_.createElement("div",{className:i.RightSideTitles},Object(v.f)(n<o?"#EventDisplay_TimeEndsOn_Past":"#EventDisplay_TimeEndsOn")),_.createElement("div",{className:i.ShortDateAndTime},Object(v.l)(n,d))));var f=_.createElement(C,{rtFullDate:n,stylesmodule:i},m);return _.createElement("div",{className:i.ShortDateRange},l,f)},Object(b.c)([i.observer],t)}(_.Component)},YS4i:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATdJREFUeNq0llkOwyAMRGnFpSr1q/e/0zTdiLHHA6RKPlACeJ43klxu90fZLgBsfA2/G3+fT9rxWk6+TgfU8oklLKDQabsDZmcOgDGAk24DcMT5t1X1joBIxxvvONzTnpXKViC87pYiLFiRCNA2GhL1PdYJqgbbKr42MCmijB0GV8FhF7VSG1FdDN0CLYLmfspAwgCvIH4Ay3deR1EpzRoVlXbCAsNJxy6K2U8Y0Azb+1YpSZFn2CJ4OX3cKklfnxz6JufTrB7VYvE3I+a78ulpRhJ8SWowz+gT4oLIixwxlCGTE14VsX/WGZn7synyjGn1LEXubHCVGXX1TbbbhZZWl206TphZzevMuyg7NZq3AFClSDCjNhUW/cyS+koEo8epCMSH6YD0cgSr0iECaY1jf4+lPAUYAEghn64Od0CoAAAAAElFTkSuQmCC"},YVfL:function(e,t,n){e.exports={strMediumWidth:"800px",strMaxMobileWidth:"600px",SaleSchedCtn:"salesectioneventschedule_SaleSchedCtn_2g7il",ScheduleSectionHeader:"salesectioneventschedule_ScheduleSectionHeader_2EXgw",SectionCtn:"salesectioneventschedule_SectionCtn_2wwgk",SaleSchedListCtn:"salesectioneventschedule_SaleSchedListCtn_1THwn",SaleSchedList:"salesectioneventschedule_SaleSchedList_2BWbK",NoEventsYet:"salesectioneventschedule_NoEventsYet_1ZTMP",SaleSchedRow:"salesectioneventschedule_SaleSchedRow_3l83c",NewsHubLink:"salesectioneventschedule_NewsHubLink_TafBI",SaleSchedGridCtn:"salesectioneventschedule_SaleSchedGridCtn_50nbv",SchedSectionLabel:"salesectioneventschedule_SchedSectionLabel_2UAed",SaleSchedDetailCtn:"salesectioneventschedule_SaleSchedDetailCtn_31c5z",SaleTagAndOS:"salesectioneventschedule_SaleTagAndOS_2rcuH",StatementAndHighlights:"salesectioneventschedule_StatementAndHighlights_28vOL",StatementCtn:"salesectioneventschedule_StatementCtn_2p5xO",PresenterEventStatementCtn:"salesectioneventschedule_PresenterEventStatementCtn_3-cGi",Statement:"salesectioneventschedule_Statement_GwN4S",SaleSchedRowProxy:"salesectioneventschedule_SaleSchedRowProxy_2HMsx",MiniMode:"salesectioneventschedule_MiniMode__L0SI",AppTitle:"salesectioneventschedule_AppTitle_3q715",Icon:"salesectioneventschedule_Icon_26VBx",Time:"salesectioneventschedule_Time_3qoMb",LiveNow:"salesectioneventschedule_LiveNow_3vE3k",DetailsCtn:"salesectioneventschedule_DetailsCtn_3deMj",EventTitle:"salesectioneventschedule_EventTitle_109s-",SchedRowSelected:"salesectioneventschedule_SchedRowSelected_3GxYn",SaleAppWideCtn:"salesectioneventschedule_SaleAppWideCtn_3QOgi",ClanEvent:"salesectioneventschedule_ClanEvent_3jTnP",SaleAppCapsule:"salesectioneventschedule_SaleAppCapsule_2mp1u",WideHeader:"salesectioneventschedule_WideHeader_wI_4v",WideDetailCtn:"salesectioneventschedule_WideDetailCtn_2UUN8",ReleaseDate:"salesectioneventschedule_ReleaseDate_3pYbY",GameButtons:"salesectioneventschedule_GameButtons_nZS28",GameButton:"salesectioneventschedule_GameButton_ExiOL",DemoButton:"salesectioneventschedule_DemoButton_20uhj",WideActionCtn:"salesectioneventschedule_WideActionCtn_mZEz5",EventWideCtn:"salesectioneventschedule_EventWideCtn_3ebd7",Title:"salesectioneventschedule_Title_J6ivk",EventWideDetailCtn:"salesectioneventschedule_EventWideDetailCtn_jM8go",EventDetails:"salesectioneventschedule_EventDetails_1B7Oi",EventTime:"salesectioneventschedule_EventTime_2-ep9",EventOptionsCtn:"salesectioneventschedule_EventOptionsCtn_3O1DS",EventDetailsBtn:"salesectioneventschedule_EventDetailsBtn_1yVMk",EventIcon:"salesectioneventschedule_EventIcon_1qfgw",ClanEventCapsuleCtn:"salesectioneventschedule_ClanEventCapsuleCtn_3rGzA",ClanEventImage:"salesectioneventschedule_ClanEventImage_2ZYCQ",ClanEventDetailBackground:"salesectioneventschedule_ClanEventDetailBackground_s3LS8",SpeakerEventType:"salesectioneventschedule_SpeakerEventType_1rNgd",SpeakerEventTitle:"salesectioneventschedule_SpeakerEventTitle_1EIao"}},YnPx:function(e,t,n){e.exports={IncludedBanner:"appdetailsmastersubincluded_IncludedBanner_dV5DL"}},Z9dU:function(e,t,n){e.exports={chatEntryControls:"chatentry_chatEntryControls_3Ule3",chatTextarea:"chatentry_chatTextarea_113iu",chatEntryActionsGroup:"chatentry_chatEntryActionsGroup_2WfNo",chatEntryActionsContainer:"chatentry_chatEntryActionsContainer_W0Ohk",minHeightZero:"chatentry_minHeightZero_2zeeh",chatSubmitButton:"chatentry_chatSubmitButton_RVIs8",EmbedButton:"chatentry_EmbedButton_3zOBe",EmoticonPickerButton:"chatentry_EmoticonPickerButton_Aupsw",disabled:"chatentry_disabled_jaQN2",Inactive:"chatentry_Inactive_3G-I9",AudioLines:"chatentry_AudioLines_IWaba",Active:"chatentry_Active_37tPt"}},ZCZY:function(e,t,n){e.exports={BreadContainer:"breadcrumbs_BreadContainer_3jswb"}},ZMhZ:function(e,t,n){e.exports={AppDetailsHover:"appdetailshover_AppDetailsHover_38FqI",Background:"appdetailshover_Background_rYBZB",BlurContainer:"appdetailshover_BlurContainer_2HshO"}},ZeAL:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d});var v=n("mrSG"),g=n("q1tI"),r=n("nrKv"),i=n("mgoM"),a=n("lkRc"),o=["h1","h2","h3","b","u","hr","i","img","strike","spoiler","noparse","url","list","olist","quote","pullquote","code","table","tr","td","th","previewyoutube","looping_media","roomeffect","sticker","price","pricesavings","trailer","speaker"],s=["h1","h2","h3","b","u","i","strike","spoiler","noparse","url"],c=["img","previewyoutube","looping_media","roomeffect"];o.filter(function(e){return-1==c.indexOf(e)});function l(n,e,r){return void 0===e&&(e=o),void 0===r&&(r=" "),e.forEach(function(e){var t="\\["+e+".*(\\=[^\\]]*)?\\].*\\[\\/"+e+"\\]";n=n.replace(new RegExp(t,"gi"),r)}),n}function u(e,t,n){void 0===t&&(t=o),void 0===n&&(n="");var r="\\[\\/?(?:"+t.join("|")+")*?.*?\\]";return e.replace(new RegExp(r,"gi"),n)}function p(e,t,n){var r,i,a;void 0===n&&(n=0),2==t.type&&(r=t.text.indexOf("="),-1!=(i=t.text.indexOf(" "))&&(-1==r||i<r)&&(r=i),0<r?(t.tag=t.text.substr(0,r).toLocaleLowerCase(),a=t.text.substr(r),t.args=function(e){if(!e||e.length<1)return{};var t={},n="",r="",i=0,a=0;"="==e[0]&&(i=2);var o=!1;for(a++;a<e.length;a++){var s=e[a],c=!0,l=!1;switch(i){case 0:if("="==s)return{};if(" "==s)continue;i=1;break;case 1:"="!=s&&" "!=s||o||(" "==s?l=!(i=0):i=2,c=!1);break;case 2:" "==s?(i=0,l=!(c=!1)):'"'==s?c=!(i=4):i=3;break;case 3:case 4:(" "==s&&4!=i&&!o||'"'==s&&4==i&&!o)&&(i=0,l=!(c=!1))}if(c)if("\\"!=s||o)if(o=!1,1==i)n+=s;else{if(3!=i&&4!=i)throw new Error("Not expecting to accumulate buffer in state "+i);r+=s}else o=!0;l&&(t[n]=r,r=n="")}0!=i&&(t[n]=r);return t}(a)):(t.args={},t.tag=t.text.toLocaleLowerCase())),e.push(t);var o=new m;return o.type=n,o}var d=function(){function e(e,t,n){void 0===t&&(t=function(){return new r.b}),this.m_dictComponents=void 0,this.m_dictComponents=e,this.m_fnAccumulatorFactory=t,this.m_renderingLanguage=n||Object(i.h)(a.c.LANGUAGE)}return e.prototype.UpdateOverrideLanguage=function(e){this.m_renderingLanguage=e||Object(i.h)(a.c.LANGUAGE)},e.prototype.ParseBBCode=function(e,t){var n=function(e){for(var t=[],n=new m,r=!1,i=!1,a=0;a<e.length;a++){var o=e[a];switch(n.type){case 0:"["==o?(n.type=2,i=!0):(n.type=1,"\\"==o?r=!r:n.text+=o);break;case 2:case 3:i="/"==o&&i?(n.type=3,n.text="",!1):"["!=o||r?"]"!=o||r?"\\"==o?(n.text+=o,r=!r,!1):(n.text+=o,r=!1):(i&&n.ConvertMalformedNodeToText(),n=p(t,n),!1):(n.ConvertMalformedNodeToText(),n=p(t,n,2),!0);break;case 1:"["!=o||r?r="\\"==o?(r&&(n.text+=o),!r):(n.text+=o,!1):(n=p(t,n,2),i=!0)}}return 0!=n.type&&(2!=n.type&&3!=n.type||n.ConvertMalformedNodeToText(),t.push(n)),t}(e);return this.Parse_BuildReactComponents(n,t)},e.prototype.Parse_BuildReactComponents=function(e,c){function l(){return m.length<1?void 0:m[m.length-1]}function u(e,t,n){var r,i,a,o,s;e&&e.node.tag===t.text&&h.get(e.node.tag)?(r=h.get(e.node.tag),i=m.map(function(e){return e.node.tag}),a={context:c,parentTags:i,tagname:e.node.tag,args:e.node.args,language:f,key:e.node.tag+"_"+n},o=g.createElement.apply(g,Object(v.g)([r.Constructor,a],d.GetElements())),(d=e.accumulator).AppendNode(o),b=r.skipFollowingNewline,_=e.bWrapTextForCopying):e&&((s=e.accumulator).AppendText("["+e.node.text+"]",!1),d.GetElements().forEach(function(e){return s.AppendNode(e)}),s.AppendText("[/"+t.text+"]",!1),d=s,_=e.bWrapTextForCopying)}var p=this,d=this.m_fnAccumulatorFactory(void 0),m=[],h=this.m_dictComponents,f=this.m_renderingLanguage,b=!1,_=!0;e.forEach(function(e,t){var n;if(1==e.type){var r=b?e.text.replace(/^[\t\r ]*\n/g,""):e.text;d.AppendText(r,_),b=!1}else if(2==e.type){var i,a,o=h.get(e.tag);o?(void 0===(i=l())||(a=h.get(i.node.tag))&&a.autocloses&&e.tag===i.node.tag&&u(m.pop(),i.node,t),m.push({accumulator:d,node:e,bWrapTextForCopying:_}),d=p.m_fnAccumulatorFactory(e),b=o.skipInternalNewline,_=null!==(n=o.allowWrapTextForCopying)&&void 0!==n&&n):d.AppendText("["+e.text+"]",0==m.length)}else if(3==e.type){for(;l()&&l().node.tag!==e.text&&h.get(l().node.tag)&&h.get(l().node.tag).autocloses;){var s=m.pop();u(s,s.node,t)}var c=m.pop();u(c,e,t)}});for(;0<m.length;)!function(){var e=m.pop(),t=e.accumulator;t.AppendText("["+e.node.text+"]",!1),d.GetElements().forEach(function(e){return t.AppendNode(e)}),d=t}();var t=d.GetElements();return 1<t.length?g.createElement.apply(g,Object(v.g)([g.Fragment,null],t)):1==t.length?t[0]:null},e}(),m=function(){function e(){this.type=0,this.text=""}return e.prototype.ConvertMalformedNodeToText=function(){3==this.type?this.text="[/"+this.text:2==this.type&&(this.text="["+this.text),this.type=1},e}()},ZlHF:function(e,t,n){e.exports={SaleHeaderContainer:"partnersaledisplay_SaleHeaderContainer_W4mvn",SaleSection:"partnersaledisplay_SaleSection_1cOoC",CarouselDisplay:"partnersaledisplay_CarouselDisplay_mntHD",SaleViewAll:"partnersaledisplay_SaleViewAll_1bsBz",SaleSectionLoginPrompt:"partnersaledisplay_SaleSectionLoginPrompt_2-dSB",LoginButton:"partnersaledisplay_LoginButton_3h6sH",SaleOverlayCtn:"partnersaledisplay_SaleOverlayCtn_3GTIc",SaleOverlay:"partnersaledisplay_SaleOverlay_1sZo8",AppSummaryWidgetCtn:"partnersaledisplay_AppSummaryWidgetCtn_2H8Bm",SaleBroadcastCtn:"partnersaledisplay_SaleBroadcastCtn_1SFMh",SaleOuterContainer:"partnersaledisplay_SaleOuterContainer_150kd",CustomStyle_together:"partnersaledisplay_CustomStyle_together_1lAyg",SaleBackground:"partnersaledisplay_SaleBackground_2N8Se",SaleSectionTitleCtn:"partnersaledisplay_SaleSectionTitleCtn_bE2EA",SaleSectionSubtext:"partnersaledisplay_SaleSectionSubtext_17Fnl",SaleSectionContainer:"partnersaledisplay_SaleSectionContainer_W9_WA",ShowContentsContainer:"partnersaledisplay_ShowContentsContainer_CBMVC",ShowContentsButton:"partnersaledisplay_ShowContentsButton_2EjTW",vr_supported:"partnersaledisplay_vr_supported_1BDSJ",vr_required:"partnersaledisplay_vr_required_1P__h",preview_placeholder_section:"partnersaledisplay_preview_placeholder_section_3QLsj",LinkCapsule:"partnersaledisplay_LinkCapsule_2zVSa",fullscreen_bg:"partnersaledisplay_fullscreen_bg_j2ykT",fullscreen_bg__video:"partnersaledisplay_fullscreen_bg__video_FXgrB",SalePageBroadcastContextHover:"partnersaledisplay_SalePageBroadcastContextHover_hbVdl",AlbumCoverImage:"partnersaledisplay_AlbumCoverImage_2JfUA",AlbumTitle:"partnersaledisplay_AlbumTitle_keaMw",PreviewSalesPageContainer:"partnersaledisplay_PreviewSalesPageContainer_16oMm",SaleSectionTabs:"partnersaledisplay_SaleSectionTabs_1FPIV",SaleSectionTabsTab:"partnersaledisplay_SaleSectionTabsTab_3BgHm",SaleSectionTabContainer:"partnersaledisplay_SaleSectionTabContainer_1Svj0",SaleSectionTabsRow:"partnersaledisplay_SaleSectionTabsRow_30oGT",SaleTab:"partnersaledisplay_SaleTab_gc-rq",SaleTabLabel:"partnersaledisplay_SaleTabLabel_2mYMQ",SaleSectionTabListContainer:"partnersaledisplay_SaleSectionTabListContainer_2VZtq",TabContentsContainer:"partnersaledisplay_TabContentsContainer_2xJbu",HorizontalScrollInDragForceCursor:"partnersaledisplay_HorizontalScrollInDragForceCursor_nemO6",SaleBroadcastSection:"partnersaledisplay_SaleBroadcastSection_1u0IZ",CarouselPage:"partnersaledisplay_CarouselPage_Hlkuk",TabButtonsCtn:"partnersaledisplay_TabButtonsCtn_21-6t",TabButton:"partnersaledisplay_TabButton_1Gz4s",FacetedBrowseLoadThrobber:"partnersaledisplay_FacetedBrowseLoadThrobber_3ThUF",SectionLabelCtn:"partnersaledisplay_SectionLabelCtn_9so3K",SectionLabelRight:"partnersaledisplay_SectionLabelRight_19YHY",SectionLabelLinkButton:"partnersaledisplay_SectionLabelLinkButton_1tTSn"}},a5LV:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var a=n("mrSG"),o=n("lkRc"),r=n("2vnA"),i=n("vDqi"),s=n.n(i),c=function(){function e(){this.m_mapEmoticonHovers=r.observable.map(),this.m_inflightRequests={}}return e.prototype.Get=function(e){return this.m_mapEmoticonHovers.has(e)||this.m_inflightRequests[e]?this.m_mapEmoticonHovers.get(e):(this.Load(e),null)},e.prototype.BLoaded=function(e){return!!this.m_mapEmoticonHovers.get(e)},e.prototype.Load=function(i){return Object(a.b)(this,void 0,void 0,function(){var n,r;return Object(a.e)(this,function(e){switch(e.label){case 0:n="https://community.cloudflare.steamstatic.com/economy/emoticonhoverjson/"+encodeURIComponent(i)+"?l="+encodeURIComponent(o.c.LANGUAGE)+"&origin="+Object(o.e)(),this.m_inflightRequests[i]=!0,e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,s.a.get(n)];case 2:return r=e.sent().data,(t=r)&&"object"==typeof t&&"number"==typeof t.appid&&"string"==typeof t.app_name?this.m_mapEmoticonHovers.set(i,r):this.m_mapEmoticonHovers.set(i,null),[3,5];case 3:return e.sent(),this.m_mapEmoticonHovers.set(i,null),[3,5];case 4:return this.m_inflightRequests[i]=!1,[7];case 5:return[2]}var t})})},e}();var l=new c},aDya:function(e,t,n){e.exports={Container:"nogamesdisplay_Container_1cT7G",TopSection:"nogamesdisplay_TopSection_1NGpW",AlignBottom:"nogamesdisplay_AlignBottom_2_urW",Description:"nogamesdisplay_Description_1m19T",StoreLink:"nogamesdisplay_StoreLink_1_An7",ButtonContainer:"nogamesdisplay_ButtonContainer_1GSNx",BottomSection:"nogamesdisplay_BottomSection_1k3I9",NumOwned:"nogamesdisplay_NumOwned_1WuJO",TopButton:"nogamesdisplay_TopButton_TICQ3",BottomButton:"nogamesdisplay_BottomButton_2blKX"}},aFTR:function(e,t,n){e.exports={TopCapsule:"sharedappdetailsheader_TopCapsule_NZMJ6",NoArt:"sharedappdetailsheader_NoArt_1amMH",ImgSrc:"sharedappdetailsheader_ImgSrc_HNbe3",ImgContainer:"sharedappdetailsheader_ImgContainer_QlR9E",FallbackArt:"sharedappdetailsheader_FallbackArt_1ZNHI",BoxSizerEdge:"sharedappdetailsheader_BoxSizerEdge_253kK",Middle:"sharedappdetailsheader_Middle_193Yt",BoxSizerValidRegion:"sharedappdetailsheader_BoxSizerValidRegion_2aPcB",Background:"sharedappdetailsheader_Background_1ssCE",TitleImageContainer:"sharedappdetailsheader_TitleImageContainer_2DVdg",UpperCenter:"sharedappdetailsheader_UpperCenter_3b-fV",CenterCenter:"sharedappdetailsheader_CenterCenter_27g5S",BottomCenter:"sharedappdetailsheader_BottomCenter_1nosI",TitleLogo:"sharedappdetailsheader_TitleLogo_3NBxS",Loaded:"sharedappdetailsheader_Loaded_2dzwX",BottomLeft:"sharedappdetailsheader_BottomLeft_2levH",UpperLeft:"sharedappdetailsheader_UpperLeft_2GZ34",HeaderBackgroundImage:"sharedappdetailsheader_HeaderBackgroundImage_1IX7F",ImgBlurBackdrop:"sharedappdetailsheader_ImgBlurBackdrop_3_IUV",ImgBlur:"sharedappdetailsheader_ImgBlur_HSQWw",PinBox:"sharedappdetailsheader_PinBox_2O6k6",BoxSizerContainer:"sharedappdetailsheader_BoxSizerContainer_A14yd",BoxSizer:"sharedappdetailsheader_BoxSizer_2Eh7S",BoxSizerDragBox:"sharedappdetailsheader_BoxSizerDragBox_3ICyu",EdgeDown:"sharedappdetailsheader_EdgeDown_3BLqo",BoxSizerGridBox:"sharedappdetailsheader_BoxSizerGridBox_pnIGu",TopLeft:"sharedappdetailsheader_TopLeft_8zlhL",Top:"sharedappdetailsheader_Top_1Ou14",TopRight:"sharedappdetailsheader_TopRight_1cMfn",Left:"sharedappdetailsheader_Left_2ddbR",BoxSizerDelete:"sharedappdetailsheader_BoxSizerDelete_3IBT6",BoxSizerSettings:"sharedappdetailsheader_BoxSizerSettings_7bAuQ",Right:"sharedappdetailsheader_Right_16lyt",Bottom:"sharedappdetailsheader_Bottom_1Qse1",BottomRight:"sharedappdetailsheader_BottomRight_2MuQa",AddBoxSizer:"sharedappdetailsheader_AddBoxSizer_3Y_PJ",SaveBoxSizer:"sharedappdetailsheader_SaveBoxSizer_3F0nc",BoxSizerButtonContainer:"sharedappdetailsheader_BoxSizerButtonContainer_30Ci5",DialogButton:"sharedappdetailsheader_DialogButton_21DkR",BoxSizerInfo:"sharedappdetailsheader_BoxSizerInfo_4fGFb",TextNameSpace:"sharedappdetailsheader_TextNameSpace_3sUYx",TitleSection:"sharedappdetailsheader_TitleSection_30acA",Features:"sharedappdetailsheader_Features_fqwOy",SVGTitle:"sharedappdetailsheader_SVGTitle_121fl"}},aRzR:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",ScreenshotsSection:"appdetailsscreenshotssection_ScreenshotsSection_2_TE0",Screenshots:"appdetailsscreenshotssection_Screenshots_2fgcq",Thumbnail:"appdetailsscreenshotssection_Thumbnail_2B8Nk",InstructionText:"appdetailsscreenshotssection_InstructionText_2QCkj",NoneTaken:"appdetailsscreenshotssection_NoneTaken_2_Wwn",ScreenshotModal:"appdetailsscreenshotssection_ScreenshotModal_2xAnv"}},ascj:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r=n("TLQK"),i=n("lkRc");function a(e,t){return i.c.STORE_CDN_URL+"public/images/loyalty/reactions/"+(t?"animated":"still")+"/"+e+".png"}function o(e){return Object(r.f)("#RewardsReaction_"+e)}},ayjY:function(e,t,n){e.exports={SoundtrackPanel:"appdetailssoundtrack_SoundtrackPanel_23zCI",BackgroundContainer:"appdetailssoundtrack_BackgroundContainer_26bNl",BackgroundBlurArt:"appdetailssoundtrack_BackgroundBlurArt_3JZ9b",SoundtrackButtonDivider:"appdetailssoundtrack_SoundtrackButtonDivider_2n7O9",SoundtrackContainer:"appdetailssoundtrack_SoundtrackContainer_1c7FW",Header:"appdetailssoundtrack_Header_4f23l",AlbumName:"appdetailssoundtrack_AlbumName_oW5xv",ArtistName:"appdetailssoundtrack_ArtistName_2bTdS",StatsAndParent:"appdetailssoundtrack_StatsAndParent_3pUBu",AlbumStats:"appdetailssoundtrack_AlbumStats_1qxAZ",ParentGameLink:"appdetailssoundtrack_ParentGameLink_2pcGG",ParentAppName:"appdetailssoundtrack_ParentAppName_3C_pT",ParentGameIcon:"appdetailssoundtrack_ParentGameIcon_Pc5ZA",Content:"appdetailssoundtrack_Content_22Q27",LeftColumn:"appdetailssoundtrack_LeftColumn_23WS1",AlbumArt:"appdetailssoundtrack_AlbumArt_1R0eE",PlayButton:"appdetailssoundtrack_PlayButton_2TWHM",RightColumn:"appdetailssoundtrack_RightColumn_1s3Ep",TrackListContainer:"appdetailssoundtrack_TrackListContainer_1Rrhq",Disc:"appdetailssoundtrack_Disc_17Yl1",TrackListing:"appdetailssoundtrack_TrackListing_2c5PP",TrackNumber:"appdetailssoundtrack_TrackNumber_NZZPO",TrackName:"appdetailssoundtrack_TrackName_JpRLQ",TrackLength:"appdetailssoundtrack_TrackLength_157uf",AlbumArtworkModal:"appdetailssoundtrack_AlbumArtworkModal_1xedg",ModalArtCloseButton:"appdetailssoundtrack_ModalArtCloseButton_27E66",ModalBox:"appdetailssoundtrack_ModalBox_NIF-B",ArtworkModalContainer:"appdetailssoundtrack_ArtworkModalContainer_1ye7X",ArtworkModalDetails:"appdetailssoundtrack_ArtworkModalDetails_SLVVM",ScrollForMore:"appdetailssoundtrack_ScrollForMore_1CMeA",ChildrenContainer:"appdetailssoundtrack_ChildrenContainer_nM5kI",ArtworkContainer:"appdetailssoundtrack_ArtworkContainer_2F8hw",ArtworkImage:"appdetailssoundtrack_ArtworkImage_3h0Rv"}},b16f:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",PageableContainer:"libraryhomefriendsactivity_PageableContainer_2gwUi",Empty:"libraryhomefriendsactivity_Empty_2kozJ",Message:"libraryhomefriendsactivity_Message_27Vu9",Carousel:"libraryhomefriendsactivity_Carousel_1mIPY",Short:"libraryhomefriendsactivity_Short_2yDYY",AppContainer:"libraryhomefriendsactivity_AppContainer_dr7iY",Heading:"libraryhomefriendsactivity_Heading_LM9vP",MediaContainer:"libraryhomefriendsactivity_MediaContainer_1Jr9x",HeroContainer:"libraryhomefriendsactivity_HeroContainer_183Mf",LibraryAutomatic:"libraryhomefriendsactivity_LibraryAutomatic_3AWBh",LogoImage:"libraryhomefriendsactivity_LogoImage_2_Qh_",LibrarySmall:"libraryhomefriendsactivity_LibrarySmall_18WwD",LibraryMedium:"libraryhomefriendsactivity_LibraryMedium_1cTtT",HoversEnabled:"libraryhomefriendsactivity_HoversEnabled_37w_M",HeroImageTransform:"libraryhomefriendsactivity_HeroImageTransform_2ViIg",HeroImageClipper:"libraryhomefriendsactivity_HeroImageClipper_3RqCl",HeroLogoCtn:"libraryhomefriendsactivity_HeroLogoCtn_3Rvsy",HeroImage:"libraryhomefriendsactivity_HeroImage_32LCs",HeroImageBlur:"libraryhomefriendsactivity_HeroImageBlur_nvFbx",LogoContainer:"libraryhomefriendsactivity_LogoContainer_3TvWk",LogoText:"libraryhomefriendsactivity_LogoText_1yGwP",TextCtn:"libraryhomefriendsactivity_TextCtn_2Rgzb",AppHoverCategoryBlurb:"libraryhomefriendsactivity_AppHoverCategoryBlurb_2_R9C",UnownedBanner:"libraryhomefriendsactivity_UnownedBanner_17GoY",UnownedBannerText:"libraryhomefriendsactivity_UnownedBannerText_8-v6w"}},b3LC:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return a});var r=n("vDqi"),s=n.n(r),c=n("q1tI"),l=n("ZeAL"),u=n("bxiW"),p=n("C4Nl");function i(e,t,n){void 0===n&&(n=!0);var r=n?p.a.k_DataRequest_BasicInfo:p.a.k_DataRequest_CommonOnly,i=d(n||p.a.Get().BHasStoreItem(e,t,r)?e:null,t,r),a=i[0],o=i[1];return[null!=a&&a.GetShortDescription()?Object(l.c)(a.GetShortDescription()):"",3==o]}function d(t,n,r){var i=Object(u.e)(),a=Object(c.useRef)();if(a.current=t,Object(c.useEffect)(function(){if(t&&!p.a.Get().BHasStoreItem(t,n,r)){var e=s.a.CancelToken.source();return p.a.Get().QueueStoreItemRequest(t,n,r).then(function(){e.token.reason||a.current!==t||i()}),function(){return e.cancel("useStoreItemCache: unmounting")}}},[t,n,r,i]),!p.a.Get().BHasStoreItem(t,n,r))return[void 0,1];var e=p.a.Get().GetStoreItem(t,n),o=null!=e&&e.BIsVisible()?3:2;return[e,o]}function a(e,t){return d(e,0,t)}},bDQf:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var i=n("mrSG"),r=n("vDqi"),a=n.n(r),o=function(){function r(e){this.idGenerator=e||function(){return""}}return r.prototype.LOG=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&console.log.apply(console,Object(i.g)([this.idGenerator()+":"],e))},r.create=function(e,t){void 0===t&&(t=!1);var n=new r(e);return n.enabled=t,n.LOG.bind(n)},r}();function s(e){if(a.a.isCancel(e))return{strErrorMsg:"Action Cancelled:"+e,errorCode:52};if(void 0!==e.response&&e.response.data&&"object"==typeof e.response.data){if("msg"in e.response.data)return{strErrorMsg:e.response.data.msg,errorCode:e.response.data.success};if("err_msg"in e.response.data)return{strErrorMsg:e.response.data.err_msg,errorCode:e.response.data.success};if("message"in e.response.data)return{strErrorMsg:e.response.data.message,errorCode:e.response.data.success}}else{if(void 0!==e.success&&void 0!==e.msg)return{strErrorMsg:e.msg,errorCode:e.success};if(void 0!==e.success&&void 0!==e.message)return{strErrorMsg:e.message,errorCode:e.success};if(void 0!==e.success&&void 0!==e.err_msg)return{strErrorMsg:e.err_msg,errorCode:e.success};"string"==typeof e&&1024<e.length?(console.groupCollapsed("GetMsgAndErrorCodeFromResponse cannot parse: "),console.error(e),console.groupEnd()):console.error("GetMsgAndErrorCodeFromResponse cannot parse: ",e)}return"object"==typeof e&&"status"in e?{strErrorMsg:"Unknown Error: "+e+"\nStatus Code:"+e.status,errorCode:2}:{strErrorMsg:"Unknown Error: "+e,errorCode:2}}},bS9Q:function(e,t,n){"use strict";function r(e,t){return e<t?-1:t<e?1:0}function i(e,t){return r(e.toLocaleLowerCase(),t.toLocaleLowerCase())}function a(e,t){var n=o(e.charCodeAt(0));return n!=o(t.charCodeAt(0))?n?-1:1:r(e.toLocaleLowerCase(),t.toLocaleLowerCase())}function o(e){return 55356<=e&&e<=57343||8205<=e&&e<=11093||12953==e||12349==e||12336==e||65039==e||12951==e||169==e||48<=e&&e<=57||35==e||42==e||10==e||174==e}function s(e){return e?DOMParser?(new DOMParser).parseFromString(e,"text/html").documentElement.textContent:e:""}function c(e,t){return void 0===t&&(t=""),e.replace(/\bhttps?:\/\/\S+/gi,t)}function l(e,t,n){void 0===n&&(n=!0);var r,i,a=e.trim();return t<(a=a.replace(n?/\s+/g:/[ \t]+/g," ")).length&&(((i=(r=(a=a.substring(0,t)).replace(/^(.*([.!?])) .*$/,"$1")).length)<.6*t||i==t)&&(r=a.replace(/ [^ ]*$/,"...")),a=n?r.replace(/(\r\n|\n|\r)/gm,""):r),a}function u(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}n.d(t,"e",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"g",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return u})},bUNj:function(e,t,n){},bWts:function(e,t,n){e.exports={BlockQuote:"eventbbcodeparser_BlockQuote_2cY7b",BlockQuoteAuthor:"eventbbcodeparser_BlockQuoteAuthor_Jyzed",PullQuote:"eventbbcodeparser_PullQuote_UZBJN",Code:"eventbbcodeparser_Code_1zoQP",Header1:"eventbbcodeparser_Header1_SPYFj",Header2:"eventbbcodeparser_Header2_QuKtT",Header3:"eventbbcodeparser_Header3_3s7cU",HR:"eventbbcodeparser_HR_2IENn",Link:"eventbbcodeparser_Link_29bMZ",LinkHost:"eventbbcodeparser_LinkHost_16eO9",LinkButton:"eventbbcodeparser_LinkButton_2HnDg",Strike:"eventbbcodeparser_Strike_1tIBv",Spoiler:"eventbbcodeparser_Spoiler_3QcA9",UnorderList:"eventbbcodeparser_UnorderList_3995Y",Table:"eventbbcodeparser_Table_3sT80",TableHeader:"eventbbcodeparser_TableHeader_3WcB-",sharedFilePreviewImage:"eventbbcodeparser_sharedFilePreviewImage_2bwhK",TableData:"eventbbcodeparser_TableData_1skQk",TableRow:"eventbbcodeparser_TableRow_sc_Sn",StoreWidget:"eventbbcodeparser_StoreWidget_36Y-l",MedalTVWidget:"eventbbcodeparser_MedalTVWidget_1j2vi",AppSummaryWidgetCtn:"eventbbcodeparser_AppSummaryWidgetCtn_3DfY9",ExpandSectionBlock:"eventbbcodeparser_ExpandSectionBlock_zJ2Z3",ExpandSectionHeader:"eventbbcodeparser_ExpandSectionHeader_2L3U_",EmbedArrow:"eventbbcodeparser_EmbedArrow_3IjdP",ExpandSectionBody:"eventbbcodeparser_ExpandSectionBody_1QuZQ",SaleSectionCtn:"eventbbcodeparser_SaleSectionCtn_39HWX",ReminderCtn:"eventbbcodeparser_ReminderCtn_25AZk",NoBorder:"eventbbcodeparser_NoBorder_1ZU5y",SocialLink:"eventbbcodeparser_SocialLink_2LAnc",SocialIcon:"eventbbcodeparser_SocialIcon_dDjYN"}},baii:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",AdditionalItem:"appdetailsadditionalcontentsection_AdditionalItem_11iUU",Title:"appdetailsadditionalcontentsection_Title_QDrH3",Image:"appdetailsadditionalcontentsection_Image_3ikOg",Soundtracks:"appdetailsadditionalcontentsection_Soundtracks_LO26Z",SoundtrackDetails:"appdetailsadditionalcontentsection_SoundtrackDetails_krdL6",Artist:"appdetailsadditionalcontentsection_Artist_3NeZL",TracksDetails:"appdetailsadditionalcontentsection_TracksDetails_3Yvj5",Manual:"appdetailsadditionalcontentsection_Manual_3LAiz",AssetImage:"appdetailsadditionalcontentsection_AssetImage_7zwZ-"}},bftL:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",DownloadsPage:"downloads_DownloadsPage_1bq4x",ItemLists:"downloads_ItemLists_1ugNi",GraphAndStats:"downloads_GraphAndStats_3ZsSz",RightPane:"downloads_RightPane_3o-EI",StatsPanel:"downloads_StatsPanel_2IXt5",Title:"downloads_Title_TK9wv",Stat:"downloads_Stat_wiA4X",Figure:"downloads_Figure_1Ooma",PauseResumeButton:"downloads_PauseResumeButton_wLQrw",Hidden:"downloads_Hidden_3B09J",DownloadGraph:"downloads_DownloadGraph_1ashw",GraphBar:"downloads_GraphBar_33npA",DiskGraph:"downloads_DiskGraph_1UAfr",GraphLine:"downloads_GraphLine_affyz",DownloadGraphLegend:"downloads_DownloadGraphLegend_3_GZ_",LegendRow:"downloads_LegendRow_2p4J1",LegendBox:"downloads_LegendBox_2qlUv",LegendText:"downloads_LegendText_2ZXcc",Network:"downloads_Network_2mLZn",Disk:"downloads_Disk_HifZB",Section:"downloads_Section_3Mbhn",SectionTitle:"downloads_SectionTitle_qq2xI",SectionItem:"downloads_SectionItem_1VNuY",AppPortait:"downloads_AppPortait_2xEpK",Name:"downloads_Name_35eOQ",AutoUpdate:"downloads_AutoUpdate_qrwf3",Buttons:"downloads_Buttons_1cMXI",Button:"downloads_Button_3oavR",MoveToTopSVG:"downloads_MoveToTopSVG_1EBlN",SectionItemColumn:"downloads_SectionItemColumn_kGTS5",Right:"downloads_Right_2WEwE",Value:"downloads_Value_1dHjj"}},boaH:function(e,t,n){"use strict";n.d(t,"d",function(){return ee}),n.d(t,"b",function(){return Y}),n.d(t,"c",function(){return te}),n.d(t,"a",function(){return ue});var S=n("mrSG"),r=n("vDqi"),w=n.n(r),l=n("2vnA"),u=n("Wjsq"),i=n("A5MU"),s=n("bxiW"),a=n("qD+2"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(S.d)(t,e),t}(Error),c=function(n){function e(e){var t=n.call(this)||this;return t.m_appid=e||0,t}return Object(S.d)(e,n),e.prototype.GetAppID=function(){return this.m_appid},e.prototype.parseColor=function(e){if("string"!=typeof e||!e.match(/^#[0-9a-fA-F]{6}$/))throw new o("expected color string");return[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)]},e.prototype.parseString=function(e){if("string"==typeof e)return e;throw new o("expected string")},e.prototype.parseNumber=function(e){if("number"==typeof e)return e;throw new o("expected number")},e.prototype.parseDate=function(e){if("number"==typeof e)return new Date(e);throw new o("expected timestamp")},e.prototype.parseArray=function(e,t){var n=[];if("object"!=typeof e||!Array.isArray(e))throw new o("expected array");for(var r=e.length,i=0;i<r;++i)try{n.push(t(e[i]))}catch(e){throw e.message+="\n...while parsing array element "+i,e}return n},e.prototype.parseDict=function(e,t){var n=new Map;if("object"!=typeof e||Array.isArray(e))throw new o("expected object");for(var r in e)try{n.set(r,t(e[r]))}catch(e){throw e.message+="\n...while parsing dictionary element "+r,e}return n},e.prototype.parseBracket=function(e){var t={name:this.parseString(e.name),start:this.parseDate(e.start),color:[255,0,255]};return"params"in e&&(t.params=this.parseDict(e.params,this.parseString.bind(this))),"end"in e&&(t.end=this.parseDate(e.end)),"color"in e&&(t.color=this.parseColor(e.color)),t},e.prototype.parseMarker=function(e){var t={time:this.parseDate(e.time),color:[0,255,255]};return"name"in e&&(t.name=this.parseString(e.name)),"params"in e&&(t.params=this.parseDict(e.params,this.parseString.bind(this))),"color"in e&&(t.color=this.parseColor(e.color)),t},e.prototype.parseSoundTrack=function(e){var t={};return"song_title"in e&&(t.song_title=this.parseString(e.song_title)),"appid"in e&&(t.appid=this.parseNumber(e.appid)),"song_index"in e&&(t.song_index=this.parseNumber(e.song_index)),t},e.prototype.parseBroadcastGameData=function(e){var t={appid:0,brackets:[],markers:[]};return"appid"in e&&(t.appid=this.parseNumber(e.appid)),"brackets"in e&&(t.brackets=this.parseArray(e.brackets,this.parseBracket.bind(this))),"markers"in e&&(t.markers=this.parseArray(e.markers,this.parseMarker.bind(this))),"soundtrack"in e&&(t.soundtrack=this.parseSoundTrack(e.soundtrack)),t},e.prototype.convertTime=function(e,t){return e-t/1e3},e.prototype.LocalizeTokenIfPossible=function(e,t){return a.a.Localize(this.m_appid,e,t)},e.prototype.UpdateMarkers=function(e,t){for(var n=[],r=[],i=0,a=e;i<a.length;i++){var o=a[i];o.persistent?(0<r.length&&(r[r.length-1].nTimeEnd=this.convertTime(o.Timestamp,t)),0<o.name.length&&r.push({strTemplateName:o.name,nTimeStart:this.convertTime(o.Timestamp,t),nTimeEnd:-1,color:Object(s.c)(o.color_r,o.color_g,o.color_b)})):n.push({strTemplateName:o.name,nTime:this.convertTime(o.Timestamp,t),color:Object(s.c)(o.color_r,o.color_g,o.color_b)})}return{rgMarkers:n,rgSegments:r}},e.prototype.UpdateRegions=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t.push({strTemplateName:i.name,min:{x:i.min_x,y:i.min_y},max:{x:i.max_x,y:i.max_y},behavior:i.behavior})}return t},e.prototype.UpdateSoundtrack=function(e,t){},e}(i.b),F=n("qhbg"),p=n("mgoM"),d=n("Kw0F"),C=n("r64O"),m=n("qiKp"),h=n("TLQK"),f=n("YyVH"),b=n("CdLH"),P=n("lkRc"),_=n("kLLr"),v=n("o+8i"),g=function(){return function(){this.playback_speed=1}}(),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(S.d)(t,e),t}(g),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(S.d)(t,e),t}(g),E=function(){function e(){this.m_steamIDBroadcast="",this.m_steamIDViewer="",this.m_broadcastID="",this.m_ulViewerToken="",this.m_strCDNAuthUrlParameters=void 0,this.m_host="",this.m_strBroadcastOrigin="",this.m_strStatsLink="",this.m_strStalledLink="",this.m_strEventLogLink="",this.m_allTimeSnapshot=new B(0),this.m_rgSnapShots=new Array(new B(0)),this.m_videoResolution=0,this.m_audioRate=0,this.m_audioChannel=0,this.m_frameRate=0,this.m_strBufferingVideoResolution="0x0@0",this.m_nPlaybackVideoResolution=0,this.m_strPlaybackVideoResolution="0x0",this.m_htmlVideoResolution=0,this.m_strHtmlVideoDisplay="",this.m_nAudioBandwidth=0,this.m_nVideoBandwidth=0,this.m_nBandwidthRequired=0,this.m_nCurBandwidthVideo=0,this.m_nAudioBufferedMS=0,this.m_nVideoBufferedMS=0,this.m_nActiveDownloads=0,this.m_nVideoDownloadProgress=0,this.m_videoBufferedRanges=null,this.m_audioBufferedRanges=null,this.m_nSegmentDurationMS=0,this.m_nPlaybackRate=0,this.m_nTimeToFirstFrameMS=-1,this.m_fpsMonitor=new I}return e.prototype.GetBytesReceivedToDisplay=function(){return Object(v.a)(this.m_allTimeSnapshot.m_nBytesReceived,1)},e.prototype.GetBufferingResolutionToDisplay=function(){return this.m_strBufferingVideoResolution},e.prototype.GetPlaybackResolutionToDisplay=function(){return this.m_strPlaybackVideoResolution},e.prototype.GetHTMLVideoResolutionToDisplay=function(){return this.m_strHtmlVideoDisplay},e.prototype.GetDroppedFramesToDisplay=function(){return this.m_allTimeSnapshot.m_nFramesDropped+"/"+this.m_allTimeSnapshot.m_nFramesDecoded},e.prototype.GetStalledEventsToDisplay=function(){return String(this.m_allTimeSnapshot.m_nStallEvents)},e.prototype.GetFailedDownloadsToDisplay=function(){return String(this.m_allTimeSnapshot.m_nFailedSegments)},e.prototype.GetNumBufferedVideoRanges=function(){return this.m_videoBufferedRanges?this.m_videoBufferedRanges.length:0},e.prototype.GetNumBufferedAudioRanges=function(){return this.m_audioBufferedRanges?this.m_audioBufferedRanges.length:0},e.prototype.GetBufferedVideoSegmentForDisplay=function(e){return this.m_videoBufferedRanges&&e<this.m_videoBufferedRanges.length?Object(F.d)(this.m_videoBufferedRanges.start(e))+" - "+Object(F.d)(this.m_videoBufferedRanges.end(e)):Object(h.f)("#DASHPlayerStats_VideoNoRangeInformation")},e.prototype.GetBufferedAudioSegmentForDisplay=function(e){return this.m_audioBufferedRanges&&e<this.m_audioBufferedRanges.length?Object(F.d)(this.m_audioBufferedRanges.start(e))+" - "+Object(F.d)(this.m_audioBufferedRanges.end(e)):Object(h.f)("#DASHPlayerStats_AudioNoRangeInformation")},e.prototype.GetBandwidthStatsToDisplay=function(){if(this.m_rgSnapShots.length<2)return(this.m_allTimeSnapshot.m_nBandwidthMin/1e6).toFixed(3)+" / "+(this.m_allTimeSnapshot.m_nBandwidthMax/1e6).toFixed(3)+" / "+(this.m_allTimeSnapshot.GetAverageBandwidth()/1e6).toFixed(3);var e=this.m_rgSnapShots[this.m_rgSnapShots.length-2],t=this.m_rgSnapShots[this.m_rgSnapShots.length-1];return((0==t.m_nBandwidthMin?e.m_nBandwidthMin:Math.min(e.m_nBandwidthMin,t.m_nBandwidthMin))/1e6).toFixed(3)+" / "+(Math.max(e.m_nBandwidthMax,t.m_nBandwidthMax)/1e6).toFixed(3)+" / "+(e.GetAverageBandwidthFromTwo(t)/1e6).toFixed(3)},e.prototype.GetDownloadTimeStatsToDisplay=function(){if(this.m_rgSnapShots.length<2)return(this.m_allTimeSnapshot.m_nSegmentDownloadTimeMinMS/1e3).toFixed(3)+" / "+(this.m_allTimeSnapshot.m_nSegmentDownloadTimeMaxMS/1e3).toFixed(3)+" / "+(this.m_allTimeSnapshot.GetAverageDownloadTime()/1e3).toFixed(3);var e=this.m_rgSnapShots[this.m_rgSnapShots.length-2],t=this.m_rgSnapShots[this.m_rgSnapShots.length-1];return((0==t.m_nSegmentDownloadTimeMinMS?e.m_nSegmentDownloadTimeMinMS:Math.min(e.m_nSegmentDownloadTimeMinMS,t.m_nSegmentDownloadTimeMinMS))/1e3).toFixed(3)+" / "+(Math.max(e.m_nSegmentDownloadTimeMaxMS,t.m_nSegmentDownloadTimeMaxMS)/1e3).toFixed(3)+" / "+(e.GetAverageDownloadTimeFromTwo(t)/1e3).toFixed(3)},e.prototype.BHasFrameInformation=function(){return 0<this.m_allTimeSnapshot.m_nFramesDecoded},e.prototype.GetBandwidthRequiredToDisplay=function(){return(this.m_nBandwidthRequired/1e6).toFixed(3)},e.prototype.GetBandwithVideoToDisplay=function(){return(this.m_nCurBandwidthVideo/1e6).toFixed(3)},e.prototype.GetContentServerToDisplay=function(){return this.m_host},e.prototype.GetVideoBufferedToDisplay=function(){return(this.m_nVideoBufferedMS/1e3).toFixed(3)},e.prototype.GetAudioBufferedToDisplay=function(){return(this.m_nAudioBufferedMS/1e3).toFixed(3)},e.prototype.GetActiveDownloadsToDisplay=function(){return String(this.m_nActiveDownloads)},e.prototype.GetVideoDownloadProgressToDisplay=function(){return this.m_nVideoDownloadProgress?String(Math.round(100*this.m_nVideoDownloadProgress))+"%":"100%"},e.prototype.GetTimeToFirstFrameToDisplay=function(){return-1==this.m_nTimeToFirstFrameMS?"Unknown":String(this.m_nTimeToFirstFrameMS)},e.prototype.GetPersistentFrameDropsForDisplay=function(){return String(this.m_fpsMonitor.BIsDroppingFrames())},e.prototype.GetCurrentFPSForDisplay=function(){return this.m_fpsMonitor.BHasCurrentFPS()?this.m_fpsMonitor.GetCurrentFPS().toFixed(1):Object(h.f)("#DASHPlayerStats_Tracking")},e.prototype.GetPlaybackRateForDisplay=function(){return this.m_nPlaybackRate.toFixed(1)+"x"},e.prototype.GetFPSMonitor=function(){return this.m_fpsMonitor},e.prototype.SetHTMLVideoPlayerDisplay=function(e,t,n,r){this.m_htmlVideoResolution!=r&&(this.m_htmlVideoResolution=r,this.m_strHtmlVideoDisplay=n+"x"+r),this.m_nPlaybackVideoResolution!=t&&(this.m_nPlaybackVideoResolution=t,this.m_strPlaybackVideoResolution=e+"x"+t)},e.prototype.SetVideoPlaybackResolution=function(e,t,n){0==this.m_videoResolution&&(this.m_allTimeSnapshot.m_nInitialVideoResolution=t,this.m_rgSnapShots[this.m_rgSnapShots.length-1].m_nInitialVideoResolution=t),this.m_strBufferingVideoResolution=e+"x"+t+"@"+n,this.m_videoResolution=t,this.m_frameRate=n},e.prototype.SetRepresentation=function(e){e&&(e.nAudioSamplingRate?(this.m_audioRate=Math.round(e.nBandwidth/1e3),this.m_audioChannel=e.nAudioChannels,this.m_nAudioBandwidth=e.nBandwidth):e.nFrameRate&&(this.SetVideoPlaybackResolution(e.nWidth,e.nHeight,e.nFrameRate),this.m_nVideoBandwidth=e.nBandwidth),this.m_nBandwidthRequired=this.m_nAudioBandwidth+this.m_nVideoBandwidth)},e.prototype.SetCurrentVideoBandwidth=function(e){this.m_nCurBandwidthVideo=e},e.prototype.SetSegmentDurationMS=function(e){this.m_nSegmentDurationMS=e},e.prototype.SetBroadcasterAndViewerInfo=function(e,t,n,r,i){this.m_steamIDBroadcast=e,this.m_steamIDViewer=t,this.m_broadcastID=n,this.m_ulViewerToken=r,this.m_strCDNAuthUrlParameters=i},e.prototype.SetAnalyticLinks=function(e,t,n){this.m_strStatsLink=e,this.m_strStalledLink=t,this.m_strEventLogLink=n},e.prototype.SetVideoInitializationURL=function(e){var t=new URL(e);this.m_host=t.hostname,this.m_strBroadcastOrigin=t.searchParams.get("broadcast_origin")||"";var n=this.m_strBroadcastOrigin.indexOf(":");-1!==n&&(this.m_strBroadcastOrigin=this.m_strBroadcastOrigin.substr(0,n))},e.prototype.SetAudioRate=function(e){this.m_audioRate=e},e.prototype.CaptureFrequentlyUpdatingInformation=function(e,t){var n=this.ExtractFrameInfo(e);this.LogFrameInfo(n),this.LogBufferDuration(t,e)},e.prototype.LogDownload=function(e,t){this.m_allTimeSnapshot.SegmentReceived(e,t),this.m_rgSnapShots[this.m_rgSnapShots.length-1].SegmentReceived(e,t)},e.prototype.LogSegmentDownloadFailure=function(e,t){this.m_allTimeSnapshot.m_nFailedSegments+=1,this.m_rgSnapShots[this.m_rgSnapShots.length-1].m_nFailedSegments+=1,this.m_allTimeSnapshot.m_nLastSegementDownloadStatus=t,this.m_rgSnapShots[this.m_rgSnapShots.length-1].m_nLastSegementDownloadStatus=t,this.LogDownload(0,e)},e.prototype.LogVideoError=function(e){},e.prototype.LogVideoOnCanPlay=function(e){-1===this.m_nTimeToFirstFrameMS&&(this.m_nTimeToFirstFrameMS=Date.now()-this.m_allTimeSnapshot.m_timeMS)},e.prototype.LogErrorEvent=function(e,t){},e.prototype.ReportVideoStalled=function(e,t){if(0!=this.m_strStalledLink.length){var n=this.FindBehindSegmentLoader(e,t);if(n){this.m_allTimeSnapshot.m_nStallEvents+=1,this.m_rgSnapShots[this.m_rgSnapShots.length-1].m_nStallEvents+=1;var r=new O;this.GatherCommonStats(r,t,n.GetBandwidthRequired(),n.GetAvgDownloadRate()),r.last_segment_response=this.m_rgSnapShots[this.m_rgSnapShots.length-1].m_nLastSegementDownloadStatus,r.audio_stalled=n.ContainsAudio(),this.CaptureActiveDownloads(e),r.active_downloads=this.m_nActiveDownloads,r.vid_down_progress=this.m_nVideoDownloadProgress;for(var i=n.GetDownloadHistory(),a=0,o=i.length-1;0<=o&&a<3;--o)r["segment"+ ++a+"_bytes"]=i[o].cubData,r["segment"+a+"_time"]=Math.round(i[o].nDownloadMS)/1e3;this.SendReportToServer(r,this.m_strStalledLink)}else Object(F.c)("DASHStats: Did not find any audio or video loaders")}},e.prototype.FindBehindSegmentLoader=function(e,t){for(var n=!1,r=!1,i=t.currentTime,a=null,o=null,s=0,c=e;s<c.length;s++){var l=c[s],o=l.ContainsAudio()?l:o,a=l.ContainsVideo()?l:o;l.BHasEnoughBuffered(i)&&(r=r||l.ContainsAudio(),n=n||l.ContainsVideo())}return r=r||null==o,!n||n&&r?a:o},e.prototype.ExtractFrameInfo=function(e){var t=0,n=0;if(e.getVideoPlaybackQuality)try{var r=e.getVideoPlaybackQuality(),n=r.totalVideoFrames,t=r.droppedVideoFrames}catch(e){Object(F.c)("Browser does not support HTMLVideoElement.getVideoPlaybackQuality()",e.message)}else e.webkitDecodedFrames?(n=e.webkitDecodedFrames,t=e.webkitDroppedFrames):e.webkitDecodedFrameCount&&(n=e.webkitDecodedFrameCount,t=e.webkitDroppedFrameCount);return{framesDecoded:n,framesDropped:t}},e.prototype.LogFrameInfo=function(e){this.m_allTimeSnapshot.m_nFramesDecoded=e.framesDecoded,this.m_allTimeSnapshot.m_nFramesDropped=e.framesDropped;var t,n=this.m_rgSnapShots[this.m_rgSnapShots.length-1];1==this.m_rgSnapShots.length?(n.m_nFramesDecoded=e.framesDecoded,n.m_nFramesDropped=e.framesDropped):(t=this.m_rgSnapShots[this.m_rgSnapShots.length-2],n.m_nFramesDecoded=e.framesDecoded-t.m_nFramesDecoded,n.m_nFramesDropped=e.framesDropped-t.m_nFramesDropped)},e.prototype.LogBufferDuration=function(e,t){for(var n=this.m_nActiveDownloads=0,r=e;n<r.length;n++){var i=r[n];i.ContainsAudio()?(this.m_nAudioBufferedMS=i.GetAmountBufferedMS(t.currentTime),this.m_audioBufferedRanges=i.GetSourceBufferTimeRanges()):i.ContainsVideo()&&(this.m_nVideoBufferedMS=i.GetAmountBufferedMS(t.currentTime),this.m_videoBufferedRanges=i.GetSourceBufferTimeRanges()),this.m_nActiveDownloads+=i.GetActiveDownloads(),i.ContainsVideo()&&(this.m_nVideoDownloadProgress=i.GetActiveDownloadProgress())}this.m_nPlaybackRate=t.playbackRate},e.prototype.CaptureActiveDownloads=function(e){for(var t=this.m_nActiveDownloads=0,n=e;t<n.length;t++){var r=n[t];this.m_nActiveDownloads+=r.GetActiveDownloads(),r.ContainsVideo()&&(this.m_nVideoDownloadProgress=r.GetActiveDownloadProgress())}},e.prototype.ReportPlayerStats=function(e,t){var n,r,i;0!=this.m_strStatsLink.length&&((n=this.ExtractFrameInfo(t)).framesDecoded!=this.m_allTimeSnapshot.m_nFramesDecoded||0!=this.m_rgSnapShots[this.m_rgSnapShots.length-1].m_nBytesReceived?(this.LogFrameInfo(n),this.LogBufferDuration(e,t),r=new y,i=this.m_rgSnapShots[this.m_rgSnapShots.length-1],r.frames_decoded=i.m_nFramesDecoded,r.frames_dropped=i.m_nFramesDropped,r.bytes_received=i.m_nBytesReceived,r.seconds_delta=Math.round((Date.now()-i.m_timeMS)/1e3),r.failed_segments=i.m_nFailedSegments,r.bw_min=i.m_nBandwidthMin,r.bw_max=i.m_nBandwidthMax,r.audio_buffer=Math.round(this.m_nAudioBufferedMS/1e3),r.video_buffer=Math.round(this.m_nVideoBufferedMS/1e3),r.seg_time_avg=Math.round(i.GetAverageDownloadTime())/1e3,r.seg_time_min=Math.round(i.m_nSegmentDownloadTimeMinMS)/1e3,r.seg_time_max=Math.round(i.m_nSegmentDownloadTimeMaxMS)/1e3,r.initial_vid_res=i.m_nInitialVideoResolution,r.ttff=this.m_nTimeToFirstFrameMS,r.seg_duration=this.m_nSegmentDurationMS,this.GatherCommonStats(r,t,this.m_nBandwidthRequired,i.GetAverageBandwidth()),this.CreateNewEmptySnapshot(t.videoHeight),this.SendReportToServer(r,this.m_strStatsLink)):this.CreateNewEmptySnapshot(t.videoHeight))},e.prototype.SendReportToServer=function(o,s){return Object(S.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(S.e)(this,function(e){for(t=new URL(s),n=new FormData,r=0,i=Object.keys(o);r<i.length;r++)a=i[r],n.append(a,o[a]);return n.append("l",t.searchParams.get("l")),n.append("e",t.searchParams.get("e")),n.append("h",t.searchParams.get("h")),Object(F.c)("CDASHStats Sending Report to Server",o),w.a.post(s,n).catch(function(e){Object(F.c)("Failed to upload stats: ",e)}),[2]})})},e.prototype.CreateNewEmptySnapshot=function(e){5<=this.m_rgSnapShots.length&&this.m_rgSnapShots.shift(),this.m_rgSnapShots.push(new B(e))},e.prototype.GatherCommonStats=function(e,t,n,r){e.steamid=this.m_steamIDViewer,e.host=this.m_host,e.playback_position=Math.round(t.currentTime),e.video_res=this.m_videoResolution,e.audio_rate=this.m_audioRate,e.audio_ch=this.m_audioChannel,e.bw_required=n,e.bw_avg=Math.round(r),e.broadcast_accountid=this.m_steamIDBroadcast?new _.a(this.m_steamIDBroadcast).GetAccountID():0,e.useragent=window.navigator.userAgent,e.sessionid=P.c.SESSIONID,e.broadcast_origin=this.m_strBroadcastOrigin},Object(S.c)([l.observable],e.prototype,"m_allTimeSnapshot",void 0),Object(S.c)([l.observable],e.prototype,"m_strBufferingVideoResolution",void 0),Object(S.c)([l.observable],e.prototype,"m_strPlaybackVideoResolution",void 0),Object(S.c)([l.observable],e.prototype,"m_strHtmlVideoDisplay",void 0),Object(S.c)([l.observable],e.prototype,"m_nBandwidthRequired",void 0),Object(S.c)([l.observable],e.prototype,"m_nCurBandwidthVideo",void 0),Object(S.c)([l.observable],e.prototype,"m_nAudioBufferedMS",void 0),Object(S.c)([l.observable],e.prototype,"m_nVideoBufferedMS",void 0),Object(S.c)([l.observable],e.prototype,"m_nActiveDownloads",void 0),Object(S.c)([l.observable],e.prototype,"m_nVideoDownloadProgress",void 0),Object(S.c)([l.observable],e.prototype,"m_videoBufferedRanges",void 0),Object(S.c)([l.observable],e.prototype,"m_audioBufferedRanges",void 0),Object(S.c)([l.observable],e.prototype,"m_nPlaybackRate",void 0),Object(S.c)([l.action],e.prototype,"SetVideoPlaybackResolution",null),Object(S.c)([l.action],e.prototype,"SetRepresentation",null),Object(S.c)([l.action],e.prototype,"SetCurrentVideoBandwidth",null),Object(S.c)([l.action],e.prototype,"CaptureFrequentlyUpdatingInformation",null),Object(S.c)([l.action],e.prototype,"LogDownload",null),Object(S.c)([l.action],e.prototype,"LogSegmentDownloadFailure",null),Object(S.c)([l.action],e.prototype,"LogFrameInfo",null),Object(S.c)([l.action],e.prototype,"LogBufferDuration",null),e}(),B=function(){function e(e){this.m_timeMS=Date.now(),this.m_nBytesReceived=0,this.m_nInitialVideoResolution=0,this.m_nFailedSegments=0,this.m_nStallEvents=0,this.m_nEntries=0,this.m_nSegmentDownloadTimeTotalMS=0,this.m_nSegmentDownloadTimeMaxMS=0,this.m_nSegmentDownloadTimeMinMS=0,this.m_nBandwidthTotal=0,this.m_nBandwidthMin=0,this.m_nBandwidthMax=0,this.m_nLastSegementDownloadStatus=200,this.m_nFramesDecoded=0,this.m_nFramesDropped=0,this.m_nInitialVideoResolution=e}return e.prototype.GetAverageBandwidth=function(){return this.m_nBandwidthTotal/Math.max(1,this.m_nEntries)},e.prototype.GetAverageDownloadTime=function(){return this.m_nSegmentDownloadTimeTotalMS/Math.max(1,this.m_nEntries)},e.prototype.GetAverageBandwidthFromTwo=function(e){return(e.m_nBandwidthTotal+this.m_nBandwidthTotal)/Math.max(1,e.m_nEntries+this.m_nEntries)},e.prototype.GetAverageDownloadTimeFromTwo=function(e){return(e.m_nSegmentDownloadTimeTotalMS+this.m_nSegmentDownloadTimeTotalMS)/Math.max(1,e.m_nEntries+this.m_nEntries)},e.prototype.SegmentReceived=function(e,t){var n;this.m_nBytesReceived+=e,e<1024||(n=Math.round(8*e*1e3/Math.max(t,1)),0==this.m_nEntries?(this.m_nSegmentDownloadTimeMinMS=t,this.m_nBandwidthMin=n):(this.m_nSegmentDownloadTimeMinMS=Math.min(t,this.m_nSegmentDownloadTimeMinMS),this.m_nBandwidthMin=Math.min(n,this.m_nBandwidthMin)),this.m_nBandwidthMax=Math.max(n,this.m_nBandwidthMax),this.m_nSegmentDownloadTimeMaxMS=Math.max(t,this.m_nSegmentDownloadTimeMaxMS),this.m_nBandwidthTotal+=n,this.m_nSegmentDownloadTimeTotalMS+=t,this.m_nEntries+=1)},Object(S.c)([l.observable],e.prototype,"m_nBytesReceived",void 0),Object(S.c)([l.observable],e.prototype,"m_nFailedSegments",void 0),Object(S.c)([l.observable],e.prototype,"m_nStallEvents",void 0),Object(S.c)([l.observable],e.prototype,"m_nSegmentDownloadTimeMaxMS",void 0),Object(S.c)([l.observable],e.prototype,"m_nSegmentDownloadTimeMinMS",void 0),Object(S.c)([l.observable],e.prototype,"m_nBandwidthMin",void 0),Object(S.c)([l.observable],e.prototype,"m_nBandwidthMax",void 0),Object(S.c)([l.observable],e.prototype,"m_nFramesDecoded",void 0),Object(S.c)([l.observable],e.prototype,"m_nFramesDropped",void 0),Object(S.c)([l.action],e.prototype,"SegmentReceived",null),e}(),A=function(){function e(){}return e.prototype.reset=function(e,t){this.bDropReading=e,this.nTotalDecodedFrames=t},e}(),I=function(){function e(){this.k_nTestFrequencyMS=1e3,this.k_nSlidingWindow=6,this.k_nDroppedFramesThreshold=1,this.k_nFailThreshold=3,this.k_nIgnoreReadingAroundResizeMS=2e3,this.m_schTracker=new m.b,this.m_rgResultsWindow=[],this.m_nLastResizeMS=0,this.m_bDroppingFrameDetected=!1,this.m_nCurrentFPS=0}return e.prototype.StartTracking=function(e){this.m_schTracker.Schedule(this.k_nTestFrequencyMS,this.TakeReading),this.m_fnRequestDecoded=e,this.m_lastFrameInfo=this.m_fnRequestDecoded(),this.m_bDroppingFrameDetected=!1},e.prototype.BHasCurrentFPS=function(){return 0!=this.m_nCurrentFPS},e.prototype.GetCurrentFPS=function(){return this.m_nCurrentFPS},e.prototype.BIsDroppingFrames=function(){return this.m_bDroppingFrameDetected},e.prototype.SetWindowResized=function(){this.m_nLastResizeMS=Date.now()},e.prototype.BIsInResizeTimeWindow=function(){return this.m_nLastResizeMS&&Date.now()-this.m_nLastResizeMS<this.k_nIgnoreReadingAroundResizeMS},e.prototype.Close=function(){this.m_schTracker.Cancel(),this.m_rgResultsWindow=[],this.m_bDroppingFrameDetected=!1},e.prototype.LogResizeAction=function(){this.m_nLastResizeMS=Date.now()},e.prototype.TakeReading=function(){this.m_schTracker.Schedule(this.k_nTestFrequencyMS,this.TakeReading);var e=!1,t=this.m_fnRequestDecoded();this.BIsInResizeTimeWindow()||(e=0<this.m_lastFrameInfo.framesDropped&&t.framesDropped-this.m_lastFrameInfo.framesDropped>this.k_nDroppedFramesThreshold),this.AppendReading(e,t.framesDecoded),this.m_bDroppingFrameDetected=this.ComputeDroppingFrames(),this.m_nCurrentFPS=t.framesDecoded-this.m_lastFrameInfo.framesDecoded-(t.framesDropped-this.m_lastFrameInfo.framesDropped),this.m_lastFrameInfo=t},e.prototype.ComputeDroppingFrames=function(){return this.m_rgResultsWindow.length==this.k_nSlidingWindow&&this.m_rgResultsWindow.filter(function(e){return e.bDropReading}).length>=this.k_nFailThreshold},e.prototype.AppendReading=function(e,t){var n=this.m_rgResultsWindow.length>=this.k_nSlidingWindow?this.m_rgResultsWindow.shift():new A;n.reset(e,t),this.m_rgResultsWindow.push(n)},Object(S.c)([l.observable],e.prototype,"m_bDroppingFrameDetected",void 0),Object(S.c)([l.observable],e.prototype,"m_nCurrentFPS",void 0),Object(S.c)([l.action.bound],e.prototype,"TakeReading",null),e}();function G(e){var t=e.getElementsByTagName("MPD");return t&&1==t.length?t[0]:null}function U(e,t){for(var n=0;n<e.children.length;n++){var r=e.children[n];if(r.tagName==t)return r}return null}function x(e,t){var n=e.getAttribute(t);if(!n)return null;var r=new Date(n);return"[object Date]"===Object.prototype.toString.call(r)?r:null}function z(e,t){var n=e.getAttribute(t);if(!n)return null;var r=0,i=n.match(/(\d*)H/);return i&&(r+=60*parseFloat(i[1])*60),(i=n.match(/(\d*)M/))&&(r+=60*parseFloat(i[1])),(i=n.match(/(\d*\.?\d*)S/))&&(r+=parseFloat(i[1])),r}function H(e,t){var n=e.getAttribute(t);return n?parseInt(n):null}function W(e,t){var n=e.getAttribute(t);return n||""}function V(e,t,n){return e=(e=e.replace("$RepresentationID$",t)).replace("$Number$",n.toString())}function j(e){return 0==e.rgRoles.length||0<=e.rgRoles.findIndex(function(e){return"main"==e})}function D(e){return e?1e3==e.segmentTemplate.nTimeScale?e.segmentTemplate.nDuration:e.segmentTemplate.nDuration/e.segmentTemplate.nTimeScale*1e3:0}function R(e,t){var n=D(e);return Math.floor(t/n)+1}var T,M,N=function(){function e(){this.m_nMinBufferTime=0,this.m_dtAvailabilityStartTime=null,this.m_dtPublishTime=null,this.m_nMinimumUpdatePeriod=0,this.m_nTimeShiftBufferDepth=0,this.m_dtMediaPresentationDuration=null,this.m_strBaseURL="",this.m_strStatsLink="",this.m_strStalledLink="",this.m_strEventLogLink="",this.m_rgPeriods=null,this.m_tsLiveContentStart=0}return e.prototype.GetType=function(){return this.m_strType},e.prototype.GetMinimumUpdatePeriod=function(){return this.m_nMinimumUpdatePeriod},e.prototype.GetAvailabilityStartTime=function(){return this.m_dtAvailabilityStartTime},e.prototype.GetPeriods=function(){return this.m_rgPeriods},e.prototype.GetBaseURL=function(){return this.m_strBaseURL},e.prototype.GetTimeShiftBufferDepth=function(){return this.m_nTimeShiftBufferDepth},e.prototype.GetMinBufferTime=function(){return this.m_nMinBufferTime},e.prototype.GetTimedTextAdaptionSet=function(e){return e<0||e>this.m_rgPeriods.length?[]:this.m_rgPeriods[e].rgAdaptationSets.filter(function(e){return e.bIsTimedText})},e.prototype.IsLiveContent=function(){return"dynamic"==this.GetType()},e.prototype.GetAdaptationByTrackID=function(e){if(!this.m_rgPeriods||0==this.m_rgPeriods.length)return null;for(var t=0,n=this.m_rgPeriods[0].rgAdaptationSets;t<n.length;t++){var r=n[t];if(e==r.strID)return r}return null},e.prototype.GetVideoAdaption=function(){for(var e=0,t=this.m_rgPeriods[0].rgAdaptationSets;e<t.length;e++){var n=t[e];if(n.bContainsVideo)return n}return null},e.prototype.GetStartTime=function(){return!this.IsLiveContent()&&0<this.m_rgPeriods.length?this.m_rgPeriods[0].nStart:0},e.prototype.GetEndTime=function(){return!this.IsLiveContent()&&0<this.m_rgPeriods.length?this.GetStartTime()+this.m_rgPeriods[0].nDuration:Number.MAX_VALUE},e.prototype.GetLowestRepresentation=function(e){var t=this.GetAdaptationByTrackID(e);if(!t)return null;for(var n=t.rgRepresentations[0],r=0,i=t.rgRepresentations;r<i.length;r++){var a=i[r];a.nBandwidth<n.nBandwidth&&(n=a)}return n},e.prototype.GetStatsLink=function(){return this.m_strStatsLink},e.prototype.GetStalledLink=function(){return this.m_strStalledLink},e.prototype.GetEventLink=function(){return this.m_strEventLogLink},e.prototype.StartLiveContentNow=function(e){this.m_tsLiveContentStart=performance.now()-e},e.prototype.GetDurationSinceStarted=function(){return performance.now()-this.m_tsLiveContentStart},e.prototype.ParseRepresentation=function(e,t){var n=t,r={strID:W(e,"id"),strMimeType:W(e,"mimeType"),strCodecs:W(e,"codecs"),nBandwidth:H(e,"bandwidth")};if(n.bContainsVideo){if(r.nWidth=H(e,"width"),r.nHeight=H(e,"height"),r.nFrameRate=H(e,"frameRate"),!(r.strID&&r.strMimeType&&r.strCodecs&&r.nBandwidth))return Object(F.c)("MPD - Representation Video Data Missing"),null}else if(n.bContainsAudio){r.nAudioSamplingRate=H(e,"audioSamplingRate");var i=U(e,"AudioChannelConfiguration");if(i&&(r.nAudioChannels=H(i,"value")),r.nAudioChannels||(r.nAudioChannels=2),!(r.strID&&r.strMimeType&&r.strCodecs&&r.nAudioSamplingRate&&r.nAudioChannels))return Object(F.c)("MPD - Representation Audio Data Missing"),null}return r},e.prototype.BParse=function(e){var t=(new DOMParser).parseFromString(e,"application/xml"),n=G(t);if(!n)return!1;var r=n.getAttribute("type");if(this.m_nMinBufferTime=z(n,"minBufferTime"),"dynamic"==r){if(this.m_strType="dynamic",this.m_dtAvailabilityStartTime=x(n,"availabilityStartTime"),this.m_dtPublishTime=x(n,"publishTime"),this.m_nMinimumUpdatePeriod=z(n,"minimumUpdatePeriod"),this.m_nTimeShiftBufferDepth=z(n,"timeShiftBufferDepth"),!(this.m_dtAvailabilityStartTime&&this.m_dtPublishTime&&this.m_nMinimumUpdatePeriod&&this.m_nMinBufferTime&&this.m_nTimeShiftBufferDepth))return!1}else{if("static"!=r)return Object(F.c)("MPD - Unknown type"),!1;if(this.m_strType="static",this.m_dtMediaPresentationDuration=x(n,"mediaPresentationDuration"),!this.m_nMinBufferTime||!this.m_dtMediaPresentationDuration)return Object(F.c)("MPD - Missing Buffer Time or Presentation Duration"),!1}var i=U(n,"BASEURL");i&&(this.m_strBaseURL=i.textContent);var a=U(n,"Analytics");a&&(this.m_strStatsLink=W(a,"statslink"),this.m_strStalledLink=W(a,"stalledlink"),this.m_strEventLogLink=W(a,"eventlink"));var o=t.getElementsByTagName("Period");if(0==o.length)return!1;var s=o[0],c={strID:W(s,"id"),nStart:z(s,"start"),nDuration:z(s,"duration"),rgAdaptationSets:[]};if(!c.strID||null===c.nStart)return Object(F.c)("MPD - Missing Period Information."),!1;this.m_rgPeriods=[],this.m_rgPeriods.push(c);for(var l,u,p=s.getElementsByTagName("AdaptationSet"),d=0;d<p.length;d++){var m=p[d],h=W(m,"description"),f=W(m,"lang"),b={bSegmentAlignment:(l="segmentAlignment",u=void 0,(u=m.getAttribute(l))?"true"==(u=u.toLowerCase())||"false"!=u&&null:null),bIsTimedText:"text/vtt"==W(m,"mimeType"),strLanguage:W(m,"lang"),bContainsVideo:!1,bContainsAudio:!1,bContainsGame:!1,strDescription:h||f,strForceSub:W(m,"forceSub"),strID:W(m,"id"),rgRoles:[],rgRepresentations:[],thumbnails:null,segmentTemplate:null};if(c.rgAdaptationSets.push(b),b.bIsTimedText){b.rgRoles.push("subtitle");for(var _=m.getElementsByTagName("Role"),v=0;v<_.length;v++){(D=W(_[v],"value"))&&"subtitle"!=D&&b.rgRoles.push(D)}for(var g=m.getElementsByTagName("Representation"),y=0;y<g.length;y++){var S={strID:W(k=g[y],"id"),nBandwidth:H(k,"bandwidth"),strClosedCaptionFile:""},w=U(k,"BaseURL"),C=w?w.textContent:"";C?(S.strClosedCaptionFile=this.m_strBaseURL+V(C,S.strID,0),"store"!=Object(P.f)()&&"dev"!=P.c.WEB_UNIVERSE||(S.strClosedCaptionFile=P.c.STORE_BASE_URL+"vtt/video/"+S.strClosedCaptionFile.substr("https://steamvideo-a.akamaihd.net/video/".length)),b.rgRepresentations.push(S)):Object(F.c)("Closed Caption File has no BaseURL for (id): "+S.strID)}}else{if(!b.bSegmentAlignment)return Object(F.c)("MPD - Segment Alignment Missing"),!1;for(var O,E,B,A=m.getElementsByTagName("ContentComponent"),I=0;I<A.length;I++){var j=W(A[I],"contentType");"video"==j&&(b.bContainsVideo=!0),"audio"==j&&(b.bContainsAudio=!0),"game"==j&&(b.bContainsGame=!0)}!b.bContainsVideo||(O=U(m,"Thumbnails"))&&(E=H(O,"sheet"),B=H(O,"period"),b.thumbnails={nPeriod:B,strTemplate:W(O,"template"),nSheet:E,nSheetSeconds:E*B});for(var D,R=m.getElementsByTagName("Role"),I=0;I<R.length;I++){(D=W(R[I],"value"))&&b.rgRoles.push(D)}var T=m.getElementsByTagName("SegmentTemplate");if(0==T.length)return Object(F.c)("MPD - Segment Template Missing"),!1;var M=T[0];b.segmentTemplate={nTimeScale:H(M,"timescale"),nDuration:H(M,"duration"),nStartNumber:H(M,"startNumber"),strMedia:W(M,"media"),strInitialization:""};var N=b.segmentTemplate;if(b.bContainsGame?N.strInitialization=N.strMedia:N.strInitialization=W(M,"initialization"),!(N.nTimeScale&&N.nDuration&&N.nStartNumber&&N.strMedia&&N.strInitialization))return Object(F.c)("MPD - Segment Template Data Missing"),!1;for(var L=m.getElementsByTagName("Representation"),I=0;I<L.length;I++){var k=L[I];if(!(S=this.ParseRepresentation(k,b)))return!1;b.rgRepresentations.push(S)}}}return!0},e.prototype.BUpdate=function(e){var t=(new DOMParser).parseFromString(e,"application/xml"),n=G(t);if(!n)return!1;if(this.IsLiveContent()){var r=t.getElementsByTagName("Period");if(0==r.length)return!1;for(var i=r[0].getElementsByTagName("AdaptationSet"),a=0;a<i.length;a++){var o=i[a],s=W(o,"id"),c=this.GetAdaptationByTrackID(s);if(c){var l=o.getElementsByTagName("SegmentTemplate");if(0==l.length)return Object(F.c)("MPD - Segment Template Missing"),!1;var u=l[0];c.segmentTemplate.strMedia=W(u,"media");var p=o.getElementsByTagName("Representation");if(1<p.length)for(var d=0;d<p.length;d++){for(var m=p[d],h=this.ParseRepresentation(m,c),f=!0,b=0,_=c.rgRepresentations;b<_.length;b++){var v=_[b];if(h.strID==v.strID){f=!1;break}}f&&c.rgRepresentations.push(h)}break}}}var g=U(n,"Analytics");return g&&(this.m_strStatsLink=W(g,"statslink"),this.m_strStalledLink=W(g,"stalledlink"),this.m_strEventLogLink=W(g,"eventlink")),!0},e}();(M=T=T||{})[M.None=0]="None",M[M.Append=1]="Append",M[M.Remove=2]="Remove";var L,k=function(){function e(e,t,n,r){this.m_callbacks=null,this.m_mpd=null,this.m_adaptation=null,this.m_mediaSource=null,this.m_sourceBuffer=null,this.m_nTrackBufferMS=0,this.m_representation=null,this.m_eBufferUpdate=T.None,this.m_rgBufferedSegments=[],this.m_bNeedInitSegment=!0,this.m_nNextSegment=0,this.m_bRemoveBufferState=!1,this.m_bSeekInProgress=!1,this.m_tsLastBufferRemove=0,this.m_schNextDownload=new m.b,this.m_xhrDownload=null,this.m_listeners=new m.c,this.m_rgDownloadLog=[],this.m_nCurDownloadProgress=0,this.m_nCurDownloadBitrate=0,this.m_nNumConsecutiveDownloadGones=0,this.m_statsGameData=null,this.m_callbacks=e,this.m_mpd=t,this.m_adaptation=n,this.m_stats=r}return e.prototype.SetMediaSource=function(e){this.m_mediaSource=e},e.prototype.SetBufferMS=function(e){this.m_nTrackBufferMS=e},e.prototype.GetRepresentationsCount=function(){return this.m_adaptation.rgRepresentations.length},e.prototype.GetRepresentationByID=function(e){for(var t=0,n=this.m_adaptation.rgRepresentations;t<n.length;t++){var r=n[t];if(r.strID==e)return r}return null},e.prototype.GetNumConsecutiveDownloadGones=function(){return this.m_nNumConsecutiveDownloadGones},e.prototype.ContainsVideo=function(){return this.m_adaptation.bContainsVideo},e.prototype.ContainsAudio=function(){return this.m_adaptation.bContainsAudio},e.prototype.ContainsGame=function(){return this.m_adaptation.bContainsGame},e.prototype.GetAdaptation=function(){return this.m_adaptation},e.prototype.GetBandwidthRequired=function(){return this.m_representation.nBandwidth},e.prototype.BIsCurrentRepresentation=function(e){return e&&e.strID==this.m_representation.strID},e.prototype.GetSourceBufferTimeRanges=function(){return this.m_sourceBuffer.buffered},e.prototype.GetEstimatedAudioRate=function(){return this.m_representation&&this.ContainsAudio()?this.m_representation.nBandwidth:0},e.prototype.GetDebugName=function(){var e=[];return this.ContainsVideo()?e.push("Video"):this.ContainsAudio()?e.push("Audio"):this.ContainsGame()&&e.push("Game"),e.join(" & ")},e.prototype.GetMaxSegment=function(){if(this.m_mpd.IsLiveContent())return Number.MAX_VALUE;var e=this.m_mpd.GetEndTime();return R(this.m_adaptation,1e3*e)-1},e.prototype.GetAmountBufferedInPlayerMS=function(e){if(!this.m_sourceBuffer)return 0;var t=this.m_sourceBuffer.buffered;if(0==t.length)return 0;e<t.start(0)&&(e=t.start(0)),e>t.end(0)&&(e=t.end(0));var n=t.end(0)-e;return Math.floor(1e3*n)},e.prototype.GetAmountBufferedMS=function(e){for(var t=this.GetAmountBufferedInPlayerMS(e),n=0,r=this.m_rgBufferedSegments;n<r.length;n++){t+=r[n].nDurationMS}return t},e.prototype.ChangeRepresentation=function(e){return this.m_adaptation.rgRepresentations.indexOf(e)<0||this.m_representation==e?null:(this.ContainsVideo()&&Object(F.c)(this.GetDebugName()+" changing representation to "+(e.nHeight||0)+"p at "+Math.ceil(e.nBandwidth/1e3)+"KB for segment "+this.m_nNextSegment),this.m_representation=e,this.m_bNeedInitSegment=!this.ContainsGame(),this.m_stats.SetRepresentation(e),this.ContainsGame()||this.m_sourceBuffer||(t=e.strMimeType+";codecs="+e.strCodecs,this.m_sourceBuffer=this.m_mediaSource.addSourceBuffer(t),Object(F.c)(t),this.m_listeners.AddEventListener(this.m_sourceBuffer,"updateend",this.OnSourceBufferUpdateEnd),this.m_listeners.AddEventListener(this.m_sourceBuffer,"error",this.OnSourceBufferError),this.m_listeners.AddEventListener(this.m_sourceBuffer,"abort",this.OnSourceBufferAbort)),e);var t},e.prototype.Close=function(){this.m_listeners.Unregister(),this.m_sourceBuffer=null,this.ForceStopDownloads(),this.m_eBufferUpdate=T.None,this.m_bRemoveBufferState=!1,this.m_callbacks=null,this.m_mpd=null,this.m_adaptation=null,this.m_mediaSource=null,this.m_nTrackBufferMS=0,this.m_representation=null,this.m_rgBufferedSegments=[],this.m_bNeedInitSegment=!0,this.m_nNextSegment=0,this.m_bSeekInProgress=!1,this.m_tsLastBufferRemove=0,this.m_rgDownloadLog=[],this.m_stats=null,this.m_rgGameDataFrames=[],this.m_statsGameData=null},e.prototype.GetActiveDownloads=function(){return this.m_xhrDownload?1:0},e.prototype.GetActiveDownloadProgress=function(){return this.GetActiveDownloads()?this.m_nCurDownloadProgress:0},e.prototype.OnSourceBufferUpdateEnd=function(e){var t=this.m_callbacks.GetCurrentPlayTime(),n=this.GetAmountBufferedInPlayerMS(t);Object(F.c)(this.GetDebugName()+" OnSourceBufferUpdateEnd: [playback="+t+"][buffered="+n+"][start="+this.GetBufferedStart()+"][end="+this.GetBufferedEnd()+"]");var r=this.m_eBufferUpdate;this.m_eBufferUpdate=T.None,r==T.Append&&this.m_callbacks.OnSegmentDownloaded(this),this.m_bSeekInProgress&&r==T.Remove&&!this.m_bRemoveBufferState&&this.ContinueSeek(),this.UpdateBuffer()},e.prototype.OnSourceBufferError=function(e){console.log("OnSourceBufferError")},e.prototype.OnSourceBufferAbort=function(e){console.log("OnSourceBufferAbort")},e.prototype.ScheduleNextDownload=function(){if(this.m_bNeedInitSegment)this.DownloadNextSegment();else if(this.m_schNextDownload.Cancel(),this.m_xhrDownload)Object(F.c)(this.GetDebugName()+" ScheduleNextDownload - download already going");else if(this.m_bSeekInProgress)Object(F.c)(this.GetDebugName()+" ScheduleNextDownload - seeking");else if(this.m_nNextSegment>this.GetMaxSegment())Object(F.c)(this.GetDebugName()+" ScheduleNextDownload - reached max segment");else{var e=this.m_callbacks.GetCurrentPlayTime(),t=this.m_callbacks.GetPlaybackRate(),n=function(e,t,n){if(!e.IsLiveContent())return 0;var r=D(t);return(n-t.segmentTemplate.nStartNumber)*r-e.GetDurationSinceStarted()}(this.m_mpd,this.m_adaptation,this.m_nNextSegment);if(0<n)return Object(F.c)(this.GetDebugName()+" ScheduleNextDownload - segment in future"),void this.m_schNextDownload.Schedule(n,this.ScheduleNextDownload);var r=this.GetAmountBufferedMS(e);if(1<t&&(r/=t),r<4e4)return Object(F.c)(this.GetDebugName()+" ScheduleNextDownload - download now"),void this.DownloadNextSegment();var i=1.1*D(this.m_adaptation),a=this.GetAmountBufferedInPlayerMS(this.m_callbacks.GetCurrentPlayTime());Object(F.c)(this.GetDebugName()+" ScheduleNextDownload - buffered, schedule later [sleep="+i+"ms][buffer="+a+"]"),this.m_schNextDownload.Schedule(i,this.ScheduleNextDownload)}},e.prototype.DownloadNextSegment=function(){this.m_schNextDownload.Cancel();var e,t,n,r,i,a,o,s="",c=0;if(this.m_bNeedInitSegment)this.m_bNeedInitSegment=!1,i=this.m_mpd.GetBaseURL(),a=this.m_adaptation,o=this.m_representation,s=V(i+a.segmentTemplate.strInitialization,o.strID,0),c=0;else{if(this.m_nNextSegment<0)return void console.error("Attempting to download negative segment:",this.m_nNextSegment);e=this.m_mpd.GetBaseURL(),t=this.m_adaptation,n=this.m_representation,r=this.m_nNextSegment,s=V(e+t.segmentTemplate.strMedia,n.strID,r),c=D(this.m_adaptation),this.m_nNextSegment++}this.DownloadSegment(this.m_representation.strID,s,c)},e.prototype.DownloadSegment=function(_,v,g,y){return void 0===y&&(y=performance.now()),Object(S.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,p,d,m,h,f,b=this;return Object(S.e)(this,function(e){switch(e.label){case 0:Object(C.a)(null===this.m_xhrDownload,"Trying to download another segment while a download is already in flight"),this.m_schNextDownload.Cancel(),(t=this.m_callbacks.GetCDNAuthURLParameter())&&(v+=t),Object(F.c)("Downloading: "+v),n=null,r=performance.now(),i=w.a.CancelToken.source(),e.label=1;case 1:return e.trys.push([1,3,,4]),this.m_nCurDownloadProgress=0,this.m_xhrDownload=i,a={cancelToken:this.m_xhrDownload.token,timeout:15e3,responseType:"arraybuffer",onDownloadProgress:function(e){b.m_nCurDownloadProgress=e.loaded/e.total,b.m_nCurDownloadBitrate=8*e.loaded*1e3/Math.max(1,performance.now()-r)}},this.ContainsGame()&&(a.responseType="json"),[4,w.a.get(v,a)];case 2:return n=e.sent(),[3,4];case 3:return o=e.sent(),Object(F.c)("Failed to download segment: "+o),n=o.response,[3,4];case 4:return this.m_xhrDownload&&this.m_xhrDownload==i?(s=performance.now(),c=Math.floor(performance.now()-r),l=n?n.status:0,this.m_xhrDownload=null,this.m_bSeekInProgress?(this.ContinueSeek(),[2]):n&&200==n.status?(this.m_nNumConsecutiveDownloadGones=0,this.ContainsGame()?(d=n.data,this.m_rgGameDataFrames||(this.m_rgGameDataFrames=[]),m=Number.MIN_VALUE,h=Number.MIN_VALUE,0<this.m_rgGameDataFrames.length&&(m=this.m_rgGameDataFrames[this.m_rgGameDataFrames.length-1].pts,h=this.m_rgGameDataFrames[this.m_rgGameDataFrames.length-1].gdi),(f=d.frame)&&(f.pts&&f.gamedata&&f.gdi?f.pts<=m?Object(F.c)("Invalid game pts"):f.gdi!=h&&this.m_rgGameDataFrames.push(f):Object(F.c)("Invalid game data")),this.TrimGameDataIfNecessary(),this.m_statsGameData={nAppID:d.appid,ulBroadcastRelayID:d.broadcastrelayid,nSegmentID:d.segmentid}):(u=new Uint8Array(n.data),this.m_rgBufferedSegments.push({nDurationMS:g,data:u,representationStrID:_}),this.LogDownload(r,u.length),this.UpdateBuffer(),p=u.length/1e3,Object(F.c)("HTTP "+l+" ("+c+"ms, "+Math.floor(p)+"k): "+v)),this.ScheduleNextDownload(),[2]):this.ContainsGame()?(this.ScheduleNextDownload(),[2]):(this.m_stats.LogSegmentDownloadFailure(c,n?n.status:444),9e3<s-y?(Object(F.c)(this.GetDebugName()+" HTTP download failed.. stopping loader: "+(s-y)+"ms"),this.DownloadFailed()):410==l?(this.m_nNumConsecutiveDownloadGones+=1,Object(F.c)(this.GetDebugName()+" HTTP download gone.. informing the player: "+(s-y)+"ms"),this.DownloadGone()):this.m_schNextDownload.Schedule(500,function(){return b.DownloadSegment(_,v,g,y)}),[2])):[2]}})})},e.prototype.DownloadFailed=function(){this.m_callbacks.OnSegmentDownloadFailed(this)},e.prototype.DownloadGone=function(){this.m_callbacks.OnSegmentDownloadGone(this)},e.prototype.TrimGameDataIfNecessary=function(){},e.prototype.UpdateBuffer=function(){if(this.m_eBufferUpdate==T.None)if(this.m_bRemoveBufferState)this.RemoveAllBuffers();else if(this.m_sourceBuffer)if(0<this.m_rgBufferedSegments.length)try{this.m_eBufferUpdate=T.Append;var e=this.m_rgBufferedSegments[0];this.m_sourceBuffer.appendBuffer(e.data),this.m_rgBufferedSegments.splice(0,1)}catch(e){"QuotaExceededError"===e.name?(this.m_eBufferUpdate=T.None,Object(F.c)(this.GetDebugName()+" Buffer - QuotaExceededError")):Object(F.c)(this.GetDebugName()+" Buffer - Exception",e)}else{var t=performance.now();if(!this.m_bSeekInProgress&&1e4<t-this.m_tsLastBufferRemove){var n=this.GetBufferedStart(),r=this.m_callbacks.GetCurrentPlayTime()-40;if(n<r){var i=Math.min(this.GetBufferedEnd(),r);return void(i!=n&&(this.m_eBufferUpdate=T.Remove,this.m_sourceBuffer.remove(n,i),this.m_tsLastBufferRemove=t))}}}else Object(F.c)("No source buffer?")},e.prototype.RemoveAllBuffers=function(){this.m_rgBufferedSegments=[];var e=0;if(this.m_sourceBuffer)for(var t=this.m_sourceBuffer.buffered,n=0;n<t.length;n++)e<t.end(n)&&(e=t.end(n));this.m_bRemoveBufferState=!1,this.m_eBufferUpdate=T.Remove,0!=e?this.m_sourceBuffer.remove(0,e+1):this.OnSourceBufferUpdateEnd(null)},e.prototype.GetBufferedStart=function(){return this.m_sourceBuffer&&this.m_sourceBuffer.buffered&&0!=this.m_sourceBuffer.buffered.length?this.m_sourceBuffer.buffered.start(0):0},e.prototype.GetBufferedEnd=function(){return this.m_sourceBuffer&&this.m_sourceBuffer.buffered&&0!=this.m_sourceBuffer.buffered.length?this.m_sourceBuffer.buffered.end(0):0},e.prototype.ForceStopDownloads=function(){this.m_schNextDownload.Cancel(),this.m_xhrDownload&&(this.m_xhrDownload.cancel(),this.m_xhrDownload=null)},e.prototype.ForceRestartDownload=function(){this.ForceStopDownloads(),this.ScheduleNextDownload()},e.prototype.Seek=function(e){var t=this.GetBufferedStart(),n=this.GetBufferedEnd(),r=0==t&&0==n?!0:e<t||n<e;if(Object(F.c)(this.GetDebugName()+" making an "+(r?"unbuffered":"buffered")+" seek to "+e),this.m_bSeekInProgress||r||this.m_bNeedInitSegment){this.m_bSeekInProgress=!0,this.ForceStopDownloads();var i=R(this.m_adaptation,1e3*e);if(this.m_nNextSegment=Math.min(i,this.GetMaxSegment()),Object(F.c)("Seek To Next Segment: "+this.m_nNextSegment+" at approx. "+Object(F.d)((this.m_nNextSegment-1)*D(this.m_adaptation)/1e3)+" seconds."),this.ContainsGame())return this.m_bSeekInProgress=!1,this.m_rgGameDataFrames=[],void this.ScheduleNextDownload();this.m_bRemoveBufferState=!0,this.UpdateBuffer()}else this.ScheduleNextDownload()},e.prototype.ContinueSeek=function(){this.m_bSeekInProgress&&(this.m_eBufferUpdate==T.Remove||this.m_bRemoveBufferState||(this.m_bSeekInProgress=!1,this.ScheduleNextDownload()))},e.prototype.BHasEnoughBuffered=function(e){return!this.m_bSeekInProgress&&(!!this.ContainsGame()||(this.GetAmountBufferedInPlayerMS(e)>=this.m_nTrackBufferMS||this.m_nNextSegment>=this.GetMaxSegment()))},e.prototype.LogDownload=function(e,t){4<=this.m_rgDownloadLog.length&&this.m_rgDownloadLog.shift();var n=performance.now()-e;n<=0||(this.m_rgDownloadLog.push({cubData:t,nDownloadMS:n}),this.m_stats.LogDownload(t,n))},e.prototype.GetDownloadHistory=function(){return this.m_rgDownloadLog},e.prototype.GetAvgDownloadRate=function(){for(var e=0,t=0,n=0,r=this.m_rgDownloadLog;n<r.length;n++){var i=r[n];e+=i.nDownloadMS,t+=i.cubData}return e<=0?this.m_nCurDownloadBitrate&&0<this.GetActiveDownloads()?this.m_nCurDownloadBitrate:0:8*t*1e3/e},e.prototype.GetGameDataFrames=function(){return this.m_rgGameDataFrames},e.prototype.GetLatestGameDataFrameAppID=function(){return this.m_statsGameData&&this.m_statsGameData.nAppID?this.m_statsGameData.nAppID:0},Object(S.c)([s.a],e.prototype,"OnSourceBufferUpdateEnd",null),Object(S.c)([s.a],e.prototype,"OnSourceBufferError",null),Object(S.c)([s.a],e.prototype,"OnSourceBufferAbort",null),Object(S.c)([s.a],e.prototype,"ScheduleNextDownload",null),Object(S.c)([s.a],e.prototype,"DownloadNextSegment",null),Object(S.c)([s.a],e.prototype,"DownloadFailed",null),Object(S.c)([s.a],e.prototype,"DownloadGone",null),e}();(L={})[L.HAVE_NOTHING=0]="HAVE_NOTHING",L[L.HAVE_METADATA=1]="HAVE_METADATA",L[L.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",L[L.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",L[L.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";var q=function(){function e(e,t){void 0===t&&(t=!1),this.m_elVideo=null,this.m_strMPD="",this.m_strHLS="",this.m_strCDNAuthURLParameters=null,this.m_schUpdateMPD=new m.b,this.m_bUseHLSManifest=!1,this.m_strVideoAdaptationID="",this.m_strAudioAdaptationID="",this.m_strGameAdaptationID="",this.m_rgLoaders=[],this.m_mediaSource=null,this.m_nTrackBufferMS=0,this.m_nLimitFPS=0,this.m_bIsBuffering=!0,this.m_nSeekingToTime=-1,this.m_listeners=new m.c,this.m_bFirstPlay=!0,this.m_schGameDataEventTrigger=new m.b,this.m_schReportPlayerTrigger=new m.b,this.m_nGameDataLastFramePTS=-1,this.m_bStatsViewVisible=!1,this.m_schCaptureDisplayStatsTrigger=new m.b,this.m_videoRepSelected=null,this.m_nAudioRepresentationIndex=0,this.m_timedTextRepSelected=null,this.m_stats=new E,this.m_bClosing=!1,this.m_hlsTimeOffset=0,this.m_bUserPlayChoice=!0,this.m_bUserLiveEdgeChoice=!0,this.m_schFirstFrameThrottler=new m.b,this.m_bookMarkAdapter=null,this.m_schBookmarkUpdater=new m.b,this.m_elVideo=e,this.m_schReportPlayerTrigger.Schedule(3e4,this.ReportPlayerStats),this.m_bUseHLSManifest=t}return e.prototype.CalcVideoStartRelativeToSystemClock=function(e){var t=(e?new Date(e).getTime():Date.now())-this.m_mpd.GetAvailabilityStartTime().getTime();this.m_mpd.StartLiveContentNow(t),Object(F.c)("server time: "+e)},e.prototype.PlayMPD=function(r,i,a){return Object(S.b)(this,void 0,void 0,function(){var t,n=this;return Object(S.e)(this,function(e){switch(e.label){case 0:return this.m_strMPD=r,this.m_strHLS=a,this.m_strCDNAuthURLParameters=i,[4,this.DownloadMPD()];case 1:return(t=e.sent())?(this.m_mpd=new N,this.m_mpd.BParse(t.data)?(this.IsLiveContent()&&(0<this.m_mpd.GetMinimumUpdatePeriod()&&this.m_schUpdateMPD.Schedule(1e3*this.m_mpd.GetMinimumUpdatePeriod(),this.UpdateMPD),this.CalcVideoStartRelativeToSystemClock(t.headers.date)),this.m_bUseHLSManifest?(this.m_elVideo.src=this.m_strHLS,this.m_elVideo.addEventListener("loadedmetadata",function(){n.m_bIsBuffering=!1,n.BeginPlayback()}),document.addEventListener("visibilitychange",this.OnVisibilityChange)):this.BCreateLoaders()?(this.m_stats.SetSegmentDurationMS(D(this.GetCurrentVideoAdaptation())),this.m_stats.SetAnalyticLinks(this.m_mpd.GetStatsLink(),this.m_mpd.GetStalledLink(),this.m_mpd.GetEventLink()),this.m_stats.SetVideoInitializationURL(this.GetCurrentVideoAdaptation().segmentTemplate.strInitialization),this.InitVideoControl(),this.InitTimedText()):this.CloseWithError("playbackerror","Failed to create segment loaders"),[2]):(this.CloseWithError("playbackerror","Failed to parse MPD file",this.m_strMPD),[2])):[2]}})})},e.prototype.InitTimedText=function(){var r=this,i=!0;this.m_mpd.GetTimedTextAdaptionSet(0).forEach(function(e){var t,n=Object(p.h)(P.c.LANGUAGE);0<e.rgRepresentations.length&&e.rgRepresentations[0].strClosedCaptionFile&&h.d[e.strLanguage]&&((t=document.createElement("track")).kind="subtitles",t.label=Object(h.f)("#Language_"+Object(p.e)(h.d[e.strLanguage])),t.srclang=e.strLanguage,t.src=e.rgRepresentations[0].strClosedCaptionFile,0!=n&&h.d[e.strLanguage]==n&&(t.default=!0,r.m_timedTextRepSelected=e.rgRepresentations[0],i=!1),r.m_elVideo.appendChild(t),i&&(t.addEventListener("load",function(){r.m_elVideo.textTracks&&0<r.m_elVideo.textTracks.length&&(r.m_elVideo.textTracks[0].mode="disabled")}),i=!1))})},e.prototype.SetSubtitles=function(r){for(var i=null,a=this,e=0;e<this.m_elVideo.textTracks.length;e++)!function(e){var t,n=a.m_elVideo.textTracks[e];h.d[n.language]==r?((t=a.GetTimeTextAdaptions(0).filter(function(e){return e.strLanguage==n.language}))&&0<t.length&&t[0].rgRepresentations&&(i=t[0].rgRepresentations[0]),n.mode="showing"):n.mode="disabled"}(e);this.m_timedTextRepSelected=i},e.prototype.PlayWebRTC=function(e,t,n,r,i){},e.prototype.OnVisibilityChange=function(){"visible"===document.visibilityState&&(this.m_elVideo.src=this.m_strHLS)},e.prototype.Close=function(){if(this.m_bClosing=!0,this.m_listeners.Unregister(),this.m_bUseHLSManifest&&document.removeEventListener("visibilitychange",this.OnVisibilityChange),this.StopDownloads(),this.m_elVideo&&this.m_elVideo.pause(),this.m_mediaSource){try{"closed"!=this.m_mediaSource.readyState&&this.m_mediaSource.endOfStream()}catch(e){}this.m_mediaSource=null}this.m_bIsBuffering=!0,this.m_elVideo=null,this.m_strMPD="",this.m_mpd=null,this.m_bUseHLSManifest=!1,this.m_strVideoAdaptationID="",this.m_strAudioAdaptationID="",this.m_strGameAdaptationID="",this.m_nTrackBufferMS=0,this.m_nLimitFPS=0,this.m_nSeekingToTime=-1,this.m_nGameDataLastFramePTS=-1,this.m_bStatsViewVisible=!1,this.m_videoRepSelected=null,this.m_nAudioRepresentationIndex=0,this.m_stats&&this.m_stats.GetFPSMonitor().Close(),this.m_stats=null,this.m_bFirstPlay=!0},e.prototype.StopDownloads=function(){this.m_xhrUpdateMPD&&(this.m_xhrUpdateMPD.cancel(),this.m_xhrUpdateMPD=null),this.m_schUpdateMPD.Cancel(),this.m_schGameDataEventTrigger.Cancel(),this.m_schReportPlayerTrigger.Cancel(),this.m_schCaptureDisplayStatsTrigger.Cancel(),this.m_schFirstFrameThrottler.Cancel(),this.m_schBookmarkUpdater.Cancel(),this.m_elVideo&&1!=this.m_elVideo.playbackRate&&(this.m_elVideo.playbackRate=1);for(var e=0,t=this.m_rgLoaders;e<t.length;e++){t[e].Close()}this.m_bIsBuffering=!0},e.prototype.IsBuffering=function(){return this.m_bIsBuffering},e.prototype.IsLiveContent=function(){return!!this.m_mpd&&this.m_mpd.IsLiveContent()},e.prototype.DownloadMPD=function(){return Object(S.b)(this,void 0,void 0,function(){var t,n,r;return Object(S.e)(this,function(e){switch(e.label){case 0:if(this.m_xhrUpdateMPD)return Object(C.a)(!1,"Multiple MPD download requests"),[2,null];t=performance.now(),e.label=1;case 1:if(!(performance.now()-t<3e4))return[3,7];n=null,e.label=2;case 2:return e.trys.push([2,4,,5]),this.m_xhrUpdateMPD=w.a.CancelToken.source(),r=this.m_strMPD+(this.m_strCDNAuthURLParameters?this.m_strCDNAuthURLParameters:""),[4,w.a.get(r,{cancelToken:this.m_xhrUpdateMPD.token})];case 3:return n=e.sent(),[3,5];case 4:return e.sent(),[3,5];case 5:return(this.m_xhrUpdateMPD=null,this.m_bClosing)?[2,null]:n&&200==n.status?[2,n]:n&&410==n.status?(this.CloseWithError("playbackerror","Failed to download MPD: 410 Gone"),[2,null]):(Object(F.c)("Failed to download, will retry: "+this.m_strMPD),[4,Object(b.h)(200)]);case 6:return e.sent(),[3,1];case 7:return Object(F.c)("Failed to download: "+this.m_strMPD),[2,null]}})})},e.prototype.UpdateMPD=function(){return Object(S.b)(this,void 0,void 0,function(){var t;return Object(S.e)(this,function(e){switch(e.label){case 0:return[4,this.DownloadMPD()];case 1:return(t=e.sent())?(this.m_mpd.BUpdate(t.data)?(this.CalcVideoStartRelativeToSystemClock(t.headers.date),this.m_stats.SetAnalyticLinks(this.m_mpd.GetStatsLink(),this.m_mpd.GetStalledLink(),this.m_mpd.GetEventLink()),0<this.m_mpd.GetMinimumUpdatePeriod()&&this.m_schUpdateMPD.Schedule(1e3*this.m_mpd.GetMinimumUpdatePeriod(),this.UpdateMPD)):this.CloseWithError("playbackerror","Failed to parse on Update the MPD file"),[2]):[2]}})})},e.prototype.CloseWithError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.Close(),F.c.apply(void 0,t)},e.prototype.BCreateLoaders=function(){var e=this.m_mpd.GetPeriods();if(0==e.length)return!1;var t=e[0];this.m_strVideoAdaptationID="",this.m_strAudioAdaptationID="",this.m_strGameAdaptationID="";for(var n=0,r=t.rgAdaptationSets;n<r.length;n++){var i,a=r[n],o=null;!this.m_strVideoAdaptationID&&a.bContainsVideo&&j(a)&&(o=a,this.m_strVideoAdaptationID=a.strID),!this.m_strAudioAdaptationID&&a.bContainsAudio&&j(a)&&(o=a,this.m_strAudioAdaptationID=a.strID),!this.m_strGameAdaptationID&&a.bContainsGame&&(o=a,this.m_strGameAdaptationID=a.strID),o&&(i=new k(this,this.m_mpd,o,this.m_stats),this.m_rgLoaders.push(i))}return 0<this.m_strVideoAdaptationID.length},e.prototype.InitVideoControl=function(){var e=new MediaSource,t=URL.createObjectURL(e);this.m_elVideo.pause(),this.m_elVideo.srcObject=null,this.m_elVideo.src=t,this.m_mediaSource=e,this.m_listeners.AddEventListener(e,"sourceopen",this.OnMediaSourceOpen),this.m_listeners.AddEventListener(e,"sourceended",this.OnMediaSourceEnded),this.m_listeners.AddEventListener(e,"sourceclose",this.OnMediaSourceClose),this.m_listeners.AddEventListener(this.m_elVideo,"waiting",this.OnVideoWaiting),this.m_listeners.AddEventListener(this.m_elVideo,"error",this.OnVideoError),this.m_listeners.AddEventListener(this.m_elVideo,"canplay",this.OnVideoCanPlay),this.m_listeners.AddEventListener(this.m_elVideo,"pause",this.OnVideoPause),this.m_listeners.AddEventListener(this.m_elVideo,"resize",this.OnVideoResize),this.m_listeners.AddEventListener(this.m_elVideo,"valve-bufferupdate",this.OnVideoTimeUpdate),this.m_listeners.AddEventListener(this.m_elVideo,"timeupdate",this.OnVideoTimeUpdate),this.m_listeners.AddEventListener(this.m_elVideo,"play",this.OnPlayAction)},e.prototype.OnMediaSourceOpen=function(e){Object(F.c)("OnMediaSourceOpen");for(var t=0,n=this.m_rgLoaders;t<n.length;t++){n[t].SetMediaSource(this.m_mediaSource)}this.BeginPlayback()},e.prototype.OnMediaSourceEnded=function(e){Object(F.c)("OnMediaSourceEnded")},e.prototype.OnMediaSourceClose=function(e){Object(F.c)("OnMediaSourceClose")},e.prototype.OnVideoWaiting=function(e){if(!this.IsLiveContent()&&this.m_mpd&&this.m_mpd.GetEndTime()-this.GetCurrentPlayTime()<1)this.Pause();else if(!this.BIsPlayerBufferedBetween(this.m_elVideo.currentTime,this.m_elVideo.currentTime+.5)){if(this.m_elVideo&&1<this.m_elVideo.buffered.length)for(var t=this.m_elVideo.currentTime,n=this.m_elVideo.buffered,r=0;r<n.length;++r)if(Object(F.c)("OnVideoWaiting buffer "+r+" start:"+n.start(r)+" end: "+n.end(r)+" playerTime: "+t),n.start(r)<=t&&t<=n.end(r))return Object(F.c)("OnVideoWaiting - time splitting, jumping to buffer "+r),void this.Seek(n.start(r));var i,a,o;this.m_stats.ReportVideoStalled(this.m_rgLoaders,this.m_elVideo),null===this.m_videoRepSelected?(i=!0,(a=this.GetVideoLoader())&&((o=this.m_mpd.GetLowestRepresentation(this.GetCurrentVideoAdaptation().strID))&&!a.BIsCurrentRepresentation(o)&&(a.ChangeRepresentation(o),Object(F.c)("OnVideoWaiting - Stalled, forced restart download at resolution: "+o.nWidth+"x"+o.nHeight+"@"+o.nFrameRate+" instead"),i=!1),this.Seek(this.m_elVideo.currentTime)),i&&Object(F.c)("OnVideoWaiting - Stalled, already at lowest resolution. No action taken. BHasLoader: "+(null!=a))):Object(F.c)("OnVideoWaiting - Stalled, user explicitly chose a resolution: "+this.m_videoRepSelected.nWidth+"x"+this.m_videoRepSelected.nHeight+"@"+this.m_videoRepSelected.nFrameRate)}},e.prototype.OnVideoPause=function(e){this.OnVideoBufferProgress(),this.m_stats.GetFPSMonitor().Close(),this.SendUpdateToBookmarkServiceIfNeeded()},e.prototype.OnVideoResize=function(e){this.m_stats.GetFPSMonitor().SetWindowResized()},e.prototype.OnDebugPrintEventInfoAndAvailableBuffer=function(e){var t=-1,n=this.GetVideoLoader();this.m_elVideo&&n&&(t=n.GetAmountBufferedInPlayerMS(this.m_elVideo.currentTime)),Object(F.c)("DebugMessage - Stats: "+e.type+" BufferedMS: "+t)},e.prototype.OnVideoError=function(e){Object(F.c)("OnVideoError")},e.prototype.OnVideoCanPlay=function(e){this.m_bIsBuffering||(this.m_bUserPlayChoice&&this.PlayOnElement(),this.m_stats.LogVideoOnCanPlay(e))},e.prototype.GetCurrentPlayTime=function(){return-1!=this.m_nSeekingToTime?this.m_nSeekingToTime:this.m_bUseHLSManifest&&this.m_mpd?(0<this.m_elVideo.currentTime&&0===this.m_hlsTimeOffset&&(this.m_hlsTimeOffset=this.GetBufferedLiveEdgeTime()-this.m_elVideo.currentTime),this.m_elVideo.currentTime+this.m_hlsTimeOffset):this.m_elVideo.currentTime},e.prototype.OnVideoTimeUpdate=function(){var e,t;this.m_bUserLiveEdgeChoice&&this.IsLiveContent()&&(e=this.GetBufferedLiveEdgeTime(),1==this.m_elVideo.playbackRate&&this.m_elVideo.currentTime<=e-4.5&&this.BIsPlayerBufferedBetween(this.m_elVideo.currentTime,e)?(t=e-this.m_elVideo.currentTime,this.m_elVideo.playbackRate=1.1,Object(F.c)("User is behind by "+t.toFixed(2)+" seconds, increasing playback speed to catch-up to live edge.")):1.1==this.m_elVideo.playbackRate&&this.m_elVideo.currentTime>=e-1&&(this.m_elVideo.playbackRate=1,Object(F.c)("User is caught up, returning to normal playrate")))},e.prototype.SetBookmarkAdapter=function(e){this.m_bookMarkAdapter=e},e.prototype.SendUpdateToBookmarkServiceIfNeeded=function(){var e,t,n,r,i,a,o;this.m_bookMarkAdapter&&(e=this.m_elVideo.currentTime,n=(t=this.GetCurrentVideoAdaptation())&&t.strID?t.strID:null,i=(r=this.GetCurrentAudioAdaptationfunction())&&r.strID?r.strID:null,o=(a=this.GetCurrentTimedTextRepresentation())&&a.strID?a.strID:null,this.m_bookMarkAdapter.SetBookmark(0<=e?e:0,n,i,o),this.IsPaused()?this.m_schBookmarkUpdater.Cancel():this.m_schBookmarkUpdater.Schedule(6e4,this.SendUpdateToBookmarkServiceIfNeeded))},e.prototype.GetCurrentTimedTextRepresentation=function(){return this.m_timedTextRepSelected},e.prototype.OnPlayAction=function(){this.SendUpdateToBookmarkServiceIfNeeded()},e.prototype.BIsPlayerBufferedBetween=function(e,t){return 0<this.m_elVideo.buffered.length&&e>=this.m_elVideo.buffered.start(0)&&t<=this.m_elVideo.buffered.end(0)},e.prototype.GetLiveContentStartTime=function(){return this.m_mpd.GetAvailabilityStartTime()},e.prototype.GetTimeTextAdaptions=function(e){return this.m_mpd?this.m_mpd.GetTimedTextAdaptionSet(e):[]},e.prototype.GetAvailableVideoStartTime=function(){if(!this.m_mpd)return 0;var e,t,n;return this.IsLiveContent()?(e=Math.floor(this.m_mpd.GetDurationSinceStarted()/1e3),t=this.GetBufferedLiveEdgeTime(),n=this.m_mpd.GetTimeShiftBufferDepth(),f.a(e-n+10,0,t)):this.m_mpd.GetStartTime()},e.prototype.GetBufferedLiveEdgeTime=function(){if(!this.m_mpd)return 0;return this.IsLiveContent()?Math.floor((this.m_mpd.GetDurationSinceStarted()-this.m_nTrackBufferMS)/1e3):this.m_mpd.GetEndTime()},e.prototype.IsPaused=function(){return this.m_elVideo.paused},e.prototype.Play=function(){this.m_bUserPlayChoice=!0,!this.IsLiveContent()&&this.m_mpd&&this.m_mpd.GetEndTime()-this.GetCurrentPlayTime()<1?this.Seek(this.m_mpd.GetStartTime()):this.Seek(this.GetCurrentPlayTime())},e.prototype.Pause=function(){this.m_bUserLiveEdgeChoice=!1,1.1==this.m_elVideo.playbackRate&&(this.m_elVideo.playbackRate=1),this.m_bUserPlayChoice=!1,this.m_elVideo.pause()},e.prototype.GetPlaybackRate=function(){return this.m_elVideo.paused?0:this.m_elVideo.playbackRate},e.prototype.GetCDNAuthURLParameter=function(){return this.m_strCDNAuthURLParameters},e.prototype.OnSegmentDownloaded=function(e){Object(F.c)(e.GetDebugName()+" OnSegmentDownloaded"),this.UpdateVideoRepresentation(this.m_videoRepSelected),this.OnVideoBufferProgress(),e==this.GetVideoLoader()&&this.m_stats.SetCurrentVideoBandwidth(e.GetAvgDownloadRate())},e.prototype.PlayOnElement=function(){var t=this,n=this.m_bFirstPlay;this.m_bFirstPlay=!1;var e=this.m_elVideo.play();e?e.then(function(){t.m_stats.GetFPSMonitor().StartTracking(function(){return t.m_stats.ExtractFrameInfo(t.m_elVideo)})}).catch(function(e){n&&t.DispatchEvent("valve-userinputneeded")}):this.m_stats.GetFPSMonitor().StartTracking(function(){return t.m_stats.ExtractFrameInfo(t.m_elVideo)})},e.prototype.OnVideoBufferProgress=function(){if(this.IsBuffering()){for(var e=0<this.m_rgLoaders.length,t=-1!=this.m_nSeekingToTime?this.m_nSeekingToTime:0,n=0,r=this.m_rgLoaders;n<r.length;n++){var i=r[n];if(!i.BHasEnoughBuffered(t)){e=!1;break}t=Math.max(t,i.GetBufferedStart())}e&&(this.m_bIsBuffering=!1,this.m_nSeekingToTime=-1,this.m_elVideo.currentTime!=t?this.m_elVideo.currentTime=t:this.m_elVideo.paused&&this.m_bUserPlayChoice&&this.PlayOnElement(),this.DispatchEvent("valve-bufferupdate"))}},e.prototype.OnSegmentDownloadFailed=function(e){this.StopDownloads(),this.DispatchEvent("valve-downloadfailed")},e.prototype.OnSegmentDownloadGone=function(e){this.m_bIsBuffering&&e.GetNumConsecutiveDownloadGones()<=3?this.Seek(this.GetCurrentPlayTime()+D(this.GetCurrentVideoAdaptation())/1e3):(Object(F.c)("OnSegmentDownloadGone: too many consecutive 'gone', erroring the download: "+e.GetNumConsecutiveDownloadGones()),this.OnSegmentDownloadFailed(e))},e.prototype.GetCurrentAudioAdaptationfunction=function(){return this.m_mpd?this.m_mpd.GetAdaptationByTrackID(this.m_strAudioAdaptationID):null},e.prototype.GetCurrentVideoAdaptation=function(){return this.m_mpd?this.m_mpd.GetAdaptationByTrackID(this.m_strVideoAdaptationID):null},e.prototype.GetVideoLoader=function(){for(var e=0,t=this.m_rgLoaders;e<t.length;e++){var n=t[e];if(n.ContainsVideo())return n}return null},e.prototype.GetAudioLoader=function(){for(var e=0,t=this.m_rgLoaders;e<t.length;e++){var n=t[e];if(n.ContainsAudio())return n}return null},e.prototype.GetGameLoader=function(){for(var e=0,t=this.m_rgLoaders;e<t.length;e++){var n=t[e];if(n.ContainsGame())return n}return null},e.prototype.SetTrackBufferMS=function(e){this.m_nTrackBufferMS=e;for(var t=0,n=this.m_rgLoaders;t<n.length;t++){n[t].SetBufferMS(e)}},e.prototype.BeginPlayback=function(){var e,t,n=0;if(this.IsLiveContent()?(o=D(this.GetCurrentVideoAdaptation()),e=1e3*this.m_mpd.GetMinBufferTime(),t=Math.max(o,e),this.SetTrackBufferMS(t),n=this.GetBufferedLiveEdgeTime(),Object(F.c)("Begin playback of live content [this.buffer="+this.m_nTrackBufferMS+"][nStartTime="+n+"]")):(this.SetTrackBufferMS(8e3),n=0,this.m_bookMarkAdapter&&(n=this.m_bookMarkAdapter.GetBeginPlaytime(),this.m_mpd.GetEndTime()-n<5&&(n=0)),Object(F.c)("Begin playback of non-live content [this.buffer="+this.m_nTrackBufferMS+"][nStartTime="+n+"]")),Object(F.c)("Starting playback at "+n),!this.m_bUseHLSManifest)for(var r=this.PickStartingVideoRepresentation(),i=0,a=this.m_rgLoaders;i<a.length;i++){var o,s,c=a[i];c.ContainsVideo()?(c.ChangeRepresentation(r),o=D(c.GetAdaptation()),this.m_schFirstFrameThrottler.Schedule(o/2,this.VerifyFirstSegementDownloadProgress)):(c.ContainsAudio()||c.ContainsGame())&&(s=0<c.GetAdaptation().rgRepresentations.length?c.GetAdaptation().rgRepresentations[0]:null,c.ChangeRepresentation(s))}this.Seek(n),this.GetGameLoader()&&this.m_schGameDataEventTrigger.Schedule(500,this.GameDataEventTrigger)},e.prototype.VerifyFirstSegementDownloadProgress=function(){var e,t=this.GetVideoLoader();null===this.m_videoRepSelected&&t&&t.GetDownloadHistory().length<=1&&0<t.GetActiveDownloads()&&t.GetActiveDownloadProgress()<.55&&((e=this.DetermineBestVideoRepresentation())&&!t.BIsCurrentRepresentation(e)&&(t.ChangeRepresentation(e),t.ForceRestartDownload(),Object(F.c)("Video download progressing too slowly, choosing "+e.nWidth+"x"+e.nHeight+"@"+e.nFrameRate+" instead")))},e.prototype.PickStartingVideoRepresentation=function(){var e=this.GetVideoLoader();if(!e)return null;for(var t=e.GetAdaptation(),n=null,r=e.GetRepresentationsCount()-1;0<=r;r--){var i=t.rgRepresentations[r],a=i.nFrameRate?i.nFrameRate:0;if(!(0<this.m_nLimitFPS&&a>this.m_nLimitFPS)&&(n=i,this.GetVideoPlayerHeight()<=i.nHeight))break}return n},e.prototype.DetermineBestVideoRepresentation=function(){for(var e,t=this.GetVideoLoader(),n=this.GetAudioLoader(),r=n&&n!=t?n.GetEstimatedAudioRate():0,i=this.GetAvgLoaderDownloadRate(),a=t.GetRepresentationsCount()-1,o=t.GetAdaptation().rgRepresentations[a],s=a-1;0<=s;s--){var c=t.GetAdaptation().rgRepresentations[s],l=(c.nBandwidth+r)*this.m_elVideo.playbackRate*1.15;if(i<l)Object(F.c)("Video select: Skipping "+s+" due to rate: [avg="+i+"][required="+l+"]");else{var u=c.nFrameRate||0;if(this.IsLiveContent()&&30<u){var p=this.m_stats.GetFPSMonitor();if(p.BIsDroppingFrames()||p.BHasCurrentFPS()&&Math.ceil(p.GetCurrentFPS())<29){Object(F.c)("Video select: Skipping "+s+" due to dropping frames and high FPS representation: [fps:"+u+"]");continue}}if(0<this.m_nLimitFPS&&u>this.m_nLimitFPS)Object(F.c)("Video select: Skipping "+s+" due to frame rate limit");else{var d=o.nHeight||0,m=c.nHeight||0,h=this.GetVideoPlayerHeight();if(0<h&&0<d)if(((e=h)<360?480:e<480?720:4320)<m)break;o=c}}}return o},e.prototype.UpdateVideoRepresentation=function(e){if(e&&this.m_videoRepSelected==e)return null;var t=this.GetVideoLoader();if(!t)return null;if(this.IsBuffering())return null;var n=this.DetermineBestVideoRepresentation();return this.m_videoRepSelected=null,t.ChangeRepresentation(n)},e.prototype.CanSeek=function(){return!0},e.prototype.SeekAndPlay=function(e){return this.m_bUserPlayChoice=!0,this.Seek(e)},e.prototype.Seek=function(e){if(!this.m_mpd)return 0;var t=this.GetAvailableVideoStartTime(),n=this.GetBufferedLiveEdgeTime();e=f.a(e,t,n),this.m_bUserLiveEdgeChoice=n-5<=e;var r=this.m_elVideo.paused;if(r||this.m_elVideo.pause(),this.m_bUseHLSManifest)this.m_elVideo.currentTime=e-this.m_hlsTimeOffset,this.m_elVideo.play();else{this.m_bIsBuffering=!0,this.m_nSeekingToTime=e;for(var i=0,a=this.m_rgLoaders;i<a.length;i++){var o=a[i];o.ContainsGame()&&(e=this.GetBufferedLiveEdgeTime()),o.Seek(e)}this.DispatchEvent("valve-bufferupdate"),r&&this.OnVideoBufferProgress()}return e},e.prototype.JumpTime=function(e){return e+=this.GetCurrentPlayTime(),this.Seek(e)},e.prototype.GetVideoPlayerHeight=function(){return this.m_elVideo.clientHeight},e.prototype.GetAvgLoaderDownloadRate=function(){for(var e=0,t=0,n=0,r=[this.GetVideoLoader()];n<r.length;n++){var i=r[n];i&&(e+=i.GetAvgDownloadRate(),t++)}return 0==t?0:e/t},e.prototype.GameDataEventTrigger=function(){var e,t,n,r=this.GetGameLoader();r&&(t=-1,0<=(t=(e=r.GetGameDataFrames()).length-1)&&((n=e[t]).pts!=this.m_nGameDataLastFramePTS&&(this.m_nGameDataLastFramePTS=n.pts,n.gamedata.appid=r.GetLatestGameDataFrameAppID(),this.DispatchEvent("valve-gamedataupdate",n))),this.m_schGameDataEventTrigger.Schedule(500,this.GameDataEventTrigger))},e.prototype.DispatchEvent=function(e,t){void 0===t&&(t=null);var n=new CustomEvent(e,{cancelable:!0,bubbles:!0,detail:t});this.m_elVideo.dispatchEvent(n)},e.prototype.IsMuted=function(){return this.m_elVideo.muted},e.prototype.SetMuted=function(e){this.m_elVideo.muted=e},e.prototype.SetVolume=function(e){e=f.a(e,0,1),this.m_elVideo.volume=e},e.prototype.GetVolume=function(){return this.m_elVideo.volume},e.prototype.GetDASHPlayerStats=function(){return this.m_stats},e.prototype.ReportPlayerStats=function(){this.m_stats.ReportPlayerStats(this.m_rgLoaders,this.m_elVideo),this.m_schReportPlayerTrigger.Schedule(3e5,this.ReportPlayerStats)},e.prototype.SetStatsViewIsVisible=function(e){e&&!this.m_bStatsViewVisible?(this.CaptureStatsForDisplay(),this.m_schCaptureDisplayStatsTrigger.Schedule(250,this.CaptureStatsForDisplay)):!e&&this.m_bStatsViewVisible&&this.m_schCaptureDisplayStatsTrigger.Cancel(),this.m_bStatsViewVisible=e},e.prototype.CaptureStatsForDisplay=function(){this.m_stats.SetHTMLVideoPlayerDisplay(this.m_elVideo.videoWidth,this.m_elVideo.videoHeight,this.m_elVideo.clientWidth,this.m_elVideo.clientHeight),this.m_stats.CaptureFrequentlyUpdatingInformation(this.m_elVideo,this.m_rgLoaders),this.m_schCaptureDisplayStatsTrigger.Schedule(250,this.CaptureStatsForDisplay)},e.prototype.GetVideoRepresentations=function(){var e=[];if(e.push({id:"auto",displayName:"Auto",selected:null===this.m_videoRepSelected}),this.m_bUseHLSManifest)return e;var t=this.GetCurrentVideoAdaptation();if(t)for(var n=0,r=t.rgRepresentations;n<r.length;n++){var i=r[n],a=this.m_videoRepSelected&&this.m_videoRepSelected.strID==i.strID,o=i.nFrameRate;50<o&&i.nFrameRate<70?o=60:25<o&&o<35&&(o=30);var s=i.nWidth+"x"+i.nHeight+" @ "+o+"fps";e.push({id:i.strID,displayName:s,selected:a,width:i.nWidth,fps:o})}return e.sort(function(e,t){return e.width===t.width?t.fps-e.fps:t.width-e.width}),e},e.prototype.SetVideoRepresentation=function(e){var t,n=!0,r=this.GetVideoLoader();!e||"auto"==e.id||(t=r.GetRepresentationByID(e.id))&&(n=!1,null!==this.m_videoRepSelected&&this.m_videoRepSelected.strID==t.strID||(this.m_videoRepSelected=t,r.ChangeRepresentation(t),this.Seek(this.GetCurrentPlayTime()))),n&&(this.m_videoRepSelected=null)},e.prototype.GetThumbnailForTimestamp=function(e){try{var t=this.m_mpd.GetPeriods()[0].rgAdaptationSets[0].segmentTemplate.nDuration/1e3,n=e-e%(10*t),r=Math.floor(n/t)+1,i=this.m_mpd.GetPeriods()[0].rgAdaptationSets[0].segmentTemplate.strMedia;return i=(i=(i=i.replace("/video/","/scrollthumb/")).replace("$RepresentationID$","1")).replace("$Number$",r.toString())}catch(e){return""}},Object(S.c)([s.a],e.prototype,"OnVisibilityChange",null),Object(S.c)([s.a],e.prototype,"UpdateMPD",null),Object(S.c)([s.a],e.prototype,"OnMediaSourceOpen",null),Object(S.c)([s.a],e.prototype,"OnMediaSourceEnded",null),Object(S.c)([s.a],e.prototype,"OnMediaSourceClose",null),Object(S.c)([s.a],e.prototype,"OnVideoWaiting",null),Object(S.c)([s.a],e.prototype,"OnVideoPause",null),Object(S.c)([s.a],e.prototype,"OnVideoResize",null),Object(S.c)([s.a],e.prototype,"OnDebugPrintEventInfoAndAvailableBuffer",null),Object(S.c)([s.a],e.prototype,"OnVideoError",null),Object(S.c)([s.a],e.prototype,"OnVideoCanPlay",null),Object(S.c)([s.a],e.prototype,"GetCurrentPlayTime",null),Object(S.c)([s.a],e.prototype,"OnVideoTimeUpdate",null),Object(S.c)([s.a],e.prototype,"SendUpdateToBookmarkServiceIfNeeded",null),Object(S.c)([s.a],e.prototype,"OnPlayAction",null),Object(S.c)([s.a],e.prototype,"GetPlaybackRate",null),Object(S.c)([s.a],e.prototype,"GetCDNAuthURLParameter",null),Object(S.c)([s.a],e.prototype,"OnSegmentDownloaded",null),Object(S.c)([s.a],e.prototype,"PlayOnElement",null),Object(S.c)([s.a],e.prototype,"OnSegmentDownloadFailed",null),Object(S.c)([s.a],e.prototype,"OnSegmentDownloadGone",null),Object(S.c)([s.a],e.prototype,"VerifyFirstSegementDownloadProgress",null),Object(S.c)([s.a],e.prototype,"GameDataEventTrigger",null),Object(S.c)([s.a],e.prototype,"ReportPlayerStats",null),Object(S.c)([l.action.bound],e.prototype,"CaptureStatsForDisplay",null),e}();var Y,Q,Z=function(){function e(e){this.m_elVideo=null,this.m_peerConnection=null,this.m_schCandidateTimer=new m.b,this.m_listeners=new m.c,this.m_bFirstPlay=!0,this.m_bStatsViewVisible=!1,this.m_schCaptureDisplayStatsTrigger=new m.b,this.m_stats=new E,this.m_elVideo=e}return e.prototype.PlayMPD=function(e){return Object(S.b)(this,void 0,void 0,function(){return Object(S.e)(this,function(e){return[2]})})},e.prototype.PlayWebRTC=function(r,i,a,o,s){return Object(S.b)(this,void 0,void 0,function(){var t,n=this;return Object(S.e)(this,function(e){return this.m_strBroadcastSteamID=r,this.m_ulWebRTCSessionID=a,this.m_nHostCandidateGeneration=0,this.m_listeners.AddEventListener(this.m_elVideo,"pause",this.OnVideoPause),this.m_listeners.AddEventListener(this.m_elVideo,"resize",this.OnVideoResize),t={iceServers:[{urls:["stun:"+o]},{urls:["turn:"+o],username:i,credential:a}],iceTransportPolicy:"relay"},this.m_peerConnection=new RTCPeerConnection(t),this.m_peerConnection.oniceconnectionstatechange=function(e){n.m_peerConnection&&(console.log("BroadcastWebRTC: ICE connection state changed to "+n.m_peerConnection.iceConnectionState),"failed"===n.m_peerConnection.iceConnectionState?n.OnWebRTCConnectionFailed():"disconnected"===n.m_peerConnection.iceConnectionState&&n.OnWebRTCConnectionRetry())}.bind(this),this.m_peerConnection.onicecandidate=function(e){var t;e.candidate&&((t=new FormData).append("broadcaststeamid",n.m_strBroadcastSteamID),t.append("webrtc_session_id",n.m_ulWebRTCSessionID),t.append("sdp_mid",e.candidate.sdpMid),t.append("sdp_mline_index",String(e.candidate.sdpMLineIndex)),t.append("candidate",e.candidate.candidate),w.a.post(P.c.CHAT_BASE_URL+"broadcast/addbroadcastwebrtccandidate",t).then(function(e){var t=e.data;t.success&&1==t.success||console.log("Failed to add a WebRTC session ICE candidate: "+String(t.success))}).catch(function(e){return console.log("Failed to add a WebRTC session ICE candidate"+e)}))}.bind(this),this.m_peerConnection.ontrack=function(e){"video"===e.track.kind&&(n.m_elVideo.src=null,n.m_elVideo.srcObject=e.streams[0],n.Play())}.bind(this),this.m_peerConnection.setRemoteDescription({type:"offer",sdp:s}).then(function(){return Object(S.b)(n,void 0,void 0,function(){var t,n,r,i,a=this;return Object(S.e)(this,function(e){switch(e.label){case 0:return n=(t=this.m_peerConnection).setLocalDescription,[4,this.m_peerConnection.createAnswer()];case 1:return[4,n.apply(t,[e.sent()])];case 2:e.sent(),(r=new FormData).append("broadcaststeamid",this.m_strBroadcastSteamID),r.append("webrtc_session_id",this.m_ulWebRTCSessionID),r.append("answer",this.m_peerConnection.localDescription.sdp),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,w.a.post(P.c.CHAT_BASE_URL+"broadcast/setbroadcastwebrtcanswer",r).then(function(e){var t=e.data;if(!t.success||1!=t.success)throw new Error(String(t.success))})];case 4:return e.sent(),[3,6];case 5:return i=e.sent(),console.log("Failed to set the WebRTC session answer: "+i),this.OnWebRTCConnectionRetry(),[2];case 6:return this.m_nCandidateUpdateIntervalMS=250,this.m_schCandidateTimer.Schedule(this.m_nCandidateUpdateIntervalMS,function(){return a.GetHostCandidates()}),[2]}})})}),[2]})})},e.prototype.GetHostCandidates=function(){return Object(S.b)(this,void 0,void 0,function(){var t,n,r=this;return Object(S.e)(this,function(e){switch(e.label){case 0:(t=new FormData).append("broadcaststeamid",this.m_strBroadcastSteamID),t.append("webrtc_session_id",this.m_ulWebRTCSessionID),t.append("candidate_generation",String(this.m_nHostCandidateGeneration)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,w.a.post(P.c.CHAT_BASE_URL+"broadcast/getbroadcastwebrtccandidates",t).then(function(e){var t=e.data,n=t.data;if(!t.success||1!=t.success)throw new Error(String(t.success));n.candidate_generation>r.m_nHostCandidateGeneration?(n.candidates.forEach(function(e){var t=new RTCIceCandidate({sdpMid:e.sdp_mid,sdpMLineIndex:e.sdp_mline_index,candidate:e.candidate});r.m_peerConnection.addIceCandidate(t).catch(function(e){return console.error(e)})}),r.m_nHostCandidateGeneration=n.candidate_generation):0<r.m_nHostCandidateGeneration&&(r.m_nCandidateUpdateIntervalMS*=2)})];case 2:return e.sent(),[3,4];case 3:return n=e.sent(),console.log("Failed to get WebRTC session ICE candidates"+n),this.OnWebRTCConnectionRetry(),[2];case 4:return this.m_schCandidateTimer.Schedule(this.m_nCandidateUpdateIntervalMS,function(){return r.GetHostCandidates()}),[2]}})})},e.prototype.DispatchEvent=function(e,t){void 0===t&&(t=null);var n=new CustomEvent(e,{cancelable:!0,bubbles:!0,detail:t});this.m_elVideo.dispatchEvent(n)},e.prototype.OnWebRTCConnectionRetry=function(){this.DispatchEvent("valve-webrtcretry")},e.prototype.OnWebRTCConnectionFailed=function(){this.DispatchEvent("valve-webrtcfailed")},e.prototype.Close=function(){this.m_listeners.Unregister(),this.m_schCandidateTimer.Cancel(),this.m_schCaptureDisplayStatsTrigger.Cancel(),this.m_peerConnection&&(this.m_peerConnection.close(),this.m_peerConnection=null),this.m_elVideo.pause(),this.m_elVideo.srcObject=null,this.m_stats&&(this.m_stats.GetFPSMonitor().Close(),this.m_stats=null),this.m_bFirstPlay=!0},e.prototype.IsBuffering=function(){return!1},e.prototype.GetCurrentPlayTime=function(){return 0},e.prototype.GetLiveContentStartTime=function(){return null},e.prototype.GetAvailableVideoStartTime=function(){return 0},e.prototype.GetBufferedLiveEdgeTime=function(){return 0},e.prototype.IsPaused=function(){return this.m_elVideo.paused},e.prototype.Play=function(){var t=this,n=this.m_bFirstPlay;this.m_bFirstPlay=!1;var e=this.m_elVideo.play();e?e.then(function(){t.m_stats.GetFPSMonitor().StartTracking(function(){return t.m_stats.ExtractFrameInfo(t.m_elVideo)})}).catch(function(e){n&&t.DispatchEvent("valve-userinputneeded")}):this.m_stats.GetFPSMonitor().StartTracking(function(){return t.m_stats.ExtractFrameInfo(t.m_elVideo)})},e.prototype.Pause=function(){this.m_elVideo.pause()},e.prototype.CanSeek=function(){return!1},e.prototype.SeekAndPlay=function(e){return this.Play(),0},e.prototype.Seek=function(e){return 0},e.prototype.JumpTime=function(e){return 0},e.prototype.IsMuted=function(){return this.m_elVideo.muted},e.prototype.SetMuted=function(e){this.m_elVideo.muted=e},e.prototype.SetVolume=function(e){e=f.a(e,0,1),this.m_elVideo.volume=e},e.prototype.GetVolume=function(){return this.m_elVideo.volume},e.prototype.GetDASHPlayerStats=function(){return this.m_stats},e.prototype.SetStatsViewIsVisible=function(e){e&&!this.m_bStatsViewVisible?(this.CaptureStatsForDisplay(),this.m_schCaptureDisplayStatsTrigger.Schedule(250,this.CaptureStatsForDisplay)):!e&&this.m_bStatsViewVisible&&this.m_schCaptureDisplayStatsTrigger.Cancel(),this.m_bStatsViewVisible=e},e.prototype.CaptureStatsForDisplay=function(){this.m_stats.SetHTMLVideoPlayerDisplay(this.m_elVideo.videoWidth,this.m_elVideo.videoHeight,this.m_elVideo.clientWidth,this.m_elVideo.clientHeight),this.m_schCaptureDisplayStatsTrigger.Schedule(250,this.CaptureStatsForDisplay)},e.prototype.OnVideoPause=function(e){this.m_stats.GetFPSMonitor().Close()},e.prototype.OnVideoResize=function(e){this.m_stats.GetFPSMonitor().SetWindowResized()},e.prototype.GetVideoRepresentations=function(){var e=[];return e.push({id:"auto",displayName:"Auto",selected:!0}),e},e.prototype.SetVideoRepresentation=function(e){},e.prototype.IsLiveContent=function(){return!0},e.prototype.GetThumbnailForTimestamp=function(e){return""},Object(S.c)([s.a],e.prototype,"PlayWebRTC",null),Object(S.c)([l.action.bound],e.prototype,"CaptureStatsForDisplay",null),Object(S.c)([s.a],e.prototype,"OnVideoPause",null),Object(S.c)([s.a],e.prototype,"OnVideoResize",null),e}(),K=n("5eAM"),J=n("bDQf"),X=n("TQQK"),$=n("0tYJ"),ee=7;(Q=Y=Y||{})[Q.None=0]="None",Q[Q.Loading=1]="Loading",Q[Q.Ready=2]="Ready",Q[Q.Error=3]="Error";var te,ne,re=function(){function e(){this.m_steamIDBroadcast="",this.m_ulBroadcastID="",this.m_ulViewerToken="",this.m_strCDNAuthUrlParameters=void 0,this.m_bWebRTC=!1,this.m_eWatchState=Y.None,this.m_strStateDescription="",this.m_rgVideos=[],this.m_schManifestTimeout=new m.b,this.m_schHeartbeatTimeout=new m.b}return e.prototype.SetState=function(e,t){void 0===t&&(t=""),this.m_eWatchState=e,this.m_strStateDescription=t,e==Y.Error&&console.log(this.m_strStateDescription)},Object(S.c)([l.observable],e.prototype,"m_ulBroadcastID",void 0),Object(S.c)([l.observable],e.prototype,"m_eWatchState",void 0),Object(S.c)([l.observable],e.prototype,"m_strStateDescription",void 0),Object(S.c)([l.action],e.prototype,"SetState",null),e}(),ie=function(){function e(e){this.m_steamIDBroadcast="",this.m_strTitle="",this.m_strAppId=""+ee,this.m_nAppID=ee,this.m_strAppTitle="",this.m_strThumbnailUrl="",this.m_nViewerCount=0,this.m_bIsOnline=!1,this.m_schUpdateTimeout=new m.b,this.m_nRefCount=0,this.m_steamIDBroadcast=e}return Object(S.c)([l.observable],e.prototype,"m_strTitle",void 0),Object(S.c)([l.observable],e.prototype,"m_strAppId",void 0),Object(S.c)([l.observable],e.prototype,"m_nAppID",void 0),Object(S.c)([l.observable],e.prototype,"m_strAppTitle",void 0),Object(S.c)([l.observable],e.prototype,"m_strThumbnailUrl",void 0),Object(S.c)([l.observable],e.prototype,"m_nViewerCount",void 0),Object(S.c)([l.observable],e.prototype,"m_bIsOnline",void 0),e}(),ae=function(){function e(){this.m_eWatchState=Y.None,this.m_strStateDescription="",this.m_rgVideos=[]}return e.prototype.SetState=function(e,t){void 0===t&&(t=""),this.m_eWatchState=e,this.m_strStateDescription=t,e==Y.Error&&console.log(this.m_strStateDescription)},Object(S.c)([l.observable],e.prototype,"m_eWatchState",void 0),Object(S.c)([l.observable],e.prototype,"m_strStateDescription",void 0),Object(S.c)([l.action],e.prototype,"SetState",null),e}(),oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(S.d)(t,e),t}(ae),se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(S.d)(t,e),t}(ae),ce=function(){function e(){this.m_mapBroadcasts=new Map,this.m_mapClips=new Map,this.m_mapVODs=new Map,this.m_activeVideo=null,this.m_broadcastSettings={nVolume:1,bMuted:!1,ulViewerToken:"0"},this.m_schSaveSettings=new m.b,this.m_broadcastInfos={},this.LoadBroadcastSettings()}return e.prototype.GetBroadcastState=function(e){if(e.IsBroadcastClip()){var t=this.m_mapClips.get(e.GetBroadcastClipID());return t?t.m_eWatchState:Y.None}if(e.IsBroadcastVOD()){var n=this.m_mapVODs.get(e.GetBroadcastAppIDVOD());return n?n.m_eWatchState:Y.None}var r=this.m_mapBroadcasts.get(e.GetBroadcastSteamID());return r?r.m_eWatchState:Y.None},e.prototype.GetBroadcastStateDescription=function(e){if(e.IsBroadcastClip()){var t=this.m_mapClips.get(e.GetBroadcastClipID());return t?t.m_strStateDescription:""}if(e.IsBroadcastVOD()){var n=this.m_mapVODs.get(e.GetBroadcastAppIDVOD());return n?n.m_strStateDescription:""}var r=this.m_mapBroadcasts.get(e.GetBroadcastSteamID());return r?r.m_strStateDescription:""},e.prototype.CreateBroadcastVideo=function(e,t,n,r){var i=this.GetOrCreateBroadcast(t),a=this.m_broadcastSettings,o=a.nVolume,s=a.bMuted,c=new le(e,o,s,n);return c.SetBroadcastSteamID(t),i.m_rgVideos.push(c),i.m_bWebRTC=r,Object(F.a)()||Object(F.b)()||i.SetState(Y.Error,Object(h.f)("#BroadcastWatch_MinBrowser")),c},e.prototype.CreateClipVideo=function(e,t,n){var r=this.GetOrCreateClip(t),i=this.m_broadcastSettings,a=i.nVolume,o=i.bMuted,s=new le(e,a,o,n);return s.SetBroadcastClipID(t),r.m_rgVideos.push(s),Object(F.a)()||Object(F.b)()||r.SetState(Y.Error,Object(h.f)("#BroadcastWatch_MinBrowser")),s},e.prototype.CreateVODVideo=function(e,t,n){var r=this.GetOrCreateVOD(t),i=this.m_broadcastSettings,a=i.nVolume,o=i.bMuted,s=new le(e,a,o,n);return s.SetBroadcastAppIDVOD(t),r.m_rgVideos.push(s),Object(F.a)()||Object(F.b)()||r.SetState(Y.Error,Object(h.f)("#BroadcastWatch_MinBrowser")),s},e.prototype.StartVideo=function(e){if(e.IsBroadcastClip()){console.log("Starting clip for "+e.GetBroadcastClipID());var t=this.m_mapClips.get(e.GetBroadcastClipID());if(!t)return;this.SetActiveVideo(e),t.m_eWatchState==Y.None?this.GetClipManifest(t,e.GetWatchLocation()):t.m_eWatchState==Y.Ready&&e.StartClip(t)}else if(e.IsBroadcastVOD()){console.log("Starting VOD for "+e.GetBroadcastAppIDVOD());var n=this.m_mapVODs.get(e.GetBroadcastAppIDVOD());if(!n)return;this.SetActiveVideo(e),n.m_eWatchState==Y.None?this.GetVODManifest(n,e.GetWatchLocation()):n.m_eWatchState==Y.Ready&&e.StartVOD(n)}else{var r=this.m_mapBroadcasts.get(e.GetBroadcastSteamID());if(!r)return;this.SetActiveVideo(e),r.m_eWatchState==Y.None?this.GetBroadcastManifest(r,e.GetWatchLocation()):r.m_eWatchState==Y.Ready&&e.StartBroadcast(r)}},e.prototype.SetActiveVideo=function(i){this.m_mapBroadcasts.forEach(function(e){for(var t=0,n=e.m_rgVideos;t<n.length;t++){var r=n[t];r!=i&&r.StopPlaybackTillUserInput()}}),this.m_mapClips.forEach(function(e){for(var t=0,n=e.m_rgVideos;t<n.length;t++){var r=n[t];r!=i&&r.StopPlaybackTillUserInput()}}),this.m_activeVideo=i},e.prototype.PauseAllVideo=function(){this.m_mapBroadcasts.forEach(function(e){for(var t=0,n=e.m_rgVideos;t<n.length;t++){n[t].StopPlaybackTillUserInput()}})},e.prototype.StopVideo=function(r){return Object(S.b)(this,void 0,void 0,function(){var t,n;return Object(S.e)(this,function(e){return t=r.GetBroadcastSteamID(),n=this.m_mapBroadcasts.get(t),r.Stop(),n&&(n.m_ulBroadcastID&&function(n,r,i){Object(S.b)(this,void 0,void 0,function(){var t;return Object(S.e)(this,function(e){switch(e.label){case 0:if(!r)return[2];(t=new FormData).append("steamid",n),t.append("broadcastid",r),t.append("viewertoken",i),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,w.a.post(P.c.CHAT_BASE_URL+"broadcast/stopwatching",t)];case 2:return e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return[2]}})})}(t,n.m_ulBroadcastID,this.m_broadcastSettings.ulViewerToken),d.d(n.m_rgVideos,function(e){return e==r}),this.RemoveBroadcastIfUnused(n)),[2]})})},e.prototype.StartInfo=function(e){var t=this.GetOrCreateBroadcastInfo(e);return t.m_nRefCount++,1===t.m_nRefCount&&this.LoadBroadcastInfo(t),t},e.prototype.StopInfo=function(e){e.m_nRefCount--,0===e.m_nRefCount&&(e.m_schUpdateTimeout.Cancel(),delete this.m_broadcastInfos[e.m_steamIDBroadcast])},e.prototype.GetOrCreateBroadcastInfo=function(e){var t;return e?(this.m_broadcastInfos[e]||(t=Object(l.observable)(new ie(e)),this.m_broadcastInfos[e]=t),this.m_broadcastInfos[e]):new ie("")},e.prototype.GetOrCreateBroadcast=function(e){var t=this.m_mapBroadcasts.get(e);return t||((t=new re).m_steamIDBroadcast=e,t.m_eWatchState=Y.None,this.m_mapBroadcasts.set(e,t),t)},e.prototype.GetBroadcast=function(e){return this.m_mapBroadcasts.get(e)},e.prototype.GetBroadcastClip=function(e){return this.m_mapClips.get(e)},e.prototype.RemoveBroadcastIfUnused=function(e){e.m_rgVideos.length||(e.m_schHeartbeatTimeout.Cancel(),e.m_schManifestTimeout.Cancel(),this.m_mapBroadcasts.delete(e.m_steamIDBroadcast))},e.prototype.GetOrCreateClip=function(e){var t=this.m_mapClips.get(e);return t||((t=new oe).m_clipID=e,t.m_eWatchState=Y.None,this.m_mapClips.set(e,t),t)},e.prototype.GetOrCreateVOD=function(e){var t=this.m_mapVODs.get(e);return t||((t=new se).m_nAppIDVOD=e,t.m_eWatchState=Y.None,this.m_mapVODs.set(e,t),t)},e.prototype.LoadBroadcastInfo=function(c){return Object(S.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s=this;return Object(S.e)(this,function(e){switch(e.label){case 0:t="0",(n=this.m_mapBroadcasts.get(c.m_steamIDBroadcast))&&(t=n.m_ulBroadcastID),r={steamid:c.m_steamIDBroadcast,broadcastid:t,location:n&&n.m_rgVideos&&n.m_rgVideos[0]&&n.m_rgVideos[0].GetWatchLocation()},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,w.a.get(P.c.CHAT_BASE_URL+"broadcast/getbroadcastinfo/",{params:r})];case 2:return(i=e.sent())&&i.data?(a=i.data,Object(l.runInAction)(function(){c.m_strTitle=a.title,c.m_strAppId=a.appid,c.m_nAppID=Number.parseInt(a.appid),c.m_strAppTitle=a.app_title,c.m_strThumbnailUrl=a.thumbnail_url,c.m_nViewerCount=a.viewer_count,c.m_bIsOnline=a.is_online,!c.m_strTitle&&u.a&&(c.m_strTitle=u.a.name,c.m_strAppTitle=u.a.appName||u.a.name);var e=a.update_interval;e&&"number"==typeof e&&c.m_schUpdateTimeout.Schedule(1e3*e,function(){return s.LoadBroadcastInfo(c)})}),c.m_nAppID==ee||K.a.BHasAppLinkLoaded(c.m_nAppID)||K.a.LoadAppLinkInfo([c.m_nAppID]),[3,4]):[2];case 3:return o=e.sent(),console.error(o),[3,4];case 4:return[2]}})})},e.prototype.GetBroadcastManifest=function(u,p,d){return void 0===d&&(d=Date.now()),Object(S.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l=this;return Object(S.e)(this,function(e){switch(e.label){case 0:u.SetState(Y.Loading,""),t={steamid:u.m_steamIDBroadcast,broadcastid:0,viewertoken:this.m_broadcastSettings.ulViewerToken,watchlocation:p,sessionid:P.c.SESSIONID,is_webrtc:u.m_bWebRTC},n=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,w.a.get(P.c.CHAT_BASE_URL+"broadcast/getbroadcastmpd/",{params:t,withCredentials:!0})];case 2:return n=e.sent(),[3,4];case 3:return r=e.sent(),i=Object(J.a)(r),console.error("Failed to get broadcast manifest!"+i.strErrorMsg,i),[3,4];case 4:if(!n||200!=n.status)return u.SetState(Y.Error,Object(h.f)("#BroadcastWatch_RequestFailed")),[2];if((a=n.data).viewertoken&&this.SetViewerToken(a.viewertoken),"ready"==(o=a.success))u.SetState(Y.Ready),u.m_ulBroadcastID=a.broadcastid,u.m_ulViewerToken=this.m_broadcastSettings.ulViewerToken,u.m_strCDNAuthUrlParameters=a.cdn_auth_url_parameters,u.m_bWebRTC=a.is_webrtc,u.m_data=a,this.LoadBroadcast(u),setTimeout(function(){u.m_schHeartbeatTimeout.Schedule(1e3*u.m_data.heartbeat_interval,function(){return l.HeartbeatBroadcast(u)})},3e4*Math.random());else if("waiting"==o){if(u.SetState(Y.Loading,Object(h.f)("#BroadcastWatch_WaitingForResponse")),6e4<(s=Date.now()-d))return u.SetState(Y.Error,Object(h.f)("#BroadcastWatch_NotAvailable")),[2];c=3e4<s?a.retry:5e3,u.m_schManifestTimeout.Schedule(c,function(){return l.GetBroadcastManifest(u,p,d)})}else"waiting_for_start"==o?(u.SetState(Y.Loading,Object(h.f)("#BroadcastWatch_WaitingForStart")),u.m_schManifestTimeout.Schedule(a.retry,function(){return l.GetBroadcastManifest(u,p,d)})):"waiting_for_reconnect"==o?(u.SetState(Y.Loading,Object(h.f)("#BroadcastWatch_WaitingForReconnect")),u.m_schManifestTimeout.Schedule(a.retry,function(){return l.GetBroadcastManifest(u,p,d)})):"end"==o?u.SetState(Y.Error,Object(h.f)("#BroadcastWatch_NotAvailable")):"noservers"==o?u.SetState(Y.Error,Object(h.f)("#BroadcastWatch_ServerLoad")):"system_not_supported"==o?u.SetState(Y.Error,Object(h.f)("#BroadcastWatch_SystemNotSupported")):"user_restricted"==o?u.SetState(Y.Error,Object(h.f)("#BroadcastWatch_UserRestricted")):"poor_upload_quality"==o?u.SetState(Y.Error,Object(h.f)("#BroadcastWatch_PoorUploadQuality")):"request_failed"==o?u.SetState(Y.Error,Object(h.f)("#BroadcastWatch_RequestFailed")):u.SetState(Y.Error,Object(h.f)("#BroadcastWatch_NotAvailable"));return[2]}})})},e.prototype.GetClipManifest=function(a,o){return Object(S.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(S.e)(this,function(e){switch(e.label){case 0:a.SetState(Y.Loading,""),t={clipid:a.m_clipID,watchlocation:o,sessionid:P.c.SESSIONID},n=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,w.a.get(P.c.CHAT_BASE_URL+"broadcast/getclipdetails",{params:t,withCredentials:!0})];case 2:return n=e.sent(),[3,4];case 3:return r=e.sent(),console.error(r),console.log("Failed to get clip manifest!"),[3,4];case 4:return n&&200==n.status?(1==(i=n.data).success?(a.SetState(Y.Ready),a.m_data=i,this.LoadClip(a)):a.SetState(Y.Error,Object(h.f)("#BroadcastWatch_RequestFailed")),[2]):(a.SetState(Y.Error,Object(h.f)("#BroadcastWatch_RequestFailed")),[2])}})})},e.prototype.GetVODManifest=function(n,e){return Object(S.b)(this,void 0,void 0,function(){var t;return Object(S.e)(this,function(e){switch(e.label){case 0:return n.SetState(Y.Loading,""),[4,X.a.Get().LoadVODForAppID(n.m_nAppIDVOD)];case 1:return(t=e.sent())?(n.SetState(Y.Ready),n.m_manifestURL=t.video_url,this.LoadVOD(n)):n.SetState(Y.Error,Object(h.f)("#BroadcastWatch_RequestFailed")),[2]}})})},e.prototype.HeartbeatBroadcast=function(r){return Object(S.b)(this,void 0,void 0,function(){var t,n=this;return Object(S.e)(this,function(e){return(t=new FormData).append("steamid",r.m_steamIDBroadcast),t.append("broadcastid",r.m_ulBroadcastID),t.append("viewertoken",this.m_broadcastSettings.ulViewerToken),w.a.post(P.c.CHAT_BASE_URL+"broadcast/heartbeat/",t),r.m_schHeartbeatTimeout.Schedule(1e3*r.m_data.heartbeat_interval,function(){return n.HeartbeatBroadcast(r)}),[2]})})},e.prototype.LoadBroadcast=function(e){var t=this;0<=e.m_rgVideos.findIndex(function(e){return e==t.m_activeVideo})&&this.m_activeVideo.StartBroadcast(e)},e.prototype.LoadClip=function(e){var t=this;0<=e.m_rgVideos.findIndex(function(e){return e==t.m_activeVideo})&&this.m_activeVideo.StartClip(e)},e.prototype.LoadVOD=function(e){var t=this;0<=e.m_rgVideos.findIndex(function(e){return e==t.m_activeVideo})&&this.m_activeVideo.StartVOD(e)},e.prototype.BroadcastDownloadFailed=function(e,t){void 0===t&&(t=!0),e.Stop();var n=this.m_mapBroadcasts.get(e.GetBroadcastSteamID());n&&n.m_eWatchState!=Y.Loading&&(n.m_bWebRTC&&t&&(n.m_bWebRTC=!1),this.GetBroadcastManifest(n,e.GetWatchLocation()))},e.prototype.UserInputClickVideo=function(e){var t;this.m_activeVideo!=e&&(this.PauseAllVideo(),(this.m_activeVideo=e).IsBroadcastClip()||e.IsBroadcastVOD()||(t=this.m_mapBroadcasts.get(e.GetBroadcastSteamID()),this.GetBroadcastManifest(t,e.GetWatchLocation()))),e.UserInputClick()},e.prototype.LoadBroadcastSettings=function(){var e,t,n;window.localStorage&&(!(e=window.localStorage.getItem("broadcastSettings"))||(t=JSON.parse(e))&&(Object.assign(this.m_broadcastSettings,t),(n=this.m_broadcastSettings).bMuted=!!n.bMuted,n.nVolume=f.a(n.nVolume,0,1),"string"!=typeof n.ulViewerToken&&(n.ulViewerToken="0")))},e.prototype.SaveBroadcastSettings=function(){var e=this;window.localStorage&&this.m_schSaveSettings.Schedule(1e3,function(){try{window.localStorage.setItem("broadcastSettings",JSON.stringify(e.m_broadcastSettings))}catch(e){}})},e.prototype.SetViewerToken=function(e){this.m_broadcastSettings.ulViewerToken!=e&&(this.m_broadcastSettings.ulViewerToken=e,this.SaveBroadcastSettings())},e.prototype.GetViewerToken=function(){return this.m_broadcastSettings.ulViewerToken},e.prototype.SaveVolumeChange=function(e,t){this.m_broadcastSettings.nVolume==e&&this.m_broadcastSettings.bMuted==t||(this.m_broadcastSettings.nVolume=e,this.m_broadcastSettings.bMuted=t,this.SaveBroadcastSettings())},Object(S.c)([l.observable],e.prototype,"m_mapBroadcasts",void 0),e}();(ne=te=te||{})[ne.Timeline=1]="Timeline",ne[ne.Minimap=2]="Minimap";var le=function(){function e(e,t,n,r){this.m_elVideo=null,this.m_player=null,this.m_listeners=new m.c,this.m_gameDataParser=null,this.m_eWatchLocation=0,this.m_rgSubtitles=[],this.m_steamIDBroadcast=null,this.m_BroadcastInfo=null,this.m_broadcastClipID=null,this.m_nBroadcastAppIDVOD=null,this.m_bPaused=!1,this.m_nPlaybackTime=0,this.m_bBuffering=!1,this.m_bOnLiveEdge=!1,this.m_nVolume=0,this.m_bMuted=!1,this.m_bUserInputNeeded=!1,this.m_bIsReplay=!1,this.m_nTimelineDuration=1800,this.m_nVideoStartPos=0,this.m_nVideoEndPos=0,this.m_editorStartTime=0,this.m_editorEndTime=0,this.m_rgMarkers=l.observable.array(),this.m_rgSegments=l.observable.array(),this.m_rgRegions=l.observable.array(),this.m_elVideo=e,this.m_nVolume=t,this.m_bMuted=n,this.m_eWatchLocation=r}return e.prototype.SetBroadcastSteamID=function(e){this.m_steamIDBroadcast=e},e.prototype.GetBroadcastSteamID=function(){return this.m_steamIDBroadcast},e.prototype.GetWatchLocation=function(){return this.m_eWatchLocation},e.prototype.IsPaused=function(){return this.m_bPaused},e.prototype.GetPlaybackTime=function(){return this.m_nPlaybackTime},e.prototype.SetStatsViewIsVisible=function(e){this.m_player&&this.m_player.SetStatsViewIsVisible(e)},e.prototype.GetDASHPlayerStats=function(){return this.m_player.GetDASHPlayerStats()},e.prototype.BHasDASHStats=function(){return null!=this.m_player},e.prototype.IsTimelineMapActive=function(){return!1},e.prototype.CanSeek=function(){return this.m_player&&this.m_player.CanSeek()},e.prototype.IsBuffering=function(){return this.m_bBuffering},e.prototype.IsOnLiveEdge=function(){return this.m_bOnLiveEdge},e.prototype.GetVideoAvailableStartTime=function(){return this.m_nVideoStartPos},e.prototype.GetVolume=function(){return this.m_nVolume},e.prototype.GetUserInputNeeded=function(){return this.m_bUserInputNeeded},e.prototype.IsReplay=function(){return this.m_bIsReplay},e.prototype.IsBroadcastClip=function(){return null!=this.m_broadcastClipID},e.prototype.SetBroadcastClipID=function(e){this.m_broadcastClipID=e},e.prototype.GetBroadcastClipID=function(){return this.m_broadcastClipID},e.prototype.IsBroadcastVOD=function(){return null!=this.m_nBroadcastAppIDVOD},e.prototype.SetBroadcastAppIDVOD=function(e){this.m_nBroadcastAppIDVOD=e},e.prototype.GetBroadcastAppIDVOD=function(){return this.m_nBroadcastAppIDVOD},e.prototype.GetVideoRepresentations=function(){return this.m_player?this.m_player.GetVideoRepresentations():[]},e.prototype.SetVideoRepresentation=function(e){this.m_player.SetVideoRepresentation(e)},e.prototype.GetBroadcastInfo=function(){return this.m_BroadcastInfo},e.prototype.ListSubtitles=function(){return this.m_elVideo.textTracks},e.prototype.GetSubtitles=function(){for(var e=0;e<this.m_elVideo.textTracks.length;e++){var t=this.m_elVideo.textTracks[e];if("showing"===t.mode)return t}return null},e.prototype.SetSubtitles=function(e){var t=e?h.d[e]:-1;this.m_player.SetSubtitles(t)},e.prototype.GetBroadcastState=function(){return ue.GetBroadcastState(this)},e.prototype.GetBroadcastStateDescription=function(){return ue.GetBroadcastStateDescription(this)},e.prototype.InitPlayer=function(){Object(C.a)(!this.m_player,"Initialized twice?"),this.m_listeners.AddEventListener(this.m_elVideo,"playing",this.OnVideoPlaying),this.m_listeners.AddEventListener(this.m_elVideo,"pause",this.OnVideoPause),this.m_listeners.AddEventListener(this.m_elVideo,"timeupdate",this.OnVideoTimeUpdate),this.m_listeners.AddEventListener(this.m_elVideo,"valve-bufferupdate",this.OnVideoTimeUpdate),this.m_listeners.AddEventListener(this.m_elVideo,"valve-gamedataupdate",this.OnGameDataUpdate),this.m_listeners.AddEventListener(this.m_elVideo,"valve-downloadfailed",this.OnDownloadFailed),this.m_listeners.AddEventListener(this.m_elVideo,"valve-webrtcretry",this.OnWebRTCRetry),this.m_listeners.AddEventListener(this.m_elVideo,"valve-webrtcfailed",this.OnWebRTCFailed),this.m_listeners.AddEventListener(this.m_elVideo,"valve-userinputneeded",this.OnUserInputNeeded),this.m_bPaused=!1,this.m_nPlaybackTime=0,this.m_bBuffering=!1,this.m_nTimelineDuration=1800,this.m_nVideoStartPos=0,this.m_nVideoEndPos=0,this.m_rgMarkers.clear(),this.m_rgSegments.clear(),this.m_bUserInputNeeded=!1,this.m_bIsReplay=!1},e.prototype.StartBroadcast=function(e){this.InitPlayer(),e.m_data.url?(this.m_player=new q(this.m_elVideo,!Object(F.a)()&&Object(F.b)()),this.m_player.PlayMPD(e.m_data.url,e.m_strCDNAuthUrlParameters,e.m_data.hls_url)):(this.m_player=new Z(this.m_elVideo),this.m_player.PlayWebRTC(this.m_steamIDBroadcast,e.m_ulViewerToken,e.m_data.webrtc_session_id,e.m_data.webrtc_turn_server,e.m_data.webrtc_offer_sdp)),this.SetVolume(this.m_nVolume),this.m_player.SetMuted(this.m_bMuted);var t=this.m_player.GetDASHPlayerStats();t&&t.SetBroadcasterAndViewerInfo(this.m_steamIDBroadcast,P.h.steamid,e.m_ulBroadcastID,e.m_ulViewerToken,e.m_strCDNAuthUrlParameters),this.m_BroadcastInfo=ue.StartInfo(this.m_steamIDBroadcast)},e.prototype.StartClip=function(e){this.InitPlayer(),this.m_player=new q(this.m_elVideo),this.m_player.PlayMPD(e.m_data.clip_url,null),this.SetVolume(this.m_nVolume),this.m_player.SetMuted(this.m_bMuted)},e.prototype.StartVOD=function(e){this.InitPlayer();var t=new q(this.m_elVideo);this.m_player=t,P.h.logged_in&&e.m_nAppIDVOD&&t.SetBookmarkAdapter(new $.a(e.m_nAppIDVOD)),this.m_player.PlayMPD(e.m_manifestURL,null),this.SetVolume(this.m_nVolume),this.m_player.SetMuted(this.m_bMuted)},e.prototype.Stop=function(){this.m_listeners.Unregister(),this.m_BroadcastInfo&&(ue.StopInfo(this.m_BroadcastInfo),this.m_BroadcastInfo=null),this.m_gameDataParser=null,this.m_player&&(this.m_player.Close(),this.m_player=null)},e.prototype.TogglePlayPause=function(){!this.m_player||this.m_player.IsPaused()?this.Play():this.Pause()},e.prototype.Play=function(){var e=this.GetBroadcastState();e==Y.None||this.IsBroadcastClip()?ue.StartVideo(this):e==Y.Ready&&(ue.SetActiveVideo(this),this.m_player?this.m_player.Play():this.StartBroadcast(ue.GetBroadcast(this.m_steamIDBroadcast)))},e.prototype.Pause=function(){console.log("Pause ",this.m_steamIDBroadcast,this.m_nBroadcastAppIDVOD,this.m_broadcastClipID),this.m_player&&this.m_player.Pause()},e.prototype.JumpTime=function(e){this.m_player.JumpTime(e)},e.prototype.Seek=function(e){this.m_player.Seek(e)},e.prototype.SeekAndPlay=function(e){this.m_player.SeekAndPlay(e)},e.prototype.JumpToLiveEdge=function(){this.m_player.IsLiveContent()?this.SeekAndPlay(this.m_player.GetBufferedLiveEdgeTime()):this.SeekAndPlay(this.m_player.GetAvailableVideoStartTime())},e.prototype.SetVolume=function(e){this.m_player&&this.m_player.SetVolume(e),this.m_nVolume=this.m_player.GetVolume(),ue.SaveVolumeChange(e,this.m_bMuted)},e.prototype.SetMute=function(e){this.m_player&&this.m_player.SetMuted(e),this.m_bMuted=e,ue.SaveVolumeChange(this.m_nVolume,e)},e.prototype.IsMuted=function(){return this.m_bMuted},e.prototype.OnVideoPlaying=function(){this.m_bPaused=!1,0===this.m_editorStartTime&&0===this.m_editorEndTime&&(this.m_editorStartTime=this.GetVideoAvailableStartTime(),this.m_editorEndTime=this.GetVideoAvailableStartTime()+this.GetTimelineDuration())},e.prototype.OnVideoPause=function(){this.m_bPaused=!0},e.prototype.OnVideoTimeUpdate=function(){this.IsBroadcastClip()?(this.m_nPlaybackTime=this.m_player.GetCurrentPlayTime(),this.m_nVideoStartPos=this.m_player.GetAvailableVideoStartTime(),this.m_nVideoEndPos=this.m_player.GetBufferedLiveEdgeTime(),this.m_nTimelineDuration=this.m_nVideoEndPos-this.m_nVideoStartPos,this.m_bOnLiveEdge=!1,this.m_bBuffering=this.m_player.IsBuffering()):(this.m_nPlaybackTime=this.m_player.GetCurrentPlayTime(),this.m_nVideoStartPos=this.m_player.GetAvailableVideoStartTime(),this.m_nVideoEndPos=Math.max(this.m_player.GetBufferedLiveEdgeTime(),this.m_nPlaybackTime),this.IsBroadcastVOD()&&(this.m_nTimelineDuration=this.m_nVideoEndPos),this.m_bBuffering=this.m_player.IsBuffering(),this.m_bOnLiveEdge=this.m_nVideoEndPos-this.m_nPlaybackTime<5,this.m_player.IsPaused()&&(this.m_bOnLiveEdge=!1))},e.prototype.OnGameDataUpdate=function(e){var t,n,r,i=e.detail;i&&"object"==typeof i.gamedata&&(this.m_gameDataParser&&this.m_gameDataParser.GetAppID()==i.gamedata.__appid||(this.m_gameDataParser=new c(i.gamedata.__appid)),t=this.m_player.GetLiveContentStartTime().getTime(),"timelinemarkers"in i.gamedata?((n=this.m_gameDataParser.UpdateMarkers(i.gamedata.__timelinemarkers,t))&&(this.m_rgMarkers.replace(n.rgMarkers||[]),this.m_rgSegments.replace(n.rgSegments||[])),(r=this.m_gameDataParser.UpdateRegions(i.gamedata.__regions))&&this.m_rgRegions.replace(r)):"soundtrack"in i.gamedata&&this.m_gameDataParser.UpdateSoundtrack(this.m_steamIDBroadcast,i.gamedata.soundtrack))},e.prototype.OnDownloadFailed=function(){ue.BroadcastDownloadFailed(this)},e.prototype.OnWebRTCRetry=function(){ue.BroadcastDownloadFailed(this,!1)},e.prototype.OnWebRTCFailed=function(){ue.BroadcastDownloadFailed(this,!0)},e.prototype.OnUserInputNeeded=function(){this.m_bUserInputNeeded=!0},e.prototype.UserInputClick=function(){this.m_bUserInputNeeded=!1,this.m_player?this.JumpToLiveEdge():this.Play()},e.prototype.StopPlaybackTillUserInput=function(){this.Stop(),this.OnUserInputNeeded()},e.prototype.GetTimelineStartPos=function(){return this.m_nVideoEndPos-this.m_nTimelineDuration},e.prototype.GetTimelineDuration=function(){return this.m_nTimelineDuration},e.prototype.GetTimeAtMousePosition=function(e,t,n,r){var i=f.c(e,t.left,t.right,n,r);return Math.floor(i+.5)},e.prototype.GetPercentOffsetFromTime=function(e,t){var n=0,r=0;return t==te.Timeline?n=(r=this.m_nVideoEndPos)-this.m_nTimelineDuration:r=n=0,f.c(e,n,r,0,100)},e.prototype.GetTimelineMarkers=function(){return this.m_rgMarkers},e.prototype.GetTimelineSegments=function(){return this.m_rgSegments},e.prototype.GetGameDataRegions=function(){return this.m_rgRegions},e.prototype.BHasMarkersOrSegments=function(){return this.has_segments||this.has_markers},e.prototype.GetThumbnailForTimestamp=function(e){return this.m_player.GetThumbnailForTimestamp(e)},Object.defineProperty(e.prototype,"has_markers",{get:function(){return 0<this.m_rgMarkers.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"has_segments",{get:function(){return 0<this.m_rgSegments.length},enumerable:!1,configurable:!0}),Object(S.c)([l.observable],e.prototype,"m_bPaused",void 0),Object(S.c)([l.observable],e.prototype,"m_nPlaybackTime",void 0),Object(S.c)([l.observable],e.prototype,"m_bBuffering",void 0),Object(S.c)([l.observable],e.prototype,"m_bOnLiveEdge",void 0),Object(S.c)([l.observable],e.prototype,"m_nVolume",void 0),Object(S.c)([l.observable],e.prototype,"m_bMuted",void 0),Object(S.c)([l.observable],e.prototype,"m_bUserInputNeeded",void 0),Object(S.c)([l.observable],e.prototype,"m_bIsReplay",void 0),Object(S.c)([l.observable],e.prototype,"m_nTimelineDuration",void 0),Object(S.c)([l.observable],e.prototype,"m_nVideoStartPos",void 0),Object(S.c)([l.observable],e.prototype,"m_nVideoEndPos",void 0),Object(S.c)([l.observable],e.prototype,"m_editorStartTime",void 0),Object(S.c)([l.observable],e.prototype,"m_editorEndTime",void 0),Object(S.c)([l.action.bound],e.prototype,"StartBroadcast",null),Object(S.c)([l.action.bound],e.prototype,"StartClip",null),Object(S.c)([l.action.bound],e.prototype,"StartVOD",null),Object(S.c)([s.a],e.prototype,"OnVideoPlaying",null),Object(S.c)([s.a],e.prototype,"OnVideoPause",null),Object(S.c)([l.action.bound],e.prototype,"OnVideoTimeUpdate",null),Object(S.c)([l.action.bound],e.prototype,"OnGameDataUpdate",null),Object(S.c)([s.a],e.prototype,"OnDownloadFailed",null),Object(S.c)([s.a],e.prototype,"OnWebRTCRetry",null),Object(S.c)([s.a],e.prototype,"OnWebRTCFailed",null),Object(S.c)([s.a],e.prototype,"OnUserInputNeeded",null),e}(),ue=new ce;window.uiBroadcastWatchStore=ue},bqmO:function(e,t){e.exports="/images/eaplay_collection.jpg"},bxBv:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c});var r=n("mrSG"),a=n("mC9v"),o=n("hRO2"),s=(n("NtSG"),n("RD/U")),i=(n("kLLr"),function(){function r(e,t,n,r,i){if(r)this.m_eMsg=r.m_eMsg,this.m_bValid=r.m_bValid,this.m_bValid&&(this.m_netPacket=r.m_netPacket,this.m_cubHeader=r.m_cubHeader,this.m_header=r.m_header,this.InitForType(n));else{if(this.m_header=new s.f(null),this.m_bValid=!0,t)if(this.m_netPacket=t,this.m_netPacket.SeekGetHead(),this.m_eMsg=this.m_netPacket.GetUint32(),2147483648&this.m_eMsg){this.m_eMsg=2147483647&this.m_eMsg,this.m_cubHeader=this.m_netPacket.GetUint32();try{s.f.deserializeBinaryFromReader(this.m_header,new o.BinaryReader(this.m_netPacket.GetPacket(),this.m_netPacket.TellGet(),this.m_cubHeader)),this.m_netPacket.SeekGetCurrent(this.m_cubHeader),n&&this.InitForType(n)}catch(e){console.error("Exception deserializing protobuf",e),this.m_bValid=!1}}else this.m_bValid=!1;else e&&(this.m_eMsg=e),n&&(this.m_body=new n);i&&this.m_header.set_jobid_target(i.Hdr().jobid_target())}}return r.InstallErrorReportingStore=function(e){this.sm_ErrorReportingStore=e},r.InitHeaderFromPacket=function(e){return new r(void 0,e)},r.prototype.InitForType=function(e){if(this.m_body=new e,this.m_netPacket){this.m_netPacket.SeekGetHead(8+this.m_cubHeader);try{e.deserializeBinaryFromReader(this.m_body,new o.BinaryReader(this.m_netPacket.GetPacket(),this.m_netPacket.TellGet(),this.m_netPacket.GetCountBytesRemaining()))}catch(e){this.m_bValid=!1;var t=r.sm_ErrorReportingStore,n="Exception parsing protobuf message body of type "+this.m_eMsg+".  Definitions may be out of sync with server version.";t&&t.ReportError(new Error(n),{bIncludeMessageInIdentifier:!0}),console.warn(n),console.log(e.stack||e)}}},r.prototype.BIsValid=function(){return this.m_bValid},r.prototype.Body=function(){return this.m_body},r.prototype.SetBodyJSON=function(e){e.toObject=function(){return e},this.m_body=e},r.prototype.Hdr=function(){return this.m_header},r.prototype.GetEMsg=function(){return this.m_eMsg},r.prototype.SetEMsg=function(e){this.m_eMsg=e},r.prototype.GetEResult=function(){return this.Hdr().eresult()},r.prototype.Serialize=function(){var e=this.m_header.serializeBinary(),t=this.m_body.serializeBinary(),n=2147483648|this.m_eMsg,r=new Uint8Array(8+e.length+t.length),i=new a.b(r);return i.PutUint32(n),i.PutUint32(e.length),i.PutBytes(e),i.PutBytes(t),r},r.prototype.SerializeBody=function(){var e=this.m_body.serializeBinary(),t=new Uint8Array(e.length);return new a.b(t).PutBytes(e),t},r.prototype.DEBUG_ToObject=function(){return{}},r.prototype.DEBUG_LogToConsole=function(){},r}()),c=function(i){function n(e,t,n,r){return void 0===t&&(t=0),i.call(this,t,n,e,r)||this}return Object(r.d)(n,i),n.InitFromPacket=function(e,t){return new n(e,0,t)},n.InitFromMsg=function(e,t){return new n(e,void 0,void 0,t)},n.Init=function(e,t){return new n(e,t)},n.prototype.Body=function(){return i.prototype.Body.call(this)},n.prototype.SetBodyFields=function(e){var n=this,r=this;for(var t in e)!function(t){Array.isArray(e[t])?r.Body()["add_"+t]&&e[t].forEach(function(e){n.Body()["add_"+t](e)}):r.Body()["set_"+t]&&r.Body()["set_"+t](e[t])}(t)},n}(i)},bxiW:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return l});n("mrSG"),n("Gp1o");var o=n("q1tI");function r(e,t,n){return{get:function(){var e=n.value.bind(this);return this.hasOwnProperty(t)||Object.defineProperty(this,t,{value:e}),e}}}function i(e,t){return function(e,t,n){return n}}function a(e,t,n){return[e,t,n]}function s(t,e,n){var r=o.useState(n),i=r[0],a=r[1];return o.useEffect(function(){var e=t();e&&e.then(a)},e),i}function c(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}function l(){var e=o.useState(0),t=e[0],n=e[1];return function(){return n(t+1)}}},bydJ:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",Container:"appfilterpane_Container_170Np",FilterArea:"appfilterpane_FilterArea_1ennW",WideFormat:"appfilterpane_WideFormat_3BoPG",FilterBucket:"appfilterpane_FilterBucket_1axoi",ExtraTall:"appfilterpane_ExtraTall_1001p",FilterBucketBoxes:"appfilterpane_FilterBucketBoxes_32e6r",DoubleWide:"appfilterpane_DoubleWide_23rzp",FilterBucketLabel:"appfilterpane_FilterBucketLabel_3iV2v",Row:"appfilterpane_Row_1J53P",Checkbox:"appfilterpane_Checkbox_2AOkQ",SearchResultsBox:"appfilterpane_SearchResultsBox_MIMuV",SaveButton:"appfilterpane_SaveButton_1bqGA"}},"c+D6":function(e,t,n){e.exports={StoreSalePriceWidget:"packagepricewidget_StoreSalePriceWidget_NIRD8",StoreSaleDiscountedPriceCtn:"packagepricewidget_StoreSaleDiscountedPriceCtn_2M2uu",StoreSalePriceBox:"packagepricewidget_StoreSalePriceBox_pk-Lo",StoreSaleDiscountBox:"packagepricewidget_StoreSaleDiscountBox_XMxka",StoreOrignalPrice:"packagepricewidget_StoreOrignalPrice_3TcPB"}},c7cM:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var c=n("mrSG"),l=n("q1tI"),u=n("VeD8"),p=n("pQ8y"),d=n("exH9"),i=(n("/4Qd"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.keyExtractor,n=e.style,r=e.duration,i=e.className,a=e.children,o=Object(c.f)(e,["keyExtractor","style","duration","className","children"]),s=Object(c.a)(Object(c.a)({},n||{}),{transitionDuration:r/1e3+"s"});return l.createElement(u.a,Object(c.a)({},o,{className:Object(d.a)("crossfade",i)}),l.createElement(p.a,{classNames:"crossfade-anim",timeout:r||500,key:t(),style:s},a))},t}(l.Component)),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=Object(c.f)(e,["src"]),r={backgroundImage:"url("+t+")"};return l.createElement(i,Object(c.a)({style:r,keyExtractor:function(){return t}},n),l.createElement("div",{className:"crossfade-img"}))},t}(l.Component)},cGQe:function(e,t,n){"use strict";n.d(t,"a",function(){return G});var c=n("mrSG"),r=n("TyAF"),i=n("wd/R"),d=n("q1tI"),l=n("mgoM"),a=n("TtDX"),o=n("5bld"),s=n("TQGK"),m=n("O0NR"),h=n("5izx"),f=n("9w6b"),u=n("2vnA"),b=n("lkRc"),p=n("vDqi"),_=n.n(p),v=new(function(){function e(){this.m_bValidatedEmail=!1,this.m_nMobileDeviceCount=0,this.m_bIsLoaded=!1,this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var e,t=this;this.m_bLoadedFromConfig||(e=Object(b.g)("notificationstore","application_config"),this.ValidateStoreDefault(e)&&Object(u.runInAction)(function(){t.m_bIsLoaded=!0,t.m_bValidatedEmail=e.email_validated,t.m_nMobileDeviceCount=e.mobile_device_count}),this.m_bLoadedFromConfig=!0)},e.prototype.ValidateStoreDefault=function(e){return e&&"object"==typeof e&&"number"==typeof e.mobile_device_count},e.prototype.BIsLoaded=function(){return this.m_bIsLoaded},e.prototype.BHasValidatedEmail=function(){return this.m_bValidatedEmail},e.prototype.BHasPushNotification=function(){return 0<this.m_nMobileDeviceCount},e.prototype.HintLoad=function(){return Object(c.b)(this,void 0,void 0,function(){return Object(c.e)(this,function(e){return this.LazyInit(),!this.m_bIsLoaded&&b.h.logged_in?(this.m_promise||(this.m_promise=this.InternalLoad()),[2,this.m_promise]):[2,1]})})},e.prototype.InternalLoad=function(){return Object(c.b)(this,void 0,void 0,function(){var t,n,r,i=this;return Object(c.e)(this,function(e){switch(e.label){case 0:return t=b.c.STORE_BASE_URL+"notification/ajaxusersettings",n={authwgtoken:b.h.authwgtoken},[4,_.a.get(t,{params:n,withCredentials:!0})];case 1:return 1==(r=e.sent()).data.success&&Object(u.runInAction)(function(){i.m_bIsLoaded=!0,i.m_bValidatedEmail=r.data.email_validated,i.m_nMobileDeviceCount=r.data.mobile_device_count}),[2,r.data.success]}})})},Object(c.c)([u.observable],e.prototype,"m_bValidatedEmail",void 0),Object(c.c)([u.observable],e.prototype,"m_nMobileDeviceCount",void 0),e}()),g=n("+jbA"),y=n("Mgs7"),S=n("YLyR"),w=n("Jqb/"),C=n("ka0M"),O=n("6Y59"),E=n("0OaU"),B=n("5E+2"),A=n("exH9"),I=n("TLQK"),j=n("bDQf"),D=n("bxiW"),R=n("CdLH"),T=n("IzPI"),M=n("bWts"),N=n.n(M),L=n("mB/g"),k=n("R3/U"),F=n("fpVW"),P=n("BFsE"),G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_elDropDownRef=d.createRef(),e.m_bLoadWasCancelled=!1,e.state={bIsOpen:!1,bIsLoadingNotificationSettings:!v.BIsLoaded()},e}return Object(c.d)(e,t),e.prototype.componentDidMount=function(){var t=this;this.state.bIsLoadingNotificationSettings&&v.HintLoad().catch(function(e){return console.error("EventReminderWidget load fail: "+Object(j.a)(e).strErrorMsg),2}).then(function(e){1!=e||t.m_bLoadWasCancelled||t.setState({bIsLoadingNotificationSettings:!1})}),!this.props.eventModel.appid&&this.props.eventModel.clanSteamID&&s.a.LoadClanInfoForClanSteamID(this.props.eventModel.clanSteamID)},e.prototype.componentWillUnmount=function(){this.m_bLoadWasCancelled=!0},e.prototype.ToggleMenu=function(e){var t=f.a.Get().BIsUserLoggedIn();t||b.c.IN_CLIENT?(!t&&b.c.IN_CLIENT&&console.log("EventReminderWidget: In Client: Cannot use login widget. We expect to be already logged in."),this.state.bIsOpen?this.HideMenu():this.ShowMenu(),e.stopPropagation(),e.preventDefault()):Object(C.d)(d.createElement(w.c,{strTitle:Object(I.f)("#EventDisplay_Share_NotLoggedIn"),strDescription:Object(I.f)("#EventDisplay_Share_NotLoggedIn_Description"),strOKButtonText:Object(I.f)("#MobileLogin_SignIn"),onOK:function(){return Object(P.a)()}}),window)},e.prototype.ShowMenu=function(){var e,t,n=this;this.m_iMenuInstance?this.m_iMenuInstance.Show():(e=d.createElement(x,Object(c.a)({},this.props,{fnHasReminderSet:function(){return n.BHasSomeNotificationSetting()},fnHidePanel:this.HideMenu})),t={bOverlapHorizontal:!0,bOverlapVertical:!0,bDisablePopTop:!0,bMatchWidth:!0,strClassName:Object(A.a)(k.ReminderDialog,k.ReminderOptions,g.contextMenu)},this.m_iMenuInstance=Object(a.a)(e,this.m_elDropDownRef.current,t),this.m_iMenuInstance.SetOnHideCallback(this.HideMenu)),this.setState({bIsOpen:!0}),m.b.RecordAppInteractionEvent(this.props.eventModel.appid,m.a.k_eReminder_Opened)},e.prototype.HideMenu=function(){this.m_iMenuInstance&&this.m_iMenuInstance.Hide(),this.setState({bIsOpen:!1})},e.prototype.BHasSomeNotificationSetting=function(){var e=this.props,t=e.eventModel,n=e.eventGID;return v.BHasValidatedEmail()&&f.a.Get().BFollowsEventAndNotifiedBy(t.clanSteamID,n,f.b.k_ENotifyFlagByEmail)||v.BHasPushNotification()&&f.a.Get().BFollowsEventAndNotifiedBy(t.clanSteamID,n,f.b.k_ENotifyFlagByPush)},e.prototype.render=function(){var e=this.props.bOnlyShowIcon&&!this.state.bIsOpen,t=this.BHasSomeNotificationSetting();return d.createElement("div",{className:Object(A.a)(k.ReminderCheckBox,N.a.ReminderCtn,e?k.IconMode:k.TextMode),onClick:this.ToggleMenu,ref:this.m_elDropDownRef},t&&d.createElement("div",{className:k.RemindCheck},d.createElement(O.n,null)),e&&d.createElement("div",{className:k.RemindBell},d.createElement(O.f,null)),d.createElement("div",{className:k.ReminderDefault},Object(I.f)("#EventDisplay_Reminder_SetReminder")),d.createElement("div",{className:k.ReminderOptions}))},Object(c.c)([D.a],e.prototype,"ToggleMenu",null),Object(c.c)([D.a],e.prototype,"ShowMenu",null),Object(c.c)([D.a],e.prototype,"HideMenu",null),Object(c.c)([r.observer],e)}(d.Component);function U(e){return i.unix(e).utc().format("YYYYMMDD[T]HHmmss[Z]")}var x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bIsRequestInFlight:!1},e}return Object(c.d)(e,t),e.prototype.OnChangeFollowOrIgnore=function(a,o,s){return Object(c.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(c.e)(this,function(e){switch(e.label){case 0:if(t=this.props,n=t.eventGID,r=t.eventModel,!n||n==l.i)return[3,5];this.setState({bIsRequestInFlight:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,f.a.Get().SetFollowOrUnfollowEvent(!a,o,r.clanSteamID,n,s)];case 2:return e.sent(),a&&(s===f.b.k_ENotifyFlagByEmail?this.TrackEventAction(m.a.k_eReminder_Email):s===f.b.k_ENotifyFlagByPush&&this.TrackEventAction(m.a.k_eReminder_MobilePush)),[3,4];case 3:return i=e.sent(),Object(C.c)(d.createElement(w.e,{strTitle:Object(I.f)(o?"#EventDisplay_Reminder_IgnoreEvent_Error":"#EventDisplay_Reminder_FollowEvent_Error"),strDescription:Object(I.f)(o?"#EventDisplay_Reminder_IgnoreEvent_ErrorDesc":"#EventDisplay_Reminder_FollowEvent_ErrorDesc")},Object(j.a)(i).strErrorMsg),window),[3,4];case 4:this.setState({bIsRequestInFlight:!1}),e.label=5;case 5:return[2]}})})},e.prototype.OnChangeFollowByEmail=function(e){this.OnChangeFollowOrIgnore(e,!1,f.b.k_ENotifyFlagByEmail)},e.prototype.OnChangeFollowByPush=function(e){this.OnChangeFollowOrIgnore(e,!1,f.b.k_ENotifyFlagByPush)},e.prototype.GetExternalCalendarEventTitle=function(){var e=this.props,t=e.eventModel,n=e.lang,r=t.GetNameWithFallback(n);return o.d.BHasEntityNameForID(t.appid,t.clanSteamID.GetAccountID())?o.d.GetEntityNameForID(t.appid,t.clanSteamID.GetAccountID())+": "+r:r},e.prototype.TrackEventAction=function(e){var t=this.props.eventModel;m.b.RecordAppInteractionEvent(t.appid,e)},e.prototype.GetExternalCalendarEventBody=function(){var e=this.props,t=e.eventModel,n=(e.eventGID,e.lang),r=(r=t.GetSubTitleWithLanguageFallback(n))?r+"\n\n\n":"",i=t.GetSummaryWithFallback(n),a=t.jsondata.bSaleEnabled?L.a.k_eStoreSalePage:L.a.k_eStoreView;return""+r+i+"\n\n"+Object(L.d)(t,a,"forceAbsolute")},e.prototype.GetGoogleCalendarLink=function(){var e=this.props.eventModel,t=encodeURIComponent(this.GetExternalCalendarEventTitle()),n=encodeURIComponent(this.GetExternalCalendarEventBody()),r=e.GetStartTimeAndDateUnixSeconds(),i=U(r),a=U(e.GetEndTimeAndDateUnixSeconds()||r+R.g.PerHour),o=(b.c.IN_CLIENT?"steam://openurl_external/":"")+"https://calendar.google.com/calendar/r/eventedit?text="+t+"&details="+n+"&dates="+i+"/"+a;return Object(T.d)(o)},e.prototype.GetICSDownloadLink=function(e){var t=this.props,n=t.eventModel,r=t.eventGID,i=t.lang,a=n.appid?"app/"+n.appid:"group/"+n.clanSteamID.GetAccountID(),o="l="+Object(l.e)(i);return""+b.c.STORE_BASE_URL+Object(L.f)()+"/download/"+a+"/"+e+"/"+r+"?"+o},e.prototype.render=function(){var e=this,t=this.props,n=t.eventGID,r=t.eventModel,i=t.bShowStartTime,a=t.bExpandLeft,o=t.bOnlyShowIcon,s=t.fnHasReminderSet,c=t.fnHidePanel,l=v.BHasValidatedEmail(),u=v.BHasPushNotification(),p=i&&r.GetStartTimeAndDateUnixSeconds();return d.createElement("div",null,d.createElement("div",{className:Object(A.a)(k.ReminderCheckBox,o?k.IconMode:k.TextMode),onClick:c},s()&&d.createElement("div",{className:k.RemindCheck},d.createElement(O.n,null)),o&&d.createElement("div",{className:k.RemindBell},d.createElement(O.f,null)),d.createElement("div",{className:k.ReminderDefault},Object(I.f)("#EventDisplay_Reminder_SetReminder")),d.createElement("div",{className:k.ReminderOpennedOptions})),d.createElement("div",{className:Object(A.a)(k.FlexColumnContainer,k.ReminderBackground,a&&k.ReminderExpandsLeft)},this.state.bIsRequestInFlight&&d.createElement(E.a,{className:k.RpcThrobber,size:"xlarge",position:"center"}),p&&d.createElement("div",{className:k.FullStartTime},Object(I.o)("#EventDisplay_EventUpcoming_WithDateAndTime",Object(I.l)(p,Object(R.c)(new Date(1e3*p),h.a.GetTimeNowWithOverrideAsDate())),Object(S.d)(p,!0))),d.createElement("div",{className:k.ReminderOptionsHeader},Object(I.f)("#EventDisplay_Reminder_GetNotification_Via")),d.createElement("div",{className:Object(A.a)(k.ReminderOption,!l&&k.Unverified)},d.createElement(B.d,{className:k.CheckboxWrapper,strTooltipClassname:k.ReminderOptionTooltip,toolTipContent:Object(I.f)(l?"#EventReminder_NotifyByEmail_ttip":"#EventReminder_NotifyByEmail_Missing")},d.createElement(y.e,{label:Object(I.f)("#EventDisplay_Reminder_ViaEmail"),disabled:!l,checked:f.a.Get().BFollowsEventAndNotifiedBy(r.clanSteamID,n,f.b.k_ENotifyFlagByEmail),onChange:this.OnChangeFollowByEmail})),!l&&d.createElement("div",{className:F.FlexColumnContainer},d.createElement("a",{href:b.c.STORE_BASE_URL+"account/",target:b.c.IN_CLIENT?void 0:"_blank",onClick:function(){return e.TrackEventAction(m.a.k_eReminder_EmailUnverified)}},Object(I.f)("#EventReminder_NotifyByEmail_Missing_Add")))),d.createElement("div",{className:Object(A.a)(k.ReminderOption,!u&&k.Unverified)},d.createElement(B.d,{className:k.CheckboxWrapper,strTooltipClassname:k.ReminderOptionTooltip,toolTipContent:Object(I.f)(u?"#EventReminder_NotifyByMobile_ttip":"#EventReminder_NotifyByMobile_Missing")},d.createElement(y.e,{label:Object(I.f)("#EventDisplay_Reminder_ViaMobileApp"),disabled:!u,checked:f.a.Get().BFollowsEventAndNotifiedBy(r.clanSteamID,n,f.b.k_ENotifyFlagByPush),onChange:this.OnChangeFollowByPush})),!u&&d.createElement("div",{className:F.FlexColumnContainer},d.createElement("a",{href:b.c.STORE_BASE_URL+"mobile/?show=steamapp",target:b.c.IN_CLIENT?void 0:"_blank",onClick:function(){return e.TrackEventAction(m.a.k_eReminder_MobilePushMissing)}},Object(I.f)("#EventReminder_NotifyByMobile_Install")))),d.createElement(d.Fragment,null,d.createElement("div",{className:k.ReminderOptionsHeader},Object(I.f)("#EventDisplay_Reminder_AddToCalendar")),d.createElement("div",{className:k.ReminderCalendarOptions},d.createElement("a",{className:k.ReminderOption,href:this.GetICSDownloadLink("ics"),onClick:function(){return e.TrackEventAction(m.a.k_eReminder_CalendarApple)}},Object(I.f)("#EventDisplay_Reminder_AppleCalendar_Short")),d.createElement("a",{className:k.ReminderOption,target:b.c.IN_CLIENT?void 0:"_blank",href:this.GetGoogleCalendarLink(),onClick:function(){return e.TrackEventAction(m.a.k_eReminder_CalendarGoogle)}},Object(I.f)("#EventDisplay_Reminder_GoogleCalendar_Short")),d.createElement("a",{className:k.ReminderOption,href:this.GetICSDownloadLink("outlook"),onClick:function(){return e.TrackEventAction(m.a.k_eReminder_CalendarOutlook)}},Object(I.f)("#EventDisplay_Reminder_OutlookCalendar_Short")))),!1))},Object(c.c)([D.a],e.prototype,"OnChangeFollowByEmail",null),Object(c.c)([D.a],e.prototype,"OnChangeFollowByPush",null),Object(c.c)([D.a],e.prototype,"TrackEventAction",null),Object(c.c)([r.observer],e)}(d.Component)},ccG0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyNjlFOEM1MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyNjlFOEM2MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjI2OUU4QzMyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjI2OUU4QzQyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4IrEPeAAABJ0lEQVR42mL8//8/AzmABUScEOZJI1HfLBaoppmk2sh4Ql/r/69HD0jSxCanwMD07eVzhl9ADgz/ZmJikMjOY2CUlEIRR8YgPYzbBLhQQoeJl4/B7uY9hv9//jC8XLWc4UFfD8OPZ08xbGX6CSSQ8XdgKH/79o3h+69fDHwBwQy6ew8ySOYXMfxiZERRx/ILPTqA/K9fv8K5f4EG3Pn5i+EfSB2SWpaf6G6A2vgP6NSrWzYz3J8zk0Hk9SsGVka0ePzLxs7w9ydC+3+gpn29PQzv9uxiEHz7mkEY6ESQPb+QHMbMwcHAwiotw/Dj3h2E6L+/DIyrljKIgCMLGMoMmCmLQ0qagdnh66fn/xgYfP+B9BCJv79/lw5KcrPISKqzGMlN5AABBgBSmY83jVsiQAAAAABJRU5ErkJggg=="},ccan:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcwAAADXCAYAAACXvWFqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0idXVpZDo3MTc0ODE5QTJDNzVERDExOEEyOUNEMDg2REUyODhBMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowRjZFMzNCNkFDQTkxMUU0OUNFMTlDQjg0NkVGOTJBOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowRjZFMzNCNUFDQTkxMUU0OUNFMTlDQjg0NkVGOTJBOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg3REEwQThDMzUzMUUzMTE5NjQ4QUJEOUUwNUU2NkUxIiBzdFJlZjpkb2N1bWVudElEPSJ1dWlkOjcxNzQ4MTlBMkM3NUREMTE4QTI5Q0QwODZERTI4OEEwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Zc2CVwAAEjlJREFUeNrs3Qlwk+edx/HHB75tYjBHCSEkJJCDBDYk6SYNOcokNJBMj9lmd3Y62052ttNuNrNt0myPsAlNYEjabWm7ySaZBDAmgZgrYGNscxvZ8sXlC8uyJVuyfMiWJRPwAdjWvo+QjGRJtolt2bG+H+Yd60WyLL8w85v/8z7P/wlJfWmvGA8v7/pZqPIl/C9PfvKR8vUnAh7aoho1KUWbNxmsdfXyVDksymFTjgvK0a0cV5Wjz2w227laADD2wsfjhx6sOBC+bvU7D8Z1JL2hnD7NP4OnrgRbU6FWnekMS6tbWH7pCsv//eGHvVwpAAic0PGoLGfFz7pJCcvfKqfPjldoT1B9LRHGkg9U7/35kCarcEBlKcOyy1VZcqkAYBJXmDIs3/jOW4umdc95TTn9Npffq7I0nyw/cdBoM/gdhqWyBIBJHphuYfm+cvoUl95DjyXSpDlRfiw9V3+yRFwbhm0TA4ZhqSwBYJIHpgzLZ+95LkYJy18op8u57J7aY8yG3adTP9OYK2upLAEgSANThuXbqzc8FN8xY71yuoJL7qkjrs2orlGl69t0Rn+VJWEJAJM8MGVY3jljYYQSlr8gLL1ZIk1lW3I/2drQbjI5g7LNGZoeS0e4UgAwiQNThuW61e/cH9eRJCf4PMel9tSV0N6cp1FlO8PSfekIw7AAECyBKcPyN0+vmaeE5TvK6Uous4eelghjReaZjH1nTacrhZ91llSWADDJA1OG5S+fem327Kvzf6OcPsYl9nQp1tKYcS59T0nDWa1ggg8ABGdgOif4PBDfMeOPyumTXF4PdltMsy635mRalblSJ1g6AgDBGZiu3rBKWP4HYenNGtWoSc7ftMloM5jEIL1hleqS3rAAMFkDU/aGVSrLZUpYutrdwU13QntzgVad5QxLesMCwNfQiHvJysry1mnzk5SwfF05/a5yRHBZ+zl6w24u+Phvzt6wA8OS3rAAEAwVpgzLN1etW5DYOfu/BO3uvMjesMdKj2RoW6r0zrBsFUzwAYDgCkwZlr9ftX7x1M5ZGwWN1AfqbYts0Koqc9JPGYvKBEtHACA4A1OG5cy4mVOUsHxZOX0ikB+43HZOLE5cOqEvanuMue7z4s9Sqlu1rt6wXh18qCwBYJIH5ub8j8PWrX7nobiOpLdEgDd/3m/YKU5Z8oUuSSu+e+sLE/KCdsbbGvKrc9NrrbUGcX3piFUwwQcAgicwnbuORCth+cp4haV0c+wtE/JitkQYyz7N3Zri3M/SNQzrCksm+ABAMASmsynB4viOGa+KAC8daeys7w9LWVk+mPTIhLuQsjdsfmVe1mBhSWUJAJM8MGVYrlm5doESlv8T6MrSEUY9Xf2PJ2BYyt6w54+UHEorMhSUU1kCQJAGpgzLny9/eXrS5bm/EuPUG3Za5PT+x7LSHBiaXb2dIjosZlwu4MXY1oaMc2m7SxrOaQVLRwBg0godKizfXr3hwUVhS1KV058qR/R4fMhEJTCXz762nab7vUxXWCZrP3T8faC1x5j1Kl3O3iqzRidYOgIAwVlhuvWGlUtHAtqUwFfF+MzNz4munk5HWMpwlI/nxNwiVOajjnuctstt4pm5zwWs0rREmipS8rckO+9Zui8d8RiGpTcsAEziwJRLR5y7jsjNn58P5AeSgXjIdED8ZOHPHIHozrWUxPGahgMez8nXByosHRN8qtTZbhN8vMKSYVgAmFxCfVWWTy1cMVsJy7XK6Q+VIyqQlWVxa37/MKusHAeSoSmrTVc4yuHan9/9ile4jpFec4ShZFtR8vtHqw4VCSb4AEDQCEl9aa9HWK5ZuXZe0uW5cteRf1aOuEB/IPewlKHoq9IcL53x1oZ9pXu3uM2GHfcJPi+8933+FwNAICtMGZZrV61fooTlFnFtgk/AwlLef9R9qXV8dQ9JX5Wm6x5mgPXK/SyPVB3accZ0+rxggg8ABJ1wV1jKxzd1zgr45s/yXqSq+Wj/uZwNK4dcZWi6wlJ+lecyVF33LmU/2QUJCwPyGa3RTbrPilO26Cw1st0dmz8DQBAKWfnAs2E/WPIPD8Z3zHhTOX9GOcIC9cMHLhFxkdWlDEjJ171MGaiuZSZjrSvB1nhCe2znoarsQru9zxWWE2aCD0OyABAYoYtm3RXnnA377HiFpZzI8/ayjeIfb/+xY0hWBmSqfqvPe5gBDEu73Pz5A9V7G7M1mQVKWFoEE3wAIGiF/338U392VpYBI+9NVthKHI/lLNd7E5c4HsthVtnVR1aVcvhVDtXKcJSzYOW5fC7RrevPGFeWzaqKnIG9YengAwDBWmEqx4vKER/IH+qqHOVXOdFHBqQMUUlWk8tnX9uPWtV8rP975P3KAIVljyXSVJ5evj9Zpcs5K5jgAwAQQ7TGG0uu+5SuIdiBoemqRAPtQmyLcU/Jrh1qfa4sgeU9y1ZxffPn/nuWTPABgOASPpJvvtJ7RZxvKRUVymFsrxOdVzuEXfkTFR4t5ibME/fOul/cO/N+ETMldtDQdJ8N+0+3/9jR7s5VVQbSpViLIU93Mk1nqa4T1zv4UFkCAETI9hfSbrhS6rX3ihP6wyK75oAwXTAO+tqkmJlixYKVYuWdzytB6rtp0MAKUwp00wI5DJtStGXr1603LLNkAWCCVpgtHc3ik1Pvi3JzyfCCqLNFpJZtE0UmtXhx2b+LBdPuHLTSdDVelzNmAxWW3QntzXma3Gwm+AAA/Lmhe5iymlx/Ys2ww9JdrU0nNuS84Ri+9cUVmq6vARqOlZs/l3x+ZvuHx7VHigUTfAAAfgx7SNba1SbePv47Yb7UNKIfGBsRJ15/Yp2Yn3j7uP/yHXFt9XtKdm0+U3+qUnxNN39mSBYAJlCFKSfybDr9f4OG5dSom8Srj60Ra55cL74Rf7P/kLpySXxU/FdxuffyeP7efdboJu2x6qO7yptKtVSWAIBRCcxTpgJxtrF40Nd8c+63xLI5D4t7Zt4nViz4zqCvNbTXisM1GeP2S1ujGqu2Fm76RG7RdaXnSovw08GHpSMAAJchJ/3Y7XaRXrVnyDeKCIvofxwZFjnk67O06WL1wu+LkJCQgP7CXQm2pgKtOstgrTMKNn8GAIxWYOptNaKmTTvkG/XZ+3w+9lvldbU53tvXrNkx0tcSYSzbqd6xo+b6Okt6wwIARicwK1qGNyNW3uf09Xio9w5UYMresCfKjx10hqXPLbqoLAEAX73CtNYMLzDtN367b7jvPUKyN2xVTsXxA/m16lJBBx8AwFgE5peXL9zwmw43PL/Ke9+oCzHmutTi7duqW7VUlgCAr2zIWbJ9dt9ZImfD/mjpv4rbEu/w+71yecmPlr4oHp776A2992jpjLea8vSqA7XWWqO/ypKwBACMSoUZGuK9p3TMlBjx0jdfFYnR0xzLSdYceUV093T1P3+l97KYHpMkXlv+32J23Bzx9B1Xhf5gtbB0tg753qOlNbK+dKtqc4qpvd4kBukNy38BAMCoBObUyJt8VIZ2x04lkgzGXz76W4+Wd1OjEsV/PvJrR1hKV3uvOr5nOO89Grpkb9hKVZYzLOkNCwAYsSGHZG9NvM3r72Q1+X7hnxxLQ6SFSXeLVYu+1//8I/OWizumL3K+tlt8ULRRea1lWO89QrI3bOmeczs/PlF97Iyggw8AIFCBuXjmUp9/X9NWJf6i3iAudLc7zt2bFUwJneL4KqvQDwo3itMNhTf03l/VpVhLQ0ZF2u5TxqIKwebPAIBABuZt0xY4Jvj4Dk2t+Gv+u+LSlYs+q1AZlsUN+T6/d1bcNxzvPUrs7TFmXU7N8b1VZo1OsHQEABDowAwLCRPfu/sFv89rWivEH1Rv9Q/PSpd7usXGvA2i0JTn9/uev+sHjvceDZZIU+Wm/I8+PFyVXdjd0+3eG7a/shT0hgUAjGVgSotnLRGPznvc7/NyePZPuescO5H09PWIv+X/QZSZz/l9/Z3T7xKPz18xKr+AnOCTX6fOqrcZ3Td/tooBS0cISwDASIQP94X/8nf/5tgEuulig8/n5XPvqtaKyLAov5tES3ER8eKnD70swkPDR/rZe80RhvIvCnfv1JgrdcJ7gg9LRwAAgQ/MhMip4lePrRHvnvy9aOlo9lNpDt6kXW4e/cq3fiduTrhlxB+8M97afLT0cLozLOngAwAYU6E38mLZuef1J9eJ+2c/cMM/SHYEev2JdeKuGfeOuLK0RjVqDmuyt58xnT4vmOADAJhIFabLjNiZ4tePvymO1GSKrOp0v0O0LtOik8SKBSsd6zSHs0/mUGwxzfodxZ8mD9YbVjDBBwAw3oEphSh/nr5jlXh8/rdFeUupqDCXCNOXxv41mXLoVQ673jPjPnHf7KWO+5aj4drmz3kZtW16g6A3LABgogemS2R4lFg252HHMdYskaYy2RvWz2xYJvgAACZuYAaKXDpy8vyJTLewbBVM8AEAEJj95ObPmiOlh9IK6vo3f6Y3LACAwHR3Mba1ft+ZPanlTWXVwnMYlsoSABBQoRP1gylhWafS5eyvaa3WCz8dfKgsAQBBXWFaIk0VKeotyUabYdAJPiwdAQAEbWB2J7Sb1Zq8rMHCkmFYAEAwB6bc/Lki43TanpKGc1rB0hEAAIHprTPe2pR17uA+t7B0LR2hsgQAEJiyYrRGN1WrqnIOlDeVuleW7DoCACAwXaxRjdqthZs3Gax18p5lm/Nggg8AgMB06UqwNRZo1ZnOsLT6CkuGYQEAwRyYfeYIQ+mOvE931LXVGgarLPknAgAEbWB2xtuacyqOZ7qFJZs/AwAITDeO3rAnzh87oNbnlgg2fwYAEJje2mPMhl2nPv+sqkVTS2UJAPg6CVgv2Y64NmO+Pje91qo3Cj+7jhCWAICgrjAdmz/n9W/+7LOyFAzDAgCCOTDl5s9qTW622+bPDMMCAAhMN47esNlnM/efri8+L9j8GQBAYHq7FGtpzDiX/kVJw1mNYIIPAIDA9GK3xTTr1DWq9CpzZbVg6QgAgMD0Zo1qrNxasDnZYK0zCnrDAgAITG9dCe1NBVp1tjMs6Q0LACAwB+g1RxjKvyjcnaoxV+oFmz8DAAhMb53xNvPxsqMH3MLStfkzE3wAAASmrCwtkaaqPI0q45SxqFywdAQAQGB6s8U061OLt6dUt2rrxCAdfJjgAwAI2sC8tvlzXkattdZ9gg+9YQEABKZLS4Sx7FPV1hSjzeDqDcvmzwAAAtOzsmxvUlfmZjrDkt6wAAACcwDZG7byWOmRtII6dZlggg8AgMD0djG21ZR2Zt+u8qZSrWDpCACAwPR2IbZFn6c7mVbTqtVRWQIACEwfLJGmihT1luShJviwdAQAELSBKTd/zq9SZ7tN8KE3LACAwHTTY44wVKQX79/jds+S3rAAAALTXWe8tflI6aE0JvgAAOA7MHutUY3VqqqTGSUNZzWCCT4AAHgHpjW6qWZbUfLm2jb9wM2f6Q0LACAwpa4EW1OBNu9gnbXO1wQfhmEBAEEfmHbZG3abKnlbvc1Ib1gAAHwFplw6oqrIyXQLS3rDAgAwMDDTy/clq/W5JcLPFl1UlgAAKIHpDEsqSwAABhEq2PwZAIChK0xxvYOPx9IRLg0AAJ6B6RGWVJYAAHiTQ7JM8AEAYBgVJruOAAAwjAqTyhIAgGEEJr1hAQAYQojdTlYCAEBgAgBAYAIAQGACAEBgAgBAYAIAQGACAEBgAgAAAhMAAAITAAACEwAAAhMAAAITAAACEwAAAhMAABCYAAAQmAAAEJgAABCYAAAQmAAAEJgAABCYAAAQmAAAgMAEAIDABACAwAQAgMAEAIDABACAwAQAgMAEAAAEJgAABCYAAAQmAAAEJgAABCYAAAQmAAAEJgAAIDABACAwAQAgMAEAIDABACAwAQAgMAEAIDABACAwAQAAgQkAAIEJAACBCQAAgQkAAIEJAACBCQAAgQkAAAhMAAAITAAACEwAAAhMAAAITAAACEwAAAhMAAAITAITAAACEwAAAhMAAAITAAACEwAAAhMAAAITAAACEwAAEJgAABCYAAAQmAAAEJgAABCYAAAQmAAAEJgAAIDABACAwAQAgMAEAIDABACAwAQAgMAEAIDABACAwAQAAAQmAAAEJgAABCYAAAQmAAAEJgAABCYAAAQmAAAgMAEAIDABACAwAQAgMAEAIDABACAwAQAgMAEAAIEJAACBCQAAgQkAAIEJAACBCQAAgQkAAIEJAECw+n8BBgCAg0YQj77QeAAAAABJRU5ErkJggg=="},ckHM:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABcFJREFUeNrcm1uIVlUUx/9nlHFmNC0s0ZBxIhS1izZSWQ86OCXzYEhhJSUpXvJFye4ZWSGkpYRmll3MIoseIgvMyLLQLkpFMDV0sbyESSWVOjlUMzn+enBPHTf7XL9vcp8WzMA5Z6+11/qftfde+3/2J0CAiirAWGA10AJ0cFz+Ar4EngTGx+ge/1dEAIBhwBbSyYfAef8bAIDJQBvZ5E/g+sIDAEwCOskv1xUWAKAOaHUEtR9YaOaDOuBC4DZgj6PtH8DIogKwwRHQOqA6on0lsNKh827hAABGOAJZn1L3UYfu2KIBsNgK4BfglJS6vYB9lv4qQBUFmvzHWdfPBEFwJI1iEATtktY47RUoAw5Yb7ApR8EUlvaiZUAv6/qnjPp2+0pJhQKg3bo+NaO+3b6zaADsta4vzahvt99TGACAWscQmAn0TKkfSJpl3d7u/SQI9AceNnW8SxaltDPPoTvJ2zoAqAHuBg4n1PXHgPkJtmaY7XFYvgAqvAMA6AncCPyYcYOzBWgCqkIlcCOwMaJ9Y1f2B13BB0GQ5FyFpAZJEyXVS6qTVCWpwywxLZLekfRmEARtGQMPJF0laYmkYRHNOiQ9JqlV0v0x5lol9ZUUFdDiIAjuS70XMGXkAuD7lG/jN7MBGZAy+PHARwlp/jwwJKRzT86t8DIDdrrtMHAR8HXOzlqB6TGBjwLeSLDxuovJCfEC+1L6cgC4OhMjBNwQ4thKkTVAD2tPv9682SjZAYxLkT3VwFzgPeCoZaPTZNZNQJ9MnCAwPca57SYFrwAagMuB+cBrpr52ybPAGcCKBFC/Aq7MOYFWmi3zBcA5URxBIgDAJRFOfgDUJxgcBDwVEVxc4PuB2WkLmzKuOicCAFQBuxwOLg2ncUrS8vcUw+MwcEeat/VfAXCnw8kHchqf6BiXYV5uGXDaSa47/gXAjCF7z73VrP95O7jXEfyrwGBPCq8TAJjscPbcEjtwUlEeldwnAPCE5ejbZerkLsvuLl8BaLYcnVemToY7Mqu/jwDYn5ouLmNH3Wa7VADCE1xv6/mBMvZl2+rnyzCIm+GDMvbTw8XH+QZAq/VscJnSrIekgdbtQz4CsNN6Vq5xOsrB533jIwA7rGfXlKmPKdZ1S1bCpNtnQvPX6FiuGkq0PRQ4Ytlc4msdUAHstpz9vItny2G8ylFbAIzwEgBzY47D4Rfy7AeA5TFkR62vAFQAnzicfjmKVXERnMDtCYzPobzER7cCEBq3rmMo3wFT40gLQ6ZszUCXrQQqTyYATlocuEzSRkN7u6q6zZI+k3RQUo2k4ZIaJY2M6GuFpCZJrvH/qaRrgyDY7UUGhB42AAdLJEQ7gQXGXm/guRgGeYpXAJgGtcBbOYPf7VpGzaeqthgGuSpjEDXASGC0IUUrywZAqGETsC1l4DvNx8jKhC1yS4R+MzA0wZ++wC1mwu50kK/bgFlJYGT+NggMMezt48AmM+FtNql9K1Af/vKSYKsaWBsBwhFgWoTeNODnlC9jr5nPygNAN43DqY5qsUvWdjHGZnldlWMoHgNu9haA0NLbHBFAi/nQsTwhyKRP6XO9BSBUOq+OodFd8opZrXqGbEwC3ne0bQfO9xaAkFNTIgoxe6KbmpGM/eeIrNcAGMfOBj6OAWBmSjvLHLqjvQfAOBd10Hl7BhvVju8SSwsBQMjJH6wAZmTUX2Lpb4tihb3MAkmDrNs7MpqxM6Y2LSvsg9Q47h3MaMMme/sVCYA2Sfb4HJjRxoA4AL0GIAiCozJHWkMyIaMZu/0uJynq8TywzprEvs1wRPZ0R02xsGirgIutfjAlNbfBUTLXFQoA46irKHooKhOAPsBLDp0XC1EJOgIaE3HIaqc5xFlvjt+NBRZFHLX9FTizkAAYZ2eXQM11uHiBIv5ucE6Ow5utUb8vKupPZ8cknC0OyybgLK8ZoRKAmAA8beaBo6E9fzPwCDAmDSn69wCRm39XiJ/zWQAAAABJRU5ErkJggg=="},cpga:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAgCAYAAABdP1tmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RkU2NTg3NzNFMkJCMTFFM0FEQjdEN0Q5ODk1RUQ3RDAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RkU2NTg3NzRFMkJCMTFFM0FEQjdEN0Q5ODk1RUQ3RDAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGRTY1ODc3MUUyQkIxMUUzQURCN0Q3RDk4OTVFRDdEMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGRTY1ODc3MkUyQkIxMUUzQURCN0Q3RDk4OTVFRDdEMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ph3YSCMAAAF0SURBVHjaYvz//z/DcAKMox4a9dDQ8RAnECcAsR8Qi0LFzgLxESBeA8TfB8RHIA+Rgc2A+MZ/3AAkp0um2RRhcmIoCogXATEzAXW/gNgKGmuDNoZUgPjbf+LBEyCuBuIzSGLngTgfiNkGQwyBYiaWSmF5Coh9gPj1QBUKoELgLZSmFgAVIA5A/HcgPKQFxFdpkOo7oGYbQEvLC0C8CYinAPEXWnlIGoinQYtoeoFHQOwJxNeo7aE0IO4CYv4BqFVAnjIE4nfEamAiooieOUCeAQE5IC6lVgyBktkNIOYZBC2aF0A8F5rfvpBbD7X/H3zgHhAbkFsPXQJi3UHY/gTFljaufMVEoJgejEACiHPIyUN/iGivDRS4D8RKpHroIbSUGayABVsLA1+SOziIPfMdV3MJn4f6BrGHzpJTsV6AtqcGI5hIbtMHVCjMgXa1BwsAde9DKe3gBQLxq0FQsU4m1DEcHfUZ9dCoh0Y9NOqhIQUAAgwANas/kaURLm8AAAAASUVORK5CYII="},"d+Me":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("mrSG"),i=n("q1tI"),a=n("uuth"),o=function(t){return i.createElement(a.a,Object(r.a)({},t,{onPositionChange:function(e){return void 0===e.previousPosition&&e.currentPosition===a.a.above&&t.onLeave?t.onLeave(e):t.onPositionChange&&t.onPositionChange(e)}}))}},"d0s+":function(e,t){e.exports="/images/whatsnew_playnext.jpg"},dfs5:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u});var i=n("mrSG"),a=n("q1tI"),o=n("VQ2A"),s=n("lkRc"),c=a.createContext({});function r(e){var t=e.children,n=Object(i.f)(e,["children"]),r=u();return a.createElement(c.Provider,{value:Object(i.a)(Object(i.a)(Object(i.a)({},o.e.GetDefaultParams()),r),n)},t)}function l(e){var t=e.children,n=e.snr||s.c.SNR,r=o.e.ParseSNR(n);return a.createElement(c.Provider,{value:Object(i.a)(Object(i.a)({},o.e.GetDefaultParams()),r)},t)}function u(){return a.useContext(c)}},dgee:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUQ5NEMwOTYzRDc4MTFFQUExREZEODRBMDBCNjdENTEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUQ5NEMwOTczRDc4MTFFQUExREZEODRBMDBCNjdENTEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRDk0QzA5NDNENzgxMUVBQTFERkQ4NEEwMEI2N0Q1MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRDk0QzA5NTNENzgxMUVBQTFERkQ4NEEwMEI2N0Q1MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po/TXacAAABMSURBVHjaYvz//z8DNQHjyDMQDICGJgDx3f/kA5DeBJhh8f+pB+JBXr4DNFeZSp69CzLwP7UjZdTAkWAgVdMh1XMK1fPyCCwPAQIMAKf/Y+3dveJlAAAAAElFTkSuQmCC"},eL5l:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAgCAYAAABdP1tmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQxM0JDNzI2NjAwRTExRTZBQkYxRTRDRTc4MzQxRjI2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQxM0JDNzI3NjAwRTExRTZBQkYxRTRDRTc4MzQxRjI2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDEzQkM3MjQ2MDBFMTFFNkFCRjFFNENFNzgzNDFGMjYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDEzQkM3MjU2MDBFMTFFNkFCRjFFNENFNzgzNDFGMjYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4y5hBdAAAC4UlEQVR42uyYy2tUMRTG59VaW7XoaKlFFC0WUaQIIkVFcSGCglvXLkRcufGxcSW4E7oTBcGFoH+A4AsLogsVQQuVVhTrY3C0PuqjTH3OHb8j30AIuTe5ndxRhjnwg0lubiZfknNyctOVSiXVSJZJNZg1BTUFNZCgfnAWjIDXoAAeglOgL6k/TScU5TaCK2BeyPP3YAcF/veCcuA2GLC0uwx2/WtBHWA+t2oJfDS0WQnGQNbS1xS33lutPg8WcWImwRtQiTObrrYWrAdtLFfoF0Pgu9Kux0GM2BzQpQiSd7ZQpOrbRXCDE+gtKCwAmxUxf1cXLAXrtLZZ192hTaj0s8owJpmgTb6jXHfEsx6tXHLs8xeYVsT1RrSViWuvV9hOG/ys7Ciohb9bLQOWdnN9CvoZ8eyHVt7quO3alUiYc3gn41NQpyXyqf2Mxljd5yGrbLKyT0GfI56JHwRK+T63k82mY4oPfAp6xTPBZCNaeRwMOvR5nCG56iO2LZf1KUhmfCKkvmioH3Lo87rye6HDWLp9R7kxw1YaNQQFsSeWQCK53AstLNtsuct44wiaMJwxL0PaymBPRjj3UfBJqbvDFXugTUSZPnmNqx74EpTjLHZo9b08H0xR6nxIDibB4JKh7hm4B35rgeAR/XKq1lyuhanIEqY+pqvAGlJkCH4KvvFZW4jQVi2FSnFSpJ8V2gErY9hNQe94ryrPRNBssJPJY5RJYvmY2/GrMruLwb6Qd2aBA+AMo2c18x7nSvUx21az7zx/fwA36YOxrg9y2q+2iLmrXNDk4N3GBLafiWbe8r5MwDDD/i1wlXXiBhsMSW/VvoALcQXtNWyLlObEw/zzw+AIt2UtJtv2GDjH8kCIqICrG0vQMiVgBIYOC/SPi2CP50vnCQrL0H8zhihZSOIKvh+cTuhbx3Ze6ur21Ueiz8EEvxgdquWDxkysi2F8MiFB1TOvFPfFdPNjfVNQfe2PAAMAwxKnYH2hpYkAAAAASUVORK5CYII="},ee7K:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var p=n("mrSG"),r=n("vDqi"),d=n.n(r),u=n("2vnA"),m=n("+d9t"),h=n("bDQf"),f=n("lkRc"),c=(n("q1tI"),"unUserdataVersion");var i=new(function(){function e(){this.m_setWishList=new Set,this.m_wishlistInOrder=Array(),this.m_setOwnedPackages=new Set,this.m_setOwnedApps=new Set,this.m_setFollowedApps=new Set,this.m_setExcludedTagsIds=new Set,this.m_setExcludedContentDescriptors=new Set,this.m_setRecommendedApps=new Set,this.m_recAppInOrder=new Array,this.m_mapIgnoredApps=new Map,this.m_setCuratorsFollowed=new Set,this.m_setCuratorsIgnored=new Set,this.m_bShowFilteredUserReviewScores=!0,this.m_bIsLoaded=!1}return e.prototype.BIsLoaded=function(){return this.m_bIsLoaded},e.prototype.GetWishlistGamesInUserOrder=function(){return this.m_wishlistInOrder},e.prototype.GetRecommendedGamesInIRPriorityOrder=function(){return this.m_recAppInOrder},e.prototype.GetFollowedCuratorCount=function(){return this.m_setCuratorsFollowed.size},e.prototype.GetFollowedCuratorsAccountID=function(){return Array.from(this.m_setCuratorsFollowed)},e.prototype.BIsFollowingCurator=function(e){var t="object"==typeof e&&"GetAccountID"in e?e.GetAccountID():e;return this.m_setCuratorsFollowed.has(t)},e.prototype.BIsIgnoringCurator=function(e){var t="object"==typeof e&&"GetAccountID"in e?e.GetAccountID():e;return this.m_setCuratorsIgnored.has(t)},e.prototype.GetExcludedContentDescriptor=function(){return Array.from(this.m_setExcludedContentDescriptors)},e.prototype.BExcludesTag=function(e){var t=this;return e.some(function(e){return t.m_setExcludedTagsIds.has(Number(e.tagid))})},e.prototype.GetExcludedTagsSortedByID=function(){return Array.from(this.m_setExcludedTagsIds).sort()},e.prototype.BExcludesContentDescriptor=function(e){var t=this;return e.some(function(e){return t.m_setExcludedContentDescriptors.has(e)})},e.prototype.BIsGameWishlisted=function(e){return this.m_setWishList.has(Number(e))},e.prototype.BIsGameRecommended=function(e){return this.m_setRecommendedApps.has(Number(e))},e.prototype.BIsGameIgnored=function(e){return this.m_mapIgnoredApps&&this.m_mapIgnoredApps.has(e)},e.prototype.BIsGameOwned=function(e){return this.m_setOwnedApps.has(Number(e))},e.prototype.BOwnsApp=function(e){return this.m_setOwnedApps.has(Number(e))},e.prototype.BFollowsApp=function(e){return this.m_setFollowedApps.has(Number(e))},e.prototype.BOwnsPackage=function(e){return this.m_setOwnedPackages.has(Number(e))},e.prototype.BShowFilteredUserReviewScores=function(){return this.m_bShowFilteredUserReviewScores},e.prototype.HintLoad=function(){return Object(p.b)(this,void 0,void 0,function(){return Object(p.e)(this,function(e){return this.m_promise||(this.m_promise=this.InternalLoad()),[2,this.m_promise]})})},e.prototype.InternalLoad=function(){return Object(p.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s=this;return Object(p.e)(this,function(e){switch(e.label){case 0:t=window.localStorage.getItem(c)||"0",n={v:"0"==t?void 0:t,id:""+f.h.accountid,cc:""+f.c.COUNTRY,origin:self.origin},r=f.c.STORE_BASE_URL+"dynamicstore/userdata/",e.label=1;case 1:return e.trys.push([1,3,,4]),[4,d.a.get(r,{params:n,withCredentials:!0})];case 2:return(i=e.sent())&&200==i.status&&Object(u.runInAction)(function(){if(s.m_bIsLoaded=!0,i.data.rgCurators)for(var e in s.m_setCuratorsFollowed=new Set,i.data.rgCurators)s.m_setCuratorsFollowed.add(Number(e));if(i.data.rgCuratorsIgnored&&(s.m_setCuratorsIgnored=new Set(i.data.rgCuratorsIgnored.map(function(e){return Number(e)}))),i.data.rgWishlist&&(s.m_wishlistInOrder=i.data.rgWishlist.map(function(e){return Number(e)}),s.m_setWishList=new Set(i.data.rgWishlist.map(function(e){return Number(e)}))),i.data.rgFollowedApps&&(s.m_setFollowedApps=new Set(i.data.rgFollowedApps.map(function(e){return Number(e)}))),i.data.rgOwnedApps&&(s.m_setOwnedApps=new Set(i.data.rgOwnedApps.map(function(e){return Number(e)}))),i.data.rgOwnedPackages&&(s.m_setOwnedPackages=new Set(i.data.rgOwnedPackages.map(function(e){return Number(e)}))),i.data.rgIgnoredApps){var t=i.data.rgIgnoredApps;for(var n in s.m_mapIgnoredApps=new Map,t)s.m_mapIgnoredApps.set(Number(n),Number(t[n]))}i.data.rgExcludedTags&&(s.m_setExcludedTagsIds=new Set(i.data.rgExcludedTags.map(function(e){return Number(e.tagid)}))),i.data.rgExcludedContentDescriptorIDs&&(s.m_setExcludedContentDescriptors=new Set(i.data.rgExcludedContentDescriptorIDs.map(function(e){return Number(e)}))),i.data.rgRecommendedApps&&(s.m_recAppInOrder=i.data.rgRecommendedApps.map(function(e){return Number(e)}),s.m_setRecommendedApps=new Set(i.data.rgRecommendedApps.map(function(e){return Number(e)}))),s.m_bShowFilteredUserReviewScores=!!i.data.bShowFilteredUserReviewScores}),[3,4];case 3:return a=e.sent(),o=Object(h.a)(a),console.error("CDynamicStore.InternalLoad",o.strErrorMsg,o),[3,4];case 4:return[2,this]}})})},e.prototype.UpdateFollowOrIgnoreCurator=function(o,s,c){return Object(p.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(p.e)(this,function(e){switch(e.label){case 0:return t=f.c.STORE_BASE_URL+"curators/"+(s?"ajaxfollow/":"ajaxignore/"),n=o.GetAccountID(),(r=new FormData).append("authwgtoken",f.h.authwgtoken),r.append("clanid",""+n),r.append("sessionid",f.c.SESSIONID),r.append(s?"follow":"ignore",c?"1":"0"),[4,d.a.post(t,r,{withCredentials:!0})];case 1:return(i=e.sent())&&200==i.status&&(this.InvalidateCache(),a=s?this.m_setCuratorsFollowed:this.m_setCuratorsIgnored,c?a.add(n):a.delete(n)),[2,i.data]}})})},e.prototype.UpdateAppIgnore=function(s,c,l){return void 0===l&&(l=0),Object(p.b)(this,void 0,void 0,function(){var t,n,r,i,a,o=this;return Object(p.e)(this,function(e){switch(e.label){case 0:t=f.c.STORE_BASE_URL+"recommended/ignorerecommendation",(n=new FormData).append("sessionid",f.c.SESSIONID),n.append("appid",""+s),n.append("remove",c?"0":"1"),n.append("snr",f.c.SNR),n.append("ignore_reason",""+l),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,d.a.post(t,n,{withCredentials:!0})];case 2:return(r=e.sent())&&200==r.status&&Object(u.runInAction)(function(){o.InvalidateCache(),c?o.m_mapIgnoredApps.set(s,l):o.m_mapIgnoredApps.delete(s)}),[2,r.data];case 3:return i=e.sent(),a=Object(h.a)(i),console.error("UpdateAppIgnore",a.strErrorMsg,a),[3,4];case 4:return[2,{success:2}]}})})},e.prototype.UpdateGameWishlist=function(a,o,s,c){return Object(p.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(p.e)(this,function(e){switch(e.label){case 0:return t=f.c.STORE_BASE_URL+"api/"+(o?"addtowishlist":"removefromwishlist"),(n=new FormData).append("appid",""+a),n.append("sessionid",f.c.SESSIONID),s&&n.append("snr",s),[4,d.a.post(t,n,{withCredentials:!0,cancelToken:c?c.token:void 0})];case 1:return(r=e.sent(),c&&c.token.reason)?[2,{success:52}]:(r.data.success=1==r.data.success?1:2,1==r.data.success&&(this.InvalidateCache(),a=Number(a),o?(this.m_setWishList.has(a)||this.m_wishlistInOrder.push(a),this.m_setWishList.add(a)):(this.m_setWishList.has(a)&&-1!=(i=this.m_wishlistInOrder.findIndex(function(e){return e==a}))&&this.m_wishlistInOrder.splice(i,1),this.m_setWishList.delete(a))),[2,r.data])}})})},e.prototype.AddToCart=function(a,o,s,c,l,u){return Object(p.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(p.e)(this,function(e){switch(e.label){case 0:(t=new FormData).append("action","add_to_cart"),u?t.append("bundleid",u.toString()):t.append("subid",""+o),l&&t.append("snr",l),(n=f.h.authwgtoken)?t.append("authwgtoken",n):t.append("sessionid",f.c.SESSIONID),t.append("quantity","1"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,d.a.post(s,t,{withCredentials:!0})];case 2:return e.sent(),r=f.c.IN_CLIENT?"steam://url/StoreCart":c,a.preventDefault(),this.InvalidateCache(),Object(m.c)(window,r),[3,4];case 3:return i=e.sent(),console.log("HandleOnAddToCart"),console.log(i),[3,4];case 4:return[2]}})})},e.prototype.AddLicenseForFreeGame=function(o){return Object(p.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(p.e)(this,function(e){switch(e.label){case 0:if(this.BOwnsApp(o))return[2,1];e.label=1;case 1:return e.trys.push([1,3,,4]),(t=new FormData).append("sessionid",f.c.SESSIONID),t.append("authwgtoken",f.h.authwgtoken),t.append("appid",""+o),t.append("cc",f.c.COUNTRY),n=f.c.STORE_BASE_URL+"actions/addappformastersubscription",[4,d.a.post(n,t,{withCredentials:!0})];case 2:return(r=e.sent(),this.InvalidateCache(),r.data.success&&1===r.data.success)?(this.m_setOwnedApps.add(Number(o)),[3,4]):[2,r.data.success?r.data.success:2];case 3:return i=e.sent(),a=Object(h.a)(i),console.log("AddLicense request failed:",a.strErrorMsg,a),[2,2];case 4:return[2,1]}})})},e.prototype.UpdateFollowingApp=function(i,a){return Object(p.b)(this,void 0,void 0,function(){var t,n,r;return Object(p.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=f.c.STORE_BASE_URL+"explore/followgame",(n=new FormData).append("appid",""+i),n.append("sessionid",f.c.SESSIONID),a||n.append("unfollow","1"),[4,d.a.post(t,n,{withCredentials:!0})];case 1:return(r=e.sent(),r.data)?(this.InvalidateCache(),a?this.m_setFollowedApps.add(Number(i)):this.m_setFollowedApps.delete(Number(i)),[3,3]):[2,2];case 2:return e.sent(),console.log("Follow game request failed"),[2,2];case 3:return[2,1]}})})},e.prototype.InvalidateCache=function(){window.localStorage.setItem(c,(Number.parseInt(window.localStorage.getItem(c)||"0")+1).toString())},Object(p.c)([u.observable],e.prototype,"m_setWishList",void 0),Object(p.c)([u.observable],e.prototype,"m_setOwnedPackages",void 0),Object(p.c)([u.observable],e.prototype,"m_setOwnedApps",void 0),Object(p.c)([u.observable],e.prototype,"m_setFollowedApps",void 0),Object(p.c)([u.observable],e.prototype,"m_setExcludedTagsIds",void 0),Object(p.c)([u.observable],e.prototype,"m_setExcludedContentDescriptors",void 0),Object(p.c)([u.observable],e.prototype,"m_setRecommendedApps",void 0),Object(p.c)([u.observable],e.prototype,"m_mapIgnoredApps",void 0),Object(p.c)([u.observable],e.prototype,"m_setCuratorsFollowed",void 0),Object(p.c)([u.observable],e.prototype,"m_setCuratorsIgnored",void 0),Object(p.c)([u.observable],e.prototype,"m_bShowFilteredUserReviewScores",void 0),Object(p.c)([u.action],e.prototype,"UpdateAppIgnore",null),e}());window.DUS=i},"f/5U":function(e,t,n){e.exports={EulaText:"euladialog_EulaText__x-YA",Eula:"euladialog_Eula_3rDQu"}},f26i:function(e,t,n){e.exports={Container:"discussionwidget_Container_mKmrO",VoteContainer:"discussionwidget_VoteContainer_3Kelh",DiscussContainer:"discussionwidget_DiscussContainer_16xC0",ShareContainer:"discussionwidget_ShareContainer_3ctGq",InnerContainer:"discussionwidget_InnerContainer_9x4Z7",DiscussionButton:"discussionwidget_DiscussionButton_rHz7G",DiscussIcon:"discussionwidget_DiscussIcon_1HBhp",linkField:"discussionwidget_linkField_3Vmkn",LinkInput:"discussionwidget_LinkInput_hgGF9",ShareIcon:"discussionwidget_ShareIcon_3qVz2",ClipboardIcon:"discussionwidget_ClipboardIcon_3XZsW",SteamIcon:"discussionwidget_SteamIcon_3PXcv",share_controls_ctn:"discussionwidget_share_controls_ctn_3F-Ry",ShareBtn:"discussionwidget_ShareBtn_22m-G",VoteCount:"discussionwidget_VoteCount_3csl-",DiscussionCount:"discussionwidget_DiscussionCount_QQy4B",DiscussionButtonText:"discussionwidget_DiscussionButtonText_3P2Xe",VoteDownIcon:"discussionwidget_VoteDownIcon_3Zqxx",VoteDownSelectedIcon:"discussionwidget_VoteDownSelectedIcon_1PTQ2",VoteUpIcon:"discussionwidget_VoteUpIcon_2akzu",VoteUpSelectedIcon:"discussionwidget_VoteUpSelectedIcon_34YgM",VoteUpStaticIcon:"discussionwidget_VoteUpStaticIcon_Sf3ur",VoteButtonSelected:"discussionwidget_VoteButtonSelected_2OXBS"}},f96J:function(e,t,n){e.exports={Description:"reportitem_Description_nT2-e",Description2:"reportitem_Description2_l13W0",DMCA:"reportitem_DMCA_30pLW",ErrorText:"reportitem_ErrorText_y2oFH",FormContainer:"reportitem_FormContainer_G_kjT",InputBox:"reportitem_InputBox_1H8F9"}},fKY7:function(e,t,n){e.exports={DialogContainer:"eaaccessdialog_DialogContainer_24vXJ",DialogBody:"eaaccessdialog_DialogBody_1IQVr",Description:"eaaccessdialog_Description_NRmf9",Button:"eaaccessdialog_Button_3F9ki",PrimaryButton:"eaaccessdialog_PrimaryButton_239Xo",ButtonRow:"eaaccessdialog_ButtonRow_8Bd3f"}},fWuz:function(e,t,n){"use strict";n.d(t,"j",function(){return b}),n.d(t,"q",function(){return _}),n.d(t,"g",function(){return v}),n.d(t,"k",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"a",function(){return S}),n.d(t,"l",function(){return w}),n.d(t,"t",function(){return C}),n.d(t,"s",function(){return O}),n.d(t,"e",function(){return E}),n.d(t,"h",function(){return A}),n.d(t,"f",function(){return I}),n.d(t,"p",function(){return R}),n.d(t,"c",function(){return T}),n.d(t,"r",function(){return M}),n.d(t,"i",function(){return N}),n.d(t,"m",function(){return L}),n.d(t,"n",function(){return k}),n.d(t,"d",function(){return G}),n.d(t,"o",function(){return U});function r(e){var t=Object(p.b)();return i.a.createElement(d.e,Object(s.a)({component:null==t?void 0:t.Toggle,fallback:f},e))}var s=n("mrSG"),c=n("q1tI"),i=n.n(c),a=n("6Y59"),o=n("TLQK"),l=n("bxiW"),u=n("exH9"),p=n("z7tf"),d=n("+d9t"),m=n("umRa"),h=n.n(m),f=function(e){var t=e.value,n=e.onChange,r=e.disabled;return i.a.createElement("div",{className:Object(u.a)(h.a.Toggle,r&&h.a.Disabled),onClick:function(){return!r&&n&&n(!t)}},i.a.createElement("div",{className:h.a.ToggleRail}),i.a.createElement("div",{className:Object(u.a)(h.a.ToggleRail,h.a.Highlight,t?h.a.On:h.a.Off)}),i.a.createElement("div",{className:Object(u.a)(h.a.ToggleSwitch,t?h.a.On:h.a.Off)}))},b=Object(d.b)("DialogHeader"),_=Object(d.b)("DialogSubHeader"),v=Object(d.b)("DialogFooter"),g=Object(d.b)("DialogLabel _DialogLayout"),y=Object(d.b)("DialogBodyText"),S=Object(d.b)("DialogBody"),w=(Object(d.b)("DialogInnerBody"),Object(d.b)("DialogControlsSection"),Object(d.b)("DialogControlsSectionHeader"),Object(d.b)("DialogBodyNotificationBar")),C=Object(d.b)("DialogTwoColLayout _DialogColLayout"),O=Object(d.b)("DialogThreeColLayout _DialogColLayout");Object(d.b)("DialogTwoThirdColLayout _DialogColLayout"),Object(d.b)("DialogColumn _DialogLayout");function E(e){var t=Object(p.b)();return c.createElement(d.e,Object(s.a)({component:t.Content,fallback:B},e))}function B(e){var t=e.children,n=e.bCenterVertically,r=e.renderDialogContentDiv,i=e.renderDialogContentInnerDiv,a=Object(s.f)(e,["children","bCenterVertically","renderDialogContentDiv","renderDialogContentInnerDiv"]),o="DialogContent _DialogLayout"+(e.className?" "+e.className:"");return n&&(o+=" _DialogCenterVertically"),c.createElement(d.e,Object(s.a)({component:r,fallback:"div"},a,{className:o}),c.createElement(d.e,{component:i,fallback:"div",className:"DialogContent_InnerWidth"},t))}var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.d)(t,e),t.prototype.OnSubmit=function(e){e.preventDefault(),this.props.onSubmit&&this.props.onSubmit(e)},t.prototype.render=function(){return c.createElement("form",Object(s.a)({},this.props,{onSubmit:this.OnSubmit}))},Object(s.c)([l.a],t.prototype,"OnSubmit",null),t}(c.Component);function I(e){var t=e.classNameContent,n=e.bCenterVertically,r=Object(s.f)(e,["classNameContent","bCenterVertically"]);return c.createElement(E,{className:t,bCenterVertically:n},c.createElement(A,Object(s.a)({},r)))}function j(e){var t=Object(p.b)();return c.createElement(d.e,Object(s.a)({component:t.BaseButton,fallback:D},e))}function D(e){var t=e.svgicon,n=(e.primary,e.renderButtonElement),r=Object(s.f)(e,["svgicon","primary","renderButtonElement"]),i=Object(u.a)(e.className,{hasSVGIcon:void 0!==t});return c.createElement(d.e,Object(s.a)({component:n,fallback:"button"},r,{className:i}),t&&t(),e.children)}function R(e){return c.createElement(j,Object(s.a)({primary:!0,type:e.onClick?"button":"submit"},e,{className:Object(u.a)(e.className,"DialogButton","_DialogLayout","Primary")}))}function T(e){return c.createElement(j,Object(s.a)({type:"button"},e,{className:Object(u.a)(e.className,"DialogButton","_DialogLayout","Secondary")}))}function M(e){return c.createElement(j,Object(s.a)({type:"button"},e,{className:Object(u.a)(e.className,"TextButton")}))}function N(e){var t="DialogHBar"+(e.className?" "+e.className:"");return c.createElement("div",Object(s.a)({},e,{className:t}))}function L(e){return c.createElement(C,null,c.createElement(R,{onClick:e.onOK,disabled:e.bOKDisabled},e.strOKText||Object(o.f)("#Button_Confirm")," "),c.createElement(T,{onClick:e.onCancel},e.strCancelText||Object(o.f)("#Button_Cancel")))}function k(e){return c.createElement(O,null,c.createElement(R,{onClick:e.onOK,disabled:e.bOKDisabled},e.strOKText||Object(o.f)("#Button_Confirm")," "),c.createElement(R,{onClick:e.onUpdate,disabled:e.bUpdateDisabled},e.strUpdateText||Object(o.f)("#Button_Update")," "),c.createElement(T,{onClick:e.onCancel},e.strCancelText||Object(o.f)("#Button_Cancel")))}var F=function(n){function e(e){var t=n.call(this,e)||this;return t.state={checked:e.checked,disabled:e.disabled},t}return Object(s.d)(e,n),e.prototype.componentDidUpdate=function(e){e.checked!=this.props.checked&&this.props.checked!=this.state.checked&&this.setState({checked:this.props.checked}),e.disabled!=this.props.disabled&&this.props.disabled!=this.state.disabled&&this.setState({disabled:this.props.disabled})},e.prototype.shouldComponentUpdate=function(e,t){return e.label!=this.props.label||e.description!=this.props.description||e.onChange!=this.props.onChange||e.disabled!=this.props.disabled||t.disabled!=this.state.disabled||e.checked!=this.state.checked||t.checked!=this.state.checked},Object.defineProperty(e.prototype,"checked",{get:function(){return this.state.checked},enumerable:!1,configurable:!0}),e.prototype.GetElementProps=function(){return{tabIndex:this.props.tabIndex||0,onClick:this.Toggle,onKeyDown:this.KeyDown}},e.prototype.Toggle=function(){var e;this.props.disabled||(e=!this.state.checked,this.setState({checked:e}),this.props.onChange&&this.props.onChange(e))},e.prototype.KeyDown=function(e){32==e.keyCode&&(this.Toggle(),e.preventDefault(),e.stopPropagation())},Object(s.c)([l.a],e.prototype,"Toggle",null),Object(s.c)([l.a],e.prototype,"KeyDown",null),e}(c.Component),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.d)(t,e),t.prototype.render=function(){var e="DialogCheckbox"+(this.state.checked?" Active":"");return 1==this.state.disabled&&(e+=" Disabled"),this.props.label?c.createElement("div",Object(s.a)({className:"DialogCheckbox_Container _DialogLayout "+(this.props.classname?this.props.classname:"")},this.GetElementProps()),c.createElement("div",{className:e},c.createElement(a.t,{color:this.props.color,highlightColor:this.props.highlightColor})),c.createElement("div",{className:"DialogToggle_Label"},c.createElement("span",null,this.props.label),this.props.tooltip&&c.createElement("span",{"data-tooltip-text":this.props.tooltip}," (?)")),c.createElement("div",{style:{clear:"left"}}),this.props.description&&c.createElement("div",{className:"DialogToggle_Description"},this.props.description)):c.createElement("div",Object(s.a)({className:e},this.GetElementProps()),c.createElement(a.t,null))},t}(F),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.d)(t,e),t.prototype.render=function(){return c.createElement(d.e,Object(s.a)({component:this.context.OnOffToggle,fallback:P},this.props))},t.contextType=p.a,t}(F),U=function(e){var t=Object(p.b)();return c.createElement(d.e,Object(s.a)({component:t.OnOffToggle,fallback:x},e))},x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.d)(t,e),t.prototype.OnOffKeyDown=function(e){37==e.keyCode&&this.state.checked||39==e.keyCode&&!this.state.checked?(this.Toggle(),e.preventDefault(),e.stopPropagation()):this.KeyDown(e)},t.prototype.OnNewUIToggle=function(e){e!==this.state.checked&&this.Toggle()},t.prototype.render=function(){var e="DialogOnOffToggle _DialogInputContainer _DialogLayout "+(this.props.classname?this.props.classname:"");return this.props.disabled&&(e+=" Disabled"),c.createElement("div",{className:e,tabIndex:this.props.tabIndex||0,onKeyDown:this.OnOffKeyDown},c.createElement("div",{className:"displayColumn alignSelfCenter"},c.createElement("div",{className:"DialogToggle_Label"},c.createElement("span",null,this.props.label),this.props.tooltip&&c.createElement("span",{"data-tooltip-text":this.props.tooltip}," (?)")),this.props.description&&c.createElement("div",{className:"DialogToggle_Description"},this.props.description),this.props.children),this.props.useToggleRail?c.createElement("div",{className:"DialogOnOffToggle_NewUIContainer"},c.createElement(r,{onChange:this.OnNewUIToggle,value:this.state.checked})):c.createElement("div",{className:"DialogOnOffToggle_Control",onClick:this.Toggle},c.createElement("div",{className:"DialogOnOffToggle_Option Off"+(this.state.checked?"":" Active")},Object(o.f)("#Dialog_Off")),c.createElement("div",{className:"DialogOnOffToggle_Option On"+(this.state.checked?" Active":"")},Object(o.f)("#Dialog_On"))))},Object(s.c)([l.a],t.prototype,"OnOffKeyDown",null),Object(s.c)([l.a],t.prototype,"OnNewUIToggle",null),t}(F)},fkaw:function(e,t,n){e.exports={Container:"sharewithfriends_Container_2vGr9",SmallAvatar:"sharewithfriends_SmallAvatar_3V8w8",ShareDescription:"sharewithfriends_ShareDescription_3CqiH"}},fpVW:function(e,t,n){e.exports={PartnerEventFont:"partnereventshared_PartnerEventFont_LK4bX",BetaContainer:"partnereventshared_BetaContainer_GBqhj",EventBetaTextTitle:"partnereventshared_EventBetaTextTitle_3R7Hr",Clear:"partnereventshared_Clear_3UhsQ",Divider:"partnereventshared_Divider_3B5HO",EventDefaultRowContainer:"partnereventshared_EventDefaultRowContainer_3WO6c",EventStartPublic:"partnereventshared_EventStartPublic_2LU_Y",EventOptions:"partnereventshared_EventOptions_2r_Qe",FlexColumnContainer:"partnereventshared_FlexColumnContainer_1qhLq",FlexRowContainer:"partnereventshared_FlexRowContainer_Ke5f1",FlexContainSpaceBetween:"partnereventshared_FlexContainSpaceBetween_3nPGW",FlexRowWrapSpaceBetweenContainer:"partnereventshared_FlexRowWrapSpaceBetweenContainer_19CjI",FlexRowWrapFlexStartContainer:"partnereventshared_FlexRowWrapFlexStartContainer_tyP_c",SaveBackground:"partnereventshared_SaveBackground_V0mbI",SupportedGroupLabel:"partnereventshared_SupportedGroupLabel_APmJN",LangaugeWithContent:"partnereventshared_LangaugeWithContent_16xEW",InputBorder:"partnereventshared_InputBorder_Obyys",RadioOption:"partnereventshared_RadioOption_3iJX1",EventEditorTextTitleCtn:"partnereventshared_EventEditorTextTitleCtn_htm7d",doclink:"partnereventshared_doclink_1-bAK",EventEditorUnpaddedTextTitle:"partnereventshared_EventEditorUnpaddedTextTitle_9hsCL",EventEditorTextTitle:"partnereventshared_EventEditorTextTitle_18fHx",EventEditorTextTitleLengthInfo:"partnereventshared_EventEditorTextTitleLengthInfo_2nHJ1",EventSectionTitleCtn:"partnereventshared_EventSectionTitleCtn_onqWK",EventSectionTitle:"partnereventshared_EventSectionTitle_Idd_A",EventSectionSpacer:"partnereventshared_EventSectionSpacer_1Bloe",EventSectionMoreBtn:"partnereventshared_EventSectionMoreBtn_uckBi",EventEditorSpacerPadding:"partnereventshared_EventEditorSpacerPadding_1RBfN",EventEditorVisibilityCtn:"partnereventshared_EventEditorVisibilityCtn_1nqBh",EventEditorTextSubTitle:"partnereventshared_EventEditorTextSubTitle_1i_pY",FloatingTitle:"partnereventshared_FloatingTitle_31XRt",EventEditorEventStatus:"partnereventshared_EventEditorEventStatus_2JGoL",EventHidden:"partnereventshared_EventHidden_2H6fn",EventVisible:"partnereventshared_EventVisible_3Z0Qr",EventBarTitleCtn:"partnereventshared_EventBarTitleCtn_WfVze",EventBarTitle:"partnereventshared_EventBarTitle_29kVX",EventBarBack:"partnereventshared_EventBarBack_s3r9b",EditPreviewButton:"partnereventshared_EditPreviewButton_1FhZQ",BrowseMoreButton:"partnereventshared_BrowseMoreButton_1Yrcl",Button:"partnereventshared_Button_1ABCO",Icon:"partnereventshared_Icon_1dDpS",Primary:"partnereventshared_Primary_30ipl",ClearThings:"partnereventshared_ClearThings_3x_qL",OnIndicator:"partnereventshared_OnIndicator_1GBsB",OffIndicator:"partnereventshared_OffIndicator_w0I94",IconImage:"partnereventshared_IconImage_2RY89",RightColumnContainer:"partnereventshared_RightColumnContainer_30-E9",EventPublishButton:"partnereventshared_EventPublishButton_3nIAe",FloatRight:"partnereventshared_FloatRight_1bzHf",TTip:"partnereventshared_TTip_2aWuk",ValveSupportOnly:"partnereventshared_ValveSupportOnly_wC6-U",ArtworkAgeNotAppropriate:"partnereventshared_ArtworkAgeNotAppropriate_3V64Z",EventDashboardHeader:"partnereventshared_EventDashboardHeader_2kZr_",ContainerSpaceBetween:"partnereventshared_ContainerSpaceBetween_3gYZG",EventDashboardTitles:"partnereventshared_EventDashboardTitles_1ym4r",EventDashboardActions:"partnereventshared_EventDashboardActions_2z_02",EventDashboardStatsCtn:"partnereventshared_EventDashboardStatsCtn_3IptF",EventDashboardAppCtn:"partnereventshared_EventDashboardAppCtn_2iPrK",maintitle:"partnereventshared_maintitle_vEk_z",AppTitle:"partnereventshared_AppTitle_l-Ow7",subtitle:"partnereventshared_subtitle_2mJfc",ValveOnlyBackground:"partnereventshared_ValveOnlyBackground_Jckrn",ValveOnlyAdminBackground:"partnereventshared_ValveOnlyAdminBackground_3HVu1",Columns:"partnereventshared_Columns_1oVIR",LeftCol:"partnereventshared_LeftCol_3PPz-",RightCol:"partnereventshared_RightCol_25xel",DropDownScroll:"partnereventshared_DropDownScroll_1CewB",CloseButton:"partnereventshared_CloseButton_gR2gS",CloseSectionTools:"partnereventshared_CloseSectionTools_1d0D9",HalfColumn:"partnereventshared_HalfColumn_3Xmp4",tooltip_Ctn:"partnereventshared_tooltip_Ctn_3nqxI",SaleSectionHeader:"partnereventshared_SaleSectionHeader_2WMiQ",SaleSectionContainer:"partnereventshared_SaleSectionContainer_3gb3J",AddSectionButton:"partnereventshared_AddSectionButton_2_djj",EventElementRequired:"partnereventshared_EventElementRequired_12rm6",EventElementOptional:"partnereventshared_EventElementOptional_1mpG6",HelperTooltip:"partnereventshared_HelperTooltip_3T6MQ"}},gOcu:function(e,t,n){"use strict";var u=n("mrSG"),r=n("vDqi"),p=n.n(r),d=n("2vnA"),m=n("lkRc"),h=function(){return function(e){this.appid=e.appid,this.demo_appid=e.demo_appid,this.demo_package_id=0}}(),i=function(){function e(){this.m_mapAppToDemoInfo=new Map,this.m_mapAppIDToLoadPromise=new Map}return e.Get=function(){return e.s_DemoEventStore||(e.s_DemoEventStore=new e).Init(),e.s_DemoEventStore},e.prototype.BHasDemoEventInfo=function(e){return this.m_mapAppToDemoInfo.has(e)},e.prototype.GetDemoEventInfo=function(e){return this.m_mapAppToDemoInfo.get(e)},e.prototype.GetAllDemoInfo=function(){return this.m_mapAppToDemoInfo},e.prototype.BHasDemoAppID=function(e){var t;return Boolean(null===(t=this.m_mapAppToDemoInfo.get(e))||void 0===t?void 0:t.demo_appid)},e.prototype.GetNumDemos=function(){var t=0;return this.m_mapAppToDemoInfo.forEach(function(e){0<e.demo_appid&&(t+=1)}),t},e.prototype.Init=function(){var t=this,e=Object(m.g)("demoeventstore","application_config");this.ValidateStoreDefault(e)&&e.forEach(function(e){t.m_mapAppToDemoInfo.set(e.appid,new h(e))})},e.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&"number"==typeof t[0].appid},e.prototype.LoadAppIDsBatch=function(o,s){return Object(u.b)(this,void 0,void 0,function(){var t,n,r,i,a=this;return Object(u.e)(this,function(e){switch(e.label){case 0:return t=new Array,n=new Array,o.forEach(function(e){a.m_mapAppIDToLoadPromise.has(e)?n.push(a.m_mapAppIDToLoadPromise.get(e)):a.m_mapAppToDemoInfo.has(e)||t.push(e)}),0<t.length&&(r=this.InternalLoadAppIDsBatch(t,s),t.forEach(function(e){return a.m_mapAppIDToLoadPromise.set(e,r)}),n.push(r)),[4,Promise.all(n)];case 1:return i=e.sent(),[2,i.every(function(e){return!!e})]}})})},e.prototype.InternalLoadAppIDsBatch=function(r,i){var c,l;return Object(u.b)(this,void 0,void 0,function(){var t,n,s=this;return Object(u.e)(this,function(e){switch(e.label){case 0:e.trys.push([0,4,,5]),r=r.sort(),t=function(){var t,a,n,o;return Object(u.e)(this,function(e){switch(e.label){case 0:return t=Math.min(50,r.length),a=r.slice(0,t),r=r.slice(t),n=m.c.STORE_BASE_URL+"saleaction/ajaxgetdemoevents",[4,p.a.get(n,{params:{appids:a,cc:m.c.COUNTRY||"US",origin:self.origin},cancelToken:i?i.token:void 0})];case 1:return 1===(null===(e=null==(o=e.sent())?void 0:o.data)||void 0===e?void 0:e.success)||42===(null===(c=null==o?void 0:o.data)||void 0===c?void 0:c.success)?Object(d.runInAction)(function(){var e,t;null!==(t=null===(e=null==o?void 0:o.data)||void 0===e?void 0:e.info)&&void 0!==t&&t.length&&o.data.info.forEach(function(e){s.m_mapAppToDemoInfo.set(e.appid,new h(e))});for(var n=0,r=a;n<r.length;n++){var i=r[n];s.m_mapAppToDemoInfo.has(i)||s.m_mapAppToDemoInfo.set(i,new h({appid:i})),s.m_mapAppIDToLoadPromise.delete(i)}}):console.log("Failed to call ajaxgetdemoevents with response:"+(null===(l=null==o?void 0:o.data)||void 0===l?void 0:l.err_msg)),[2]}})},e.label=1;case 1:return 0<r.length?[5,t()]:[3,3];case 2:return e.sent(),[3,1];case 3:return[2,!0];case 4:return n=e.sent(),console.log("Failed to call ajaxgetdemoevents:"+n),[3,5];case 5:return[2,!1]}})})},Object(u.c)([d.observable.shallow],e.prototype,"m_mapAppToDemoInfo",void 0),Object(u.c)([d.action],e.prototype,"Init",null),Object(u.c)([d.action],e.prototype,"LoadAppIDsBatch",null),e}();t.a=i},gPCo:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return _});var a=n("mrSG"),r=n("q1tI"),o=n.n(r),i=n("TyAF"),s=n("bxiW"),c=n("sUmc"),l=n("DWPT"),u=n("XB0Y"),p=n.n(u),d=n("TOXn"),m=n("mgoM"),h=n("lkRc"),f=(n("5E+2"),Object(i.observer)(function(e){var t=e.photo?Object(d.a)(e.photo,Object(m.h)(h.c.LANGUAGE)):null,n=e.photo?"string"==typeof t?t:t[1]:null,r=Boolean(e.title),i=Boolean(e.company);return o.a.createElement("div",{className:p.a.SpeakerPopup,onMouseLeave:e.fnClose},o.a.createElement("div",{className:p.a.SpeakerInfoOuter},e.photo&&o.a.createElement("img",{src:n}),o.a.createElement("div",{className:p.a.SpeakerInfoInner},o.a.createElement("div",null,e.name),(r||i)&&o.a.createElement("div",null,r&&o.a.createElement("span",{className:p.a.SpeakerTitle},e.title),r&&i&&o.a.createElement("span",null,", "),i&&o.a.createElement("span",null,e.company)))),o.a.createElement("div",{className:p.a.SpeakerBio},e.bio,e.bioString&&o.a.createElement(d.b,{text:e.bioString})))})),b=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refAnchor=o.a.createRef(),e}return Object(a.d)(i,t),i.prototype.ClosePopup=function(){this.m_fnHidePopup&&(this.m_fnHidePopup(),this.m_fnHidePopup=null,window.removeEventListener("scroll",this.OnScroll))},i.prototype.componentWillUnmount=function(){this.ClosePopup()},i.prototype.OnScroll=function(){50<Math.abs(window.scrollY-this.m_nScrollPosAtHoverStart)&&this.ClosePopup()},i.prototype.OnHover=function(e){var t,n,r=this.m_refAnchor.current;r&&(t={direction:"right",bEnablePointerEvents:!0,style:{maxWidth:640,minHeight:r.clientHeight},target:r},n="presenter-hover-"+Math.floor(1e8*Math.random()),this.m_fnHidePopup=function(){return i.sm_embeddedElements.HideElement(r.ownerDocument,n)},window.addEventListener("scroll",this.OnScroll),this.m_nScrollPosAtHoverStart=window.scrollY,i.sm_embeddedElements.ShowElementDelayed(r.ownerDocument,150,o.a.createElement(l.a,Object(a.a)({},t),o.a.createElement(f,Object(a.a)({},this.props,{fnClose:this.OnLeave}))),n))},i.prototype.OnLeave=function(e){this.ClosePopup()},i.prototype.render=function(){return o.a.createElement("div",{className:p.a.SpeakerHover,ref:this.m_refAnchor,onMouseEnter:this.OnHover,onFocus:this.OnHover,onMouseLeave:this.OnLeave,onBlur:this.OnLeave},this.props.children)},i.sm_embeddedElements=new c.a("presenter-hover-source-elements"),Object(a.c)([s.a],i.prototype,"ClosePopup",null),Object(a.c)([s.a],i.prototype,"OnScroll",null),Object(a.c)([s.a],i.prototype,"OnHover",null),Object(a.c)([s.a],i.prototype,"OnLeave",null),i}(o.a.Component),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.d)(t,e),t.prototype.render=function(){var e=this.props.photo?Object(d.a)(this.props.photo,Object(m.h)(h.c.LANGUAGE)):null,t=this.props.photo&&!this.props.hidePhotoInCompactView?"string"==typeof e?e:e[1]:null,n=Boolean(this.props.title),r=Boolean(this.props.company);return o.a.createElement("div",{className:p.a.SpeakerOuter},o.a.createElement(b,Object(a.a)({},this.props),o.a.createElement("div",{className:p.a.Speaker},o.a.createElement("div",{className:p.a.SpeakerInfoOuter},!!t&&o.a.createElement("img",{src:t}),o.a.createElement("div",{className:p.a.SpeakerInfoInner},o.a.createElement("div",null,this.props.name),(n||r)&&o.a.createElement("div",null,n&&o.a.createElement("span",{className:p.a.SpeakerTitle},this.props.title),n&&r&&o.a.createElement("span",null,", "),r&&o.a.createElement("span",null,this.props.company)))))))},t}(o.a.Component)},go9d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtNJREFUeNrsmk1rE0EYgHe19ZBIY2kj4qUQVGjxAz2J4gcVvfmBP8FI8eZF8OJNL4oFPYrGX1CK4lEMiChe/aCClNBeRGxLTTE5GDU+Y2bDJG5rL5lZ950XnsxkE5h9n8zszkw2bDabgeTYEAgPL8AL8AK8AC/AC/AC5EafegnDcM0vMVvMUOyA7bBNswVymgHYDOp7m/SxUNczRlvZdZ5XDX7oeh2+q9OAqq6rY99gRR9TfIXPmk8wS171f+QVhH9eYgRw/BhFEQ7q5MP/7MdVwmbhNZTI8fm6BPBe/XoP4XzKevs0XCDX6qoCdPIvYE9Kh/xbOBpJULl3XwQfpDh5FXt1ju1o9wDKQ7x/KeTif5icX3X3gKKgu18xbh4wLkjAeMcQIPLwRdgcaCssRD1gTOAkcMwcAgWBAgqmgBGBAkZMAfkeN1ZPoIC8KWCox409hePwJkEChmwKCPRi5ABMJOSO0yFg2EaLSPgF96nuhFt6aesqhk0BgzZbRsIKXKU6Co8dCRg0BWRdnAESKnCO6gl4Z7n5rCmg3+VgREKZYj9cUrMzS832mwJyrq9ISPgJ9/T1YRIaPW4y170YSkSozQq4QnU3POl1e4ndFUbCRzhD9RS8FyfAVvQl9cRYpu+iuA2nRQnQG7PX4LKNu1MkoOr6TkDiGykuwnULi7Mo57aAhuPk1RbVncDujnTDvAjWHCVegEdUnwX2t+NrpoBly4kPwE2qH+Cso463bA6BRUuJK+FqS/pG0NqUdBmLpoAlC8mrP1vvwr6E3HCWbAo46bCrrykgugb0egWWSeBca8EUMC9wFjxvCqgIFFAxBcwIFDDTFsCyU42HOUHJz+mcO5bDZUECynH7ASVBAkp/CVBPTFBMCUh+Sufayts/JGWE/uBI0HqkLG0xbSYf2wNi5u7yHpRcZSGT7kdlJYd/XN4L8AK8AC/AC/ACvACx8VuAAQDxke5GRJ5P8AAAAABJRU5ErkJggg=="},goqe:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTQwMHB4IiBoZWlnaHQ9IjE0MDlweCIgdmlld0JveD0iMCAxODAxLjUgMTQwMCAxNDA5IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMTgwMS41IDE0MDAgMTQwOSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iaWNvbm1vbnN0ci1saW5rLTFfMV8iIGZpbGw9IiNGRkZGRkYiIGQ9Ik0zNjIuMzUzLDIzMTAuNTg4YzE0OC4yMzUtMTQ4LjIzNSwzODcuMDYtMTQ4LjIzNSw1MjcuMDYsMA0KCWMxNi40NzEsMTYuNDcxLDMyLjk0MSw0MS4xNzcsNDkuNDExLDU3LjY0N0w4MDcuMDU5LDI1MDBjLTQxLjE3Ni04Mi4zNTMtMTMxLjc2NS0xMzEuNzY1LTIyMi4zNTMtMTE1LjI5NA0KCWMtNDEuMTc3LDguMjM1LTc0LjExOCwyNC43MDYtOTguODIzLDQ5LjQxMWwtMjQ3LjA1OSwyNDcuMDZjLTc0LjExOCw3NC4xMTctNzQuMTE4LDE5Ny42NDYsMCwyODANCgljNzQuMTE4LDc0LjExNywxOTcuNjQ3LDc0LjExNywyODAsMGwwLDBsNzQuMTE4LTc0LjExOGM3NC4xMTcsMjQuNzA2LDE0OC4yMzUsNDEuMTc3LDIyMi4zNTMsMzIuOTQxbC0xNzIuOTQsMTcyLjk0MQ0KCWMtMTQ4LjIzNSwxNDguMjM1LTM4Ny4wNiwxNDguMjM1LTUyNy4wNiwwcy0xNDguMjM1LTM4Ny4wNTksMC01MjcuMDU5QzEwNy4wNTksMjU1Ny42NDcsMzYyLjM1MywyMzEwLjU4OCwzNjIuMzUzLDIzMTAuNTg4eg0KCSBNNzU3LjY0NiwxOTA3LjA1OUw1OTIuOTQxLDIwODBjNzQuMTE3LTguMjM1LDE0OC4yMzUsOC4yMzUsMjE0LjExNywzMi45NDFsNzQuMTE4LTc0LjExOGM3NC4xMTctNzQuMTE3LDE5Ny42NDYtNzQuMTE3LDI4MCwwDQoJYzgyLjM1Myw3NC4xMTgsNzQuMTE3LDE5Ny42NDcsMCwyODBsLTI1NS4yOTQsMjQ3LjA2Yy03NC4xMTgsNzQuMTE3LTE5Ny42NDcsNzQuMTE3LTI4MCwwDQoJYy04LjIzNS0xNi40NzEtMjQuNzA2LTQxLjE3Ny0zMi45NDEtNjUuODgzbC0xMzEuNzY1LDEzMS43NjVjMTYuNDcxLDI0LjcwNiwzMi45NCw0MS4xNzcsNDkuNDExLDU3LjY0Nw0KCWMxNDguMjM1LDE0OC4yMzUsMzg3LjA1OSwxNDguMjM1LDUyNy4wNiwwbDAsMGwyNDcuMDU5LTI0Ny4wNmMxNDguMjM1LTE0OC4yMzUsMTQ4LjIzNS0zODcuMDU5LDAtNTI3LjA1OQ0KCVM5MDUuODgzLDE3NjcuMDU5LDc1Ny42NDYsMTkwNy4wNTlMNzU3LjY0NiwxOTA3LjA1OUw3NTcuNjQ2LDE5MDcuMDU5eiIvPg0KPC9zdmc+DQo="},gsSj:function(e,t,n){e.exports={AppDetailsSection:"appdetailssection_AppDetailsSection_2r4TK",AppDetailsSectionContainer:"appdetailssection_AppDetailsSectionContainer_31ptF",RightColumnSection:"appdetailssection_RightColumnSection_3KfxI",AppDetailsSectionHasLabel:"appdetailssection_AppDetailsSectionHasLabel_2G5B7",Body:"appdetailssection_Body_5uvIN",Highlight:"appdetailssection_Highlight_38t1m"}},gyoR:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return s});var _=n("mrSG"),v=n("kyHq"),g=n("5eAM"),y=n("R+8l"),S=n("oVVc"),r=n("ee7K"),i=n("r64O");function a(e){return"bundle"==e.type?y.a.GetBundleInfo(e.id):"sub"==e.type?S.b.GetPackageInfo(e.id):Object(v.f)(e.type)?g.a.GetAppLinkInfo(e.id):(Object(i.a)(!1,'Unsupported capsule type "'+e.type+'" with id '+e.id),null)}function o(h,f,b){return Object(_.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,p,d,m;return Object(_.e)(this,function(e){switch(e.label){case 0:return t=h.filter(function(e){return Object(v.f)(e.type)}).map(function(e){return e.id}),n=h.filter(function(e){return"sub"===e.type}).map(function(e){return e.id}),0<(r=h.filter(function(e){return"bundle"===e.type}).map(function(e){return e.id})).length?[4,y.a.LoadBundleInfo(r,b)]:[3,2];case 1:for(e.sent(),i=0,a=r;i<a.length;i++)o=a[i],(s=y.a.GetBundleInfo(o))&&n.push.apply(n,s.packageids);e.label=2;case 2:return 0<n.length?[4,S.b.LoadPackageInfo(n,b)]:[3,4];case 3:for(e.sent(),c=0,l=n;c<l.length;c++)u=l[c],(p=S.b.GetPackageInfo(u))&&t.push.apply(t,p.appids);e.label=4;case 4:return 0<t.length?[4,g.a.LoadAppLinkInfo(t,b)]:[3,7];case 5:return(e.sent(),f)?0<(d=t.map(function(e){return g.a.GetAppLinkInfo(e)}).filter(function(e){return e&&e.full_game_appid}).map(function(e){return e.full_game_appid})).length?(m=Array.from(new Set(d)),[4,g.a.LoadAppLinkInfo(m)]):[3,7]:[3,7];case 6:e.sent(),e.label=7;case 7:return[2]}})})}function d(c,l){return Object(_.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s;return Object(_.e)(this,function(e){switch(e.label){case 0:return Object(v.f)(c.type)?[2,[c.id]]:(t=[],"bundle"!=c.type?[3,2]:[4,y.a.LoadBundleInfo([c.id],l)]);case 1:return e.sent(),(n=y.a.GetBundleInfo(c.id))&&t.push.apply(t,n.packageids),[3,3];case 2:"sub"==c.type&&t.push(c.id),e.label=3;case 3:return r=[],0<t.length?[4,S.b.LoadPackageInfo(t,l)]:[3,5];case 4:for(e.sent(),i=0,a=t;i<a.length;i++)o=a[i],(s=S.b.GetPackageInfo(o))&&r.push.apply(r,s.appids);e.label=5;case 5:return[2,r]}})})}function m(e){return!e||r.a.BExcludesContentDescriptor(e.content_descriptors)||r.a.BExcludesTag(e.tags)||r.a.BIsGameIgnored(e.appid)}function s(l,u,p){return Object(_.b)(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c;return Object(_.e)(this,function(e){switch(e.label){case 0:t=[],n=0,r=l,e.label=1;case 1:return n<r.length?[4,d(i=r[n])]:[3,4];case 2:if(a=e.sent(),o=a.map(function(e){return g.a.GetAppLinkInfo(e)}),u&&(s=o.map(function(e){return e&&e.full_game_appid}).filter(function(e){return!!e}),c=s.map(function(e){return g.a.GetAppLinkInfo(e)}),o.push.apply(o,c)),o.some(function(e){return!e}))return[3,3];o.some(m)?p&&p.push(i):t.push(i),e.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})}},hJxo:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r=n("mrSG"),a=n("i8i4"),o=n("X3Ds"),i=function(){function e(e,t){this.m_bActive=!1,this.m_fnBoundAnimationFunc=void 0,this.m_window=e,this.m_options=Object.assign({timing:"sine"},t)}return e.prototype.Start=function(){var e;switch(this.m_msStart=performance.now(),this.m_msEnd=this.m_msStart+this.m_options.msDuration,this.m_options.timing){case"linear":e=function(e){return e};break;case"cubic-in-out":e=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1};break;case"sine":default:e=function(e){return.5-Math.cos(e*Math.PI)/2}}this.m_bActive=!0,this.m_fnBoundAnimationFunc=this.OnInterval.bind(this,e),this.m_window.requestAnimationFrame(this.m_fnBoundAnimationFunc)},e.prototype.BIsActive=function(){return this.m_bActive},e.prototype.End=function(){this.m_bActive&&(this.Update(1),this.ClearInterval(),this.FireOnComplete())},e.prototype.FireOnComplete=function(){this.m_options.onComplete&&this.m_options.onComplete()},e.prototype.Cancel=function(){this.m_bActive=!1},e.prototype.OnInterval=function(e){var t,n;this.m_bActive&&((t=performance.now()-this.m_msStart)>=this.m_options.msDuration?this.End():(n=t/this.m_options.msDuration,this.Update(e(n)),this.m_window.requestAnimationFrame(this.m_fnBoundAnimationFunc)))},e.prototype.ClearInterval=function(){this.m_bActive=!1},e}(),s=function(i){function e(e,t,n){var r=i.call(this,o.m(e),n)||this;return r.m_props={},r.m_object=e,r.m_propTargets=t,r}return Object(r.d)(e,i),e.prototype.Start=function(){for(var e in this.m_props={},this.m_propTargets){var t=parseFloat(this.m_object[e])||0,n=this.m_propTargets[e];t!=n&&(this.m_props[e]={start:t,end:n})}i.prototype.Start.call(this)},e.prototype.Update=function(e){for(var t in this.m_props){var n=this.m_props[t],r=n.start+(n.end-n.start)*e;this.m_object[t]=r}},e}(i),c=function(i){function e(e,t,n){var r=i.call(this,o.m(a.findDOMNode(e)),n)||this;return r.m_props={},r.m_component=e,r.m_propTargets=t,r.m_setStateOnComplete=n.setStateOnComplete,r}return Object(r.d)(e,i),e.prototype.Start=function(){for(var e in this.m_props={},this.m_propTargets){var t=parseFloat(this.m_component.state[e])||0,n=this.m_propTargets[e];t!=n&&(this.m_props[e]={start:t,end:n})}i.prototype.Start.call(this)},e.prototype.Update=function(e){var t={};for(var n in this.m_props){var r=this.m_props[n],i=r.start+(r.end-r.start)*e;t[n]=i}this.m_component.setState(t)},e.prototype.FireOnComplete=function(){i.prototype.FireOnComplete.call(this),this.m_setStateOnComplete&&this.m_component.setState(this.m_setStateOnComplete)},e}(i)},hnze:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",PortraitImage:"appportrait_PortraitImage_2IYf7",FeaturedCapsule:"appportrait_FeaturedCapsule_xp7A-",Portrait:"appportrait_Portrait_1Pf6J",Landscape:"appportrait_Landscape_3VOR2",NoCapsuleImage:"appportrait_NoCapsuleImage_eKPNT",Capsule:"appportrait_Capsule_13w3S",CapsuleVisible:"appportrait_CapsuleVisible_3QIfJ",InCollection:"appportrait_InCollection_3ANru",LibraryItemBox:"appportrait_LibraryItemBox_WYgDg",InRecentGames:"appportrait_InRecentGames_biTV-",InPlayNext:"appportrait_InPlayNext_L3xTn",UninstalledIcon:"appportrait_UninstalledIcon_8YrRm",HoversEnabled:"appportrait_HoversEnabled_54PuC",ComingSoonIcon:"appportrait_ComingSoonIcon_1pvln",FooterBlurImage:"appportrait_FooterBlurImage_2nq-z",InFriendsActivity:"appportrait_InFriendsActivity_3ngZC",LibraryItemBoxTitle:"appportrait_LibraryItemBoxTitle_1tO8p",InGameDetails:"appportrait_InGameDetails_1QRCG",LibraryItemBoxShine:"appportrait_LibraryItemBoxShine_MyNb5",LibraryItemBoxSubscript:"appportrait_LibraryItemBoxSubscript_1LJqx",ClassAllAchieved:"appportrait_ClassAllAchieved_31wTt",MCRed:"appportrait_MCRed_3lWVD",MCOrange:"appportrait_MCOrange_1H3NR",MCGreen:"appportrait_MCGreen_1KR40",Short:"appportrait_Short_yGeS6",SteamReview:"appportrait_SteamReview_2pens",Small:"appportrait_Small_3plHT",Medium:"appportrait_Medium_3SNGK",Large:"appportrait_Large_NSf2V",SteamReviewPositive:"appportrait_SteamReviewPositive_YMFWN",SteamReviewMixed:"appportrait_SteamReviewMixed_2DHhH",SteamReviewNegative:"appportrait_SteamReviewNegative_2-196",Draggable:"appportrait_Draggable_1pwP4",Soundtrack:"appportrait_Soundtrack_3Lu_5",UninstalledBar:"appportrait_UninstalledBar_kX-tI",UninstalledBarBottom:"appportrait_UninstalledBarBottom_1wAAr",BarDownloading:"appportrait_BarDownloading_3BNwj",UninstalledProgressBar:"appportrait_UninstalledProgressBar_mA39H",LibraryItemUpdateBadge:"appportrait_LibraryItemUpdateBadge_24AOi",GameUpdatedCircle:"appportrait_GameUpdatedCircle_3ezYo",AppPortraitBanner:"appportrait_AppPortraitBanner_N8aJr",LibraryItemActionButton:"appportrait_LibraryItemActionButton_3AjoL",Disabled:"appportrait_Disabled_1aml4",Play:"appportrait_Play_1_Bo2",Download:"appportrait_Download_3yGiL",Update:"appportrait_Update_2PhYb",BasicPlayButton:"appportrait_BasicPlayButton_1K9_h",SVGIcon_Button:"appportrait_SVGIcon_Button_rqQs9",PressActive:"appportrait_PressActive_zzV-4",RecentGameFooter:"appportrait_RecentGameFooter_2d1hS",CarouselItemLabel:"appportrait_CarouselItemLabel_1Cmux",FooterBlurImageContainer:"appportrait_FooterBlurImageContainer_RhmvO",PlaytimeDetails:"appportrait_PlaytimeDetails_3bkuo",Header:"appportrait_Header_2zIRl",PlayedTotal:"appportrait_PlayedTotal_ma8y_",PlayedRecent:"appportrait_PlayedRecent_3JWBB",PortraitMessage:"appportrait_PortraitMessage_3gwMk",Message:"appportrait_Message_3CRLA",SubMessage:"appportrait_SubMessage_3DR9f",Focused:"appportrait_Focused_2GzwP",FriendsBar:"appportrait_FriendsBar_3dncO",IconsView:"appportrait_IconsView_1WWmQ",PortraitHover:"appportrait_PortraitHover_301ft",Featured:"appportrait_Featured_10w8f",SummaryView:"appportrait_SummaryView_1To_Q",IconsRestCount:"appportrait_IconsRestCount_2JYwp",TwoDigits:"appportrait_TwoDigits_1-SmT",SummaryLeader:"appportrait_SummaryLeader_2SZ70",SummaryCount:"appportrait_SummaryCount_1CA44"}},hpRI:function(e,t,n){e.exports={BoxCarousel:"boxcarousel_BoxCarousel_3fiHs",ArrowWrapper:"boxcarousel_ArrowWrapper_4GcCG",Hidden:"boxcarousel_Hidden_2VsTM",ScrollLeft:"boxcarousel_ScrollLeft_3Y8BM",ScrollRight:"boxcarousel_ScrollRight_3my3H",BoxCarouselContents:"boxcarousel_BoxCarouselContents_3CJct",MaskRight:"boxcarousel_MaskRight_1urF0",OnLastPage:"boxcarousel_OnLastPage_1X10h"}},i6tc:function(e,t,n){e.exports={GameTitleContainer:"eventcalendartile_GameTitleContainer_WHJ_W",AppIcon:"eventcalendartile_AppIcon_3gwk6",TileTextAppName:"eventcalendartile_TileTextAppName_71phF",EnableHovers:"eventcalendartile_EnableHovers_2BniJ",TileContainer:"eventcalendartile_TileContainer_1E3An",CoverImageCtn:"eventcalendartile_CoverImageCtn_3HF9t",GameShortDescription:"eventcalendartile_GameShortDescription_3Se1T",LiveText:"eventcalendartile_LiveText_RNDf0",LiveNow:"eventcalendartile_LiveNow_EVDkY",FutureDateText:"eventcalendartile_FutureDateText_2xdhM",PastDateText:"eventcalendartile_PastDateText_4-fqV",GameSource:"eventcalendartile_GameSource_vfv1Q",SourceList:"eventcalendartile_SourceList_3BIx7",Source:"eventcalendartile_Source_2lYFq",RecommendedSource:"eventcalendartile_RecommendedSource_3ayJy",SourceRecommended:"eventcalendartile_SourceRecommended_1yaRL",DateAndSourceLine:"eventcalendartile_DateAndSourceLine_2xxMB",EventTypeAndDateCtn:"eventcalendartile_EventTypeAndDateCtn_sUBHF",LeaveRoomForReminder:"eventcalendartile_LeaveRoomForReminder_3djUm",SmallAppName:"eventcalendartile_SmallAppName_1-Jl_",TileTextCategoryType:"eventcalendartile_TileTextCategoryType_1LkWX",EventType28:"eventcalendartile_EventType28_1qGfE",EventType10:"eventcalendartile_EventType10_22QY5",EventType11:"eventcalendartile_EventType11_2Gv13",EventType23:"eventcalendartile_EventType23_590_l",EventType35:"eventcalendartile_EventType35_2wHiB",EventType13:"eventcalendartile_EventType13_2D0ZN",EventType14:"eventcalendartile_EventType14_2mVdt",EventType15:"eventcalendartile_EventType15_2Xke6",Tile:"eventcalendartile_Tile_3xvUZ",MainContentContainer:"eventcalendartile_MainContentContainer_2pq2v",YoutubePreviewImage:"eventcalendartile_YoutubePreviewImage_1UgZv",TileImage:"eventcalendartile_TileImage_d8bPi",TileTextContainer:"eventcalendartile_TileTextContainer_3IQK4",EventType12:"eventcalendartile_EventType12_2X_hM",EventName:"eventcalendartile_EventName_1M8-P",EventSubTitle:"eventcalendartile_EventSubTitle_1JjUp",GameCapsuleCtn:"eventcalendartile_GameCapsuleCtn_3HJFi",AppBannerLogo:"eventcalendartile_AppBannerLogo_u8z1m",TileTextHeader:"eventcalendartile_TileTextHeader_3-0KO",PatchIconCtn:"eventcalendartile_PatchIconCtn_Fm9_5",EventTitleCtn:"eventcalendartile_EventTitleCtn_1h5cJ",Footer:"eventcalendartile_Footer_1tdf1",EventCapsuleCtn:"eventcalendartile_EventCapsuleCtn_27kWH",FallbackImage:"eventcalendartile_FallbackImage_9rv9P",LiveBroadcastPreview:"eventcalendartile_LiveBroadcastPreview_4UYuS",TileBackgroundImage:"eventcalendartile_TileBackgroundImage_gGujG",TileCoverImagePlayable:"eventcalendartile_TileCoverImagePlayable_2eoFk",TileCoverLiveIcon:"eventcalendartile_TileCoverLiveIcon__dmbj",ReminderContainer:"eventcalendartile_ReminderContainer_1_taB",OnlyIcon:"eventcalendartile_OnlyIcon_iO5Eu",EventSummaryDefault:"eventcalendartile_EventSummaryDefault_2g3Jj",Vote_NotLoggedIn:"eventcalendartile_Vote_NotLoggedIn_17oqR",Vote_LimitedUser:"eventcalendartile_Vote_LimitedUser_2FlPo",Vote_Positive:"eventcalendartile_Vote_Positive_ysX-k",RateIcon:"eventcalendartile_RateIcon_2se4H",Vote_Negative:"eventcalendartile_Vote_Negative_3LqNu",Vote_Ready:"eventcalendartile_Vote_Ready_3issE",FooterRightSide:"eventcalendartile_FooterRightSide_1Hhqg",Options:"eventcalendartile_Options_3nZg0",TileViewerCount:"eventcalendartile_TileViewerCount_pg-a3",FooterStat:"eventcalendartile_FooterStat_3_86J",CommentIcon:"eventcalendartile_CommentIcon_Wn7qA",CommentIconCtn:"eventcalendartile_CommentIconCtn_PR8xM",LoadingTile:"eventcalendartile_LoadingTile_24QfL",CarouselMode:"eventcalendartile_CarouselMode_144gh",UpcomingMode:"eventcalendartile_UpcomingMode_2vzY3",TileVideoIcon:"eventcalendartile_TileVideoIcon_aK0jl",DateAndTime:"eventcalendartile_DateAndTime_1gEM9",HasVideo:"eventcalendartile_HasVideo_qbgBA",SubTitleShown:"eventcalendartile_SubTitleShown_5C13z",VideoPlayerReady:"eventcalendartile_VideoPlayerReady_1onQj"}},iBzj:function(e,t,n){e.exports={Container:"smartscrollcontainer_Container_3VQUe",Body:"smartscrollcontainer_Body_3lDcz",ScrollToTopButton:"smartscrollcontainer_ScrollToTopButton_1J21t",Visible:"smartscrollcontainer_Visible_28ZR8"}},iL1l:function(e,t,n){},iP4P:function(e,t,n){e.exports={Question:"removefreeappdialog_Question_3Xydr",RemovingText:"removefreeappdialog_RemovingText_3SgZT"}},idvb:function(e,t,n){},ionH:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),i=n("2vnA"),a=n("Fq2z"),o=n("Gp1o"),s=n("z5gf"),c=new(function(){function e(){this.m_mapAppBroadcasts=new Map,this.m_setRequestsInFlight=new Set}return e.prototype.GetBroadcastList=function(t){var e,r=this;if(this.m_mapAppBroadcasts.has(t)){var n=this.m_mapAppBroadcasts.get(t);if((new Date).getTime()-n.timeStamp.getTime()<6e4)return n.bHasData&&0<n.broadcasts.length&&Object(o.d)(12e4),n}else this.m_mapAppBroadcasts.set(t,{bHasData:!1,timeStamp:new Date});this.m_setRequestsInFlight.has(t)||(this.m_setRequestsInFlight.add(t),e=a.a.ResolveURL("LibraryFeaturedBroadcasts",t),s.a.get(e,{retrycount:1}).then(function(e){var n;e.success&&Array.isArray(e.filtered)&&(n={bHasData:!0,timeStamp:new Date,broadcasts:[]},e.filtered.forEach(function(e){var t={unAccountId:Number(e.accountid),strThumbnailURL:e.thumbnail_http_address,unViewerCount:e.viewer_count,strTitle:e.title,unDuration:e.duration};n.broadcasts.push(t)}),r.m_mapAppBroadcasts.set(t,n)),r.m_setRequestsInFlight.delete(t)}).catch(function(e){r.m_setRequestsInFlight.delete(t)}));var i=this.m_mapAppBroadcasts.get(t);return i.bHasData&&0<i.broadcasts.length&&Object(o.d)(12e4),this.m_mapAppBroadcasts.get(t)},e.prototype.InvalidateBroadcastList=function(e){this.m_mapAppBroadcasts.delete(e)},Object(r.c)([i.observable.shallow],e.prototype,"m_mapAppBroadcasts",void 0),e}());window.appBroadcastStore=c},"ir+G":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var l=n("mrSG"),r=n("vDqi"),u=n.n(r),i=n("2vnA"),a=n("Xhj9"),p=n("bDQf"),d=n("lkRc"),o=new(function(){function e(){this.m_mapAppIDToInfo=new Map,this.m_mapAppIDToDLCs=new Map,this.m_mapAppMissings=new Map,this.m_bLoadedFromConfig=!1}return e.prototype.GetNumAppLinkLoaded=function(){return this.m_mapAppIDToInfo.size},e.prototype.GetAllAppInfos=function(){return this.m_mapAppIDToInfo},e.prototype.GetMissingAppIDs=function(){return this.m_mapAppMissings},e.prototype.LazyInit=function(){var e,t=this;this.m_bLoadedFromConfig||(!Object({NODE_ENV:"production",STEAM_BUILD:"buildbot"}).MOBILE_BUILD&&document.getElementById("application_config")&&(e=Object(d.g)("appcapsulestore","application_config"),this.ValidateAppConfig(e)&&e.forEach(function(e){t.m_mapAppIDToInfo.set(e.appid,new a.b(e.appid,e))})),this.m_bLoadedFromConfig=!0)},e.prototype.ValidateAppConfig=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("number"==typeof t[0].appid&&"number"==typeof t[0].success&&1===t[0].success)},e.BHasAllAppCasules=function(e){for(var t=0;t<e.length;++t)if(!o.m_mapAppIDToInfo.has(e[t]))return!1;return!0},e.prototype.EnsureStoreCapsuleInfoLoaded=function(r){return Object(l.b)(this,void 0,void 0,function(){var t,n;return Object(l.e)(this,function(e){switch(e.label){case 0:return(this.LazyInit(),t=this.m_mapAppIDToInfo.get(r))?[3,3]:(n=new a.b(r),this.m_mapAppIDToInfo.set(r,n),r&&0<r?[4,n.HintLoadBroadcastAppData((d.c.IN_CLIENT?"library-":Object(d.f)()+"-")+"partner-events")]:[3,2]);case 1:e.sent().BIsLoaded()||this.m_mapAppMissings.set(r,!0),e.label=2;case 2:return[2,n];case 3:return[4,t.GetLoadingPromise()];case 4:return e.sent(),[2,t]}})})},e.prototype.GetStoreCapsuleInfo=function(e){if(this.LazyInit(),this.m_mapAppIDToInfo.has(e))return this.m_mapAppIDToInfo.get(e);var t=new a.b(e);return this.m_mapAppIDToInfo.set(e,t),e&&0<e&&t.HintLoadBroadcastAppData((d.c.IN_CLIENT?"library-":Object(d.f)()+"-")+"partner-events"),t},e.prototype.BIsAppidLoaded=function(e){this.LazyInit();var t=this.m_mapAppIDToInfo.get(e);return Boolean(t&&t.BIsLoaded())},e.prototype.LoadDLCForAppID=function(s,c){return Object(l.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(l.e)(this,function(e){switch(e.label){case 0:if(this.LazyInit(),this.m_mapAppIDToDLCs.has(s)||0==s)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),t={origin:self.origin,cc:d.c.COUNTRY||"US",l:d.c.LANGUAGE},n=d.c.STORE_BASE_URL+"dlc/"+s+"/ajaxgetdlclist",[4,u.a.get(n,{params:t,cancelToken:c.token})];case 2:return r=e.sent(),i=Array(),r.data.dlcs&&r.data.dlcs.forEach(function(e){i.push({appid:e.appid,name:e.name})}),this.m_mapAppIDToDLCs.set(s,i),[3,4];case 3:return a=e.sent(),o=Object(p.a)(a),console.error("LoadDLCForAppID for appid: "+s+" hit: "+o.strErrorMsg,o),[3,4];case 4:return[2,this.m_mapAppIDToDLCs.has(s)?this.m_mapAppIDToDLCs.get(s):[]]}})})},e.prototype.BatchLoadAppCapsules=function(o){return Object(l.b)(this,void 0,void 0,function(){var t,n,r,i,a=this;return Object(l.e)(this,function(e){switch(e.label){case 0:t=o.filter(function(e){if(a.m_mapAppMissings.has(e))return!1;var t=a.m_mapAppIDToInfo.get(e);return!t||!t.BIsLoaded()}),e.label=1;case 1:return 0<t.length?(n=Math.min(20,t.length),r=t.slice(0,n),t=t.slice(n),i=r.map(function(e){return a.EnsureStoreCapsuleInfoLoaded(e)}),[4,Promise.all(i)]):[3,3];case 2:return e.sent(),[3,1];case 3:return[2]}})})},Object(l.c)([i.observable],e.prototype,"m_mapAppIDToInfo",void 0),Object(l.c)([i.observable],e.prototype,"m_mapAppIDToDLCs",void 0),Object(l.c)([i.observable],e.prototype,"m_mapAppMissings",void 0),e}());window.g_AppCapsuleStore=o},jcby:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkVBRDg3RTRCNENCMzExRTNCRjc1OUVCNjQzQTc5MUY3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkVBRDg3RTRDNENCMzExRTNCRjc1OUVCNjQzQTc5MUY3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUFEODdFNDk0Q0IzMTFFM0JGNzU5RUI2NDNBNzkxRjciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUFEODdFNEE0Q0IzMTFFM0JGNzU5RUI2NDNBNzkxRjciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6imCnEAAAA6UlEQVR42szUPwtBURjHcVfKJGVT7DLYvQCTkoGSspq8CZPNzmyQIq+AskgsFgtegZRCSTi+cibudZ+rmzz1Gc7pnF+dv4ZSyuNmGW4Heh6BQjGM0Ps0ThoWxEI9q+ZGYFGHjRH+NNZqD7MoIYQVlkjhihvO6KCt25Z76EdVvdcRB5P+it2SSxYTzWqGqF1gX8krLTmUoTBsp0/+LdD75fUNICG52E0HSza9Qq+BGWwdhE7sAn2oOwhsSV5KBGtB2AZx6dNLYa8nXjDFHFfdd0LeydN7VBk5DNCFDwUkdbvxk//w/wPvAgwAuYpVKbKt5hQAAAAASUVORK5CYII="},jmRr:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",EventCapsulesPerPage:"3",NewUpdates:"libraryhomenewupdates_NewUpdates_1-skw",ArrowWrapper:"libraryhomenewupdates_ArrowWrapper_7KUZp",Hidden:"libraryhomenewupdates_Hidden_1upws",ScrollLeft:"libraryhomenewupdates_ScrollLeft_3dK60",ScrollRight:"libraryhomenewupdates_ScrollRight_31PRX",EventRowCarousel:"libraryhomenewupdates_EventRowCarousel_11cYv",PartnerEventRowCapsule:"libraryhomenewupdates_PartnerEventRowCapsule_3YO5B",EventOptions:"libraryhomenewupdates_EventOptions_2-p7s",SettingsAndUndoContainer:"libraryhomenewupdates_SettingsAndUndoContainer_woCAU",SettingsButton:"libraryhomenewupdates_SettingsButton_1eFe5",WhatsNewSettingsContainer:"libraryhomenewupdates_WhatsNewSettingsContainer_2JKpG",WhatsNewSettingsContent:"libraryhomenewupdates_WhatsNewSettingsContent_1I-uT",WhatsNewSettings:"libraryhomenewupdates_WhatsNewSettings_1n-sV",WhatsNewPriorityContainer:"libraryhomenewupdates_WhatsNewPriorityContainer_25JfL",WhatsNewGameListSection:"libraryhomenewupdates_WhatsNewGameListSection_VwcCo",WhatsNewGameListRow:"libraryhomenewupdates_WhatsNewGameListRow_2C3-R",WhatsNewSettingsUndoButton:"libraryhomenewupdates_WhatsNewSettingsUndoButton_3XBgg",DialogLabelSoft:"libraryhomenewupdates_DialogLabelSoft_3Hf53",WhatsNewHeaderText:"libraryhomenewupdates_WhatsNewHeaderText_fyxt0",PartnerEventRowCapsule_Container:"libraryhomenewupdates_PartnerEventRowCapsule_Container_B-vCd",PartnerEventRowCapsule_MainImageContainer:"libraryhomenewupdates_PartnerEventRowCapsule_MainImageContainer_SPz0i",PartnerEventRowCapsule_MainImage:"libraryhomenewupdates_PartnerEventRowCapsule_MainImage_1-W_Z",EventTimeSpan:"libraryhomenewupdates_EventTimeSpan_3OSZu",HoversEnabled:"libraryhomenewupdates_HoversEnabled_278jF",EventSummaryContainer:"libraryhomenewupdates_EventSummaryContainer_3Rb_j",EventSummaryText:"libraryhomenewupdates_EventSummaryText_3XsLy",EventSummaryType:"libraryhomenewupdates_EventSummaryType_1vIly",PartnerEventRowCapsule_TextCtn:"libraryhomenewupdates_PartnerEventRowCapsule_TextCtn_aqYQC",Event_Title:"libraryhomenewupdates_Event_Title_1Gu1U",PartnerEventRowCapsule_TextTitle:"libraryhomenewupdates_PartnerEventRowCapsule_TextTitle_DVBcp",GameIcon:"libraryhomenewupdates_GameIcon_3tdft",GameIconAndName:"libraryhomenewupdates_GameIconAndName_3_xMy",GameName:"libraryhomenewupdates_GameName_28Iqr",EventTime:"libraryhomenewupdates_EventTime_2rlKq"}},k3ve:function(e,t,n){e.exports={CollectionDeleteContainer:"gamelistcollectionmenu_CollectionDeleteContainer_nYduu",CollectionDeleteRightSide:"gamelistcollectionmenu_CollectionDeleteRightSide_3rTCY",CollectionDelete:"gamelistcollectionmenu_CollectionDelete_gx3va",CollectionDeleteIconOutline:"gamelistcollectionmenu_CollectionDeleteIconOutline_143lq",CollectionDeleteIcon:"gamelistcollectionmenu_CollectionDeleteIcon_f9Kxl"}},kLLr:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("2lpH"),o=n.n(r),a=n("mgoM"),s=n("lkRc"),i=function(){function i(e,t,n,r){void 0===e&&(e=0),e instanceof i?this.m_ulSteamID=e.m_ulSteamID:"string"==typeof e?this.m_ulSteamID=o.a.fromString(e,!0):t&&n&&void 0!==r?this.SetFromComponents(e,r,n,t):this.m_ulSteamID=e?o.a.fromNumber(e,!0):o.a.UZERO}return i.InitFromAccountID=function(e){return new i(Number(e),s.c.EUNIVERSE,1,a.s)},i.InitFromClanID=function(e){return new i(Number(e),s.c.EUNIVERSE,7,0)},i.prototype.GetAccountID=function(){return this.m_ulSteamID.getLowBitsUnsigned()},i.prototype.GetInstance=function(){return 1048575&this.m_ulSteamID.getHighBitsUnsigned()},i.prototype.GetAccountType=function(){return this.m_ulSteamID.getHighBitsUnsigned()>>20&15},i.prototype.GetUniverse=function(){return this.m_ulSteamID.getHighBitsUnsigned()>>24&255},i.prototype.ConvertTo64BitString=function(){return this.m_ulSteamID.toString()},i.prototype.Render=function(){switch(this.GetAccountType()){case 0:return"[I:"+this.GetUniverse()+":"+this.GetAccountID()+"]";case 7:return"[g:"+this.GetUniverse()+":"+this.GetAccountID()+"]";case 4:return"[A:"+this.GetUniverse()+":"+this.GetAccountID()+":"+this.GetInstance()+"]";case 3:return"[G:"+this.GetUniverse()+":"+this.GetAccountID()+"]";case 2:return"[M:"+this.GetUniverse()+":"+this.GetAccountID()+":"+this.GetInstance()+"]";case 5:return"[P:"+this.GetUniverse()+":"+this.GetAccountID()+"]";case 6:return"[C:"+this.GetUniverse()+":"+this.GetAccountID()+"]";default:return"[U:"+this.GetUniverse()+":"+this.GetAccountID()+"]"}},i.prototype.BIsValid=function(){var e=this.GetAccountType();if(e<=0||11<=e)return!1;var t=this.GetUniverse();if(t<=0||5<=t)return!1;if(1==e){if(0==this.GetAccountID()||this.GetInstance()>a.t)return!1}else if(7==e){if(0==this.GetAccountID()||0!=this.GetInstance())return!1}else if(3==e&&0==this.GetAccountID())return!1;return!0},i.prototype.BIsIndividualAccount=function(){return 1==this.GetAccountType()},i.prototype.BIsClanAccount=function(){return 7==this.GetAccountType()},i.prototype.SetAccountID=function(e){this.m_ulSteamID=new o.a(e,this.m_ulSteamID.getHighBitsUnsigned(),!0)},i.prototype.SetInstance=function(e){this.SetFromComponents(this.GetAccountID(),e,this.GetAccountType(),this.GetUniverse())},i.prototype.SetAccountType=function(e){this.SetFromComponents(this.GetAccountID(),this.GetInstance(),e,this.GetUniverse())},i.prototype.SetUniverse=function(e){this.SetFromComponents(this.GetAccountID(),this.GetInstance(),this.GetAccountType(),e)},i.prototype.SetFromComponents=function(e,t,n,r){var i=((255&r)<<24)+((15&n)<<20)+(1048575&t),a=4294967295&e;this.m_ulSteamID=new o.a(a,i,!0)},i}()},ka0M:function(e,t,n){"use strict";n.d(t,"a",function(){return v.g}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return h});var b=n("mrSG"),_=n("q1tI"),l=n("i8i4"),r=n("JMS6"),i=n("y+6m"),v=n("Jqb/"),a=n("6Y59"),o=n("bxiW"),c=function(n){function e(e){var t=n.call(this,e)||this;return t.state={maximized:t.BIsMaximized()},t}return Object(b.d)(e,n),e.prototype.BIsMaximized=function(){var e=this.props.popup.screen.availWidth-this.props.popup.innerWidth,t=this.props.popup.screen.availHeight-this.props.popup.innerHeight;return 0==e&&0==t},e.prototype.componentDidMount=function(){this.props.popup.addEventListener("resize",this.UpdateMaximizeState)},e.prototype.componentWillUnmount=function(){this.props.popup.removeEventListener("resize",this.UpdateMaximizeState)},e.prototype.UpdateMaximizeState=function(){var e=this.BIsMaximized();e!=this.state.maximized&&this.setState({maximized:e})},e.prototype.render=function(){var e=this.props.popup,t="title-area-icon";this.state.maximized?t+=" restoreButton":t+=" maximizeButton";var n="TitleBar title-area";return this.props.className&&(n=n+" "+this.props.className),_.createElement("div",{className:n,style:this.props.style},_.createElement("div",{className:"title-area-highlight"}),_.createElement("div",{className:"title-area-children"},this.props.children),!this.props.hideActions&&_.createElement("div",{className:"title-bar-actions"},_.createElement("div",{className:"title-area-icon closeButton",onClick:function(){e&&e.close()}},_.createElement(a.Jb,null)),!this.props.hideMinMax&&_.createElement("div",{className:t,onClick:function(){e.SteamClient.Window.ToggleMaximize()}},this.state.maximized&&_.createElement(a.hb,null),!this.state.maximized&&_.createElement(a.S,null)),!this.props.hideMinMax&&_.createElement("div",{className:"title-area-icon minimizeButton",onClick:function(){e.SteamClient.Window.Minimize()}},_.createElement(a.V,null))))},Object(b.c)([o.a],e.prototype,"UpdateMaximizeState",null),e}(_.Component),u=n("r64O"),p=n("TLQK"),d=n("lkRc");function s(o,s,c){return Object(b.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(b.e)(this,function(e){switch(e.label){case 0:return t=g(null,s),n=(null==c?void 0:c.bForcePopOut)&&(null==c?void 0:c.popupWidth)&&(null==c?void 0:c.popupHeight),(i=t&&!n)?[4,function(o,s,c){return Object(b.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(b.e)(this,function(e){switch(e.label){case 0:return(t=s.document.createElement("div")).style.position="absolute",t.style.visibility="hidden",s.document.body.appendChild(t),l.render(o,t),[4,c];case 1:return e.sent(),n=document,d.c.IN_LIBRARY&&n.fonts?[4,n.fonts.ready]:[3,3];case 2:e.sent(),e.label=3;case 3:return r=t.getBoundingClientRect(),i=Math.ceil(r.height),a=Math.ceil(r.width),l.unmountComponentAtNode(t),s.document.body.removeChild(t),[2,{height:i,width:a}]}})})}(o,s,null==c?void 0:c.promiseRenderComplete)]:[3,2];case 1:i=e.sent(),e.label=2;case 2:return(r=i,(null==c||!c.bForcePopOut)&&r&&r.height/s.innerHeight<.9&&r.width/s.innerWidth<.8)?[2,h(o,s)]:(a={strTitle:(null==c?void 0:c.strTitle)||Object(p.f)("#Dialog_DefaultWindowTitle"),fnOnClose:null==c?void 0:c.fnOnClose,popupWidth:(null==c?void 0:c.popupWidth)||(null==r?void 0:r.width),popupHeight:(null==c?void 0:c.popupHeight)||(null==r?void 0:r.height),bHideMainWindowForPopouts:null==c?void 0:c.bHideMainWindowForPopouts},[2,h(o,s,a.strTitle,a,null==c?void 0:c.browserContext)])}})})}function m(t,n,r){return Object(b.b)(this,void 0,void 0,function(){return Object(b.e)(this,function(e){return[2,s(t,n,Object(b.a)(Object(b.a)({},r),{bHideMainWindowForPopouts:!0}))]})})}function h(e,t,n,r,i,a,o){function s(){p&&p.Close(),h&&h(),null!=r&&r.fnOnClose&&r.fnOnClose()}function c(){l&&l.Close(),s()}var l,u,p,d,m,h=e.props.closeModal,f=_.cloneElement(e,{closeModal:c});return o=o||Object(v.f)(t),l=g(o,t)&&r&&n?(r.bHideMainWindowForPopouts&&(u=_.createElement(v.g,{className:"Hidden",onEscKeypress:!f.props.bDisableBackgroundDismiss&&c},_.createElement("div",null)),p=o.ShowModal(u)),d=Object(b.a)(Object(b.a)({},r),{fnOnClose:s}),(m=new y(t,n,d,f,i,a)).Show(),m):o.ShowModal(f)}function g(e,t){return e=e||Object(v.f)(t||window),d.c.USE_POPUPS&&e.BUsePopups()}var y=function(s){function e(e,t,n,r,i,a){var o=s.call(this,t,{title:n.strTitle,html_class:"client_chat_frame fullheight ModalDialogPopup",body_class:"fullheight ModalDialogBody",owner_window:void 0,replace_existing_popup:!0,target_browser:i,availscreenwidth:e.screen.availWidth,availscreenheight:e.screen.availHeight})||this;return o.m_windowOpener=e,o.m_modalProps=n,o.m_modalElement=r,o.m_options=a,o}return Object(b.d)(e,s),e.prototype.Update=function(e){Object(u.a)(!1,"NYI")},e.prototype.UpdateParamsBeforeShow=function(e){var t=this.m_modalProps.popupWidth||500,n=this.m_modalProps.popupHeight||400,r=this.m_windowOpener.screen,i=(r.availWidth-t)/2,a=(r.availHeight-n)/2;return void 0!==r.availLeft&&void 0!==r.availTop&&(i+=r.availLeft,a+=r.availTop),Object(b.a)(Object(b.a)({},e),{dimensions:{width:t,height:n,left:i,top:a}})},e.prototype.OnLoad=function(){},e.prototype.OnResize=function(){},e.prototype.OnClose=function(){this.m_modalProps.fnOnClose&&this.m_modalProps.fnOnClose()},e.prototype.Render=function(e,t){var n,r;t.setAttribute("class","fullheight popup_chat_frame"),this.m_modalElement&&(n=this.m_options?this.m_options.bHideActions:void 0,r=this.m_options&&"number"==typeof this.m_options.nDragAreaHeight?{height:this.m_options.nDragAreaHeight}:void 0,l.render(_.createElement("div",{className:"PopupFullWindow",onContextMenu:i.h},_.createElement(c,{hideMinMax:!0,popup:e,hideActions:n,style:r}),_.createElement(v.b,{ModalManager:Object(v.f)(e)}),this.m_modalElement),t))},e}(r.a)},ksWZ:function(e,t,n){e.exports={statusAndName:"personanameandstatus_statusAndName_4ZTzG",threeLines:"personanameandstatus_threeLines_1oYSX",blocked:"personanameandstatus_blocked_VTxPk",richPresenceLabel:"personanameandstatus_richPresenceLabel_2Ri00",playerName:"personanameandstatus_playerName_nOdcT",playerNickname:"personanameandstatus_playerNickname_2saJT",playerNicknameBracket:"personanameandstatus_playerNicknameBracket_3XEmW",richPresenceContainer:"personanameandstatus_richPresenceContainer_3sxE7",NoMask:"personanameandstatus_NoMask_2dAj6",twoLine:"personanameandstatus_twoLine_1BbOe",DNDContainer:"personanameandstatus_DNDContainer_3IswZ",partyBeaconJoin:"personanameandstatus_partyBeaconJoin_3BnDs",gameName:"personanameandstatus_gameName_1cB0q",hidePersona:"personanameandstatus_hidePersona_3ZJkO",compactView:"personanameandstatus_compactView_3bbRZ",noContextMenu:"personanameandstatus_noContextMenu_1JE5G",gameIsPrivateIcon:"personanameandstatus_gameIsPrivateIcon_2gBKQ",PendingPersona:"personanameandstatus_PendingPersona_2sxXn"}},kxiX:function(e,t,n){e.exports={Container:"gamelistsearchbar_Container_20QAC",SearchInput:"gamelistsearchbar_SearchInput_12vo5",SearchFilterInputClear:"gamelistsearchbar_SearchFilterInputClear_38tIM",AdvancedSearchContainer:"gamelistsearchbar_AdvancedSearchContainer_vCCmY",AdvancedSearchPaneContainer:"gamelistsearchbar_AdvancedSearchPaneContainer_1dgAM",Visible:"gamelistsearchbar_Visible_1v65x",AdvancedSearchPane:"gamelistsearchbar_AdvancedSearchPane_Woh0k",AdvancedSearchDismissalOverlay:"gamelistsearchbar_AdvancedSearchDismissalOverlay_1kYo6",Extended:"gamelistsearchbar_Extended_31r1_",AdvancedSearchButton:"gamelistsearchbar_AdvancedSearchButton_1TxHd",Disabled:"gamelistsearchbar_Disabled_1Gjk2",HeaderListFadeTop:"gamelistsearchbar_HeaderListFadeTop_2_ts8",SearchFilterInput:"gamelistsearchbar_SearchFilterInput_172OF",SearchByTypePrompt:"gamelistsearchbar_SearchByTypePrompt_2zPn_",FilterTag:"gamelistsearchbar_FilterTag_3gzh_",FiltertagSpacer:"gamelistsearchbar_FiltertagSpacer_bAVLo",RemovedAppTag:"gamelistsearchbar_RemovedAppTag_14AvU",GameIcon:"gamelistsearchbar_GameIcon_2uTOQ"}},l2mU:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"c",function(){return f});var r,i,a=n("q1tI"),o=n("TyAF"),s=n("c+D6"),c=n("oVVc");(i=r=r||{}).k_eBlock="block",i.k_eFinal="final",i.k_eOriginal="original";function l(e){switch(e.display_style){case r.k_eFinal:return Boolean(e.formatted_final_price)&&a.createElement("span",null,e.formatted_final_price);case r.k_eOriginal:var t=e.formatted_orig_price||e.formatted_final_price;return Boolean(t)&&a.createElement("span",null,t)}return a.createElement("span",{className:s.StoreSalePriceWidget},Boolean(e.discount_percent)&&a.createElement("span",{className:s.StoreSaleDiscountBox},"-"+e.discount_percent+"%"),Boolean(e.formatted_final_price)&&(Boolean(e.discount_percent&&e.formatted_orig_price)?a.createElement("div",{className:s.StoreSaleDiscountedPriceCtn},a.createElement("div",{className:s.StoreOrignalPrice},e.formatted_orig_price),a.createElement("div",{className:s.StoreSalePriceBox},e.formatted_final_price)):a.createElement("div",{className:s.StoreSalePriceBox},e.formatted_final_price)))}var u=Object(o.observer)(function(e){var t=c.b.GetPackageInfo(e.packageID);return t?a.createElement(l,{formatted_final_price:t.formatted_final_price,formatted_orig_price:t.formatted_orig_price,discount_percent:t.discount_percent,display_style:e.display_style}):(c.b.LoadPackageInfo([e.packageID]),null)});function p(e){var t=Number(e.args.packageid);if(!t)return null;var n=e.args.display;return a.createElement(u,{packageID:t,display_style:n})}function d(e,t){if(!e.renewal_time_amount||!t)return 0;var n=Math.ceil(t/e.renewal_time_amount),r=Math.max(n-1,0);return e.final_price_cents+r*e.renewal_price_cents}function m(e,t){if(e&&t&&e.final_price_cents&&t.final_price_cents){var n=e.final_price_cents/t.final_price_cents;if(e.renewal_time_units!=c.a.k_eNone&&t.renewal_time_units!=c.a.k_eNone){if(e.renewal_time_units!=t.renewal_time_units)return;var r=Math.max(t.renewal_time_amount,e.renewal_time_amount),i=d(e,r),a=d(t,r);if(!i||!a)return;n=i/a}return(100*(1-n)).toFixed(0)+"%"}}var h=Object(o.observer)(function(e){var t=c.b.GetPackageInfo(e.packageID),n=c.b.GetPackageInfo(e.compareID);if(!t||!n)return c.b.LoadPackageInfo([e.packageID]),c.b.LoadPackageInfo([e.compareID]),null;var r=m(t,n);return void 0===r?null:a.createElement("span",{className:s.StorePriceSavings},r)});function f(e){var t=Number(e.args.packageid),n=Number(e.args.compareid);return t&&n?a.createElement(h,{packageID:t,compareID:n}):null}},lT8z:function(e,t,n){e.exports={LegalFooter:"legalfooter_LegalFooter_2XzXR",FooterLegal:"legalfooter_FooterLegal_7TrXi",mainmenu_socials_china:"legalfooter_mainmenu_socials_china_sfMZc",mainmenu_social_box:"legalfooter_mainmenu_social_box_1BGLV",mainmenu_line:"legalfooter_mainmenu_line_ykCRR",mainmenu_links_china:"legalfooter_mainmenu_links_china_9ImS9",mainmenu_legal_china:"legalfooter_mainmenu_legal_china_3hCum",mainmenu_legal_pwlegal:"legalfooter_mainmenu_legal_pwlegal_3RFkM",mainmenu_logos_china:"legalfooter_mainmenu_logos_china_3D_5c",mainmenu_china_wechat_logo:"legalfooter_mainmenu_china_wechat_logo_2sDKM",mainmenu_china_weibo_logo:"legalfooter_mainmenu_china_weibo_logo_E2dhW",mainmenu_china_pw_logo:"legalfooter_mainmenu_china_pw_logo_2vnv_",mainmenu_china_valve_logo:"legalfooter_mainmenu_china_valve_logo_Ig7VE",mainmenu_footer_spacer:"legalfooter_mainmenu_footer_spacer_3w1gN",china_spacer:"legalfooter_china_spacer_16fnF"}},lyHv:function(e,t,n){e.exports={Image:"clanimagepickandresize_Image_1po_j"}},lypr:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("mrSG"),a=n("q1tI"),o=n("X3Ds"),s=n("bxiW"),r=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_observer=null,e.m_refElement=a.createRef(),e.m_elTracked=null,e.m_bPreviouslyIntersecting=!1,e}return Object(i.d)(r,t),r.GetScrollableClassname=function(){return"vt-scrollable"},r.prototype.BTriggerOnce=function(){return"once"==(this.props.trigger||"once")},r.prototype.GetBoundingClientRect=function(){return this.m_refElement.current?this.m_refElement.current.getBoundingClientRect():null},r.prototype.DestroyObserver=function(){this.m_observer&&(this.m_observer.disconnect(),this.m_observer=null,this.m_elTracked=null)},r.prototype.componentWillUnmount=function(){this.DestroyObserver()},r.prototype.componentDidMount=function(){this.UpdateObserver(null)},r.prototype.componentDidUpdate=function(e){this.UpdateObserver(e)},r.prototype.UpdateObserver=function(e){var t,n;this.m_bPreviouslyIntersecting&&this.BTriggerOnce()||(this.m_observer&&e&&e.rootMargin!=this.m_observer.rootMargin&&this.DestroyObserver(),t=this.m_refElement.current,this.m_observer&&t!=this.m_elTracked&&(this.m_observer.unobserve(this.m_elTracked),this.m_elTracked=null),!this.m_observer&&t&&(n={root:this.FindScrollableAncestor(t)},this.props.rootMargin&&(n.rootMargin=this.props.rootMargin),this.m_observer=new IntersectionObserver(this.OnIntersection,n)),this.m_observer&&t&&t!=this.m_elTracked&&(this.m_observer.observe(t),this.m_elTracked=t))},r.prototype.FindScrollableAncestor=function(e){var n=this;return o.j(e,function(e){var t=n.props.bHorizontal?window.getComputedStyle(e).overflowX:window.getComputedStyle(e).overflowY;return"scroll"==t||"auto"==t||!!e.classList.contains(r.GetScrollableClassname())})},r.prototype.OnIntersection=function(e,t){for(var n=!1,r=0,i=e;r<i.length;r++){if(i[r].isIntersecting){n=!0;break}}this.m_bPreviouslyIntersecting!=n&&(this.m_bPreviouslyIntersecting=n,this.props.onVisibiltyChange&&this.props.onVisibiltyChange(n),n&&this.BTriggerOnce()&&this.DestroyObserver())},r.prototype.render=function(){var e=this.props,t=(e.onVisibiltyChange,e.rootMargin,e.trigger,e.bHorizontal,Object(i.f)(e,["onVisibiltyChange","rootMargin","trigger","bHorizontal"]));return a.createElement("div",Object(i.a)({ref:this.m_refElement},t),this.props.children)},Object(i.c)([s.a],r.prototype,"OnIntersection",null),r}(a.Component)},m0wJ:function(e,t,n){e.exports={Container:"appdetailsheader_Container_6-WKl",HeroImageContainer:"appdetailsheader_HeroImageContainer_1NwZv",InCollection:"appdetailsheader_InCollection_1HS4t",InHidden:"appdetailsheader_InHidden_3-M9b",HeaderFeatures:"appdetailsheader_HeaderFeatures_2b6Wk",ExitEditModeButton:"appdetailsheader_ExitEditModeButton_i7jBC"}},"mB/g":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return i}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"f",function(){return _}),n.d(t,"d",function(){return g}),n.d(t,"i",function(){return y}),n.d(t,"e",function(){return S}),n.d(t,"c",function(){return w});var p,r,i,a,o=n("q1tI"),s=n("Ty5D"),c=n("55Ip"),d=n("r64O"),m=n("lkRc");function l(e,t,n){var r="store"===Object(m.f)(),i="community"===Object(m.f)();switch(i&&!n&&(i=t.appid?t.appid===m.b.APPID:t.clanSteamID.GetAccountID()===m.b.CLANACCOUNTID),e){case p.k_eView:return r||i;case p.k_eCommunityView:case p.k_eCommunityEdit:case p.k_eCommunityEditBroadcast:case p.k_eCommunityAdminPage:case p.k_eCommunityPublish:case p.k_eCommunityMigrate:case p.k_eCommunityPreview:case p.k_eCommunityPreviewSale:case p.k_eCommunityAnnouncementHub:return i;case p.k_eCommunityAllNews:return!1;case p.k_eViewWebSiteHub:return i||r;case p.k_eStoreView:case p.k_eStoreNewsHub:case p.k_eStoreOwnerPage:case p.k_eStoreSalePage:case p.k_eStoreUsersNewsHub:return r;default:return Object(d.a)(!1,"Unknown route specified for link: "+e),!1}}function u(){return m.c.IN_CLIENT?void 0:"_blank"}function h(e,t){var n=m.c.COMMUNITY_BASE_URL+"gid/"+e.clanSteamID.ConvertTo64BitString()+"/announcements/share/"+e.AnnouncementGID+"?site="+t;return t===i.k_eFacebook?n+"&t="+Math.random():n}function f(e){return v(e,p.k_eStoreView,"absolute",null)}function b(e,t,n,r,i){void 0===i&&(i=!1);var a=n?"/":m.c.COMMUNITY_BASE_URL;if(n){var o=i?"/app/":"/games/",s=r||m.b.VANITY_ID;return(e?o+s:"/groups/"+s)+"/"}return a+(e?(i?"app/":"ogg/")+e:"gid/"+t.ConvertTo64BitString())+"/"}function _(){return"news"}function v(e,t,n,r){var i="relative"===n,a="community"===Object(m.f)(),o=i?"/":m.c.STORE_BASE_URL,s=b(e.appid,e.clanSteamID,i,r,!1),c=b(e.appid,e.clanSteamID,i,r,!0);t===p.k_eView?t=a?p.k_eCommunityView:p.k_eStoreView:t===p.k_eViewWebSiteHub&&(t=a?p.k_eCommunityAnnouncementHub:p.k_eStoreNewsHub);var l=e.GID?e.GID:"",u=e.AnnouncementGID?e.AnnouncementGID:"";switch(t){case p.k_eCommunityPublish:return s+(e.bOldAnnouncement?"partnerevents/migrate_announcement/"+u:"partnerevents/publish/"+l+"?tab=publishing");case p.k_eCommunityEdit:return s+(e.bOldAnnouncement?"partnerevents/migrate_announcement/"+u:"partnerevents/edit/"+l);case p.k_eCommunityEditBroadcast:return s+(e.bOldAnnouncement?"partnerevents/migrate_announcement/"+u:"partnerevents/edit/"+l)+"?tab=broadcast";case p.k_eCommunityMigrate:return s+"partnerevents/migrate_announcement/"+u;case p.k_eCommunityPreview:return s+(e.bOldAnnouncement?"partnerevents/preview_old_announcement/"+u:"partnerevents/preview/"+l);case p.k_eCommunityPreviewSale:return s+"partnerevents/previewsale/"+l;case p.k_eCommunityAdminPage:return s+"partnerevents";case p.k_eCommunityAllNews:return c+"allnews";case p.k_eCommunityAnnouncementHub:return s+"announcements";case p.k_eStoreNewsHub:return o+"news/"+(e.appid?"app/"+e.appid:"group/"+e.clanSteamID.GetAccountID());case p.k_eStoreOwnerPage:return o+(e.appid?"app/"+e.appid:"curator/"+e.clanSteamID.GetAccountID());case p.k_eStoreSalePage:return e.jsondata.bSaleEnabled?o+(e.jsondata.sale_vanity_id_valve_approved_for_sale_subpath?"sale/":"curator/"+e.clanSteamID.GetAccountID()+"/sale/")+e.jsondata.sale_vanity_id:o;case p.k_eCommunityView:return s+"announcements/detail/"+u;case p.k_eStoreView:return""+o+_()+"/"+(e.appid?"app/"+e.appid:"group/"+e.clanSteamID.GetAccountID())+"/"+(e.bOldAnnouncement?"old_view/"+u:"view/"+l);case p.k_eStoreUsersNewsHub:return""+o+_()+"/";default:return Object(d.a)(!1,"Unknown route specified for link"),""}}function g(e,t,n,r){return v(e,t,"forceAbsolute"===n||!l(t,e,r)?"absolute":"relative",r)}function y(e,t,n){var r=l(t,e,n),i=v(e,t,r?"relative":"absolute",n);return r?o.createElement(s.a,{push:!0,to:i}):(window.open(i),null)}function S(e,t,n,r){var i=b(e,t,!1,r,!1);switch(n){case"admin":return i+"partnerevents"}return""}(r=p=p||{}).k_eView="view",r.k_eViewWebSiteHub="websitehub",r.k_eCommunityView="communityview",r.k_eCommunityEdit="edit",r.k_eCommunityEditBroadcast="editBroadcast",r.k_eCommunityAdminPage="admin",r.k_eCommunityPublish="publish",r.k_eCommunityMigrate="migrate",r.k_eCommunityPreview="preview",r.k_eCommunityPreviewSale="previewsale",r.k_eCommunityAllNews="allnews",r.k_eCommunityAnnouncementHub="community_announcehub",r.k_eStoreView="storeview",r.k_eStoreNewsHub="newshub",r.k_eStoreOwnerPage="store",r.k_eStoreSalePage="sale",r.k_eStoreUsersNewsHub="usernewshub",(a=i=i||{}).k_eFacebook="facebook",a.k_eTwitter="twitter",a.k_eReddit="reddit";var w=function(e){if(!e.eventModel)return null;var t=!e.forceAnchor&&!e.openNewWindow&&l(e.route,e.eventModel,e.vanityID),n=v(e.eventModel,e.route,t?"relative":"absolute",e.vanityID);if(t)return o.createElement(c.a,{to:n,className:e.className,onClick:e.onClick},e.children);var r=e.openNewWindow?u():void 0;return o.createElement("a",{href:n,target:r,className:e.className,onClick:e.onClick},e.children)}},mC9v:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r=function(){function e(e,t,n){void 0===t&&(t=0),this.m_nOffset=t||0,e instanceof Uint8Array||e instanceof DataView?(this.m_nLength=n||e.byteLength-this.m_nOffset,this.m_nOffset+=e.byteOffset,this.m_viewPacket=new DataView(e.buffer,this.m_nOffset,this.m_nLength)):(this.m_nLength=n||e.byteLength-this.m_nOffset,this.m_viewPacket=new DataView(e,this.m_nOffset,this.m_nLength)),this.m_rgubPacket=new Uint8Array(this.m_viewPacket.buffer,this.m_viewPacket.byteOffset,this.m_viewPacket.byteLength),this.m_iGet=0,this.m_iPut=0}return e.prototype.TellGet=function(){return this.m_iGet+this.m_viewPacket.byteOffset},e.prototype.GetPacket=function(){return this.m_viewPacket.buffer},e.prototype.GetUint8=function(){return this.m_viewPacket.getUint8(this.m_iGet++)},e.prototype.GetUint32=function(e){void 0===e&&(e=!0);var t=this.m_viewPacket.getUint32(this.m_iGet,e);return this.m_iGet+=4,t},e.prototype.SeekGetHead=function(e){void 0===e&&(e=0),this.m_iGet=e||0},e.prototype.SeekGetCurrent=function(e){this.m_iGet+=e},e.prototype.TellPut=function(){return this.m_iPut+this.m_viewPacket.byteOffset},e.prototype.TellMaxPut=function(){return this.m_viewPacket.byteLength},e.prototype.PutUint8=function(e){this.m_viewPacket.setUint8(this.m_iPut++,e)},e.prototype.PutUint32=function(e,t){void 0===t&&(t=!0),this.m_viewPacket.setUint32(this.m_iPut,e,t),this.m_iPut+=4},e.prototype.PutBytes=function(e){this.m_rgubPacket.set(e,this.m_iPut),this.m_iPut+=e.length},e.prototype.SeekPut=function(e){this.m_iPut+=e},e.prototype.GetCountBytesRemaining=function(){return this.m_viewPacket.byteLength-this.m_iGet},e}(),i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+=i[r>>>4]+i[15&r]}return t}},mMwe:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAgCAYAAABdP1tmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTIxRThFOTFFMkJDMTFFMzkxMzc4MjcwOTRGRTBCM0QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTIxRThFOTJFMkJDMTFFMzkxMzc4MjcwOTRGRTBCM0QiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMjFFOEU4RkUyQkMxMUUzOTEzNzgyNzA5NEZFMEIzRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMjFFOEU5MEUyQkMxMUUzOTEzNzgyNzA5NEZFMEIzRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtVhbSUAAAGPSURBVHja7JhNRERRFIAbwzAM5TGJWbWKiGg1bSazSG2GKBKtom1E22jbon20qk27TJuIUkq0SKtJFG1qlYgWKeX2PU68nvcz9Jo5L/fyMXPnvhnfnHvO/ckYYzr+U8tYIStkhdQI5WAZypCFC9iB05YauUIJMgMf5merQyHh3wnlL750NkDqCHJpFQqTWkiD0AqUQj7b9gndtELot0XhHl5hBB48/T1wDZ2+8d3wqLkoPHn+/e9IOXBigluv9gg1oF9e38IWzEMpYOw7dElE1UZo1TTf6vJMWXOEwnLF3z5hGPKwD1Owq3VhrcJzRGTeYA6ycObpq2leh9yCsBcgcwkDIrMRIFrTvrDmJUeqUu3cvj44iIjehKYcambDeg6DEWPc6jctG1l1m9MgijL1TEyeTWrey7VNqpUHvKKU7LjpNw6HmqdcXKTW5Wix6KmM6qecF8cnVZH+grx/SZuQX8o9/I3BZhIRaucliSM5NeTLoVE4Tuutj7u3W4IK3MEaXNlrLCtkhaxQYu1LgAEA9Zc8sU9kiHEAAAAASUVORK5CYII="},n6hZ:function(e,t,n){e.exports={OfflineSectionBody:"appdetailssectionoffline_OfflineSectionBody_2dnxv",OfflineButton:"appdetailssectionoffline_OfflineButton_1e_-N",InnerContainer:"appdetailssectionoffline_InnerContainer_3sM7l"}},nWbB:function(e,t,n){"use strict";n.d(t,"d",function(){return h}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return g}),n.d(t,"e",function(){return y}),n.d(t,"f",function(){return S});var c=n("mrSG"),r=n("vDqi"),s=n.n(r),a=n("2vnA"),o=n("kLLr"),l=n("boaH"),i=n("UWWC"),u=n("bDQf"),p=n("lkRc"),d=n("5izx"),m=n("5eAM");function h(e){return Boolean(e&&e.thumbnail_http_address)}var f,b,_=function(){function e(){this.m_inFlightRequests=new Map,this.m_lookupKeyToEmbedStreamDef=new Map,this.m_lookupStreams=new Map,this.m_playReadyStream=new Map,this.m_bMapHasStartedVideo=new Map,this.m_mapBroadcastChecked=new Map,this.m_pageChatStatus="hide",this.m_streamChatStatus="hide",this.m_bUserChatExpanded=void 0,this.m_bHideBroadcast=void 0,this.m_setStreamsLoadedListeners=new Set,this.m_setStreamChangedListeners=new Set,this.m_bUseFakeData=!1,this.m_bAllowStreamAutoPlay=!0}return e.prototype.AddStreamsLoadedListener=function(e){this.m_setStreamsLoadedListeners.add(e)},e.prototype.RemoveStreamsLoadedListener=function(e){this.m_setStreamsLoadedListeners.delete(e)},e.prototype.NotifyStreamsLoadedListeners=function(t){this.m_setStreamsLoadedListeners.forEach(function(e){return e(t)})},e.prototype.BHasStreams=function(e){var t=this.GetStreams(e);return Boolean(t&&0<t.length)},e.prototype.GetPlayReadyStream=function(e){var t=this.GetStreamsLookupKeyFromDef(e);return this.m_playReadyStream.get(t)},e.prototype.BIsEmbeddedBroadcastHidden=function(){return Boolean(this.m_bHideBroadcast)},e.prototype.GetConcurrentStreams=function(e){var t=this.GetStreams(e);return t?t.length:0},e.prototype.GetChatVisibility=function(){return"remove"===this.m_pageChatStatus||"remove"===this.m_streamChatStatus?"remove":void 0!==this.m_bUserChatExpanded?this.m_bUserChatExpanded?"show":"hide":"hide"===this.m_pageChatStatus||"hide"===this.m_streamChatStatus?"hide":"show"},e.prototype.ToggleChatVisibility=function(){var e=this.GetChatVisibility();"remove"!==e&&(this.m_bUserChatExpanded="hide"===e)},e.prototype.DisableAutoPlay=function(){this.m_bAllowStreamAutoPlay=!1},e.prototype.EnableAutoPlay=function(e,t){this.m_bAllowStreamAutoPlay||(this.m_bAllowStreamAutoPlay=!0,this.AutoStartVideoStream(e,t))},e.prototype.GetStreams=function(e){var t=this.GetStreamsLookupKeyFromDef(e);return this.m_lookupStreams.get(t)},e.prototype.GetBroadcastURL=function(e){var t=null,t=e.steamid?new o.a(e.steamid):o.a.InitFromAccountID(e.accountid);return p.c.COMMUNITY_BASE_URL+"broadcast/watch/"+t.ConvertTo64BitString()},e.prototype.BIsAppStreaming=function(t){var n=!1;return this.m_lookupStreams.forEach(function(e){n=n||Boolean(e)&&e.some(function(e){return l.a.GetOrCreateBroadcastInfo(e.steamid).m_nAppID===t})}),n},e.prototype.GetStreamsForAppID=function(t){var n=new Array;return this.m_lookupStreams.forEach(function(e){null!=e&&e.forEach(function(e){l.a.GetOrCreateBroadcastInfo(e.steamid).m_nAppID===t&&n.push(e)})}),n},e.prototype.AddStreamChangedListener=function(e){this.m_setStreamChangedListeners.add(e)},e.prototype.RemoveStreamChangedListener=function(e){this.m_setStreamChangedListeners.delete(e)},e.prototype.LoadBIsEmbeddedBroadcastHidden=function(a){return Object(c.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(c.e)(this,function(e){switch(e.label){case 0:if(void 0!==this.m_bHideBroadcast)return[3,5];if(t=Object(p.g)("broadcastuser","application_config"))return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),n=p.c.STORE_BASE_URL+"broadcast/ajaxgetuserbroadcastpreferences",[4,s.a.get(n,{params:{},cancelToken:a.token})];case 2:return r=e.sent(),t=r.data,[3,4];case 3:return i=e.sent(),console.log("LoadBIsEmbeddedBroadcastHidden: "+Object(u.a)(i).strErrorMsg),t={bHideStoreBroadcast:!1},[3,4];case 4:this.m_bHideBroadcast=t.bHideStoreBroadcast,e.label=5;case 5:return[2,this.m_bHideBroadcast]}})})},e.prototype.SetupEmbeddableVOD=function(e){this.m_bUseFakeData=!1;var t=[];this.m_pageChatStatus="remove";var n=new v;n.accountid=7,n.nAppIDVOD=e.nAppIDVOD,n.default_selection_priority=f.k_ePrimary,n.current_selection_priority=f.k_ePrimary,t.push(n);var r=this.GetStreamsLookupKeyFromDef(e);this.m_playReadyStream.set(r,n),this.NotifyStreamsLoadedListeners(t)},e.prototype.HintLoadEmbeddablePreviewStreams=function(a){return Object(c.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(c.e)(this,function(e){switch(e.label){case 0:t=null,n={eventid:a.event?a.event.GID:void 0,previewAccounts:Boolean(a.bIsPreview&&a.accountIDs)?a.accountIDs.slice().sort().join(","):void 0},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,s.a.get(p.c.STORE_BASE_URL+"broadcast/ajaxgetstreamersforpreview",{params:n})];case 2:return t=e.sent(),[2,this.HandleHintLoadBroadcastResponse(a,t.data)];case 3:return r=e.sent(),i=Object(u.a)(r),console.error("HintLoadEmbeddablePreviewStreams hit error loading: "+i.strErrorMsg,i),[3,4];case 4:return[2,[]]}})})},e.prototype.HintLoadEmbeddableStreams=function(i){return Object(c.b)(this,void 0,void 0,function(){var t,n,r;return Object(c.e)(this,function(e){return t=this.MapEmbeddableStreamToRequest(i),n=this.GetStreamsLookupKeyFromParam(t),this.m_inFlightRequests.has(n)||(this.m_lookupKeyToEmbedStreamDef.set(n,i),r=this.InternalHintLoadEmbeddableStreams(i,t),this.m_inFlightRequests.set(n,r)),[2,this.m_inFlightRequests.get(n)]})})},e.prototype.InternalHintLoadEmbeddableStreams=function(i,a){return Object(c.b)(this,void 0,void 0,function(){var t,n,r;return Object(c.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=null,[4,s.a.get(p.c.STORE_BASE_URL+"broadcast/ajaxgetstreamersforpage",{params:a})];case 1:return t=e.sent(),[2,this.HandleHintLoadBroadcastResponse(i,t.data)];case 2:return n=e.sent(),r=Object(u.a)(n),console.error("HintLoadEmbeddableStreams hit error loading: "+r.strErrorMsg,r),[3,3];case 3:return[2,[]]}})})},e.prototype.HandleHintLoadBroadcastResponse=function(t,n){return Object(c.b)(this,void 0,void 0,function(){var i;return Object(c.e)(this,function(e){switch(e.label){case 0:return this.m_bUseFakeData=!1,!t.bIsPreview||n&&n.filtered&&0<n.filtered.length||(n={filtered:[{}],success:1,total_count:1,err_msg:"",broadcast_chat_visibility:"hide"},this.m_bUseFakeData=!0),n.broadcast_chat_visibility&&(this.m_pageChatStatus=n.broadcast_chat_visibility),i=new Array,Object(a.runInAction)(function(){n.filtered.forEach(function(e){var t;e.steamid||(t=o.a.InitFromAccountID(e.accountid),e.steamid=t.ConvertTo64BitString());var n=l.a.GetOrCreateBroadcastInfo(e.steamid),r=e.appid?Number(e.appid):l.d;n.m_nAppID=r,n.m_strAppId=""+r,r!=l.d&&i.push(r)})}),0<i.length&&m.a.LoadAppLinkInfo(i),this.m_lookupStreams.set(this.GetStreamsLookupKeyFromDef(t),n.filtered),this.NotifyStreamsLoadedListeners(n.filtered),this.m_bAllowStreamAutoPlay?[4,this.AutoStartVideoStream(t,n.filtered)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2,n.filtered]}})})},e.prototype.AutoStartVideoStream=function(o,s){return Object(c.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(c.e)(this,function(e){switch(e.label){case 0:if(t=this.GetStreamsLookupKeyFromDef(o),this.m_bMapHasStartedVideo.get(t))return[2,null];if(this.m_bUseFakeData)return this.m_playReadyStream.get(t)||(n={accountid:0,thumbnail_http_address:"",default_selection_priority:f.k_eGeneral,current_selection_priority:f.k_eGeneral},this.m_playReadyStream.set(t,n)),[2,this.m_playReadyStream];r=new Set,e.label=1;case 1:return i=s.filter(function(e){return!r.has(e)}),(a=this.GetAutoStartStream(i))?[4,this.AttemptToPlayStream(o,a)]:[2,null];case 2:return e.sent()?[2,a]:(r.add(a),[3,1]);case 3:return[2]}})})},e.prototype.AttemptToPlayStream=function(r,i){return Object(c.b)(this,void 0,void 0,function(){var t,n;return Object(c.e)(this,function(e){switch(e.label){case 0:return t=this.GetStreamsLookupKeyFromDef(r),this.m_bMapHasStartedVideo.set(t,!0),this.m_mapBroadcastChecked.has(i.accountid)||this.m_mapBroadcastChecked.set(i.accountid,this.InternalAttemptToPlayStream(r,i)),[4,this.m_mapBroadcastChecked.get(i.accountid)];case 1:return(n=e.sent())&&1==n.success?(i.steamid=n.steamid,this.m_playReadyStream.set(t,i),1<this.GetConcurrentStreams(r)?this.m_streamChatStatus="hide":this.m_streamChatStatus=i.broadcast_chat_visibility,this.m_setStreamChangedListeners.forEach(function(e){return e(i)}),y(l.a.GetOrCreateBroadcastInfo(i.steamid).m_nAppID,1,i.snr),[2,i]):[2,null]}})})},e.prototype.InternalAttemptToPlayStream=function(a,o){return Object(c.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(c.e)(this,function(e){switch(e.label){case 0:this.GetStreamsLookupKeyFromDef(a),e.label=1;case 1:return e.trys.push([1,3,,4]),t=p.c.STORE_BASE_URL+"broadcast/ajaxcheckbroadcast",n={broadcastaccountid:o.accountid,viewer_token:l.a.GetViewerToken(),origin:self.origin},[4,s.a.get(t,{params:n})];case 2:return[2,e.sent().data];case 3:return r=e.sent(),i=Object(u.a)(r),console.error("Broadcast.AttemptToPlayStream: "+i.strErrorMsg,i),[3,4];case 4:return[2,null]}})})},e.prototype.GetAutoStartStream=function(e){if(!e)return null;var t=e.filter(h),n=t.reduce(function(e,t){return Math.max(e,g(t))},0),r=t.filter(function(e){return g(e)===n});return 0===r.length?null:r[Math.floor(Math.random()*r.length)]},e.prototype.MapEmbeddableStreamToRequest=function(e){return{appid:e.appid,promotionName:e.bIsPreview?"preview":e.promotionName,clanid:e.clanid?e.clanid:e.event?e.event.clanSteamID.GetAccountID():void 0,listid:e.listid,subid:e.subid,bundleid:e.bundleid,eventid:e.event?e.event.GID:void 0,previewAccounts:Boolean(e.bIsPreview&&e.accountIDs)?e.accountIDs.slice().sort().join(","):void 0,test:!1,cc:p.c.COUNTRY,l:p.c.LANGUAGE,rt_now_override_test:d.a.BHasTimeOverride()?d.a.GetTimeNowWithOverride():void 0}},e.prototype.GetStreamsLookupKeyFromDef=function(e){return this.GetStreamsLookupKeyFromParam(this.MapEmbeddableStreamToRequest(e))},e.prototype.GetStreamsLookupKeyFromParam=function(e){return JSON.stringify(e)},e.Get=function(){return e.s_GlobalStore||(e.s_GlobalStore=new e,"dev"==p.c.WEB_UNIVERSE&&(window.g_BroadcastEmbeddableStore=e.s_GlobalStore),e.s_GlobalStore.Init()),e.s_GlobalStore},e.prototype.Init=function(){},Object(c.c)([a.observable],e.prototype,"m_lookupStreams",void 0),Object(c.c)([a.observable],e.prototype,"m_playReadyStream",void 0),Object(c.c)([a.observable],e.prototype,"m_pageChatStatus",void 0),Object(c.c)([a.observable],e.prototype,"m_streamChatStatus",void 0),Object(c.c)([a.observable],e.prototype,"m_bUserChatExpanded",void 0),Object(c.c)([a.observable],e.prototype,"m_bHideBroadcast",void 0),Object(c.c)([a.action],e.prototype,"HintLoadEmbeddablePreviewStreams",null),Object(c.c)([a.action],e.prototype,"AttemptToPlayStream",null),e}();(b=f=f||{})[b.k_ePrimary=3]="k_ePrimary",b[b.k_eFeatured=2]="k_eFeatured",b[b.k_eDefaultFeatured=1]="k_eDefaultFeatured",b[b.k_eGeneral=0]="k_eGeneral";var v=function(){function e(){this.default_selection_priority=f.k_eGeneral,this.current_selection_priority=f.k_eGeneral}return Object(c.c)([a.observable],e.prototype,"title",void 0),Object(c.c)([a.observable],e.prototype,"viewer_count",void 0),Object(c.c)([a.observable],e.prototype,"gamedata_subtitle",void 0),Object(c.c)([a.observable],e.prototype,"current_selection_priority",void 0),e}();function g(e){return e.current_selection_priority||f.k_eGeneral}function y(n,r,i){return Object(c.b)(this,void 0,void 0,function(){var t;return Object(c.e)(this,function(e){return 0<n&&7!=n&&i&&((t=new URLSearchParams).append("page_action",""+r),t.append("snr",i),s.a.post(p.c.STORE_BASE_URL+"ajaxreportproductaction/"+n+"/",t)),[2]})})}var S=new i.a},nrKv:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c});var r=n("mrSG"),o=n("q1tI"),i=n("r64O"),a=function(){function e(){this.reactNodes=[]}return e.prototype.AppendText=function(e,t){void 0===t&&(t=!1),e.length&&(t?this.reactNodes.push(o.createElement("span",{"data-copytext":"","data-copystyle":"merge-adjacent","bbcode-text":e},e)):this.reactNodes.push(e))},e.prototype.AppendNode=function(e){this.reactNodes.push(e)},e.prototype.GetElements=function(){return this.reactNodes},e}(),s=function(){function e(e){Object(i.a)(e,"decorated accumulator cannot be null"),this.m_decoratedAccumulator=e}return e.prototype.AppendText=function(e,t){void 0===t&&(t=!1),this.m_decoratedAccumulator.AppendText(e,t)},e.prototype.AppendNode=function(e){this.m_decoratedAccumulator.AppendNode(e)},e.prototype.GetElements=function(){return this.m_decoratedAccumulator.GetElements()},e}(),c=function(a){function e(e,t,n){var r=a.call(this,e)||this;return r.m_nStartCursor=1,r.m_bDisableDataCopy=!1,r.m_nStartCursor=void 0!==t?t:1,r.m_bDisableDataCopy=Boolean(n),r}return Object(r.d)(e,a),e.prototype.AppendText=function(e){for(var t=this,n=e,r=[],i=n.indexOf("\n",this.m_nStartCursor);-1!==i;i=n.indexOf("\n"))r.push(n.substr(0,i)),r.push(o.createElement("br")),n=n.substr(i+1);n.length&&r.push(n),r.forEach(function(e){a.prototype.AppendNode.call(t,e)})},e}(s)},"o+8i":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var d=n("mrSG"),m=n("TLQK");function r(e,t,n,r){var i,a=t,o=(a="number"==typeof a?{nDigitsAfterDecimal:t,bUseBinary1K:n||void 0===n,bValueIsInBytes:!r,bValueIsRate:r}:Object(d.a)({nDigitsAfterDecimal:2,bUseBinary1K:!0,bValueIsInBytes:!0,bValueIsRate:!1},a)).bUseBinary1K?1024:1e3,s=o*o,c=s*o,l=c*o,u="";l<e?(i=e/l,u="Tera"):c<e?(i=e/c,u="Giga"):s<e?(i=e/s,u="Mega"):o<e?(i=e/o,u="Kilo"):i=e;var p="#"+u+(a.bValueIsInBytes?"bytes":"bits")+(a.bValueIsRate?"_PerSecond":"");return Object(m.f)(p,i.toLocaleString(m.e.GetPreferredLocales(),{minimumFractionDigits:0,maximumFractionDigits:a.nDigitsAfterDecimal}))}},o6Wi:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAAEFCAYAAAD60+tkAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALuSURBVHhe7dMxAcAwDMCwdCjDn0j7jIMf6TECn929AyS+v0DAgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwImZkHnS8EEZhTJo8AAAAASUVORK5CYII="},o9Qn:function(e,t,n){e.exports={MoreInfoIcon:"infoicon_MoreInfoIcon_34I5H"}},oFam:function(e,t,n){"use strict";n.d(t,"h",function(){return _}),n.d(t,"k",function(){return L}),n.d(t,"i",function(){return F}),n.d(t,"b",function(){return G}),n.d(t,"c",function(){return x}),n.d(t,"f",function(){return oe}),n.d(t,"e",function(){return ue}),n.d(t,"g",function(){return ve}),n.d(t,"a",function(){return Oe}),n.d(t,"d",function(){return Ee}),n.d(t,"l",function(){return Ie}),n.d(t,"j",function(){return je}),n.d(t,"n",function(){return r}),n.d(t,"m",function(){return l});var i=n("mrSG"),a=n("hRO2"),o=n("OS8t"),s=a.Message;var r,c,l,u,p=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.games||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{games:{n:1,c:d,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetLastPlayedTimes_Response"},r}(s),d=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readInt32,bw:o.h.writeInt32},last_playtime:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},playtime_2weeks:{n:3,br:o.d.readInt32,bw:o.h.writeInt32},playtime_forever:{n:4,br:o.d.readInt32,bw:o.h.writeInt32},first_playtime:{n:5,br:o.d.readUint32,bw:o.h.writeUint32},playtime_windows_forever:{n:6,br:o.d.readInt32,bw:o.h.writeInt32},playtime_mac_forever:{n:7,br:o.d.readInt32,bw:o.h.writeInt32},playtime_linux_forever:{n:8,br:o.d.readInt32,bw:o.h.writeInt32},first_windows_playtime:{n:9,br:o.d.readUint32,bw:o.h.writeUint32},first_mac_playtime:{n:10,br:o.d.readUint32,bw:o.h.writeUint32},first_linux_playtime:{n:11,br:o.d.readUint32,bw:o.h.writeUint32},last_windows_playtime:{n:12,br:o.d.readUint32,bw:o.h.writeUint32},last_mac_playtime:{n:13,br:o.d.readUint32,bw:o.h.writeUint32},last_linux_playtime:{n:14,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetLastPlayedTimes_Response_Game"},r}(s),m=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||o.a(r.M()),s.initialize(t,e,0,-1,[2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},mutual_friend_account_ids:{n:2,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_IncomingInviteMutualFriendList"},r}(s),h=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.incoming_invite_mutual_friends_lists||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{incoming_invite_mutual_friends_lists:{n:1,c:m,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetMutualFriendsForIncomingInvites_Response"},r}(s),f=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.game_count||o.a(r.M()),s.initialize(t,e,0,-1,[2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{game_count:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},games:{n:2,c:b,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetOwnedGames_Response"},r}(s),b=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readInt32,bw:o.h.writeInt32},name:{n:2,br:o.d.readString,bw:o.h.writeString},playtime_2weeks:{n:3,br:o.d.readInt32,bw:o.h.writeInt32},playtime_forever:{n:4,br:o.d.readInt32,bw:o.h.writeInt32},img_icon_url:{n:5,br:o.d.readString,bw:o.h.writeString},img_logo_url:{n:6,br:o.d.readString,bw:o.h.writeString},has_community_visible_stats:{n:7,br:o.d.readBool,bw:o.h.writeBool},playtime_windows_forever:{n:8,br:o.d.readInt32,bw:o.h.writeInt32},playtime_mac_forever:{n:9,br:o.d.readInt32,bw:o.h.writeInt32},playtime_linux_forever:{n:10,br:o.d.readInt32,bw:o.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetOwnedGames_Response_Game"},r}(s),_=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.max_age_seconds||o.a(r.M()),s.initialize(t,e,0,-1,[2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{max_age_seconds:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},ignore_appids:{n:2,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetPlayNext_Request"},r}(s),v=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.last_update_time||o.a(r.M()),s.initialize(t,e,0,-1,[2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{last_update_time:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},appids:{n:2,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetPlayNext_Response"},r}(s),g=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.player_level||o.a(r.M()),s.initialize(t,e,0,-1,[2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{player_level:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},badges:{n:2,c:y,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetGameBadgeLevels_Response"},r}(s),y=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.level||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{level:{n:1,br:o.d.readInt32,bw:o.h.writeInt32},series:{n:2,br:o.d.readInt32,bw:o.h.writeInt32},border_color:{n:3,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetGameBadgeLevels_Response_Badge"},r}(s),S=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.communityitemid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{communityitemid:{n:1,br:o.d.readUint64String,bw:o.h.writeUint64String},image_small:{n:2,br:o.d.readString,bw:o.h.writeString},image_large:{n:3,br:o.d.readString,bw:o.h.writeString},name:{n:4,br:o.d.readString,bw:o.h.writeString},item_title:{n:5,br:o.d.readString,bw:o.h.writeString},item_description:{n:6,br:o.d.readString,bw:o.h.writeString},appid:{n:7,br:o.d.readUint32,bw:o.h.writeUint32},item_type:{n:8,br:o.d.readUint32,bw:o.h.writeUint32},item_class:{n:9,br:o.d.readUint32,bw:o.h.writeUint32},movie_webm:{n:10,br:o.d.readString,bw:o.h.writeString},movie_mp4:{n:11,br:o.d.readString,bw:o.h.writeString},movie_webm_small:{n:13,br:o.d.readString,bw:o.h.writeString},movie_mp4_small:{n:14,br:o.d.readString,bw:o.h.writeString},equipped_flags:{n:12,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"ProfileItem"},r}(s),w=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.profile_background||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{profile_background:{n:1,c:S}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetProfileBackground_Response"},r}(s),C=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_SetProfileBackground_Response"},r}(s),O=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.profile_background||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{profile_background:{n:1,c:S}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetMiniProfileBackground_Response"},r}(s),E=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_SetMiniProfileBackground_Response"},r}(s),B=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.avatar_frame||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{avatar_frame:{n:1,c:S}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetAvatarFrame_Response"},r}(s),A=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_SetAvatarFrame_Response"},r}(s),I=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.avatar||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{avatar:{n:1,c:S}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetAnimatedAvatar_Response"},r}(s),j=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_SetAnimatedAvatar_Response"},r}(s),D=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.profile_backgrounds||o.a(r.M()),s.initialize(t,e,0,-1,[1,2,3,4,5],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{profile_backgrounds:{n:1,c:S,r:!0,q:!0},mini_profile_backgrounds:{n:2,c:S,r:!0,q:!0},avatar_frames:{n:3,c:S,r:!0,q:!0},animated_avatars:{n:4,c:S,r:!0,q:!0},profile_modifiers:{n:5,c:S,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetProfileItemsOwned_Response"},r}(s),R=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.profile_background||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{profile_background:{n:1,c:S},mini_profile_background:{n:2,c:S},avatar_frame:{n:3,c:S},animated_avatar:{n:4,c:S},profile_modifier:{n:5,c:S}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetProfileItemsEquipped_Response"},r}(s),T=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_SetEquippedProfileItemFlags_Response"},r}(s),M=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.emoticons||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{emoticons:{n:1,c:N,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetEmoticonList_Response"},r}(s),N=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.name||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{name:{n:1,br:o.d.readString,bw:o.h.writeString},count:{n:2,br:o.d.readInt32,bw:o.h.writeInt32},time_last_used:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},use_count:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},time_received:{n:5,br:o.d.readUint32,bw:o.h.writeUint32},appid:{n:6,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetEmoticonList_Response_Emoticon"},r}(s),L=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},status_text:{n:2,br:o.d.readString,bw:o.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_PostStatusToFriends_Request"},r}(s),k=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_PostStatusToFriends_Response"},r}(s),F=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:o.d.readUint64String,bw:o.h.writeUint64String},postid:{n:2,br:o.d.readUint64String,bw:o.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetPostedStatus_Request"},r}(s),P=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.accountid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{accountid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},postid:{n:2,br:o.d.readUint64String,bw:o.h.writeUint64String},status_text:{n:3,br:o.d.readString,bw:o.h.writeString},deleted:{n:4,br:o.d.readBool,bw:o.h.writeBool},appid:{n:5,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetPostedStatus_Response"},r}(s),G=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.postid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{postid:{n:1,br:o.d.readUint64String,bw:o.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_DeletePostedStatus_Request"},r}(s),U=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_DeletePostedStatus_Response"},r}(s),x=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||o.a(r.M()),s.initialize(t,e,0,-1,[3],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:o.d.readUint64String,bw:o.h.writeUint64String},language:{n:2,br:o.d.readString,bw:o.h.writeString},appids:{n:3,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetAchievementsProgress_Request"},r}(s),z=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.achievement_progress||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{achievement_progress:{n:1,c:H,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetAchievementsProgress_Response"},r}(s),H=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},unlocked:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},total:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},percentage:{n:4,br:o.d.readFloat,bw:o.h.writeFloat},all_unlocked:{n:5,br:o.d.readBool,bw:o.h.writeBool},cache_time:{n:6,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetAchievementsProgress_Response_AchievementProgress"},r}(s),W=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.has_favorite_badge||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{has_favorite_badge:{n:1,br:o.d.readBool,bw:o.h.writeBool},badgeid:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},communityitemid:{n:3,br:o.d.readUint64String,bw:o.h.writeUint64String},item_type:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},border_color:{n:5,br:o.d.readUint32,bw:o.h.writeUint32},appid:{n:6,br:o.d.readUint32,bw:o.h.writeUint32},level:{n:7,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetFavoriteBadge_Response"},r}(s),V=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_SetFavoriteBadge_Response"},r}(s),q=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.slot||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{slot:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},appid:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},publishedfileid:{n:3,br:o.d.readUint64String,bw:o.h.writeUint64String},item_assetid:{n:4,br:o.d.readUint64String,bw:o.h.writeUint64String},item_contextid:{n:5,br:o.d.readUint64String,bw:o.h.writeUint64String},notes:{n:6,br:o.d.readString,bw:o.h.writeString},title:{n:7,br:o.d.readString,bw:o.h.writeString},accountid:{n:8,br:o.d.readUint32,bw:o.h.writeUint32},badgeid:{n:9,br:o.d.readUint32,bw:o.h.writeUint32},border_color:{n:10,br:o.d.readUint32,bw:o.h.writeUint32},item_classid:{n:11,br:o.d.readUint64String,bw:o.h.writeUint64String},item_instanceid:{n:12,br:o.d.readUint64String,bw:o.h.writeUint64String},ban_check_result:{n:13,br:o.d.readEnum,bw:o.h.writeEnum}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"ProfileCustomizationSlot"},r}(s),Y=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.customization_type||o.a(r.M()),s.initialize(t,e,0,-1,[3],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{customization_type:{n:1,br:o.d.readEnum,bw:o.h.writeEnum},large:{n:2,br:o.d.readBool,bw:o.h.writeBool},slots:{n:3,c:q,r:!0,q:!0},active:{n:4,br:o.d.readBool,bw:o.h.writeBool},customization_style:{n:5,br:o.d.readEnum,bw:o.h.writeEnum},purchaseid:{n:6,br:o.d.readUint64String,bw:o.h.writeUint64String},level:{n:7,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"ProfileCustomization"},r}(s),Q=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.theme_id||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{theme_id:{n:1,br:o.d.readString,bw:o.h.writeString},title:{n:2,br:o.d.readString,bw:o.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"ProfileTheme"},r}(s),Z=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.hide_profile_awards||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{hide_profile_awards:{n:1,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"ProfilePreferences"},r}(s),K=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.customizations||o.a(r.M()),s.initialize(t,e,0,-1,[1,4],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{customizations:{n:1,c:Y,r:!0,q:!0},slots_available:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},profile_theme:{n:3,c:Q},purchased_customizations:{n:4,c:J,r:!0,q:!0},profile_preferences:{n:5,c:Z}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetProfileCustomization_Response"},r}(s),J=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.purchaseid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{purchaseid:{n:1,br:o.d.readUint64String,bw:o.h.writeUint64String},customization_type:{n:2,br:o.d.readEnum,bw:o.h.writeEnum},level:{n:3,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetProfileCustomization_Response_PurchasedCustomization"},r}(s),X=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.purchased_customizations||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{purchased_customizations:{n:1,c:$,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetPurchasedProfileCustomizations_Response"},r}(s),$=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.purchaseid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{purchaseid:{n:1,br:o.d.readUint64String,bw:o.h.writeUint64String},customization_type:{n:2,br:o.d.readEnum,bw:o.h.writeEnum}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetPurchasedProfileCustomizations_Response_PurchasedCustomization"},r}(s),ee=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.purchased_customizations||o.a(r.M()),s.initialize(t,e,0,-1,[1,2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{purchased_customizations:{n:1,c:te,r:!0,q:!0},upgraded_customizations:{n:2,c:ne,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetPurchasedAndUpgradedProfileCustomizations_Response"},r}(s),te=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.customization_type||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{customization_type:{n:1,br:o.d.readEnum,bw:o.h.writeEnum},count:{n:2,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetPurchasedAndUpgradedProfileCustomizations_Response_PurchasedCustomization"},r}(s),ne=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.customization_type||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{customization_type:{n:1,br:o.d.readEnum,bw:o.h.writeEnum},level:{n:2,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetPurchasedAndUpgradedProfileCustomizations_Response_UpgradedCustomization"},r}(s),re=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.profile_themes||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{profile_themes:{n:1,c:Q,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetProfileThemesAvailable_Response"},r}(s),ie=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_SetProfileTheme_Response"},r}(s),ae=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_SetProfilePreferences_Response"},r}(s),oe=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetFriendsGameplayInfo_Request"},r}(s),se=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.your_info||o.a(r.M()),s.initialize(t,e,0,-1,[2,3,4,5,6],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{your_info:{n:1,c:le},in_game:{n:2,c:ce,r:!0,q:!0},played_recently:{n:3,c:ce,r:!0,q:!0},played_ever:{n:4,c:ce,r:!0,q:!0},owns:{n:5,c:ce,r:!0,q:!0},in_wishlist:{n:6,c:ce,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetFriendsGameplayInfo_Response"},r}(s),ce=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},minutes_played:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},minutes_played_forever:{n:3,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetFriendsGameplayInfo_Response_FriendsGameplayInfo"},r}(s),le=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},minutes_played:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},minutes_played_forever:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},in_wishlist:{n:4,br:o.d.readBool,bw:o.h.writeBool},owned:{n:5,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetFriendsGameplayInfo_Response_OwnGameplayInfo"},r}(s),ue=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.news_language||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{news_language:{n:1,br:o.d.readString,bw:o.h.writeString},request_flags:{n:2,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetFriendsAppsActivity_Request"},r}(s),pe=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.trending||o.a(r.M()),s.initialize(t,e,0,-1,[1,2,3,4,5,6,7,8],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{trending:{n:1,c:me,r:!0,q:!0},recent_purchases:{n:2,c:me,r:!0,q:!0},unowned:{n:3,c:me,r:!0,q:!0},popular:{n:4,c:me,r:!0,q:!0},dont_forget:{n:5,c:me,r:!0,q:!0},being_discussed:{n:6,c:me,r:!0,q:!0},new_to_group:{n:7,c:me,r:!0,q:!0},returned_to_group:{n:8,c:me,r:!0,q:!0},active_friend_count:{n:9,d:0,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetFriendsAppsActivity_Response"},r}(s),de=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steamid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steamid:{n:1,br:o.d.readFixed64String,bw:o.h.writeFixed64String},minutes_played_this_week:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},minutes_played_two_weeks:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},minutes_played_forever:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},event_count:{n:5,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetFriendsAppsActivity_Response_FriendPlayTime"},r}(s),me=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),s.initialize(t,e,0,-1,[2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},friends:{n:2,c:de,r:!0,q:!0},display_order:{n:3,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetFriendsAppsActivity_Response_AppFriendsInfo"},r}(s),he=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_AcceptSSA_Response"},r}(s),fe=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.nicknames||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{nicknames:{n:1,c:be,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetNicknameList_Response"},r}(s),be=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.accountid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{accountid:{n:1,br:o.d.readFixed32,bw:o.h.writeFixed32},nickname:{n:2,br:o.d.readString,bw:o.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetNicknameList_Response_PlayerNickname"},r}(s),_e=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.accountid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{accountid:{n:1,br:o.d.readFixed32,bw:o.h.writeFixed32},nickname:{n:2,br:o.d.readString,bw:o.h.writeString},notifications_showingame:{n:3,br:o.d.readEnum,bw:o.h.writeEnum},notifications_showonline:{n:4,br:o.d.readEnum,bw:o.h.writeEnum},notifications_showmessages:{n:5,br:o.d.readEnum,bw:o.h.writeEnum},sounds_showingame:{n:6,br:o.d.readEnum,bw:o.h.writeEnum},sounds_showonline:{n:7,br:o.d.readEnum,bw:o.h.writeEnum},sounds_showmessages:{n:8,br:o.d.readEnum,bw:o.h.writeEnum},notifications_sendmobile:{n:9,br:o.d.readEnum,bw:o.h.writeEnum}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"PerFriendPreferences"},r}(s),ve=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_GetPerFriendPreferences_Request"},r}(s),ge=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.preferences||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{preferences:{n:1,c:_e,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetPerFriendPreferences_Response"},r}(s),ye=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_SetPerFriendPreferences_Response"},r}(s),Se=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.invite_sent||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{invite_sent:{n:1,br:o.d.readBool,bw:o.h.writeBool},friend_relationship:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},result:{n:3,br:o.d.readInt32,bw:o.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_AddFriend_Response"},r}(s),we=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.friend_relationship||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{friend_relationship:{n:1,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_RemoveFriend_Response"},r}(s),Ce=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.friend_relationship||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{friend_relationship:{n:1,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_IgnoreFriend_Response"},r}(s),Oe=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.hide_adult_content_violence||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{hide_adult_content_violence:{n:1,d:!0,br:o.d.readBool,bw:o.h.writeBool},hide_adult_content_sex:{n:2,d:!0,br:o.d.readBool,bw:o.h.writeBool},parenthesize_nicknames:{n:4,d:!1,br:o.d.readBool,bw:o.h.writeBool},text_filter_setting:{n:5,br:o.d.readEnum,bw:o.h.writeEnum},text_filter_ignore_friends:{n:6,d:!0,br:o.d.readBool,bw:o.h.writeBool},text_filter_words_revision:{n:7,br:o.d.readUint32,bw:o.h.writeUint32},timestamp_updated:{n:3,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_CommunityPreferences"},r}(s),Ee=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_GetCommunityPreferences_Request"},r}(s),Be=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.preferences||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{preferences:{n:1,c:Oe}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetCommunityPreferences_Response"},r}(s),Ae=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_SetCommunityPreferences_Response"},r}(s),Ie=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.text_filter_custom_banned_words||o.a(r.M()),s.initialize(t,e,0,-1,[1,2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{text_filter_custom_banned_words:{n:1,r:!0,q:!0,br:o.d.readString,bw:o.h.writeRepeatedString},text_filter_custom_clean_words:{n:2,r:!0,q:!0,br:o.d.readString,bw:o.h.writeRepeatedString},text_filter_words_revision:{n:3,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_TextFilterWords"},r}(s),je=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_GetTextFilterWords_Request"},r}(s),De=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.words||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{words:{n:1,c:Ie}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetTextFilterWords_Response"},r}(s),Re=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.state||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{state:{n:1,br:o.d.readInt32,bw:o.h.writeInt32},announcement_headline:{n:2,br:o.d.readString,bw:o.h.writeString},announcement_url:{n:3,br:o.d.readString,bw:o.h.writeString},time_posted:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},announcement_gid:{n:5,br:o.d.readUint64String,bw:o.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetNewSteamAnnouncementState_Response"},r}(s),Te=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return e?{$jspbMessageInstance:t}:{}},r.fromObject=function(e){return new r},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return e},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){},r.prototype.getClassName=function(){return"CPlayer_UpdateSteamAnnouncementLastRead_Response"},r}(s),Me=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.privacy_state||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{privacy_state:{n:1,br:o.d.readInt32,bw:o.h.writeInt32},privacy_state_inventory:{n:2,br:o.d.readInt32,bw:o.h.writeInt32},privacy_state_gifts:{n:3,br:o.d.readInt32,bw:o.h.writeInt32},privacy_state_ownedgames:{n:4,br:o.d.readInt32,bw:o.h.writeInt32},privacy_state_playtime:{n:5,br:o.d.readInt32,bw:o.h.writeInt32},privacy_state_friendslist:{n:6,br:o.d.readInt32,bw:o.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPrivacySettings"},r}(s),Ne=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.privacy_settings||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{privacy_settings:{n:1,c:Me}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetPrivacySettings_Response"},r}(s),Le=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.is_enabled||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{is_enabled:{n:1,br:o.d.readBool,bw:o.h.writeBool},seconds:{n:2,br:o.d.readInt32,bw:o.h.writeInt32},seconds_today:{n:3,br:o.d.readInt32,bw:o.h.writeInt32},is_steamchina_account:{n:4,br:o.d.readBool,bw:o.h.writeBool},is_age_verified:{n:5,br:o.d.readBool,bw:o.h.writeBool},seconds_allowed_today:{n:6,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_GetDurationControl_Response"},r}(s),ke=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.games||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{games:{n:1,c:d,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_LastPlayedTimes_Notification"},r}(s),Fe=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.accountid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{accountid:{n:1,br:o.d.readFixed32,bw:o.h.writeFixed32},nickname:{n:2,br:o.d.readString,bw:o.h.writeString},is_echo_to_self:{n:3,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_FriendNicknameChanged_Notification"},r}(s),Pe=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.accountid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{accountid:{n:1,br:o.d.readFixed32,bw:o.h.writeFixed32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_FriendEquippedProfileItemsChanged_Notification"},r}(s),Ge=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.state||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{state:{n:1,br:o.d.readInt32,bw:o.h.writeInt32},announcement_headline:{n:2,br:o.d.readString,bw:o.h.writeString},announcement_url:{n:3,br:o.d.readString,bw:o.h.writeString},time_posted:{n:4,br:o.d.readUint32,bw:o.h.writeUint32},announcement_gid:{n:5,br:o.d.readUint64String,bw:o.h.writeUint64String}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_NewSteamAnnouncementState_Notification"},r}(s),Ue=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.preferences||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{preferences:{n:1,c:Oe}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_CommunityPreferencesChanged_Notification"},r}(s),xe=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.words||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{words:{n:1,c:Ie}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_TextFilterWordsChanged_Notification"},r}(s),ze=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.accountid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{accountid:{n:1,br:o.d.readFixed32,bw:o.h.writeFixed32},preferences:{n:2,c:_e}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_PerFriendPreferencesChanged_Notification"},r}(s),He=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.privacy_settings||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{privacy_settings:{n:1,c:Me}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CPlayer_PrivacySettingsChanged_Notification"},r}(s);(c=r=r||{}).GetMutualFriendsForIncomingInvites=function(e,t){return e.SendMsg("Player.GetMutualFriendsForIncomingInvites#1",t,h,{bConstMethod:!0,ePrivilege:1})},c.GetOwnedGames=function(e,t){return e.SendMsg("Player.GetOwnedGames#1",t,f,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:2})},c.GetPlayNext=function(e,t){return e.SendMsg("Player.GetPlayNext#1",t,v,{bConstMethod:!0,ePrivilege:1})},c.GetFriendsGameplayInfo=function(e,t){return e.SendMsg("Player.GetFriendsGameplayInfo#1",t,se,{bConstMethod:!0,ePrivilege:1})},c.GetFriendsAppsActivity=function(e,t){return e.SendMsg("Player.GetFriendsAppsActivity#1",t,pe,{bConstMethod:!0,ePrivilege:1})},c.GetGameBadgeLevels=function(e,t){return e.SendMsg("Player.GetGameBadgeLevels#1",t,g,{bConstMethod:!0,ePrivilege:1})},c.GetProfileBackground=function(e,t){return e.SendMsg("Player.GetProfileBackground#1",t,w,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},c.SetProfileBackground=function(e,t){return e.SendMsg("Player.SetProfileBackground#1",t,C,{ePrivilege:1})},c.GetMiniProfileBackground=function(e,t){return e.SendMsg("Player.GetMiniProfileBackground#1",t,O,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},c.SetMiniProfileBackground=function(e,t){return e.SendMsg("Player.SetMiniProfileBackground#1",t,E,{ePrivilege:1})},c.GetAvatarFrame=function(e,t){return e.SendMsg("Player.GetAvatarFrame#1",t,B,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},c.SetAvatarFrame=function(e,t){return e.SendMsg("Player.SetAvatarFrame#1",t,A,{ePrivilege:1})},c.GetAnimatedAvatar=function(e,t){return e.SendMsg("Player.GetAnimatedAvatar#1",t,I,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},c.SetAnimatedAvatar=function(e,t){return e.SendMsg("Player.SetAnimatedAvatar#1",t,j,{ePrivilege:1})},c.GetProfileItemsOwned=function(e,t){return e.SendMsg("Player.GetProfileItemsOwned#1",t,D,{bConstMethod:!0,ePrivilege:1})},c.GetProfileItemsEquipped=function(e,t){return e.SendMsg("Player.GetProfileItemsEquipped#1",t,R,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},c.SetEquippedProfileItemFlags=function(e,t){return e.SendMsg("Player.SetEquippedProfileItemFlags#1",t,T,{ePrivilege:1})},c.GetEmoticonList=function(e,t){return e.SendMsg("Player.GetEmoticonList#1",t,M,{bConstMethod:!0,ePrivilege:1})},c.GetAchievementsProgress=function(e,t){return e.SendMsg("Player.GetAchievementsProgress#1",t,z,{ePrivilege:1})},c.GetFavoriteBadge=function(e,t){return e.SendMsg("Player.GetFavoriteBadge#1",t,W,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},c.SetFavoriteBadge=function(e,t){return e.SendMsg("Player.SetFavoriteBadge#1",t,V,{ePrivilege:1})},c.GetProfileCustomization=function(e,t){return e.SendMsg("Player.GetProfileCustomization#1",t,K,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},c.GetPurchasedProfileCustomizations=function(e,t){return e.SendMsg("Player.GetPurchasedProfileCustomizations#1",t,X,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},c.GetPurchasedAndUpgradedProfileCustomizations=function(e,t){return e.SendMsg("Player.GetPurchasedAndUpgradedProfileCustomizations#1",t,ee,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},c.GetProfileThemesAvailable=function(e,t){return e.SendMsg("Player.GetProfileThemesAvailable#1",t,re,{bConstMethod:!0,ePrivilege:1})},c.SetProfileTheme=function(e,t){return e.SendMsg("Player.SetProfileTheme#1",t,ie,{ePrivilege:1})},c.SetProfilePreferences=function(e,t){return e.SendMsg("Player.SetProfilePreferences#1",t,ae,{ePrivilege:1})},c.PostStatusToFriends=function(e,t){return e.SendMsg("Player.PostStatusToFriends#1",t,k,{ePrivilege:3})},c.GetPostedStatus=function(e,t){return e.SendMsg("Player.GetPostedStatus#1",t,P,{bConstMethod:!0,ePrivilege:1})},c.DeletePostedStatus=function(e,t){return e.SendMsg("Player.DeletePostedStatus#1",t,U,{ePrivilege:1})},c.ClientGetLastPlayedTimes=function(e,t){return e.SendMsg("Player.ClientGetLastPlayedTimes#1",t,p,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},c.AcceptSSA=function(e,t){return e.SendMsg("Player.AcceptSSA#1",t,he,{ePrivilege:1})},c.GetNicknameList=function(e,t){return e.SendMsg("Player.GetNicknameList#1",t,fe,{bConstMethod:!0,ePrivilege:1})},c.GetPerFriendPreferences=function(e,t){return e.SendMsg("Player.GetPerFriendPreferences#1",t,ge,{bConstMethod:!0,ePrivilege:1})},c.SetPerFriendPreferences=function(e,t){return e.SendMsg("Player.SetPerFriendPreferences#1",t,ye,{ePrivilege:1})},c.AddFriend=function(e,t){return e.SendMsg("Player.AddFriend#1",t,Se,{ePrivilege:1})},c.RemoveFriend=function(e,t){return e.SendMsg("Player.RemoveFriend#1",t,we,{ePrivilege:1})},c.IgnoreFriend=function(e,t){return e.SendMsg("Player.IgnoreFriend#1",t,Ce,{ePrivilege:1})},c.GetCommunityPreferences=function(e,t){return e.SendMsg("Player.GetCommunityPreferences#1",t,Be,{ePrivilege:1})},c.SetCommunityPreferences=function(e,t){return e.SendMsg("Player.SetCommunityPreferences#1",t,Ae,{ePrivilege:1})},c.GetTextFilterWords=function(e,t){return e.SendMsg("Player.GetTextFilterWords#1",t,De,{ePrivilege:1})},c.GetNewSteamAnnouncementState=function(e,t){return e.SendMsg("Player.GetNewSteamAnnouncementState#1",t,Re,{bConstMethod:!0,ePrivilege:1})},c.UpdateSteamAnnouncementLastRead=function(e,t){return e.SendMsg("Player.UpdateSteamAnnouncementLastRead#1",t,Te,{ePrivilege:1})},c.GetPrivacySettings=function(e,t){return e.SendMsg("Player.GetPrivacySettings#1",t,Ne,{ePrivilege:1})},c.GetDurationControl=function(e,t){return e.SendMsg("Player.GetDurationControl#1",t,Le,{ePrivilege:1})},(u=l=l||{}).NotifyLastPlayedTimesHandler={name:"PlayerClient.NotifyLastPlayedTimes#1",request:ke},u.NotifyFriendNicknameChangedHandler={name:"PlayerClient.NotifyFriendNicknameChanged#1",request:Fe},u.NotifyFriendEquippedProfileItemsChangedHandler={name:"PlayerClient.NotifyFriendEquippedProfileItemsChanged#1",request:Pe},u.NotifyNewSteamAnnouncementStateHandler={name:"PlayerClient.NotifyNewSteamAnnouncementState#1",request:Ge},u.NotifyCommunityPreferencesChangedHandler={name:"PlayerClient.NotifyCommunityPreferencesChanged#1",request:Ue},u.NotifyTextFilterWordsChangedHandler={name:"PlayerClient.NotifyTextFilterWordsChanged#1",request:xe},u.NotifyPerFriendPreferencesChangedHandler={name:"PlayerClient.NotifyPerFriendPreferencesChanged#1",request:ze},u.NotifyPrivacyPrivacySettingsChangedHandler={name:"PlayerClient.NotifyPrivacyPrivacySettingsChanged#1",request:He}},oVVc:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return h});var r,i,o=n("mrSG"),a=n("vDqi"),c=n.n(a),l=n("2vnA"),u=n("5izx"),p=n("QXuq"),s=n("9f3B"),d=n("lkRc");(i=r=r||{})[i.k_eNone=0]="k_eNone",i[i.k_eSecond=1]="k_eSecond",i[i.k_eMinute=2]="k_eMinute",i[i.k_eHour=3]="k_eHour",i[i.k_eDay=4]="k_eDay",i[i.k_eWeek=5]="k_eWeek",i[i.k_eMonth=6]="k_eMonth",i[i.k_eYear=7]="k_eYear";var m=function(){function e(e){this.packageid=e.packageid,this.enabled=e.enabled,this.name=e.name,this.header_image_url=e.header_image_url,this.main_capsule=e.main_capsule,this.library_asset=e.library_asset,this.formatted_orig_price=e.formatted_orig_price,this.orig_price_cents=e.orig_price_cents,this.formatted_final_price=e.formatted_final_price,this.discount_percent=e.discount_percent,this.discount_end_rtime=e.discount_end_rtime,this.appids=e.appids,this.release_date=e.release_date,this.available_windows=e.available_windows,this.available_mac=e.available_mac,this.available_linux=e.available_linux,this.support_vrhmd=e.support_vrhmd,this.support_vrhmd_only=e.support_vrhmd_only,this.final_price_cents=e.final_price_cents,this.renewal_package_id=e.renewal_package_id,this.renewal_formatted_final_price=e.renewal_formatted_final_price,this.renewal_time_units=e.renewal_time_units,this.renewal_price_cents=e.renewal_price_cents,this.renewal_time_amount=e.renewal_time_amount,this.coming_soon=e.coming_soon}return e.prototype.GetHeaderImageDimension=function(){return this.header_image_url.includes("header_586x192")?{width:586,height:192}:{width:292,height:136}},Object.defineProperty(e.prototype,"type",{get:function(){return"sub"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.packageid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"purchasePackageId",{get:function(){return this.packageid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app_to_run",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_free",{get:function(){return!1},enumerable:!1,configurable:!0}),e}(),h=new(function(){function e(){this.m_mapPackageInfo=new Map,this.m_mapMissingPackages=new Map,this.m_mapInFlightRequests=new Map,this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var e,t,n=this;this.m_bLoadedFromConfig||(e=Object(d.g)("packageinfo","application_config"),this.ValidateStoreDefault(e)&&("dev"!=d.c.WEB_UNIVERSE&&"beta"!=d.c.WEB_UNIVERSE||console.log("DEV_DEBUG: CPackageInfoStore loading bundles payload: "+e.length),Object(l.runInAction)(function(){return e.forEach(function(e){var t=new m(e);n.m_mapPackageInfo.set(Number(e.packageid),t),u.a.bMigrateToStoreBrowseAPI&&Object(p.c)(t)})})),t=Object(d.g)("bundleunknown","application_config"),Object(s.a)(t)&&t.forEach(function(e){n.m_mapMissingPackages.set(e,!0),u.a.bMigrateToStoreBrowseAPI&&Object(p.d)(1,e)}),this.m_bLoadedFromConfig=!0)},e.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("number"==typeof t[0].packageid&&"string"==typeof t[0].name)},e.prototype.GetPackageInfo=function(e){return this.LazyInit(),this.m_mapPackageInfo.get(e)},e.prototype.BHasPackageInfoLoaded=function(e){return Boolean(this.GetPackageInfo(e))},e.prototype.LoadPackageInfo=function(i,a){return Object(o.b)(this,void 0,void 0,function(){var n,r,t,s=this;return Object(o.e)(this,function(e){switch(e.label){case 0:if(this.LazyInit(),n=i.map(function(e){return s.m_mapInFlightRequests.get(e)}),(r=i.filter(function(e){return e&&!s.m_mapPackageInfo.has(e)&&!s.m_mapMissingPackages.has(e)&&!s.m_mapInFlightRequests.has(e)})).length)for(r.sort(),t=function(){var e=Math.min(50,r.length),o=r.slice(0,e);r=r.slice(e);var t=c.a.get(d.c.STORE_BASE_URL+"actions/ajaxresolvepackages",{params:{packageids:o.join(","),cc:d.c.COUNTRY||"US",l:d.c.LANGUAGE,origin:self.origin},cancelToken:null==a?void 0:a.token}).then(function(a){Object(l.runInAction)(function(){var e=a&&a.data;if(e)for(var t=0,n=e;t<n.length;t++){var r=n[t],i=new m(r);s.m_mapPackageInfo.set(Number(r.packageid),i),u.a.bMigrateToStoreBrowseAPI&&Object(p.c)(i)}o.forEach(function(e){s.m_mapPackageInfo.has(e)||(s.m_mapMissingPackages.set(e,!0),u.a.bMigrateToStoreBrowseAPI&&Object(p.d)(1,e)),s.m_mapInFlightRequests.delete(e)})})});n.push(t),o.forEach(function(e){return s.m_mapInFlightRequests.set(e,t)})};t(),0<r.length;);return[4,Promise.all(n)];case 1:return e.sent(),[2]}})})},Object(o.c)([l.observable],e.prototype,"m_mapPackageInfo",void 0),e}());window.g_PackageInfoStore=h},oazx:function(e,t,n){e.exports={ErrorDiv:"image_ErrorDiv_2FXME"}},onkS:function(e,t,n){"use strict";n.d(t,"c",function(){return me}),n.d(t,"a",function(){return he}),n.d(t,"b",function(){return ge}),n.d(t,"d",function(){return De});var u=n("mrSG"),r=n("vDqi"),l=n.n(r),a=n("2vnA"),o=n("TyAF"),s=n("Gp1o"),d=n("q1tI"),p=n.n(d),i=n("Ty5D"),m=n("mgoM"),c=n("3+zv"),h=n("5eAM"),f=n("kLLr"),b=n("1BdX"),_=n("boaH"),v=n("nWbB"),g=n("U+Q5"),y=n("TQGK"),S=n("ee7K"),w=n("WF3T"),C=n("5izx"),O=n("6oCP"),E=n("b3LC"),B=n("Mgs7"),A=n("fpVW"),I=n.n(A),j=n("Kw0F"),D=n("qiKp"),R=n("exH9"),T=n("X3Ds"),M=n("TLQK"),N=n("Z1oF"),L=n("bxiW"),k=n("CdLH"),F=n("lkRc"),P=n("MnIK"),G=n("dfs5"),U=n("0OaU"),x=n("+d9t"),z=n("d+Me"),H=n("T27q"),W=n("PHKo"),V=n("XmAN"),q=n("mB/g"),Y=n("cGQe"),Q=n("Fmfl"),Z=n("ZlHF"),K=n.n(Z),J=n("YVfL"),X=n.n(J),$=n("TOXn"),ee=n("gPCo"),te=n("IzPI"),ne=n("TLUu"),re=n.n(ne),ie=Object(o.observer)(function(e){var t=Object(m.h)(F.c.LANGUAGE),n=he.Get().GetScheduleTrackByEvent(e.event),r=he.Get().GetBrandingImageURLByEvent(e.event),i=n?M.a.GetWithFallback(n.localized_name||[],t):"",a=null==n?void 0:n.background_gradient_left,o=null==n?void 0:n.background_gradient_right;return p.a.createElement("div",{className:Object(R.a)(r&&X.a.SaleAppWideCtn,X.a.ClanEvent),style:{color:null==n?void 0:n.label_color,background:"linear-gradient(to right, "+(a||"transparent")+" 0%, "+(o||"transparent")+" 100%)"}},r&&p.a.createElement("img",{className:X.a.WideHeader,src:r,alt:i}),p.a.createElement("div",{className:X.a.WideDetailCtn},p.a.createElement("div",{className:X.a.SpeakerEventType},e.event.GetEventTypeAsString()),p.a.createElement("div",{className:X.a.SpeakerEventTitle},e.event.GetNameWithFallback(Object(m.h)(F.c.LANGUAGE)))))}),ae=Object(o.observer)(function(n){var e=Object(d.useState)(null),t=e[0],r=e[1],i=Object(d.useState)(-1),a=i[0],o=i[1];Object(d.useEffect)(function(){return Object(u.b)(void 0,void 0,void 0,function(){var t;return Object(u.e)(this,function(e){switch(e.label){case 0:return t=n.event.jsondata.referenced_appids||[],[4,h.a.LoadAppLinkInfo(t)];case 1:return e.sent(),r(t.map(function(e){return h.a.GetAppLinkInfo(e)})),[2]}})}),function(){r(null)}},[n.event]);function s(e){o(e)}var c=n.event.GetImageURL("capsule"),l=new Array;return t&&(t.forEach(function(e,t){var n;t<6&&(n=e.capsule,l.push(p.a.createElement("a",{key:t+"-"+n,href:Object(te.d)(F.c.STORE_BASE_URL+"app/"+e.appid)},p.a.createElement("img",{className:re.a.PresenterEventScreenshotThumbnail,src:n,onMouseEnter:function(){return s(t)}}))))}),-1!=a&&(c=t[a].capsule)),p.a.createElement("div",{className:re.a.MediaContainer},p.a.createElement("div",{className:re.a.MainMediaCtn},p.a.createElement("img",{src:c})),p.a.createElement("div",{className:re.a.PresenterEventScreenshot,onMouseLeave:function(){return s(-1)}},l))}),oe=Object(o.observer)(function(t){var e=t.presenters.map(function(e){return p.a.createElement(ee.c,{key:"presenter-"+t.event.GID+"-"+e.name,name:e.name,title:e.title,company:e.company,photo:e.photo,hidePhotoInCompactView:!0,bioString:e.bio})});return p.a.createElement("div",{className:Object(R.a)(X.a.SaleSchedDetailCtn,"SaleSchedDetailCtn")},p.a.createElement(ie,Object(u.a)({},t)),p.a.createElement("div",{className:X.a.StatementAndHighlights},p.a.createElement("div",{className:X.a.PresenterEventStatementCtn},p.a.createElement($.b,{text:t.event.GetSummaryWithFallback(Object(m.h)(F.c.LANGUAGE)),partnerEventStore:t.eventStore,showErrorInfo:!1,event:t.event,bShowShortSpeakerInfo:!0}),e),p.a.createElement(ae,Object(u.a)({},t))),p.a.createElement(De,{event:t.event}))}),se=n("EC9l"),ce=n("5L1o"),le=n("NKJh"),ue=n.n(le);function pe(e){var t=Math.floor(Date.now()/1e3),n=e.GetCalendarEndTime();n<=t&&(t=0);var r=e.GetCurrentlyLoadedEventCount(t,n);return!(0<r.nCount)&&r.bIsComplete}var de=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bLoaded:!1,rgVisibleEvents:[]},e.m_cancelSignal=l.a.CancelToken.source(),e.m_scheduledUpdate=new D.b,e}var i;return Object(u.d)(e,t),(i=e).prototype.componentWillUnmount=function(){v.a.Get().RemoveStreamsLoadedListener(this.OnBroadcastStreamsLoaded),v.a.Get().RemoveStreamChangedListener(this.OnBroadcastSelected),this.m_cancelSignal.cancel("SaleSectionEventScheduleInner to unload"),this.m_scheduledUpdate.Cancel()},e.prototype.componentDidUpdate=function(e){var t,n;(null===(t=e.activeTab)||void 0===t?void 0:t.GetActiveTabUniqueID())!=(null===(n=this.props.activeTab)||void 0===n?void 0:n.GetActiveTabUniqueID())&&ve.ClearSelection()},e.prototype.componentDidMount=function(){return Object(u.b)(this,void 0,void 0,function(){var t,n,r=this;return Object(u.e)(this,function(e){switch(e.label){case 0:return(v.a.Get().AddStreamsLoadedListener(this.OnBroadcastStreamsLoaded),v.a.Get().AddStreamChangedListener(this.OnBroadcastSelected),he.Get().AddAllScheduleTrack(this.props.event,this.props.section.event_schedule_tracks),(t=this.GetScheduleCalendarStore()).SetFilteredView(function(e){return r.BShouldShowOnTab(e.appid)}),i.m_bInitialLoad)?(n=Object(F.g)("sale_schedule_calendar","application_config"))?("dev"==F.c.WEB_UNIVERSE&&console.log("SaleSectionEventScheduleInner loading initial events: "+n.length,n),[4,t.RegisterCalendarEventsAndModels(n)]):[3,2]:[3,4];case 1:return e.sent(),[3,4];case 2:return[4,t.RegisterCalendarEventsAndModels({success:1})];case 3:e.sent(),e.label=4;case 4:return i.m_bInitialLoad=!1,this.setState({bLoaded:!0},this.ApplyScheduleToBroadcasts),[2]}})})},Object.defineProperty(e.prototype,"rtTopOfHour",{get:function(){var e=C.a.GetTimeNowWithOverrideAsDate(),t=Object(k.e)(e);return s.d(t.getTime()-e.getTime()+1e3*k.g.PerHour),t.getTime()/1e3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedCurrentCalendarItems",{get:function(){var e=this.rtTopOfHour+k.g.PerHour-1;return Object(w.b)().GetCalendarItemsInTimeRange(this.rtTopOfHour,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedUpcomingCalenderEvents",{get:function(){var e=Object(w.b)().GetStoreInitializationTimestamp(),t=Object(k.e)(e).getTime()/1e3;return Object(w.b)().GetCalendarItemsInTimeRange(t,void 0)},enumerable:!1,configurable:!0}),e.prototype.UpdateBroadcastPresentersFromEvents=function(){b.b.SynchronizeEventsWithBroadcasts(this.GetScheduleCalendarStore(),Object(m.h)(F.c.LANGUAGE))},e.prototype.GetFirstEventWithBroadcaster=function(t){for(var e=C.a.GetTimeNowWithOverride(),n=0,r=this.GetScheduleCalendarStore().GetCalendarItemsInTimeRange(e-3600,e).rgCalendarItems;n<r.length;n++){var i=r[n],a=O.c.GetClanEventModel(i.unique_id);if(a&&!(a.endTime&&a.endTime<e)&&a.GetBroadcastWhitelistAsSteamIDs().some(function(e){return e===t}))return i.unique_id}},e.prototype.OnBroadcastSelected=function(e){var t=this.GetFirstEventWithBroadcaster(e.steamid);t&&(ve.BIsEventSelected(t)||ve.ToggleClanEventGID(t))},e.prototype.ApplyScheduleToBroadcasts=function(){var n=this;if(this.state.bLoaded&&v.a.Get().BHasStreams(this.props.broadcastEmbedContext)){for(var i=this.cachedCurrentCalendarItems.rgCalendarItems,e=v.a.Get().GetStreams(this.props.broadcastEmbedContext),t=0,r=e;t<r.length;t++){!function(e){var t=_.a.GetOrCreateBroadcastInfo(null==e?void 0:e.steamid).m_nAppID,n=i.some(function(e){return Number(e.appid)===t})?v.b.k_eFeatured:v.b.k_eGeneral,r=Math.max(e.default_selection_priority||v.b.k_eGeneral,n);r!=Object(v.c)(e)&&(e.current_selection_priority=r)}(r[t])}var a=e.filter(function(e){var t=_.a.GetOrCreateBroadcastInfo(null==e?void 0:e.steamid).m_nAppID;return n.BShouldShowOnTab(t)});v.a.Get().EnableAutoPlay(this.props.broadcastEmbedContext,a),this.UpdateBroadcastPresentersFromEvents(),this.m_scheduledUpdate.IsScheduled()||this.m_scheduledUpdate.Schedule(6e4,function(){return n.ApplyScheduleToBroadcasts()})}},e.prototype.OnBroadcastStreamsLoaded=function(){this.state.bLoaded&&this.ApplyScheduleToBroadcasts()},e.prototype.BShouldShowOnTab=function(e){return 0==e||!this.props.activeTab||this.props.activeTab.ShouldShowOnTab(e)},e.prototype.GetScheduleCalendarStore=function(){var e=this.props,t=e.event,n=e.section;return Object(w.c)({saleid:t.GID,bSectionByDay:!0,rtCalendarEnd:n.event_schedule_rtime_end||t.endTime}),Object(w.b)()},e.prototype.VisibleEventsChanged=function(e){Object(j.a)(e,this.state.rgVisibleEvents)||this.setState({rgVisibleEvents:e})},e.prototype.render=function(){var e=this.props,t=e.section,n=e.promotionName,r=e.activeTab,i=e.bIsPreview;if(!this.state.bLoaded)return d.createElement(U.a,{position:"center",string:Object(M.f)("#Sale_EventSchedule")});var a=this.GetScheduleCalendarStore(),o=pe(a);if(o&&!i)return null;for(var s=new Array,c=0,l=this.state.rgVisibleEvents;c<l.length;c++){var u=l[c],p=O.c.GetClanEventModel(u);if(p&&this.BShouldShowOnTab(p.appid)&&(s.push(u),4<=s.length))break}return d.createElement(G.b,{feature:"saleeventsched"},d.createElement("div",{className:Object(R.a)(K.a.SaleSection,X.a.SaleSchedCtn,"SaleSchedCtn")},d.createElement("div",{className:X.a.ScheduleSectionHeader},Object(M.f)("#Sale_BroadcastSchedule")),o&&d.createElement("div",{className:K.a.preview_placeholder_section},Object(M.f)(this.props.activeTab?"#Sale_EventSchedulePlaceHolder_Tab":"#Sale_EventSchedulePlaceHolder")),d.createElement("div",{className:X.a.SectionCtn},d.createElement(fe,{calendarStore:a,promotionName:n,activeTab:r,fnVisibleEventsChanged:this.VisibleEventsChanged}),Boolean(ve.BIsSomeEventSelected())?d.createElement(Oe,{eventGID:ve.GetClanEventGID(),bShowDemoButton:t.show_as_demos,broadcastEmbedContext:this.props.broadcastEmbedContext}):d.createElement(we,{rgEventGIDs:s,bShowDemoButton:t.show_as_demos,rgFutureCalendarItems:this.cachedUpcomingCalenderEvents.rgCalendarItems.slice().reverse()}))))},e.m_bInitialLoad=!0,Object(u.c)([a.computed],e.prototype,"rtTopOfHour",null),Object(u.c)([a.computed],e.prototype,"cachedCurrentCalendarItems",null),Object(u.c)([a.computed],e.prototype,"cachedUpcomingCalenderEvents",null),Object(u.c)([L.a],e.prototype,"OnBroadcastSelected",null),Object(u.c)([L.a],e.prototype,"ApplyScheduleToBroadcasts",null),Object(u.c)([L.a],e.prototype,"OnBroadcastStreamsLoaded",null),Object(u.c)([L.a],e.prototype,"VisibleEventsChanged",null),i=Object(u.c)([o.observer],e)}(d.Component),me=Object(i.f)(de),he=function(){function e(){this.m_mapAnnounceGIDToTrack=new Map,this.m_mapAnnounceGIDToSaleClanID=new Map}return e.Get=function(){return e.s_singleton||(e.s_singleton=new e),e.s_singleton},e.prototype.AddAllScheduleTrack=function(n,e){var r=this;e&&e.forEach(function(t){t.events.forEach(function(e){r.m_mapAnnounceGIDToTrack.set(e.announcement_gid,t),r.m_mapAnnounceGIDToSaleClanID.set(e.announcement_gid,n.clanSteamID.GetAccountID())})})},e.prototype.GetScheduleTrackByEvent=function(e){return this.m_mapAnnounceGIDToTrack.get(e.AnnouncementGID)},e.prototype.GetBrandingImageURLByEvent=function(e){var t=this.GetScheduleTrackByEvent(e);if(t&&t.localized_track_image){var n=Object(m.h)(F.c.LANGUAGE),r=M.a.GetWithFallback(t.localized_track_image,n),i=this.m_mapAnnounceGIDToSaleClanID.get(e.AnnouncementGID);return "https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/clans/"+i+"/"+r}},e.prototype.BIsPartOfSomeTrack=function(e){return Boolean(this.GetScheduleTrackByEvent(e))},e.prototype.BIsPartOfSomeTrackByAnnouncementID=function(e){return Boolean(this.m_mapAnnounceGIDToTrack.has(e))},e}(),fe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={},e.m_visibleEventGIDs=[],e.m_timerForRefresh=new D.b,e.m_nTimerRefreshS=60,e}return Object(u.d)(e,t),e.prototype.componentDidMount=function(){this.m_timerForRefresh.Schedule(1e3*this.m_nTimerRefreshS,this.TimerRefresh)},e.prototype.componentWillUnmount=function(){this.m_timerForRefresh.Cancel()},e.prototype.TimerRefresh=function(){this.forceUpdate(),this.m_timerForRefresh.Schedule(1e3*this.m_nTimerRefreshS,this.TimerRefresh)},e.prototype.OnEventVisibilityChange=function(e,t,n,r){this.m_visibleEventGIDs[n]=Object(j.f)(this.m_visibleEventGIDs[n]||[],r+1,null),this.m_visibleEventGIDs[n][r]=e?t:null;for(var i=[],a=0,o=this.m_visibleEventGIDs.filter(Boolean);a<o.length;a++)for(var s=0,c=o[a].filter(Boolean);s<c.length;s++){var l=c[s];i.push(l)}this.props.fnVisibleEventsChanged(i)},e.prototype.render=function(){var t=this,e=this.props.calendarStore,n=e.GetCalendarSections(!0),r=new Array;this.m_visibleEventGIDs=Object(j.f)(this.m_visibleEventGIDs,n.length,null);var i=Object(M.f)("#Time_Now"),a=C.a.GetTimeNowWithOverride();r.push(d.createElement(P.a,{key:i,placeholderHeight:600,rootMargin:"0px 0px 100px 0px",mode:"JustLoad"},d.createElement(be,{strSectionLabel:i,rtSectionStart:a-3600,rtSectionEnd:a,fnOnEventVisibilityChange:this.OnEventVisibilityChange,indexOfSection:r.length,bFutureOnly:!1}))),n.forEach(function(e){r.push(d.createElement(P.a,{key:e.strSectionLabel,placeholderHeight:600,rootMargin:"0px 0px 100px 0px",mode:"JustLoad"},d.createElement(be,{strSectionLabel:e.strSectionLabel,rtSectionStart:e.rtSectionStart,rtSectionEnd:e.rtSectionEnd,fnOnEventVisibilityChange:t.OnEventVisibilityChange,indexOfSection:r.length,bFutureOnly:!0})))});var o=F.c.STORE_BASE_URL+Object(q.f)()+"/sale/"+e.GetSaleID()+"?upcoming=true"+(C.a.BHasTimeOverride()?"&t="+C.a.GetTimeNowWithOverride():"");return d.createElement("div",{className:X.a.SaleSchedListCtn},d.createElement("div",{className:Object(R.a)(X.a.SaleSchedList)},pe(e)&&d.createElement("div",{className:X.a.NoEventsYet},Object(M.f)("#Sale_EventSchedule_NoEventsScheduled")),r),d.createElement(x.a,{className:Object(R.a)(X.a.NewsHubLink,I.a.Button),bDisableContextMenu:!0,href:o},Object(M.f)("#Sale_SeeAllUpcomingEvents")))},Object(u.c)([L.a],e.prototype,"TimerRefresh",null),Object(u.c)([L.a],e.prototype,"OnEventVisibilityChange",null),e}(d.Component),be=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_cancelSignal=l.a.CancelToken.source(),e.m_timerForRefresh=new D.b,e.m_nTimerRefreshS=60,e}return Object(u.d)(e,t),e.prototype.componentDidMount=function(){this.m_timerForRefresh.Schedule(1e3*this.m_nTimerRefreshS,this.TimerRefresh)},e.prototype.TimerRefresh=function(){this.forceUpdate(),this.m_timerForRefresh.Schedule(1e3*this.m_nTimerRefreshS,this.TimerRefresh)},e.prototype.componentWillUnmount=function(){this.m_timerForRefresh.Cancel(),this.m_cancelSignal.cancel("SaleScheduleCalendarSection to unload")},Object.defineProperty(e.prototype,"cachedCalendarItems",{get:function(){var e=this;return Object(w.b)().GetCalendarItemsInTimeRange(s.b(function(){return e.props.rtSectionStart}),s.b(function(){return e.props.rtSectionEnd}))},enumerable:!1,configurable:!0}),e.prototype.render=function(){var e=this.props,t=e.strSectionLabel,n=e.bFutureOnly,r=e.fnOnEventVisibilityChange,i=e.indexOfSection,a=this.cachedCalendarItems,o=a.rgCalendarItems,s=a.bIsComplete;if(s&&0==o.length)return null;var c=C.a.GetTimeNowWithOverride(),l=o.filter(function(e){return!n||e.start_time>=c}).reverse().map(function(e,t){return d.createElement(_e,{key:"schedrow_"+e.unique_id,item:e,fnOnEventVisibilityChange:r,indexOfSection:i,indexInSection:t})});return s&&0==l.length?null:d.createElement(d.Fragment,null,d.createElement("div",{className:Object(R.a)(X.a.SchedSectionLabel,"SchedSectionLabel")},t),l,!s&&d.createElement("div",{style:{height:100}},d.createElement(U.a,{size:"small",string:Object(M.f)("#Loading")})))},Object(u.c)([L.a],e.prototype,"TimerRefresh",null),Object(u.c)([a.computed],e.prototype,"cachedCalendarItems",null),Object(u.c)([o.observer],e)}(d.Component),_e=function(e){var t=e.item,n=e.fnOnEventVisibilityChange,r=e.indexOfSection,i=e.indexInSection,a=d.useState(!1),o=a[0],s=a[1];return d.useEffect(function(){return n(o,t.unique_id,r,i),function(){return n(!1,t.unique_id,r,i)}}),d.createElement(z.a,{topOffset:"55px",bottomOffset:"50px",onEnter:function(){return s(!0)},onLeave:function(){return s(!1)}},d.createElement("div",null,d.createElement(P.a,{placeholderHeight:"60px",rootMargin:"0px 0px 200px 0px"},d.createElement(ge,{item:t}))))},ve=new(function(){function e(){}return e.prototype.BIsSomeEventSelected=function(){return Boolean(this.m_gidClanEventSelected)},e.prototype.GetClanEventGID=function(){return this.m_gidClanEventSelected},e.prototype.BIsEventSelected=function(e){return this.m_gidClanEventSelected===e},e.prototype.SelectClanEventGID=function(e){this.m_gidClanEventSelected!==e&&(this.m_gidClanEventSelected=e)},e.prototype.ToggleClanEventGID=function(e){this.m_gidClanEventSelected===e?this.m_gidClanEventSelected=void 0:this.m_gidClanEventSelected=e},e.prototype.ClearSelection=function(){void 0!==this.m_gidClanEventSelected&&(this.m_gidClanEventSelected=void 0)},Object(u.c)([a.observable],e.prototype,"m_gidClanEventSelected",void 0),e}()),ge=function(e){var r=e.item,t=d.useState(!1),n=t[0],i=t[1],a=d.useRef(l.a.CancelToken.source());if(d.useEffect(function(){return function(){return a.current.cancel("unmounting SaleScheduleRowProxy")}},[]),d.useEffect(function(){Object(u.b)(void 0,void 0,void 0,function(){var t,n;return Object(u.e)(this,function(e){switch(e.label){case 0:return t=f.a.InitFromClanID(r.clanid),n=new Array,O.c.BHasClanEventModel(r.unique_id)||n.push(O.c.LoadPartnerEventFromClanEventGIDAndClanSteamID(t,r.unique_id,0)),r.appid&&!h.a.BHasAppLinkLoaded(r.appid)&&n.push(h.a.LoadAppLinkInfo([r.appid])),r.appid||y.a.BHasClanInfoLoadedByAccountID(r.clanid)||n.push(y.a.LoadClanInfoForClanSteamID(t)),0<n.length&&i(!1),[4,Promise.all(n)];case 1:return e.sent(),a.current.token.reason||i(!0),[2]}})})},[r]),!n)return d.createElement("div",{className:X.a.SaleSchedRowProxy},d.createElement(U.a,{size:"small"}));var o=O.c.GetClanEventModel(r.unique_id),s=r.appid?h.a.GetAppLinkInfo(r.appid):void 0,c=y.a.GetClanInfoByClanAccountID(r.clanid);return!o||r.appid&&!s||!r.appid&&!c?null:d.createElement(Se,Object(u.a)({},e))},ye=new Set([" ","-",":"]),Se=Object(o.observer)(function(r){var e,t=r.item,n=r.bMiniMode,i=O.c.GetClanEventModel(t.unique_id),a="";a=t.appid?h.a.GetAppLinkInfo(t.appid).title||"":y.a.GetClanInfoByClanAccountID(t.clanid).group_name||"";var o=new Date(1e3*i.startTime);o.setMinutes(o.getMinutes()<=50?0:60);var s=o.getTime()/1e3,c=i.GetNameWithFallback(Object(m.h)(F.c.LANGUAGE));if(c.startsWith(a))for(c=c.slice(a.length);ye.has(c[0]);)c=c.slice(1);var l=he.Get().BIsPartOfSomeTrack(i),u=!i.BIsEventInFuture()&&!i.BHasEventEnded();return d.createElement(q.c,{eventModel:i,route:q.a.k_eStoreView,onClick:function(e){var t,n=r.item.unique_id;window.innerWidth>parseInt(X.a.strMediumWidth)?ve.ToggleClanEventGID(n):ve.BIsEventSelected(n)?ve.ClearSelection():(ve.ClearSelection(),(t=O.c.GetClanEventModel(n))&&Object(H.a)(t,window)),e.preventDefault()},forceAnchor:!0,className:Object(R.a)(((e={})[X.a.SaleSchedRow]=!0,e[X.a.SchedRowSelected]=ve.BIsEventSelected(t.unique_id),e[X.a.MiniMode]=n,e.SchedEntryPartOfTrack=l,e[X.a.LiveNow]=u,e))},d.createElement(V.a,{event:i}),u&&d.createElement("div",{className:X.a.Time},d.createElement(ce.d,null)),!u&&d.createElement("div",{className:X.a.Time},Object(N.h)(s)),d.createElement("div",{className:X.a.DetailsCtn},d.createElement("div",{className:X.a.AppTitle},a),d.createElement("div",{className:X.a.EventTitle},c)),d.createElement("div",{className:X.a.Icon},d.createElement("img",{className:X.a.CategoryTypeImage,width:"26",height:"26",src:F.c.IMG_URL+"events/types/type_"+(11==i.type?"11":"9")+".png"})))}),we=Object(o.observer)(function(e){var t=e.rgEventGIDs,i=e.bShowDemoButton,a=e.rgFutureCalendarItems;return d.createElement("div",{className:Object(R.a)(X.a.SaleSchedGridCtn)},t.map(function(t){var e=O.c.GetClanEventModel(t),n=a.find(function(e){return e.unique_id==t});if(!n)return null;if((null==e?void 0:e.appid)&&h.a.GetAppLinkInfo(e.appid)){var r={id:e.appid,type:"game"};return d.createElement(ce.g,{key:"schedule_grid_"+t,capsule:r,imageType:"main",bShowDemoButton:i,eventToShow:n})}return d.createElement(Ce,{key:"schedule_grid_"+t,event:e,eventCalendarItem:n})}))}),Ce=function(e){var t=e.event,n=e.eventCalendarItem,r=Object(m.h)(F.c.LANGUAGE),i=t.GetImageURLWithFallback("capsule",r,g.c.capsule_main);return d.createElement("div",{className:X.a.ClanEventCapsuleCtn,onClick:function(){return ve.SelectClanEventGID(t.GID)}},d.createElement("img",{className:X.a.ClanEventImage,src:i}),d.createElement(ge,{item:n,bMiniMode:!0}))};var Oe=function(e){var t=e.eventGID,n=e.bShowDemoButton;if(!t||!O.c.BHasClanEventModel(t))return null;var r=O.c.GetClanEventModel(t),i=(null==r?void 0:r.appid)&&h.a.GetAppLinkInfo(r.appid),a=Object(m.h)(F.c.LANGUAGE),o=b.a.ParseEventModelPresenters(r,a),s=function(e,t){for(var n,r=e.jsondata.referenced_appids||[],i=/(?:steampowered\.com|valve\.org\/store)\/(app)\/(\d+)/gi,a=e.GetDescriptionWithFallback(t);null!==(n=i.exec(a));){var o=Number(n[2]);r.includes(o)||r.push(o)}return r}(r,a);return o&&0<o.length&&(0==r.appid||(null==s?void 0:s.some(function(e){return e!=r.appid})))?d.createElement(oe,{event:r,eventStore:O.c,presenters:o}):d.createElement("div",{className:Object(R.a)(X.a.SaleSchedDetailCtn,"SaleSchedDetailCtn")},Boolean(i)?d.createElement(d.Fragment,null,d.createElement(Be,{appCapsule:i,bShowDemoButton:n}),d.createElement(Ae,{appCapsule:i}),d.createElement(Ie,{appCapsule:i})):d.createElement(Ee,{event:r}),d.createElement(De,{event:r,broadcastEmbedContext:e.broadcastEmbedContext}))},Ee=function(e){var t=e.event,n=Object(m.h)(F.c.LANGUAGE),r=t.GetImageURLWithFallback("capsule",n),i=Object(c.o)(r);return d.createElement("div",{className:X.a.ClanEventDetailBackground,style:{backgroundImage:"url("+i+")"}})},Be=function(e){var t=e.appCapsule,n=e.bShowDemoButton;return t?d.createElement("div",{className:X.a.SaleAppWideCtn},d.createElement(Q.d,{item:t,className:X.a.SaleAppCapsule},d.createElement("img",{className:X.a.WideHeader,src:t.capsule,alt:t.title})),d.createElement("div",{className:X.a.WideDetailCtn},d.createElement("div",{className:X.a.AppTitle},t.title),d.createElement("div",{className:X.a.ReleaseDate},t.release)),d.createElement("div",{className:X.a.GameButtons},Boolean(S.a.BOwnsApp(t.appid))?d.createElement(B.d,{disabled:!0},Object(M.f)("#Sale_InLibrary")):d.createElement("div",{className:X.a.GameButton},d.createElement(ce.k,{info:t})),n&&d.createElement(W.a,{appLinkInfo:t,className:X.a.DemoButton}))):null},Ae=function(e){var t=e.appCapsule;return d.createElement("div",{className:X.a.SaleTagAndOS},d.createElement("div",{className:ue.a.StoreSaleWidgetTags},t.tags?t.tags.map(function(e){return d.createElement("div",{key:"tag_"+e.tagid,className:ue.a.AppTag},e.name)}):void 0),d.createElement(ce.e,{item:t}))},Ie=function(e){var t=e.appCapsule;return d.createElement("div",{className:X.a.StatementAndHighlights},d.createElement(je,{appCapsule:t}),d.createElement(se.a,{appCapsule:t}))},je=function(e){var t=Object(E.c)(e.appCapsule.appid,0,!0)[0];return d.createElement("div",{className:X.a.StatementCtn},d.createElement("div",null,t))},De=function(a){var e=a.event,t=a.broadcastEmbedContext,n=e.BIsEventInFuture(),r=Object(m.h)(F.c.LANGUAGE),i=Boolean(t)&&Boolean(null==e?void 0:e.appid)&&!n&&!e.BHasEventEnded()&&v.a.Get().BIsAppStreaming(e.appid);return d.createElement("div",{className:X.a.EventWideCtn},d.createElement("div",{className:X.a.Title},Object(M.f)("#Sale_EventSchedule")),d.createElement("div",{className:X.a.EventWideDetailCtn},d.createElement("div",{className:X.a.EventDetails},d.createElement("div",{className:X.a.EventIcon},d.createElement("img",{className:X.a.CategoryTypeImage,width:"40",height:"40",src:F.c.IMG_URL+"events/types/type_"+(11==e.type?"11":"9")+".png"})),d.createElement("div",null,d.createElement("div",{className:X.a.EventTitle},e.GetNameWithFallback(r)),d.createElement("div",{className:X.a.EventTime},n?Object(M.n)(e.startTime)+" "+Object(M.q)(e.startTime):Object(M.r)(Date.now()/1e3-e.startTime)))),d.createElement("div",{className:X.a.EventOptionsCtn},i&&d.createElement(B.d,{className:X.a.EventDetailsBtn,onClick:function(i){return Object(u.b)(void 0,void 0,void 0,function(){var t,n,r;return Object(u.e)(this,function(e){switch(e.label){case 0:return(i.preventDefault(),a.broadcastEmbedContext)?(i.preventDefault(),t=v.a.Get().GetStreamsForAppID(a.event.appid),n=t.sort(function(e,t){return(t.viewer_count||0)-(e.viewer_count||0)}),(r=0<n.length?n[0]:void 0)&&v.a.Get().GetPlayReadyStream(a.broadcastEmbedContext).accountid!=r.accountid?[4,v.a.Get().AttemptToPlayStream(a.broadcastEmbedContext,r)]:[3,2]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}},d.createElement(ce.d,null),Object(M.f)("#Sale_WatchNow")),d.createElement(q.c,{eventModel:e,route:q.a.k_eStoreView},d.createElement(B.d,{className:X.a.EventDetailsBtn,onClick:function(e){Object(H.a)(a.event,T.n(e)),e.preventDefault()}},Object(M.f)("#Sale_SeeEventDetails"))),n&&d.createElement(Y.a,{eventModel:e,eventGID:e.GID,lang:r}))))}},pNNv:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",Container:"libraryhome_Container_2gSXC",WhatsNewContainer:"libraryhome_WhatsNewContainer_gdZT7",InnerContainer:"libraryhome_InnerContainer_2AUVZ",fadein:"libraryhome_fadein_Dy0ZP",LibraryHome:"libraryhome_LibraryHome_3Sb2o",UpdateLoweredPriorityNotice:"libraryhome_UpdateLoweredPriorityNotice_2Yry4",fadeout:"libraryhome_fadeout_1Qfrn",UpdateLoweredPriorityUndo:"libraryhome_UpdateLoweredPriorityUndo_2sdvi",UpdatesContainer:"libraryhome_UpdatesContainer_17uEB",LibraryHomeSection:"libraryhome_LibraryHomeSection_1NCHR",Header:"libraryhome_Header_1QOqx",Name:"libraryhome_Name_1p4KV",Clickable:"libraryhome_Clickable_2nS9S",Rule:"libraryhome_Rule_1MYMR",Body:"libraryhome_Body_3L4iQ",AchievementCacheStatus:"libraryhome_AchievementCacheStatus_2I0nm",PrePurchaseContainer:"libraryhome_PrePurchaseContainer_3P7_-",Background:"libraryhome_Background_3Akjn",HeroImage:"libraryhome_HeroImage_1ZEyw",LogoImage:"libraryhome_LogoImage_1QbJL",CapsuleArt:"libraryhome_CapsuleArt_2XfTs",GroundPlane:"libraryhome_GroundPlane_lksjd",CubeContainer:"libraryhome_CubeContainer_2y--j",Spacer:"libraryhome_Spacer_2cwp2",PrePurchaseDesc:"libraryhome_PrePurchaseDesc_2Z4XT",Title:"libraryhome_Title_cxI0b",GameName:"libraryhome_GameName_l46UL",Desc:"libraryhome_Desc_2d1Y_",PrePurchaseActionsContainer:"libraryhome_PrePurchaseActionsContainer_2JBOR",PrePurchaseActions:"libraryhome_PrePurchaseActions_3vEwu",Cube:"libraryhome_Cube_1_k1W",CubeFaceFront:"libraryhome_CubeFaceFront_DrOM9",CubeFace:"libraryhome_CubeFace_1ptsN",CubeFaceBack:"libraryhome_CubeFaceBack_1D5QR",CubeFaceLeft:"libraryhome_CubeFaceLeft_1R7yA",CubeFaceRight:"libraryhome_CubeFaceRight_5mtN9",CubeFaceTop:"libraryhome_CubeFaceTop_3oJCl",CubeFaceBottom:"libraryhome_CubeFaceBottom_VwRr1"}},pb2U:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",PlayButtonContainer:"appactionbutton_PlayButtonContainer_1FnJ6",ShowingStreaming:"appactionbutton_ShowingStreaming_1hhB2",LongButton:"appactionbutton_LongButton_20gjC",ShowStreaming:"appactionbutton_ShowStreaming_17TGT",ButtonChild:"appactionbutton_ButtonChild_2AzIX",StreamingSelector:"appactionbutton_StreamingSelector_2q-gZ",Disabled:"appactionbutton_Disabled_1Pb6P",Green:"appactionbutton_Green_3cI5T",PlayButton:"appactionbutton_PlayButton_3ydig",NoAction:"appactionbutton_NoAction_5lnmC",ThrobberContainer:"appactionbutton_ThrobberContainer_yYVX6",Throbber:"appactionbutton_Throbber_gGXex",ButtonText:"appactionbutton_ButtonText_33cnX",ButtonThrobberPadding:"appactionbutton_ButtonThrobberPadding_k1-BH",StreamingContextMenuItem:"appactionbutton_StreamingContextMenuItem_9zjx5"}},"q+NH":function(e,t,n){e.exports={BroadcastPlayerLite:"broadcastplayer_BroadcastPlayerLite_SAxf3",BroadcastPlayerLiteVideo:"broadcastplayer_BroadcastPlayerLiteVideo_yCd0z",BroadcastContext:"broadcastplayer_BroadcastContext_3TnYL",BroadcastPlaceholderImg:"broadcastplayer_BroadcastPlaceholderImg_3hxn9"}},"qD+2":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var c=n("mrSG"),r=n("2vnA"),l=n("kyHq"),u=n("bxBv"),s=n("sOw0"),p=n("lkRc"),i=function(){function e(e){this.m_nLastUpdated=0,this.m_mapLanguages=r.observable.map(),this.m_fetching=null,this.m_appid=e}return e.prototype.GetAppID=function(){return this.m_appid},e.prototype.GetTokenList=function(e){return this.m_mapLanguages.has(e)?this.m_mapLanguages.get(e):null},e.prototype.Localize=function(e,t){var n=p.c.LANGUAGE;return d(e,this.GetTokenList(n),"english"!=n?this.GetTokenList("english"):null,this.m_appid,t)},e.prototype.SubstituteParams=function(e,t){var n=p.c.LANGUAGE;return m(e,this.GetTokenList(n),"english"!=n?this.GetTokenList("english"):null,this.m_appid,t)},e}();function d(e,t,n,r,i){if(!e.startsWith("#"))return console.log("Token doesn't start with #:",e),"";var a=e;e=e.toLowerCase();var o="";if(t&&t.has(e)&&(o=t.get(e)),!o&&n&&n.has(e)&&(o=n.get(e)),o)o=m(o,t,n,r,i);else if((t||n)&&console.log("No loc found for appid",r,a,"Tokens:",t,"Fallback:",n),t&&1!=p.c.EUNIVERSE)return e;return o}function m(e,t,n,r,i){var a=e.match(/{[A-za-z0-9_%#:]+}/g);if(a)for(var o=0,s=a;o<s.length;o++){var c=s[o],l=d(h(c.slice(1,-1),i),t,n,r,i);if(!l)return"";e=e.replace(c,l)}return e=h(e,i)}function h(e,t){var n=e.match(/%[A-Za-z0-9_:]+%/g);if(n)for(var r=0,i=n;r<i.length;r++){var a=i[r],o=a.slice(1,-1).toLowerCase(),s=t.get(o);null==s?console.log("No rich presence found for",o):e=e.replace(a,s)}return e}var f=n("MUT6"),b=n("r64O"),a=n("qiKp"),o=new(function(){function e(){this.m_mapAppInfo=r.observable.map(),this.m_mapRichPresenceLoc=r.observable.map(),this.m_cAppInfoRequestsInFlight=0,this.m_setPendingAppInfo=new Set,this.m_CacheStorage=null,this.m_fnCallbackOnAppInfoLoaded=new a.a}return e.prototype.Init=function(e){this.m_CMInterface=e},e.prototype.BHavePendingAppInfoRequests=function(){return 0<this.m_setPendingAppInfo.size||0<this.m_cAppInfoRequestsInFlight},Object.defineProperty(e.prototype,"CMInterface",{get:function(){return this.m_CMInterface},enumerable:!1,configurable:!0}),e.prototype.RegisterCallbackOnLoad=function(e){if(!this.BHavePendingAppInfoRequests())return Object(b.a)(!1,"Registering for callback on appinfo load, but nothing queued"),void e();this.m_fnCallbackOnAppInfoLoaded.Register(e)},e.prototype.IsLoadingAppID=function(e){return this.m_setPendingAppInfo.has(e)},e.prototype.GetAppInfo=function(e){var t;return Object(b.a)(this.m_CMInterface,"CAppInfoStore.GetAppInfo called before Init"),Object(b.a)(e,"Requesting App ID 0, which won't ever exist"),this.m_mapAppInfo.has(e)||(t=new s.a(e),this.m_mapAppInfo.set(e,t),this.QueueAppInfoRequest(e)),this.m_mapAppInfo.get(e)},e.prototype.QueueAppInfoRequest=function(e){var t=this;return e?(this.m_setPendingAppInfo.size||(this.m_PendingAppInfoPromise=new Promise(function(e){return t.m_PendingAppInfoResolve=e}),window.setTimeout(function(){return t.FlushPendingAppInfo()},25)),this.m_setPendingAppInfo.add(e),this.m_PendingAppInfoPromise):Promise.resolve()},e.prototype.FlushPendingAppInfo=function(){return Object(c.b)(this,void 0,void 0,function(){var t,n;return Object(c.e)(this,function(e){switch(e.label){case 0:return t=this.m_PendingAppInfoResolve,n=Array.from(this.m_setPendingAppInfo),this.m_PendingAppInfoPromise=void 0,this.m_PendingAppInfoResolve=void 0,this.m_setPendingAppInfo.clear(),[4,this.LoadAppInfoBatch(n)];case 1:return e.sent(),t(),[2]}})})},e.prototype.LoadAppInfoBatch=function(s){return Object(c.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(c.e)(this,function(e){switch(e.label){case 0:return this.m_cAppInfoRequestsInFlight++,[4,this.LoadAppInfoBatchFromLocalCache(s)];case 1:return(t=e.sent()).length?(console.log("Loading batch of App Info from Steam: ",t),[4,this.m_CMInterface.WaitUntilLoggedOn()]):[3,5];case 2:e.sent(),(n=u.b.Init(f.d)).Body().set_language(Object(l.s)(p.c.LANGUAGE)),r=50,e.label=3;case 3:return 0<t.length?(i=Math.min(r,t.length),a=t.slice(0,i),t=t.slice(i),n.Body().set_appids(a),[4,f.o.GetApps(this.m_CMInterface.GetServiceTransport(),n)]):[3,5];case 4:return 1==(o=e.sent()).GetEResult()?this.OnGetAppsResponse(o):console.error("Error when calling CommunityService.GetApps: EResult="+o.GetEResult()+", AppIDs:",a),[3,3];case 5:return 0==--this.m_cAppInfoRequestsInFlight&&0==this.m_setPendingAppInfo.size&&(this.m_fnCallbackOnAppInfoLoaded.Dispatch(),this.m_fnCallbackOnAppInfoLoaded.ClearAllCallbacks()),[2]}})})},e.prototype.OnGetAppsResponse=function(e){for(var t=[],n=0,r=e.Body().apps();n<r.length;n++){var i=r[n],a=this.m_mapAppInfo.get(i.appid());Object(b.a)(a,"Got AppInfo response for unrequested AppID: "+i.appid()),a&&((a=new s.a(i.appid())).DeserializeFromMessage(i),this.m_mapAppInfo.set(i.appid(),a),t.push(a))}this.SaveAppInfoBatchToLocalCache(t)},e.prototype.OnAppOverviewChange=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=new s.a(r.appid());i.DeserializeFromAppOverview(r),this.m_mapAppInfo.set(r.appid(),i)}},e.prototype.EnsureAppInfoForAppIDs=function(t){return Object(c.b)(this,void 0,void 0,function(){var n,r=this;return Object(c.e)(this,function(e){return n=!1,t.forEach(function(e){var t=r.m_mapAppInfo.get(e);t?t.is_valid||(n=!0):(t=new s.a(e),r.m_mapAppInfo.set(e,t),r.QueueAppInfoRequest(e),n=!0)}),n&&void 0!==this.m_PendingAppInfoPromise?[2,this.m_PendingAppInfoPromise]:[2,Promise.resolve()]})})},e.prototype.SetCacheStorage=function(e){this.m_CacheStorage=e},e.prototype.GetCacheKeyForAppID=function(e){return"APPINFO_"+e},e.prototype.LoadAppInfoBatchFromLocalCache=function(o){return Object(c.b)(this,void 0,void 0,function(){var i,t,n,r,a=this;return Object(c.e)(this,function(e){switch(e.label){case 0:return this.m_CacheStorage?(console.log("Loading batch of App Info from Local Cache: ",o),i=new Date((new Date).getTime()-12096e5),t=function(r){return Object(c.b)(a,void 0,void 0,function(){var t,n;return Object(c.e)(this,function(e){switch(e.label){case 0:return[4,this.m_CacheStorage.GetObject(this.GetCacheKeyForAppID(r))];case 1:return(t=e.sent())?(n=this.m_mapAppInfo.get(r),Object(b.a)(n,"Didn't find AppInfo in our map when loading from cache but it should've been there?"),n?((n=new s.a(r)).DeserializeFromCacheObject(t),n.is_initialized?(this.m_mapAppInfo.set(r,n),n.time_updated_from_server<i?[2,r]:[2,null]):(console.warn("Failed to deserialize cached App Info: ",r,t),[2,r])):[2,r]):[2,r]}})})},n=o.map(t),[4,Promise.all(n)]):[2,o];case 1:return r=e.sent(),[2,r.filter(function(e){return null!==e})]}})})},e.prototype.SaveAppInfoBatchToLocalCache=function(a){return Object(c.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(c.e)(this,function(e){if(!this.m_CacheStorage)return[2];for(console.log("Saving batch of App Info to Local Cache: ",a.map(function(e){return e.appid})),t=0,n=a;t<n.length;t++)r=n[t],(i=r.SerializeToCacheObject())&&this.m_CacheStorage.StoreObject(this.GetCacheKeyForAppID(r.appid),i);return[2]})})},e.prototype.Localize=function(e,t,n){var r=this.GetRichPresenceLoc(e);return r?r.Localize(t,n):1!=p.c.EUNIVERSE?(console.log("Unable to find app localization information for app "+e+" token "+t+", this may not have had a chance to load yet"),t):""},e.prototype.GetRichPresenceLoc=function(e){if(this.m_mapRichPresenceLoc.has(e.toString())){var t=this.m_mapRichPresenceLoc.get(e.toString());return t.m_nLastUpdated+6e4*s.c<Date.now()&&this.QueueRichPresenceLocRequest(t),t}var n=new i(e);return this.m_mapRichPresenceLoc.set(e.toString(),n),this.QueueRichPresenceLocRequest(n),n},e.prototype.GetRichPresenceLocAsync=function(e){var t=this.GetRichPresenceLoc(e);return t.m_nLastUpdated?Promise.resolve(t):t.m_fetching},e.prototype.OnRichPresenceLocUpdate=function(e,t){e.m_nLastUpdated=Date.now();for(var n=0,r=t;n<r.length;n++){var i=r[n],a=i.language(),o=e.m_mapLanguages.get(a);o?o.clear():(e.m_mapLanguages.set(a,new Map),o=e.m_mapLanguages.get(a));for(var s=0,c=i.tokens();s<c.length;s++){var l=c[s];o.set(l.name().toLowerCase(),l.value())}}},e.prototype.QueueRichPresenceLocRequest=function(t){var n=this;return t.m_fetching||(t.m_fetching=this.m_CMInterface.WaitUntilLoggedOn().then(function(){var e=u.b.Init(f.c);return e.Body().set_appid(t.GetAppID()),e.Body().set_language(p.c.LANGUAGE),f.o.GetAppRichPresenceLocalization(n.m_CMInterface.GetServiceTransport(),e)}).then(function(e){return t.m_fetching=null,1!=e.GetEResult()?Promise.reject():(n.OnRichPresenceLocUpdate(t,e.Body().token_lists()),Promise.resolve(t))}),t.m_fetching.catch(function(){t.m_fetching=null})),t.m_fetching},Object(c.c)([r.action],e.prototype,"OnGetAppsResponse",null),Object(c.c)([r.action],e.prototype,"OnRichPresenceLocUpdate",null),e}())},qP7j:function(e,t,n){e.exports={ErrorStyles:"partnereventdialog_ErrorStyles_2Sg7W",ErrorStylesWithIcon:"partnereventdialog_ErrorStylesWithIcon_Lc2PK",ErrorIconLayout:"partnereventdialog_ErrorIconLayout_42__6",ErrorStylesBackground:"partnereventdialog_ErrorStylesBackground_3fVv6",WarningStyles:"partnereventdialog_WarningStyles_3gxgE",WarningStylesWithIcon:"partnereventdialog_WarningStylesWithIcon_1S_uS",WarningIconLayout:"partnereventdialog_WarningIconLayout_2jM80",WarningStylesBackground:"partnereventdialog_WarningStylesBackground_UYrHs",Padding:"partnereventdialog_Padding_36hma",NotTooWideModal:"partnereventdialog_NotTooWideModal_UfQcb"}},qRNb:function(e,t,n){e.exports={Bold:"bbcodes_Bold_22w2K",Italic:"bbcodes_Italic_16Drm",Header1:"bbcodes_Header1_3Jkby",Underline:"bbcodes_Underline_2_HlU",Strike:"bbcodes_Strike_1NdUF",Spoiler:"bbcodes_Spoiler_6P2ip",SpoilerText:"bbcodes_SpoilerText_zk53W",DisabledMouseEvents:"bbcodes_DisabledMouseEvents_3Ym0J",BlockQuote:"bbcodes_BlockQuote_Sy3t6",QuoteAuthor:"bbcodes_QuoteAuthor_3OnLG",Code:"bbcodes_Code_g3WWf",List:"bbcodes_List_3tyDL",OrderedList:"bbcodes_OrderedList_2Y8Nq",ListItem:"bbcodes_ListItem_MuAAb"}},qX2u:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",CarouselExtraHeight:"58",RecentGames:"libraryhomerecentgames_RecentGames_1RLny",RecentGame:"libraryhomerecentgames_RecentGame_1esfE",AddedDate:"libraryhomerecentgames_AddedDate_1ANYF",EmptyDate:"libraryhomerecentgames_EmptyDate_33gR3",RecentGameMediaContainer:"libraryhomerecentgames_RecentGameMediaContainer_2XftM"}},qhbg:function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function i(e){var t=Math.floor(e/3600),n=Math.floor(e/60)%60,r=Math.floor(e)%60,i=r.toString();r<10&&(i="0"+i);var a=n.toString();return n<10&&0<t&&(a="0"+a),(0<t?t+":":"")+a+":"+i}function a(){var e=!1;try{e=MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d4032,mp4a.40.2"')}catch(e){}return e}function o(){var e=document.createElement("video").canPlayType('application/vnd.apple.mpegurl;codecs="avc1.64001f,mp4a.40.02"');return"probably"===e||"maybe"===e}n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},qiKp:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l});var o=n("mrSG"),r=n("Kw0F"),i=n("bxiW"),a=function(){function e(){this.m_vecCallbacks=[]}return e.prototype.Register=function(e){var t=this;this.m_vecCallbacks.push(e);return{Unregister:function(){r.c(t.m_vecCallbacks,e)}}},e.prototype.Dispatch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=this.m_vecCallbacks;n<r.length;n++){r[n].apply(void 0,e)}},e.prototype.ClearAllCallbacks=function(){this.m_vecCallbacks=[]},e}(),s=function(){function e(){}return e.prototype.Schedule=function(e,t){this.IsScheduled()&&this.Cancel(),this.m_fnCallback=t,this.m_schTimer=window.setTimeout(this.ScheduledInternal,e)},e.prototype.IsScheduled=function(){return void 0!==this.m_schTimer},e.prototype.Cancel=function(){this.m_schTimer&&(clearTimeout(this.m_schTimer),this.m_schTimer=void 0)},e.prototype.ScheduledInternal=function(){this.m_schTimer=void 0;var e=this.m_fnCallback;this.m_fnCallback=void 0,e()},Object(o.c)([i.a],e.prototype,"ScheduledInternal",null),e}(),c=function(){function e(){this.m_rgListeners=[]}return e.prototype.AddEventListener=function(e,t,n){e.addEventListener(t,n),this.m_rgListeners.push({element:e,type:t,listener:n})},e.prototype.Unregister=function(){for(var e=0,t=this.m_rgListeners;e<t.length;e++){var n=t[e];n.element.removeEventListener(n.type,n.listener)}this.m_rgListeners=[]},e}();function l(a){return Object(o.b)(this,void 0,void 0,function(){var t,r,n,i;return Object(o.e)(this,function(e){switch(e.label){case 0:return t=[],(r=Object.keys(a)).forEach(function(e){return t.push(a[e])}),[4,Promise.all(t)];case 1:return n=e.sent(),i={},[2,n.reduce(function(e,t,n){return e[r[n]]=t,e},i)]}})})}},qyZy:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",NewDLCContainer:"appdetailsspotlight_NewDLCContainer_3Exow",NewDLCMessage:"appdetailsspotlight_NewDLCMessage_1Dy60",DLCLink:"appdetailsspotlight_DLCLink_24wrY",NewDLCImages:"appdetailsspotlight_NewDLCImages_ENdo7",NewDLCImage:"appdetailsspotlight_NewDLCImage_2ze8W",HideDLCContainer:"appdetailsspotlight_HideDLCContainer_2Omwn",ReviewContainer:"appdetailsspotlight_ReviewContainer_3LE-6",RatingContainer:"appdetailsspotlight_RatingContainer_1E_EN",CloseButton:"appdetailsspotlight_CloseButton_3-729",Inner:"appdetailsspotlight_Inner_2z8Na",Glassy:"appdetailsspotlight_Glassy_el0c2",AppDetailsSpotlight:"appdetailsspotlight_AppDetailsSpotlight_gh6du",DLCPageableContainer:"appdetailsspotlight_DLCPageableContainer_nFgk8",GotItMessage:"appdetailsspotlight_GotItMessage_1dq9v",AppDetailsSpotlightDemoWrapper:"appdetailsspotlight_AppDetailsSpotlightDemoWrapper_1RXqe",AppDetailsSpotlightDemo:"appdetailsspotlight_AppDetailsSpotlightDemo_xYbDd",Header:"appdetailsspotlight_Header_FHKza",HeaderArt:"appdetailsspotlight_HeaderArt_3WXTt",Info:"appdetailsspotlight_Info_1AazH",Title:"appdetailsspotlight_Title_2rPfS",Buttons:"appdetailsspotlight_Buttons_3f3yV",SpotlightButton:"appdetailsspotlight_SpotlightButton_1fSOe"}},"r+Z0":function(e,t,n){"use strict";var r;n.r(t);function g(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function y(){return new g(null)}r="Microsoft Internet Explorer"==navigator.appName?(g.prototype.am=function(e,t,n,r,i,a){for(var o=32767&t,s=t>>15;0<=--a;){var c=32767&this[e],l=this[e++]>>15,u=s*c+l*o;i=((c=o*c+((32767&u)<<15)+n[r]+(1073741823&i))>>>30)+(u>>>15)+s*l+(i>>>30),n[r++]=1073741823&c}return i},30):"Netscape"!=navigator.appName?(g.prototype.am=function(e,t,n,r,i,a){for(;0<=--a;){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i},26):(g.prototype.am=function(e,t,n,r,i,a){for(var o=16383&t,s=t>>14;0<=--a;){var c=16383&this[e],l=this[e++]>>14,u=s*c+l*o;i=((c=o*c+((16383&u)<<14)+n[r]+i)>>28)+(u>>14)+s*l,n[r++]=268435455&c}return i},28),g.prototype.DB=r,g.prototype.DM=(1<<r)-1,g.prototype.DV=1<<r;g.prototype.FV=Math.pow(2,52),g.prototype.F1=52-r,g.prototype.F2=2*r-52;for(var i="0123456789abcdefghijklmnopqrstuvwxyz",a=new Array,o="0".charCodeAt(0),s=0;s<=9;++s)a[o++]=s;for(o="a".charCodeAt(0),s=10;s<36;++s)a[o++]=s;for(o="A".charCodeAt(0),s=10;s<36;++s)a[o++]=s;function c(e){return i.charAt(e)}function l(e,t){var n=a[e.charCodeAt(t)];return null==n?-1:n}function b(e){var t=y();return t.fromInt(e),t}function S(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function _(e){this.m=e}function v(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function u(e,t){return e&t}function p(e,t){return e|t}function d(e,t){return e^t}function m(e,t){return e&~t}function h(){}function f(e){return e}function w(e){this.r2=y(),this.q3=y(),g.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}_.prototype.convert=function(e){return e.s<0||0<=e.compareTo(this.m)?e.mod(this.m):e},_.prototype.revert=function(e){return e},_.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},_.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},_.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},v.prototype.convert=function(e){var t=y();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&0<t.compareTo(g.ZERO)&&this.m.subTo(t,t),t},v.prototype.revert=function(e){var t=y();return e.copyTo(t),this.reduce(t),t},v.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},v.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},v.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},g.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e[t]=this[t];e.t=this.t,e.s=this.s},g.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,0<e?this[0]=e:e<-1?this[0]=e+DV:this.t=0},g.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,a=0;0<=--r;){var o=8==n?255&e[r]:l(e,r);o<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==a?this[this.t++]=o:a+n>this.DB?(this[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this[this.t++]=o>>this.DB-a):this[this.t-1]|=o<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,0<a&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&g.ZERO.subTo(this,this)},g.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this[this.t-1]==e;)--this.t},g.prototype.dlShiftTo=function(e,t){for(var n=this.t-1;0<=n;--n)t[n+e]=this[n];for(n=e-1;0<=n;--n)t[n]=0;t.t=this.t+e,t.s=this.s},g.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},g.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,r=this.DB-n,i=(1<<r)-1,a=Math.floor(e/this.DB),o=this.s<<n&this.DM,s=this.t-1;0<=s;--s)t[s+a+1]=this[s]>>r|o,o=(this[s]&i)<<n;for(s=a-1;0<=s;--s)t[s]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},g.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&a)<<i,t[o-n]=this[o]>>r;0<r&&(t[this.t-n-1]|=(this.s&a)<<i),t.t=this.t-n,t.clamp()}},g.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:0<r&&(t[n++]=r),t.t=n,t.clamp()},g.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;0<=--i;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&g.ZERO.subTo(t,t)},g.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;0<=--n;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}0<e.t&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},g.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=y());var a=y(),o=this.s,s=e.s,c=this.DB-S(r[r.t-1]);0<c?(r.lShiftTo(c,a),i.lShiftTo(c,n)):(r.copyTo(a),i.copyTo(n));var l=a.t,u=a[l-1];if(0!=u){var p=u*(1<<this.F1)+(1<l?a[l-2]>>this.F2:0),d=this.FV/p,m=(1<<this.F1)/p,h=1<<this.F2,f=n.t,b=f-l,_=null==t?y():t;for(a.dlShiftTo(b,_),0<=n.compareTo(_)&&(n[n.t++]=1,n.subTo(_,n)),g.ONE.dlShiftTo(l,_),_.subTo(a,a);a.t<l;)a[a.t++]=0;for(;0<=--b;){var v=n[--f]==u?this.DM:Math.floor(n[f]*d+(n[f-1]+h)*m);if((n[f]+=a.am(0,v,n,b,0,l))<v)for(a.dlShiftTo(b,_),n.subTo(_,n);n[f]<--v;)n.subTo(_,n)}null!=t&&(n.drShiftTo(l,t),o!=s&&g.ZERO.subTo(t,t)),n.t=l,n.clamp(),0<c&&n.rShiftTo(c,n),o<0&&g.ZERO.subTo(n,n)}}},g.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},g.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},g.prototype.exp=function(e,t){if(4294967295<e||e<1)return g.ONE;var n,r=y(),i=y(),a=t.convert(this),o=S(e)-1;for(a.copyTo(r);0<=--o;){t.sqrTo(r,i),0<(e&1<<o)?t.mulTo(i,a,r):(n=r,r=i,i=n)}return t.revert(r)},g.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,a="",o=this.t,s=this.DB-o*this.DB%t;if(0<o--)for(s<this.DB&&0<(n=this[o]>>s)&&(i=!0,a=c(n));0<=o;)s<t?(n=(this[o]&(1<<s)-1)<<t-s,n|=this[--o]>>(s+=this.DB-t)):(n=this[o]>>(s-=t)&r,s<=0&&(s+=this.DB,--o)),0<n&&(i=!0),i&&(a+=c(n));return i?a:"0"},g.prototype.negate=function(){var e=y();return g.ZERO.subTo(this,e),e},g.prototype.abs=function(){return this.s<0?this.negate():this},g.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return t;for(;0<=--n;)if(0!=(t=this[n]-e[n]))return t;return 0},g.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+S(this[this.t-1]^this.s&this.DM)},g.prototype.mod=function(e){var t=y();return this.abs().divRemTo(e,null,t),this.s<0&&0<t.compareTo(g.ZERO)&&e.subTo(t,t),t},g.prototype.modPowInt=function(e,t){var n=new(e<256||t.isEven()?_:v)(t);return this.exp(e,n)},g.ZERO=b(0),g.ONE=b(1),h.prototype.convert=f,h.prototype.revert=f,h.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},h.prototype.sqrTo=function(e,t){e.squareTo(t)},w.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=y();return e.copyTo(t),this.reduce(t),t},w.prototype.revert=function(e){return e},w.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);0<=e.compareTo(this.m);)e.subTo(this.m,e)},w.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},w.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var C=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],O=(1<<26)/C[C.length-1];g.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},g.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||36<e)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=b(n),i=y(),a=y(),o="";for(this.divRemTo(r,i,a);0<i.signum();)o=(n+a.intValue()).toString(e).substr(1)+o,i.divRemTo(r,i,a);return a.intValue().toString(e)+o},g.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,a=0,o=0,s=0;s<e.length;++s){var c=l(e,s);c<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(o=t*o+c,++a>=n&&(this.dMultiply(r),this.dAddOffset(o,0),o=a=0))}0<a&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(o,0)),i&&g.ZERO.subTo(this,this)},g.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(g.ONE.shiftLeft(e-1),p,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(g.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),0<i?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},g.prototype.bitwiseTo=function(e,t,n){for(var r,i=Math.min(e.t,this.t),a=0;a<i;++a)n[a]=t(this[a],e[a]);if(e.t<this.t){for(r=e.s&this.DM,a=i;a<this.t;++a)n[a]=t(this[a],r);n.t=this.t}else{for(r=this.s&this.DM,a=i;a<e.t;++a)n[a]=t(r,e[a]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},g.prototype.changeBit=function(e,t){var n=g.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},g.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,0<r?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},g.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},g.prototype.dAddOffset=function(e,t){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]},g.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;0<i;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},g.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;0<=--r;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},g.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(0<this.t)if(0==t)n=this[0]%e;else for(var r=this.t-1;0<=r;--r)n=(t*n+this[r])%e;return n},g.prototype.millerRabin=function(e){var t=this.subtract(g.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);C.length<(e=e+1>>1)&&(e=C.length);for(var i=y(),a=0;a<e;++a){i.fromInt(C[a]);var o=i.modPow(r,this);if(0!=o.compareTo(g.ONE)&&0!=o.compareTo(t)){for(var s=1;s++<n&&0!=o.compareTo(t);)if(0==(o=o.modPowInt(2,this)).compareTo(g.ONE))return!1;if(0!=o.compareTo(t))return!1}}return!0},g.prototype.clone=function(){var e=y();return this.copyTo(e),e},g.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},g.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},g.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},g.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},g.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(0<e--)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);0<=e;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(0<i||n!=this.s)&&(t[i++]=n);return t},g.prototype.equals=function(e){return 0==this.compareTo(e)},g.prototype.min=function(e){return this.compareTo(e)<0?this:e},g.prototype.max=function(e){return 0<this.compareTo(e)?this:e},g.prototype.and=function(e){var t=y();return this.bitwiseTo(e,u,t),t},g.prototype.or=function(e){var t=y();return this.bitwiseTo(e,p,t),t},g.prototype.xor=function(e){var t=y();return this.bitwiseTo(e,d,t),t},g.prototype.andNot=function(e){var t=y();return this.bitwiseTo(e,m,t),t},g.prototype.not=function(){for(var e=y(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},g.prototype.shiftLeft=function(e){var t=y();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},g.prototype.shiftRight=function(e){var t=y();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},g.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+function(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}(this[e]);return this.s<0?this.t*this.DB:-1},g.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=function(e){for(var t=0;0!=e;)e&=e-1,++t;return t}(this[n]^t);return e},g.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},g.prototype.setBit=function(e){return this.changeBit(e,p)},g.prototype.clearBit=function(e){return this.changeBit(e,m)},g.prototype.flipBit=function(e){return this.changeBit(e,d)},g.prototype.add=function(e){var t=y();return this.addTo(e,t),t},g.prototype.subtract=function(e){var t=y();return this.subTo(e,t),t},g.prototype.multiply=function(e){var t=y();return this.multiplyTo(e,t),t},g.prototype.divide=function(e){var t=y();return this.divRemTo(e,t,null),t},g.prototype.remainder=function(e){var t=y();return this.divRemTo(e,null,t),t},g.prototype.divideAndRemainder=function(e){var t=y(),n=y();return this.divRemTo(e,t,n),new Array(t,n)},g.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),a=b(1);if(i<=0)return a;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=new(i<8?_:t.isEven()?w:v)(t);var o=new Array,s=3,c=n-1,l=(1<<n)-1;if(o[1]=r.convert(this),1<n){var u=y();for(r.sqrTo(o[1],u);s<=l;)o[s]=y(),r.mulTo(u,o[s-2],o[s]),s+=2}for(var p,d,m=e.t-1,h=!0,f=y(),i=S(e[m])-1;0<=m;){for(c<=i?p=e[m]>>i-c&l:(p=(e[m]&(1<<i+1)-1)<<c-i,0<m&&(p|=e[m-1]>>this.DB+i-c)),s=n;0==(1&p);)p>>=1,--s;if((i-=s)<0&&(i+=this.DB,--m),h)o[p].copyTo(a),h=!1;else{for(;1<s;)r.sqrTo(a,f),r.sqrTo(f,a),s-=2;0<s?r.sqrTo(a,f):(d=a,a=f,f=d),r.mulTo(f,o[p],a)}for(;0<=m&&0==(e[m]&1<<i);)r.sqrTo(a,f),d=a,a=f,f=d,--i<0&&(i=this.DB-1,--m)}return r.revert(a)},g.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return g.ZERO;for(var n=e.clone(),r=this.clone(),i=b(1),a=b(0),o=b(0),s=b(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);0<=n.compareTo(r)?(n.subTo(r,n),t&&i.subTo(o,i),a.subTo(s,a)):(r.subTo(n,r),t&&o.subTo(i,o),s.subTo(a,s))}return 0!=r.compareTo(g.ONE)?g.ZERO:0<=s.compareTo(e)?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},g.prototype.pow=function(e){return this.exp(e,new h)},g.prototype.gcd=function(e){var t,n=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();n.compareTo(r)<0&&(t=n,n=r,r=t);var i=n.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return n;for(i<a&&(a=i),0<a&&(n.rShiftTo(a,n),r.rShiftTo(a,r));0<n.signum();)0<(i=n.getLowestSetBit())&&n.rShiftTo(i,n),0<(i=r.getLowestSetBit())&&r.rShiftTo(i,r),0<=n.compareTo(r)?(n.subTo(r,n),n.rShiftTo(1,n)):(r.subTo(n,r),r.rShiftTo(1,r));return 0<a&&r.lShiftTo(a,r),r},g.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=C[C.length-1]){for(t=0;t<C.length;++t)if(n[0]==C[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<C.length;){for(var r=C[t],i=t+1;i<C.length&&r<O;)r*=C[i++];for(r=n.modInt(r);t<i;)if(r%C[t++]==0)return!1}return n.millerRabin(e)};function E(e,t){this.modulus=new B(e,16),this.encryptionExponent=new B(t,16)}var B=g,A={base64:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){if(!e)return!1;for(var t,n,r,i,a,o,s,c="",l=0;i=(t=e.charCodeAt(l++))>>2,a=(3&t)<<4|(n=e.charCodeAt(l++))>>4,o=(15&n)<<2|(r=e.charCodeAt(l++))>>6,s=63&r,isNaN(n)?o=s=64:isNaN(r)&&(s=64),c+=this.base64.charAt(i)+this.base64.charAt(a)+this.base64.charAt(o)+this.base64.charAt(s),l<e.length;);return c},decode:function(e){if(!e)return!1;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,n,r,i,a="",o=0;t=this.base64.indexOf(e.charAt(o++)),n=this.base64.indexOf(e.charAt(o++)),r=this.base64.indexOf(e.charAt(o++)),i=this.base64.indexOf(e.charAt(o++)),a+=String.fromCharCode(t<<2|n>>4),64!=r&&(a+=String.fromCharCode((15&n)<<4|r>>2)),64!=i&&(a+=String.fromCharCode((3&r)<<6|i)),o<e.length;);return a}},I={hex:"0123456789abcdef",encode:function(e){if(!e)return!1;for(var t,n="",r=0;t=e.charCodeAt(r++),n+=this.hex.charAt(t>>4&15)+this.hex.charAt(15&t),r<e.length;);return n},decode:function(e){if(!e)return!1;e=e.replace(/[^0-9abcdef]/g,"");for(var t="",n=0;t+=String.fromCharCode(this.hex.indexOf(e.charAt(n++))<<4&240|15&this.hex.indexOf(e.charAt(n++))),n<e.length;);return t}},j={getPublicKey:function(e,t){return new E(e,t)},encrypt:function(e,t){return!!t&&(!!(e=this.pkcs1pad2(e,t.modulus.bitLength()+7>>3))&&(!!(e=e.modPowInt(t.encryptionExponent,t.modulus))&&(1==(1&(e=e.toString(16)).length)&&(e="0"+e),A.encode(I.decode(e)))))},pkcs1pad2:function(e,t){if(t<e.length+11)return null;for(var n=[],r=e.length-1;0<=r&&0<t;)n[--t]=e.charCodeAt(r--);for(n[--t]=0;2<t;)n[--t]=Math.floor(254*Math.random())+1;return n[--t]=2,n[--t]=0,new B(n)}};t.default=j},rBVT:function(e,t,n){e.exports={Bar:"gamelistdropdown_Bar_1ZS_x",SearchBar:"gamelistdropdown_SearchBar_2WgQE",ViewFiltersBar:"gamelistdropdown_ViewFiltersBar_36r2a",MenuHeader:"gamelistdropdown_MenuHeader_2PF_m",Arrow:"gamelistdropdown_Arrow_15aGn",Filters:"gamelistdropdown_Filters_1PgAo",Disabled:"gamelistdropdown_Disabled_1MAuQ",CheckboxWithImage:"gamelistdropdown_CheckboxWithImage_3mzKd",Active:"gamelistdropdown_Active_1QFFk",HeaderListFadeTop:"gamelistdropdown_HeaderListFadeTop_2ryPg",NameAndCount:"gamelistdropdown_NameAndCount_1Ggb5",ViewName:"gamelistdropdown_ViewName_3kSh7",AppCount:"gamelistdropdown_AppCount_3A3N3",DropDown:"gamelistdropdown_DropDown_EDl_m",Row:"gamelistdropdown_Row_1BAKX",Checkbox:"gamelistdropdown_Checkbox_2_iY4",Rule:"gamelistdropdown_Rule_2kvdT",ScrollToTop:"gamelistdropdown_ScrollToTop_uE7Pj",Visible:"gamelistdropdown_Visible_rkfSf"}},rZBk:function(e,t,n){e.exports={OuterContainer:"collectionview_OuterContainer_2sNr7",ContainerScroll:"collectionview_ContainerScroll_1vHgY",Container:"collectionview_Container_2q70u",Header:"collectionview_Header_2rqTS",CollectionName:"collectionview_CollectionName_2oJt3",SectionCount:"collectionview_SectionCount_3Xgxj",Rule:"collectionview_Rule_1grg9",DynamicCollectionLabelAndButton:"collectionview_DynamicCollectionLabelAndButton_8JUfQ",DynamicCollectionLabel:"collectionview_DynamicCollectionLabel_2cTiG",EditButton:"collectionview_EditButton_12pDi",Close:"collectionview_Close_1t_GA",Title:"collectionview_Title_1QDqP",NamePrompt:"collectionview_NamePrompt_SwTTw",DropOption:"collectionview_DropOption_3Buvs",DropTarget:"collectionview_DropTarget_dTH3e",MissingCollectionMessage:"collectionview_MissingCollectionMessage_3Oo_s",DynamicCollectionSubHeader:"collectionview_DynamicCollectionSubHeader_1sK_7",RightSideButtons:"collectionview_RightSideButtons_3vDj4",FreezeButton:"collectionview_FreezeButton_1qkt4",Pencil:"collectionview_Pencil_2CPHr",CollectionEditor:"collectionview_CollectionEditor_2xpzK"}},rcgg:function(e,t,n){e.exports={NewEmoticonIndicator:"emoticon_NewEmoticonIndicator_3O2gR",NewEmoticonCircle:"emoticon_NewEmoticonCircle_JRMFr",EmoticonSelector:"emoticon_EmoticonSelector_1_1QI",emoticon:"emoticon_emoticon_AB86v",large:"emoticon_large_4xBaT",EmoticonSelector_Emoticons:"emoticon_EmoticonSelector_Emoticons_XWWY6",EmoticonSelector_Separator:"emoticon_EmoticonSelector_Separator_2rvMU",EmoticonSelector_SeparatorBackground:"emoticon_EmoticonSelector_SeparatorBackground_3_kYc",EmoticonSelector_Controls:"emoticon_EmoticonSelector_Controls_2cdkF",EmoticonSelector_Item:"emoticon_EmoticonSelector_Item_2C8r7",EmoticonSelector_Item_New:"emoticon_EmoticonSelector_Item_New_1vWJH",EffectHeading:"emoticon_EffectHeading_2-uNY",StickerHeading:"emoticon_StickerHeading_3-4KS",GetFestive:"emoticon_GetFestive_1tX6q",TopDivider:"emoticon_TopDivider_2A8Fl",BottomDivider:"emoticon_BottomDivider_2IZ1K",StickerButton:"emoticon_StickerButton_3Wc3j",EffectButton:"emoticon_EffectButton_nnnSn",EmoticonHover:"emoticon_EmoticonHover_36iQ4",Info:"emoticon_Info_1EGMu",Name:"emoticon_Name_1Ancw",AppName:"emoticon_AppName_335w0",StickerHoverSticker:"emoticon_StickerHoverSticker_2VN79",EffectHoverEffect:"emoticon_EffectHoverEffect_3ngRv",PickerTab:"emoticon_PickerTab_3JpKJ",Clock:"emoticon_Clock_2osi8",EmoticonItem:"emoticon_EmoticonItem_gZL64"}},rdgp:function(e,t,n){e.exports={EmptyGridMessageContainer:"appgrid_EmptyGridMessageContainer_Vl8Ft",EmptyGridMessageLine:"appgrid_EmptyGridMessageLine_15p_9",GridWithControls:"appgrid_GridWithControls_rz1mr",YourCollection:"appgrid_YourCollection_11p6F",CollectionOptions:"appgrid_CollectionOptions_BpxCz",SortingDropDown:"appgrid_SortingDropDown_1tBzy",SortingDropDownLabel:"appgrid_SortingDropDownLabel_1ljKT",SortingDropDownContainer:"appgrid_SortingDropDownContainer_1ZpBQ",SortingDropDownItems:"appgrid_SortingDropDownItems_1ZtpS",CollectionOptionsRightJustified:"appgrid_CollectionOptionsRightJustified_3t1pL",ShowingReadyToPlay:"appgrid_ShowingReadyToPlay_38IOu",InstalledCheckBox:"appgrid_InstalledCheckBox_3S2E4",CoverSizeSlider:"appgrid_CoverSizeSlider_U4J9B",CoverSizeLabel:"appgrid_CoverSizeLabel_3gYY5",CoverSizePickerContainer:"appgrid_CoverSizePickerContainer_2Uoqg",CoverSizes:"appgrid_CoverSizes_L64GX",CoverSizePicker:"appgrid_CoverSizePicker_3U9BQ",Small:"appgrid_Small_2JAQ7",Medium:"appgrid_Medium_3e5UM",Large:"appgrid_Large_1c3Av",Active:"appgrid_Active_2uzBH",TestAppContainer:"appgrid_TestAppContainer_2Ybdd",TestApp:"appgrid_TestApp_-kKx2",AppGridSectionHeader:"appgrid_AppGridSectionHeader_3bWIS",Rule:"appgrid_Rule_3pJqX",IsSticking:"appgrid_IsSticking_sV6aD",AppGridSectionLabel:"appgrid_AppGridSectionLabel_2hvQb",AppGridSectionFooter:"appgrid_AppGridSectionFooter_2c0Fg",ReadyToPlayBigButton:"appgrid_ReadyToPlayBigButton_3wbWH",CountGamesExcluded:"appgrid_CountGamesExcluded_2R_HL",CountGamesExcludedDesc:"appgrid_CountGamesExcludedDesc_1MGS3",ReadyToPlayIcon:"appgrid_ReadyToPlayIcon_pCHyk"}},sGcG:function(e,t,n){e.exports={ClickableScreenshot:"screenshots_ClickableScreenshot_3JNo1",ClickableScreenshotImg:"screenshots_ClickableScreenshotImg_21yM8",UseWidth:"screenshots_UseWidth_1zPkV",UseHeight:"screenshots_UseHeight_2H_NX",ScreenshotShareIcon:"screenshots_ScreenshotShareIcon_gOv9M",Hover:"screenshots_Hover_2EMM5",Screenshot:"screenshots_Screenshot_2pHz5"}},sGzE:function(e,t,n){e.exports={StatsTitle:"partnereventstats_StatsTitle_3YLaB",StatsCtnTitle:"partnereventstats_StatsCtnTitle_1LlRF",VisibilityNote:"partnereventstats_VisibilityNote_1G-k1",SmallStatsMode:"partnereventstats_SmallStatsMode_2A2-p",StatsCtn:"partnereventstats_StatsCtn_hWCs4",StatsLeftSection:"partnereventstats_StatsLeftSection_3L-uh",StatsRightSection:"partnereventstats_StatsRightSection_1yibD",ModerationWarningCtn:"partnereventstats_ModerationWarningCtn_3Jwi3",ModerationWarning:"partnereventstats_ModerationWarning_1aIU0",ModerationNote:"partnereventstats_ModerationNote_11Z9I",DisabledStats:"partnereventstats_DisabledStats_2Zp-j"}},sOw0:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c});var r=n("lkRc"),i=n("8H1D"),a=n("r64O"),o=0,s=120,c=function(){function e(e){this.m_bInitialized=!1,this.m_unAppID=e}return Object.defineProperty(e.prototype,"appid",{get:function(){return this.m_unAppID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_initialized",{get:function(){return this.m_bInitialized},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is_valid",{get:function(){return this.m_bInitialized&&!!this.m_strName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.m_strName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"header_image_url",{get:function(){return r.c.MEDIA_CDN_URL+("steam/apps/"+this.m_unAppID)+"/header.jpg"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"icon_url",{get:function(){return this.BuildAppURL(this.m_strIconURL,"061818254b2c99ac49e6626adb128ed1282a392f")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logo_url",{get:function(){return this.BuildAppURL(this.m_strLogoURL,"338200c5d6c4d9bdcf6632642a2aeb591fb8a5c2.gif")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time_updated_from_server",{get:function(){return this.m_dtUpdatedFromServer},enumerable:!1,configurable:!0}),e.prototype.BuildAppURL=function(e,t){return e?"https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/apps/"+this.appid+"/"+e+".jpg":Object(i.a)(t)},e.prototype.DeserializeFromMessage=function(e){this.m_bInitialized=!0,this.m_strName=e.name(),this.m_strIconURL=e.icon(),this.m_strLogoURL=e.logo(),this.m_dtUpdatedFromServer=new Date},e.prototype.DeserializeFromAppOverview=function(e){e.logo_hash()&&1073741824!=e.app_type()?(this.m_bInitialized=!0,this.m_strName=e.display_name(),this.m_strIconURL=e.icon_hash(),this.m_strLogoURL=e.logo_hash(),this.m_dtUpdatedFromServer=new Date):this.m_bInitialized=!1},e.prototype.DeserializeFromCacheObject=function(e){try{this.m_strName=e.strName,this.m_strIconURL=e.strIconURL,this.m_strLogoURL=e.strLogoURL,this.m_dtUpdatedFromServer=new Date(e.strUpdatedFromServer),this.m_bInitialized=!0}catch(e){}},e.prototype.SerializeToCacheObject=function(){return Object(a.a)(this.m_bInitialized,"Attempting to serialize an uninitialized AppInfo object for caching!"),this.m_bInitialized?{strName:this.m_strName,strIconURL:this.m_strIconURL,strLogoURL:this.m_strLogoURL,strUpdatedFromServer:this.m_dtUpdatedFromServer.toJSON()}:null},e}()},sRB7:function(e,t,n){"use strict";n.d(t,"e",function(){return u}),n.d(t,"c",function(){return I}),n.d(t,"b",function(){return j}),n.d(t,"f",function(){return D}),n.d(t,"a",function(){return R}),n.d(t,"d",function(){return r});var i=n("mrSG"),a=n("hRO2"),o=n("OS8t"),s=a.Message;var r,c,l=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.type||o.a(r.M()),s.initialize(t,e,0,-1,[3],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{type:{n:1,br:o.d.readString,bw:o.h.writeString},rating:{n:2,br:o.d.readString,bw:o.h.writeString},descriptors:{n:3,r:!0,q:!0,br:o.d.readString,bw:o.h.writeRepeatedString},interactive_elements:{n:4,br:o.d.readString,bw:o.h.writeString},required_age:{n:10,br:o.d.readInt32,bw:o.h.writeInt32},use_age_gate:{n:11,br:o.d.readBool,bw:o.h.writeBool},image_url:{n:20,br:o.d.readString,bw:o.h.writeString},image_target:{n:21,br:o.d.readString,bw:o.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreGameRating"},r}(s),u=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.item_type||o.a(r.M()),s.initialize(t,e,0,-1,[11,12,20,21,25,41,42],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{item_type:{n:1,br:o.d.readEnum,bw:o.h.writeEnum},id:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},success:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},visible:{n:4,br:o.d.readBool,bw:o.h.writeBool},unvailable_for_country_restriction:{n:5,br:o.d.readBool,bw:o.h.writeBool},name:{n:6,br:o.d.readString,bw:o.h.writeString},store_url_path:{n:7,br:o.d.readString,bw:o.h.writeString},appid:{n:9,br:o.d.readUint32,bw:o.h.writeUint32},type:{n:10,br:o.d.readEnum,bw:o.h.writeEnum},included_types:{n:11,r:!0,q:!0,br:o.d.readEnum,bw:o.h.writeRepeatedEnum},included_appids:{n:12,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32},is_free:{n:13,br:o.d.readBool,bw:o.h.writeBool},is_early_access:{n:14,br:o.d.readBool,bw:o.h.writeBool},related_items:{n:15,c:p},content_descriptorids:{n:20,r:!0,q:!0,br:o.d.readEnum,bw:o.h.writeRepeatedEnum},tagids:{n:21,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32},categories:{n:22,c:d},reviews:{n:23,c:m},basic_info:{n:24,c:f},tags:{n:25,c:b,r:!0,q:!0},assets:{n:30,c:_},release:{n:31,c:v},platforms:{n:32,c:g},game_rating:{n:33,c:l},best_purchase_option:{n:40,c:S},purchase_options:{n:41,c:S,r:!0,q:!0},accessories:{n:42,c:S,r:!0,q:!0},screenshots:{n:50,c:C},trailers:{n:51,c:E}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem"},r}(s),p=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.parent_appid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{parent_appid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_RelatedItems"},r}(s),d=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.supported_player_categoryids||o.a(r.M()),s.initialize(t,e,0,-1,[2,3,4],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{supported_player_categoryids:{n:2,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32},feature_categoryids:{n:3,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32},controller_categoryids:{n:4,r:!0,q:!0,br:o.d.readUint32,bw:o.h.writeRepeatedUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Categories"},r}(s),m=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.summary_filtered||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{summary_filtered:{n:1,c:h},summary_unfiltered:{n:2,c:h}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Reviews"},r}(s),h=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.review_count||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{review_count:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},percent_positive:{n:2,br:o.d.readInt32,bw:o.h.writeInt32},review_score:{n:3,br:o.d.readEnum,bw:o.h.writeEnum},review_score_label:{n:4,br:o.d.readString,bw:o.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Reviews_StoreReviewSummary"},r}(s),f=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.short_description||o.a(r.M()),s.initialize(t,e,0,-1,[2,3],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{short_description:{n:1,br:o.d.readString,bw:o.h.writeString},publishers:{n:2,r:!0,q:!0,br:o.d.readString,bw:o.h.writeRepeatedString},developers:{n:3,r:!0,q:!0,br:o.d.readString,bw:o.h.writeRepeatedString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_BasicInfo"},r}(s),b=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.tagid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{tagid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},weight:{n:2,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Tag"},r}(s),_=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.asset_url_format||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{asset_url_format:{n:1,br:o.d.readString,bw:o.h.writeString},main_capsule:{n:2,br:o.d.readString,bw:o.h.writeString},small_capsule:{n:3,br:o.d.readString,bw:o.h.writeString},header:{n:4,br:o.d.readString,bw:o.h.writeString},package_header:{n:5,br:o.d.readString,bw:o.h.writeString},page_background:{n:6,br:o.d.readString,bw:o.h.writeString},hero_capsule:{n:7,br:o.d.readString,bw:o.h.writeString},hero_capsule_2x:{n:8,br:o.d.readString,bw:o.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Assets"},r}(s),v=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.steam_release_date||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{steam_release_date:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},original_release_date:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},original_steam_release_date:{n:3,br:o.d.readUint32,bw:o.h.writeUint32},is_coming_soon:{n:4,br:o.d.readBool,bw:o.h.writeBool},is_preload:{n:5,br:o.d.readBool,bw:o.h.writeBool},custom_release_date_message:{n:6,br:o.d.readString,bw:o.h.writeString},is_abridged_release_date:{n:7,br:o.d.readBool,bw:o.h.writeBool},is_early_access:{n:10,br:o.d.readBool,bw:o.h.writeBool},mac_release_date:{n:20,br:o.d.readUint32,bw:o.h.writeUint32},linux_release_date:{n:21,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_ReleaseInfo"},r}(s),g=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.windows||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{windows:{n:1,br:o.d.readBool,bw:o.h.writeBool},mac:{n:2,br:o.d.readBool,bw:o.h.writeBool},linux:{n:3,br:o.d.readBool,bw:o.h.writeBool},vr_support:{n:10,c:y}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Platforms"},r}(s),y=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.vrhmd||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{vrhmd:{n:1,br:o.d.readBool,bw:o.h.writeBool},vrhmd_only:{n:2,br:o.d.readBool,bw:o.h.writeBool},htc_vive:{n:40,br:o.d.readBool,bw:o.h.writeBool},oculus_rift:{n:41,br:o.d.readBool,bw:o.h.writeBool},windows_mr:{n:42,br:o.d.readBool,bw:o.h.writeBool},valve_index:{n:43,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Platforms_VRSupport"},r}(s),S=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.packageid||o.a(r.M()),s.initialize(t,e,0,-1,[20,21,22],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{packageid:{n:1,br:o.d.readInt32,bw:o.h.writeInt32},bundleid:{n:2,br:o.d.readInt32,bw:o.h.writeInt32},purchase_option_name:{n:3,br:o.d.readString,bw:o.h.writeString},final_price_in_cents:{n:5,br:o.d.readInt64String,bw:o.h.writeInt64String},original_price_in_cents:{n:6,br:o.d.readInt64String,bw:o.h.writeInt64String},user_final_price_in_cents:{n:7,br:o.d.readInt64String,bw:o.h.writeInt64String},discount_pct:{n:10,br:o.d.readInt32,bw:o.h.writeInt32},user_discount_pct:{n:11,br:o.d.readInt32,bw:o.h.writeInt32},bundle_discount_pct:{n:12,br:o.d.readInt32,bw:o.h.writeInt32},active_discounts:{n:20,c:w,r:!0,q:!0},user_active_discounts:{n:21,c:w,r:!0,q:!0},inactive_discounts:{n:22,c:w,r:!0,q:!0},user_can_purchase:{n:30,br:o.d.readBool,bw:o.h.writeBool},user_can_purchase_as_gift:{n:31,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_PurchaseOption"},r}(s),w=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.discount_amount||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{discount_amount:{n:1,br:o.d.readInt64String,bw:o.h.writeInt64String},discount_description:{n:2,br:o.d.readString,bw:o.h.writeString},discount_end_date:{n:3,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_PurchaseOption_Discount"},r}(s),C=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.all_ages_screenshots||o.a(r.M()),s.initialize(t,e,0,-1,[2,3],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{all_ages_screenshots:{n:2,c:O,r:!0,q:!0},mature_content_screenshots:{n:3,c:O,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Screenshots"},r}(s),O=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.filename||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{filename:{n:1,br:o.d.readString,bw:o.h.writeString},ordinal:{n:2,br:o.d.readInt32,bw:o.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Screenshots_Screenshot"},r}(s),E=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.highlights||o.a(r.M()),s.initialize(t,e,0,-1,[1,2],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{highlights:{n:1,c:A,r:!0,q:!0},other_trailers:{n:2,c:A,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Trailers"},r}(s),B=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.filename||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{filename:{n:1,br:o.d.readString,bw:o.h.writeString},type:{n:2,br:o.d.readString,bw:o.h.writeString}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Trailers_VideoSource"},r}(s),A=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.trailer_name||o.a(r.M()),s.initialize(t,e,0,-1,[3,4,5],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{trailer_name:{n:1,br:o.d.readString,bw:o.h.writeString},trailer_url_format:{n:2,br:o.d.readString,bw:o.h.writeString},trailer_480p:{n:3,c:B,r:!0,q:!0},trailer_max:{n:4,c:B,r:!0,q:!0},microtrailer:{n:5,c:B,r:!0,q:!0},screenshot_medium:{n:10,br:o.d.readString,bw:o.h.writeString},screenshot_full:{n:11,br:o.d.readString,bw:o.h.writeString},trailer_base_id:{n:12,br:o.d.readInt32,bw:o.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItem_Trailers_Trailer"},r}(s),I=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.include_assets||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{include_assets:{n:1,d:!0,br:o.d.readBool,bw:o.h.writeBool},include_release:{n:2,d:!0,br:o.d.readBool,bw:o.h.writeBool},include_platforms:{n:3,d:!0,br:o.d.readBool,bw:o.h.writeBool},include_all_purchase_options:{n:4,br:o.d.readBool,bw:o.h.writeBool},include_screenshots:{n:5,br:o.d.readBool,bw:o.h.writeBool},include_trailers:{n:6,br:o.d.readBool,bw:o.h.writeBool},include_ratings:{n:7,br:o.d.readBool,bw:o.h.writeBool},include_tag_count:{n:8,d:0,br:o.d.readInt32,bw:o.h.writeInt32},include_reviews:{n:9,d:!0,br:o.d.readBool,bw:o.h.writeBool},include_basic_info:{n:10,d:!0,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreBrowseItemDataRequest"},r}(s),j=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.language||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{language:{n:1,br:o.d.readString,bw:o.h.writeString},elanguage:{n:2,br:o.d.readInt32,bw:o.h.writeInt32},country_code:{n:3,br:o.d.readString,bw:o.h.writeString},steam_realm:{n:4,br:o.d.readInt32,bw:o.h.writeInt32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreBrowseContext"},r}(s),D=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.appid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{appid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},packageid:{n:2,br:o.d.readUint32,bw:o.h.writeUint32},bundleid:{n:3,br:o.d.readUint32,bw:o.h.writeUint32}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"StoreItemID"},r}(s),R=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.ids||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{ids:{n:1,c:D,r:!0,q:!0},context:{n:2,c:j},data_request:{n:3,c:I}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStoreBrowse_GetItems_Request"},r}(s),T=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.store_items||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{store_items:{n:1,c:u,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStoreBrowse_GetItems_Response"},r}(s),M=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.categories||o.a(r.M()),s.initialize(t,e,0,-1,[1],null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{categories:{n:1,c:N,r:!0,q:!0}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStoreBrowse_GetStoreCategories_Response"},r}(s),N=function(n){function r(e){void 0===e&&(e=null);var t=n.call(this)||this;return r.prototype.categoryid||o.a(r.M()),s.initialize(t,e,0,-1,void 0,null),t}return Object(i.d)(r,n),r.M=function(){return r.sm_m||(r.sm_m={proto:r,fields:{categoryid:{n:1,br:o.d.readUint32,bw:o.h.writeUint32},type:{n:2,br:o.d.readEnum,bw:o.h.writeEnum},internal_name:{n:3,br:o.d.readString,bw:o.h.writeString},display_name:{n:4,br:o.d.readString,bw:o.h.writeString},image_url:{n:5,br:o.d.readString,bw:o.h.writeString},show_in_search:{n:6,br:o.d.readBool,bw:o.h.writeBool}}}),r.sm_m},r.MBF=function(){return r.sm_mbf||(r.sm_mbf=o.e(r.M())),r.sm_mbf},r.prototype.toObject=function(e){return void 0===e&&(e=!1),r.toObject(e,this)},r.toObject=function(e,t){return o.g(r.M(),e,t)},r.fromObject=function(e){return o.c(r.M(),e)},r.deserializeBinary=function(e){var t=new a.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)},r.deserializeBinaryFromReader=function(e,t){return o.b(r.MBF(),e,t)},r.prototype.serializeBinary=function(){var e=new a.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()},r.serializeBinaryToWriter=function(e,t){o.f(r.M(),e,t)},r.prototype.getClassName=function(){return"CStoreBrowse_GetStoreCategories_Response_Category"},r}(s);(c=r=r||{}).GetItems=function(e,t){return e.SendMsg("StoreBrowse.GetItems#1",t,T,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},c.GetStoreCategories=function(e,t){return e.SendMsg("StoreBrowse.GetStoreCategories#1",t,M,{bConstMethod:!0,ePrivilege:0,eWebAPIKeyRequirement:1})}},sUmc:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c});var r=n("i8i4"),i=n("X3Ds"),a=function(){return function(e){this.instance=new s(e,!1)}}();function o(e){return new s(e.body,!0)}var s=function(){function e(e,t){void 0===t&&(t=!0),this.m_parent=e,this.m_window=e.ownerDocument.defaultView,this.m_bRemoveOnHide=t}return e.prototype.Show=function(n,r){var i=this;return this.CancelShowInterval(),r?new Promise(function(t,e){i.iIntervalShow=i.m_window.setTimeout(function(){var e=i.m_parent.ownerDocument;e.defaultView&&!e.defaultView.closed&&(i.InternalShow(n),t())},r)}):(this.InternalShow(n),Promise.resolve())},e.prototype.InternalShow=function(e){this.m_container||(this.m_container=this.m_parent.ownerDocument.createElement("div"),this.m_parent.appendChild(this.m_container)),r.render(e,this.m_container)},e.prototype.Hide=function(e){var t=this;this.CancelShowInterval(),e?this.iIntervalShow=this.m_window.setTimeout(function(){t.InternalHide()},e):this.InternalHide()},e.prototype.InternalHide=function(){this.m_container&&(r.unmountComponentAtNode(this.m_container),this.m_bRemoveOnHide&&(this.m_parent.removeChild(this.m_container),this.m_container=null))},e.prototype.CancelShowInterval=function(){void 0!==this.iIntervalShow&&(this.m_window.clearInterval(this.iIntervalShow),this.iIntervalShow=void 0)},e.prototype.BIsChildElement=function(e){return this.m_container&&i.c(this.m_container,e)},e}(),c=function(){function e(e){this.m_mapEmbeddedHovers=new WeakMap,this.m_strUniqueID=e}return e.prototype.ShowElementDelayed=function(e,t,n,r){var i=this.GetEmbeddedElement(e);return i.activeObject=r,i.instance.Show(n,t)},e.prototype.ShowElement=function(e,t,n){var r=this.GetEmbeddedElement(e);r.activeObject=n,r.instance.Show(t)},e.prototype.HideElement=function(e,t,n){var r=this.GetEmbeddedElement(e);r.activeObject==t&&(r.activeObject=void 0,r.instance.Hide(n))},e.prototype.GetEmbeddedElement=function(e){var t=this.m_mapEmbeddedHovers.get(e);return t||(t=new a(e.body),this.m_mapEmbeddedHovers.set(e,t)),t},e}()},sVXC:function(e,t,n){e.exports={ReferencedApps:"partnereventreferencedapps_ReferencedApps_1bfua"}},smcO:function(e,t,n){e.exports={Container:"collapseicon_Container_3SFRZ",CollapseIconParent:"collapseicon_CollapseIconParent_ehAsU",Collapsed:"collapseicon_Collapsed_2hFLg"}},"tY/n":function(e,t,n){e.exports={PageableContainer:"pageablecontainer_PageableContainer_15R3T",HeaderPageControls:"pageablecontainer_HeaderPageControls_2ce8e",Name:"pageablecontainer_Name_EckfX",Clickable:"pageablecontainer_Clickable_1K4lW",Rule:"pageablecontainer_Rule_3kmsu",PageClickContainer:"pageablecontainer_PageClickContainer_3E421",PageLeft:"pageablecontainer_PageLeft_1L7no",PageRight:"pageablecontainer_PageRight_1qFMs",Disabled:"pageablecontainer_Disabled_mYaXn",PageableCloseButton:"pageablecontainer_PageableCloseButton_Y6Tq4",PageButtonsVisible:"pageablecontainer_PageButtonsVisible_1Lqnp"}},tjKp:function(e,t){e.exports="/images/defaultappimage.png"},tqBI:function(e,t,n){e.exports={SectionHeader:"appdetailssectionheader_SectionHeader_1Q2q_",ShowBoxed:"appdetailssectionheader_ShowBoxed_3fXSH",Label:"appdetailssectionheader_Label_1SQ30",Arrow:"appdetailssectionheader_Arrow_1ARfZ"}},trWU:function(e,t,n){"use strict";var i=n("mrSG"),r=n("2vnA"),a=n("TyAF"),w=n("q1tI"),o=n("TtDX"),s=n("5eAM"),C=n("boaH"),m=n("NgKn"),h=n("y+6m"),c=n("c7cM"),l=n("5L1o"),u=n("XOvi"),O=n("6Y59"),p=n("qiKp"),d=n("X3Ds"),E=n("TLQK"),B=n("YyVH"),f=n("bxiW"),b=n("lkRc"),_=n("exH9"),v=(n("iL1l"),n("Wjsq")),A=n("qhbg"),g=n("q+NH"),y=n.n(g),S=n("0OaU");function I(){return w.createElement("div",{className:"STV_ReplayBanner"},Object(E.f)("#DASHPlayerControls_IsReplay"))}function j(e){return w.createElement("div",{className:"timelineMarker",title:e.label,style:{left:e.pos+"%"},onMouseEnter:function(){return e.onMouseEnter(e.pos)},onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown?e.onMouseDown:void 0},w.createElement("div",{className:"timelineMarkerIcon"},w.createElement(O.kb,null)))}var D=Object(a.observer)(function(e){var t=e.video;if(t&&(t.IsBroadcastClip()||t.IsBroadcastVOD()))return null;var n,r=C.b.Loading,i="";if(t&&(r=t.GetBroadcastState(),i=t.GetBroadcastStateDescription(),n=t.IsBuffering(),r==C.b.Ready&&n&&(r=C.b.Loading,i="")),t&&r!=C.b.Error&&t.GetUserInputNeeded())return null;if(r==C.b.Ready)return null;var a=r==C.b.Loading;return w.createElement("div",{className:"BroadcastVideoWatchState",style:{filter:"hue-rotate(40deg)"}},a&&w.createElement(S.a,null),!a&&w.createElement("div",{className:"BroadcastVideoWatchState_Text"},i))}),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.OnClick=function(){C.a.UserInputClickVideo(this.props.video)},t.prototype.render=function(){return w.createElement("div",{className:"BroadcastVideoUserInputNeeded",onClick:this.OnClick},w.createElement(O.ab,null),w.createElement("span",null,Object(E.f)("#DASHPlayerControls_ClickToPlay")))},Object(i.c)([f.a],t.prototype,"OnClick",null),t}(w.Component),T=function(t){function e(e){return t.call(this,e)||this}return Object(i.d)(e,t),e.prototype.HideStats=function(){this.props.closeStats&&this.props.closeStats()},e.prototype.render=function(){var e=this.props.stats;return w.createElement("div",{className:"dash_video_stats"},w.createElement("button",{className:"dash_stat_close_button",onClick:this.HideStats},w.createElement(O.Jb,null)),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_BufferingResolution")," ",w.createElement("span",{className:"videoStatsValue"},e.GetBufferingResolutionToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_PlaybackResolution")," ",w.createElement("span",{className:"videoStatsValue"},e.GetPlaybackResolutionToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_HtmlResolution")," ",w.createElement("span",{className:"videoStatsValue"},e.GetHTMLVideoResolutionToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_ContentServer")," ",w.createElement("span",{className:"videoStatsValue"},e.GetContentServerToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_StallEvents")," ",w.createElement("span",{className:"videoStatsValue"},e.GetStalledEventsToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_FailedDownloads")," ",w.createElement("span",{className:"videoStatsValue"},e.GetFailedDownloadsToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_TimeToFirstFrame")," ",w.createElement("span",{className:"videoStatsValue"},e.GetTimeToFirstFrameToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_PlaybackRate")," ",w.createElement("span",{className:"videoStatsValue"},e.GetPlaybackRateForDisplay())),w.createElement(M,{stats:e}))},Object(i.c)([f.a],e.prototype,"HideStats",null),Object(i.c)([a.observer],e)}(w.Component),M=function(t){function e(e){return t.call(this,e)||this}return Object(i.d)(e,t),e.prototype.createBufferedRange=function(e){var t=this.props.stats,n=[],r=e?"vidbuf":"audbuf",i=e?t.GetNumBufferedVideoRanges():t.GetNumBufferedAudioRanges();if(0<i)for(var a=0;a<i;++a){var o=Object(E.f)(e?"#DASHPlayerStats_VideoBufferRange":"#DASHPlayerStats_AudioBufferRange",a),s=e?t.GetBufferedVideoSegmentForDisplay(a):t.GetBufferedAudioSegmentForDisplay(a);n.push(w.createElement("div",{key:r+a},o," ",w.createElement("span",{className:"videoStatsValue"},s)))}else{o=Object(E.f)(e?"#DASHPlayerStats_VideoNoRangeInformation":"#DASHPlayerStats_AudioNoRangeInformation");n.push(w.createElement("div",{key:r+"none"},o))}return n},e.prototype.render=function(){var e=this.props.stats;return w.createElement("div",{className:"dash_video_quick_stats"},w.createElement("div",null,Object(E.f)("#DASHPlayerStats_BytesReceived")," ",w.createElement("span",{className:"videoStatsValue"},e.GetBytesReceivedToDisplay())),this.props.stats.BHasFrameInformation()&&w.createElement("div",null,Object(E.f)("#DASHPlayerStats_DroppedFrames")," ",w.createElement("span",{className:"videoStatsValue"},e.GetDroppedFramesToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_VideoBuffered")," ",w.createElement("span",{className:"videoStatsValue"},e.GetVideoBufferedToDisplay()," ")),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_AudioBuffered")," ",w.createElement("span",{className:"videoStatsValue"},e.GetAudioBufferedToDisplay()," ")),this.createBufferedRange(!0),this.createBufferedRange(!1),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_BandwidthRequired")," ",w.createElement("span",{className:"videoStatsValue"},e.GetBandwidthRequiredToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_BandwidthVideo")," ",w.createElement("span",{className:"videoStatsValue"},e.GetBandwithVideoToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_BandwidthNums")," ",w.createElement("span",{className:"videoStatsValue"},e.GetBandwidthStatsToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_DownloadNums")," ",w.createElement("span",{className:"videoStatsValue"},e.GetDownloadTimeStatsToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_ActiveDownloads")," ",w.createElement("span",{className:"videoStatsValue"},e.GetActiveDownloadsToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_VideoDownloadProgress")," ",w.createElement("span",{className:"videoStatsValue"},e.GetVideoDownloadProgressToDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_DroppingFrames")," ",w.createElement("span",{className:"videoStatsValue"},e.GetPersistentFrameDropsForDisplay())),w.createElement("div",null,Object(E.f)("#DASHPlayerStats_CurrentFPS")," ",w.createElement("span",{className:"videoStatsValue"},e.GetCurrentFPSForDisplay())))},Object(i.c)([a.observer],e)}(w.Component),N=n("+d9t"),L=n("zvcZ"),k=n("VQ2A"),F=function(n){function e(e){var t=n.call(this,e)||this;return t.m_schHideControls=new p.b,t.m_schUnmountControls=new p.b,t.m_elBroadcastPlayer=null,t.m_bMouseDown=!1,t.m_elMouseDown=null,t.m_listeners=new p.c,t.state={bMountControls:!1,bControlsVisible:!1,bShowStats:!1,video:null,nResizedHeight:null,bFullscreen:!1},t}return Object(i.d)(e,n),e.prototype.StopVideo=function(){var e=this.state.video;e&&(C.a.StopVideo(e),this.setState({video:null}))},e.prototype.IsMuted=function(){var e=this.state.video;return!e||e.IsMuted()},e.prototype.StopPlaybackTillUserInput=function(){var e=this.state.video;e&&e.StopPlaybackTillUserInput()},e.prototype.componentDidUpdate=function(e,t){var n=this;!t.bMountControls&&this.state.bMountControls?setTimeout(function(){n.setState(function(e){return{bControlsVisible:e.bMountControls}})},15):t.bControlsVisible&&!this.state.bControlsVisible&&this.state.video&&!this.state.video.IsPaused()&&this.m_schUnmountControls.Schedule(2e3,this.UmountControls),this.props.steamIDBroadcast!==e.steamIDBroadcast&&this.BindVideoRef(this.m_elVideo),!this.props.nAppIDVOD||void 0!==t.strInitialCapsuleImageUrl&&e.nAppIDVOD==this.props.nAppIDVOD||s.a.LoadAppLinkInfo([this.props.nAppIDVOD]).then(function(){var e=s.a.GetAppLinkInfo(n.props.nAppIDVOD),t=(null==e?void 0:e.main_capsule)||"";n.setState({strInitialCapsuleImageUrl:t})})},e.prototype.componentWillUnmount=function(){this.m_listeners.Unregister(),this.m_schHideControls.Cancel(),this.m_schUnmountControls.Cancel(),this.StopVideo()},e.prototype.BindBroadcastPlayerRef=function(e){this.m_listeners.Unregister(),(this.m_elBroadcastPlayer=e)&&(this.m_listeners.AddEventListener(e,"fullscreenchange",this.OnFullscreenChange),this.m_listeners.AddEventListener(e,"mozfullscreenchange",this.OnFullscreenChange),this.m_listeners.AddEventListener(e,"webkitfullscreenchange",this.OnFullscreenChange),this.m_listeners.AddEventListener(e,"msfullscreenchange",this.OnFullscreenChange))},e.prototype.BindVideoRef=function(e){var t=void 0;this.StopVideo(),this.props.steamIDBroadcast?e&&(t=C.a.CreateBroadcastVideo(e,this.props.steamIDBroadcast,this.props.watchLocation,this.props.bWebRTC)):this.props.broadcastClipID?e&&(t=C.a.CreateClipVideo(e,this.props.broadcastClipID,this.props.watchLocation)):this.props.nAppIDVOD&&e&&(t=C.a.CreateVODVideo(e,this.props.nAppIDVOD,this.props.watchLocation)),t&&(this.props.bStartMuted&&t.SetMute(!0),this.props.bStartPaused?t.StopPlaybackTillUserInput():t.Play()),this.setState({video:t}),this.m_elVideo=e},e.prototype.OnMouseDown=function(e){this.m_bMouseDown=!0,this.m_elMouseDown=e.currentTarget,this.m_elMouseDown.ownerDocument.defaultView.addEventListener("mouseup",this.OnMouseUp)},e.prototype.OnMouseUp=function(e){this.m_bMouseDown=!1,this.m_elMouseDown.ownerDocument.defaultView.removeEventListener("mouseup",this.OnMouseUp),this.m_schHideControls.Schedule(3200,this.HideControls)},e.prototype.OnMouseMove=function(e){this.m_schHideControls.Cancel(),this.m_schUnmountControls.Cancel(),this.state.bMountControls?this.state.bControlsVisible||this.setState({bControlsVisible:!0}):this.setState({bMountControls:!0}),this.m_schHideControls.Schedule(3200,this.HideControls)},e.prototype.OnMouseLeave=function(e){this.HideControls()},e.prototype.HideControls=function(){this.state.bControlsVisible&&!this.m_bMouseDown&&this.setState({bControlsVisible:!1})},e.prototype.UmountControls=function(){this.setState(function(e){if(!e.bControlsVisible&&e.bMountControls)return{bMountControls:!1}})},e.prototype.ShowStatsView=function(){var e=this.state.video;e&&(this.state.bShowStats||(this.setState({bShowStats:!0}),e.SetStatsViewIsVisible(!0)))},e.prototype.OnContextMenu=function(e){this.state.bFullscreen||(Object(o.a)(w.createElement(h.c,null,this.GetContextMenuItems()),e),e.preventDefault())},e.prototype.ToggleStatsView=function(e){var t=!this.state.bShowStats;this.setState({bShowStats:t});var n=this.state.video;n&&n.SetStatsViewIsVisible(t)},e.prototype.ShowStorePage=function(e){var t,n,r=this.state.video;r&&this.props.onOpenLinkInNewWindow&&((t=r.GetBroadcastInfo())&&(n=Object(k.a)(b.c.STORE_BASE_URL+"app/"+t.m_strAppId),this.props.onOpenLinkInNewWindow(e,n),e.stopPropagation()))},e.prototype.GetContextMenuItems=function(){var t=this,e=[],n=this.state.video;if(!n)return e;var r=n.GetBroadcastInfo();return e.push(w.createElement(h.b,{key:"togglestats",bChecked:this.state.bShowStats,onSelected:function(e){t.ToggleStatsView(e)}},Object(E.f)("#Broadcast_VideoContext_ToggleStats"))),r&&"0"!=r.m_strAppId&&Number.parseInt(r.m_strAppId)!=C.d&&e.push(w.createElement(h.d,{key:"visitstore",onSelected:function(e){t.ShowStorePage(e)}},Object(E.f)("#Broadcast_VideoContext_OpenStore"))),e},e.prototype.CloseStats=function(){var e=this.state.video;e&&this.state.bShowStats&&(this.setState({bShowStats:!1}),e.SetStatsViewIsVisible(!1))},e.prototype.OnToggleFullscreen=function(){this.m_elBroadcastPlayer&&(Object(d.a)(this.m_elBroadcastPlayer)?Object(d.e)(this.m_elBroadcastPlayer):Object(d.o)(this.m_elBroadcastPlayer,this.m_elVideo))},e.prototype.OnFullscreenChange=function(e){var t;this.m_elBroadcastPlayer&&(t=Object(d.a)(this.m_elBroadcastPlayer),this.setState({bFullscreen:t}))},e.prototype.BHideVideoControls=function(){var e=this.state.video;return!e||(!!e.GetUserInputNeeded()||C.a.GetBroadcastState(e)==C.b.Error)},e.prototype.render=function(){var e=this.state.video,t=e&&e.IsPaused(),n=e&&e.BHasDASHStats()&&this.state.bShowStats,r=Boolean(e&&e.IsReplay()),i=this.state.bMountControls,a=this.state.bControlsVisible||t,o=e&&e.GetUserInputNeeded(),s=(null==e?void 0:e.IsBroadcastVOD())&&o&&this.state.strInitialCapsuleImageUrl,c="videoContainer";a||(c+=" HidePlayerControls"),t&&(c+=" VideoPaused"),this.state.bFullscreen&&(c+=" fullscreenVideo"),this.props.classes&&(c+=" "+this.props.classes);var l=[];!this.state.bFullscreen&&this.props.actions&&(l=l.concat(this.props.actions)),!this.state.bFullscreen&&this.props.onTheaterMode&&l.push(w.createElement("div",{key:"ChatPosToggle ChatTheaterToggle",onClick:this.props.onTheaterMode,title:Object(E.f)("#Broadcast_View_Theater"),className:"BroadcastTheaterToggle"})),l.push(w.createElement("div",{key:"FullscreenToggle",title:Object(E.f)("#Broadcast_View_Fullscreen"),onClick:this.OnToggleFullscreen,className:"BroadcastFullscreenToggle"}));var u=i&&!this.BHideVideoControls(),p=i&&!this.state.bFullscreen,d=this.props.fnRenderBroadcastContext&&this.props.fnRenderBroadcastContext();return w.createElement("div",{ref:this.BindBroadcastPlayerRef,className:c,onMouseMove:this.OnMouseMove,onClick:this.OnMouseMove,onMouseLeave:this.OnMouseLeave,onContextMenu:this.OnContextMenu,onMouseDown:this.OnMouseDown},d&&w.createElement("div",{className:y.a.BroadcastContext},d),r&&w.createElement(I,null),this.props.showVideoBackgroundBlur&&w.createElement(m.a,{className:"videoBlur",elementRef:this.m_elVideo,updateRate:33,width:320,height:180,reductionFactor:10,blurAmount:5}),w.createElement("video",{className:"videoSrc",ref:this.BindVideoRef,muted:!0,autoPlay:!0,playsInline:!0,controls:!1}),this.props.linkRegions?w.createElement(X,{linkRegions:this.props.linkRegions,editMode:this.props.editMode,onSaveLinkRegions:this.props.onSaveLinkRegions}):null,this.props.linkElement,s&&w.createElement("img",{loading:"lazy",className:Object(_.a)(y.a.BroadcastPlaceholderImg,"BroadcastPlaceholderImg"),src:this.state.strInitialCapsuleImageUrl}),u&&w.createElement(P,{video:e,actions:l,onOpenLinkInNewWindow:this.props.onOpenLinkInNewWindow,onShowStats:this.ToggleStatsView,bIncludeClipEditor:this.props.bIncludeClipEditor}),p&&w.createElement(G,{onClick:this.props.onRequestClose}),n&&w.createElement(T,{stats:e.GetDASHPlayerStats(),closeStats:this.CloseStats}),w.createElement(D,{video:e}),o&&w.createElement(R,{video:e}))},Object(i.c)([f.a],e.prototype,"BindBroadcastPlayerRef",null),Object(i.c)([f.a],e.prototype,"BindVideoRef",null),Object(i.c)([f.a],e.prototype,"OnMouseDown",null),Object(i.c)([f.a],e.prototype,"OnMouseUp",null),Object(i.c)([f.a],e.prototype,"OnMouseMove",null),Object(i.c)([f.a],e.prototype,"OnMouseLeave",null),Object(i.c)([f.a],e.prototype,"HideControls",null),Object(i.c)([f.a],e.prototype,"UmountControls",null),Object(i.c)([f.a],e.prototype,"ShowStatsView",null),Object(i.c)([f.a],e.prototype,"OnContextMenu",null),Object(i.c)([f.a],e.prototype,"ToggleStatsView",null),Object(i.c)([f.a],e.prototype,"ShowStorePage",null),Object(i.c)([f.a],e.prototype,"CloseStats",null),Object(i.c)([f.a],e.prototype,"OnToggleFullscreen",null),Object(i.c)([f.a],e.prototype,"OnFullscreenChange",null),Object(i.c)([a.observer],e)}(w.Component),P=(t.a=F,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.render=function(){var e=this.props.video;if(!e)return null;var t=e.has_segments;return w.createElement("div",{className:"videoControls"},w.createElement(K,{steamID:this.props.video.GetBroadcastSteamID(),bHideThumbnail:!0,bVerticalBroadcastChat:!0,onOpenLinkInNewWindow:this.props.onOpenLinkInNewWindow}),w.createElement("div",{className:"videoControlsBottom"+(t?"":" noSegments")},w.createElement(Z,{video:e,bIncludeClipEditor:this.props.bIncludeClipEditor}),w.createElement("div",{className:"STV_BroadcastController"},w.createElement("div",{className:"videoControlsButtons LeftSpacer"}),w.createElement(U,{video:e}),w.createElement(x,{video:e}),w.createElement(V,{video:e,actions:this.props.actions,onShowStats:this.props.onShowStats}))))},Object(i.c)([a.observer],t)}(w.Component)),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.render=function(){return this.props.onClick?w.createElement("div",{className:"STV_BroadcastClose",onClick:this.props.onClick},w.createElement(O.Jb,null)):null},t}(w.PureComponent),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.OnJumpBackward=function(){this.props.video.JumpTime(-15)},t.prototype.OnJumpForward=function(){this.props.video.JumpTime(15)},t.prototype.render=function(){var e=this.props.video,t=e.CanSeek();return w.createElement("div",{className:"videoControlsButtons PlayControls"},w.createElement(H,{video:e}),t&&w.createElement("div",{className:"videoControlButton videoControlJump controlFlip",onClick:this.OnJumpBackward},w.createElement(O.T,{bHidePostArrow:!0,bHidePreArrow:!0,bShowJumpAheadBox:!0,bFlipHorizontal:!0}),w.createElement("div",{className:"jumpAheadValue"},15)),w.createElement(z,{video:e}),t&&w.createElement("div",{className:"videoControlButton videoControlJump",onClick:this.OnJumpForward},w.createElement(O.T,{bHidePostArrow:!0,bHidePreArrow:!0,bShowJumpAheadBox:!0,bFlipHorizontal:!1}),w.createElement("div",{className:"jumpAheadValue"},15)),t&&w.createElement(W,{video:e}))},Object(i.c)([f.a],t.prototype,"OnJumpBackward",null),Object(i.c)([f.a],t.prototype,"OnJumpForward",null),t}(w.Component),x=Object(a.observer)(function(t){if(t.video.IsBroadcastClip()||t.video.IsBroadcastVOD())return null;var e=t.video.IsOnLiveEdge();return w.createElement("div",{className:"videoControlsButtons GoLive"},w.createElement("div",{className:"videoControlButton videoControlGoLive"+(e?" isLiveEdge":""),onClick:e?null:function(e){t.video.JumpToLiveEdge()}},w.createElement(O.T,{bHidePreArrow:!0,bHidePostArrow:!0,bFlipHorizontal:!1}),w.createElement("div",{className:"jumpGoLive"},Object(E.f)(e?"#DASHPlayerControls_IsLive":"#DASHPlayerControls_GoLive"))))}),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.OnTogglePlayPause=function(){this.props.video.TogglePlayPause()},t.prototype.render=function(){var e=this.props.video.IsPaused();return w.createElement("div",{className:"videoControlButton buttonPlayPause",onClick:this.OnTogglePlayPause},e?w.createElement(O.ab,null):w.createElement(O.Z,null))},Object(i.c)([f.a],t.prototype,"OnTogglePlayPause",null),Object(i.c)([a.observer],t)}(w.Component),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),Object.defineProperty(t.prototype,"has_previous_marker",{get:function(){return void 0!==this.GetPreviousMarkerTime()},enumerable:!1,configurable:!0}),t.prototype.GetPreviousMarkerTime=function(){if(this.props.video.has_markers)for(var e=this.props.video.GetTimelineMarkers(),t=this.props.video.GetPlaybackTime(),n=e.length-1;0<=n;n--)if(!(e[n].nTime>=t))return e[n].nTime},t.prototype.OnJumpToPreviousMarkerClicked=function(e){var t=this.GetPreviousMarkerTime();void 0!==t&&this.props.video.Seek(t-.2)},t.prototype.render=function(){var e=this.props.video.BHasMarkersOrSegments();return w.createElement("div",{className:"videoControlButton jumpToMarker controlFlip"+(e?"":" noMarkersOrSegments")+(this.has_previous_marker?"":" noMarkersInDirection"),onClick:this.OnJumpToPreviousMarkerClicked},w.createElement(O.T,{bHidePostArrow:!0,bFlipHorizontal:!0}))},Object(i.c)([r.computed],t.prototype,"has_previous_marker",null),Object(i.c)([f.a],t.prototype,"OnJumpToPreviousMarkerClicked",null),Object(i.c)([a.observer],t)}(w.Component),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),Object.defineProperty(t.prototype,"has_next_marker",{get:function(){return void 0!==this.GetNextMarkerTime()},enumerable:!1,configurable:!0}),t.prototype.GetNextMarkerTime=function(){if(this.props.video.has_markers)for(var e=this.props.video.GetTimelineMarkers(),t=this.props.video.GetPlaybackTime(),n=0;n<e.length;n++)if(!(e[n].nTime<=t))return e[n].nTime},t.prototype.OnJumpToNextMarkerClicked=function(e){var t=this.GetNextMarkerTime();void 0!==t&&this.props.video.Seek(t)},t.prototype.render=function(){var e=this.props.video.BHasMarkersOrSegments();return w.createElement("div",{className:"videoControlButton jumpToMarker"+(e?"":" noMarkersOrSegments")+(this.has_next_marker?"":" noMarkersInDirection"),onClick:this.OnJumpToNextMarkerClicked},w.createElement(O.T,{bHidePostArrow:!0,bFlipHorizontal:!1}))},Object(i.c)([r.computed],t.prototype,"has_next_marker",null),Object(i.c)([f.a],t.prototype,"OnJumpToNextMarkerClicked",null),Object(i.c)([a.observer],t)}(w.Component),V=function(n){function e(e){var t=n.call(this,e)||this;return t.m_elSubtitlesButton=w.createRef(),t.m_elSubtitlesPanel=w.createRef(),t.state={bSettingsOpen:!1,bSubtitlesOpen:!1},t}return Object(i.d)(e,n),e.prototype.OnVideoControlClick=function(e){this.setState({bSettingsOpen:!this.state.bSettingsOpen}),this.m_SettingsButtonPos=[this.m_elSettingsButton.offsetLeft,this.m_elSettingsButton.offsetTop],this.m_elClickListener=e.currentTarget.ownerDocument.defaultView,this.m_elClickListener.addEventListener("mouseup",this.OnMouseUp,!0)},e.prototype.OnSubtitlesClick=function(e){this.setState({bSubtitlesOpen:!this.state.bSubtitlesOpen}),this.m_SubtitlesButtonPos=[this.m_elSubtitlesButton.current.offsetLeft,this.m_elSubtitlesButton.current.offsetTop],this.m_elClickListener=e.currentTarget.ownerDocument.defaultView,this.m_elClickListener.addEventListener("mouseup",this.OnMouseUp,!0)},e.prototype.OnMouseUp=function(e){this.m_elClickListener.removeEventListener("mouseup",this.OnMouseUp,!0),Object(d.c)(this.m_elSettingsPanel,e.target)||this.setState({bSettingsOpen:!1}),Object(d.c)(this.m_elSubtitlesPanel.current,e.target)||this.setState({bSubtitlesOpen:!1})},e.prototype.bindSettingsButton=function(e){this.m_elSettingsButton=e},e.prototype.BindSettingsPanel=function(e){this.m_elSettingsPanel=e},e.prototype.OnShowStats=function(e){this.props.onShowStats(e),this.setState({bSettingsOpen:!this.state.bSettingsOpen})},e.prototype.render=function(){var e,n,r=this,t=!1,i=!1,a=this.props,o=a.video,s=a.actions,c=0,l=w.createElement("div",{key:"separator",className:"settingsMenuSeparator"});if(this.state.bSettingsOpen&&(t=!0,e=this.props.video.GetVideoRepresentations(),(n=e.map(function(e){return w.createElement(h.b,{key:e.id,onSelected:function(){r.props.video.SetVideoRepresentation(e),r.setState({bSettingsOpen:!r.state.bSettingsOpen})},bChecked:e.selected},e.displayName)})).push(l),n.push(w.createElement(h.d,{key:"statsToggle",onSelected:this.OnShowStats},Object(E.f)("#Broadcast_VideoContext_ToggleStats"),"\t")),c=0-(21*n.length+32)),this.state.bSubtitlesOpen){i=!0,(n=[]).push(w.createElement(h.b,{key:"none",onSelected:function(){r.props.video.SetSubtitles(null),r.setState({bSubtitlesOpen:!r.state.bSubtitlesOpen})},className:"NoSubtitles",bChecked:!1},Object(E.f)("#Broadcast_None")));for(var u=this,p=0;p<this.props.video.ListSubtitles().length;p++)!function(e){var t=u.props.video.ListSubtitles()[e];n.push(w.createElement(h.b,{key:t.language,onSelected:function(){r.props.video.SetSubtitles(t.language),r.setState({bSubtitlesOpen:!r.state.bSubtitlesOpen})},bChecked:"showing"===t.mode},t.label))}(p);c=-352}var d=this.props.video.GetSubtitles()||!1;return w.createElement("div",{className:"STV_BroadcastSettings"},this.props.video.ListSubtitles().length?w.createElement("div",{className:"videoControlButton"+(d?" ClosedCaptionsActive":""),onClick:this.OnSubtitlesClick,ref:this.m_elSubtitlesButton},w.createElement(O.p,null)):null,w.createElement("div",{className:"videoControlButton VideoSettings "+(t?" VideoSettingsOpen":""),onClick:this.OnVideoControlClick,ref:this.bindSettingsButton},w.createElement(O.lb,null)),w.createElement(q,{video:o}),s&&s.map(function(e){return w.createElement("div",{key:e.key,className:"videoControlButton videoControlFitWidth"},e)}),t&&w.createElement("div",{ref:this.BindSettingsPanel,className:"STV_BroadcastSettingsPanel",style:{left:this.m_SettingsButtonPos[0],top:this.m_SettingsButtonPos[1],marginTop:c}},w.createElement("div",{className:"STV_BroadcastSettingsMenuItems"},n)),i&&w.createElement("div",{ref:this.m_elSubtitlesPanel,className:"STV_BroadcastSettingsPanel SubtitlesMenu",style:{maxHeight:"320px",left:this.m_SubtitlesButtonPos[0],top:this.m_SubtitlesButtonPos[1],marginTop:c}},w.createElement("div",{className:"STV_BroadcastSettingsMenuItems"},n)))},Object(i.c)([f.a],e.prototype,"OnVideoControlClick",null),Object(i.c)([f.a],e.prototype,"OnSubtitlesClick",null),Object(i.c)([f.a],e.prototype,"OnMouseUp",null),Object(i.c)([f.a],e.prototype,"bindSettingsButton",null),Object(i.c)([f.a],e.prototype,"BindSettingsPanel",null),Object(i.c)([f.a],e.prototype,"OnShowStats",null),e}(w.Component),q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.k_nHideSliderTimeout=1500,e.m_bShowSlider=!0,e.m_schHideSlider=new p.b,e.m_bChildDragging=!1,e.m_bMouseOver=!1,e}return Object(i.d)(e,t),e.prototype.componentWillUnmount=function(){this.m_schHideSlider.Cancel()},e.prototype.ToggleMute=function(){var e=this.props.video,t=e.IsMuted();e.SetMute(!t),e.GetVolume()<.01&&e.SetVolume(.5)},e.prototype.OnMouseEnter=function(e){this.m_bShowSlider=!0,this.m_bMouseOver=!0,this.m_schHideSlider.Cancel()},e.prototype.OnMouseLeave=function(e){this.m_bMouseOver=!1,this.ScheduleHide()},e.prototype.OnChildDrag=function(e){this.m_bChildDragging=e,this.ScheduleHide()},e.prototype.ScheduleHide=function(){var e=this;this.m_bMouseOver||this.m_bChildDragging||this.m_schHideSlider.Schedule(this.k_nHideSliderTimeout,function(){return e.m_bShowSlider=!0})},e.prototype.render=function(){var e=this.props.video,t=e.IsMuted(),n=100*e.GetVolume(),r="videoControlButton";65<n?r+=" HighestVolume":45<n?r+=" HighVolume":n<46&&24<n?r+=" MedVolume":n<25&&(r+=" LowVolume");var i="BroadcastVolumeControl";return this.m_bShowSlider&&(i+=" ShowVolumeSlider"),t&&(i+=" muted"),w.createElement("div",{className:i,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave},w.createElement("div",{className:"BroadcastVolumeControl_FixedLayout"},w.createElement("div",{className:r,onClick:this.ToggleMute},w.createElement(O.Eb,null)),w.createElement(Y,{video:e,onDrag:this.OnChildDrag})))},Object(i.c)([r.observable],e.prototype,"m_bShowSlider",void 0),Object(i.c)([f.a],e.prototype,"ToggleMute",null),Object(i.c)([f.a],e.prototype,"OnMouseEnter",null),Object(i.c)([f.a],e.prototype,"OnMouseLeave",null),Object(i.c)([f.a],e.prototype,"OnChildDrag",null),Object(i.c)([a.observer],e)}(w.Component),Y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_elSlider=null,e.m_nVolumeStartOfDrag=0,e}return Object(i.d)(e,t),e.prototype.OnMouseDown=function(e){var t=e.currentTarget;this.m_elSlider=t,this.m_nVolumeStartOfDrag=this.props.video.GetVolume(),this.SetVolumeWithCoord(t,e.clientX),t.ownerDocument.defaultView.addEventListener("mousemove",this.OnMouseMove),t.ownerDocument.defaultView.addEventListener("mouseup",this.OnMouseUp),this.props.onDrag(!0)},e.prototype.OnMouseMove=function(e){this.m_elSlider&&this.SetVolumeWithCoord(this.m_elSlider,e.clientX)},e.prototype.OnMouseUp=function(e){var t;this.m_elSlider&&(this.SetVolumeWithCoord(this.m_elSlider,e.clientX),(t=this.props.video).IsMuted()&&t.SetVolume(this.m_nVolumeStartOfDrag),this.m_elSlider.ownerDocument.defaultView.removeEventListener("mousemove",this.OnMouseMove),this.m_elSlider.ownerDocument.defaultView.removeEventListener("mouseup",this.OnMouseUp),this.m_nVolumeStartOfDrag=0,this.m_elSlider=null,this.props.onDrag(!1))},e.prototype.SetVolumeWithCoord=function(e,t){var n=e.getBoundingClientRect(),r=B.c(t,n.left,n.right,0,1),i=B.a(r,0,1),a=this.props.video;a.SetMute(r<.01),a.SetVolume(i)},e.prototype.render=function(){var e=this.props.video,t=100*e.GetVolume();e.IsMuted()&&(t=0);var n={left:t+"%"},r={width:t+"%"};return w.createElement("div",{className:"BroadcastVolumeSlider",onMouseDown:this.OnMouseDown},w.createElement("div",{className:"BroadcastVolumeSlider_Track"}),w.createElement("div",{className:"BroadcastVolumeSlider_Fill",style:r}),w.createElement("div",{className:"BroadcastVolumeSlider_Thumb",style:n}))},Object(i.c)([f.a],e.prototype,"OnMouseDown",null),Object(i.c)([f.a],e.prototype,"OnMouseMove",null),Object(i.c)([f.a],e.prototype,"OnMouseUp",null),Object(i.c)([r.action],e.prototype,"SetVolumeWithCoord",null),Object(i.c)([a.observer],e)}(w.Component);function Q(e){var t=e.startPos,n=e.endPos,r="",i=1;return t<0&&(i=(n-t)/10,t=0,r=" hideFront"),w.createElement("div",{className:"STV_timelineSegment"+r,style:{left:t+"%",width:n-t+"%",opacity:i},onClick:e.onClick},w.createElement("div",{className:"STV_timelineSegmentFrontFill",style:{borderColor:"rgb("+e.color+")"}}),w.createElement("div",{className:"STV_timelineSegmentLabel",style:{color:"rgb("+e.color+")"}},e.label),w.createElement("div",{className:"STV_timelineSegmentBackFill",style:{borderColor:"rgb("+e.color+")"}}))}var Z=function(n){function e(e){var t=n.call(this,e)||this;return t.m_elSlider=w.createRef(),t.state={nGrabberMouseDownTime:0,bGrabberMouseDown:!1,nHoverValue:void 0,hoverX:0,bStartMouseDown:!1,bEndMouseDown:!1,thumbnailURL:""},t}return Object(i.d)(e,n),e.prototype.OnMouseDown=function(e,t){var n,r=this;this.m_elSlider&&(e.persist(),this.m_rectSlider=this.m_elSlider.current&&this.m_elSlider.current.getBoundingClientRect(),n={},"start"===t?(n={bStartMouseDown:!0},e.stopPropagation()):"end"===t?(n={bEndMouseDown:!0},e.stopPropagation()):n={bGrabberMouseDown:!0},this.setState(n,function(){return r.AdjustSliderForClientX(e.clientX)}),this.m_elSlider.current.ownerDocument.defaultView.addEventListener("mousemove",this.OnMouseMove),this.m_elSlider.current.ownerDocument.defaultView.addEventListener("mouseup",this.OnMouseUp))},e.prototype.OnMouseMove=function(e){this.AdjustSliderForClientX(e.clientX)},e.prototype.OnMouseUp=function(e){this.state.bStartMouseDown?this.setState({bStartMouseDown:!1}):this.state.bEndMouseDown?this.setState({bEndMouseDown:!1}):(this.props.video.Seek(this.state.nGrabberMouseDownTime),this.setState({bGrabberMouseDown:!1,nGrabberMouseDownTime:0})),this.m_elSlider.current&&(this.m_elSlider.current.ownerDocument.defaultView.removeEventListener("mousemove",this.OnMouseMove),this.m_elSlider.current.ownerDocument.defaultView.removeEventListener("mouseup",this.OnMouseUp))},e.prototype.OnKeyDown=function(e){37==e.keyCode?(this.props.video.JumpTime(-15),e.preventDefault()):39==e.keyCode&&(this.props.video.JumpTime(15),e.preventDefault())},e.prototype.AdjustSliderForClientX=function(e){var t,n,r=this.props.video,i=r.GetTimelineStartPos(),a=r.GetTimelineStartPos()+r.GetTimelineDuration(),o=r.GetTimeAtMousePosition(e,this.m_rectSlider,i,a);this.state.bStartMouseDown?(t=B.a(o,i,r.m_editorEndTime-5),r.m_editorStartTime=t):this.state.bEndMouseDown?(n=B.a(o,r.m_editorStartTime+5,a),r.m_editorEndTime=n):o!=this.state.nGrabberMouseDownTime&&this.setState({nGrabberMouseDownTime:o})},e.prototype.OnMouseHoverMove=function(e){this.AdjustHoverForClientX(e.clientX)},e.prototype.OnMouseHoverLeave=function(e){this.setState({hoverX:0})},e.prototype.AdjustHoverForClientX=function(e){var t=this.props.video,n=t.GetTimelineStartPos(),r=t.GetTimelineStartPos()+t.GetTimelineDuration();this.m_rectSlider=this.m_elSlider.current&&this.m_elSlider.current.getBoundingClientRect();t.GetTimeAtMousePosition(e,this.m_rectSlider,n,r)},e.prototype.OnSegmentClick=function(e){this.props.video.Seek(e)},e.prototype.OnMarkerMouseEnter=function(e){this.setState({nHoverValue:e})},e.prototype.OnMarkerMouseLeave=function(){this.setState({nHoverValue:void 0})},e.prototype.render=function(){var i=this,a=this.props.video,e=this.state.bGrabberMouseDown,t=a.GetPercentOffsetFromTime(this.state.nGrabberMouseDownTime,C.c.Timeline),n=a.GetPercentOffsetFromTime(a.GetPlaybackTime(),C.c.Timeline),r=a.GetPercentOffsetFromTime(a.GetVideoAvailableStartTime(),C.c.Timeline);r<.05&&(r=0);var o=B.a(t,0,100).toFixed(1)+"%",s=B.a(n,0,100).toFixed(1)+"%",c=B.a(r,0,100).toFixed(1)+"%",l={},u={},p={},d={};e?(d.left=o,l.width=o):d.left=s,u.width=s,p.width=c;var m=Object(A.d)(a.GetPlaybackTime()),h=Object(A.d)(this.state.nHoverValue),f="STV_timelineContainer";this.state.bGrabberMouseDown&&(f+=" grabberDown"),a.IsTimelineMapActive()&&(f+=" minimapActive");var b="";100<(t=e?t:n)?b=" grabberOffScreenRight grabberOffscreen":t<0&&(b=" grabberOffScreenLeft grabberOffscreen");var _=[];a.GetTimelineMarkers().forEach(function(e,t){var n=a.GetPercentOffsetFromTime(e.nTime,C.c.Timeline);n<0||100<n||_.push(w.createElement(j,{key:t,pos:n,label:e.strTemplateName,onMouseEnter:i.OnMarkerMouseEnter,onMouseLeave:i.OnMarkerMouseLeave}))});var v=[];a.GetTimelineSegments().forEach(function(t,e){var n,r=a.GetPercentOffsetFromTime(t.nTimeStart,C.c.Timeline);100<r||((n=a.GetPercentOffsetFromTime(t.nTimeEnd,C.c.Timeline))<0||v.push(w.createElement(Q,{key:e,startPos:r,endPos:n,label:t.strTemplateName,color:t.color,onClick:function(e){return i.OnSegmentClick(t.nTimeStart)}})))});var g=a.GetPercentOffsetFromTime(a.m_editorStartTime,C.c.Timeline),y=a.GetPercentOffsetFromTime(a.m_editorEndTime,C.c.Timeline),S=this.props.bIncludeClipEditor?[w.createElement(j,{key:"start",pos:g,label:Object(E.f)("#DASHPlayerControls_Start"),onMouseEnter:this.OnMarkerMouseEnter,onMouseLeave:this.OnMarkerMouseLeave,onMouseDown:function(e){return i.OnMouseDown(e,"start")}}),w.createElement(j,{key:"end",pos:y,label:Object(E.f)("#DASHPlayerControls_End"),onMouseEnter:this.OnMarkerMouseEnter,onMouseLeave:this.OnMarkerMouseLeave,onMouseDown:function(e){return i.OnMouseDown(e,"end")}})]:[];return w.createElement("div",{className:"videoTimelineMain",tabIndex:0,onKeyDown:this.OnKeyDown},w.createElement("div",{className:f},w.createElement("div",{className:"DialogLabel"},m),w.createElement("div",{className:"STV_timelineSegmentsContainer"},v),w.createElement("div",{onMouseDown:this.OnMouseDown,onMouseMove:this.OnMouseHoverMove,onMouseLeave:this.OnMouseHoverLeave,ref:this.m_elSlider},w.createElement("div",{className:"VideoTimelineSlider"},w.createElement("div",{className:"STV_timelineValue",style:l}),w.createElement("div",{className:"STV_timelineGhostValue",style:u}),w.createElement("div",{className:"STV_timelineNoVideo",style:p}),_,S,Boolean(this.state.hoverX)&&w.createElement("div",{key:"grabbertime",style:{position:"absolute",left:this.state.hoverX-75,bottom:"30px"}},w.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center"}},this.state.thumbnailURL&&w.createElement("img",{style:{width:"150px"},src:this.state.thumbnailURL}),w.createElement("span",{className:"STV_timelineGrabberValue",style:{position:"absolute",bottom:"4px"}},h))),w.createElement("div",{className:"STV_timelineGrabber_Wrapper",style:d},w.createElement("div",{className:"STV_timelineGrabber"+b},w.createElement("div",{className:"STV_timelineGrabberArrow"},w.createElement(O.jb,null))))))))},Object(i.c)([f.a],e.prototype,"OnMouseDown",null),Object(i.c)([f.a],e.prototype,"OnMouseMove",null),Object(i.c)([f.a],e.prototype,"OnMouseUp",null),Object(i.c)([f.a],e.prototype,"OnKeyDown",null),Object(i.c)([f.a],e.prototype,"OnMouseHoverMove",null),Object(i.c)([f.a],e.prototype,"OnMouseHoverLeave",null),Object(i.c)([f.a],e.prototype,"AdjustHoverForClientX",null),Object(i.c)([f.a],e.prototype,"OnSegmentClick",null),Object(i.c)([f.a],e.prototype,"OnMarkerMouseEnter",null),Object(i.c)([f.a],e.prototype,"OnMarkerMouseLeave",null),Object(i.c)([a.observer],e)}(w.Component),K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={info:null},e}return Object(i.d)(e,t),e.getDerivedStateFromProps=function(e,t){if((!t.info||t.info.m_steamIDBroadcast!==e.steamID)&&(t.info&&(C.a.StopInfo(t.info),t.info=null),e.steamID))return{info:C.a.StartInfo(e.steamID)};return null},e.prototype.componentWillUnmount=function(){this.state.info&&C.a.StopInfo(this.state.info)},e.prototype.RenderStreamSwitcher=function(){var e=this.props.steamID;return v.a.stream[e]?w.createElement(J,{value:e,options:v.a.stream,onChange:this.props.onLocalStreamChange}):null},e.prototype.render=function(){var t=this,e=this.state.info;if(!e)return null;var n="";e.m_nViewerCount&&(n=e.m_nViewerCount.toLocaleString(E.e.GetPreferredLocales()));var r=v.a.bValid&&v.a.stream&&v.a.stream[e.m_steamIDBroadcast],i=!this.props.bHideThumbnail&&this.props.bVerticalBroadcastChat&&(0<parseInt(e.m_strAppId)||r);return w.createElement("div",{className:"BroadcastDetails"},!this.props.bHideThumbnail&&w.createElement(c.b,{className:"broadcastDetailsThumbBlur",src:e.m_strThumbnailUrl,draggable:!1,duration:2500}),w.createElement("div",{className:"BroadcastDetailsHeader"},e&&e.m_strAppTitle&&w.createElement("div",{className:"displayColumn"},w.createElement("div",{className:"Info"},w.createElement("span",{className:"AppTitle"},e.m_strAppTitle),e.m_strTitle&&w.createElement("span",{className:"BroadcastTitle"}," - ",e.m_strTitle),this.props.onLocalStreamChange&&this.RenderStreamSwitcher()),n&&w.createElement("div",{className:"BroadcastDetailsHeader_ViewerCount"},w.createElement(O.Db,null),Object(E.m)("#Broadcast_ViewerCount",n))),r&&this.props.onOpenLinkInNewWindow&&w.createElement("div",{className:"Actions"},w.createElement("div",{onClick:function(e){return t.props.onOpenLinkInNewWindow(e,v.a.link)},className:"BroadcastLink"},v.a.linkName))),i&&w.createElement(l.h,{id:v.a.bValid&&v.a.stream&&v.a.stream[e.m_steamIDBroadcast]?v.a.appID:parseInt(e.m_strAppId),type:"game"}))},Object(i.c)([a.observer],e)}(w.Component),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.showContextMenu=function(e){var t=this.props,n=t.options,r=t.value,i=t.onChange,a=Object.keys(n).map(function(e){return w.createElement(h.b,{key:e,onSelected:function(){return i(e)},bChecked:e===r},Object(E.f)(n[e]))});Object(o.a)(w.createElement(h.c,null,a),e)},t.prototype.render=function(){var e=this.props,t=e.value,n=e.options[t];return w.createElement("div",{className:"BroadcastLanguage",onClick:this.showContextMenu},w.createElement("span",null," - ",Object(E.f)(n)),w.createElement("div",{className:"ContextMenuButton"},w.createElement(O.w,null)))},Object(i.c)([f.a],t.prototype,"showContextMenu",null),t}(w.Component),X=function(n){function e(e){var t=n.call(this,e)||this;return t.state={sizableRegion:[]},t}return Object(i.d)(e,n),e.prototype.AddLinkRegion=function(){return Object(i.b)(this,void 0,void 0,function(){var t,n=this;return Object(i.e)(this,function(e){return t=this.state.sizableRegion.length,this.state.sizableRegion.push({xPosPct:2.5+t,yPosPct:2.5+t,widthPct:20,heightPct:15}),this.setState({sizableRegion:this.state.sizableRegion},function(){return n.OnSaveRegions()}),[2]})})},e.prototype.componentDidUpdate=function(e){var n=this;0==e.linkRegions.length&&this.props.linkRegions.forEach(function(e,t){n.LoadLinkRegion(e,t)})},e.prototype.LoadLinkRegion=function(t,e){return Object(i.b)(this,void 0,void 0,function(){return Object(i.e)(this,function(e){switch(e.label){case 0:return this.state.sizableRegion.length,this.state.sizableRegion.push({xPosPct:t.left,yPosPct:t.top,widthPct:t.width,heightPct:t.height,link_url:t.url,link_description:t.link_description,link_index:t.link_index}),[4,this.setState({sizableRegion:this.state.sizableRegion})];case 1:return e.sent(),[2]}})})},e.prototype.OnSaveRegions=function(){for(var e={links:[]},t=0;t<this.state.sizableRegion.length;t++){var n={left:Math.floor(100*this.state.sizableRegion[t].xPosPct),top:Math.floor(100*this.state.sizableRegion[t].yPosPct),width:Math.floor(100*this.state.sizableRegion[t].widthPct),height:Math.floor(100*this.state.sizableRegion[t].heightPct),url:this.state.sizableRegion[t].link_url,link_description:this.state.sizableRegion[t].link_description,link_index:t};e.links.push(n)}this.props.onSaveLinkRegions(e)},e.prototype.DeleteRegion=function(n){return Object(i.b)(this,void 0,void 0,function(){var t=this;return Object(i.e)(this,function(e){return this.state.sizableRegion.splice(n,1),console.log("keys: ",this.state.sizableRegion.keys),this.setState({sizableRegion:this.state.sizableRegion},function(){return t.OnSaveRegions()}),[2]})})},e.prototype.UpdatePanel=function(n,r){return Object(i.b)(this,void 0,void 0,function(){var t=this;return Object(i.e)(this,function(e){return this.state.sizableRegion[n]=r,this.setState({sizableRegion:this.state.sizableRegion},function(){return t.OnSaveRegions()}),[2]})})},e.prototype.render=function(){var n=this;return w.createElement("div",{className:"LinkOverlayContainer"},w.createElement("div",{className:"LinkOverlayValidRegion"},!this.props.editMode&&this.props.linkRegions?this.props.linkRegions.map(function(e){var t=Object(L.a)(e.url);return w.createElement(N.a,{key:e.link_index,href:e.url,bForceExternal:t,bUseLinkFilter:t},w.createElement("div",{className:"LinkRegion",style:{left:e.left+"%",top:e.top+"%",width:e.width+"%",height:e.height+"%"}},w.createElement("div",{className:"LinkRegionText"},e.link_description," ")))}):null,this.props.editMode&&this.state.sizableRegion.map(function(e,t){return w.createElement(u.a,{key:100*t+e.xPosPct,index:t,deleteFn:n.DeleteRegion,updateFn:n.UpdatePanel,xPosPct:e.xPosPct,yPosPct:e.yPosPct,widthPct:e.widthPct,heightPct:e.heightPct,link_url:e.link_url,link_description:e.link_description})}),this.props.editMode&&w.createElement("div",{className:"AddLinkRegion",onClick:this.AddLinkRegion},Object(E.f)("#SteamTV_AddLinkRegion"))),w.createElement("div",{className:"LinkOverlayInvalidRegion"},w.createElement("div",null,Object(E.f)("#SteamTV_LinkRegionReserved"))))},Object(i.c)([f.a],e.prototype,"AddLinkRegion",null),Object(i.c)([f.a],e.prototype,"LoadLinkRegion",null),Object(i.c)([f.a],e.prototype,"OnSaveRegions",null),Object(i.c)([f.a],e.prototype,"DeleteRegion",null),Object(i.c)([f.a],e.prototype,"UpdatePanel",null),Object(i.c)([a.observer],e)}(w.Component)},tuJQ:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px"}},"u4M+":function(e,t,n){e.exports={DurationControlDialogBackground:"durationcontroldialog_DurationControlDialogBackground_2iwqV",DurationControlDialog:"durationcontroldialog_DurationControlDialog_3iEiQ",TimerContainer:"durationcontroldialog_TimerContainer_2j4TN",TimerDisplay:"durationcontroldialog_TimerDisplay_2M3Zm",TimerText:"durationcontroldialog_TimerText_25RpV",InfoContainer:"durationcontroldialog_InfoContainer_1rF2O",InfoContent:"durationcontroldialog_InfoContent_2hVYi"}},uEKC:function(e,t,n){e.exports={countdownCtn:"giveawaynextdraw_countdownCtn_GWWac",Closed:"giveawaynextdraw_Closed_ATX_x",CountDownCtn:"giveawaynextdraw_CountDownCtn_11RwP",CountDownTime:"giveawaynextdraw_CountDownTime_eh0pM",CountDownText:"giveawaynextdraw_CountDownText_3VKQ3",LearnMore:"giveawaynextdraw_LearnMore_1q98m",Throbber:"giveawaynextdraw_Throbber_bEkRt",WinnerInfo:"giveawaynextdraw_WinnerInfo_2LTFl",WinnerCount:"giveawaynextdraw_WinnerCount_Z7ScP",WinnerText:"giveawaynextdraw_WinnerText_chkuq"}},uIWk:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var l=n("mrSG"),r=n("vDqi"),u=n.n(r),p=n("2vnA"),d=n("lkRc"),m=function(){function e(e){this.m_appidList=new Array,this.m_socialList=new Array,this.m_strName="",this.m_strAvatarURLFullSize="",this.m_strTagLineLoc="",this.m_nFollowers=0,this.m_strVanity="",this.m_webLink=void 0,this.m_bIsLoaded=!1,this.m_bIsHidden=!1,this.m_clanAccountFlags=0,this.m_clanSteamID=e}return e.prototype.Initialize=function(e){var t=this;this.m_strName=e.name||"",this.m_strAvatarURLFullSize=e.avatar_url_full_size||"https://media.st.dl.pinyuncloud.com/steamcommunity/public/images/avatars/fe/fef49e7fa7e1997310d705b2a6158ff8dc1cdfeb_full.jpg",e.social&&e.social.forEach(function(e){return t.m_socialList.push(e)}),this.m_strTagLineLoc=e.tag_line_localized||"",this.m_nFollowers=e.followers||0,this.m_strVanity=e.vanity||void 0,this.m_webLink=e.weblink,this.m_bIsHidden=e.hidden||!1,this.m_clanAccountFlags=e.clan_account_flags,e.appids&&e.appids.forEach(function(e){return t.m_appidList.push(e)}),this.m_bIsLoaded=!0},e.prototype.GetCreatorHomeIdentifier=function(){return{name:this.m_strName,clan_account_id:this.m_clanSteamID.GetAccountID(),type:"developer",hidden:this.m_bIsHidden}},e.prototype.BIsPartnerEventEditorEnabled=function(){return Boolean(8&this.m_clanAccountFlags)},e.prototype.BHasClanAccountFlagSet=function(e){return Boolean(this.m_clanAccountFlags&e)},e.prototype.BIsLoaded=function(){return this.m_bIsLoaded},e.prototype.GetClanSteamID=function(){return this.m_clanSteamID},e.prototype.GetClanAccountID=function(){return this.m_clanSteamID.GetAccountID()},e.prototype.GetAppIDList=function(){return this.m_appidList},e.prototype.GetSocialList=function(){return this.m_socialList},e.prototype.GetName=function(){return this.m_strName},e.prototype.GetAvatarURLFullSize=function(){return this.m_strAvatarURLFullSize},e.prototype.GetTagLine=function(){return this.m_strTagLineLoc},e.prototype.GetNumFollowers=function(){return this.m_nFollowers},e.prototype.BIsHidden=function(){return this.m_bIsHidden},e.prototype.GetCreatorHomeURL=function(e){if(this.m_strVanity){switch(e){case"publisher":return d.c.STORE_BASE_URL+"publisher/"+this.m_strVanity+"/";case"franchise":return d.c.STORE_BASE_URL+"franchise/"+this.m_strVanity+"/"}return d.c.STORE_BASE_URL+"developer/"+this.m_strVanity+"/"}return d.c.STORE_BASE_URL+"curator/"+this.m_clanSteamID.GetAccountID()+"/"},e.prototype.BHasWebLink=function(){return void 0!==this.m_webLink},e.prototype.GetWebLink=function(){return this.m_webLink},e.prototype.GetVanityString=function(){return this.m_strVanity},e.prototype.AdjustFollower=function(e){this.m_nFollowers+=e},e.prototype.EnablePartnerEventEditorFlag=function(){return Object(l.b)(this,void 0,void 0,function(){return Object(l.e)(this,function(e){switch(e.label){case 0:return this.BIsPartnerEventEditorEnabled()?[2]:[4,this.UpdateGroupFlagsFeature([2,8],!0)];case 1:return e.sent(),[2]}})})},e.prototype.UpdateGroupFlagsFeature=function(o,s){return Object(l.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(l.e)(this,function(e){switch(e.label){case 0:return(t=d.c.PARTNER_BASE_URL+"sales/ajaxupdateclanaccountflags",n=this.m_clanAccountFlags,o.forEach(function(e){s?n|=e:n&=~e}),n==this.m_clanAccountFlags)?[2]:(r=new Array,1&n&&r.push(1),8&n&&r.push(8),2&n&&r.push(2),4&n&&r.push(4),(i=new FormData).append("sessionid",d.c.SESSIONID),i.append("clan_account_id",this.GetClanAccountID().toString()),i.append("accountflags",JSON.stringify(r)),[4,u.a.post(t,i)]);case 1:return(a=e.sent())&&200==a.status&&1==a.data.success&&(this.m_clanAccountFlags=n),[2]}})})},Object(l.c)([p.observable],e.prototype,"m_appidList",void 0),Object(l.c)([p.observable],e.prototype,"m_nFollowers",void 0),Object(l.c)([p.observable],e.prototype,"m_clanAccountFlags",void 0),e}(),h=n("kLLr"),i=new(function(){function a(){this.m_mapClanToCreatorHome=new Map,this.m_mapAppToCreatorIDList=new Map,this.m_bLoadedFromConfig=!1}return a.prototype.LazyInit=function(){var e,t,i=this;this.m_bLoadedFromConfig||(e=Object(d.g)("creatorhome","application_config"),this.ValidateStoreDefault(e)&&e.forEach(function(e){var t=Number(e.creator_clan_id),n=h.a.InitFromClanID(t),r=new m(n);r.Initialize(e),r.m_promise=a.GetAsPromise(r),i.m_mapClanToCreatorHome.set(t,r)}),t=Object(d.g)("creatorhomeforapp","application_config"),this.ValidateStoreDefaultAppList(t)&&t.forEach(function(e){i.m_mapAppToCreatorIDList.has(e.appid)||i.m_mapAppToCreatorIDList.set(e.appid,new Array),i.m_mapAppToCreatorIDList.get(e.appid).push(e)}),this.m_bLoadedFromConfig=!0)},a.GetAsPromise=function(t){return Object(l.b)(this,void 0,void 0,function(){return Object(l.e)(this,function(e){return[2,t]})})},a.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("string"==typeof t[0].name&&("string"==typeof t[0].creator_clan_id||"number"==typeof t[0].creator_clan_id))},a.prototype.ValidateStoreDefaultAppList=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("number"==typeof t[0].clan_account_id&&0<t[0].clan_account_id&&"number"==typeof t[0].appid&&0<t[0].appid)},a.prototype.BHasCreatorHomeLoaded=function(e){return this.m_mapClanToCreatorHome.has(e.GetAccountID())&&this.m_mapClanToCreatorHome.get(e.GetAccountID()).BIsLoaded()},a.prototype.GetCreatorHome=function(e){return this.m_mapClanToCreatorHome.get(e.GetAccountID())},a.prototype.GetCreatorHomeByID=function(e){return this.m_mapClanToCreatorHome.get(e.clan_account_id)},a.prototype.LoadCreatorHome=function(n,r){return Object(l.b)(this,void 0,void 0,function(){var t;return Object(l.e)(this,function(e){switch(e.label){case 0:return(this.LazyInit(),this.m_mapClanToCreatorHome.has(n.GetAccountID()))?[3,2]:((t=new m(n)).m_promise=this.InternalCreatorHome(t,r),[4,t.m_promise]);case 1:e.sent(),this.m_mapClanToCreatorHome.set(n.GetAccountID(),t),e.label=2;case 2:return[2,this.m_mapClanToCreatorHome.get(n.GetAccountID()).m_promise]}})})},a.prototype.InternalCreatorHome=function(i,a){return Object(l.b)(this,void 0,void 0,function(){var t,n,r;return Object(l.e)(this,function(e){switch(e.label){case 0:return t={get_appids:!0,l:d.c.LANGUAGE,origin:self.origin},n=d.c.STORE_BASE_URL+"curator/"+i.GetClanAccountID()+"/ajaxgetcreatorhomeinfo",[4,u.a.get(n,{params:t,cancelToken:a&&a.token})];case 1:return r=e.sent(),i.Initialize(r.data),[2,i]}})})},a.prototype.LoadCreatorHomeListForAppIncludeHiddden=function(i,a){return Object(l.b)(this,void 0,void 0,function(){var t,n,r;return Object(l.e)(this,function(e){switch(e.label){case 0:return(this.LazyInit(),this.m_mapAppToCreatorIDList.has(i))?[3,2]:(t={appid:i},n=d.c.STORE_BASE_URL+"events/ajaxgetcreatorhomeidforapp",[4,u.a.get(n,{params:t,cancelToken:a&&a.token,withCredentials:!0})]);case 1:r=e.sent(),this.m_mapAppToCreatorIDList.set(i,r.data.creator_list),e.label=2;case 2:return[2,this.m_mapAppToCreatorIDList.get(i)]}})})},a.prototype.SearchCreatorHomeStore=function(o,s,c){return Object(l.b)(this,void 0,void 0,function(){var t,n,r,i,a=this;return Object(l.e)(this,function(e){switch(e.label){case 0:return t=d.c.STORE_BASE_URL+"curator/0/ajaxsearchcurators",n={term:o.replace(" ","+"),require_creator:s,cc:d.c.COUNTRY,l:d.c.LANGUAGE},r=new Array,[4,u.a.get(t,{params:n,cancelToken:c.token})];case 1:return(i=e.sent()).data.curators&&Object(p.runInAction)(function(){i.data.curators.forEach(function(e){var t,n;a.m_mapClanToCreatorHome.has(e.creator_clan_id)||(t=h.a.InitFromClanID(e.creator_clan_id),(n=new m(t)).Initialize(e),a.m_mapClanToCreatorHome.set(e.creator_clan_id,n)),r.push(a.m_mapClanToCreatorHome.get(e.creator_clan_id))})}),[2,r]}})})},a.prototype.GetCreatorHomeListForAppIncludeHidden=function(e){return this.m_mapAppToCreatorIDList.has(e)?this.m_mapAppToCreatorIDList.get(e):[]},Object(l.c)([p.observable],a.prototype,"m_mapClanToCreatorHome",void 0),Object(l.c)([p.observable],a.prototype,"m_mapAppToCreatorIDList",void 0),Object(l.c)([p.action],a.prototype,"LazyInit",null),a}());window.g_CreatorHomeStore=i},uJm7:function(e,t,n){e.exports={Container:"libraryassetimage_Container_1R9r2",PortraitImage:"libraryassetimage_PortraitImage_3Ehhd",LandscapeImage:"libraryassetimage_LandscapeImage_ZsU8n",Image:"libraryassetimage_Image_24_Au",Visibility:"libraryassetimage_Visibility_3d_bT",Visible:"libraryassetimage_Visible_yDr03",Hidden:"libraryassetimage_Hidden_1qs7p",NoTransitions:"libraryassetimage_NoTransitions_2A3-t",Title:"libraryassetimage_Title_13fGP",LongTitles:"libraryassetimage_LongTitles_35G8c",Short:"libraryassetimage_Short_1wwg7"}},uV6i:function(e,t,n){e.exports={AppDetailsWorkshopHover:"appdetailsworkshophover_AppDetailsWorkshopHover_2fORf",Content:"appdetailsworkshophover_Content_N1lje",ItemTitleContainer:"appdetailsworkshophover_ItemTitleContainer_2If-i",ItemTitle:"appdetailsworkshophover_ItemTitle_23NlT",ItemRatingContainer:"appdetailsworkshophover_ItemRatingContainer_2AW5l",RatingStar:"appdetailsworkshophover_RatingStar_2JTgJ",ItemPreview:"appdetailsworkshophover_ItemPreview_11DYz",ItemFeatured:"appdetailsworkshophover_ItemFeatured_1cyjU",ItemDetails:"appdetailsworkshophover_ItemDetails_27_bG",ItemFileSize:"appdetailsworkshophover_ItemFileSize_1YWNC",ItemTimeUpdated:"appdetailsworkshophover_ItemTimeUpdated_2a0Yx"}},umRa:function(e,t,n){e.exports={Toggle:"toggle_Toggle_3POJz",Disabled:"toggle_Disabled_1jIKG",ToggleRail:"toggle_ToggleRail_3DiLY",Highlight:"toggle_Highlight_2FNJu",On:"toggle_On_3N31m",Off:"toggle_Off_1Qa-r",ToggleSwitch:"toggle_ToggleSwitch_21X4K",ToggleRow:"toggle_ToggleRow_NnxzA",Label:"toggle_Label_xK7Vv"}},uobO:function(e,y,S){"use strict";(function(e){S.d(y,"a",function(){return v});var t,p=S("mrSG"),r=S("bxBv"),o=S("SxtR"),n=S("IjL/"),i=S("TLQK"),a=window.addEventListener||e&&e.addEventListener||function(){},s=[],c=function(e,t){return s.push({error:e,cCallsitesToIgnore:t})},l=console.assert;console.assert=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e||c(new Error(h.apply(void 0,Object(p.g)([t],n))),2),l.apply(console,Object(p.g)([e,t],n))};var u=console.error;console.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];c(new Error(h.apply(void 0,Object(p.g)([e],t))),1),u.apply(console,Object(p.g)([e],t))},a("error",function(e){c(e.error,0)}),t=window.setTimeout(function(){s=[],c=function(){}},3e4);var d={cCallsitesToIgnore:0,bIncludeMessageInIdentifier:!1},m=function(){function e(e){var r=this;void 0===e&&(e=!0),this.m_transport=null,this.m_rgErrorQueue=[],this.m_bEnabled=!0,this.m_bInitialized=!1,c=e?(s.forEach(function(e){var t=e.error,n=e.cCallsitesToIgnore;return r.ReportError(t,{cCallsitesToIgnore:n})}),function(e,t){return r.ReportError(e,{cCallsitesToIgnore:t})}):function(){},s=[],clearTimeout(t),window.setTimeout(function(){r.m_bInitialized||(r.m_bEnabled=!1,r.m_rgErrorQueue=[])},3e4)}return e.prototype.Init=function(e,t,n){this.m_bInitialized=!0,this.m_strProduct=e,this.m_strVersion=t,this.m_transport=n,this.m_bEnabled||(console.error("Error reporting was initialized after being disabled, possibly dropping errors."),this.m_bEnabled=!0),this.m_rgErrorQueue.length&&(this.SendErrorReports(this.m_rgErrorQueue),this.m_rgErrorQueue=[])},e.prototype.ReportError=function(i,a){return Object(p.b)(this,void 0,void 0,function(){var t,n,r;return Object(p.e)(this,function(e){switch(e.label){case 0:return(e.trys.push([0,2,,3]),t=Object(p.a)(Object(p.a)({},d),a),this.m_bEnabled)?[4,function(e,t){try{return e.stack&&e.stack.match(b)?function(l,u){return Object(p.b)(this,void 0,void 0,function(){var n,r,i,a,o,s,c;return Object(p.e)(this,function(e){switch(e.label){case 0:return n=u.cCallsitesToIgnore,r=u.bIncludeMessageInIdentifier,i=l.stack.split("\n"),a=i.filter(function(e){return!!e.match(b)}),t=a[n],o=function(e){var t=e.indexOf("https://");if(-1===t)return e;var n=e.indexOf("/",t+"https://".length);return-1===n?e:e.slice(0,t)+e.slice(n)}(function(e){var t=e.lastIndexOf("?");if(-1===t)return e;var n=e.indexOf(":",t);return-1===n?e:e.slice(0,t)+e.slice(n)}(t)),r&&(o=o+" "+l.message),s=i.map(function(e){var t=e.match(/(.*)\((.*):(\d+):(\d+)\)/);if(!t)return e;if(5===t.length){t[0];var n=t[1],r=t[2],i=t[3],a=t[4],o=parseInt(i),s=parseInt(a);if(!isNaN(o)&&!isNaN(s))return[n,r,o,s]}return e}).filter(function(e){return!!e}),c={identifier:o},[4,function(r){return Object(p.b)(this,void 0,void 0,function(){var n;return Object(p.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,window.crypto.subtle.digest("SHA-256",function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return t}(r))];case 1:return n=e.sent(),t=n,[2,Array.prototype.map.call(new Uint8Array(t),function(e){return("00"+e.toString(16)).slice(-2)}).join("").slice(0,16)];case 2:return e.sent(),[2,""];case 3:return[2]}var t})})}(o)];case 1:return[2,(c.identifierHash=e.sent(),c.message=s,c)]}var t})})}(e,t):e.stack&&e.stack.match(_)?function(){return Object(p.b)(this,void 0,void 0,function(){return Object(p.e)(this,function(e){return[2,null]})})}():null}catch(e){return console.warn("Failed to normalize error stack: "+e),null}}(i,t)]:[2,null];case 1:return(n=e.sent())?(this.SendErrorReport(n),[2,n]):[2,null];case 2:return r=e.sent(),console.log("Failed to report error: "+r),[2,null];case 3:return[2]}})})},e.prototype.SendErrorReport=function(e){this.m_transport?this.SendErrorReports([e]):this.m_rgErrorQueue.push(e)},e.prototype.SendErrorReports=function(e){var t,a,n;e&&e.length&&(t=r.b.Init(o.a),a=e.reduce(function(e,t){return e[t.identifier]?e[t.identifier].count++:e[t.identifier]={report:t,count:1},e},{}),n=Object.keys(a).map(function(e){var t=a[e],n=t.report,r=t.count,i=new o.b;return i.set_count(r),i.set_identifier(n.identifier+" "+n.identifierHash),i.set_message(JSON.stringify(n.message)),i}),t.Body().set_product(this.m_strProduct),t.Body().set_version(this.m_strVersion),t.Body().set_errors(n),o.c.ReportClientError(this.m_transport,t))},Object.defineProperty(e.prototype,"version",{get:function(){return this.m_strVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"product",{get:function(){return this.m_strProduct},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reporting_enabled",{get:function(){return!0},enumerable:!1,configurable:!0}),e}();function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"string"==typeof e&&0===t.length?e:Object(p.g)([e],t).map(function(e){try{return String(e)}catch(e){return"[Stringify Error]"}}).join(", ")}var f,b=/^\s*at .*(\S+:\d+|\(native\))/m,_=/(^|@)\S+:\d+/;var v=function(){return f||g(new m),f},g=function(e){f=e,n.a.InstallErrorReportingStore(f),r.a.InstallErrorReportingStore(f),i.b.InstallErrorReportingStore(f)}}).call(this,S("yLpj"))},vEGm:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTM3OEVDNTUyMUM0MTFFNDgxN0ZEN0MzNjYzNzcxOTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTM3OEVDNTYyMUM0MTFFNDgxN0ZEN0MzNjYzNzcxOTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBMzc4RUM1MzIxQzQxMUU0ODE3RkQ3QzM2NjM3NzE5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBMzc4RUM1NDIxQzQxMUU0ODE3RkQ3QzM2NjM3NzE5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ps9jzFQAAACPSURBVHjaYvz//z+DkJDQdQYGhpsMCMAKxMZAHPXu3bt9cFGQYkFBwQ0gGoaBfAEgzgfibUDsBxNnYsAOfgKxJBBvAeIZMEEWZBVA52xA5gOdUAEUc8NQDBTkBEoGMOAByCYLAjUsRzM5AKtioMQzIEW0ydjcHIBTMSE3M0Ij5RKQfQ6HGiOgIXogBkCAAQDGVT+0v+n6EQAAAABJRU5ErkJggg=="},vv6K:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUNDNzBFNTUyMUM0MTFFNDk1REVFODRBNUU5RjA2MUYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUNDNzBFNTYyMUM0MTFFNDk1REVFODRBNUU5RjA2MUYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Q0M3MEU1MzIxQzQxMUU0OTVERUU4NEE1RTlGMDYxRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5Q0M3MEU1NDIxQzQxMUU0OTVERUU4NEE1RTlGMDYxRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv3vUKAAAAAlSURBVHjaYvz//z8DsYARpFhISAivjnfv3jGSp3jUGeQ4AyDAADZHNe2nyOBrAAAAAElFTkSuQmCC"},w4Zq:function(e,t,n){e.exports={BBCode_Toggle:"bbcodesuggestions_BBCode_Toggle_3dX8-",Active:"bbcodesuggestions_Active_2vTzh",BBCode:"bbcodesuggestions_BBCode_1pH9C"}},w9XT:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r,i,a=n("q1tI"),o=n.n(a);(i=r=r||{})[i.A=0]="A",i[i.B=1]="B",i[i.X=2]="X",i[i.Y=3]="Y",i[i.Menu=4]="Menu",i[i.Left=5]="Left",i[i.Right=6]="Right",i[i.Up=7]="Up",i[i.Down=8]="Down";var s=o.a.createContext(void 0);function c(e){var t=Object(a.useContext)(s);if(!t||!t.focusActions)return o.a.createElement(o.a.Fragment,null,e.children);var n=[];if(e.boundActions){e.boundActions.forEach(function(e){return n.push(e)});for(var r=0,i=t.focusActions;r<i.length;r++){!function(t){var e=n.find(function(e){return e.button===t.button});e?(void 0===e.action&&void 0!==t.action&&(e.action=t.action),void 0===e.description&&void 0!==t.description&&(e.description=t.description)):n.push(t)}(i[r])}}else t.focusActions.forEach(function(e){return n.push(e)});return o.a.createElement(s.Provider,{value:{focusActions:n,setCurrentActions:t.setCurrentActions,currentActions:t.currentActions}},e.children)}},wAi4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAgCAYAAABdP1tmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDkxQzU5OUNFMkJDMTFFM0FDQzlFOTBBNEU0MjVGQkMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDkxQzU5OURFMkJDMTFFM0FDQzlFOTBBNEU0MjVGQkMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0OTFDNTk5QUUyQkMxMUUzQUNDOUU5MEE0RTQyNUZCQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0OTFDNTk5QkUyQkMxMUUzQUNDOUU5MEE0RTQyNUZCQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pngj7wQAAAKOSURBVHja7JhBSBtBFIY1Cy0pDQVLi1AQGgI5BQIphZSUihAQPEhOerEXvQQKLYpCsccIpSC0CPUkiJCDJ1E85CJ4CAqSgOCloCgRxBKwIBWDYlj/gVc6Lpmd2dlNWmUffGQzmXkz782+N2/Sbppm212SQNsdE98g36BbZJABEqDTw/U8IZ33WmXQQ/AeVMAVKIFj+v4FRDTW8AzkwC6oks4L0jsOHjlR1u4gbTPvrYGYTZ8aGANbijqZrhlylEj2QDc48tqgBTD0j0JjBfR7aVAQnNBnM6UmmKMOnoJfXsVQj2CiJfAYvACnLgw5BGHwAIwIElCvl0nhjaB9nrxWBpsuDGJ6Duh5jntWWYOWQSLv1AXPToXPjh2E6hocx1AHpVODe82+gTPKQKfcoliKjYJpjfNpFuyArE0mDQt2768wgyQMmDelS2FMzpTLBsiASXBuqklWNndAI34yCjuakvSpUxpmuz0FPnO/FUAI3AeLlnEp6WoVvL3fwFMVUAIprt9XalPxNutjcGPfcb+95NqjlnEnbneoCzwXtCcsZUmE2lTOqiBXIcTBqCBBRBrsfszNDg1LPD1O/Zi3f5jeyG8wQ7qrNnM2RGZQXjL5FfUpma2TVbs1y9L2scfXA6/Ko5Do3AtIKuH/zZg/8ZfUqRR6FJRvg1fgI6XbmqbHC6SD1YRFhTFpnUphFfRJFL+2LMCgrJWg7510geOF3Wt+0nOZnMK/PnG65Bk28xZpbkdZrioJzrzCGabLd4Vk5Pgcsrshsgp7oolx8onbRdF1w3EMsav0paBseat6JdYU5rBBQUyy+T/oHqxxsMyVM+y8STfxVbPCSqt1mvuCzqCkm3PI/6PRN8g3yF6uBRgAbyqhervsHn0AAAAASUVORK5CYII="},wUwH:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("mrSG"),i=n("lkRc"),a=n("2vnA"),o=function(){function n(){this.m_bEmoticonListRequested=!1,this.m_bInitialized=!1,this.m_rgEmoticons=[],this.m_rgFlairs=[],this.m_rgStickers=[],this.m_rgEffects=[],this.m_rtLastStickerOrEffect=Number.MIN_SAFE_INTEGER}return n.GetEmoticonURL=function(e,t){return t?"https://community.cloudflare.steamstatic.com/economy/emoticonlarge/"+e:"https://community.cloudflare.steamstatic.com/economy/emoticon/"+e},n.GetEmoticonReplaceRegex=function(){return n.sm_EmoticonRegex},n.BEmoticonFilterMatch=function(e,t){return-1!==(":"+(e.name_normalized||e.name)+":").indexOf(t.toLowerCase())},n.FilterEmoticons=function(e,t){return t&&":"!==t?e.filter(function(e){return n.BEmoticonFilterMatch(e,t)}):e},n.BStickerFilterMatch=function(e,t){return-1<e.name.toLowerCase().indexOf(t.toLowerCase())},n.FilterStickers=function(e,t){return t?e.filter(function(e){return n.BStickerFilterMatch(e,t)}):e},n.prototype.SearchEmoticons=function(t,l,n){function u(e){return e.name_normalized||e.name}void 0===l&&(l=25),void 0===n&&(n=!0),this.UpdateEmoticonList(),t=t.toLocaleLowerCase();var e=this.recent_emoticons.filter(function(e){return!t||u(e).startsWith(t)}),r=this.recent_emoticons.filter(function(e){return!n&&-1!==u(e).indexOf(t)}),i=this.m_rgEmoticons.filter(function(e){return!t||u(e).startsWith(t)}),a=this.m_rgEmoticons.filter(function(e){return!n&&-1!==u(e).indexOf(t)}),p=new Set,d=[];function o(e,t,n){for(var r,i,a,o=0,s=e;o<s.length;o++){var c=s[o];if(i=t,a=n(r=c),d.length>=l||(p.has(r)||(p.add(r),d.push({name:u(r),recent:i,new:a})),0))break}}return o(e,!0,function(e){return!(e.last_used||!e.time_received)}),o(i,!1,function(){return!1}),o(r,!0,function(e){return!(e.last_used||!e.time_received)}),o(a,!1,function(){return!1}),d},Object.defineProperty(n.prototype,"is_initialized",{get:function(){return this.m_bInitialized},enumerable:!1,configurable:!0}),n.prototype.GetTimeReceivedNewestEmoticon=function(){return this.UpdateEmoticonList(),this.m_rtMostRecentEmoticon},n.prototype.GetTimeReceivedForStickerOrEffect=function(){return this.m_rtLastStickerOrEffect},n.prototype.UpdateEmoticonList=function(){this.m_bInitialized||this.RequestEmoticonList()},Object.defineProperty(n.prototype,"emoticon_list",{get:function(){return this.UpdateEmoticonList(),this.m_rgEmoticons},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flair_list",{get:function(){return this.UpdateEmoticonList(),this.m_rgFlairs},enumerable:!1,configurable:!0}),n.prototype.GetStickerList=function(){return this.m_rgStickers},n.prototype.GetEffectList=function(){return this.m_rgEffects},n.prototype.GetFlairListByGroupID=function(t){return this.m_rgFlairs.filter(function(e){return e.flairGroupID===t})},Object.defineProperty(n.prototype,"recent_emoticons",{get:function(){return this.m_rgRecentEmoticons||this.BuildRecentEmoticonList(),this.m_rgRecentEmoticons},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"recent_stickers",{get:function(){return this.m_rgRecentStickers||this.BuildRecentStickerList(),this.m_rgRecentStickers},enumerable:!1,configurable:!0}),n.prototype.TrackEmoticonUsage=function(e,t){if(this.m_bInitialized){for(var n,r=new Map,i=/\[emoticon\]([^[]*)/g;n=i.exec(e);){var a=r.get(n[1])||0;r.set(n[1],a+1)}var o=!1;if(r.size){if(void 0!==this.m_rgRecentEmoticons)for(var s=0,c=this.m_rgRecentEmoticons;s<c.length;s++){var l=c[s];r.has(l.name)&&(l.last_used=t,l.use_count+=r.get(l.name),r.delete(l.name),l.time_received&&(o=!0,delete l.time_received))}if(r.size)for(var u=0,p=this.m_rgEmoticons;u<p.length;u++){l=p[u];r.has(l.name)&&(l.last_used=t,l.use_count+=r.get(l.name),delete l.time_received,void 0!==this.m_rgRecentEmoticons&&this.m_rgRecentEmoticons.push(l))}if(void 0!==this.m_rgRecentEmoticons&&(this.BuildRecentEmoticonList(),o)){this.m_rtMostRecentEmoticon=void 0;for(var d=0,m=this.m_rgRecentEmoticons;d<m.length;d++){!(l=m[d]).last_used&&l.time_received&&(!this.m_rtMostRecentEmoticon||l.time_received>this.m_rtMostRecentEmoticon)&&(this.m_rtMostRecentEmoticon=l.time_received)}}}}},n.prototype.TrackStickerUsage=function(t,e){var n;this.m_bInitialized&&((n=this.m_rgStickers.find(function(e){return e.name===t})).last_used=e,n.use_count+=1,delete n.time_received,this.BuildRecentStickerList())},n.prototype.RequestEmoticonList=function(){!this.m_bEmoticonListRequested&&this.BInitialized()&&(this.m_bEmoticonListRequested=!0,this.RequestEmoticonListInternal())},n.prototype.BuildRecentEmoticonList=function(){this.m_rgRecentEmoticons=this.BuildRecentList(this.m_rgEmoticons)},n.prototype.BuildRecentStickerList=function(){this.m_rgRecentStickers=this.BuildRecentList(this.m_rgStickers)},n.prototype.BuildRecentList=function(e){var r=this.GetServerTime()-604800,t=e.filter(function(e){var t=e.last_used,n=e.time_received;return t||n&&r<n});return t.sort(function(e,t){return(t.last_used||t.time_received)-(e.last_used||e.time_received)}),t.slice(0,50)},n.prototype.OnEmoticonListReceived=function(e){this.m_rgFlairs=[],this.m_rgEmoticons=[],this.m_rgRecentEmoticons=void 0,this.m_rtMostRecentEmoticon=void 0;for(var t=this.GetServerTime()-604800,n=0,r=e;n<r.length;n++){var i=r[n],a=i.name;a.startsWith("^")?this.m_rgFlairs.push({name:a.match(new RegExp(/:(.*):/))[1],flairGroupID:a.match(new RegExp(/\^(.*)\^/))[1]}):(!i.last_used&&i.time_received>t?(!this.m_rtMostRecentEmoticon||i.time_received>this.m_rtMostRecentEmoticon)&&(this.m_rtMostRecentEmoticon=i.time_received):delete i.time_received,this.m_rgEmoticons.push(i))}this.m_bInitialized=!0,this.m_bEmoticonListRequested=!1},n.sm_EmoticonRegex=new RegExp("ː([a-zA-Z0-9_\\-]+)ː","g"),Object(r.c)([a.observable],n.prototype,"m_bInitialized",void 0),Object(r.c)([a.observable],n.prototype,"m_rtMostRecentEmoticon",void 0),Object(r.c)([a.observable],n.prototype,"m_rtLastStickerOrEffect",void 0),Object(r.c)([a.action],n.prototype,"TrackEmoticonUsage",null),n}()},xLK1:function(e,t,n){e.exports={HorizontalScrollInDragForceCursor:"horizontalscrollcontainer_HorizontalScrollInDragForceCursor_2kFhN"}},"xZw+":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXsAAADXCAIAAAB09WZ9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA26SURBVHhe7d1JjyPHEYbhIfkrvAiWLI32BfIGnwwfbNgHAwJsQBfDJ5/8/6/TRUcVE8LMsPL7OBWdUezp91GpWVTkxmJlzHQ7mj788J//vUg4HA7tbI2OHo/HdrZG9w22wWZ63HN77DLXpD1uMe4l7+t8thdVUZ3dyKmJ3cr1+6X7ZqJhmqZ29u704NMU8W6DCD08PLQna9SeB4DHRcYBUIeMA6AOGQdAHTIOgDpkHAB1yDgA6pBxANTZM+PYKia8hSt2jSvytJw++/Z37fTdJUtgM92HVt+am9hNPXBlI1/1UHFJxRGp9NJsA99TDr594kXmzwDd1448dOqI948l3BEhXe58+vSb37bTNXZj6wbjosE2GMQvrD2u236b2Kn790Gz0xUL4h4daq95L5K36I4XTcxsV6Ub8HMcAHXIOADqkHEA1CHjAKhDxgFQh4wDoA4ZB0AdMg6AOqdPv7E1x90qpsPB1Dj5YrlhNWnjRg5DB9dSE++37OdJ3CdLlZ2qlNPRJDd1O9lGD356+bWqOU7f4ar7jvs2467TzdO8pEN3V8aO215LLiy6ixGSg09n9VsOfFcFoA4ZB0AdMg6AOmQcAHXIOADqkHEA1CHjAKhDxgFQ5/Ty69+00yumfm8+ZIOR5X+ZwZNTa0MHxzaZkjbR177Xdt5BC7Oi76Cp53GnCHcbqL/j6DVFbG4wP/SPPj24ZdaWiCYNHRwb2JtBa+3W6KhlB9dau46I6+Ptrfr6IempL2ubk07nGPhdVbyudgbsJG7+doYq+przcxwAdcg4AOqQcQDUIeMAqEPGAVCHjAOgDhkHQB3zqaOmeFc3mCPd6A2luapFdDdrS0SThg6Oa3dbdGMXNmjhMWz6mqjuevBpUp86evrkq+5vOXjLvm/nV/S+G3Stb5HMCGSrDYYmhXGDJ0fW3SMoGrjtYxbmptbdI95tEBEZvWhPrw38rsq8qP2o67G3e14bHtfdvtduYWbZujc/xwFQh4wDoA4ZB0AdMg6AOmQcAHXIOADqkHEA1CHjAKhz+PuP/22na3Th42HRnlxZQqq/6HsLu7Z2dmVedGLqTN+h7nZhQReVPdlaOEPX++fGNh/qO6UuuIpHTIQj9OrVq/ZkzcC/44hl7etuF5b0vr6uJ2rs2zF07JGD810VgDpkHAB1yDgA6pBxANQh4wCoQ8YBUIeMA6AOGQdAHf85x7KQNWKZ4t35y+V8A11he3AjqwZuUfdc3XufqE6stOPVjqmnSc1++vhLlXHG7awY2e3bgbtaTz0nI1LKoxq6B3b8A0C9rogMe9HzwPKS6guejIpwBKcH9bsdfFcFoA4ZB0AdMg6AOmQcAHXIOADqkHEA1CHjAKhDxgFQZ7eMcz4vpUTz1/VjIFcwFvO3M2Any+7omhvIY5x58Nc36luHc/r4y+/b6bs7LNqTd5csFdXd52jvsFProO7rXG6XXSRXjmLiVrF3UeY2M30jLBemP0+e76oA1CHjAKhDxgFQh4wDoA4ZB0AdMg6AOmQcAHXIOADq7JlxdKGRjiZlhs4sbOiLQrWRb+Zet1n2FnW9T7/+4rulVe9IMWXB8W+8vM6RKZCNnrqzKTl+T2tzh76uZ5pM5YuO+7idrZkv2Gs3/PUhOievtu5+mXz5unLYyak5xnDmHnyWYnu2s577vWhqYclVk3EA1CHjAKhDxgFQh4wDoA4ZB0AdMg6AOmQcAHXuOONQ4oH7xg26wemjz7+Lrb163CJa9Q5T2Btc5W876XprwtcOM7AZmZpjXOjKxmWbzC1Wj7nBFC3e/K+vH/OX5WFNN3AbvfJpmuaVd9kX3o3GuG3o5SVcH+rvOMvE7XyVDJpFj6WX7Ra258rx3rC3mdlAu9H3f3L78HMcAHXIOADqkHEA1CHjAKhDxgFQh4wDoA4ZB0AdMg6AOnPNcTt9bKbC1Rf+tpOO7QW0rmfEtw69SHYf524XNpQvxOtb+nYbRNQUy7XHIYbW6Ymo7Wg+5zh6bz60mPut9m8cOrockom/Ps5bxyQvWTRZxMP6gSck+X493TshVqcOufrlRV91eeP46Rq8fSxxhe+qANQh4wCoQ8YBUIeMA6AOGQdAHTIOgDpkHAB1yDgA6pia46VItVuoepjjqozVRGUF7Dy4bmAqaHVUrW0Z2XTvMYtqg+/jWdYcm4K0s4lrqc4ZlyK9rjms4+3k0cW8uub49OFn37bTdeYeTd3CsvMN215F9e7S42aMey+DzuCzxAuz+UjfxBk7jmzj7XFN9B23cr32iOipM1FdlL/07TaIoPkth/YIAOORcQDUIeMAqEPGAVCHjAOgDhkHQB0yDoA6ZBwAdU4f+prjniXYb6HryQ6XgrN+o6WBGkNXrJloe1y3zKybKK7r9pF11/lypcZWnZcPlLxTsmAtbeTgYuUR0nV62nna2PeGbqa6cJqiQbfF6Vem5lg4L7do9zZ1Sz+nUkYqJ5jBU0Pv6ezWPe51mXc7E7bJTm+A9rjJvHNSAyixM9vZmnnX9l/YHBBRl61yUdUgXtTDw0N7sobvqoA+tfV2JZPCPSPjAKhDxgFQh4wDoA4ZB0AdMg6AOmQcAHXIOADq3G/G0WVIz5O+JM/zej3R2+Tp3t7JlR/+9I9/t9Nrrq53qdzttojoUfY/HlW+Ox5V31y9sn5ZpnvGPPKosWeZladXpm5ElysHbj+/QbZuoejmynPNyKKBHVmPrUe+aM+vLL+lYLq3J1fOS82xaCD/jhO9uh1n/WEXJpwiXlLIRIfacerB7vR1+ev9/G4G/8dSbmH6dfFzHAB1yDgA6pBxANQh4wCoQ8YBUIeMA6AOGQdAHTIOgDqnD15+PX9uaefQpUKmkEgXGs0FzaqBq1LKOveP+aVnJAp/ndFXZTNzxfQVdZd7+9tx0zu59e2eZEdb4Kcb2KgeXofnlXcaxH/VY5+Xzu3JlQiKwcOccdrpmrjBVfF75AydNfrRiGzuO1xyYcNWbqfOzWw7i/vQ2N7zBmp/WLKz2dauge2uie6ZgaNrjCwGmKNi6uWfnohM09SerOG7KgB1yDgA6pBxANQh4wCoQ8YBUIeMA6AOGQdAHTIOgDqnDz75qp2u0Z99qyvGXLmaibtyNBfv0xNHVA89F1D1j9Hk0tvjTtSrz5XChWGDy86XSrjecWmwPHapsJ26H78E1dFv0Lq7lQuq71JzLBpExlE1x/NNLDbgvDvlFuhHl4FVXzXvwnwSeD8YFyM5tbAM3s47tg9uLrc1bGHL6+6LYOL+zjHz6vBcsJ+gOyejOmX4qGjg+oqi4whN00N7sobvqgC8QeWbNDIOgDpkHAB1yDgA6pBxANQh4wCoQ8YBUIeMA6DObhnnvJQStSdrZPDZGnpRRg3OO7nCXhTdILE99L4b7fDHv/3YTtccj6rMdY7JIlgdjcHb2ZrDQWXD6DlyahW1xnW3A7upUwtTm8Ddw5l4ZoPY3eUayIXZtcnwNMnB55V1G8xRObUO648itn1Fgwi9evWqPVnDd1UA6pBxANQh4wCoQ8YBUIeMA6AOGQdAHTIOgDpkHAB1UhnHFCE5rndqcC238N3suuynecmGSlwS+1aK8r+k5LbV7OCnX378ZTvtmD8QtW9u0HcZYRvd+xKMr73D1N7K2tzMwvetV96NvGQ3XE7ZPfF2jL0J56zQb7FEI7x+tH+7lmC3ga1Xbmdrlq3ZbXCJCsvUorspaI6Mo/6/HPTGtdtDN8hEteg7cvB20pMZPOS661fdTjq2z6tu8BvIDeLFNmhnj80P3G8QEd3dj627y/C4qI1HUmpna/g5DoA6ZBwAdcg4AOqQcQDUIeMAqEPGAVCHjAOgzuCMY/53/fb4+ExBga04UBJd8V6xdSntZJPMLarpkZPz2u6HP/z1X+10hSkns1V2R/FZxYcXKhpkPdoNU8sGRzW1nNlPLfrrkYMe3Ep2H2rgFmqP6/y8/QYR2bw/I7C5b4ioaSDLjidZhqcH19Eg4hF4eHiIx/b8yukX5rcczB0sbvElI6nuZnu4vSOndszUKmyW7RrYtdnxhUzfofQdPI6dVzewUdEgArZ7O1uTiQb16xfpqfXk+rcc+DkOgDpkHAB1yDgA6pBxANQh4wCoQ8YBUIeMA6AOGQdAncPv//LPdrrOFLMdjt0Gh0V7skZHj7IsOIjuZmHzP9sXZl6V795O1um+7XGdW9eeTNFYgh3Y1LPZSrl+fC6F6w8eARG9UN31shftyRpdhqf6LmXWosEkoxFaao67Tj//6It2usbcwiPv8Hljb95Cru/2kS9S3RN93bqzr2srcQvewvV2YRnXa9ND698kiJjurtmLpje27p6MigY2ulvNsVgWurhmj4qbcAP9974kfo4DoA4ZB0AdMg6AOmQcAHXIOADqkHEA1CHjAKhz+tlHn7fTd6c+0bdVo9kG24nuemo7rV5YZtm+r576py/3J1P4kqya0d3N0Km5B44dfUX3OdQfeykbbuerXFg1iJCNhvb8yuH7P//QTte4vacaROggPzv92P9FhOCmnrUnV2y0nXXoBr57e1xnurupzdxPk7hBg9wci0R3PbXuHV11d119q0VfMfgc6s8cET21WViM3p/6lt9y6C9t5HdV8r3Yk7he+7vntT1BO17Nu77NpOTKdWd+jgOgDhkHQB0yDoA6ZBwAdcg4AOqQcQDUIeMAqEPGAVDlxYv/A7Ox9ZVdSuKwAAAAAElFTkSuQmCC"},xnZ7:function(e,t,n){e.exports={v6:"shared_common_v6_2Lxgd",SubText:"shared_common_SubText_vg0EO",AvatarImageContainer:"shared_common_AvatarImageContainer_33hdF",GameImageContainer:"shared_common_GameImageContainer_2OYAD",AvatarImage:"shared_common_AvatarImage_2CQYc",STV_HomeGridPreviewDetails:"shared_common_STV_HomeGridPreviewDetails_Yncr-",ChatAvatarImage:"shared_common_ChatAvatarImage_1cUR_",EditButton:"shared_common_EditButton_VsZ-b",Small:"shared_common_Small_3M4j8",FlexCenter:"shared_common_FlexCenter_1R3yc",ThrobberCtn:"shared_common_ThrobberCtn_3m7p6",MarkdownLink:"shared_common_MarkdownLink_1Wqum",SummaryTextArea:"shared_common_SummaryTextArea_cNMZ-",RemoveIcon:"shared_common_RemoveIcon_3NeLW"}},"y+6m":function(e,t,n){"use strict";n.d(t,"c",function(){return g}),n.d(t,"d",function(){return y}),n.d(t,"b",function(){return S}),n.d(t,"e",function(){return w}),n.d(t,"g",function(){return C}),n.d(t,"a",function(){return O}),n.d(t,"f",function(){return E}),n.d(t,"h",function(){return B}),n.d(t,"i",function(){return I});var l=n("mrSG"),r=n("TyAF"),p=n("q1tI"),o=n("i8i4"),d=n("TtDX"),s=n("JMS6"),T=n("X3Ds"),i=n("bxiW"),c=n("6Y59"),a=n("D4wO"),m=n("TLQK"),h=n("lkRc"),u=n("+jbA"),f=n.n(u),b=n("exH9"),_=n("w9XT"),v=(n("UPxs"),p.createContext(null)),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.d)(t,e),t.prototype.componentDidMount=function(){this.context&&(this.context.m_refContextMenu=this).context.SetLabel(this.props.label)},t.prototype.componentDidUpdate=function(e){e.label!==this.props.label&&this.context&&this.context.SetLabel(this.props.label)},t.prototype.render=function(){var e,t,n,r=this.props,i=r.children,a=r.className,o=(r.label,r.onCancel,Object(l.f)(r,["children","className","label","onCancel"])),s=null!==(n=null===(t=this.context)||void 0===t?void 0:t.styles)&&void 0!==n?n:f.a,c=this.context&&this.context.options&&this.context.options.bUseWebStyles;return p.createElement("div",Object(l.a)({},o,{className:Object(b.a)(((e={popup_menu:c,popup_body:c})[s.contextMenuContents]=!c,e[s.hasSubMenu]=this.context&&this.context.BIsSubMenuVisible(),e),a)}),i)},t.contextType=v,Object(l.c)([r.observer],t)}(p.Component),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_ref=p.createRef(),e}return Object(l.d)(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this.m_ref.current},enumerable:!1,configurable:!0}),e.prototype.OnClick=function(e){this.props.disabled||(this.props.onClick&&this.props.onClick(e),this.props.bInteractableItem||(this.props.onSelected&&this.props.onSelected(e),this.context&&this.context.Hide()))},e.prototype.OnMouseEnter=function(e){this.context&&0==this.context.presentation&&this.context.HideSubMenu()},e.prototype.Focus=function(){this.m_ref.current&&this.m_ref.current.focus()},e.prototype.render=function(){var e,t,n,r=this.props,i=(r.onSelected,r.bInteractableItem,Object(l.f)(r,["onSelected","bInteractableItem"])),a=null!==(n=null===(t=this.context)||void 0===t?void 0:t.styles)&&void 0!==n?n:f.a,o=this.context&&this.context.options&&this.context.options.bUseWebStyles;return p.createElement("div",Object(l.a)({ref:this.m_ref,onMouseEnter:this.OnMouseEnter},i,{onClick:this.OnClick,unselectable:this.props.unselectable,className:Object(b.a)(this.props.className,((e={popup_menu_item:o})[a.contextMenuItem]=!o,e.contextMenuItem=!o,e.disabled=!!this.props.disabled,e))}),this.props.children)},e.contextType=v,Object(l.c)([i.a],e.prototype,"OnClick",null),Object(l.c)([i.a],e.prototype,"OnMouseEnter",null),Object(l.c)([i.a],e.prototype,"Focus",null),e}(p.PureComponent),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.bChecked,n=e.children,r=e.className,i=Object(l.f)(e,["bChecked","children","className"]);return p.createElement(y,Object(l.a)({},i,{className:Object(b.a)(r,t&&"menuChecked")}),p.createElement("div",{className:"contextMenuCheckMark"}),n)},t}(p.PureComponent),w=function(n){function e(e){var t=n.call(this,e)||this;return t.m_refItem=p.createRef(),t.state={bActive:!1},t}return Object(l.d)(e,n),e.prototype.OnSubMenuMouseEnter=function(){this.context&&this.context.CancelHideSubMenuTimer()},e.prototype.OnSubMenuHidden=function(){this.setState({bActive:!1})},e.prototype.ShowSubMenu=function(e){var t;!this.context||(t=this.context.ShowSubMenu(e,this.RenderSubMenu))&&(this.setState({bActive:!0}),t.SetOnHideCallback(this.OnSubMenuHidden))},e.prototype.RenderSubMenu=function(){return p.createElement(g,{onMouseEnter:this.OnSubMenuMouseEnter,label:this.props.label},this.props.children)},e.prototype.OnMouseEnter=function(e){this.context&&0==this.context.presentation&&this.ShowSubMenu(e.currentTarget)},e.prototype.OnClick=function(e){this.OnMouseEnter(e),this.props.onClick&&this.props.onClick(e)},e.prototype.render=function(){var e,t,n=this.props,r=n.label,i=(n.children,n.className),a=Object(l.f)(n,["label","children","className"]),o=null!==(t=null===(e=this.context)||void 0===e?void 0:e.styles)&&void 0!==t?t:f.a;return p.createElement(_.b,{boundActions:!1},p.createElement(y,Object(l.a)({},a,{ref:this.m_refItem,onClick:this.OnClick,className:Object(b.a)(i,o.SubMenu,this.state.bActive&&o.active),onMouseEnter:this.OnMouseEnter,onSelected:null,bInteractableItem:!0}),p.createElement("div",{className:o.Label},r),p.createElement("div",{className:o.Arrow},p.createElement(c.w,null))))},e.contextType=v,Object(l.c)([i.a],e.prototype,"OnSubMenuMouseEnter",null),Object(l.c)([i.a],e.prototype,"OnSubMenuHidden",null),Object(l.c)([i.a],e.prototype,"ShowSubMenu",null),Object(l.c)([i.a],e.prototype,"RenderSubMenu",null),Object(l.c)([i.a],e.prototype,"OnMouseEnter",null),Object(l.c)([i.a],e.prototype,"OnClick",null),e}(p.PureComponent),C=function(n){function e(e){var t=n.call(this,e)||this;return t.m_elMenu=void 0,t.m_cReenteranceGuard=1,t.state={ready:!1,menuLeft:void 0,menuTop:void 0,menuRight:void 0,menuBottom:void 0,menuWidth:void 0,menuHeight:void 0},t.m_mutationObserver=new MutationObserver(t.OnMenuMutation),t}return Object(l.d)(e,n),e.prototype.BindMenuElement=function(e){var t=this;this.m_elMenu&&(this.m_mutationObserver.disconnect(),this.props.popup||this.m_elMenu.ownerDocument.defaultView.removeEventListener("resize",this.OnWindowResize)),e&&(this.m_mutationObserver.observe(e,{childList:!0,subtree:!0}),this.props.popup||e.ownerDocument.defaultView.addEventListener("resize",this.OnWindowResize)),this.m_elMenu=e||void 0,this.PositionMenu(),this.state.ready||(this.props.instance.SetTakeFocus(this.TakeFocus.bind(this)),this.setState({ready:!0},function(){t.TakeFocus()}))},e.prototype.OnMenuMutation=function(e,t){this.PositionMenu()},e.prototype.OnWindowResize=function(){this.PositionMenu()},e.prototype.OnBlur=function(e){e.relatedTarget&&T.c(e.currentTarget,e.relatedTarget)||e.relatedTarget&&this.props.instance.BIsElementInMenuHierarchy(e.relatedTarget)||this.props.instance.BIsSubMenuVisible()||this.state.ready&&this.props.instance.visible&&this.props.instance.Hide()},e.prototype.OnKeyDown=function(e){27==e.keyCode&&this.state.ready&&(this.props.instance.Hide(),e.preventDefault(),e.stopPropagation())},e.prototype.componentDidUpdate=function(){0<this.m_cReenteranceGuard--?this.PositionMenu():this.m_cReenteranceGuard=2},e.prototype.TakeFocus=function(){var e;this.m_elMenu&&this.state.ready&&this.props.instance.visible&&(!this.props.popup&&T.c(this.m_elMenu,this.m_elMenu.ownerDocument.activeElement)||((e=this.m_elMenu.querySelector(".ContextMenuAutoFocus"))&&e.focus?e.focus():this.m_elMenu.focus()))},e.prototype.PositionMenu=function(){var e,t,n,r,i,a,o,s,c,l,u,p,d,m,h,f,b,_,v,g,y,S,w,C,O,E,B,A,I,j,D=this.m_elMenu,R=this.props.element;D&&R&&("none"!==(e=R.ownerDocument.defaultView).getComputedStyle(R).display&&(t=R.getBoundingClientRect(),n=D.getBoundingClientRect(),r=null!=this.props.popup,i=this.props.options,a={menuLeft:void 0,menuRight:void 0,menuTop:void 0,menuBottom:void 0,menuWidth:void 0,menuHeight:void 0},o=this.props.clientX,s=this.props.clientY,c=e.innerWidth,l=e.innerHeight,r&&(this.props.options.bScreenCoordinates||(o+=e.screenLeft,s+=e.screenTop),t=T.f(e,t),d=p=0,(u=e.screen).availLeft&&(p=u.availLeft),u.availTop&&(d=u.availTop),c=p+u.availWidth,l=d+u.availHeight),(i.bOverlapHorizontal||i.bOverlapVertical)&&(o=s=void 0),m=o||t.left,h=o||t.right,f=n.width,i.bMatchWidth&&(f=h-m,a.menuWidth=f),_=0<(b=(i.bOverlapHorizontal?h:m)-f),g=0<(v=c-(i.bOverlapHorizontal?m:h)-f),y=(i.bPreferPopLeft||!g)&&_,_||g||(y=g<_,i.bFitToWindow&&(f+=(y?b:v)-8,a.menuWidth=f)),!i.bPreferPopLeft&&g||!_?a.menuLeft=i.bOverlapHorizontal?m:h:a.menuRight=c-(i.bOverlapHorizontal?h:m),S=s||t.top,w=s||t.bottom,C=D.scrollHeight,i.bMatchHeight&&(C=w-S,a.menuHeight=C),E=0<(O=(i.bOverlapVertical?w:S)-C),A=0<(B=l-(i.bOverlapVertical?S:w)-C),j=(i.bPreferPopTop||!A)&&E&&!i.bDisablePopTop,E||A||(I=void 0!==i.bShiftToFitWindow?i.bShiftToFitWindow:i.bFitToWindow&&!i.bOverlapHorizontal,j=B<O&&!i.bDisablePopTop,I&&(j?a.menuTop=4:a.menuBottom=4),i.bFitToWindow&&(I?C=Math.min(C,l-8):C+=j?O:B,a.menuHeight=C-8)),void 0===a.menuBottom&&void 0===a.menuTop&&(j?a.menuBottom=l-(i.bOverlapVertical?w:S):a.menuTop=i.bOverlapVertical?S:w),r?(a.menuHeight||(a.menuHeight=n.height),a.menuWidth||(a.menuWidth=n.width),a.menuBottom&&!a.menuTop&&(a.menuTop=l-a.menuBottom-a.menuHeight,a.menuBottom=void 0),a.menuRight&&!a.menuLeft&&(a.menuLeft=c-a.menuRight-a.menuWidth,a.menuRight=void 0)):(a.menuLeft&&(a.menuLeft+=e.scrollX),a.menuTop&&(a.menuTop+=e.scrollY),a.menuBottom&&(a.menuBottom+=e.document.body.clientHeight-e.scrollY-e.innerHeight),a.menuRight&&(a.menuRight+=e.document.body.clientWidth-e.scrollX-e.innerWidth)),a.menuLeft===this.state.menuLeft&&a.menuRight===this.state.menuRight&&a.menuTop===this.state.menuTop&&a.menuBottom===this.state.menuBottom&&a.menuWidth===this.state.menuWidth&&a.menuHeight===this.state.menuHeight||this.setState(a)))},e.prototype.render=function(){var i,a=this,e={visibility:this.state.ready?"visible":"hidden"};this.props.popup?(i=this.props.element.ownerDocument.defaultView,void 0!==this.state.menuLeft&&void 0!==this.state.menuTop&&void 0!==this.state.menuWidth&&void 0!==this.state.menuHeight&&i.SteamClient.Window.GetWindowRestoreDetails(function(e){var t=a.props.popup.window,n=a.state.menuLeft-i.screenX,r=a.state.menuTop-i.screenY;try{t.SteamClient.Window.PositionWindowRelative(e,n,r,a.state.menuWidth,a.state.menuHeight)}catch(e){console.error(e)}})):(void 0!==this.state.menuTop?e.top=this.state.menuTop:void 0!==this.state.menuBottom&&(e.bottom=this.state.menuBottom),void 0!==this.state.menuLeft?e.left=this.state.menuLeft:void 0!==this.state.menuRight&&(e.right=this.state.menuRight),void 0!==this.state.menuHeight&&(e.height=this.state.menuHeight),void 0!==this.state.menuWidth&&(e.width=this.state.menuWidth));var t=this.props.options.strClassName||(this.props.options.bUseWebStyles?"popup_block_new popup_block_hidden_until_visible":f.a.contextMenu);return this.props.instance.visible&&this.state.ready&&(t+=" visible"),t+=" "+f.a.ContextMenuFocusContainer,p.createElement(v.Provider,{value:this.props.instance},p.createElement("div",{className:t,ref:this.BindMenuElement,style:e,onBlur:this.OnBlur,onKeyDown:this.OnKeyDown,tabIndex:0},this.props.children))},Object(l.c)([i.a],e.prototype,"BindMenuElement",null),Object(l.c)([i.a,Object(a.a)(100)],e.prototype,"OnMenuMutation",null),Object(l.c)([i.a],e.prototype,"OnWindowResize",null),Object(l.c)([i.a],e.prototype,"OnBlur",null),Object(l.c)([i.a],e.prototype,"OnKeyDown",null),Object(l.c)([r.observer],e)}(p.Component),O=function(i){function a(e,t,n){var r=i.call(this,"contextmenu_"+a.sm_iContextMenuInstance++,{title:"Menu",html_class:f.a.ContextMenuPopup+" client_chat_frame",body_class:"ContextMenuPopupBody",replace_existing_popup:!1,target_browser:n,eCreationFlags:s.b.ContextMenu})||this;return r.m_menuProps=e,r.m_children=t,r}return Object(l.d)(a,i),a.prototype.UpdateParamsBeforeShow=function(e){var t;return this.m_menuProps.options.bScreenCoordinates?e.dimensions={left:this.m_menuProps.clientX,top:this.m_menuProps.clientY,width:350,height:1}:(t=T.f(this.m_menuProps.element.ownerDocument.defaultView,this.m_menuProps.element.getBoundingClientRect()),e.dimensions={left:t.right,top:t.top,width:350,height:1}),e.availscreenwidth=this.m_menuProps.element.ownerDocument.defaultView.screen.availWidth,e.availscreenheight=this.m_menuProps.element.ownerDocument.defaultView.screen.availHeight,e},a.prototype.Render=function(e,t){o.render(p.createElement(C,Object(l.a)({},this.m_menuProps,{popup:this}),this.m_children),t)},a.prototype.OnBlur=function(){},a.prototype.OnFocus=function(){},a.prototype.OnLoad=function(){},a.prototype.OnResize=function(){},a.prototype.OnClose=function(){},a.sm_iContextMenuInstance=0,a}(s.a);function E(e){return p.createElement("div",{className:f.a.ContextMenuMouseOverlay})}function B(e){var t,n,i,r,a=[],o=T.n(e),s=o.getSelection(),c=s&&0<s.rangeCount&&0<s.toString().length,l=e.target,u=!1;if(l&&"tagName"in l&&("INPUT"!=l.tagName&&"TEXTAREA"!=l.tagName||(u=!0)),h.c.IN_CLIENT&&u&&o.SteamClient._internal&&o.SteamClient._internal.GetSpellingSuggestions&&o.SteamClient._internal.AddWordToDictionary&&(t=o.SteamClient._internal.GetSpellingSuggestions(),r=t[0],n=t.slice(1),(i=l)&&n.forEach(function(r,e){a.push(p.createElement(y,{key:"spelling_"+e+"_"+r,onSelected:function(){var e,t,n;i.setRangeText(r),e=i,t=o.document,(n=t.createEvent("HTMLEvents")).initEvent("change",!0,!1),e.dispatchEvent(n),i.setSelectionRange(i.selectionEnd,i.selectionEnd),l.focus()},className:f.a.NoSeparation},r))}),r&&(r=r.trim(),a.push(p.createElement(y,{key:"addtodictionary_"+r,onSelected:function(){return o.SteamClient._internal.AddWordToDictionary(r)}},Object(m.f)("#ContextMenu_AddToDictionary",r.length<30?r:r.substring(0,30)+"..."))))),(o.document.queryCommandEnabled("cut")||c&&u)&&a.push(p.createElement(y,{key:"cut",onSelected:function(){o.document.execCommand("cut")}},Object(m.f)("#ContextMenu_Cut"))),(o.document.queryCommandEnabled("copy")||c)&&a.push(p.createElement(y,{key:"copy",onSelected:function(){o.document.execCommand("copy")},className:f.a.NoSeparation},Object(m.f)("#ContextMenu_Copy"))),h.c.IN_CLIENT&&u&&o.SteamClient._internal&&o.SteamClient._internal.Paste&&a.push(p.createElement(y,{key:"paste",onSelected:function(){l.focus(),o.SteamClient._internal.Paste()},className:f.a.NoSeparation},Object(m.f)("#ContextMenu_Paste"))),a.length)Object(d.a)(p.createElement(g,null,a),e);else{if(e.shiftKey)return;e.preventDefault(),e.stopPropagation()}}var A="DEBUG_StickyContextMenus";function I(e){e?window.sessionStorage.setItem(A,"true"):window.sessionStorage.removeItem(A)}},"y6W+":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAgCAYAAABdP1tmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY2NjJDODAwNjAxMzExRTY5RjUxRDgyNTkwNzIzRUM1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY2NjJDODAxNjAxMzExRTY5RjUxRDgyNTkwNzIzRUM1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjY2MkM3RkU2MDEzMTFFNjlGNTFEODI1OTA3MjNFQzUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjY2MkM3RkY2MDEzMTFFNjlGNTFEODI1OTA3MjNFQzUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5/7Jn3AAACUElEQVR42uyYTWsTQRjHs0kb04TWU6xERIo92aJVkeLBoCBV8Cv0Uqi0fgVPFnrxE5R6sdCjevLYQ0nUgG8IIgoVaZGkh9KkGLAaWzP9D4wwDJmdZ2fSEco+8IOd2f3PzDOvz2zAGEscJUsmjpjFDsUOxQ79X4eugGXwGdTABqiA+yAXopsAz8Ca0K2DVTALUk4t4tu2JTfAT6a3Esh20E2ycFsCgW27bJ1JgffMbNOK7jioEXTXbR2ynXJnwAXCd7eV9EVQIOgmfK+hQeJcP6GkCxHK9+pQYFF+T4T6krZttHVoB7QJ3zWUTtgmll+X9y0fDp0jVnQKZKT0KLH8IWkWeHHoNHEN8c0jrTSUYsO+19Br4nffQFPq6QpR9ynqyLg69FFUGmZ8jT1X1kIZbBp0fxSdt0hhynA4fgfHpO//nf5zBl3ZoU1OsdwXw3s+Ei3xnJamkEn3VXpO+wxOP4B3mnd/wSPNucWD0KpGtyuCXast23XKcW5qps1Lg+6uRvfYsT3O14eGJv93h7yU5uBUR0iNSAJfU47buCb/LMgreTmpvqsa3XmQVaZcJlJMFvE31kkwIiLtIrgVUiG/uK2AN2Kb52tuAFwD90RnZDvo+KXvFXgB3hKOB6s1NAaegjqztw1xueOdmAeL4AdBx9djsZsXvDugybpjLbAMesUl8QnYI2rnu+FQwXFUdPZQlH8ZVEGbqJtxdegBOxz7JTqrByyINMXWQZ/Ltn0pZGs2GT9c96VoQTaeNybel8AWsZ5+U8QexD/rY4f82oEAAwB5wuga+KRqmAAAAABJRU5ErkJggg=="},yJqL:function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return S}),n.d(t,"c",function(){return ne});var o,r,s=n("mrSG"),c=n("2vnA"),i=n("TyAF"),C=n("q1tI"),w=n("uuth"),O=n("mgoM"),E=n("kyHq"),B=n("3+zv"),A=n("kLLr"),I=n("ir+G"),j=n("U+Q5"),D=n("TQGK"),R=n("ee7K"),T=n("5izx"),M=n("9w6b"),N=n("y+6m"),L=n("ylkE"),k=n("TOXn"),F=n("4sqd"),a=n("6eA3"),P=n.n(a),G=n("BpzF"),l=n("fpVW"),U=n.n(l),x=n("UxvL"),z=n("6Y59"),u=n("0OaU"),H=n("+d9t"),p=n("hJxo"),d=n("r64O"),m=n("qiKp"),W=n("exH9"),h=n("X3Ds"),V=n("TLQK"),f=n("bxiW"),q=n("IzPI"),Y=n("lkRc"),b=n("G24H"),Q=n.n(b),Z=n("2aEQ"),K=n("mB/g"),J=n("cGQe"),X=n("Fmfl"),$=n("45m9"),ee=n("RQmk"),te=C.lazy(function(){return n.e(2).then(n.bind(null,"NIbt"))}),_=function(n){function e(e){var t=n.call(this,e)||this;return t.m_loader=null,t.m_refPage=C.createRef(),t.m_refContent=C.createRef(),t.m_refScroll=C.createRef(),t.m_refScrollAnchor=C.createRef(),t.m_scrollAnimation=null,t.m_nPreviousRenderCount=0,t.m_nCurrentRenderCount=0,t.props.bShowOnlyInitialEvent||(t.m_loader=new y(t.props.partnerEventStore),t.m_loader.InitAroundEvent(t.props.initialEvent)),t}return Object(s.d)(e,n),e.prototype.FindCurrentlyViewedEventIndex=function(){if(!this.m_refContent.current||!this.m_refScroll.current)return-1;for(var e=this.m_refContent.current.children,t=this.GetScrollTopForComparison(),n=0;n<e.length;n++){var r=e[n],i=r.offsetTop,a=i+r.clientHeight;if(i<=t&&t<a)return n}return-1},e.prototype.GetPaddingTop=function(){return this.props.showAppHeader?136:56},e.prototype.GetScrollTopForComparison=function(){return Math.ceil(this.m_refScroll.current.scrollTop+this.GetPaddingTop()+24)},e.prototype.ScrollToEvent=function(e){var t,n=this.m_refContent.current;n&&(e<0||e>=n.children.length||this.m_scrollAnimation||(t=n.children[e].offsetTop-this.GetPaddingTop(),this.ScrollToOffset(t)))},e.prototype.ScrollToOffset=function(e){var t,n=this.m_refScroll.current;n&&(t={msDuration:500,timing:"cubic-in-out",onComplete:this.OnScrollComplete},this.m_scrollAnimation=new p.a(n,{scrollTop:e},t),this.m_scrollAnimation.Start())},e.prototype.ScrollToBottom=function(){this.m_refScroll.current&&this.ScrollToOffset(this.m_refScroll.current.scrollHeight)},e.prototype.ScrollToNextEvent=function(){var e=this.m_loader.GetEvents(),t=this.FindCurrentlyViewedEventIndex()+1;t>=e.length?this.ScrollToBottom():(this.ScrollToEvent(t),t==e.length-1&&this.m_loader.LoadMoreAtEnd())},e.prototype.ScrollToPrevEvent=function(){var e,t,n,r,i,a=this.FindCurrentlyViewedEventIndex(),o=a-1;o<0?this.ScrollToOffset(0):((e=this.m_refContent.current)&&(r=(n=(t=e.children[a]).offsetTop)+t.clientHeight,i=this.GetScrollTopForComparison(),n<=(i-=.3*(r-n))&&(o=a)),this.ScrollToEvent(o))},e.prototype.OnScrollComplete=function(){this.m_scrollAnimation=null},e.prototype.Close=function(){this.props.closeModal&&this.props.closeModal()},e.prototype.OnBackgroundClick=function(e){e.currentTarget==e.target&&this.Close()},e.prototype.OnKeyDown=function(e){27==e.keyCode&&this.Close()},e.prototype.OnScroll=function(e){var t,n;this.props.bShowOnlyInitialEvent||(t=this.m_refScroll.current)&&(n=t.clientHeight,t.scrollHeight-(t.scrollTop+n)<=n&&this.m_loader.LoadMoreAtEnd(),t.scrollTop<=n&&this.m_loader.LoadMoreAtBeginning())},e.prototype.getSnapshotBeforeUpdate=function(e){var t=this.m_nCurrentRenderCount!=this.m_nPreviousRenderCount;if(this.m_nPreviousRenderCount=this.m_nCurrentRenderCount,!t)return null;var n=this.m_refScroll.current;if(!n||!this.m_refScrollAnchor.current)return null;var r=this.m_refScrollAnchor.current.GetDOM();return r?r.offsetTop-n.scrollTop:null},e.prototype.OnTouchStart=function(e){1==e.touches.length&&(this.m_nTouchStartClientY=e.touches[0].clientY)},e.prototype.OnTouchMove=function(e){var t;this.m_refScroll.current&&0!=e.touches.length&&(t=this.m_nTouchStartClientY-e.touches[0].clientY,this.SuppressUnwantedScrollEventsBecauseSafariIsDumb(e,t))},e.prototype.OnWheel=function(e){this.SuppressUnwantedScrollEventsBecauseSafariIsDumb(e,e.deltaY)},e.prototype.SuppressUnwantedScrollEventsBecauseSafariIsDumb=function(e,t){var n=e.target instanceof Node&&h.c(this.m_refScroll.current,e.target),r=t<0&&this.m_refScroll.current.scrollTop<1,i=this.m_refScroll.current.scrollHeight-this.m_refScroll.current.scrollTop<=this.m_refScroll.current.clientHeight;(!n||r||0<t&&i)&&e.cancelable&&e.preventDefault()},e.prototype.SetGlobalHeaderHidden=function(e){var t=document.getElementsByClassName("responsive_header");Object(d.a)(t.length<=1,"Must have at most one responsive_header"),1<=t.length&&(t[0].style.display=e?"none":null)},e.prototype.SetFooterPinnedToBottom=function(e){var t=document.getElementById("footer");t&&(t.style.position=e?"absolute":null)},e.prototype.componentDidMount=function(){var e=this.m_refScroll.current;e&&!h.c(e,e.ownerDocument.activeElement)&&e.focus();var t=this.m_refPage.current;t&&(t.addEventListener("touchstart",this.OnTouchStart),t.addEventListener("touchmove",this.OnTouchMove,{passive:!1}),t.addEventListener("wheel",this.OnWheel,{passive:!1})),this.props.showAppHeader&&this.SetGlobalHeaderHidden(!0),this.SetFooterPinnedToBottom(!0)},e.prototype.componentDidUpdate=function(e,t,n){var r,i;null!==n&&((r=this.m_refScroll.current)&&!h.c(r,r.ownerDocument.activeElement)&&r.focus(),(i=this.m_refScrollAnchor.current?this.m_refScrollAnchor.current.GetDOM():null)&&(r.scrollTop=i.offsetTop-n))},e.prototype.componentWillUnmount=function(){var e=this.m_refPage.current;e&&(e.removeEventListener("touchstart",this.OnTouchStart),e.removeEventListener("touchmove",this.OnTouchMove),e.removeEventListener("wheel",this.OnWheel)),this.props.showAppHeader&&this.SetGlobalHeaderHidden(!1),this.SetFooterPinnedToBottom(!1)},e.prototype.render=function(){for(var e,t,n=this.props,r=n.initialEvent,i=n.bShowOnlyInitialEvent,a=[],o=0,s=i?[r]:this.m_loader.GetEvents();o<s.length;o++){var c=s[o],l=c.GID==this.props.initialEvent.GID;a.push(C.createElement(g,{ref:l?this.m_refScrollAnchor:null,key:c.GID,event:c,emoticonStore:this.props.emoticonStore,partnerEventStore:this.props.partnerEventStore,appStore:this.props.appInfoStore,disableReadTracking:l,fnFilterImageURLsForKnownFailures:this.props.fnFilterImageURLsForKnownFailures,fnImageFailureCallback:this.props.fnImageFailureCallback,bDisableBroadcastPlayer:!l})),null==e&&(e=c.appid),null==t&&(t=c.clanSteamID.GetAccountID())}this.m_nCurrentRenderCount=a.length;var u,p,d="";return this.props.onAppIconClick&&(e?d=(u=e&&this.props.appInfoStore.GetAppInfo(e))?u.icon_url:"":t&&(d=(p=D.a.GetClanInfoByClanAccountID(t))?p.avatar_full_url:"")),C.createElement("div",{className:Q.a.AppPartnerEventsPage,ref:this.m_refPage},this.props.showAppHeader&&C.createElement(ne,{appId:e,clanId:t}),C.createElement("div",{className:Object(W.a)(Q.a.AppPartnerEventsBody,Q.a.EndlessScroll),ref:this.m_refScroll,onScroll:this.OnScroll,onClick:this.OnBackgroundClick,tabIndex:-1,onKeyDown:this.OnKeyDown},C.createElement("div",{className:Object(W.a)(Q.a.ControlSection,!this.props.onAppIconClick&&Q.a.NoGameLink,i&&Q.a.NoScrollArrows)},C.createElement("div",{className:Q.a.ControlSectionWidth},C.createElement("div",{className:Q.a.ControlSectionRightSide},Boolean(this.props.closeModal)&&C.createElement("div",{className:Object(W.a)(Q.a.CloseButton,Q.a.AnimIn),onClick:this.Close},C.createElement(z.Jb,null)),!i&&C.createElement("div",{className:Object(W.a)(Q.a.ScrollButton,Q.a.Up,Q.a.AnimIn),onClick:this.ScrollToPrevEvent},C.createElement(z.G,{angle:0})),!i&&C.createElement("div",{className:Object(W.a)(Q.a.ScrollButton,Q.a.Down,Q.a.AnimIn),onClick:this.ScrollToNextEvent},C.createElement(z.G,{angle:180})),this.props.onAppIconClick&&C.createElement("div",{className:Object(W.a)(Q.a.ScrollButton,Q.a.GameArt,Q.a.AnimIn),onClick:this.props.onAppIconClick},C.createElement("img",{src:d}))))),!i&&C.createElement(v,{loader:this.m_loader,location:"top"}),C.createElement("div",{ref:this.m_refContent,className:Object(W.a)(Q.a.AppPartnerEventsContainer,!this.props.onAppIconClick&&Q.a.NoGameLink)},a),!i&&C.createElement(v,{loader:this.m_loader,location:"bottom"})))},Object(s.c)([f.a],e.prototype,"ScrollToNextEvent",null),Object(s.c)([f.a],e.prototype,"ScrollToPrevEvent",null),Object(s.c)([f.a],e.prototype,"OnScrollComplete",null),Object(s.c)([f.a],e.prototype,"Close",null),Object(s.c)([f.a],e.prototype,"OnBackgroundClick",null),Object(s.c)([f.a],e.prototype,"OnKeyDown",null),Object(s.c)([f.a],e.prototype,"OnScroll",null),Object(s.c)([f.a],e.prototype,"OnTouchStart",null),Object(s.c)([f.a],e.prototype,"OnTouchMove",null),Object(s.c)([f.a],e.prototype,"OnWheel",null),Object(s.c)([i.observer],e)}(C.Component),v=Object(i.observer)(function(e){var t=e.loader.GetNewerState(),n=e.loader.GetOlderState();return(t!=o.Loading||n!=o.Loading)&&("top"==e.location?t:n)==o.Loading?C.createElement("div",{className:Q.a.DirectionState},C.createElement(u.a,{position:"center",string:Object(V.f)("#Loading")})):null}),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refContent=C.createRef(),e.m_sendReadInfo=new m.b,e.m_bSentRead=!1,e}return Object(s.d)(e,t),e.prototype.OnEnterVisible=function(){var e=this;this.m_bSentRead||this.m_sendReadInfo.IsScheduled()||this.m_sendReadInfo.Schedule(750,function(){M.a.Get().RecordEventRead(e.props.event,4),e.m_bSentRead=!0})},e.prototype.OnLeaveVisible=function(){this.m_sendReadInfo.Cancel()},e.prototype.GetDOM=function(){return this.m_refContent.current},e.prototype.render=function(){var e=this.props,t=e.event,n=e.langOverride,r=e.partnerEventStore,i=e.emoticonStore,a=e.appStore,o=e.fnFilterImageURLsForKnownFailures,s=e.fnImageFailureCallback,c=e.headerClassnames,l=e.isPreview,u=n||Object(O.h)(Y.c.LANGUAGE),p=t.GetDescriptionWithFallback(u)||"",d=c,m=t.GetImageForSizeAsArrayWithFallback("background",u,j.c.background_main);o&&(m=o(m));var h,f,b=t.GetCategoryAsString(),_=t.type,v=t.BImageNeedScreenshotFallback("background",u),g="";t.appid?g=(h=a.GetAppInfo(t.appid))?h.name:"":t.clanSteamID&&(g=(f=D.a.GetClanInfoByClanAccountID(t.clanSteamID.GetAccountID()))?f.group_name:"");var y=T.a.GetTimeNowWithOverride(),S=28!==_&&y<t.GetStartTimeAndDateUnixSeconds()&&!l;return C.createElement("div",{ref:this.m_refContent,className:Object(W.a)(Q.a.PartnerEvent,P.a.InLibraryView,"editor"==d?P.a.InEditor:"")},12!=_&&!v&&C.createElement(x.a,{className:Object(W.a)(P.a.EventCoverImageBackground),rgSources:m,onIncrementalError:function(e,t,n){return s&&s(t)}}),0<m.length&&C.createElement(x.a,{className:P.a.EventBackgroundBlur,rgSources:m,onIncrementalError:function(e,t,n){return s&&s(t)}}),C.createElement("div",{className:P.a.LibraryEventTitleContainer},C.createElement("div",{className:P.a.EventDetailTitleContainer},C.createElement("div",{className:Object(W.a)(Q.a.EventTypeAndTimeRow,S&&Q.a.WithReminder)},C.createElement("div",{className:Q.a.TimeandPostedBy},C.createElement("span",{className:Q.a.EventType},b),C.createElement("span",{className:Q.a.PostedBy}," ",Object(V.f)("#EventDisplay_PostedBy"),g," "),C.createElement(G.c,{event:t})),S&&!l&&C.createElement("div",{className:Q.a.ReminderContainer},C.createElement(J.a,{eventModel:t,eventGID:t.GID,lang:u,bExpandLeft:!0}))),!this.props.disableReadTracking&&!l&&C.createElement(w.a,{onEnter:this.OnEnterVisible,onLeave:this.OnLeaveVisible,bottomOffset:"300px"}),C.createElement(K.c,{eventModel:t,forceAnchor:!0,route:K.a.k_eView,className:P.a.EventDetailTitle},t.GetNameWithFallback(u)),t.BHasSubTitle(u)&&C.createElement("div",{className:Object(W.a)(P.a.EventDetailsSubTitle,Q.a.LibraryViewSubtitle)},t.GetSubTitle(u)),C.createElement("div",{className:P.a.EventDetailUserType}))),Boolean(t.BEventCanShowBroadcastWidget()&&!this.props.bDisableBroadcastPlayer)&&C.createElement("div",{className:P.a.EventBroadcastCtn},C.createElement(C.Suspense,{fallback:C.createElement("div",null)},C.createElement(te,{event:this.props.event}))),t.BHasTag("steam_award_nomination_request")&&C.createElement(F.a,{event:t,lang:u}),t.BHasTag("steam_award_vote_request")&&C.createElement(F.b,{appID:t.appid,bIsEventActionEnabled:t.BIsEventActionEnabled(),voteCategories:t.GetSteamAwardNomineeCategories()}),C.createElement("div",{className:P.a.LibraryEventBodyContainer},C.createElement("div",{className:Object(W.a)(P.a.EventDetailsBody,Q.a.EventDetailsBody),onContextMenu:Y.c.IN_CLIENT?N.h:void 0},C.createElement(k.b,{text:p,partnerEventStore:r,event:t}),C.createElement("span",{className:U.a.Clear})),C.createElement($.a,{event:this.props.event}),Boolean(t.jsondata.read_more_link)&&C.createElement("div",{className:Object(W.a)(Q.a.ReadMoreCnt)},C.createElement(H.a,{className:Object(W.a)(U.a.Button),href:t.jsondata.read_more_link},Object(V.f)("#EventEmail_Button_ClickForMoreDetails"))),Boolean(t.jsondata.bSaleEnabled&&t.jsondata.sale_vanity_id)&&C.createElement("div",{className:Object(W.a)(Q.a.ReadMoreCnt)},C.createElement(H.a,{className:Object(W.a)(U.a.Button),href:Object(q.d)(t.GetSaleURL())},Object(V.f)("#Event_Button_VisitSalePage"))),C.createElement(G.a,{appid:t.appid})),!Boolean(l)&&C.createElement(L.b,{eventModel:t,partnerEventStore:r,emoticonStore:i}))},Object(s.c)([f.a],e.prototype,"OnEnterVisible",null),Object(s.c)([f.a],e.prototype,"OnLeaveVisible",null),Object(s.c)([i.observer],e)}(C.Component);(r=o=o||{})[r.Idle=1]="Idle",r[r.Loading=2]="Loading",r[r.EndOfContent=3]="EndOfContent";var y=function(){function e(e){this.k_nMaxPerDirection=3,this.m_nAppID=0,this.m_rgEvents=[],this.m_eOlderDirection=o.Idle,this.m_eNewerDirection=o.Idle,this.m_partnerEventStore=e}return e.prototype.GetEvents=function(){return this.m_rgEvents},e.prototype.GetAppID=function(){return this.m_nAppID},e.prototype.GetOlderState=function(){return this.m_eOlderDirection},e.prototype.GetNewerState=function(){return this.m_eNewerDirection},e.prototype.InitAroundEvent=function(i){return Object(s.b)(this,void 0,void 0,function(){var t,n,r=this;return Object(s.e)(this,function(e){switch(e.label){case 0:t=this.m_partnerEventStore,this.m_nAppID=i.appid,this.m_clanSteamID=i.clanSteamID,this.m_rgEvents=[],this.m_eOlderDirection=o.Loading,this.m_eNewerDirection=o.Loading,this.m_rgEvents.push(i),n=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.LoadAdjacentPartnerEventsByEvent(i,this.m_clanSteamID,this.m_nAppID,this.k_nMaxPerDirection,this.k_nMaxPerDirection)];case 2:return n=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return Object(c.runInAction)(function(){if(!n||0==n.length)return r.m_eOlderDirection=o.Idle,void(r.m_eNewerDirection=o.Idle);var e=n.findIndex(function(e){return e.GID==i.GID}),t=0<=e?n.length-e-1:0;r.m_eNewerDirection=e>=r.k_nMaxPerDirection?o.Idle:o.EndOfContent,r.m_eOlderDirection=t>=r.k_nMaxPerDirection?o.Idle:o.EndOfContent,r.m_rgEvents=n}),[2]}})})},e.prototype.LoadMoreAtEnd=function(){return Object(s.b)(this,void 0,void 0,function(){var t,i,a=this;return Object(s.e)(this,function(e){switch(e.label){case 0:if(this.m_eOlderDirection!=o.Idle)return[2];if(0==this.m_rgEvents.length)return[2];t=this.m_rgEvents[this.m_rgEvents.length-1],this.m_eOlderDirection=o.Loading,i=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.m_partnerEventStore.LoadAdjacentPartnerEventsByEvent(t,this.m_clanSteamID,this.m_nAppID,0,this.k_nMaxPerDirection)];case 2:return i=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return Object(c.runInAction)(function(){if(i){for(var e=new Set(a.m_rgEvents.map(function(e){return e.GID})),t=0,n=i;t<n.length;t++){var r=n[t];e.has(r.GID)||(a.m_rgEvents.push(r),e.add(r.GID))}a.m_eOlderDirection=i.length>=a.k_nMaxPerDirection?o.Idle:o.EndOfContent}else a.m_eOlderDirection=o.Idle}),[2]}})})},e.prototype.LoadMoreAtBeginning=function(){return Object(s.b)(this,void 0,void 0,function(){var t,i,a=this;return Object(s.e)(this,function(e){switch(e.label){case 0:if(this.m_eNewerDirection!=o.Idle)return[2];if(0==this.m_rgEvents.length)return[2];t=this.m_rgEvents[0],this.m_eNewerDirection=o.Loading,i=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.m_partnerEventStore.LoadAdjacentPartnerEventsByEvent(t,this.m_clanSteamID,this.m_nAppID,this.k_nMaxPerDirection,0)];case 2:return i=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return Object(c.runInAction)(function(){if(i){for(var e=new Set(a.m_rgEvents.map(function(e){return e.GID})),t=0,n=i.reverse();t<n.length;t++){var r=n[t];e.has(r.GID)||(a.m_rgEvents.unshift(r),e.add(r.GID))}a.m_eNewerDirection=i.length>=a.k_nMaxPerDirection?o.Idle:o.EndOfContent}else a.m_eNewerDirection=o.Idle}),[2]}})})},Object(s.c)([c.observable.shallow],e.prototype,"m_rgEvents",void 0),Object(s.c)([c.observable],e.prototype,"m_eOlderDirection",void 0),Object(s.c)([c.observable],e.prototype,"m_eNewerDirection",void 0),e}(),S=Object(i.observer)(function(e){var t=e.appId,n=e.clanId,r=Y.c.IN_CLIENT&&R.a.BOwnsApp(t),i=null,a=null,o=null,s=null,c=null,l=null,u=null,p=null,d=null,m=Boolean(t!==B.r),h=null;if(t){var f=I.a.GetStoreCapsuleInfo(t);if(!f||!f.BIsLoaded())return null;o=(h=f.GetAppStoreData()).header_image_url,s=h.name,h.type||(h.type="game"),r&&(i=C.createElement("a",{className:Q.a.AppBannerLink,href:"steam://nav/games/details/"+t},Object(V.f)("#EventDisplay_ViewInLibrary_ExtraShort"))),p=t,c=Y.c.STORE_BASE_URL+"app/"+t+"/",u=(l=Y.c.COMMUNITY_BASE_URL+"app/"+t)+"/discussions/",a=C.createElement("div",{className:Q.a.HeaderFollowButton},C.createElement(Z.a,{appid:t}))}else if(n){var b=D.a.GetClanInfoByClanAccountID(n);if(!b)return null;o=b.avatar_full_url,s=b.group_name,p=n;var _=A.a.InitFromClanID(p),c=Y.c.STORE_BASE_URL+"curator/"+n+"/",l=Y.c.COMMUNITY_BASE_URL+"gid/"+_.ConvertTo64BitString(),d=Q.a.ClanBanner,a=C.createElement("div",{className:Q.a.HeaderFollowButton},C.createElement(Z.b,{clanAccountID:p}))}var v=M.a.Get().GetPartnerEventPermissions(A.a.InitFromClanID(n)),g=v&&(v.can_edit||v.support_user),y=Object(E.e)(Y.c.EREALM),S=Y.c.STORE_BASE_URL+"feeds/"+Object(K.f)()+(t?"/app/"+t:"/group/"+n)+"/?cc="+Y.c.COUNTRY+"&l="+Y.c.LANGUAGE,w=C.createElement("img",{className:Q.a.AppBannerLogo,src:o});return C.createElement("div",{className:Q.a.AppBannerCtn},C.createElement("div",{className:Q.a.AppBannerBackground,style:{backgroundImage:"url("+o+")"}}),C.createElement("div",{className:Object(W.a)(Q.a.AppBannerGroup,d)},m?Object(X.a)()&&h?C.createElement(X.d,{item:h,className:Q.a.AppBannerLogoCtn,hoverProps:{direction:"overlay",style:{minWidth:"320px"}}},w):C.createElement(ee.a,{type:e.appId?"app":"clan",strURL:c,id:p,hoverClassName:Q.a.AppBannerLogoCtn},w):C.createElement("div",{className:Q.a.AppBannerLogoCtn},w," "),C.createElement("div",{className:Q.a.AppBannerTitle},s,C.createElement("div",{className:Q.a.NewsHubSubTitle},Object(V.f)("#EventDisplay_NewsHubSubtitle"))),m&&C.createElement("div",{className:Q.a.AppBannerLinks},i,a,C.createElement("a",{className:Q.a.AppBannerLink,href:Object(q.d)(c),target:Y.c.IN_CLIENT?void 0:"_blank"},Object(V.f)("#EventDisplay_ViewStorePage_ExtraShort")),!y&&C.createElement("a",{className:Q.a.AppBannerLink,href:Object(q.d)(l),target:Y.c.IN_CLIENT?void 0:"_blank"},Object(V.f)("#EventDisplay_ViewCommunityPage_ExtraShort")),Boolean(!y&&u)&&C.createElement("a",{className:Q.a.AppBannerLink,href:Object(q.d)(u),target:Y.c.IN_CLIENT?void 0:"_blank"},Object(V.f)("#EventDisplay_ViewForum_ExtraShort")),!y&&e.bShowRSSFeed&&C.createElement("a",{className:Q.a.AppBannerLink,href:Object(q.d)(S),target:Y.c.IN_CLIENT?void 0:"_blank"},C.createElement(z.eb,null),Object(V.f)("#EventDisplay_RSSFeed_ExtraShort")),g&&C.createElement("a",{className:Q.a.AppBannerLink,href:Object(q.d)(Object(K.e)(t,A.a.InitFromClanID(n),"admin")),target:Y.c.IN_CLIENT?void 0:"_blank"},Object(V.f)("#EventDisplay_Admin_ExtraShort")))))}),ne=Object(i.observer)(function(e){return C.createElement("div",{className:Object(W.a)(Q.a.AppPartnerEventsBanner,"AppPartnerEventsBanner")},C.createElement(S,Object(s.a)({},e)))})},yNwp:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY1MjI5RjcyNjYyMjExRTlCQTM3QzA4REJGQTAwNUZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY1MjI5RjczNjYyMjExRTlCQTM3QzA4REJGQTAwNUZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjUyMjlGNzA2NjIyMTFFOUJBMzdDMDhEQkZBMDA1RkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjUyMjlGNzE2NjIyMTFFOUJBMzdDMDhEQkZBMDA1RkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7oZ6UCAAAFiElEQVR42uybW2hcVRSGZ9JE22RotJa2wUrEW0xBlGIl0kijQZqWoPXSPjSt0oLgg4hvpY999SkQxYoPgmmgKkKVSiMqtrQpVeO9YCMOtTqmaVF6G5OYXqb/ov/AdHrOnrXP2efkwMyGj0Mm+7LWOvuy1t77pAuFQqqaU12qylPNANVugPryH9LptNMGMMfMxaMDdII20A6WggxoYrb/QB7kwK9gDBwCRyDPtGN5bvyhFEeNNIKNYB+YKgRPU6xD6mp0ZYDr9HVpAJRvAf3gQsF9usC6WxJnAJRrBgNgphB9mmFbzYkwAMr0gVOF+JO02TdrBkDeDNhVmP0kMmSCGiBdrrRmFUCZu/HYC+5PyGp2DPRC9qztKlAXoAs9hMdIgpRPUZYRymaVrHoAGzgA5ifUrzkPVkGHH533AHb74QQrn6Jsw5TVXQ/gJPNtwrp9pTlhBXTJu+oBOyNW/iDYAt4Co+BS2f8nwWtgGegBXyvmhJ3B1kXvdT7q9CK4pbicSfwAOsCrYAj0eLjaWUW9faH8AHp4cTg57WA7uAx+Ae+Al8ADYI7Pi9uhdJaawxhgIAblz4E6sMfn/9kQBpA0EMgADGzi8O2/YHsnDXnWBBwCxdihxc8ApklwG2iIYcb+BoLcgecSQ573kecVcB9Yjb+/Ancp62+gLvplkLH3KW5aRJ2eoZAfRNiGLIeLodukdhlcF5PyKS5pj0TcRoY6qfcEN8ekfA5v5SS3zKJOm1UG4B5eV1xvn8vc8hja6qJu5k1Rvo25EQpyFsjSdlomN7AQfCpjlBPb0ojaLW7O7q9kgE7HDZ8De8BnErKiy//pkWdDSQ9cgMejdHmfAy0OZeksN8AN6yIYdLS+i0f3Arg5xAbmHPAUOORR/+UAMg1WdITAqLIyEeB1CT0paBt4A/wDtoh353g/fx04Ad4shrt4LgLbwLRS5lGNASaUlW0yHIREklB3vc/vq8EVhcwTGgPkFRUdTNoGAGT6SCF3XuMKNynaG07gJsiXijxNWkeoUqpXvpWHwQ+0/nEZx4oyPeAog5jDFhudDUG7TpAhMKyodz4nxNJ0ESwzlGnziEAnNPv+yPOhqyGQV9hNJp1nK+R5HNzm0XOeVgRGpWkx6zIp/yR9Bk1QVHEI5JSdZ7dsWRn+P+Xz+/+GMhd9fp8xKL8Vj48lkNXEHpohYOMIjRgEuwmMleU/YzrdlX0B7hCVpt+kLkOZvWEcIa8eMOZiSobLK2+tGwyCn+kOP8boz6/MX+zu+xgv7AZPsC4XaUzTA7osLDqegPX/qIW8XRUPRxk1nbGICNvxho7NkvIynP5Wjn+ZkyTQmjZOgryTs99CjpdnsQNsVSov6YDnfSOvXWHeybG5x3OP4S3JIce7oNvizXZwwsoY8iwBZy3k3KjeFue2s809H9nZmWdwiHIMVmTpXOOlGNvsprEu0YlaaAiTP7e8X9Roey7Qbxlrf+IX+/NtDdITLCYJbb8H39FNLsb3VxjYtBqUt72Z0u/X431PhznBnLD0sQ+D9ahj3Ef4RXisBQ+Ce8GtHMOya/Q7+EkCLZTP+ZRfwGV1rYVM4ly1Fpdfq3uCAY/G/nW9IYK65EWtl2U3gDzBjsaYOczhqIstsXrwPDgS4iZZ8MNRFgh7PC6u7Xusp1Wh9O1U+m1wOmTbFY/HtTdEduHR56hHy3j/A4yXBDkN3P29k/OCizQEXTZ5GeA6fWtXZHSBjVTUm7p2YJr0JDL2eimvOhozGCHLw4rzCVZeZOvRXJgMtCfI+3erEtoTRCbjHcHQBigxwkqOsySN+ZW2ygfeFWYXWyEzbQKUH+KElw1UunZdvvbBRO2Tmag/mpoMofRk1B9NBfpgwrLBRH82l659O1zlqWaAajfAVQEGAEyk4t4HpStTAAAAAElFTkSuQmCC"},ySOO:function(e,t,n){e.exports={Container:"gamelistentry_Container_2-O4Z",HoverOverlay:"gamelistentry_HoverOverlay_3cMVy",Uninstalled:"gamelistentry_Uninstalled_5YTBr",Selected:"gamelistentry_Selected_1UBpA",Updating:"gamelistentry_Updating_1LVQp",Installed:"gamelistentry_Installed_2ws8D",InstalledRemotely:"gamelistentry_InstalledRemotely_hmT7J",Running:"gamelistentry_Running_10Gdo",DropOption:"gamelistentry_DropOption_3WdXW",LastInCollection:"gamelistentry_LastInCollection_1VBNp",DropTarget:"gamelistentry_DropTarget_1m8Mc",GameIcon:"gamelistentry_GameIcon_ga1hy",GameListEntryContainer:"gamelistentry_GameListEntryContainer_1vO6B",GameListEntryLabels:"gamelistentry_GameListEntryLabels_-BsLC",GameListEntryName:"gamelistentry_GameListEntryName_2SXJM",DownloadProgress:"gamelistentry_DownloadProgress_3uk3F",DownloadDash:"gamelistentry_DownloadDash_2RggX",HasContextMenuOpen:"gamelistentry_HasContextMenuOpen_3km84",AppIconDownloading:"gamelistentry_AppIconDownloading_2kzMb",InvalidOSType:"gamelistentry_InvalidOSType_1S99n",FriendIsPlaying:"gamelistentry_FriendIsPlaying_cNZ3w",GameWillStream:"gamelistentry_GameWillStream_3FANR",FriendStatusHover:"gamelistentry_FriendStatusHover_2iiN7",FriendStatusHoverRow:"gamelistentry_FriendStatusHoverRow_2XyBb",LabelHolder:"gamelistentry_LabelHolder_3RQJ0"}},ylkE:function(e,t,n){"use strict";n.d(t,"a",function(){return ne}),n.d(t,"b",function(){return re});var w=n("mrSG"),C=n("q1tI"),O=n.n(C),r=n("TyAF"),f=n("lkRc"),E=n("TLQK"),o=n("bxiW"),i=n("fpVW"),s=n.n(i),c=n("ka0M"),l=n("X3Ds"),u=n("exH9"),a=n("f26i"),p=n.n(a),B=n("Jqb/"),d=n("vDqi"),A=n.n(d),m=n("fkaw"),h=n.n(m),b=n("bDQf"),_=n("Qcoi"),v=n("4P4B"),g=n("ZeAL"),y=n("TOXn"),I=n("kLLr"),j=n("0OaU"),S=n("mB/g"),D=function(n){function e(e){var t=n.call(this,e)||this;return t.m_cancelSignal=A.a.CancelToken.source(),t.state={bLoadedProfile:Boolean(_.a.GetProfile(f.h.steamid)),text:"",bPosting:!1,strPostingMessage:""},t}return Object(w.d)(e,n),e.prototype.componentDidMount=function(){return Object(w.b)(this,void 0,void 0,function(){var t;return Object(w.e)(this,function(e){switch(e.label){case 0:if(this.state.bLoadedProfile)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,_.a.LoadProfiles([f.h.steamid])];case 2:return e.sent(),this.setState({bLoadedProfile:!0}),[3,4];case 3:return t=e.sent(),console.error("ShareEventOnFriendsActivityFeed: "+Object(b.a)(t).strErrorMsg),[3,4];case 4:return[2]}})})},e.prototype.OnTextChange=function(e){this.SetText(e.currentTarget.value)},e.prototype.SetText=function(e){this.setState({text:e})},e.prototype.GetCurText=function(){return this.state.text},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("component unmounted")},e.prototype.PostComment=function(){var t=this;this.setState({bPosting:!0}),this.AsyncPostComment().then(function(){return t.setState({bPostSuccess:!0,strPostingMessage:Object(E.f)("#EventDisplay_Share_Success")})}).catch(function(e){return t.setState({strPostingMessage:Object(E.f)("#EventDisplay_Share_Failure")+"\n\n"+Object(b.a)(e).strErrorMsg})})},e.prototype.GetAnnouncementURL=function(){var e=this.props.eventModel;return Object(S.h)(e)},e.prototype.AsyncPostComment=function(){return Object(w.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(w.e)(this,function(e){switch(e.label){case 0:return t=I.a.InitFromAccountID(f.h.accountid),n=f.c.COMMUNITY_BASE_URL+"profiles/"+t.ConvertTo64BitString()+"/ajaxpostuserstatus",r=this.GetAnnouncementURL(),0!=(i=this.state.text).trim().length&&(i+="\n\n"),i+=r,(a=new FormData).append("appid",""+this.props.eventModel.appid),a.append("status_text",i),a.append("sessionid",f.c.SESSIONID),[4,A.a.post(n,a)];case 1:return e.sent(),[2]}})})},e.prototype.render=function(){var e=_.a.GetProfile(f.h.steamid),t=e?e.avatar_url:null,n=this.GetAnnouncementURL(),r=I.a.InitFromAccountID(f.h.accountid);return this.state.bPosting?C.createElement(B.c,{strDescription:"",strTitle:Object(E.f)("#Button_Share"),onCancel:this.props.closeModal,onOK:this.props.closeModal,bAlertDialog:!0},C.createElement("div",{className:s.a.FlexColumnContainer},C.createElement("div",null,Object(E.f)("#EventDisplay_Share_OnMyStatus_Details")),C.createElement("div",{className:h.a.Container},0==this.state.strPostingMessage.length?C.createElement(j.a,{position:"center"}):C.createElement("div",null,this.state.strPostingMessage),Boolean(this.state.bPostSuccess)&&C.createElement("a",{href:f.c.COMMUNITY_BASE_URL+"profiles/"+r.ConvertTo64BitString()+"/home",target:f.c.IN_CLIENT?void 0:"_blank"},Object(E.f)("#EventDisplay_Share_OpenActivityFeed"))))):C.createElement(B.c,{strDescription:"",strTitle:Object(E.f)("#Button_Share"),onCancel:this.props.closeModal,onOK:this.PostComment,strOKButtonText:Object(E.f)("#Button_Post")},C.createElement("div",{className:s.a.FlexColumnContainer},C.createElement("div",null,Object(E.f)("#EventDisplay_Share_OnMyStatus_Details")),C.createElement("div",{className:Object(u.a)(h.a.Container,s.a.FlexColumnContainer)},C.createElement("div",null,C.createElement("img",{className:h.a.SmallAvatar,src:t,"data-miniprofile":"s"+f.h.steamid}),C.createElement("div",{className:Object(u.a)(s.a.FlexColumnContainer)},C.createElement(v.a,{strPlaceholder:Object(E.f)("#EventDisplay_Share_OnMyStatus_Placeholder"),fnGetCurText:this.GetCurText,fnOnTextChange:this.OnTextChange,fnSetText:this.SetText,emoticonStore:this.props.emoticonStore,bSupportHTMLImport:!1,showFormatHelp:"UserStatusPublished",limitBBCode:g.e,classNameForTextArea:h.a.ShareDescription,bEmbeddedInDialog:!0}))),C.createElement("div",null,C.createElement(y.b,{text:n,partnerEventStore:this.props.partnerEventStore})))))},Object(w.c)([o.a],e.prototype,"OnTextChange",null),Object(w.c)([o.a],e.prototype,"SetText",null),Object(w.c)([o.a],e.prototype,"GetCurText",null),Object(w.c)([o.a],e.prototype,"PostComment",null),Object(w.c)([r.observer],e)}(C.Component),R=n("YyVH"),T=n("9w6b"),M=n("6Y59"),N=n("7u3m"),L=n.n(N),k=n("yNwp"),F=n.n(k),P=n("D4G2"),G=n.n(P),U=n("goqe"),x=n.n(U),z=n("Pr9M"),H=n.n(z),W=n("BFsE"),V=n("/PpB"),q=n("TQGK"),Y=n("kyHq"),Q=n("+d9t"),Z=n("5E+2"),K=n("IzPI"),J=n("2vnA"),X=function(){function n(){this.m_mapClanReposted=new Set,this.m_mapSourceEventGIDToPostedClans=new Map}return n.Get=function(){return n.s_EventRepost||(n.s_EventRepost=new n).Initialize(),n.s_EventRepost},n.ValidateRepostData=function(e){var t=e;return!!(t&&t.repost_clan_account_ids&&Array.isArray(t.repost_clan_account_ids)&&0<t.repost_clan_account_ids.length)&&"number"==typeof t.repost_clan_account_ids[0]},n.prototype.Initialize=function(){var e,t=this;document.getElementById("application_config")&&(e=Object(f.g)("repostcontrols","application_config"),n.ValidateRepostData(e)&&e.repost_clan_account_ids.forEach(function(e){return t.m_mapClanReposted.add(e)}))},n.prototype.BCanRepostPartnerEvent=function(){return 0<this.m_mapClanReposted.size},n.prototype.GetRepostClanAccountID=function(){return Array.from(this.m_mapClanReposted)},n.prototype.LoadClansAlreadyRepostedTo=function(o,s,c){var l,u,p;return Object(w.b)(this,void 0,void 0,function(){var t,n,r,i,a;return Object(w.e)(this,function(e){switch(e.label){case 0:if(this.m_mapSourceEventGIDToPostedClans.has(s))return[2,this.m_mapSourceEventGIDToPostedClans.get(s)];t=f.c.STORE_BASE_URL+"events/ajaxgetrepostedevent",n={sessionid:f.c.SESSIONID,source_clan_accountid:o.GetAccountID(),source_event_gid:s},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,A.a.get(t,{params:n,withCredentials:!0,cancelToken:null==c?void 0:c.token})];case 2:return(r=e.sent(),1==(null===(l=null==r?void 0:r.data)||void 0===l?void 0:l.success))?(this.m_mapSourceEventGIDToPostedClans.set(s,r.data.repost_clan_accountid||[]),[2,r.data.repost_clan_accountid]):(console.error("GetRepostClanAccountID: failed "+(null===(u=null==r?void 0:r.data)||void 0===u?void 0:u.success)+" and msg: "+(null===(p=null==r?void 0:r.data)||void 0===p?void 0:p.msg)),[3,4]);case 3:return i=e.sent(),a=Object(b.a)(i),console.error("GetRepostClanAccountID: fail repost with "+a.strErrorMsg,a),[3,4];case 4:return[2,new Array]}})})},n.prototype.RepostEvent=function(s,c,l,u,p){var d,m,h;return Object(w.b)(this,void 0,void 0,function(){var t,n,r,i,a,o;return Object(w.e)(this,function(e){switch(e.label){case 0:t=f.c.STORE_BASE_URL+"events/ajaxrepostevent",(n=new FormData).append("sessionid",f.c.SESSIONID),n.append("source_clan_accountid",""+s.GetAccountID()),n.append("source_event_gid",""+c),n.append("repost_clan_accountid",""+l.GetAccountID()),n.append("add",""+u),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,A.a.post(t,n,{withCredentials:!0,cancelToken:null==p?void 0:p.token})];case 2:return(r=e.sent(),1==(null===(d=null==r?void 0:r.data)||void 0===d?void 0:d.success)&&r.data.repost_gid)?(this.m_mapSourceEventGIDToPostedClans.has(c)||this.m_mapSourceEventGIDToPostedClans.set(c,[]),i=this.m_mapSourceEventGIDToPostedClans.get(c).findIndex(function(e){return l.GetAccountID()==e}),u&&-1==i?this.m_mapSourceEventGIDToPostedClans.get(c).push(l.GetAccountID()):u||-1===i||this.m_mapSourceEventGIDToPostedClans.get(c).splice(i,1),[2,r.data.repost_gid]):(console.error("RepostEvent: failed "+(null===(m=null==r?void 0:r.data)||void 0===m?void 0:m.success)+" and msg: "+(null===(h=null==r?void 0:r.data)||void 0===h?void 0:h.msg)),[3,4]);case 3:return a=e.sent(),o=Object(b.a)(a),console.error("RepostEvent: fail repost with "+o.strErrorMsg,o),[3,4];case 4:return[2,null]}})})},Object(w.c)([J.observable],n.prototype,"m_mapClanReposted",void 0),n}(),$=n("Mgs7"),ee=n("IjL/"),te=Object(r.observer)(function(e){var u=e.eventModel,t=Object(C.useState)(!0),n=t[0],i=t[1],r=Object(C.useState)(new Set),a=r[0],o=r[1],s=Object(C.useState)(new Set),p=s[0],c=s[1],l=Object(C.useState)(new Set),d=l[0],m=l[1],h=Object(C.useState)(null),f=h[0],b=h[1],_=Object(C.useState)(null),v=_[0],g=_[1],y=Object(C.useRef)(null);Object(C.useEffect)(function(){return n&&Object(w.b)(void 0,void 0,void 0,function(){var t,n,r;return Object(w.e)(this,function(e){switch(e.label){case 0:return t=A.a.CancelToken.source(),y.current=t.cancel,(n=X.Get().LoadClansAlreadyRepostedTo(u.clanSteamID,u.GID,t)).then(function(e){var t=new Set;e.forEach(function(e){return t.add(e)}),o(t)}),(r=new Array).push(n),X.Get().GetRepostClanAccountID().forEach(function(e){var t=I.a.InitFromClanID(e);r.push(q.a.LoadClanInfoForClanSteamID(t))}),[4,Promise.all(r)];case 1:return e.sent(),i(!1),[2]}})}),function(){return y.current&&y.current()}},[n,u.GID,u.clanSteamID]);var S=new Array;return X.Get().GetRepostClanAccountID().forEach(function(t){var e,n,r=q.a.GetClanInfoByClanAccountID(t);r&&t!=u.clanSteamID.GetAccountID()&&(e=a.has(t),n=p.has(t)||e&&!d.has(t),S.push(O.a.createElement($.e,{key:"checkbox"+t,label:e?Object(E.f)("#EventRepost_Dialog_Existing",r.group_name):r.group_name,checked:n,disabled:null!==f,onChange:function(e){a.has(t)?(e?d.delete(t):d.add(t),m(new Set(d))):(e?p.add(t):p.delete(t),c(new Set(p)))}})))}),O.a.createElement(ee.a,null,O.a.createElement(B.g,{onEscKeypress:function(){return e.closeModal&&e.closeModal()}},O.a.createElement($.f,null,O.a.createElement($.l,null,Object(E.f)("#EventRepost_Dialog_Title")),O.a.createElement($.b,null,O.a.createElement($.c,null,Object(E.f)("#EventRepost_Dialog_Desc")),n?O.a.createElement(j.a,{string:Object(E.f)("#Loading")}):O.a.createElement("div",null,S),Boolean(p.size||d.size)&&O.a.createElement("div",null,O.a.createElement("span",null,Object(E.f)("#EventRepost_Dialog_Action_Desc")),O.a.createElement("ul",null,Boolean(p.size)&&O.a.createElement("li",null,Object(E.f)("#EventRepost_Dialog_Action_Add",p.size)),Boolean(d.size)&&O.a.createElement("li",null,Object(E.f)("#EventRepost_Dialog_Action_Remove",d.size)))),Boolean(f)&&O.a.createElement("div",null,f),Boolean(v)&&O.a.createElement("div",null,v)),O.a.createElement($.i,null,O.a.createElement($.o,{onCancel:function(){return e.closeModal&&e.closeModal()},strOKText:Object(E.f)("#EventRepost_Dialog_OK"),bOKDisabled:0==p.size&&0==d.size||null!==f||null!==v,onOK:function(){return Object(w.b)(void 0,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l;return Object(w.e)(this,function(e){switch(e.label){case 0:y.current&&y.current(),t=A.a.CancelToken.source(),y.current=t.cancel,n=p.size+d.size,r=1,b(Object(E.f)("#EventRepost_Dialog_Progress",r,n)),i=0,a=Array.from(p),e.label=1;case 1:return i<a.length?(c=a[i],l=I.a.InitFromClanID(c),[4,X.Get().RepostEvent(u.clanSteamID,u.GID,l,!0,t)]):[3,4];case 2:if(!e.sent())return g(Object(E.f)("#EventRepost_Dialog_ResultFail")),[2];b(Object(E.f)("#EventRepost_Dialog_Progress",++r,n)),e.label=3;case 3:return i++,[3,1];case 4:o=0,s=Array.from(d),e.label=5;case 5:return o<s.length?(c=s[o],l=I.a.InitFromClanID(c),[4,X.Get().RepostEvent(u.clanSteamID,u.GID,l,!1,t)]):[3,8];case 6:if(!e.sent())return g(Object(E.f)("#EventRepost_Dialog_ResultFail")),[2];b(Object(E.f)("#EventRepost_Dialog_Progress",++r,n)),e.label=7;case 7:return o++,[3,5];case 8:return g(Object(E.f)("#EventRepost_Dialog_ResultSuccess")),[2]}})})}})))))});function ne(e,t){return t.BIsUserLoggedIn()?!t.GetPartnerEventPermissions(e.clanSteamID).limited_user||(Object(c.d)(C.createElement(V.a,null),window),!1):(f.c.IN_CLIENT?console.log("EventDiscussionWidget: In Client: Cannot use login widget. We expect to be already logged in."):Object(c.d)(C.createElement(B.c,{strTitle:Object(E.f)("#EventDisplay_Share_NotLoggedIn"),strDescription:Object(E.f)("#EventDisplay_Share_NotLoggedIn_Description"),strOKButtonText:Object(E.f)("#MobileLogin_SignIn"),onOK:function(){return Object(W.a)()}}),window),!1)}var re=function(i){function e(e){var t=i.call(this,e)||this;t.m_cancelSignal=A.a.CancelToken.source();var n=T.a.Get().BHasMyVote(e.eventModel),r=void 0;return n&&(r=a.ConvertMyVoteRaw(T.a.Get().GetPreviouslyLoadedVote(e.eventModel))),t.state={bLoadedVote:!!n,myVote:r},t}var a;return Object(w.d)(e,i),(a=e).prototype.HandleRefreshMyVotingInformation=function(){return Object(w.b)(this,void 0,void 0,function(){var t,n,r=this;return Object(w.e)(this,function(e){return t=this.props,n=t.eventModel,t.partnerEventStore,T.a.Get().BIsUserLoggedIn()&&(T.a.Get().LoadMyVote(n,this.m_cancelSignal).then(function(e){var t=a.ConvertMyVoteRaw(e);r.setState({myVote:t,bLoadedVote:!0})}).catch(function(e){var t=Object(b.a)(e);console.error("EventDiscussionWidget = "+t.strErrorMsg)}),q.a.LoadClanInfoForClanSteamID(n.clanSteamID).catch(function(e){var t=Object(b.a)(e);console.error("EventDiscussionWidget = "+t.strErrorMsg)})),[2]})})},e.prototype.componentDidMount=function(){this.state.bLoadedVote||this.HandleRefreshMyVotingInformation()},e.prototype.componentDidUpdate=function(e){this.props.eventModel.GID!=e.eventModel.GID&&this.HandleRefreshMyVotingInformation()},e.ConvertMyVoteRaw=function(e){var t=void 0;return!0===e?t="up":!1===e&&(t="down"),t},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventDiscussionWidget is being unmounted")},e.prototype.OnVoteUp=function(){this.Vote("up")},e.prototype.OnVoteDown=function(){this.Vote("down")},e.prototype.Vote=function(n){var r=this,e=this.props.eventModel;ne(e,T.a.Get())&&this.state.myVote!=n&&null!=n&&this.state.bLoadedVote&&this.setState({bVotingUp:"up"==n,bVotingDown:"down"==n},function(){T.a.Get().Vote(e,"up"===n,r.m_cancelSignal).catch(function(e){var t=Object(b.a)(e);console.error("EventDiscussionWidget.OnVote"+n+" "+t.strErrorMsg,t),r.setState({bVotingDown:!1,bVotingUp:!1})}),r.setState({myVote:n,bVotingDown:!1,bVotingUp:!1})})},e.prototype.OnShareDialog=function(e){Object(c.d)(C.createElement(ae,{eventModel:this.props.eventModel,emoticonStore:this.props.emoticonStore,partnerEventStore:this.props.partnerEventStore}),Object(l.n)(e),{strTitle:Object(E.f)("#Button_Share")})},e.prototype.GotoDiscussion=function(e){Object(c.d)(C.createElement(B.e,{strDescription:Object(E.f)("#EventDisplay_Share_CommentMigrationInProcess")}),Object(l.n)(e))},e.prototype.OpenRepostDialogs=function(e){Object(c.d)(C.createElement(te,{eventModel:this.props.eventModel}),Object(l.n)(e))},e.prototype.render=function(){var e=this.props.eventModel,t=Object(R.a)(e.nVotesUp-e.nVotesDown,0,Number.MAX_SAFE_INTEGER),n=e.GetForumTopicURL(),r=f.c.EREALM===Y.p.k_ESteamRealmChina,i=f.h.logged_in&&X.Get().BCanRepostPartnerEvent();return C.createElement("div",{className:p.a.Container},C.createElement("div",{className:p.a.InnerContainer},C.createElement("div",{className:p.a.VoteContainer},C.createElement("div",{className:p.a.VoteCount},C.createElement(M.wb,{className:p.a.VoteUpStaticIcon}),t.toLocaleString(E.e.GetPreferredLocales())),C.createElement("div",{className:Object(u.a)(s.a.Button,s.a.Icon,p.a.DiscussionButton,"up"==this.state.myVote?p.a.VoteButtonSelected:""),onClick:this.OnVoteUp},C.createElement(M.wb,{className:"up"==this.state.myVote?p.a.VoteUpSelectedIcon:p.a.VoteUpIcon}),C.createElement("span",{className:p.a.DiscussionButtonText},Object(E.f)("#Button_RateUp"))),C.createElement("div",{className:Object(u.a)(s.a.Button,s.a.Icon,p.a.DiscussionButton,"down"==this.state.myVote?p.a.VoteButtonSelected:""),onClick:this.OnVoteDown},C.createElement(M.wb,{className:"down"==this.state.myVote?p.a.VoteDownSelectedIcon:p.a.VoteDownIcon}))),!r&&C.createElement(ie,{commentCount:e.nCommentCount,discussionURL:n,gotoDiscussion:this.GotoDiscussion}),i&&C.createElement("div",{className:p.a.VoteContainer},C.createElement("div",{className:Object(u.a)(s.a.Button,s.a.Icon,p.a.DiscussionButton,"down"==this.state.myVote?p.a.VoteButtonSelected:""),onClick:this.OpenRepostDialogs},Object(E.f)("#EventRepost_Dialog_Title")))),C.createElement("div",{className:p.a.ShareContainer},C.createElement("div",{className:Object(u.a)(s.a.Button,s.a.Icon,p.a.DiscussionButton),onClick:this.OnShareDialog},C.createElement(M.mb,{className:p.a.ShareIcon}),C.createElement("span",{className:p.a.DiscussionButtonText},Object(E.f)("#Button_Share")))))},Object(w.c)([o.a],e.prototype,"OnVoteUp",null),Object(w.c)([o.a],e.prototype,"OnVoteDown",null),Object(w.c)([o.a],e.prototype,"OnShareDialog",null),Object(w.c)([o.a],e.prototype,"GotoDiscussion",null),Object(w.c)([o.a],e.prototype,"OpenRepostDialogs",null),a=Object(w.c)([r.observer],e)}(C.Component);function ie(e){var t=e.commentCount,n=e.discussionURL,r=e.gotoDiscussion;return C.createElement("div",{className:p.a.DiscussContainer},C.createElement("div",{className:p.a.DiscussionCount},C.createElement(M.m,null),t.toLocaleString(E.e.GetPreferredLocales())),n&&C.createElement("a",{href:Object(K.d)(n)},C.createElement("div",{className:Object(u.a)(s.a.Button,s.a.Icon,p.a.DiscussionButton)},C.createElement(M.m,null),C.createElement("span",{className:p.a.DiscussionButtonText},Object(E.f)("#Button_Discuss")))),!n&&C.createElement("div",{onClick:r,className:Object(u.a)(s.a.Button,s.a.Icon,p.a.DiscussionButton)},C.createElement(M.m,null),C.createElement("span",{className:p.a.DiscussionButtonText},Object(E.f)("#Button_Discuss"))))}var ae=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bShareOnSteamDialog:!1,bRequireLoginToShare:!1},e}return Object(w.d)(e,t),e.prototype.ShareOnSteamActivityFeed=function(){T.a.Get().BIsUserLoggedIn()?this.setState({bShareOnSteamDialog:!0}):f.c.IN_CLIENT?console.log("ShareEventOnSocialMediaDialog: In Client: Cannot use login widget. We expect to be already logged in."):this.setState({bRequireLoginToShare:!0})},e.prototype.render=function(){var e=this.props,t=e.eventModel,n=e.closeModal,r=e.emoticonStore,i=e.partnerEventStore;return this.state.bRequireLoginToShare?C.createElement(B.c,{strTitle:Object(E.f)("#EventDisplay_Share_NotLoggedIn"),strDescription:Object(E.f)("#EventDisplay_Share_NotLoggedIn_Description"),strOKButtonText:Object(E.f)("#MobileLogin_SignIn"),onCancel:this.props.closeModal,onOK:function(){return Object(W.a)()}}):this.state.bShareOnSteamDialog?C.createElement(D,{eventModel:t,emoticonStore:r,partnerEventStore:i,closeModal:n}):C.createElement(B.c,{strDescription:"",strTitle:Object(E.f)("#Button_Share"),onCancel:this.props.closeModal,onOK:this.props.closeModal,bAlertDialog:!0},C.createElement(oe,{eventModel:t,fnShareOnSteamActivityFeed:this.ShareOnSteamActivityFeed}))},Object(w.c)([o.a],e.prototype,"ShareOnSteamActivityFeed",null),e}(C.Component),oe=function(e){var t=e.eventModel,n=f.c.EREALM===Y.p.k_ESteamRealmChina;return C.createElement("div",{className:Object(u.a)(s.a.FlexColumnContainer,p.a.share_controls_ctn)},!n&&C.createElement(C.Fragment,null,C.createElement("div",{className:s.a.FlexRowContainer,style:{flexWrap:"wrap"}},C.createElement(Z.d,{toolTipContent:Object(E.f)("#EventDisplay_Share_OnSteam")},C.createElement("div",{onClick:e.fnShareOnSteamActivityFeed,className:Object(u.a)(s.a.Button,p.a.ShareBtn)},C.createElement("img",{className:p.a.SteamIcon,src:H.a}),C.createElement("span",{style:{whiteSpace:"nowrap"}},Object(E.f)("#EventDisplay_Share_OnMyStatus")))),C.createElement(Z.d,{toolTipContent:Object(E.f)("#EventDisplay_Share_OnFaceBook")},C.createElement(Q.a,{href:Object(S.g)(t,S.b.k_eFacebook),className:p.a.ShareBtn},C.createElement("img",{className:Object(u.a)(s.a.Button),src:L.a}))),C.createElement(Z.d,{toolTipContent:Object(E.f)("#EventDisplay_Share_OnTwitter")},C.createElement(Q.a,{href:Object(S.g)(t,S.b.k_eTwitter),className:p.a.ShareBtn},C.createElement("img",{className:Object(u.a)(s.a.Button),src:G.a}))),C.createElement(Z.d,{toolTipContent:Object(E.f)("#EventDisplay_Share_OnReddit")},C.createElement(Q.a,{href:Object(S.g)(t,S.b.k_eReddit),className:p.a.ShareBtn},C.createElement("img",{className:Object(u.a)(s.a.Button),src:F.a})))),C.createElement("div",{className:s.a.Divider})),C.createElement(se,{eventModel:t}))},se=function(e){var t=C.createRef();return C.createElement("div",{className:Object(u.a)(s.a.FlexRowContainer,p.a.linkField)},C.createElement("span",null,Object(E.f)(e.labelOverride?e.labelOverride:"#EventDisplay_Share_Link")),C.createElement("input",{className:p.a.LinkInput,ref:t,type:"text",value:Object(S.h)(e.eventModel),readOnly:!0}),document.queryCommandSupported("copy")&&C.createElement("div",{className:Object(u.a)(s.a.Button,s.a.Icon),onClick:function(e){t.current&&(t.current.select(),document.execCommand("copy"))},"data-tooltip-text":Object(E.f)("#ToolTip_CopyLinkToClipboard"),title:Object(E.f)("#ToolTip_CopyLinkToClipboard")},C.createElement("img",{className:p.a.ClipboardIcon,src:x.a})))}},yrgw:function(e,t,n){e.exports={BreakNarrow:"1158px",BreakWide:"1774px",BreakUltraWide:"2100px",BreakShort:"600px",BreakTall:"1200px",RightBreakUltraNarrow:"600px",RightBreakNarrow:"884px",RightBreakWide:"1500px",RightBreakUltraWide:"1826px",AppActivityDay:"appactivityday_AppActivityDay_S2Fu9",AppActivityDate:"appactivityday_AppActivityDate_19LfM",Event:"appactivityday_Event_UVeN0",EventBodyDivider:"appactivityday_EventBodyDivider_NaIUA",EventBody:"appactivityday_EventBody_NEMXh",UserStatus:"appactivityday_UserStatus_Yo3XX",EventHeadline:"appactivityday_EventHeadline_QCKBq",EventActorAvatar:"appactivityday_EventActorAvatar_1gVy5",SpanEvent:"appactivityday_SpanEvent_3Nxqy",HeadlineGameName:"appactivityday_HeadlineGameName_Gy1Y7",ActorName:"appactivityday_ActorName_1t1iy",DeleteButton:"appactivityday_DeleteButton_djC4r",DeleteUserNews:"appactivityday_DeleteUserNews_1Ur_j",ScreenshotUploaded:"appactivityday_ScreenshotUploaded_zmx3d",VideoUploaded:"appactivityday_VideoUploaded_PCZSj",ReceivedNewGame:"appactivityday_ReceivedNewGame_35ZQ6",PlayedGameFirstTime:"appactivityday_PlayedGameFirstTime_3fdEo",AddedGameToWishlist:"appactivityday_AddedGameToWishlist_x6i4r",RecommendedGame:"appactivityday_RecommendedGame_1i3Jy",ActivityPublishedStatus:"appactivityday_ActivityPublishedStatus_3ygGw",StatusTime:"appactivityday_StatusTime_RYyD5",ActivityAchievementUnlocked:"appactivityday_ActivityAchievementUnlocked_yJLy7",ShowMore:"appactivityday_ShowMore_7Wt2o",ShowMoreLabel:"appactivityday_ShowMoreLabel_2RUcF",TwoAchievementRow:"appactivityday_TwoAchievementRow_2pdPx",PrimaryAchievement:"appactivityday_PrimaryAchievement_26Qli",OneAchievementRow:"appactivityday_OneAchievementRow_3Xupb",AchievementRemainder:"appactivityday_AchievementRemainder_SfyYv",ActivityPublishedScreenshot:"appactivityday_ActivityPublishedScreenshot_KIhNe",ImageWrapper:"appactivityday_ImageWrapper_rRIYi",SpoilerOverlay:"appactivityday_SpoilerOverlay_1oYvb",ActiveScreenshot:"appactivityday_ActiveScreenshot_290Dq",ScreenshotCarousel:"appactivityday_ScreenshotCarousel_1pdQd",TimeStamp:"appactivityday_TimeStamp_3ljAd",ScreenshotCaption:"appactivityday_ScreenshotCaption_23HTp",CarouselThumbs:"appactivityday_CarouselThumbs_1tRKR",CarouselThumb:"appactivityday_CarouselThumb_1Lot-",Active:"appactivityday_Active_n98dr",ScreenshotModalBackground:"appactivityday_ScreenshotModalBackground_yGf3w",HasCaption:"appactivityday_HasCaption_tLc3y",VideoTitle:"appactivityday_VideoTitle_1d0ij",CaptionQuoteContainer:"appactivityday_CaptionQuoteContainer_1iGSG",CaptionQuote:"appactivityday_CaptionQuote_IYDCY",VideoCarousel:"appactivityday_VideoCarousel_dUAJi",ActiveVideo:"appactivityday_ActiveVideo_19rn-",VideoPreview:"appactivityday_VideoPreview_1Zn0s",VideoPreviewPlayLogo:"appactivityday_VideoPreviewPlayLogo_knYdq",PartnerEventPlaceholder:"appactivityday_PartnerEventPlaceholder_23WVg",PartnerEventLargeImage_Container:"appactivityday_PartnerEventLargeImage_Container_Libri",PartnerEventLargeImage_Title:"appactivityday_PartnerEventLargeImage_Title_3fsjz",PartnerEventLargeImage_Contents:"appactivityday_PartnerEventLargeImage_Contents_2tDv0",ImageContainer:"appactivityday_ImageContainer_1XpBI",PartnerEventLargeImage_Image:"appactivityday_PartnerEventLargeImage_Image_fGDsm",Blur:"appactivityday_Blur_3cX_v",PartnerEventLargeImage_Summary:"appactivityday_PartnerEventLargeImage_Summary_3zwBR",PartnerEventLargeImage_TextColumn:"appactivityday_PartnerEventLargeImage_TextColumn_2HzKE",PartnerEventMediumImage:"appactivityday_PartnerEventMediumImage_By7D9",PartnerEventMediumImage_Container:"appactivityday_PartnerEventMediumImage_Container_1HZy7",PartnerEventMediumImage_Title:"appactivityday_PartnerEventMediumImage_Title_1gljE",PartnerEventMediumImage_Contents:"appactivityday_PartnerEventMediumImage_Contents_2gv3E",PartnerEventType:"appactivityday_PartnerEventType_1ujzu",PartnerEventSmallImage_Image:"appactivityday_PartnerEventSmallImage_Image_kEp14",MediumImageContainer:"appactivityday_MediumImageContainer_ddB5G",PartnerEventMediumImage_Image:"appactivityday_PartnerEventMediumImage_Image_VytJz",PartnerEventMediumImage_Summary:"appactivityday_PartnerEventMediumImage_Summary_Ru7OB",PartnerEventMediumImage_TextColumn:"appactivityday_PartnerEventMediumImage_TextColumn_3dJ4B",PartnerEvent:"appactivityday_PartnerEvent_1AYE1",PartnerEventUpdate:"appactivityday_PartnerEventUpdate_fmLfu",PartnerEventLargeUpdate:"appactivityday_PartnerEventLargeUpdate_39Zk3",PartnerEventTextOnly:"appactivityday_PartnerEventTextOnly_3QRf-",PartnerEventTextOnly_Title:"appactivityday_PartnerEventTextOnly_Title_1Cva_",PartnerEventSmallImageAndTextOnly_Container:"appactivityday_PartnerEventSmallImageAndTextOnly_Container_1cTQl",PartnerEventSmallImageAndTextOnly_TextColumn:"appactivityday_PartnerEventSmallImageAndTextOnly_TextColumn_3FBkU",PartnerEventTextOnly_Container:"appactivityday_PartnerEventTextOnly_Container_1wJJQ",PartnerEventTextOnly_Icon:"appactivityday_PartnerEventTextOnly_Icon_1-llQ",PartnerEventTextOnly_TextColumn:"appactivityday_PartnerEventTextOnly_TextColumn_FZghx",PartnerEventTextOnly_LimitedSummary:"appactivityday_PartnerEventTextOnly_LimitedSummary_2OrhE",PartnerEventTextOnly_Time:"appactivityday_PartnerEventTextOnly_Time_ZzN4S",PartnerEventTextOnly_Summary:"appactivityday_PartnerEventTextOnly_Summary_3ZUP3",PartnerEventTextOnly_SubTitle:"appactivityday_PartnerEventTextOnly_SubTitle_1WX1k",PartnerEventTypeUpdate:"appactivityday_PartnerEventTypeUpdate_29bW1",ActivityRecommendedGame:"appactivityday_ActivityRecommendedGame_1-t-G",RecommendationText:"appactivityday_RecommendationText_M0CWY",ReadMoreLink:"appactivityday_ReadMoreLink_3PXtj",GameIcon:"appactivityday_GameIcon_2B8T_",ReviewIcon:"appactivityday_ReviewIcon_gWDyh",ReviewIconThumbsUp:"appactivityday_ReviewIconThumbsUp_2oPMu",ReviewIconThumbsDownBox:"appactivityday_ReviewIconThumbsDownBox_1VDAe",ReviewIconThumbsUpColor:"appactivityday_ReviewIconThumbsUpColor_3AXaY",ReviewIconThumbsDownColor:"appactivityday_ReviewIconThumbsDownColor_1vUp7",ReviewIconVoteColor:"appactivityday_ReviewIconVoteColor_1yQFT",ThumbsDown:"appactivityday_ThumbsDown_3oboj",ThumbsUp:"appactivityday_ThumbsUp_7pd3L",CommentsGroup:"appactivityday_CommentsGroup_1-KuQ",CommentsContainer:"appactivityday_CommentsContainer_3uiPs",CommentsLabel:"appactivityday_CommentsLabel_3t5Nr",CommentCount:"appactivityday_CommentCount_1VRbH",UpVotesIcon:"appactivityday_UpVotesIcon_1yGY_",CommentIcon:"appactivityday_CommentIcon_2Xa07",ReviewText:"appactivityday_ReviewText_3ZTUR",ReviewTextContainer:"appactivityday_ReviewTextContainer_3Jcr-",ReviewDescription:"appactivityday_ReviewDescription_2txLP",PlayedForTime:"appactivityday_PlayedForTime_2r-N9",ReviewMetadata:"appactivityday_ReviewMetadata_2ByGW",WishlistLink:"appactivityday_WishlistLink_3698j",ReviewDescriptionRecommended:"appactivityday_ReviewDescriptionRecommended_1zQfK",TradingCardSection:"appactivityday_TradingCardSection_2IS7Z",TradingCard:"appactivityday_TradingCard_2uUyK",BoosterPack:"appactivityday_BoosterPack_38INR",BadgeSection:"appactivityday_BadgeSection_3G7i5",Badge:"appactivityday_Badge_1zopS",EmptyCircle:"appactivityday_EmptyCircle_3e5oo",BadgeInfo:"appactivityday_BadgeInfo_36fG0",BadgeName:"appactivityday_BadgeName_rmU5g",BadgeLevel:"appactivityday_BadgeLevel_1p820"}},z5gf:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var l=n("mrSG"),r=n("vDqi"),a=n.n(r),i=new(function(){function e(){}return e.prototype.AxiosWrapper=function(o,s,c){return Object(l.b)(this,void 0,void 0,function(){var n,t,r,i,a;return Object(l.e)(this,function(e){switch(e.label){case 0:n=void 0,t=function(e){"steam_auth_completed"==e.data&&n&&n(!0)},window.addEventListener("message",t),e.label=1;case 1:e.trys.push([1,,11,12]),e.label=2;case 2:return[4,o()];case 3:return 16==(r=e.sent()).data.eresult&&0<c.retrycount?(console.log("Ajax request got timeout, retry count",c.retrycount),c.retrycount=c.retrycount-1,c.retrydelayMS?[4,new Promise(function(e){return setTimeout(e,c.retrydelayMS)})]:[3,5]):[3,6];case 4:e.sent(),e.label=5;case 5:return[3,9];case 6:return r.headers["x-notloggedin"]?(console.log(s,"Ajax request not logged in, waiting for auth"),i=new Promise(function(e,t){n=e}),a=new Promise(function(e,t){window.setTimeout(function(){return e(!1)},c.retrydelayMS?c.retrydelayMS:1e3)}),[4,Promise.race([i,a])]):[3,8];case 7:return e.sent()?(console.log(s,"Auth complete, retrying"),[3,9]):(console.error(s,"Auth timed out"),[2,r.data]);case 8:return[2,r.data];case 9:return[3,2];case 10:return[3,12];case 11:return window.removeEventListener("message",t),[7];case 12:return[2]}})})},e.prototype.get=function(n,r){return Object(l.b)(this,void 0,void 0,function(){var t;return Object(l.e)(this,function(e){return r.retrycount,r.retrydelayMS,r.withCredentials,t=Object(l.f)(r,["retrycount","retrydelayMS","withCredentials"]),[2,this.AxiosWrapper(function(){return a.a.get(n,Object(l.a)({withCredentials:!0},t))},n,r)]})})},e.prototype.post=function(n,r,i){return Object(l.b)(this,void 0,void 0,function(){var t;return Object(l.e)(this,function(e){return i.retrycount,i.retrydelayMS,i.withCredentials,t=Object(l.f)(i,["retrycount","retrydelayMS","withCredentials"]),[2,this.AxiosWrapper(function(){return a.a.post(n,r,Object(l.a)({withCredentials:!0},t))},n,i)]})})},e}());window.steamAjaxRequest=i},z7tf:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n("q1tI"),i=r.createContext({}),a=function(){return r.useContext(i)}},zBSo:function(e,t,n){e.exports={PagedSettingsDialog:"pagedsettings_PagedSettingsDialog_2sssI",PagedSettingsDialog_PageContent:"pagedsettings_PagedSettingsDialog_PageContent_CFTLX",PagedSettingsDialog_PageListColumn:"pagedsettings_PagedSettingsDialog_PageListColumn_2kwFF",PagedSettingsDialog_Title:"pagedsettings_PagedSettingsDialog_Title_2rjVT",PagedSettingsDialog_PageList:"pagedsettings_PagedSettingsDialog_PageList_18QCu",PagedSettingsDialog_PageListItem:"pagedsettings_PagedSettingsDialog_PageListItem_1-vlr",DisabledItem:"pagedsettings_DisabledItem_oUzYn",Active:"pagedsettings_Active_2DpXj"}},zZkr:function(e){e.exports=JSON.parse('{"store.steampowered.com":1,"steamtv":2200,"steamclient":5000,"library":5100,"friendsui":5200,"friendcontextmenu":5201,"topsellers":7000,"salecreatorhome":100700,"saleitembrowse":100701,"salefacetbrowse":100702,"salesection":100703,"saletabsection":100704,"salebroadcast":100705,"salecuratorrec":100706,"saleeventsched":100707,"salesubscription":100708,"saleitemsearch":100709,"salesmartwishlist":100710,"salesmartir":100711,"salesmartdlc":100712,"salesmarttagrec":100713,"salebrowsetopwishlisted":100714,"salebrowsetrendingwishlisted":100715,"salebrowsepopularcomingsoon":100716,"salebrowsemostplayeddemo":100717,"salebrowsedailyactiveuserdemo":100718,"salebrowseplayednowdemo":100719,"salebrowserecentlyreleased":100720,"salebrowsepopularpurchased":100721,"salebrowsepopularpurchaseddiscounted":100722,"salebrowsediscounted":100723,"salebrowseprice":100724}')},zvcZ:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return h});var i=n("mrSG"),s=n("q1tI"),c=n("a5LV"),l=n("Gorr"),u=n("TOXn"),o=n("lkRc"),p=n("IzPI"),r=n("nrKv");function a(e,t){var n=Object(p.b)(e).toLowerCase(),r=Object(p.b)(o.c.COMMUNITY_BASE_URL).toLowerCase(),i=Object(p.b)(o.c.STORE_BASE_URL).toLowerCase(),a=Object(p.b)(o.c.PARTNER_BASE_URL||"").toLowerCase();return n!==r&&n!==i&&n!==a&&(!t||0==t.filter(function(e){return n==e}).length)}var d=function(c){function e(e,t,n,r){var i=c.call(this,e)||this;return i.m_LinkFilter=new RegExp('((?:(?:https?:)|(?:www[.,])|(?:[!#-;=?-Z\\\\^-~]+[\\.,](?:(?:[a-zA-Z]{2,4}[\\.?]*[/\\\\?#])|(?:(?:biz|com|gallery|in|name|net|online|org|tech|trade|xyz)(?=\\W|$)))))(?:[^ː\\s"<>\\[\\]]*[^\\s"<>\\[\\],.ː:])?)'),i.m_parentNode=void 0,i.m_parentNode=t,i.m_mapHostToComponent=n,i.m_globalStoreLink=r,i}return Object(i.d)(e,c),e.prototype.AppendText=function(e,t){void 0===t&&(t=!1);var n=e;if(t&&(null==this.m_parentNode||"img"!=this.m_parentNode.tag))for(var r,i=this.m_LinkFilter.exec(n);i;){0<i.index&&(r=i.input.substr(0,i.index),c.prototype.AppendText.call(this,r,t));var a=i[0],o=!1;if(this.m_mapHostToComponent)for(var s=0;s<this.m_mapHostToComponent.length;++s)if(this.m_mapHostToComponent[s].urlRegExp.exec(a)){o=!0,c.prototype.AppendNode.call(this,this.m_mapHostToComponent[s].fnBBComponent(a,this.m_globalStoreLink));break}o||c.prototype.AppendNode.call(this,Object(u.c)(a)),n=i.input.substr(i.index+a.length),i=this.m_LinkFilter.exec(n)}0<n.length&&c.prototype.AppendText.call(this,n,t)},e}(r.a),m=function(o){function e(){var e=null!==o&&o.apply(this,arguments)||this;return e.m_EmoteFilter=new RegExp("[ː:]([a-zA-Z0-9_]+)[ː:]"),e}return Object(i.d)(e,o),e.prototype.AppendText=function(e,t){void 0===t&&(t=!1);var n=e;if(3<=e.length)for(var r,i=this.m_EmoteFilter.exec(n);i;){0<i.index&&(r=i.input.substr(0,i.index),o.prototype.AppendText.call(this,r,t));var a=i[1];o.prototype.AppendNode.call(this,s.createElement(l.b,{emoticonHoverStore:c.b,emoticon:a},[])),n=i.input.substr(i.index+a.length+2),i=this.m_EmoteFilter.exec(n)}0<n.length&&o.prototype.AppendText.call(this,n,t)},e}(r.a),h=function(r){function e(e,t){var n=r.call(this,e)||this;return n.m_parentNode=void 0,n.m_parentNode=t,n}return Object(i.d)(e,r),e.prototype.AppendText=function(e,t){void 0===t&&(t=!1);var n=e;this.m_parentNode&&"img"==this.m_parentNode.tag&&(n=Object(p.f)(n)),r.prototype.AppendText.call(this,n,t)},e}(r.a)}}]);
//# sourceMappingURL=libraryroot.js.map